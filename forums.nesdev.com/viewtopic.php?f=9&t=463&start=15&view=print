<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - FunkyFlashCart project</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">FunkyFlashCart project</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=9&amp;t=463">http://forums.nesdev.com/viewtopic.php?f=9&amp;t=463</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>2</strong> of <strong>9</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Thu Aug 04, 2005 1:22 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Cool !
<br />Now you're able to emulate all "simple" mappers, but not MMC5 and stuff, but this is probabily enough to be great. Very interesting. I hope you'll be able to run most of games that doesn't run right now.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>drk421</b> [ Thu Aug 04, 2005 7:40 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />UNROM shouldn't be a problem, because it uses off the shelf parts, as does AOROM, ANROM and CNROM.
<br />
<br />BTW, have you tried getting CNROM or A*ROM going?
<br />
<br />I can't wait to see MMC1 working!
<br />
<br />Great work!

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>drk421</b> [ Thu Aug 04, 2005 7:46 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />There are very few MMC5 games that I'd consider worth playing.
<br />Among them are Just Breed (eng. translation), Uncharted Waters,  and Castlevania 3 (which I prefer to have the superior VRC6 version).
<br />
<br />MMC5 would be nice to have, but MMC1 and MMC3 have a far greater amount of games.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>artoh</b> [ Thu Aug 04, 2005 8:56 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">drk421 wrote:</div><div class="quotecontent">UNROM shouldn't be a problem, because it uses off the shelf parts, as does AOROM, ANROM and CNROM.<br />BTW, have you tried getting CNROM or A*ROM going?<br />I can't wait to see MMC1 working!<br />Great work!</div>
<br />
<br />Haven't tried CNROM or A*ROM yet... now trying to get MMC1 (Zelda2) working before doing anything else <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /> .. I also made a PC program, that can read the NES program counter, current rom address, data byte and the chip selects while the device is running (by using JTAG SAMPLE instruction)... Very valuable debug tool for testing different mappers and seeing where they crash and are they running in the correct bank.
<br />
<br />The developing is slow at the moment, because ROM burning is very slow now (takes 2,5 hours to burn a 256KB game). I fought with MMC1 for a while until I decided to read the Zelda2 ROM back and saw that it's half empty.. I'll make a PIC cable later that can send burning commands to the FLASH thru the CPLD faster.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Thu Aug 04, 2005 11:50 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">drk421 wrote:</div><div class="quotecontent">There are very few MMC5 games that I'd consider worth playing.<br />Among them are Just Breed (eng. translation), Uncharted Waters,  and Castlevania 3 (which I prefer to have the superior VRC6 version).<br /></div>
<br />Didn't <strong>YOU</strong> made a Just Breed card running on the real NES ?!? You reallly shouldn't complain lucky man. I'm now right to finish the game, and the several remaining battles are incredibly hard. I hope I'll be able to finish it. (I use no save states).
<br />
<br />2,5 hours for a 256kb game, this is really long. However, I'm glad to see MMC1 working (it should be more complicated than MMC3 with it's internal 5-bit buffer, isn't it ?).
<br />About the MMC5, if the MMC3 uses 82% of the CPLD's capacity, the MMC5 would be arround 698%

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Jagasian</b> [ Fri Aug 05, 2005 9:59 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">drk421 wrote:</div><div class="quotecontent">There are very few MMC5 games that I'd consider worth playing.<br />Among them are Just Breed (eng. translation), Uncharted Waters,  and Castlevania 3 (which I prefer to have the superior VRC6 version).<br /><br />MMC5 would be nice to have, but MMC1 and MMC3 have a far greater amount of games.</div>
<br />
<br />It sounds like the FunkyFlash hardware should be able to support 90% of the entire NES and Famicom game library.  The mappers it can't support only have a small number of games that use them.  Hence a person could simply buy the actual carts that are not supported by the FunkyFlash cart.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>kyuusaku</b> [ Fri Aug 05, 2005 6:41 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />More like 99%. I'd be happy to implement some MMC myself, would like to do Konami ones but haven't found sufficient information and I'd rather not resort to emulator source. I've already got a Xilinx CPLD NES setup (XC95108 :\) so shouldn't be too hard to port them to the FunkyFlash.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Guest</b> [ Fri Aug 05, 2005 6:48 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />sounds like macrocell envy <img src="./images/smilies/icon_wink.gif" alt=";)" title="Wink" />
<br />
<br />I've only got 64 to work with, but I'm still waiting for my flash programmer or devkit pcbs to arrive before I can test out the cartridge pcbs.  I'm this ----&gt;| |&lt;---- close to building a flash programmer out of a PIC and some shift registers for the address latching.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>kyuusaku</b> [ Fri Aug 05, 2005 7:24 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Yeah it's true, I am pretty disappointed that MMC3 likely won't fit into my CPLD, at least without complex manual routing. I also have an assortment of Altera 7128s but apparently Altera LEs can implement less logic in each element *sigh* There should really be no problems implementing any "mappers" with the 95144 since someone successfully implemented every non-MMC5 in a 144 macrocell XC3042 (1989) FPGA, I only wish I could derive equations from the fusemaps!

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>artoh</b> [ Fri Aug 05, 2005 11:29 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">kyuusaku wrote:</div><div class="quotecontent">More like 99%. I'd be happy to implement some MMC myself, would like to do Konami ones but haven't found sufficient information and I'd rather not resort to emulator source. I've already got a Xilinx CPLD NES setup (XC95108 :\) so shouldn't be too hard to port them to the FunkyFlash.</div><br />I'd really love to have help with the mappers, because I am scared I'll have to make all of them myself <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /> And it will be a free project after all. Yep, your work would be very easy to port! I just can't get my MMC1 work properly <img src="./images/smilies/icon_wink.gif" alt=";)" title="Wink" /><br /><br /><div class="quotetitle">Guest wrote:</div><div class="quotecontent">sounds like macrocell envy <img src="./images/smilies/icon_wink.gif" alt=";)" title="Wink" /><br />I've only got 64 to work with, but I'm still waiting for my flash programmer or devkit pcbs to arrive before I can test out the cartridge pcbs. I'm this ----&gt;| |&lt;---- close to building a flash programmer out of a PIC and some shift registers for the address latching.</div><br />I think almost all (if not all) CPLDs and FPGAs work as a gigantic shift register. They have 3 bits per input/output pin.... (Tristate/Output/Input).. All the ROM address lines, data lines and control pins are connected to the CPLD in my project (because it has so many pins).<br /><br />By clocking the shift register from the parallel port, I can program the ROMs. It is quite slow, though because the register is 432 bits and my current ROM chips need 4 commands per write.. And also the WR pin from LOW-&gt;HIGH so that is 432*2*4=3456 writes to the parallel port / written byte... With the DLPortIO driver I can write 100000 times / second to the port.. So that is 100000/3456 = Around 29 bytes / second !<br /><br /><div class="quotetitle">kyuusaku wrote:</div><div class="quotecontent">Yeah it's true, I am pretty disappointed that MMC3 likely won't fit into my CPLD, at least without complex manual routing.<br /></div>
<br />Yep, I had a XC95108 before.. and I was hoping I could make the project with it, but I soon noticed it won't fit a MMC3, which was my goal.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>kyuusaku</b> [ Sat Aug 06, 2005 6:37 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I really want to use a PLCC device too :( I think I may go track down some XCS10s

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Jagasian</b> [ Sat Aug 06, 2005 8:32 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Artoh, why don't you go ahead and print circuit boards and sell them, so that other people can help add support for more mappers?  That way there are no issues with porting from one hardware setup to another.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Guest</b> [ Sat Aug 06, 2005 12:47 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">kyuusaku wrote:</div><div class="quotecontent">I really want to use a PLCC device too <img src="./images/smilies/icon_sad.gif" alt=":(" title="Sad" /> I think I may go track down some XCS10s<br /></div><br /><br />I was really hoping I could use the 108 in my project so most of the people wouldn't be scared of building one.. But the QFP package isn't that bad after all. First time in my life I soldered one and it worked instantly. The secret is to use a lot of flux. First attach the IC from two opposite corners and then apply flux from a bottle to all of the pins. Put a big blob of solder on your iron tip and swipe it thru all the pins (while pressing the IC down to the board). Then there will be 2-3 shorts and they can be taken off with desoldering braid. I didn't use any microscope or a magnifying glass, just my bare eyes. Takes just 5 minutes to solder it. A quality PCB will help a lot with the solder job.<br /><br /><div class="quotetitle">Jagasian wrote:</div><div class="quotecontent">Artoh, why don't you go ahead and print circuit boards and sell them, so that other people can help add support for more mappers?  That way there are no issues with porting from one hardware setup to another.</div>
<br />
<br />I'll have to make a few corrections to the board first (see the jumper wires).. And then there is a problem with the DS1210-chip.. It's the cause for the glitch blocks in SMB3 because if I override it with jumper wires, the glitches are gone. I ordered a DS1218 sample, and I'll try it instead, it should be faster. The first board will be expensive (a $58 set up fee) or something, but boards after that should be cheap. I'll order few PCBs soon and I am ready to sell few of them to people who want to try building one.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Guest</b> [ Sat Aug 06, 2005 12:49 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />(it was me)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>artoh</b> [ Sat Aug 06, 2005 12:50 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />it was me.. forgot to log in <img src="./images/smilies/icon_razz.gif" alt=":P" title="Razz" />
<br />
<br />Edits:
<br />-Super Mario Bros 2 (E) works now along with SMB3. Silver Surfer too.
<br />-Also AMROM (Super Off Road) and AOROM (Battletoads) working.
<br />-Kirby too (with the save feature!)
<br />-All the glitchy blocks are gone now too (was a memory CS prob).
<br />-MMC3 IRQs work now very well, if not perfect. (waits the A12 line to be low for a while, then decreases counter on a rising edge)
<br />-MMC3 takes now 127 macrocells..

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>2</strong> of <strong>9</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>