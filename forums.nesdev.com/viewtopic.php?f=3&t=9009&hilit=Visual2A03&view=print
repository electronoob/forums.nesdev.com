<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - DMC DMA during sprite DMA on Visual2A03</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">DMC DMA during sprite DMA on Visual2A03</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=3&amp;t=9009">http://forums.nesdev.com/viewtopic.php?f=3&amp;t=9009</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>cpow</b> [ Wed Jun 13, 2012 9:57 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>DMC DMA during sprite DMA on <span class="posthilit">Visual2A03</span></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Using the <span class="posthilit">Visual2A03</span> and about three hours on my computer to process &gt;1000 CPU cycles, I was able to create a program that started a DMC sample which required fetching a new byte coincident with an in-progress sprite DMA.
<br />
<br />The <span class="posthilit">Visual2A03</span> <a href="http://www.qmtpro.com/~nes/chipimages/visual2a03/expert.html?a=fffe&amp;d=40&amp;a=fffc&amp;d=0&amp;a=0&amp;d=58a9c08d1740a9018d1340a98f8d1040a9108d1540a9018d14408d144010fe&amp;logmore=c_rdy" class="postlink">'program'</a>
<br />
<br />Equivalent code:
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">.org 0<br />CLI<br />LDA #$C0<br />STA $4017<br />LDA #$01<br />STA $4013<br />LDA #$8F<br />STA $4010<br />LDA #$10<br />STA $4015<br />LDA #$01<br />STA $4014<br />STA $4014<br />forever: BPL forever<br /></div><br />As I was going through this I first thought I'd only need to wait for one sprite DMA completion since the DMC is set for a period of 54 cycles per bit or 432 cycles between DMAs.  That turned out not to be the case because I forgot that I would have to wait both the currently-in-progress 'silence' byte and my newly DMA'd first byte to pass through the DMC output stage before the DMC would fetch another byte using DMA.  I decided to just do two back-to-back sprite DMAs, rather than play with other code to delay a single sprite DMA.<br /><br />Here is the log output from the <span class="posthilit">Visual2A03</span> 'program'...cut down significantly.  The interesting cycle is cycle 822.  This log shows that the DMC DMA happens *right in the middle of* the sprite DMA without one impacting the other in any way [sprite data and DMC data are not 'clobbered'].  Cycle 823 is the CPU driving the address bus for one cycle, presumably because the sprite DMA logic needs two cycles per transfer, and since it was held off, it has nothing to put on the bus until cycle 824. <br /><br />Another interesting thing...I'd read that the DMC DMA always takes 4 cycles.  But starting at cycle 38 c_rdy (the internal RDY to the 6502) is pulled low and the CPU is held off for what appears to be 3 cycles with the DMC fetch from $C000 being the last of the three.  [Not 4?]<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">cycle&nbsp; &nbsp;ab&nbsp; &nbsp;db&nbsp; &nbsp;rw&nbsp; &nbsp;Fetch&nbsp; &nbsp;pc&nbsp; &nbsp;a&nbsp; &nbsp;x&nbsp; &nbsp;y&nbsp; &nbsp;s&nbsp; &nbsp;p&nbsp; &nbsp;c_rdy<br />31&nbsp; &nbsp;0012&nbsp; &nbsp;8d&nbsp; &nbsp;1&nbsp; &nbsp;STA Abs&nbsp; &nbsp;0012&nbsp; &nbsp;10&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />31&nbsp; &nbsp;0012&nbsp; &nbsp;8d&nbsp; &nbsp;1&nbsp; &nbsp;STA Abs&nbsp; &nbsp;0012&nbsp; &nbsp;10&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />32&nbsp; &nbsp;0013&nbsp; &nbsp;15&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;0013&nbsp; &nbsp;10&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />32&nbsp; &nbsp;0013&nbsp; &nbsp;15&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;0013&nbsp; &nbsp;10&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />33&nbsp; &nbsp;0014&nbsp; &nbsp;40&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;0014&nbsp; &nbsp;10&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />33&nbsp; &nbsp;0014&nbsp; &nbsp;40&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;0014&nbsp; &nbsp;10&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />34&nbsp; &nbsp;4015&nbsp; &nbsp;40&nbsp; &nbsp;0&nbsp; &nbsp;&nbsp; &nbsp;0015&nbsp; &nbsp;10&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />34&nbsp; &nbsp;4015&nbsp; &nbsp;10&nbsp; &nbsp;0&nbsp; &nbsp;&nbsp; &nbsp;0015&nbsp; &nbsp;10&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />35&nbsp; &nbsp;0015&nbsp; &nbsp;a9&nbsp; &nbsp;1&nbsp; &nbsp;LDA #&nbsp; &nbsp;0015&nbsp; &nbsp;10&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />35&nbsp; &nbsp;0015&nbsp; &nbsp;a9&nbsp; &nbsp;1&nbsp; &nbsp;LDA #&nbsp; &nbsp;0015&nbsp; &nbsp;10&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />36&nbsp; &nbsp;0016&nbsp; &nbsp;01&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;0016&nbsp; &nbsp;10&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />36&nbsp; &nbsp;0016&nbsp; &nbsp;01&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;0016&nbsp; &nbsp;10&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />37&nbsp; &nbsp;0017&nbsp; &nbsp;8d&nbsp; &nbsp;1&nbsp; &nbsp;STA Abs&nbsp; &nbsp;0017&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />37&nbsp; &nbsp;0017&nbsp; &nbsp;8d&nbsp; &nbsp;1&nbsp; &nbsp;STA Abs&nbsp; &nbsp;0017&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />38&nbsp; &nbsp;0018&nbsp; &nbsp;14&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;0018&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />38&nbsp; &nbsp;0018&nbsp; &nbsp;14&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;0018&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />39&nbsp; &nbsp;0018&nbsp; &nbsp;14&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;0019&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />39&nbsp; &nbsp;0018&nbsp; &nbsp;14&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;0019&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />40&nbsp; &nbsp;c000&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;0019&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />40&nbsp; &nbsp;c000&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;0019&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />41&nbsp; &nbsp;0018&nbsp; &nbsp;14&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;0019&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />41&nbsp; &nbsp;0018&nbsp; &nbsp;14&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;0019&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />42&nbsp; &nbsp;0019&nbsp; &nbsp;40&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;0019&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />42&nbsp; &nbsp;0019&nbsp; &nbsp;40&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;0019&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />43&nbsp; &nbsp;4014&nbsp; &nbsp;40&nbsp; &nbsp;0&nbsp; &nbsp;&nbsp; &nbsp;001a&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />43&nbsp; &nbsp;4014&nbsp; &nbsp;01&nbsp; &nbsp;0&nbsp; &nbsp;&nbsp; &nbsp;001a&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />44&nbsp; &nbsp;001a&nbsp; &nbsp;8d&nbsp; &nbsp;1&nbsp; &nbsp;STA Abs&nbsp; &nbsp;001a&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />44&nbsp; &nbsp;001a&nbsp; &nbsp;8d&nbsp; &nbsp;1&nbsp; &nbsp;STA Abs&nbsp; &nbsp;001a&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />45&nbsp; &nbsp;001a&nbsp; &nbsp;8d&nbsp; &nbsp;1&nbsp; &nbsp;STA Abs&nbsp; &nbsp;001b&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />45&nbsp; &nbsp;001a&nbsp; &nbsp;8d&nbsp; &nbsp;1&nbsp; &nbsp;STA Abs&nbsp; &nbsp;001b&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />46&nbsp; &nbsp;0100&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001b&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />46&nbsp; &nbsp;0100&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001b&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />47&nbsp; &nbsp;2004&nbsp; &nbsp;00&nbsp; &nbsp;0&nbsp; &nbsp;BRK&nbsp; &nbsp;001b&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />47&nbsp; &nbsp;2004&nbsp; &nbsp;00&nbsp; &nbsp;0&nbsp; &nbsp;BRK&nbsp; &nbsp;001b&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />48&nbsp; &nbsp;0101&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001b&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />48&nbsp; &nbsp;0101&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001b&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />49&nbsp; &nbsp;2004&nbsp; &nbsp;00&nbsp; &nbsp;0&nbsp; &nbsp;BRK&nbsp; &nbsp;001b&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />49&nbsp; &nbsp;2004&nbsp; &nbsp;00&nbsp; &nbsp;0&nbsp; &nbsp;BRK&nbsp; &nbsp;001b&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />50&nbsp; &nbsp;0102&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001b&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />50&nbsp; &nbsp;0102&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001b&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />51&nbsp; &nbsp;2004&nbsp; &nbsp;00&nbsp; &nbsp;0&nbsp; &nbsp;BRK&nbsp; &nbsp;001b&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />51&nbsp; &nbsp;2004&nbsp; &nbsp;00&nbsp; &nbsp;0&nbsp; &nbsp;BRK&nbsp; &nbsp;001b&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />...<br />554&nbsp; &nbsp;01fe&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001b&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />554&nbsp; &nbsp;01fe&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001b&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />555&nbsp; &nbsp;2004&nbsp; &nbsp;00&nbsp; &nbsp;0&nbsp; &nbsp;BRK&nbsp; &nbsp;001b&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />555&nbsp; &nbsp;2004&nbsp; &nbsp;00&nbsp; &nbsp;0&nbsp; &nbsp;BRK&nbsp; &nbsp;001b&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />556&nbsp; &nbsp;01ff&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001b&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />556&nbsp; &nbsp;01ff&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001b&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />557&nbsp; &nbsp;2004&nbsp; &nbsp;00&nbsp; &nbsp;0&nbsp; &nbsp;BRK&nbsp; &nbsp;001b&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />557&nbsp; &nbsp;2004&nbsp; &nbsp;00&nbsp; &nbsp;0&nbsp; &nbsp;BRK&nbsp; &nbsp;001b&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />558&nbsp; &nbsp;001a&nbsp; &nbsp;8d&nbsp; &nbsp;1&nbsp; &nbsp;STA Abs&nbsp; &nbsp;001b&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />558&nbsp; &nbsp;001a&nbsp; &nbsp;8d&nbsp; &nbsp;1&nbsp; &nbsp;STA Abs&nbsp; &nbsp;001b&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />559&nbsp; &nbsp;001b&nbsp; &nbsp;14&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;001b&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />559&nbsp; &nbsp;001b&nbsp; &nbsp;14&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;001b&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />560&nbsp; &nbsp;001c&nbsp; &nbsp;40&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;001c&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />560&nbsp; &nbsp;001c&nbsp; &nbsp;40&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;001c&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />561&nbsp; &nbsp;4014&nbsp; &nbsp;40&nbsp; &nbsp;0&nbsp; &nbsp;&nbsp; &nbsp;001d&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />561&nbsp; &nbsp;4014&nbsp; &nbsp;01&nbsp; &nbsp;0&nbsp; &nbsp;&nbsp; &nbsp;001d&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />562&nbsp; &nbsp;001d&nbsp; &nbsp;10&nbsp; &nbsp;1&nbsp; &nbsp;BPL &nbsp; &nbsp;001d&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />562&nbsp; &nbsp;001d&nbsp; &nbsp;10&nbsp; &nbsp;1&nbsp; &nbsp;BPL &nbsp; &nbsp;001d&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />563&nbsp; &nbsp;001d&nbsp; &nbsp;10&nbsp; &nbsp;1&nbsp; &nbsp;BPL &nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />563&nbsp; &nbsp;001d&nbsp; &nbsp;10&nbsp; &nbsp;1&nbsp; &nbsp;BPL &nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />564&nbsp; &nbsp;0100&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />564&nbsp; &nbsp;0100&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />565&nbsp; &nbsp;2004&nbsp; &nbsp;00&nbsp; &nbsp;0&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />565&nbsp; &nbsp;2004&nbsp; &nbsp;00&nbsp; &nbsp;0&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />566&nbsp; &nbsp;0101&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />566&nbsp; &nbsp;0101&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />567&nbsp; &nbsp;2004&nbsp; &nbsp;00&nbsp; &nbsp;0&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />567&nbsp; &nbsp;2004&nbsp; &nbsp;00&nbsp; &nbsp;0&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />...<br />818&nbsp; &nbsp;017f&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />818&nbsp; &nbsp;017f&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />819&nbsp; &nbsp;2004&nbsp; &nbsp;00&nbsp; &nbsp;0&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />819&nbsp; &nbsp;2004&nbsp; &nbsp;00&nbsp; &nbsp;0&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />820&nbsp; &nbsp;0180&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />820&nbsp; &nbsp;0180&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />821&nbsp; &nbsp;2004&nbsp; &nbsp;00&nbsp; &nbsp;0&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />821&nbsp; &nbsp;2004&nbsp; &nbsp;00&nbsp; &nbsp;0&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />822&nbsp; &nbsp;c001&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />822&nbsp; &nbsp;c001&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />823&nbsp; &nbsp;001d&nbsp; &nbsp;10&nbsp; &nbsp;1&nbsp; &nbsp;BPL &nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />823&nbsp; &nbsp;001d&nbsp; &nbsp;10&nbsp; &nbsp;1&nbsp; &nbsp;BPL &nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />824&nbsp; &nbsp;0181&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />824&nbsp; &nbsp;0181&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />825&nbsp; &nbsp;2004&nbsp; &nbsp;00&nbsp; &nbsp;0&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />825&nbsp; &nbsp;2004&nbsp; &nbsp;00&nbsp; &nbsp;0&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />826&nbsp; &nbsp;0182&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />826&nbsp; &nbsp;0182&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />827&nbsp; &nbsp;2004&nbsp; &nbsp;00&nbsp; &nbsp;0&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />827&nbsp; &nbsp;2004&nbsp; &nbsp;00&nbsp; &nbsp;0&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />...<br />1074&nbsp; &nbsp;01fe&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />1074&nbsp; &nbsp;01fe&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />1075&nbsp; &nbsp;2004&nbsp; &nbsp;00&nbsp; &nbsp;0&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />1075&nbsp; &nbsp;2004&nbsp; &nbsp;00&nbsp; &nbsp;0&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />1076&nbsp; &nbsp;01ff&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />1076&nbsp; &nbsp;01ff&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />1077&nbsp; &nbsp;2004&nbsp; &nbsp;00&nbsp; &nbsp;0&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />1077&nbsp; &nbsp;2004&nbsp; &nbsp;00&nbsp; &nbsp;0&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />1078&nbsp; &nbsp;001d&nbsp; &nbsp;10&nbsp; &nbsp;1&nbsp; &nbsp;BPL &nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />1078&nbsp; &nbsp;001d&nbsp; &nbsp;10&nbsp; &nbsp;1&nbsp; &nbsp;BPL &nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />1079&nbsp; &nbsp;001e&nbsp; &nbsp;fe&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />1079&nbsp; &nbsp;001e&nbsp; &nbsp;fe&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />1080&nbsp; &nbsp;001f&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;001f&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />1080&nbsp; &nbsp;001f&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;001f&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />1081&nbsp; &nbsp;001d&nbsp; &nbsp;10&nbsp; &nbsp;1&nbsp; &nbsp;BPL &nbsp; &nbsp;001d&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />1081&nbsp; &nbsp;001d&nbsp; &nbsp;10&nbsp; &nbsp;1&nbsp; &nbsp;BPL &nbsp; &nbsp;001d&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />1082&nbsp; &nbsp;001e&nbsp; &nbsp;fe&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />1082&nbsp; &nbsp;001e&nbsp; &nbsp;fe&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />1083&nbsp; &nbsp;001f&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;001f&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />1083&nbsp; &nbsp;001f&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;001f&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br /></div>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>cpow</b> [ Tue Jun 19, 2012 10:51 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: DMC DMA during sprite DMA on <span class="posthilit">Visual2A03</span></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">cpow wrote:</div><div class="quotecontent">...</div>
<br />Forever Alone?   <img src="./images/smilies/icon_sad.gif" alt=":(" title="Sad" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dwedit</b> [ Tue Jun 19, 2012 11:37 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />You need to annotate the long tables of numbers, say what's significant and why.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>cpow</b> [ Tue Jun 19, 2012 11:41 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Dwedit wrote:</div><div class="quotecontent">You need to annotate the long tables of numbers, say what's significant and why.</div><br />My annotation was above the long table.   <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /> <br /><br /><div class="quotetitle">cpow wrote:</div><div class="quotecontent">The interesting cycle is cycle 822. This log shows that the DMC DMA happens *right in the middle of* the sprite DMA without one impacting the other in any way [sprite data and DMC data are not 'clobbered']. Cycle 823 is the CPU driving the address bus for one cycle, presumably because the sprite DMA logic needs two cycles per transfer, and since it was held off, it has nothing to put on the bus until cycle 824.<br /><br />Another interesting thing...I'd read that the DMC DMA always takes 4 cycles. But starting at cycle 38 c_rdy (the internal RDY to the 6502) is pulled low and the CPU is held off for what appears to be 3 cycles with the DMC fetch from $C000 being the last of the three. [Not 4?]<br /></div>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dwedit</b> [ Tue Jun 19, 2012 11:55 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I heard from that other thread that DMC DMA takes 4 cycles normally, 3 if it happens on a CPU write cycle, and 2 if it happens during sprite DMA.  Seems consistent with Blargg's tests.  Then a couple of other rare cases where it happens on the last or second-last cycle of Sprite DMA.
<br />
<br />But games generally don't care if you don't emulate DMC cycle theft.  Even games that are picky about the DMC channel working correctly (Fire Hawk, Mig 29 Soviet Fighter) run with no glitches if the DMC channel isn't stealing any cycles.
<br />
<br />Konami games on the other hand need DMC cycle theft to be accurate.   Konami games use a random number generator that repeatedly runs until Vlbank happens.  So any cycle that's wrong will give a different RNG result.
<br />
<br />Now we just need to find the initial state of the DMC counters.  I suspect it is random.  I base that on the demo of Blades of Steel.  It plays differently every time you power on the NES.  Since DMC cycle theft works differently depending on whether or not it hits a CPU write cycle, that can throw off the RNG easily.  An inconsistent PPU starting state will also throw off the demo, so it's hard to tell why the game is so unpredictable.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>jwdonal</b> [ Tue Jun 19, 2012 9:17 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">cpow wrote:</div><div class="quotecontent">This log shows that the DMC DMA happens *right in the middle of* the sprite DMA without one impacting the other in any way [sprite data and DMC data are not 'clobbered'].</div>
<br />I must be misunderstanding what you're saying.  The CPU cannot possibly read two different addresses at the same time.  The CPU only has one address bus.  So obviously one of them has to get clobbered. I agree that neither of the operations is "stalled" if that's what you meant (which was discovered in <a href="http://nesdev.com/bbs/viewtopic.php?t=6100" class="postlink">this</a> thread), but only _one_ of the addresses (either sprite address or DMC address) can be driven on the CPU's address bus. You can't have both. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /> So either the DMC read gets sprite data or the sprite read gets DMC data. Those are your only choices.
<br />
<br />Can you clarify what you meant?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dwedit</b> [ Tue Jun 19, 2012 9:33 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />No clobbering anywhere, sprite DMA just gets interrupted to do the DMC DMA.
<br />
<br />But let's see here...
<br />Sprite DMA begins reading bytes at cycle 564 and finishes before cycle 1078.
<br />514 cycles total.  So that's 256 reads due to sprite DMA, 256 writes due to sprite DMA, one read due to DMC, and one dummy read at address 1D (program counter) for some reason.
<br />So <span class="posthilit">Visual2A03</span> says it gets interrupted in the middle of the sprite DMA transfer.  Nothing gets corrupted.  All reads and writes happen properly.  Just one extra read at the program counter.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Wed Jun 20, 2012 4:25 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Interesting. Can you get two DMC DMAs to happen during one sprite DMA using playback speed $F? I'd love to be able to close this out by leaving it at "Each DMC DMA extends sprite DMA by two cycles", but I need this one final validation before I can commit to that wording.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>cpow</b> [ Wed Jun 20, 2012 6:12 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Dwedit wrote:</div><div class="quotecontent">No clobbering anywhere, sprite DMA just gets interrupted to do the DMC DMA.</div><br />Exactly.  That's why I got excited. <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" />  I'd only ever seen it assumed that one or the other gets clobbered.  Not true!<br /><div class="quotetitle">Dwedit wrote:</div><div class="quotecontent">But let's see here...<br />and one dummy read at address 1D (program counter) for some reason.<br /></div><br />Probably because, like I said in the other thread, the sprite DMA read/write/read/write beat is maintained since it is still going on, but the DMC DMA only needs to read, so when it's done with its read in the cycle where the sprite DMA would have done a read, there's nothing for either of the two 'controllers' to do in the next bus cycle, so the bus is yielded back to the CPU which puts out its last address as a read.  Most likely due to <a href="http://www.qmtpro.com/~nes/chipimages/visual2a03?nosim=t&amp;panx=263.3&amp;pany=411.1&amp;zoom=12.8" class="postlink">these transistors (centered in the image)</a> which control which of the internal AB's go to the AB pins on the 2A03.  [If you click on some of the lines around there you'll find ab_use_spr_w, ab_use_spr_r, ab_use_pcm, ab_use_cpu].<br /><div class="quotetitle">Dwedit wrote:</div><div class="quotecontent">So <span class="posthilit">Visual2A03</span> says it gets interrupted in the middle of the sprite DMA transfer.  Nothing gets corrupted.  All reads and writes happen properly.  Just one extra read at the program counter.</div> <br />Correct.<br /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">Interesting. Can you get two DMC DMAs to happen during one sprite DMA using playback speed $F? I'd love to be able to close this out by leaving it at &quot;Each DMC DMA extends sprite DMA by two cycles&quot;, but I need this one final validation before I can commit to that wording.</div><br />I'll work on that.  Should be fairly easy.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>cpow</b> [ Wed Jun 20, 2012 7:19 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The following <span class="posthilit">Visual2A03</span> <a href="http://www.qmtpro.com/~nes/chipimages/visual2a03/expert.html?a=fffe&amp;d=40&amp;a=fffc&amp;d=0&amp;a=200&amp;d=a0a1a2a3a4a5a6a7a8a9aaabacadaeafa0a1a2a3a4a5a6a7a8a9aaabacadaeaf&amp;a=2c0&amp;d=a0a1a2a3a4a5a6a7a8a9aaabacadaeafa0a1a2a3a4a5a6a7a8a9aaabacadaeaf&amp;a=c000&amp;d=e0e1e2e3&amp;a=0&amp;d=58a9c08d1740a9018d1340a98f8d1040a9108d1540a9028d1440eaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaea8d144010fe&amp;logmore=c_rdy" class="postlink">program</a> was used to capture sprite DMA being interrupted by two consecutive DMC DMA fetches at DMC period $F.  Here's the relevant portions of the logged output:
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">cycle&nbsp; &nbsp;ab&nbsp; &nbsp;db&nbsp; &nbsp;rw&nbsp; &nbsp;Fetch&nbsp; &nbsp;pc&nbsp; &nbsp;a&nbsp; &nbsp;x&nbsp; &nbsp;y&nbsp; &nbsp;s&nbsp; &nbsp;p&nbsp; &nbsp;c_rdy<br />820&nbsp; &nbsp;0200&nbsp; &nbsp;a0&nbsp; &nbsp;1&nbsp; &nbsp;LDY #&nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />820&nbsp; &nbsp;0200&nbsp; &nbsp;a0&nbsp; &nbsp;1&nbsp; &nbsp;LDY #&nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />821&nbsp; &nbsp;2004&nbsp; &nbsp;a0&nbsp; &nbsp;0&nbsp; &nbsp;LDY #&nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />821&nbsp; &nbsp;2004&nbsp; &nbsp;a0&nbsp; &nbsp;0&nbsp; &nbsp;LDY #&nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />822&nbsp; &nbsp;c001&nbsp; &nbsp;e1&nbsp; &nbsp;1&nbsp; &nbsp;SBC &#40;zp,X&#41;&nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />822&nbsp; &nbsp;c001&nbsp; &nbsp;e1&nbsp; &nbsp;1&nbsp; &nbsp;SBC &#40;zp,X&#41;&nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />823&nbsp; &nbsp;009d&nbsp; &nbsp;10&nbsp; &nbsp;1&nbsp; &nbsp;BPL &nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />823&nbsp; &nbsp;009d&nbsp; &nbsp;10&nbsp; &nbsp;1&nbsp; &nbsp;BPL &nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />824&nbsp; &nbsp;0201&nbsp; &nbsp;a1&nbsp; &nbsp;1&nbsp; &nbsp;LDA &#40;zp,X&#41;&nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />824&nbsp; &nbsp;0201&nbsp; &nbsp;a1&nbsp; &nbsp;1&nbsp; &nbsp;LDA &#40;zp,X&#41;&nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />825&nbsp; &nbsp;2004&nbsp; &nbsp;a1&nbsp; &nbsp;0&nbsp; &nbsp;LDA &#40;zp,X&#41;&nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />825&nbsp; &nbsp;2004&nbsp; &nbsp;a1&nbsp; &nbsp;0&nbsp; &nbsp;LDA &#40;zp,X&#41;&nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br /></div><br />The sprite DMA starts at cycle 820.  The first DMC DMA is at cycles 822-823.  The sprite RAM being fetched and the DMC RAM being fetched have been filled with different breadcrumbs so we can see that the fetches occur correctly.  [Sprite DMA gets $a0 then $a1 while DMC DMA gets $e1 in between].<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">cycle&nbsp; &nbsp;ab&nbsp; &nbsp;db&nbsp; &nbsp;rw&nbsp; &nbsp;Fetch&nbsp; &nbsp;pc&nbsp; &nbsp;a&nbsp; &nbsp;x&nbsp; &nbsp;y&nbsp; &nbsp;s&nbsp; &nbsp;p&nbsp; &nbsp;c_rdy<br />1252&nbsp; &nbsp;02d7&nbsp; &nbsp;a7&nbsp; &nbsp;1&nbsp; &nbsp;unknown&nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />1252&nbsp; &nbsp;02d7&nbsp; &nbsp;a7&nbsp; &nbsp;1&nbsp; &nbsp;unknown&nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />1253&nbsp; &nbsp;2004&nbsp; &nbsp;a7&nbsp; &nbsp;0&nbsp; &nbsp;unknown&nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />1253&nbsp; &nbsp;2004&nbsp; &nbsp;a7&nbsp; &nbsp;0&nbsp; &nbsp;unknown&nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />1254&nbsp; &nbsp;c002&nbsp; &nbsp;e2&nbsp; &nbsp;1&nbsp; &nbsp;unknown&nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />1254&nbsp; &nbsp;c002&nbsp; &nbsp;e2&nbsp; &nbsp;1&nbsp; &nbsp;unknown&nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />1255&nbsp; &nbsp;009d&nbsp; &nbsp;10&nbsp; &nbsp;1&nbsp; &nbsp;BPL &nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />1255&nbsp; &nbsp;009d&nbsp; &nbsp;10&nbsp; &nbsp;1&nbsp; &nbsp;BPL &nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />1256&nbsp; &nbsp;02d8&nbsp; &nbsp;a8&nbsp; &nbsp;1&nbsp; &nbsp;TAY&nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />1256&nbsp; &nbsp;02d8&nbsp; &nbsp;a8&nbsp; &nbsp;1&nbsp; &nbsp;TAY&nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />1257&nbsp; &nbsp;2004&nbsp; &nbsp;a8&nbsp; &nbsp;0&nbsp; &nbsp;TAY&nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />1257&nbsp; &nbsp;2004&nbsp; &nbsp;a8&nbsp; &nbsp;0&nbsp; &nbsp;TAY&nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br /></div><br />The sprite DMA is still going on, and there's a second DMC DMA interruption of it at cycles 1254-1255.  Here again the breadcrumbs show the memory properly being fetched for each operation.  [Sprite DMA gets $a7 then $a8 while DMC DMA gets $e2 in between].<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">cycle&nbsp; &nbsp;ab&nbsp; &nbsp;db&nbsp; &nbsp;rw&nbsp; &nbsp;Fetch&nbsp; &nbsp;pc&nbsp; &nbsp;a&nbsp; &nbsp;x&nbsp; &nbsp;y&nbsp; &nbsp;s&nbsp; &nbsp;p&nbsp; &nbsp;c_rdy<br />1334&nbsp; &nbsp;02ff&nbsp; &nbsp;af&nbsp; &nbsp;1&nbsp; &nbsp;unknown&nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />1334&nbsp; &nbsp;02ff&nbsp; &nbsp;af&nbsp; &nbsp;1&nbsp; &nbsp;unknown&nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />1335&nbsp; &nbsp;2004&nbsp; &nbsp;af&nbsp; &nbsp;0&nbsp; &nbsp;unknown&nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />1335&nbsp; &nbsp;2004&nbsp; &nbsp;af&nbsp; &nbsp;0&nbsp; &nbsp;unknown&nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />1336&nbsp; &nbsp;009d&nbsp; &nbsp;10&nbsp; &nbsp;1&nbsp; &nbsp;BPL &nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />1336&nbsp; &nbsp;009d&nbsp; &nbsp;10&nbsp; &nbsp;1&nbsp; &nbsp;BPL &nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />1337&nbsp; &nbsp;009e&nbsp; &nbsp;fe&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />1337&nbsp; &nbsp;009e&nbsp; &nbsp;fe&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />1338&nbsp; &nbsp;009f&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;009f&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />1338&nbsp; &nbsp;009f&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;009f&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br /></div>
<br />The sprite DMA completes and the CPU resumes at cycle 1336, so the sprite DMA has taken 516 cycles total, with two DMC DMA interruptions.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Zepper</b> [ Wed Jun 20, 2012 7:44 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Doesn't it break blargg's dmc dma test roms, regarding the extra cycle?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>cpow</b> [ Wed Jun 20, 2012 7:52 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Zepper wrote:</div><div class="quotecontent">Doesn't it break blargg's dmc dma test roms, regarding the extra cycle?</div>
<br />The test ROMs I think you're referring to use DMC period $0 which would not generate more than one potential DMC DMA fetch during a sprite DMA.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>cpow</b> [ Wed Jun 20, 2012 10:42 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">Interesting. Can you get two DMC DMAs to happen during one sprite DMA using playback speed $F? I'd love to be able to close this out by leaving it at "Each DMC DMA extends sprite DMA by two cycles", but I need this one final validation before I can commit to that wording.</div>
<br />
<br />Closed.  Explanation is three posts above.   <img src="./images/smilies/icon_cool.gif" alt="8)" title="Cool" />

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>