<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Progress Thread - Wolfling</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Progress Thread - Wolfling</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=33&amp;t=16143">http://forums.nesdev.com/viewtopic.php?f=33&amp;t=16143</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>4</strong> of <strong>9</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>calima</b> [ Sun Sep 24, 2017 11:14 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Progress Thread - Wolfling</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Remember that's the stack. Not many bytes after famitone2 available.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>dougeff</b> [ Sun Sep 24, 2017 11:35 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Progress Thread - Wolfling</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">(there's no musician for Wolfling, yet)</div><br /><br />Don't wait till January to find one. It takes time to write songs.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>dougeff</b> [ Tue Sep 26, 2017 7:00 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Progress Thread - Wolfling</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Maybe you could ask the musician from Nebs &amp; Debs. I heard him on the latest assembly line podcast, he didn't sound like he was working on a project currently.<br /><br />Can't remember his name. He also did Alter Ego.<br /><br />It's Richard “Kulor” Armijo.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Wed Sep 27, 2017 6:58 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Progress Thread - Wolfling</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Lazycow wrote:</div><div class="quotecontent">Thanks for the hints, I wasn't aware that there're so many music players out there.</div><br />I have written a private draft of a wiki article comparing them.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Lazycow</b> [ Mon Oct 02, 2017 4:09 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Progress Thread - Wolfling</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Well tepples, release the article to the public and I'll read it...  <img src="./images/smilies/icon_cool.gif" alt="8-)" title="Cool" /> <br /><br />Yes, I have to watch the stack when using memory at $01xx, but I have to watch the stack also in standard memory. (the cc65 stack...) That's one of the thing you are &quot;fond of&quot; when programming the NES, isn't it? It's a bit like programming the Atari VCS.<br /><br />Another thing, can you define the SEGMENT for a linked lib in the cc65 config file somehow? Here, I've linked the standard cc65 runtime library and it appeared in the CODE segment.<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">crt.lib(aslax2.o):<br />&nbsp; &nbsp; CODE&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Offs = 0005D3&nbsp; &nbsp;Size = 00000B</div>Not a big deal, but it would be nice to know - just in case I'll run out of ROM. (that will happen sooner or later, I'll suppose)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Mon Oct 02, 2017 6:47 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Progress Thread - Wolfling</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Lazycow wrote:</div><div class="quotecontent">Another thing, can you define the SEGMENT for a linked lib in the cc65 config file somehow? Here, I've linked the standard cc65 runtime library and it appeared in the CODE segment.<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">crt.lib(aslax2.o):<br />&nbsp; &nbsp; CODE&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Offs = 0005D3&nbsp; &nbsp;Size = 00000B</div>Not a big deal, but it would be nice to know - just in case I'll run out of ROM. (that will happen sooner or later, I'll suppose)</div><br />I don't think you can, without recompiling the library. (And even then, you have to modify the source code, I believe.)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>rainwarrior</b> [ Mon Oct 02, 2017 1:46 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Progress Thread - Wolfling</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />If you want to separate those by segment it'd probably be easier to just use a different segments for your own code (<a href="http://cc65.github.io/doc/cc65.html#ss7.5" class="postlink">#pragma code-name</a>, etc.) and let the libraries use CODE/DATA/RODATA.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Lazycow</b> [ Mon Oct 02, 2017 10:28 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Progress Thread - Wolfling</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Yes, that's what I'm doing right now: Using these pragmas for the main code. That works.<br />Additionally, I have tweaked the setup of the banks, to get 28k for the main C code (BANK2X) by reducing the size of the common bank. That works well, as long as I only switch banks with code from the common bank.<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; &nbsp;BANK0:&nbsp; &nbsp;start=$8000, size=$4000, file=%O, fill=yes;<br />&nbsp; &nbsp;BANK1:&nbsp; &nbsp;start=$8000, size=$4000, file=%O, fill=yes;<br />&nbsp; &nbsp;BANK2X:&nbsp; start=$8000, size=$7000, file=%O, fill=yes;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# ext<br />&nbsp; &nbsp;BANKC:&nbsp; &nbsp;start=$f000, size=$0fc0, file=%O, fill=yes, define=yes; # common<br /></div><br />ROM-space seems to be sufficient for now, but I'm still fighting with the limited amount of RAM:<br />- changed the map format: 148 additional bytes<br />- disabling music while decrunching: 186 additional bytes<br />- moving tables into zeropage: 96 additional bytes<br /><br />Hm... Can I use the RAM at $02xx temporarily if I disable sprites in PPUMASK?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>na_th_an</b> [ Tue Oct 03, 2017 2:14 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Progress Thread - Wolfling</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />As far as I know, the runtime library is a must if you code in C, and you shouldn't place it somewhere you can page out, as it will render common tasks such as calling functions impossible. The runtime should be always present, in the fixed bank (if you are aiming for UNROM, that is). Why would you want to move it out of the CODE segment, anyways?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>rainwarrior</b> [ Tue Oct 03, 2017 2:59 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Progress Thread - Wolfling</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Lazycow wrote:</div><div class="quotecontent">Hm... Can I use the RAM at $02xx temporarily if I disable sprites in PPUMASK?</div><br />You don't have to disable sprites. The sprites are copied into internal OAM RAM and retained there as long as sprites are rendering.<br /><br />The RAM at $0200 is just used as a temporary holding place for the data before it is sent to the OAM RAM by DMA (write to $4014). If you don't do a DMA nothing in regular RAM will affect the sprites currently displayed.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Lazycow</b> [ Tue Oct 03, 2017 10:51 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Progress Thread - Wolfling</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />@rainwarrior: Oh!  <img src="./images/smilies/icon_eek.gif" alt=":shock:" title="Shocked" /> Nice. I was thinking the OAM will decay, but obviously I misinterpreted the wiki...<br /><br />@na_th_an: Hm... Yes, you're right, the runtime lib should be placed in the common bank and it doesn't make sense to place it somewhere else. Nevertheless, if I could rename the runtime lib's segment, I could get rid of the pragmas in the main code. But it's not a big deal and currently, I'm too lazy to change that...

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>calima</b> [ Tue Oct 03, 2017 11:13 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Progress Thread - Wolfling</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />There's an open feature request on using some other bank for the runtime.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>dougeff</b> [ Tue Oct 03, 2017 3:59 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Progress Thread - Wolfling</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Re: putting the runtime in a different bank<br /><br />I managed to do this on a project, but then later switched the entire thing to ASM, thus not needing a runtime.<br /><br />The solution was (AxROM mapper) to compile each bank (of $8000) separately, and then concatenating everything as the last step in making the final ROM. That way, the entire runtime would be available in every bank.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>na_th_an</b> [ Wed Oct 04, 2017 12:55 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Progress Thread - Wolfling</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />That's what I do with GNROM like mappers. Work on separate NROMs, then concatenate everything together. Use a small area in RAM which is not zeroed on startup for communication, place your bankswitching code in a fixed segment at the end of ROM space (for instance) so the very same chunk of bytes is in every NROM at the same place, and you are set.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Lazycow</b> [ Fri Nov 10, 2017 10:59 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Progress Thread - Wolfling</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><img src="https://i.imgur.com/eiQa2ZI.gif" alt="Image" /><br />update: a boulder test...<br />There're still no tilesets or anims from Zolionline, so I guess it's questionable that we finish the game before the deadline.   <img src="./images/smilies/icon_sad.gif" alt=":(" title="Sad" />

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>4</strong> of <strong>9</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>