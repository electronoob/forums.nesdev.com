<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="http://forums.nesdev.com/feed.php?f=3&amp;t=8224" />

<title>nesdev.com</title>
<subtitle>NES Development and Strangulation Records message boards</subtitle>
<link href="http://forums.nesdev.com/index.php" />
<updated>2011-10-20T14:03:27-07:00</updated>

<author><name><![CDATA[nesdev.com]]></name></author>
<id>http://forums.nesdev.com/feed.php?f=3&amp;t=8224</id>
<entry>
<author><name><![CDATA[Zepper]]></name></author>
<updated>2011-10-20T14:03:27-07:00</updated>
<published>2011-10-20T14:03:27-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8224&amp;p=85345#p85345</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8224&amp;p=85345#p85345"/>
<title type="html"><![CDATA[Palette shown when background rendering disabled]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8224&amp;p=85345#p85345"><![CDATA[
<div class="quotetitle">tokumaru wrote:</div><div class="quotecontent"><br />Why a modern TV?<br /></div><br /><br />Really, I can't believe... <img src="http://forums.nesdev.com/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /> but anyway, a CRT TV clips the image in all its sides (top, bottom, left, right).<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=39">Zepper</a> — Thu Oct 20, 2011 2:03 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tokumaru]]></name></author>
<updated>2011-10-19T18:33:09-07:00</updated>
<published>2011-10-19T18:33:09-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8224&amp;p=85295#p85295</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8224&amp;p=85295#p85295"/>
<title type="html"><![CDATA[Palette shown when background rendering disabled]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8224&amp;p=85295#p85295"><![CDATA[
<div class="quotetitle">Zepper wrote:</div><div class="quotecontent"><br />If you have the cart and a modern TV (LCD, LED etc.), try out.<br /></div><br />Why a modern TV? Is that because you can see more of the picture? If so, another option is a video capture card.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=95">tokumaru</a> — Wed Oct 19, 2011 6:33 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Dwedit]]></name></author>
<updated>2011-10-19T18:28:11-07:00</updated>
<published>2011-10-19T18:28:11-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8224&amp;p=85294#p85294</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8224&amp;p=85294#p85294"/>
<title type="html"><![CDATA[Palette shown when background rendering disabled]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8224&amp;p=85294#p85294"><![CDATA[
<div class="quotetitle">Zepper wrote:</div><div class="quotecontent"><br /><div class="quotetitle">Bisqwit wrote:</div><div class="quotecontent">One more thing. Is the color shown when rendering is off and memory location points to $3Fxx, subject to de-emphasis and grayscale control bits?<br /></div><br /><br />Good question. Well, fortunately, there's a way to check it out. Try SMB3 - once you beat the castle boss (Boom-Boom), the screen clipping is enabled and the screen flashes in black and white. If you have the cart and a modern TV (LCD, LED etc.), try out.</div><br /><br />Or just cast Heal in Dragon Warrior 1, or have the old man restore your MP.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=53">Dwedit</a> — Wed Oct 19, 2011 6:28 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2011-10-19T18:05:42-07:00</updated>
<published>2011-10-19T18:05:42-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8224&amp;p=85293#p85293</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8224&amp;p=85293#p85293"/>
<title type="html"><![CDATA[Palette shown when background rendering disabled]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8224&amp;p=85293#p85293"><![CDATA[
I know it's subject to tint bits because blargg's palette demos use this.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Wed Oct 19, 2011 6:05 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Zepper]]></name></author>
<updated>2011-10-19T18:00:42-07:00</updated>
<published>2011-10-19T18:00:42-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8224&amp;p=85292#p85292</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8224&amp;p=85292#p85292"/>
<title type="html"><![CDATA[Palette shown when background rendering disabled]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8224&amp;p=85292#p85292"><![CDATA[
<div class="quotetitle">Bisqwit wrote:</div><div class="quotecontent"><br />One more thing. Is the color shown when rendering is off and memory location points to $3Fxx, subject to de-emphasis and grayscale control bits?<br /></div><br /><br />Good question. Well, fortunately, there's a way to check it out. Try SMB3 - once you beat the castle boss (Boom-Boom), the screen clipping is enabled and the screen flashes in black and white. If you have the cart and a modern TV (LCD, LED etc.), try out.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=39">Zepper</a> — Wed Oct 19, 2011 6:00 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Bregalad]]></name></author>
<updated>2011-10-19T03:53:53-07:00</updated>
<published>2011-10-19T03:53:53-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8224&amp;p=85261#p85261</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8224&amp;p=85261#p85261"/>
<title type="html"><![CDATA[Palette shown when background rendering disabled]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8224&amp;p=85261#p85261"><![CDATA[
<div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />EDIT: One more thing. Is the color shown when rendering is off and memory location points to $3Fxx, subject to de-emphasis and grayscale control bits?<br /></div><br />I think yes, because this is done by a circuit which is after the normal pixel generation circuit.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=38">Bregalad</a> — Wed Oct 19, 2011 3:53 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Bisqwit]]></name></author>
<updated>2011-10-19T00:01:36-07:00</updated>
<published>2011-10-19T00:01:36-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8224&amp;p=85256#p85256</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8224&amp;p=85256#p85256"/>
<title type="html"><![CDATA[Palette shown when background rendering disabled]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8224&amp;p=85256#p85256"><![CDATA[
<div class="quotetitle">tokumaru wrote:</div><div class="quotecontent"><br />Bisqwit, I think you're confusing us all with "8 pixel edges"... What exactly do you mean by that?<br />Do you mean the leftmost 8-pixel column we can ask the PPU not to render?<br /></div><br />Yes. I don't know how I could have been clearer about it.<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />That will always show up as color 0. The only time when the PPU renders the color pointed to by the VRAM address is when rendering is completely disabled (sprites and background are turned off).<br /><br />Note that there are certain entries of the palette that can only be seen this way. The colors at memory locations $3F04, $3F08 and 3F0C will be displayed if you point to them while rendering is off, but when rendering is on they will show whatever color 0 is.<br /></div><br />Allright. Thank you. You get brownie points for the very clear and comprehensive answer. :-)<br /><br />EDIT: One more thing. Is the color shown when rendering is off and memory location points to $3Fxx, subject to de-emphasis and grayscale control bits?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=5043">Bisqwit</a> — Wed Oct 19, 2011 12:01 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tokumaru]]></name></author>
<updated>2011-10-18T17:09:54-07:00</updated>
<published>2011-10-18T17:09:54-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8224&amp;p=85247#p85247</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8224&amp;p=85247#p85247"/>
<title type="html"><![CDATA[Palette shown when background rendering disabled]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8224&amp;p=85247#p85247"><![CDATA[
Bisqwit, I think you're confusing us all with "8 pixel edges"... What exactly do you mean by that?<br /><br />Do you mean the leftmost 8-pixel column we can ask the PPU not to render? That will always show up as color 0. The only time when the PPU renders the color pointed to by the VRAM address is when rendering is completely disabled (sprites and background are turned off).<br /><br />Note that there are certain entries of the palette that can only be seen this way. The colors at memory locations $3F04, $3F08 and 3F0C will be displayed if you point to them while rendering is off, but when rendering is on they will show whatever color 0 is.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=95">tokumaru</a> — Tue Oct 18, 2011 5:09 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[beannaich]]></name></author>
<updated>2011-10-18T15:02:50-07:00</updated>
<published>2011-10-18T15:02:50-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8224&amp;p=85232#p85232</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8224&amp;p=85232#p85232"/>
<title type="html"><![CDATA[Palette shown when background rendering disabled]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8224&amp;p=85232#p85232"><![CDATA[
<div class="quotetitle">Bisqwit wrote:</div><div class="quotecontent"><br /><div class="quotetitle">beannaich wrote:</div><div class="quotecontent">Background clipping shouldn't occur when the background is disabled, the same goes for sprites.<br /></div><br />I did not claim it would, and your post does not address my question.</div><br />If that's not what you meant by the "8 pixels edge in the background" then ignore what I said.<br /><br />To answer your first question, when background rendering is off, and the PPU address points to a palette index, that color is drawn to the screen. That is what the code I posted shows.<br /><br />If the address is $3F11, and the dot is 25, scanline 40. Then the color at 25,40 will be whatever color palette[paletteRam[$11]] is.<br /><br />This behavior can be tested with blargg's full palette test ROMs.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4320">beannaich</a> — Tue Oct 18, 2011 3:02 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Bisqwit]]></name></author>
<updated>2011-10-18T15:02:26-07:00</updated>
<published>2011-10-18T15:02:26-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8224&amp;p=85231#p85231</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8224&amp;p=85231#p85231"/>
<title type="html"><![CDATA[Re: Palette shown when background rendering disabled]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8224&amp;p=85231#p85231"><![CDATA[
<div class="quotetitle">Zepper wrote:</div><div class="quotecontent"><br /><div class="quotetitle">Bisqwit wrote:</div><div class="quotecontent">So what does it render on the screen, if the address points to $3F11 for instance, does it render color #$11, or does it render color that is <em>in palette</em> at index #$11?<br /></div><br />It renders color that is <em>in palette</em> at index #$11. Ditto.</div><br />Thanks.<br /><br />Does the palette index get shown on the edges if the user pokes in $3F11 while the PPU is rendering an edge (and background rendering is not globally disabled but is disabled on the 8 pixel edges)?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=5043">Bisqwit</a> — Tue Oct 18, 2011 3:02 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Zepper]]></name></author>
<updated>2011-10-18T14:58:34-07:00</updated>
<published>2011-10-18T14:58:34-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8224&amp;p=85229#p85229</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8224&amp;p=85229#p85229"/>
<title type="html"><![CDATA[Re: Palette shown when background rendering disabled]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8224&amp;p=85229#p85229"><![CDATA[
<div class="quotetitle">Bisqwit wrote:</div><div class="quotecontent"><br />So what does it render on the screen, if the address points to $3F11 for instance, does it render color #$11, or does it render color that is <em>in palette</em> at index #$11?<br /></div><br /><br />It renders color that is <em>in palette</em> at index #$11. Ditto.<br />Try Micro Machines.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=39">Zepper</a> — Tue Oct 18, 2011 2:58 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Bisqwit]]></name></author>
<updated>2011-10-18T14:55:34-07:00</updated>
<published>2011-10-18T14:55:34-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8224&amp;p=85228#p85228</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8224&amp;p=85228#p85228"/>
<title type="html"><![CDATA[Palette shown when background rendering disabled]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8224&amp;p=85228#p85228"><![CDATA[
<div class="quotetitle">beannaich wrote:</div><div class="quotecontent"><br />Background clipping shouldn't occur when the background is disabled, the same goes for sprites.<br /></div><br />I did not claim it would, and your post does not address my question.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=5043">Bisqwit</a> — Tue Oct 18, 2011 2:55 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[beannaich]]></name></author>
<updated>2011-10-18T14:45:43-07:00</updated>
<published>2011-10-18T14:45:43-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8224&amp;p=85225#p85225</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8224&amp;p=85225#p85225"/>
<title type="html"><![CDATA[Palette shown when background rendering disabled]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8224&amp;p=85225#p85225"><![CDATA[
<div class="codetitle"><b>Code:</b></div><div class="codecontent">if &#40;hClock &lt; 256 &amp;&amp; vClock != -1&#41;<br />&#123;<br />    int pixel = &#40;scroll.addr &amp; 0x3F00&#41; == 0x3F00 ? &#40;scroll.addr &amp; 0x1F&#41; : 0;<br /><br />    colorBuffer&#91;&#40;vClock &lt;&lt; 8&#41; | hClock&#93; = colorSwatch&#91;memory.PeekByte&#40;0x3F00 | pixel&#41; &amp; palMask | palEmph&#93;;<br />&#125;</div><br /><br /><div class="quotetitle">Bisqwit wrote:</div><div class="quotecontent"><br />Does the special rule also apply to the 8 pixel edge areas if background rendering is disabled on the 8 pixel edges but not otherwise on the screen?<br /></div><br />Background clipping shouldn't occur when the background is disabled, the same goes for sprites.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4320">beannaich</a> — Tue Oct 18, 2011 2:45 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Bregalad]]></name></author>
<updated>2011-10-18T11:50:50-07:00</updated>
<published>2011-10-18T11:50:50-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8224&amp;p=85217#p85217</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8224&amp;p=85217#p85217"/>
<title type="html"><![CDATA[Palette shown when background rendering disabled]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8224&amp;p=85217#p85217"><![CDATA[
I seriously doubt it, as the PPU only enters in it's special "forced blanking" mode when both BG and sprites are disabled, and in this state, left-clipping state does not matter and is overriden.<br /><br />In any other state (if BG OR sprites OR both are enabled), the PPU does ALL it's fetches even for the disabled planes, and even for the tiles/sprites that falls behind the possibly behind the left-clipped area, it's just that the disabled BG/sprite/left-clipping areas are replaced by transparent pixels at a later stage, and then the transparent color is used.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=38">Bregalad</a> — Tue Oct 18, 2011 11:50 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Bisqwit]]></name></author>
<updated>2011-10-18T09:03:36-07:00</updated>
<published>2011-10-18T09:03:36-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8224&amp;p=85215#p85215</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8224&amp;p=85215#p85215"/>
<title type="html"><![CDATA[Palette shown when background rendering disabled]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8224&amp;p=85215#p85215"><![CDATA[
Does the special rule also apply to the 8 pixel edge areas if background rendering is disabled on the 8 pixel edges but not otherwise on the screen?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=5043">Bisqwit</a> — Tue Oct 18, 2011 9:03 am</p><hr />
]]></content>
</entry>
</feed>