<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="http://forums.nesdev.com/feed.php?f=3&amp;t=574" />

<title>nesdev.com</title>
<subtitle>NES Development and Strangulation Records message boards</subtitle>
<link href="http://forums.nesdev.com/index.php" />
<updated>2006-01-22T10:10:02-07:00</updated>

<author><name><![CDATA[nesdev.com]]></name></author>
<id>http://forums.nesdev.com/feed.php?f=3&amp;t=574</id>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2006-01-22T10:10:02-07:00</updated>
<published>2006-01-22T10:10:02-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=574&amp;p=8436#p8436</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=574&amp;p=8436#p8436"/>
<title type="html"><![CDATA[Colour Emphasis Bits]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=574&amp;p=8436#p8436"><![CDATA[
Even if you aren't doing "NTSC emulation", it might be best to understand the emphasis in the component (YUV) domain, and then use the same YUV-to-RGB transformation that you use for your emulator's current NTSC palette generator.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Sun Jan 22, 2006 10:10 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Anonymous]]></name></author>
<updated>2006-01-21T22:38:42-07:00</updated>
<published>2006-01-21T22:38:42-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=574&amp;p=8424#p8424</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=574&amp;p=8424#p8424"/>
<title type="html"><![CDATA[Colour Emphasis Bits]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=574&amp;p=8424#p8424"><![CDATA[
<div class="quotetitle">Quietust wrote:</div><div class="quotecontent"><br />apparently, after the "NTSC emulation" showed up, people only want to know exactly how colour emphasis modifies the NTSC signal itself and don't care about such RGB adjustment hacks.<br /></div><br /><br />This is not just a matter of theoretical correctness--given that the color emphasis bits operate on a composite video signal, they will not have the same RGB effect on every NES color.  That's why previous attempts to determine the color emphasis effects in terms of RGB proportions have produced (very) inconsistent results.<p>Statistics: Posted by Guest — Sat Jan 21, 2006 10:38 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Quietust]]></name></author>
<updated>2006-01-21T17:57:53-07:00</updated>
<published>2006-01-21T17:57:53-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=574&amp;p=8420#p8420</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=574&amp;p=8420#p8420"/>
<title type="html"><![CDATA[Colour Emphasis Bits]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=574&amp;p=8420#p8420"><![CDATA[
<div class="quotetitle">tepples wrote:</div><div class="quotecontent"><br />Actually, wouldn't it be better to know how the CI bits affect the <em>composite</em> signal?<br /></div><br /><br />Yeah, that's what I meant (as opposed to how it affects the final RGB values).<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=7">Quietust</a> — Sat Jan 21, 2006 5:57 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2006-01-21T17:35:14-07:00</updated>
<published>2006-01-21T17:35:14-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=574&amp;p=8419#p8419</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=574&amp;p=8419#p8419"/>
<title type="html"><![CDATA[Colour Emphasis Bits]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=574&amp;p=8419#p8419"><![CDATA[
Actually, wouldn't it be better to know how the CI bits affect the <em>composite</em> signal?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Sat Jan 21, 2006 5:35 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[WedNESday]]></name></author>
<updated>2006-01-21T14:48:01-07:00</updated>
<published>2006-01-21T14:48:01-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=574&amp;p=8417#p8417</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=574&amp;p=8417#p8417"/>
<title type="html"><![CDATA[Colour Emphasis Bits]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=574&amp;p=8417#p8417"><![CDATA[
<div class="quotetitle">Quietust wrote:</div><div class="quotecontent"><br /><div class="quotetitle">hap wrote:</div><div class="quotecontent">Actually, Quietust posted a new measurement on this forum a few weeks ago, but I can't find the thread..<br /></div><br /><br />I deleted the thread after somebody made a post questioning the purpose of measuring colour emphasis in terms of RGB adjustment when the NTSC PPU has no RGB logic inside it whatsoever - apparently, after the "NTSC emulation" showed up, people only want to know exactly how colour emphasis modifies the NTSC signal itself and don't care about such RGB adjustment hacks.</div><br /><br /><em>We</em> definitely need to know how the CI bits affect the RGB values as we have them in our emulators. Obviously, the NES does not work in RGB mode but we use the equivalent.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=191">WedNESday</a> — Sat Jan 21, 2006 2:48 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[WedNESday]]></name></author>
<updated>2006-01-21T14:08:41-07:00</updated>
<published>2006-01-21T14:08:41-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=574&amp;p=8416#p8416</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=574&amp;p=8416#p8416"/>
<title type="html"><![CDATA[Colour Emphasis Bits]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=574&amp;p=8416#p8416"><![CDATA[
Thanks a lot. But this poses another problem. Which one to use!?!? lol<br /><br /> <img src="http://forums.nesdev.com/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=191">WedNESday</a> — Sat Jan 21, 2006 2:08 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Quietust]]></name></author>
<updated>2006-01-21T13:57:09-07:00</updated>
<published>2006-01-21T13:57:09-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=574&amp;p=8415#p8415</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=574&amp;p=8415#p8415"/>
<title type="html"><![CDATA[Colour Emphasis Bits]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=574&amp;p=8415#p8415"><![CDATA[
<div class="quotetitle">hap wrote:</div><div class="quotecontent"><br />Actually, Quietust posted a new measurement on this forum a few weeks ago, but I can't find the thread..<br /></div><br /><br />I deleted the thread after somebody made a post questioning the purpose of measuring colour emphasis in terms of RGB adjustment when the NTSC PPU has no RGB logic inside it whatsoever - apparently, after the "NTSC emulation" showed up, people only want to know exactly how colour emphasis modifies the NTSC signal itself and don't care about such RGB adjustment hacks.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=7">Quietust</a> — Sat Jan 21, 2006 1:57 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[hap]]></name></author>
<updated>2006-01-21T11:28:14-07:00</updated>
<published>2006-01-21T11:28:14-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=574&amp;p=8411#p8411</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=574&amp;p=8411#p8411"/>
<title type="html"><![CDATA[Colour Emphasis Bits]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=574&amp;p=8411#p8411"><![CDATA[
Actually, Quietust posted a new measurement on this forum a few weeks ago, but I can't find the thread..<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">/* emphasis factors, %000 to %111. r,g,b */<br />/* measurement by Quietust */<br />const float emphasis_factor&#91;8&#93;&#91;3&#93;=&#123;<br />   &#123;1.00, 1.00, 1.00&#125;,<br />   &#123;1.00, 0.80, 0.81&#125;,<br />   &#123;0.78, 0.94, 0.66&#125;,<br />   &#123;0.79, 0.77, 0.63&#125;,<br />   &#123;0.82, 0.83, 1.12&#125;,<br />   &#123;0.81, 0.71, 0.87&#125;,<br />   &#123;0.68, 0.79, 0.79&#125;,<br />   &#123;0.70, 0.70, 0.70&#125;<br />&#125;;</div><br /><br />NTSC/PAL difference ? dunno<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=115">hap</a> — Sat Jan 21, 2006 11:28 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[WedNESday]]></name></author>
<updated>2006-01-21T08:58:30-07:00</updated>
<published>2006-01-21T08:58:30-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=574&amp;p=8409#p8409</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=574&amp;p=8409#p8409"/>
<title type="html"><![CDATA[Colour Emphasis Bits]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=574&amp;p=8409#p8409"><![CDATA[
Quietust's copper.nes also uses the CI bits rather well. <br /><br />001 B: 074.3% G: 091.5% R: 123.9% <br />010 B: 088.2% G: 108.6% R: 079.4% <br />011 B: 065.3% G: 098.0% R: 101.9% <br />100 B: 127.7% G: 102.6% R: 090.5% <br />101 B: 097.9% G: 090.8% R: 102.3% <br />110 B: 100.1% G: 098.7% R: 074.1% <br />111 B: 075.0% G: 075.0% R: 075.0% <br /><br />How accurate are those figures? Is it the same for NTSC/PAL? Can anyone improve on them? Or are they like the palette on every console (i.e. different all the time).<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=191">WedNESday</a> — Sat Jan 21, 2006 8:58 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Zepper]]></name></author>
<updated>2005-09-19T15:45:45-07:00</updated>
<published>2005-09-19T15:45:45-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=574&amp;p=4704#p4704</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=574&amp;p=4704#p4704"/>
<title type="html"><![CDATA[Colour Emphasis Bits]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=574&amp;p=4704#p4704"><![CDATA[
yaya, that's it. ^_^;;<br />if the guy is using an 8-bit mode, then... he should switch to 16-bit video mode...<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=39">Zepper</a> — Mon Sep 19, 2005 3:45 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Disch]]></name></author>
<updated>2005-09-19T13:47:23-07:00</updated>
<published>2005-09-19T13:47:23-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=574&amp;p=4703#p4703</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=574&amp;p=4703#p4703"/>
<title type="html"><![CDATA[Colour Emphasis Bits]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=574&amp;p=4703#p4703"><![CDATA[
That's exactly what I do.<br /><br />My output looks kind of like this:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">pixeltooutput = nOutputPalette&#91; nEmphasis | &#40;nPalette&#91; out &#93; &amp; nMonoMask&#41; &#93;;<br /></div><br /><br />'nOutputPalette' being the precaculated RGB table (DWORDs if outputting 32-bit color, WORD if outputting 16-bit).  512 entries (64 colors * 8 emphasis modes)<br /><br />'nEmphasis' are the emphasis bits are written to the register, masked out and left shifted one (nEmphasis = 0x1C0 if all 3 emphasis bits set)<br /><br />'nPalette' is the NES palette as it exists at ppu$3Fxx<br /><br />'out' is the bg/sprite pixel to output<br /><br />'nMonoMask' will always either be 0x3F (normal) or 0x30 (in monochrome mode)<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=33">Disch</a> — Mon Sep 19, 2005 1:47 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Quietust]]></name></author>
<updated>2005-09-19T11:58:36-07:00</updated>
<published>2005-09-19T11:58:36-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=574&amp;p=4693#p4693</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=574&amp;p=4693#p4693"/>
<title type="html"><![CDATA[Colour Emphasis Bits]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=574&amp;p=4693#p4693"><![CDATA[
<div class="quotetitle">WedNESday wrote:</div><div class="quotecontent"><br />Implementing the intensity is tricky though, and if done incorrectly is very CPU intensive.<br /></div><br /><br />Not really - just calculate all palette values in all emphasis modes (512 colors total, can be calculated at palette load time) and look up the proper one at rendering time.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=7">Quietust</a> — Mon Sep 19, 2005 11:58 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[WedNESday]]></name></author>
<updated>2006-01-21T08:56:38-07:00</updated>
<published>2005-09-19T11:51:37-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=574&amp;p=4691#p4691</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=574&amp;p=4691#p4691"/>
<title type="html"><![CDATA[Colour Emphasis Bits]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=574&amp;p=4691#p4691"><![CDATA[
Quietust's copper.nes also uses the CI bits rather well.<br /><br />001 B: 074.3% G: 091.5% R: 123.9%<br />010 B: 088.2% G: 108.6% R: 079.4%<br />011 B: 065.3% G: 098.0% R: 101.9%<br />100 B: 127.7% G: 102.6% R: 090.5%<br />101 B: 097.9% G: 090.8% R: 102.3%<br />110 B: 100.1% G: 098.7% R: 074.1%<br />111 B: 075.0% G: 075.0% R: 075.0%<br /><br />How accurate are those figures? Is it the same for NTSC/PAL? Can anyone improve on them? Or are they like the palette on every console (i.e. different all the time).<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=191">WedNESday</a> — Mon Sep 19, 2005 11:51 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Bregalad]]></name></author>
<updated>2005-09-18T23:30:35-07:00</updated>
<published>2005-09-18T23:30:35-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=574&amp;p=4677#p4677</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=574&amp;p=4677#p4677"/>
<title type="html"><![CDATA[Colour Emphasis Bits]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=574&amp;p=4677#p4677"><![CDATA[
I'm sure that Just Breed does this, even with the black color (probably $0f). The problem, is whith doing effects only by software, it's impossible to get some intermediate colors. I always ask myself how looks the color $1d on a real screen. It should be the darker gray available on the NES palette, but all games seems to rely to $00-$30 to do gray and never to $1d-$3d (because $0d shouldn't used on a NTSC TV). I think that if could be good to use $1d for black sprites and $0f for black BG, so a black sprite on a black BG would still be visible. However, all emulators emulates $1d pretty much differently from nearly as grey than $00, to as black than $0f, and I don't know how looks the real one, nor any game using this color.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=38">Bregalad</a> — Sun Sep 18, 2005 11:30 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2005-09-18T13:35:55-07:00</updated>
<published>2005-09-18T13:35:55-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=574&amp;p=4664#p4664</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=574&amp;p=4664#p4664"/>
<title type="html"><![CDATA[Colour Emphasis Bits]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=574&amp;p=4664#p4664"><![CDATA[
The attribute bits also darken blacks closer to the level of NTSC's "blacker than black" synchronization signals. If you set all the attribute bits, some older TVs might not find the sync signals.<br /><br />Try doing lighting effects by adding or subtracting $10 from each palette entry, clipping negative values to $0F and positive values to $30.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Sun Sep 18, 2005 1:35 pm</p><hr />
]]></content>
</entry>
</feed>