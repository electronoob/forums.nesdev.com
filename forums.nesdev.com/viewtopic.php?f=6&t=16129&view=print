<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Recording request: NEC µPD7756C and the Mitsubishi M50805</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Recording request: NEC µPD7756C and the Mitsubishi M50805</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=6&amp;t=16129">http://forums.nesdev.com/viewtopic.php?f=6&amp;t=16129</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>3</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>bucky o'hare</b> [ Thu Jun 22, 2017 11:02 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Recording request: NEC µPD7756C and the Mitsubishi M50805</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I was wondering, does anyone own any of the following games? And would you be able to record audio of the various PCM samples found in them?<br /><br /><strong>NEC µPD7755C (Jaleco)</strong><br /><br />-Terao no Dosukoi Oozumou<br /><br /><strong>NEC µPD7756C (Jaleco)</strong><br /><br />-Moe Pro! '90: Kandou-hen<br />-Moe Pro!: Saikyou-hen<br />-Moero!! Pro Tennis<br />-Moero!! Pro Yakyuu<br />-Moero!! Pro Yakyuu '88: Kettei Ban<br />-Shin Moero!! Pro Yakyuu<br /><br /><strong>Mitsubishi M50805 (Bandai)</strong><br /><br />-Family Trainer 3: Aerobics Studio<br /><br />(list from <a href="https://wiki.nesdev.com/w/index.php/List_of_games_with_expansion_audio" class="postlink">here</a>)<br /><br />As I understand, these have expansion audio in the form of additional PCM (ADPCM?), supplied by the aforementioned chips. And they aren't supported in emulation. Having some audio recordings of them in action would be fantastic.  <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>B00daW</b> [ Thu Jun 22, 2017 11:12 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Recording request: NEC µPD7756C and the Mitsubishi M5080</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Well, for now you can check Youtube.  There are some videos of hardware recordings. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br /><br />M50805 is not entirely PCM.  A colleague, hopefully, will be able to extract the PARCOR data in the coming weeks.<br /><br />Another friend and I are in the process of attaching the 7756 and M50805 to a TNS* NSF cart that we will be programming custom NSFs for; which should control the audio outputs.  He should be able to make recordings.  Ultimately, we would like to have the data dumped.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Fri Jun 23, 2017 12:06 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Recording request: NEC µPD7756C and the Mitsubishi M5080</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />We have some previous recordings of the various games. I don't even remember where in previous threads on the forum I'd found this, but I may as well attach it here now...<div class="attachtitle">Attachment:</div><div class="attachcontent">
			<span class="gensmall"><b>File comment:</b> wav inside</span><br />
		
			<span class="genmed">
				<img src="./styles/subsilver2/imageset/icon_topic_attach.gif" width="14" height="18" alt="" title="" /> 
				<a href="./download/file.php?id=9341">jaleco d7756.7z</a> [360.17 KiB]
			</span><br />
			<span class="gensmall">Downloaded 83 times</span>
		

		<br />
	</div><br /><br />To repeat what's been said in the past: if we change the clock of the µPD775x part, we should be able to get enough more data such that we can generate a perfect 9-bit back-translation of the DAC values. But this recording I found to be just a little too noisy for me to be confident I could calculate that exact values used in the DAC.<br /><br />The datasheet for the part implies each recording inside the IC can choose between dividers of 80, 104 (edit: determined from spectrogram of above recording), or 128 to generate the sample clock (640kHz→8, 6.2, or 5kHz). Although normal 44kHz sound card sampling &quot;should&quot; be enough, I'd really be happier with a larger amount of oversampling ... and ideally using a sampler that <em>doesn't</em> have a highpass filter on its input.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>bucky o'hare</b> [ Fri Jun 23, 2017 12:08 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Recording request: NEC µPD7756C and the Mitsubishi M5080</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">B00daW wrote:</div><div class="quotecontent">Well, for now you can check Youtube.  There are some videos of hardware recordings. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br /><br />M50805 is not entirely PCM.  A colleague, hopefully, will be able to extract the PARCOR data in the coming weeks.<br /><br />Another friend and I are in the process of attaching the 7756 and M50805 to a TNS* NSF cart that we will be programming custom NSFs for; which should control the audio outputs.  He should be able to make recordings.  Ultimately, we would like to have the data dumped.</div><br /><br />That would be fantastic! Looking forward to your findings. Amazing work, and thank you for trying to shed light on this.<br /><br />Here's the stuff I've found on youtube so far:<br /><br />Family Trainer: Aerobics Studio-<br /><!-- m --><a class="postlink" href="https://www.youtube.com/watch?v=kgpRx_ypbxQ">https://www.youtube.com/watch?v=kgpRx_ypbxQ</a><!-- m --><br /><br />Moero!! Pro Tennis-<br /><!-- m --><a class="postlink" href="https://www.youtube.com/watch?v=Eq-vzXZRVkc">https://www.youtube.com/watch?v=Eq-vzXZRVkc</a><!-- m --><br /><br />Shin Moero!! Pro Yakyuu-<br /><!-- m --><a class="postlink" href="https://www.youtube.com/watch?v=gt_oV7F46XQ">https://www.youtube.com/watch?v=gt_oV7F46XQ</a><!-- m --><br /><br />The rest seem to only have footage from emulation, at least that I could find.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>bucky o'hare</b> [ Fri Jun 23, 2017 12:12 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Recording request: NEC µPD7756C and the Mitsubishi M5080</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">lidnariq wrote:</div><div class="quotecontent">We have some previous recordings of the various games. I don't even remember where in previous threads on the forum I'd found this, but I may as well attach it here now...<div class="attachtitle">Attachment:</div><div class="attachcontent"><!-- ia0 -->jaleco d7756.7z<!-- ia0 --></div></div><br />Yes! Awesome, thank you.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Fri Jun 23, 2017 3:29 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Recording request: NEC µPD7756C and the Mitsubishi M5080</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">B00daW wrote:</div><div class="quotecontent">Another friend and I are in the process of attaching the 7756 and M50805 to a TNS* NSF cart that we will be programming custom NSFs for; which should control the audio outputs.<br /></div>I just took a look at the JF-24A (SS88006 using) board and noticed that our previous documentation was at least partly wrong. These boards definitely connect CPU D7...D3 (and very likely D2) to µPD775x I5..I0 <br /><br />Given previous <a href="https://forums.nesdev.com/viewtopic.php?p=13044#p13044" class="postlink">muddied documentation</a> it seems very likely that D1 and D0 are latched by the SS88006 and connected to µPD775x /START and /RESET respectively. But I can't verify this.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Great Hierophant</b> [ Fri Jun 23, 2017 8:31 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Recording request: NEC µPD7756C and the Mitsubishi M5080</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I feel it is somewhat debatable whether the discrete sound chips or the US versions playing of samples sounds clearer, but the sound effects for the Jaleco baseball and tennis games are much improved over their NES counterparts.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>B00daW</b> [ Fri Jun 23, 2017 10:00 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Recording request: NEC µPD7756C and the Mitsubishi M5080</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">lidnariq wrote:</div><div class="quotecontent">To repeat what's been said in the past: if we change the clock of the µPD775x part, we should be able to get enough more data such that we can generate a perfect 9-bit back-translation of the DAC values. But this recording I found to be just a little too noisy for me to be confident I could calculate that exact values used in the DAC.<br /><br />The datasheet for the part implies each recording inside the IC can choose between dividers of 80, 104 (edit: determined from spectrogram of above recording), or 128 to generate the sample clock (640kHz→8, 6.2, or 5kHz). Although normal 44kHz sound card sampling &quot;should&quot; be enough, I'd really be happier with a larger amount of oversampling ... and ideally using a sampler that <em>doesn't</em> have a highpass filter on its input.</div><br />According to the datasheet, the sample data could just be dumped with &quot;verify&quot; mode too if the chip were pulled, eh?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Fri Jun 23, 2017 10:21 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Recording request: NEC µPD7756C and the Mitsubishi M5080</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />No <img src="./images/smilies/icon_sad.gif" alt=":(" title="Sad" /> The parts other than the µPD77P56 lack the required pins.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>B00daW</b> [ Fri Jun 23, 2017 10:42 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Recording request: NEC µPD7756C and the Mitsubishi M5080</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Oh, YES!  I remember reading that.  I guess I'll talk to ImATrackMan to see if he can lower the clock of some of the 7756 cart I gave him so he can record some sample data for you; if you're up to the task of converting it to 9-bit?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Fri Jun 23, 2017 11:01 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Recording request: NEC µPD7756C and the Mitsubishi M5080</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I'm certainly up for giving it a shot. I don't know how much head room below the nominal 640kHz will be useful—obviously it's partially a function of the sample rate and highpass/lowpass corners of the recording sound card also.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Lord Nightmare</b> [ Sat Jun 24, 2017 7:37 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Recording request: NEC µPD7756C and the Mitsubishi M5080</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The fun bit is gonna be unboiling the egg and turning the recovered 12?-bit pcm data back into the 4-bit-per-sample source adpcm data from the 7756c mask rom. That's actually possibly doable, since theres only 16 possibilities per sample and you can do analysis-by-synthesis to find best fit for each one.<br /><br />Or someone could donate 7756 carts for decap, sean riddle has been doing some amazing stuff with game&amp;watch game MCUs recently, so it might be possible to optically read 7756 rom, unless they used implant rom for it...<br /><br />LN<br /><br />EDIT: But that m50805 REALLY interests me as well, that's i believe in the same series of LPC/PARCOR chips as used by the original &quot;talking&quot; version of nintendo's arcade game &quot;radar scope&quot;.<br />I'd honestly love to see one of those chips decapped so I can make sure the LPC tables in mame are correct, for synthesis.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Sat Jun 24, 2017 8:12 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Recording request: NEC µPD7756C and the Mitsubishi M5080</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />One of the random things I find interesting is that the implementation of the µPD7759 in MAME only mentions the 4bit-per-sample ADPCM.<br /><br />And yet, the datasheet for the µPD775[5-8] says &quot;bit rates from 10kbit/s to 32kbit/s&quot;, implying that there's a 2bit/sample ADPCM mode... At least, I think they're implying that instead of just referring to repeat mode. They do explicitly call out silence padding separately.<br /><br />MAME's µPD7759 implementation also implies a wide range of possible sample rates, ranging anywhere from 160kHz down to 2.5kHz (I think? Assuming <a href="https://github.com/mamedev/mame/blob/master/src/devices/sound/upd7759.cpp#L614" class="postlink">640kHz÷4÷(F+1)</a>), and can switch during in the middle of playback.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>B00daW</b> [ Sat Jun 24, 2017 8:33 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Recording request: NEC µPD7756C and the Mitsubishi M5080</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Lord Nightmare:  The person in question also has the cart.  If you wish to contact him, he may be able to help.  I'm not concerned with the state of return of the cart; as long as it's dumped and emulatable.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>B00daW</b> [ Sun Jun 25, 2017 2:23 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Recording request: NEC µPD7756C and the Mitsubishi M5080</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><s>With some redaction, here are the WAV files dumped from the chip by Sean and some information:<br /><br />&quot;It works as described in the datasheet; every 64 clocks &#40;100uS at 640kHz&#41;, DA0 or DA1 goes low for 0 to 63 clocks.  I exported the dump and combined the two PWM signals for each sound into a single 7-bit signed file, then used Audacity to convert those into WAV format:&quot;<br /><br />We&#39;re still in the process of troubleshooting and finding methods to find the encoded data.</s><br /><br />Removed the attachment so that bad files are not distributed.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>3</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>