<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<link rel="icon" href="/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />

<title>nesdev.com &bull; View topic - SuperDisc BIOS released + analysis [attn: nocash]</title>

<link rel="alternate" type="application/atom+xml" title="Feed - nesdev.com" href="http://forums.nesdev.com/feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - News" href="http://forums.nesdev.com/feed.php?mode=news" /><link rel="alternate" type="application/atom+xml" title="Feed - All forums" href="http://forums.nesdev.com/feed.php?mode=forums" /><link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="http://forums.nesdev.com/feed.php?mode=topics" /><link rel="alternate" type="application/atom+xml" title="Feed - Active Topics" href="http://forums.nesdev.com/feed.php?mode=topics_active" /><link rel="alternate" type="application/atom+xml" title="Feed - Forum - SNESdev" href="http://forums.nesdev.com/feed.php?f=12" /><link rel="alternate" type="application/atom+xml" title="Feed - Topic - SuperDisc BIOS released + analysis [attn: nocash]" href="http://forums.nesdev.com/feed.php?f=12&amp;t=13907" />

<link rel="stylesheet" href="./style.php?id=1&amp;lang=en&amp;sid=fcea196024798b47470d4933d469cea3" type="text/css" />

<script type="text/javascript">
// <![CDATA[


function popup(url, width, height, name)
{
	if (!name)
	{
		name = '_popup';
	}

	window.open(url.replace(/&amp;/g, '&'), name, 'height=' + height + ',resizable=yes,scrollbars=yes,width=' + width);
	return false;
}

function jumpto()
{
	var page = prompt('Enter the page number you wish to go to:', '3');
	var per_page = '15';
	var base_url = './viewtopic.php?f=12&amp;t=13907&amp;sid=fcea196024798b47470d4933d469cea3';

	if (page !== null && !isNaN(page) && page == Math.floor(page) && page > 0)
	{
		if (base_url.indexOf('?') == -1)
		{
			document.location.href = base_url + '?start=' + ((page - 1) * per_page);
		}
		else
		{
			document.location.href = base_url.replace(/&amp;/g, '&') + '&start=' + ((page - 1) * per_page);
		}
	}
}

/**
* Find a member
*/
function find_username(url)
{
	popup(url, 760, 570, '_usersearch');
	return false;
}

/**
* Mark/unmark checklist
* id = ID of parent container, name = name prefix, state = state [true/false]
*/
function marklist(id, name, state)
{
	var parent = document.getElementById(id);
	if (!parent)
	{
		eval('parent = document.' + id);
	}

	if (!parent)
	{
		return;
	}

	var rb = parent.getElementsByTagName('input');
	
	for (var r = 0; r < rb.length; r++)
	{
		if (rb[r].name.substr(0, name.length) == name)
		{
			rb[r].checked = state;
		}
	}
}



// ]]>
</script>
</head>
<body class="ltr">

<a name="top"></a>

<div id="wrapheader">

	<div id="logodesc">
	</div>

	<div id="menubar">

		<table width="100%" cellspacing="0">
		<tr>
			<td rowspan="2"><a href="./index.php?sid=fcea196024798b47470d4933d469cea3"><img src="./styles/subsilver2/imageset/site_logo.gif" alt="" title="" /></a></td>
			<td width="100%" align="center"><h1>nesdev.com</h1><span class="gen">NES Development and Strangulation Records message boards</span></td>
		</tr>
		<tr>
			<td align="center">
				<a href="./faq.php?sid=fcea196024798b47470d4933d469cea3"><img src="./styles/prosilver/theme/images/icon_mini_faq.gif" width="12" height="13" alt="*" /> FAQ</a>
				&nbsp; &nbsp;<a href="./search.php?sid=fcea196024798b47470d4933d469cea3"><img src="./styles/prosilver/theme/images/icon_mini_search.gif" width="12" height="13" alt="*" /> Search</a>
				<br />	
				 &nbsp;<a href="./ucp.php?mode=register&amp;sid=fcea196024798b47470d4933d469cea3"><img src="./styles/prosilver/theme/images/icon_mini_register.gif" width="12" height="13" alt="*" /> Register</a>
					&nbsp; &nbsp;<a href="./ucp.php?mode=login&amp;sid=fcea196024798b47470d4933d469cea3"><img src="./styles/prosilver/theme/images/icon_mini_login.gif" width="12" height="13" alt="*" /> Login</a>&nbsp;
			</td>
		</tr>
		</table>
	</div>

	<div id="datebar">
		<table width="100%" cellspacing="0">
		<tr>
			<td class="gensmall"></td>
			<td class="gensmall" align="right">It is currently Mon Apr 18, 2016 5:26 pm<br /></td>
		</tr>
		</table>
	</div>

</div>

<div id="wrapcentre">

	
	<p class="searchbar">
		<span style="float: left;"><a href="./search.php?search_id=unanswered&amp;sid=fcea196024798b47470d4933d469cea3">View unanswered posts</a> | <a href="./search.php?search_id=active_topics&amp;sid=fcea196024798b47470d4933d469cea3">View active topics</a></span>
		
	</p>
	

	<br style="clear: both;" />

	<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php?sid=fcea196024798b47470d4933d469cea3">Board index</a> &#187; <a href="./viewforum.php?f=25&amp;sid=fcea196024798b47470d4933d469cea3">Other</a> &#187; <a href="./viewforum.php?f=12&amp;sid=fcea196024798b47470d4933d469cea3">SNESdev</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>

	<br />

<div id="pageheader">
	<h2><a class="titles" href="./viewtopic.php?f=12&amp;t=13907&amp;start=30&amp;sid=fcea196024798b47470d4933d469cea3">SuperDisc BIOS released + analysis [attn: nocash]</a></h2>


	<p class="moderators">Moderator: <a href="./memberlist.php?mode=group&amp;g=320&amp;sid=fcea196024798b47470d4933d469cea3">Moderators</a></p>

</div>

<br clear="all" /><br />

<div id="pagecontent">

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=12&amp;sid=fcea196024798b47470d4933d469cea3"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=12&amp;t=13907&amp;sid=fcea196024798b47470d4933d469cea3"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>3</strong> of <strong>5</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 73 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"><b><a href="#" onclick="jumpto(); return false;" title="Click to jump to pageâ€¦">Go to page</a> <a href="./viewtopic.php?f=12&amp;t=13907&amp;sid=fcea196024798b47470d4933d469cea3&amp;start=15">Previous</a>&nbsp;&nbsp;<a href="./viewtopic.php?f=12&amp;t=13907&amp;sid=fcea196024798b47470d4933d469cea3">1</a><span class="page-sep">, </span><a href="./viewtopic.php?f=12&amp;t=13907&amp;sid=fcea196024798b47470d4933d469cea3&amp;start=15">2</a><span class="page-sep">, </span><strong>3</strong><span class="page-sep">, </span><a href="./viewtopic.php?f=12&amp;t=13907&amp;sid=fcea196024798b47470d4933d469cea3&amp;start=45">4</a><span class="page-sep">, </span><a href="./viewtopic.php?f=12&amp;t=13907&amp;sid=fcea196024798b47470d4933d469cea3&amp;start=60">5</a> &nbsp;<a href="./viewtopic.php?f=12&amp;t=13907&amp;sid=fcea196024798b47470d4933d469cea3&amp;start=45">Next</a></b></td>
		
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat">
			<table width="100%" cellspacing="0">
			<tr>
				<td class="nav" nowrap="nowrap">&nbsp;
				<a href="./viewtopic.php?f=12&amp;t=13907&amp;start=30&amp;sid=fcea196024798b47470d4933d469cea3&amp;view=print" title="Print view">Print view</a>
				</td>
				<td class="nav" align="right" nowrap="nowrap"><a href="./viewtopic.php?f=12&amp;t=13907&amp;view=previous&amp;sid=fcea196024798b47470d4933d469cea3">Previous topic</a> | <a href="./viewtopic.php?f=12&amp;t=13907&amp;view=next&amp;sid=fcea196024798b47470d4933d469cea3">Next topic</a>&nbsp;</td>
			</tr>
			</table>
		</td>
	</tr>

	</table>


	<table class="tablebg" width="100%" cellspacing="1">
	
		<tr>
			<th>Author</th>
			<th>Message</th>
		</tr>
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p165906"></a>
				<b class="postauthor" style="color: #AA0000">tepples</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p165906">Re: SuperDisc BIOS released + analysis [attn: nocash]</a></div><div style="float: right;"><a href="./viewtopic.php?p=165906&amp;sid=fcea196024798b47470d4933d469cea3#p165906"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Mon Mar 07, 2016 8:36 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Sep 19, 2004 11:12 pm<br /><b>Posts:</b> 15949<br /><b>Location:</b> NE Indiana, USA (NTSC)
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Yet the Sony design continues to show through, as VAG is BRR with a longer packet, different filter types, and a different Gaussian table.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=9&amp;sid=fcea196024798b47470d4933d469cea3"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p165910"></a>
				<b class="postauthor">nocash</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p165910">Re: SuperDisc BIOS released + analysis [attn: nocash]</a></div><div style="float: right;"><a href="./viewtopic.php?p=165910&amp;sid=fcea196024798b47470d4933d469cea3#p165910"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Mon Mar 07, 2016 9:28 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Feb 24, 2012 12:09 pm<br /><b>Posts:</b> 483
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">CXD1196AR might be quite close to CXD1800Q. The chip seems to be fully controlled by the Main CPU (unlike the PSX's CXD1815Q and CXD1199BQ chips, which are accessed by Host CPU and Sub CPU). Would be still possibly that the NEC chip on the LCD daughterboard is also doing some CD related control. Anyways, there's probably no third CPU envolved (unless the SNES CD's 32bit CPU mentioned on some older webpages does still hide somewhere on the PCB back side).<br /><br />The 48pin chip without visible markings might be the Servo Amplifier (like the CXA1782BR on PSX which is 48pin, too). PSX consoles are additionally having some 28pin chip for motor control (BA6297AFP,BA6398FP,BA6397FP,AN8732SB,etc.), something similar should exist here, too, but I couldn't see that thing on the photos. But I couldn't really see S-CPU, S-PPU2, S-WRAM, S-ENC chips either, which makes me think that the photos are only incomplete crap.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=5211&amp;sid=fcea196024798b47470d4933d469cea3"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p165938"></a>
				<b class="postauthor">byuu</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p165938">Re: SuperDisc BIOS released + analysis [attn: nocash]</a></div><div style="float: right;"><a href="./viewtopic.php?p=165938&amp;sid=fcea196024798b47470d4933d469cea3#p165938"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Mar 08, 2016 6:03 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Mar 27, 2006 5:23 pm<br /><b>Posts:</b> 1039
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Spent a few hours trying to figure out what the hell was going on with the &quot;Now Loading&quot; part of the BIOS. It's a complete fucking abortion of code.<br /><br />It starts reading from $e8fc,x (eg in the first 32K of ROM), getting symbols, sometimes using those as new read indexes into the $e8fc table, writing to $21e1, reading from $21e1, and doing psychotic, batshit insane amounts of bit-blending on RAM values at $1f5f-$1f64 (AND #$77, OR #$20 if AND #$08 sets Z flag, OR #$10, branch if N flag set/clear, etc), and with some sort of table at $1f0f-$1f17. It is packed full of the 65816-equivalent of goto statements, nested subroutine calls, etc. And a lot of the magic happens inside the IRQ handler.<br /><br />The pattern of bytes written to $21e1 are completely non-deterministic due to all of this. It's just a non-stop stream of gibberish. And I don't know what reading $21e1 is supposed to return at all. By using my current emulation of setting it to #$81 on IRQs when $21e4.d4 is set, it repeats the same INST, INCL, CHCT commands to the CXD1800 over and over, which obviously never does anything useful. Hangs at &quot;Now Loading&quot; forever. Nothing ever actually makes it into the 256KiB cart RAM area for execution.<br /><br />It is the most grotesque code I've ever seen in SNES assembly hacking, and I've hacked probably a dozen commercial game engines in my years spent translating Japanese games to English.<br /><br />I did my best to try and port the code to C to reproduce the stream of writes to $21e1, but I could only get the first six or so writes correct before becoming completely overwhelmed with all the interleaved code.<br /><br />So I give up. Good luck to anyone who attempts this :/</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=375&amp;sid=fcea196024798b47470d4933d469cea3"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p165939"></a>
				<b class="postauthor" style="color: #AA0000">tepples</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p165939">Re: SuperDisc BIOS released + analysis [attn: nocash]</a></div><div style="float: right;"><a href="./viewtopic.php?p=165939&amp;sid=fcea196024798b47470d4933d469cea3#p165939"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Mar 08, 2016 7:54 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Sep 19, 2004 11:12 pm<br /><b>Posts:</b> 15949<br /><b>Location:</b> NE Indiana, USA (NTSC)
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Is it obfuscated like <a href="http://blog.kevtris.org/blogfiles/EWJ2PROT.TXT" class="postlink">kevtris found a pirate original port of <em>Earthworm Jim 2</em> to be</a> as a means of making pirates' lives harder?</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=9&amp;sid=fcea196024798b47470d4933d469cea3"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p165942"></a>
				<b class="postauthor">byuu</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p165942">Re: SuperDisc BIOS released + analysis [attn: nocash]</a></div><div style="float: right;"><a href="./viewtopic.php?p=165942&amp;sid=fcea196024798b47470d4933d469cea3#p165942"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Mar 08, 2016 8:31 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Mar 27, 2006 5:23 pm<br /><b>Posts:</b> 1039
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">tepples wrote:</div><div class="quotecontent">Is it obfuscated like <a href="http://blog.kevtris.org/blogfiles/EWJ2PROT.TXT" class="postlink">kevtris found a pirate original port of <em>Earthworm Jim 2</em> to be</a> as a means of making pirates' lives harder?</div><br /><br />Yes, it's extremely likely that they obfuscated the prototype BIOS heavily to prevent mass piracy of it. All you'd need is a cart with a ton of RAM, this ROM, and reverse engineer a new CD-ROM drive to connect to the expansion port, and it would be a free-for-all in pirating all of the content available for this prototype system.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=375&amp;sid=fcea196024798b47470d4933d469cea3"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p165951"></a>
				<b class="postauthor">Sik</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p165951">Re: SuperDisc BIOS released + analysis [attn: nocash]</a></div><div style="float: right;"><a href="./viewtopic.php?p=165951&amp;sid=fcea196024798b47470d4933d469cea3#p165951"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Mar 09, 2016 5:37 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Thu Aug 12, 2010 3:43 am<br /><b>Posts:</b> 1394
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">But CDs themselves weren't easy to copy at the time either so I can't think this being likely, especially since you could probably get most (or all) of the way there by analyzing the PCB and dumping that ROM from that 4-bit controller (it's unlikely the cartridge alone without any knowledge of the PCB would be useful). It honestly sounds like either overengineering or that you're missing something critical (does anything there trigger some sort of DMA which would feed in the correct data, maybe?).<br /><br />Also you should come up with a way to change the low nibble of $21E1 to make it look like it's accessing the disc. Heck, make it a debug button in the emulator temporarily if needed, just to see how it reacts =P</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=4526&amp;sid=fcea196024798b47470d4933d469cea3"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p165953"></a>
				<b class="postauthor">lidnariq</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p165953">Re: SuperDisc BIOS released + analysis [attn: nocash]</a></div><div style="float: right;"><a href="./viewtopic.php?p=165953&amp;sid=fcea196024798b47470d4933d469cea3#p165953"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Mar 09, 2016 11:28 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Apr 13, 2008 11:12 am<br /><b>Posts:</b> 4227<br /><b>Location:</b> seattle
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Maybe they've embedded some kind of FSM for the CD-ROM decoder or controller in the tables...</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3512&amp;sid=fcea196024798b47470d4933d469cea3"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p165958"></a>
				<b class="postauthor">nocash</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p165958">Re: SuperDisc BIOS released + analysis [attn: nocash]</a></div><div style="float: right;"><a href="./viewtopic.php?p=165958&amp;sid=fcea196024798b47470d4933d469cea3#p165958"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Mar 09, 2016 4:43 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Feb 24, 2012 12:09 pm<br /><b>Posts:</b> 483
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">That isn't obfuscated. The bios test function displays all mechacon commands with friendly names, and outgoing hex values, and with expected response hex values in plain text on the TV set. You don't even need to dump the bios cartridge (and least to disassemble the program code) for understanding how port 21E1h is working.<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; Access MM/SS/FF&nbsp; &nbsp; &nbsp;BmmssffF&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; --&gt; FFFFFFFF<br />&nbsp; Access Track/Index&nbsp; CttiiF&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; --&gt; FFFFFF<br />&nbsp; Stop&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; D01F&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; --&gt; FFFF<br />&nbsp; Play&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; D02F&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; --&gt; FFFF<br />&nbsp; Pause&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;D03F&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; --&gt; FFFF<br />&nbsp; Open/Close&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; D04F&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; --&gt; FFFF<br />&nbsp; Fast Forward&nbsp; &nbsp; &nbsp; &nbsp; D10F&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; --&gt; FFFF<br />&nbsp; Fast Reverse&nbsp; &nbsp; &nbsp; &nbsp; D11F&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; --&gt; FFFF<br />&nbsp; Forward&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;D12F&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; --&gt; FFFF<br />&nbsp; Reverse&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;D13F&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; --&gt; FFFF<br />&nbsp; Key Direct&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; D40F&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; --&gt; FFFF<br />&nbsp; Key Ignore&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; D41F&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; --&gt; FFFF<br />&nbsp; Continous Play&nbsp; &nbsp; &nbsp; D42F&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; --&gt; FFFF<br />&nbsp; Auto Track Pause&nbsp; &nbsp; D43F&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; --&gt; FFFF<br />&nbsp; Auto Index Pause&nbsp; &nbsp; D44F&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; --&gt; FFFF<br />&nbsp; Normal Speed&nbsp; &nbsp; &nbsp; &nbsp; D45F&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; --&gt; FFFF<br />&nbsp; Double Speed&nbsp; &nbsp; &nbsp; &nbsp; D46F&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; --&gt; FFFF<br />&nbsp; Q-Data Request&nbsp; &nbsp; &nbsp; D50F 0000000000000000F&nbsp; --&gt; FFFF ................F<br />&nbsp; Status Request&nbsp; &nbsp; &nbsp; D51F 01234F&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;--&gt; FFFF .....F</div><br />Only problem are the variable response bits in the Q-Data and Status requests. 16-digit Q is probably 8 bytes straight from SubQ channel. And 5-digit status, well, that part might require disassembling the bios.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=5211&amp;sid=fcea196024798b47470d4933d469cea3"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p165967"></a>
				<b class="postauthor">byuu</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p165967">Re: SuperDisc BIOS released + analysis [attn: nocash]</a></div><div style="float: right;"><a href="./viewtopic.php?p=165967&amp;sid=fcea196024798b47470d4933d469cea3#p165967"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Mar 10, 2016 12:07 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Mar 27, 2006 5:23 pm<br /><b>Posts:</b> 1039
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I see. Completely forgot about the &quot;communication&quot; test, whoops.<br /><br />In that case ...<br />$21e1 is the NEC D75P308GF (4-bit microprocessor) interface.<br />$21e2+$21e3 is the Sony CXD1800Q interface.<br />$21e4 is the interrupt enable (d3 = NEC CPU, d2 = Sony CPU.)<br /><br />$21e0 and $21e5 are unknown still.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=375&amp;sid=fcea196024798b47470d4933d469cea3"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p165970"></a>
				<b class="postauthor">byuu</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p165970">Re: SuperDisc BIOS released + analysis [attn: nocash]</a></div><div style="float: right;"><a href="./viewtopic.php?p=165970&amp;sid=fcea196024798b47470d4933d469cea3#p165970"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Mar 10, 2016 2:20 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Mar 27, 2006 5:23 pm<br /><b>Posts:</b> 1039
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Okay, I've implemented interfaces for both the NEC and Sony chips now.<br /><br />We need to return &quot;10100&quot; from the status register for the BIOS to think there's a data CD present. Or &quot;11000&quot; for a music CD. I don't know what other values will work or not work.<br /><br />This gets us &quot;press start&quot;, and upon doing so, we get stuck in this loop forever:<br /><br />1. poll one nibble from the NEC status register<br />2. write #$10 to INCL<br />3. read from STS six times (maybe it expects something other than #$00 ?)<br />3a. could be polling STS, HFLG, HMIN, HSEC, HBLK, HMOD possibly ... I believe $21e2 increments on $21e3 access<br />4. write #$00 to CHCT<br />5. repeat forever<br /><br />Also, there's a nice datasheet on the CXD1803AQ that may be similar to the CXD1800Q. A lot of the register names look like non-abbreviated versions of the CXD1800 ones, but there's also a whole lot of entirely new stuff. And wow ... this chip is really, really complex :/  Not going to be fun to simulate at all. Especially if we have to guess most of the commands to it.<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">command = d51f01234f<br />w21e1=0f<br />w21e2=01<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=10<br />w21e2=05<br />w21e3=10<br />w21e2=02<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />w21e2=02<br />w21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e1=8f<br />command = d<br />w21e1=0d<br />w21e2=01<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=10<br />w21e2=05<br />w21e3=10<br />w21e2=02<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />w21e2=02<br />w21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e1=8f<br />command = d5<br />w21e1=05<br />w21e2=01<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=10<br />w21e2=05<br />w21e3=10<br />w21e2=02<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />w21e2=02<br />w21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e1=8f<br />command = d51<br />w21e1=01<br />w21e2=01<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=10<br />w21e2=05<br />w21e3=10<br />w21e2=02<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />w21e2=02<br />w21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e1=8f<br />command = d51f<br />w21e1=0f<br />w21e2=01<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=10<br />w21e2=05<br />w21e3=10<br />w21e2=02<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />w21e2=02<br />w21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e1=8f<br />command = d51f0<br />w21e1=00<br />w21e2=01<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=10<br />w21e2=05<br />w21e3=10<br />w21e2=02<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />w21e2=02<br />w21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e1=81<br />command = d51f01<br />w21e1=01<br />w21e2=01<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=10<br />w21e2=05<br />w21e3=10<br />w21e2=02<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />w21e2=02<br />w21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e1=80<br />command = d51f012<br />w21e1=02<br />w21e2=01<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=10<br />w21e2=05<br />w21e3=10<br />w21e2=02<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />w21e2=02<br />w21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e1=81<br />command = d51f0123<br />w21e1=03<br />w21e2=01<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=10<br />w21e2=05<br />w21e3=10<br />w21e2=02<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />w21e2=02<br />w21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e1=80<br />command = d51f01234<br />w21e1=04<br />w21e2=01<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=10<br />w21e2=05<br />w21e3=10<br />w21e2=02<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />w21e2=02<br />w21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e1=80<br />command = d51f01234f</div></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=375&amp;sid=fcea196024798b47470d4933d469cea3"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p165972"></a>
				<b class="postauthor">AWJ</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p165972">Re: SuperDisc BIOS released + analysis [attn: nocash]</a></div><div style="float: right;"><a href="./viewtopic.php?p=165972&amp;sid=fcea196024798b47470d4933d469cea3#p165972"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Mar 10, 2016 2:45 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Nov 10, 2008 3:09 pm<br /><b>Posts:</b> 125
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">byuu wrote:</div><div class="quotecontent">Okay, I've implemented interfaces for both the NEC and Sony chips now.<br /><br />We need to return &quot;10100&quot; from the status register for the BIOS to think there's a data CD present. Or &quot;11000&quot; for a music CD. I don't know what other values will work or not work.<br /><br />This gets us &quot;press start&quot;, and upon doing so, we get stuck in this loop forever:<br /><br />1. poll one nibble from the NEC status register<br />2. write #$10 to INCL<br />3. read from STS six times (maybe it expects something other than #$00 ?)<br />3a. could be polling STS, HFLG, HMIN, HSEC, HBLK, HMOD possibly ... I believe $21e2 increments on $21e3 access<br />4. write #$00 to CHCT<br />5. repeat forever<br /><br />Also, there's a nice datasheet on the CXD1803AQ that may be similar to the CXD1800Q. A lot of the register names look like non-abbreviated versions of the CXD1800 ones, but there's also a whole lot of entirely new stuff. And wow ... this chip is really, really complex :/  Not going to be fun to simulate at all. Especially if we have to guess most of the commands to it.<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">command = d51f01234f<br />w21e1=0f<br />w21e2=01<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=10<br />w21e2=05<br />w21e3=10<br />w21e2=02<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />w21e2=02<br />w21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e1=8f<br />command = d<br />w21e1=0d<br />w21e2=01<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=10<br />w21e2=05<br />w21e3=10<br />w21e2=02<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />w21e2=02<br />w21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e1=8f<br />command = d5<br />w21e1=05<br />w21e2=01<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=10<br />w21e2=05<br />w21e3=10<br />w21e2=02<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />w21e2=02<br />w21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e1=8f<br />command = d51<br />w21e1=01<br />w21e2=01<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=10<br />w21e2=05<br />w21e3=10<br />w21e2=02<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />w21e2=02<br />w21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e1=8f<br />command = d51f<br />w21e1=0f<br />w21e2=01<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=10<br />w21e2=05<br />w21e3=10<br />w21e2=02<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />w21e2=02<br />w21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e1=8f<br />command = d51f0<br />w21e1=00<br />w21e2=01<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=10<br />w21e2=05<br />w21e3=10<br />w21e2=02<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />w21e2=02<br />w21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e1=81<br />command = d51f01<br />w21e1=01<br />w21e2=01<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=10<br />w21e2=05<br />w21e3=10<br />w21e2=02<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />w21e2=02<br />w21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e1=80<br />command = d51f012<br />w21e1=02<br />w21e2=01<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=10<br />w21e2=05<br />w21e3=10<br />w21e2=02<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />w21e2=02<br />w21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e1=81<br />command = d51f0123<br />w21e1=03<br />w21e2=01<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=10<br />w21e2=05<br />w21e3=10<br />w21e2=02<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />w21e2=02<br />w21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e1=80<br />command = d51f01234<br />w21e1=04<br />w21e2=01<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=10<br />w21e2=05<br />w21e3=10<br />w21e2=02<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e3=00<br />w21e2=02<br />w21e3=00<br />&nbsp; &nbsp; &nbsp; &nbsp; r21e1=80<br />command = d51f01234f</div></div><br /><br />I think there has to be some code path that leads to setting up and triggering a standard SNES DMA from one of those B-bus registers into work RAM. The SNES has no bus mastering capability, so actually getting the data from the disc into SNES-accessible memory (either the onboard WRAM or the expansion RAM in the cartridge) <em>has</em> to involve S-CPU DMA at some point, just like how the SDD1 and MSU1 work.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3737&amp;sid=fcea196024798b47470d4933d469cea3"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p166003"></a>
				<b class="postauthor">nocash</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p166003">Re: SuperDisc BIOS released + analysis [attn: nocash]</a></div><div style="float: right;"><a href="./viewtopic.php?p=166003&amp;sid=fcea196024798b47470d4933d469cea3#p166003"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Mar 10, 2016 1:26 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Feb 24, 2012 12:09 pm<br /><b>Posts:</b> 483
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">tepples wrote:</div><div class="quotecontent">Yet the Sony design continues to show through, as VAG is BRR with a longer packet, different filter types, and a different Gaussian table.</div><br />Interesting. And unexpected. Does it seem to match-up with PSX adpcm samples (16-byte PSX blocks, instead of 9-byte SNES blocks)?<br />And did you see further differences, like more channels or whatever? There should be some way to switch to SNES-compatible mode; either via APU registers, or maybe via 21E4h.<br />The mainboard photos are in fact showing uncommon part numbers for both APU chips (so even the SPC700 CPU might be a bit different, it's clearly running SPC700 code though).<br />One weird thing is that the new APU couldn't be used in CDROM expansions (for existing SNES consoles), unless it where mapped to some other 21xxh addresses in case of expansion models.<br /><br /><div class="quotetitle">byuu wrote:</div><div class="quotecontent">$21e4 is the interrupt enable (d3 = NEC CPU, d2 = Sony CPU.)<br />$21e0 and $21e5 are unknown still.<br />We need to return &quot;10100&quot; from the status register for the BIOS to think there's a data CD present. Or &quot;11000&quot; for a music CD. I don't know what other values will work or not work.<br />Also, there's a nice datasheet on the CXD1803AQ that may be similar to the CXD1800Q.</div><br />I didn't track down 21E4h bits yet, but yes, it should be probably something for disabling the new interrupts (or even disabling the whole new I/O ports for backwards compatibility with normal SNES carts).<br />21D0h, 21E0h, 21E5h seem to locking/unlocking the battery backed SRAM (ie. located in the BIOS cartridge, not related to the CDROM hardware).<br /><br />The 5-digit status can be set to various values. The first two digits set to 00h or FFh switches between &quot;Music Disc&quot; and &quot;Press Start&quot; (for data discs). The middle digit set to 1..4 or so works, but bigger values give &quot;Not Defined&quot;, 0 gives No Disc. In some cases, the middle digit seems to be ignored depending on first 2 digits though. The last two digits seem to have no effect on anything. Best might be to watch the status values on real hardware (if it would work), and check if how they are changing on inserting/ejecting different discs, and on sending different mechacon commands.<br /><br />Why CXD1803AQ? Guess you missed the note about the CXD1196AR datasheet - it looks almost perfectly right to me (the only difference that I've spotted yet is related to some Test register, I haven't compared it to closely against the test screens yet though).<br />I've ported the relevant datasheet section to txt (see below). Some of sentences in there are really obfuscated (overcomplicated long sentences, formatted at 120-column width, and refusing to use terms like &quot;0&quot; and &quot;1&quot;). I am working on reversing what they wanted to say in that document. As by now, it's looking as if it'd be quite easy to emulate (when not emulating any read errors).<br /><br />The biggest problem might be the user interface for loading cdrom images, and supporting all of the numerous different cdrom image formats (I might be able to clean-up the cdrom code from no$psx for re-using it in no$sns; oh, and I think other emu programmers completely got around cdrom-image decoding by simply prompting users to mount the cdrom image as virtual cdrom drive via external utilities).<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">CXD1196AR - Write register<br />---------------------------<br /><br />&nbsp; REG&nbsp; &nbsp; &nbsp; &nbsp; A0 RA bit7&nbsp; &nbsp; bit6&nbsp; &nbsp; &nbsp; bit5&nbsp; &nbsp; &nbsp;bit4&nbsp; &nbsp; &nbsp;bit3&nbsp; &nbsp; &nbsp;bit2&nbsp; &nbsp; bit1&nbsp; &nbsp; bit0<br />&nbsp; REGADR&nbsp; &nbsp; &nbsp;L&nbsp; X&nbsp; L&nbsp; &nbsp; &nbsp; &nbsp;L&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;L&nbsp; &nbsp; &nbsp; &nbsp; RA4&nbsp; &nbsp; &nbsp; RA3&nbsp; &nbsp; &nbsp; RA2&nbsp; &nbsp; &nbsp;RA1&nbsp; &nbsp; &nbsp;RA0<br />&nbsp; RESERVED&nbsp; &nbsp;H&nbsp; X0 L&nbsp; &nbsp; &nbsp; &nbsp;L&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;L&nbsp; &nbsp; &nbsp; &nbsp; L&nbsp; &nbsp; &nbsp; &nbsp; L&nbsp; &nbsp; &nbsp; &nbsp; L&nbsp; &nbsp; &nbsp; &nbsp;L&nbsp; &nbsp; &nbsp; &nbsp;L<br />&nbsp; DRVIF&nbsp; &nbsp; &nbsp; H&nbsp; X1 XSLOW&nbsp; &nbsp;C2PO L1st LCH LOW&nbsp; BCK RED&nbsp; BCK MD1&nbsp; BCK MD0 LSB 1st CLKL<br />&nbsp; CHPCTL&nbsp; &nbsp; &nbsp;H&nbsp; X2 L&nbsp; &nbsp; &nbsp; &nbsp;L&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;CLR ADP&nbsp; CHP RST&nbsp; CDDA&nbsp; &nbsp; &nbsp;SW OPEN RPSTART ADP EN<br />&nbsp; DECCTL&nbsp; &nbsp; &nbsp;H&nbsp; X3 AUTO CI L&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;MODE SEL FORM SEL AUTODIST DEC MD2 DEC MD1 DEC MD0<br />&nbsp; INTMSK&nbsp; &nbsp; &nbsp;H&nbsp; X4 ADP END DEC TOUT&nbsp; DMA CMP&nbsp; DEC INT&nbsp; CI ERR&nbsp; &nbsp;L&nbsp; &nbsp; &nbsp; &nbsp;L&nbsp; &nbsp; &nbsp; &nbsp;L<br />&nbsp; INTCLR&nbsp; &nbsp; &nbsp;H&nbsp; X5 ADP END DEC TOUT&nbsp; DMA CMP&nbsp; DEC INT&nbsp; CI ERR&nbsp; &nbsp;L&nbsp; &nbsp; &nbsp; &nbsp;L&nbsp; &nbsp; &nbsp; &nbsp;L<br />&nbsp; CI&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;H&nbsp; X6 L&nbsp; &nbsp; &nbsp; &nbsp;EMPH ASIS L&nbsp; &nbsp; &nbsp; &nbsp; BIT L4H8 L&nbsp; &nbsp; &nbsp; &nbsp; FS L3H1 L&nbsp; &nbsp; &nbsp; &nbsp;MONO STE<br />&nbsp; DMA ADRC-L H&nbsp; X7 bit7&nbsp; &nbsp; bit6&nbsp; &nbsp; &nbsp; bit5&nbsp; &nbsp; &nbsp;bit4&nbsp; &nbsp; &nbsp;bit3&nbsp; &nbsp; &nbsp;bit2&nbsp; &nbsp; bit1&nbsp; &nbsp; bit0<br />&nbsp; DMA ADRC-H H&nbsp; X8 L&nbsp; &nbsp; &nbsp; &nbsp;bit14&nbsp; &nbsp; &nbsp;bit13&nbsp; &nbsp; bit12&nbsp; &nbsp; bit11&nbsp; &nbsp; bit10&nbsp; &nbsp;bit9&nbsp; &nbsp; bit8<br />&nbsp; DMA XFRC-L H&nbsp; X9 bit7&nbsp; &nbsp; bit6&nbsp; &nbsp; &nbsp; bit5&nbsp; &nbsp; &nbsp;bit4&nbsp; &nbsp; &nbsp;bit3&nbsp; &nbsp; &nbsp;bit2&nbsp; &nbsp; bit1&nbsp; &nbsp; bit0<br />&nbsp; DMACTL&nbsp; &nbsp; &nbsp;H&nbsp; XA xfrc11&nbsp; xfrc10&nbsp; &nbsp; xfrc9&nbsp; &nbsp; xfrc8&nbsp; &nbsp; DMA EN&nbsp; &nbsp;L&nbsp; &nbsp; &nbsp; &nbsp;L&nbsp; &nbsp; &nbsp; &nbsp;L<br />&nbsp; DRV ADRC-L H&nbsp; XB bit7&nbsp; &nbsp; bit6&nbsp; &nbsp; &nbsp; bit5&nbsp; &nbsp; &nbsp;bit4&nbsp; &nbsp; &nbsp;bit3&nbsp; &nbsp; &nbsp;bit2&nbsp; &nbsp; bit1&nbsp; &nbsp; bit0<br />&nbsp; DRV ADRC-H H&nbsp; XC L&nbsp; &nbsp; &nbsp; &nbsp;bit14&nbsp; &nbsp; &nbsp;bit13&nbsp; &nbsp; bit12&nbsp; &nbsp; bit11&nbsp; &nbsp; bit10&nbsp; &nbsp;bit9&nbsp; &nbsp; bit8<br />&nbsp; TEST2&nbsp; &nbsp; &nbsp; H&nbsp; 1D L&nbsp; &nbsp; &nbsp; &nbsp;L&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;L&nbsp; &nbsp; &nbsp; &nbsp; L&nbsp; &nbsp; &nbsp; &nbsp; L&nbsp; &nbsp; &nbsp; &nbsp; L&nbsp; &nbsp; &nbsp; &nbsp;L&nbsp; &nbsp; &nbsp; &nbsp;L<br />&nbsp; TEST1&nbsp; &nbsp; &nbsp; H&nbsp; 1E L&nbsp; &nbsp; &nbsp; &nbsp;L&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;L&nbsp; &nbsp; &nbsp; &nbsp; L&nbsp; &nbsp; &nbsp; &nbsp; L&nbsp; &nbsp; &nbsp; &nbsp; L&nbsp; &nbsp; &nbsp; &nbsp;L&nbsp; &nbsp; &nbsp; &nbsp;L<br />&nbsp; TEST0&nbsp; &nbsp; &nbsp; H&nbsp; 1F L&nbsp; &nbsp; &nbsp; &nbsp;L&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;L&nbsp; &nbsp; &nbsp; &nbsp; L&nbsp; &nbsp; &nbsp; &nbsp; L&nbsp; &nbsp; &nbsp; &nbsp; L&nbsp; &nbsp; &nbsp; &nbsp;L&nbsp; &nbsp; &nbsp; &nbsp;L<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Write Registers<br /><br />2.1.1 Register address (REGADR) register<br />&nbsp;This register is used for selection of the internal registers.<br />&nbsp;(1) When A0 = XCS = `L', the REGADR register is selected. When A0 = `H' and XCS = `L', the register<br />&nbsp; &nbsp; &nbsp;specified by the REGADR is selected.<br />&nbsp;(2) When the low order 4 bits of REGADR are not 0 (hex), and a register write or read is made by setting<br />&nbsp; &nbsp; &nbsp;A0 = `H' and XCS = `L', the low order 4 bits of REGADR are incremented.<br />&nbsp;(3) REGADR is cleared by rising edge of DMAEN bit (bit3) of the DMACTL register. (Cleared to 00 (hex).)<br /><br />2.1.2 DRIVE Interface (DRVIF) register<br />&nbsp; Bit7 XSLOW (/SLOW SPEED)<br />&nbsp; &nbsp; &nbsp; `H' : A DMA cycle is performed in 4 clocks.<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; In this case, a standard SRAM with an access time of less than 120 nsec can be connected<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; to the CXD1196AR.<br />&nbsp; &nbsp; &nbsp; `L' : A DMA cycle is performed in 12 clocks. When the CXD1196R is connected to an SRAM<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; with a slower access time, set this bit at `L'. In this case, a standard SRAM with an access<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; time of less than 320 ns can be connected to the CXD1196AR. For operation at VDD = 3.5<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; V, set this bit to L.<br />&nbsp; Bit6 C2PL1ST (C2PO Ler-byte 1st)<br />&nbsp; &nbsp; &nbsp; `H' : To input two bytes of DATA input, each with a C2PO identifying the lower or upper byte, in<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; the order of the lower and upper bytes<br />&nbsp; &nbsp; &nbsp; `L' : To input two bytes of DATA input, each with a C2PO identifying the upper or lower byte, in<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; the order of the upper and lower bytes.<br />&nbsp; &nbsp; Here, the upper byte means the 8 (eight) upper bits including the MSB from the DSP for CD. And the lower<br />&nbsp; &nbsp; byte means the 8 (eight) lower bits including the LSB from the DSP for CD. For example, the minute byte<br />&nbsp; &nbsp; of the Header is a lower byte and the sec byte is a upper byte.<br />&nbsp; Bit5 LCHLOW (LCH LOW)<br />&nbsp; &nbsp; &nbsp; `H' : To determine that the data is Lch data when LRCK = `L'<br />&nbsp; &nbsp; &nbsp; `L' : To determine that the data is Lch data when LRCK = `H'<br />&nbsp; Bit4 BCKRED (BCLK Rising Edge)<br />&nbsp; &nbsp; &nbsp; `H' : To strobe DATA by the rising edge of BCLK<br />&nbsp; &nbsp; &nbsp; `L' : To strobe DATA by the falling edge of BCLK<br />&nbsp; Bit3, 2 BCKMD1, 0 (BCLK Mode 1, 0)<br />&nbsp; &nbsp; &nbsp; Set these bits, depending on the number of BCLK clocks output by the DSP for CD during a cycle of<br />&nbsp; &nbsp; &nbsp; WCLK.<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;BCKMD1&nbsp; &nbsp;BCKMD0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;`L'&nbsp; &nbsp; &nbsp; `L'&nbsp; &nbsp; &nbsp;16BCLKs/WCLK<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;`L'&nbsp; &nbsp; &nbsp; `H'&nbsp; &nbsp; &nbsp;24BCLKs/WCLK<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;`H'&nbsp; &nbsp; &nbsp; `X'&nbsp; &nbsp; &nbsp;32BCLKs/WCLK<br />&nbsp; Bit1 LSB 1ST (LSB First)<br />&nbsp; &nbsp; &nbsp; `H' : To connect to a DSP for CD which outputs DATA on an LSB first basis<br />&nbsp; &nbsp; &nbsp; `L' : To connect to a DSP for CD which outputs DATA on an MSB first basis<br />&nbsp; Bit0 CLKLOW (CLK LOW)<br />&nbsp; &nbsp; &nbsp; `H' : To fix CLK pin output at `L'<br />&nbsp; &nbsp; &nbsp; `L' : To output 8.4672 MHz clock from CLK pin output<br />&nbsp; &nbsp; The values of the individual bits of this register must be changed with the decoder in the disabled state.<br />&nbsp; &nbsp; Table 2.1.1 shows the values of bits of bit 6 through 1 to be set when the CXD1196AR is connected to<br />&nbsp; &nbsp; Sony DSPs for CD. Fig. 2.2.1 (1) through (3) show input timing charts.<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;DRVIF register<br />&nbsp; &nbsp;Sony DSP for CD&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;bit6 bit5 bit4 bit3 bit2 bit1&nbsp; &nbsp; Timing chart<br />&nbsp; &nbsp;-----------------------------------------------------------------------------<br />&nbsp; &nbsp;CDL30 series&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; L&nbsp; &nbsp; L&nbsp; &nbsp; L&nbsp; &nbsp; L&nbsp; &nbsp; H&nbsp; &nbsp; L&nbsp; &nbsp; &nbsp; &nbsp;Fig. 2.1.1 (1)<br />&nbsp; &nbsp;CDL35 series<br />&nbsp; &nbsp;-----------------------------------------------------------------------------<br />&nbsp; &nbsp;CDL40 series&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; L&nbsp; &nbsp; L&nbsp; &nbsp; H&nbsp; &nbsp; L&nbsp; &nbsp; H&nbsp; &nbsp; L&nbsp; &nbsp; &nbsp; &nbsp;Fig. 2.1.1 (2)<br />&nbsp; &nbsp;(48-bit slot mode)<br />&nbsp; &nbsp;-----------------------------------------------------------------------------<br />&nbsp; &nbsp;CDL40 series&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; L&nbsp; &nbsp; H&nbsp; &nbsp; L&nbsp; &nbsp; H&nbsp; &nbsp; X&nbsp; &nbsp; H&nbsp; &nbsp; &nbsp; &nbsp;Fig. 2.1.1 (3)<br />&nbsp; &nbsp;(64-bit slot mode)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Table 2.1.1 DRVIF Register Settings<br />&nbsp; (Note 1)<br />&nbsp; &nbsp;CDL30 series:&nbsp; CXD1125Q/QZ, CXD1130Q/QZ, CXD1135Q/QZ,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CXD1241Q/QZ, CXD1245Q, CXD1246Q/QZ,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CXD1247Q/QZ/R, etc.<br />&nbsp; &nbsp;CDL35 series&nbsp; &nbsp;CXD1165Q, CXD1167Q/QZ/R, etc.<br />&nbsp; &nbsp;CDL40 series&nbsp; &nbsp;CXD2500Q/QZ, etc.<br /><br />2.1.3 Chip Control (CHPCTL) register<br />&nbsp; Bit7-5 RESERVED<br />&nbsp; Bit4 CHPRST (Chip Reset)<br />&nbsp; &nbsp; When this bit is set at `H', the CXD1196AR is internally initialized. The bit setting will automatically<br />&nbsp; &nbsp; change to `L' when the internal initialization of the CXD1196AR is completed. Therefore, there is no<br />&nbsp; &nbsp; need for the CPU to change the setting at `L'. Initialization of the CXD1196AR will be completed in<br />&nbsp; &nbsp; 500ns after the bit has been set at `H' by the CPU.<br />&nbsp; Bit3 CD-DA (CD-Digital Audio)<br />&nbsp; &nbsp; `H' : When a CD-DA disc is to be played back, this bit is set at `H'.<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; The decoder must be placed in the disabled state (DECCTL register) when this bit is set at<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; `H'.<br />&nbsp; &nbsp; `L' : When a CD-ROM disc is to be played back, this bit is set at `L'.<br />&nbsp; Bit2 SWOPN (Sync Window Open)<br />&nbsp; &nbsp; `H' : When this bit is set at `H', the window for detection of SYNC mark will open. In this case,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; the SYNC protection circuit in the CXD1196AR will be disabled.<br />&nbsp; &nbsp; `L' : When this bit is set at `L', the window for detection of SYNC mark will be controlled by the<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SYNC protection circuit in the CXD1196AR.<br />&nbsp; Bit1 RPSTART (Repeat Correction Start)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; When the DECODER is placed in the repeat correction mode, and this bit set at `H', the error<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; correction of the current sector will begin. The bit setting will automatically change to `L' when<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; correction begins. Therefore, there is no need for the CPU to change the setting at `L'.<br />&nbsp; Bit0 ADPEN (ADPCM Enable)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; When the current sector is an ADPCM sector, the CPU sets this bit at `H' in less than 11.5 ms after a<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; decoder interrupt (DECINT). When the current sector is not an ADPCM sector, the CPU changes the<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bit setting at `L' in less than 11.5 ms after a decoder interrupt (DECINT).<br /><br />2.1.4 DECODER CONTROL (DECCTL) Register<br />&nbsp; Bit7 AUTOCI (Auto Coding Information)<br />&nbsp; &nbsp; `H' : To perform ADPCM playback according to the coding information from the drive. In this<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case, the CI register need not be set.<br />&nbsp; &nbsp; `L' : To perform ADPCM playback according to the value of the CI register.<br />&nbsp; Bit6 RESERVED<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Should be kept at `L' at all times.<br />&nbsp; Bit5 MODESEL (Mode Select)<br />&nbsp; Bit4 FORMSEL (Form Select)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; When AUTODIST = `L', the sector is corrected as the following MODE and FORM.<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;MODESEL&nbsp; &nbsp; &nbsp;FORMSEL<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;`L'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;`L'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; MODE1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;`H'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;`L'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; MODE2, FORM1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;`H'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;`L'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; MODE2, FORM2<br />&nbsp; Bit3 AUTODIST (Auto Distinction)<br />&nbsp; &nbsp; `H' : Errors are corrected according to the MODE byte and FORM bit read from the drive.<br />&nbsp; &nbsp; `L' : Errors are corrected according to bit 5 MODESEL and bit4 FORMSEL.<br />&nbsp; Bit2-0 : DECMD 2-0 (Decoder Mode 2-0)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;DECMD2&nbsp; DECMD1&nbsp; DECMD0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;`L'&nbsp; &nbsp; &nbsp;`L'&nbsp; &nbsp; &nbsp;`X'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Decoder disable<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;`L'&nbsp; &nbsp; &nbsp;`H'&nbsp; &nbsp; &nbsp;`X'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Monitor only mode<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;`H'&nbsp; &nbsp; &nbsp;`L'&nbsp; &nbsp; &nbsp;`L'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Write only mode<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;`H'&nbsp; &nbsp; &nbsp;`L'&nbsp; &nbsp; &nbsp;`H'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Real time correction mode<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;`H'&nbsp; &nbsp; &nbsp;`H'&nbsp; &nbsp; &nbsp;`L'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Repeat correction mode<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;`H'&nbsp; &nbsp; &nbsp;`H'&nbsp; &nbsp; &nbsp;`H'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Inhibit<br />&nbsp; &nbsp; These bits are set at `L' when the CDDA bit (bit3) of the CHPCTL register is `H'.<br /><br />2.1.5 Interrupt Mask (INTMSK) Register<br />When the individual bits of this register are set at `H', an interrupt request from the CXD1196AR to the CPU<br />is enabled in response to the corresponding interrupt status. (That is, when the interrupt status is created,<br />the INT pin is made active.) The value of the individual bits of the register does not affect the<br />corresponding interrupt status.<br />&nbsp; Bit7 ADPEND (ADPCM End)<br />&nbsp; &nbsp; When this chip has completed the ADPCM decode for a sector, if the ADPCM decode for the next<br />&nbsp; &nbsp; sector is not enabled, the ADPEND status is created.<br />&nbsp; Bit6 DECTOUT (Decoder Time Out)<br />&nbsp; &nbsp; If no SYNC mark is detected during a period of 3 sectors (40.6 ms in normal speed playback mode)<br />&nbsp; &nbsp; after the DECODER has been set in the monitor only, and real time correction modes, the DECTOUT<br />&nbsp; &nbsp; status is created.<br />&nbsp; Bit5 DMACMP (DMA Complete)<br />&nbsp; &nbsp; When DMA is ended by DMAXFRC, the DMACMP status is created.<br />&nbsp; Bit4 DECINT (Decoder Interrupt)<br />&nbsp; &nbsp; If a SYNC mark is detected or internally inserted during execution of the write only, monitor only and<br />&nbsp; &nbsp; real time correction modes by the DECODER, the DECINT status is created. When the SYNC mark<br />&nbsp; &nbsp; detected window is open, however, if the SYNC mark spacing is less than 2352 bytes, the DECINT<br />&nbsp; &nbsp; status is not created. During execution of the repeat correction mode by the DECODER, the<br />&nbsp; &nbsp; DECINT status is created each time a correction ends.<br />&nbsp; Bit3 CIERR (Coding Information Error)<br />&nbsp; &nbsp; When AUTOCI bit of DECCTL register is set at &quot;H&quot; and ADPCM decode playback is done, if there is<br />&nbsp; &nbsp; an error in a CI byte of an ADPCM sector, the CIERR status is created. ADPCM decode playback of<br />&nbsp; &nbsp; this sector will not be done.<br />&nbsp; Bit2-0 RESERVED<br /><br />2.1.6 Clear Interrupt Status (INCTCLR) Register&nbsp; &nbsp;(uh, &quot;INCT&quot;, not INT?)<br />When the individual bit of this register is set at `H', the corresponding interrupt status is cleared. The<br />individual bit is automatically set at `L' after the interrupt status has been cleared. Therefore, there is no<br />need for the CPU to change the setting at `L'.<br />&nbsp; Bit7 ADPEND (ADPCM End)<br />&nbsp; Bit6 DECTOUT (DECODER Time Out)<br />&nbsp; Bit5 DMACMP (DMA Complete)<br />&nbsp; Bit4 DECINT (DECODER Interrupt)<br />&nbsp; Bit3 CIERR (Coding Information Error)<br />&nbsp; Bit2-0 RESERVED<br /><br />2.1.7 Coding Information (CI) Register<br />When ADPCM decoding is to be done by setting AUTOCI = `L', the coding information is written to this<br />register. The bit configuration is the same as that of the coding information byte of the sub header.<br /><br />2.1.8 DMA Address Counter-L (DMAADRC-L)<br />2.1.9 DMA Address Counter-H (DMAADRC-H)<br />This counter retains the address to be used by the CPU when reading data from the buffer. When the data<br />to be sent to the CPU is read from the buffer, the contents of the DMAADRC are output from MA0-14.<br />Each time data to be sent to the CPU is read from the buffer, the DMAADRC is incremented.<br />The CPU sets the head address of DMA in the DMAADRC before starting DMA. The CPU can read and<br />set the contents of the DMAADRC at any time. Do not change the contents of the DMAADRC during<br />execution of DMA.<br /><br />2.1.10 DMAXFRC-L<br />2.1.11 DMA Control (DMACTL) register<br />&nbsp; Bit7 DMAXFRC11&nbsp; &nbsp; &nbsp; &nbsp;Bit11 (MSB) of DMAXFRC (Transfer Counter)<br />&nbsp; Bit6 DMAXFRC10&nbsp; &nbsp; &nbsp; &nbsp;bit10 of DMAXFRC<br />&nbsp; Bit5 DMAXFRC9&nbsp; &nbsp; &nbsp; &nbsp; bit9 of DMAXFRC<br />&nbsp; Bit4 DMAXFRC8&nbsp; &nbsp; &nbsp; &nbsp; bit8 of DMAXFRC<br />&nbsp; Bit3 DMAEN (CPU DMA Enable)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; `H' : To enable DMA<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; `L' : To inhibit DMA<br />&nbsp; Bit2-0 RESERVED<br />The DMAXFRC (DMA Transfer Counter) is a counter which indicates the number of DMA transfers. Each<br />time the data to be transferred to the CPU is read from the buffer, the counter is decremented. When the<br />value of the DMAXFRC reaches 0, DMA ends. At this point, interrupt request may be output to the CPU.<br />When data transfer is not to be ended by DMAXFRC as in the case of data transfer in the I/O mode,<br />DMAXFRC should be set at 0 when data transfer is started (when DMAEN bit is set at `H'). The CPU can<br />read and set the contents of DMAXFRC at any time. During execution of DMA, do not change the contents<br />of DMAXFRC.<br /><br />2.1.12 DRVADRC-L (Drive Address Counter-L)<br />2.1.13 DRVADRC-H<br />The DRVADRC is a counter which retains the address for writing the data from the drive to the buffer.<br />When the drive data is written to the buffer, the value of DRVADRC is output from MA01-14 pins. Each<br />time a byte of data from the drive is written to the buffer, the DRVADRC is incremented.<br />Before execution of the write only mode and real time correction mode of the DECODER, the CPU sets the<br />buffer write head address in the DRVADRC.<br />The CPU can read and set the contents of DRVADRC at any time. During execution of DMA, do not<br />change the contents of DRVADRC.<br /><br /><br />CXD1196AR - Read register<br />----------------------------<br /><br />&nbsp; REG&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A0 RA&nbsp; &nbsp; &nbsp; bit7&nbsp; &nbsp; bit6&nbsp; &nbsp; &nbsp;bit5&nbsp; &nbsp; &nbsp;bit4&nbsp; &nbsp; &nbsp;bit3&nbsp; &nbsp; bit2&nbsp; &nbsp; &nbsp;bit1&nbsp; &nbsp; &nbsp;bit0<br />&nbsp; REGADR&nbsp; &nbsp; &nbsp; L&nbsp; X&nbsp; &nbsp; &nbsp; &nbsp;X&nbsp; &nbsp; &nbsp; &nbsp;X&nbsp; &nbsp; &nbsp; &nbsp; X&nbsp; &nbsp; &nbsp; &nbsp; RA4&nbsp; &nbsp; &nbsp; RA3&nbsp; &nbsp; &nbsp;RA2&nbsp; &nbsp; &nbsp; RA1&nbsp; &nbsp; &nbsp; RA0<br />&nbsp; DMA DATA&nbsp; &nbsp; H&nbsp; 00&nbsp; &nbsp; &nbsp; bit7&nbsp; &nbsp; bit6&nbsp; &nbsp; &nbsp;bit5&nbsp; &nbsp; &nbsp;bit4&nbsp; &nbsp; &nbsp;bit3&nbsp; &nbsp; bit2&nbsp; &nbsp; &nbsp;bit1&nbsp; &nbsp; &nbsp;bit0<br />&nbsp; INTSTS&nbsp; &nbsp; &nbsp; H&nbsp; 01&nbsp; &nbsp; &nbsp; ADP END DEC TOUT DMA CMP&nbsp; DEC INT&nbsp; CI ERR&nbsp; X&nbsp; &nbsp; &nbsp; &nbsp; X&nbsp; &nbsp; &nbsp; &nbsp; X<br />&nbsp; STS&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;H&nbsp; 02&nbsp; &nbsp; &nbsp; DRQ&nbsp; &nbsp; &nbsp;ADP BSY&nbsp; ERIN BLK COR INH&nbsp; EDC OK&nbsp; ECC OK&nbsp; &nbsp;SHRT SCT NO SYNC<br />&nbsp; HDRFLG&nbsp; &nbsp; &nbsp; H&nbsp; 03&nbsp; &nbsp; &nbsp; MIN&nbsp; &nbsp; &nbsp;SEC&nbsp; &nbsp; &nbsp; BLO CK&nbsp; &nbsp;MODE&nbsp; &nbsp; &nbsp;FILE&nbsp; &nbsp; CHAN NEL SUB MODE CI<br />&nbsp; HDR MIN&nbsp; &nbsp; &nbsp;H&nbsp; X4&nbsp; &nbsp; &nbsp; bit7&nbsp; &nbsp; bit6&nbsp; &nbsp; &nbsp;bit5&nbsp; &nbsp; &nbsp;bit4&nbsp; &nbsp; &nbsp;bit3&nbsp; &nbsp; bit2&nbsp; &nbsp; &nbsp;bit1&nbsp; &nbsp; &nbsp;bit0<br />&nbsp; HDR SEC&nbsp; &nbsp; &nbsp;H&nbsp; X5&nbsp; &nbsp; &nbsp; bit7&nbsp; &nbsp; bit6&nbsp; &nbsp; &nbsp;bit5&nbsp; &nbsp; &nbsp;bit4&nbsp; &nbsp; &nbsp;bit3&nbsp; &nbsp; bit2&nbsp; &nbsp; &nbsp;bit1&nbsp; &nbsp; &nbsp;bit0<br />&nbsp; HDR BLOCK&nbsp; &nbsp;H&nbsp; X6&nbsp; &nbsp; &nbsp; bit7&nbsp; &nbsp; bit6&nbsp; &nbsp; &nbsp;bit5&nbsp; &nbsp; &nbsp;bit4&nbsp; &nbsp; &nbsp;bit3&nbsp; &nbsp; bit2&nbsp; &nbsp; &nbsp;bit1&nbsp; &nbsp; &nbsp;bit0<br />&nbsp; HDR MODE&nbsp; &nbsp; H&nbsp; X7&nbsp; &nbsp; &nbsp; bit7&nbsp; &nbsp; bit6&nbsp; &nbsp; &nbsp;bit5&nbsp; &nbsp; &nbsp;bit4&nbsp; &nbsp; &nbsp;bit3&nbsp; &nbsp; bit2&nbsp; &nbsp; &nbsp;bit1&nbsp; &nbsp; &nbsp;bit0<br />&nbsp; SHDR FILE&nbsp; &nbsp;H&nbsp; 08&nbsp; &nbsp; &nbsp; bit7&nbsp; &nbsp; bit6&nbsp; &nbsp; &nbsp;bit5&nbsp; &nbsp; &nbsp;bit4&nbsp; &nbsp; &nbsp;bit3&nbsp; &nbsp; bit2&nbsp; &nbsp; &nbsp;bit1&nbsp; &nbsp; &nbsp;bit0<br />&nbsp; SHDR CH&nbsp; &nbsp; &nbsp;H&nbsp; 09&nbsp; &nbsp; &nbsp; bit7&nbsp; &nbsp; bit6&nbsp; &nbsp; &nbsp;bit5&nbsp; &nbsp; &nbsp;bit4&nbsp; &nbsp; &nbsp;bit3&nbsp; &nbsp; bit2&nbsp; &nbsp; &nbsp;bit1&nbsp; &nbsp; &nbsp;bit0<br />&nbsp; SHDR S-MODE H&nbsp; 0A&nbsp; &nbsp; &nbsp; bit7&nbsp; &nbsp; bit6&nbsp; &nbsp; &nbsp;bit5&nbsp; &nbsp; &nbsp;bit4&nbsp; &nbsp; &nbsp;bit3&nbsp; &nbsp; bit2&nbsp; &nbsp; &nbsp;bit1&nbsp; &nbsp; &nbsp;bit0<br />&nbsp; SHDR CI&nbsp; &nbsp; &nbsp;H&nbsp; 0B&nbsp; &nbsp; &nbsp; bit7&nbsp; &nbsp; bit6&nbsp; &nbsp; &nbsp;bit5&nbsp; &nbsp; &nbsp;bit4&nbsp; &nbsp; &nbsp;bit3&nbsp; &nbsp; bit2&nbsp; &nbsp; &nbsp;bit1&nbsp; &nbsp; &nbsp;bit0<br />&nbsp; CMADR L&nbsp; &nbsp; &nbsp;H&nbsp; 0C&nbsp; &nbsp; &nbsp; bit7&nbsp; &nbsp; bit6&nbsp; &nbsp; &nbsp;bit5&nbsp; &nbsp; &nbsp;bit4&nbsp; &nbsp; &nbsp;bit3&nbsp; &nbsp; bit2&nbsp; &nbsp; &nbsp;bit1&nbsp; &nbsp; &nbsp;bit0<br />&nbsp; CMADR H&nbsp; &nbsp; &nbsp;H&nbsp; 0D&nbsp; &nbsp; &nbsp; X&nbsp; &nbsp; &nbsp; &nbsp;bit14&nbsp; &nbsp; bit13&nbsp; &nbsp; bit12&nbsp; &nbsp; bit11&nbsp; &nbsp;bit10&nbsp; &nbsp; bit9&nbsp; &nbsp; &nbsp;bit8<br />&nbsp; MDFM&nbsp; &nbsp; &nbsp; &nbsp; H&nbsp; XE&nbsp; &nbsp; &nbsp; X&nbsp; &nbsp; &nbsp; &nbsp;X&nbsp; &nbsp; &nbsp; &nbsp; X&nbsp; &nbsp; &nbsp; &nbsp; RAW MD2&nbsp; RAW MD1 RAW MD0&nbsp; C MODE&nbsp; &nbsp;C FORM<br />&nbsp; ADPCI&nbsp; &nbsp; &nbsp; &nbsp;H&nbsp; XF&nbsp; &nbsp; &nbsp; MUTE&nbsp; &nbsp; EMPHASIS EOR&nbsp; &nbsp; &nbsp; BIT L4H8 X&nbsp; &nbsp; &nbsp; &nbsp;FS L3H1&nbsp; X&nbsp; &nbsp; &nbsp; &nbsp; MONO STE<br />&nbsp; DMA XFRC-L&nbsp; H&nbsp; 18&nbsp; &nbsp; &nbsp; bit7&nbsp; &nbsp; bit6&nbsp; &nbsp; &nbsp;bit5&nbsp; &nbsp; &nbsp;bit4&nbsp; &nbsp; &nbsp;bit3&nbsp; &nbsp; bit2&nbsp; &nbsp; &nbsp;bit1&nbsp; &nbsp; &nbsp;bit0<br />&nbsp; DMA XFRC-H&nbsp; H&nbsp; 19&nbsp; &nbsp; &nbsp; X&nbsp; &nbsp; &nbsp; &nbsp;bit14&nbsp; &nbsp; bit13&nbsp; &nbsp; bit12&nbsp; &nbsp; bit11&nbsp; &nbsp;bit10&nbsp; &nbsp; bit9&nbsp; &nbsp; &nbsp;bit8<br />&nbsp; DMA ADRC-L&nbsp; H&nbsp; 1A&nbsp; &nbsp; &nbsp; bit7&nbsp; &nbsp; bit6&nbsp; &nbsp; &nbsp;bit5&nbsp; &nbsp; &nbsp;bit4&nbsp; &nbsp; &nbsp;bit3&nbsp; &nbsp; bit2&nbsp; &nbsp; &nbsp;bit1&nbsp; &nbsp; &nbsp;bit0<br />&nbsp; DMA ADRC-H&nbsp; H&nbsp; 1B&nbsp; &nbsp; &nbsp; X&nbsp; &nbsp; &nbsp; &nbsp;bit14&nbsp; &nbsp; bit13&nbsp; &nbsp; bit12&nbsp; &nbsp; bit11&nbsp; &nbsp;bit10&nbsp; &nbsp; bit9&nbsp; &nbsp; &nbsp;bit8<br />&nbsp; DRV ADRC-L&nbsp; H&nbsp; 1C&nbsp; &nbsp; &nbsp; bit7&nbsp; &nbsp; bit6&nbsp; &nbsp; &nbsp;bit5&nbsp; &nbsp; &nbsp;bit4&nbsp; &nbsp; &nbsp;bit3&nbsp; &nbsp; bit2&nbsp; &nbsp; &nbsp;bit1&nbsp; &nbsp; &nbsp;bit0<br />&nbsp; DRV ADRC-H&nbsp; H&nbsp; 1D&nbsp; &nbsp; &nbsp; X&nbsp; &nbsp; &nbsp; &nbsp;bit14&nbsp; &nbsp; bit13&nbsp; &nbsp; bit12&nbsp; &nbsp; bit11&nbsp; &nbsp;bit10&nbsp; &nbsp; bit9&nbsp; &nbsp; &nbsp;bit8<br />&nbsp; TEST 0 to 2 H&nbsp; 10 to 2 X&nbsp; &nbsp; &nbsp; &nbsp;X&nbsp; &nbsp; &nbsp; &nbsp; X&nbsp; &nbsp; &nbsp; &nbsp; X&nbsp; &nbsp; &nbsp; &nbsp; X&nbsp; &nbsp; &nbsp; &nbsp;X&nbsp; &nbsp; &nbsp; &nbsp; X&nbsp; &nbsp; &nbsp; &nbsp; X<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Read Registers<br /><br />In the descriptions of the registers STS, HDRFLG, HDR, SHDR and CMADR, what is referred to as the<br />current sector refers to the sector where registers are valid for a decoder interrupt (DECINT). In the monitor<br />only and write only modes, the sector from the DSP for CD just before a decoder interrupt is called the<br />current sector. In the real time correction mode and repeat correction mode, the sector that has gone<br />through error detection and correction is referred to as the current sector.<br /><br />2.2.1 Register Address (REGADR) Register<br /><br />2.2.2 DMADATA Register<br />When data transfer (buffer read) is to be made in the I/O mode, the CPU reads data from this register.<br /><br />2.2.3 Interrupt Status (INTSTS) Register<br />The values of the individual bits of this register indicate the respective associated values of interrupt status.<br />These bits are not affected by the values of the individual bits of the INTMSK register.<br />&nbsp; Bit7 ADPEND (ADPCM End)<br />&nbsp; Bit6 DECTOUT (DECODER Time Out)<br />&nbsp; Bit5 DMACMP (DMA Complete)<br />&nbsp; Bit4 DECINT (DECODER Interrupt)<br />&nbsp; Bit3 CIERR (Coding Information Error)<br /><br />2.2.4 Status (STS) Register<br />&nbsp; Bit7 DRQ (Data Request)<br />&nbsp; &nbsp; This bit indicates the value of the DRQ pin.<br />&nbsp; Bit6 ADPBSY (ADPCM BUSY)<br />&nbsp; &nbsp; This bit goes `H' during ADPCM playback.<br />&nbsp; Bit5 ERINBLK (Erasure in Block)<br />&nbsp; &nbsp; On all the bytes of the current sector except the SYNC byte, this bit goes `H' if there is one or more<br />&nbsp; &nbsp; bytes from the DSP for CD whose C2 pointer is ON.<br />&nbsp; Bit4 CORINH (Correction Inhibit)<br />&nbsp; &nbsp; When the DECCTL register is set AUTODIST bit = `H', this bit goes `H' if the error flag is ON in the<br />&nbsp; &nbsp; MODE (and FORM) byte.<br />&nbsp; Bit3 EDCOK<br />&nbsp; &nbsp; Indicates EDC check showed there were no errors in the current sector.<br />&nbsp; Bit2 ECCOK<br />&nbsp; &nbsp; Indicates there are no more errors from the Header to P parity bytes in the current sector. (In the<br />&nbsp; &nbsp; MODE2, FORM2 sector, this bit is treated as a DON'T CARE bit.)<br />&nbsp; Bit1 SHRTSCT (Short Sector)<br />&nbsp; &nbsp; Indicates the Sync Mark interval was less than 2351 bytes. On this sector, neither ECC nor EDC is<br />&nbsp; &nbsp; executed.<br />&nbsp; Bit0 NOSYNC<br />&nbsp; &nbsp; Indicates that the SYNC Mark, not detected in the predetermined position, is one internally inserted.<br /><br />2.2.5 Header Flag (HDRFLG) Register<br />Indicates the value of the error pointer of the Header and Sub Header registers.<br /><br />2.2.6 Header (HDR) Register<br />It is a 4-byte register indicating the Header byte of the current sector. The CPU can find the value of the<br />Header byte of the current sector from the Minute byte as it sets the REGADR register at X4 hex and<br />successively reads data.<br /><br />2.2.7 Sub Header (SHDR) Register<br />It is a 4-byte register indicating the Sub Header byte of the current sector. The CPU can find the value of<br />the Sub Header byte of the current sector from the File byte as it sets the REGADR register at 08 hex and<br />successively reads data.<br /><br />2.2.8 Current Minute Address L (CMADR-L) Register<br />2.2.9 Current Minute Address H (CMADR-H) Register<br />Indicates the buffer memory address where the Minute bytes of the current sector (after correction) is in<br />store.<br /><br />2.2.10 MODE/FORM (MDFM) Register<br />&nbsp; Bit4-2 RMODE2-0<br />&nbsp; &nbsp; RMODE2 : Indicates the logic sum of the value of the high-order 6 bits of the raw MODE byte and the<br />&nbsp; &nbsp; pointer.<br />&nbsp; &nbsp; RMODE1, 0 : Respectively indicate the values of the low-order 2 bits of the raw MODE byte.<br />&nbsp; Bit1 CMODE (Correction Mode)<br />&nbsp; Bit0 CFORM (Correction Form)<br />&nbsp; &nbsp; These bits indicate which of the MODEs and FORMs this IC determined that the current sector was<br />&nbsp; &nbsp; associated with when it corrected errors.<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;CFORM&nbsp; &nbsp;CMODE<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;`X'&nbsp; &nbsp; &nbsp;`L'&nbsp; &nbsp; &nbsp; MODE1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;`L'&nbsp; &nbsp; &nbsp;`H'&nbsp; &nbsp; &nbsp; MODE2, FORM1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;`H'&nbsp; &nbsp; &nbsp;`H'&nbsp; &nbsp; &nbsp; MODE2, FORM2<br /><br />2.2.11 ADPCI (ADPCM Coding Information) Register<br />&nbsp; Bit7 MUTE<br />&nbsp; &nbsp; This bit goes `H' when the DA data is muted on.<br />&nbsp; Bit6 EMPHASIS<br />&nbsp; &nbsp; This bit goes `H' when the ADPCM data is emphasized.<br />&nbsp; Bit5 EOR (End of Record)<br />&nbsp; &nbsp; This bit goes `H' when the Sub Mode byte bit0 = `H' and there is no error in the Sub Mode byte.<br />&nbsp; Bit4 BITLNGTH (Bit Length)<br />&nbsp; &nbsp; This bit indicates the bit length of ADPCM playback coding information.<br />&nbsp; &nbsp; `H' : 8 bits<br />&nbsp; &nbsp; `L' : 4 bits<br />&nbsp; Bit2 FS (Sampling Frequency)<br />&nbsp; &nbsp; This bit indicates the ADPCM playback sampling frequency.<br />&nbsp; &nbsp; `H' : 18.9 kHz<br />&nbsp; &nbsp; `L' : 37.8 kHz<br />&nbsp; Bit0 M/S (MONO/STEREO)<br />&nbsp; &nbsp; This bit indicates &quot;monaural&quot; or &quot;stereo&quot; of ADPCM playback coding information.<br />&nbsp; &nbsp; `H' : Stereo<br />&nbsp; &nbsp; `L' : Monaural<br /><br />2.2.12 DMAXFRC-L<br />2.2.13 DMAXFRC-H<br />2.2.14 DMAADRC-H&nbsp; &nbsp;;uh, &quot;-H&quot;, not &quot;-L&quot;?<br />2.2.15 DMAADRC-H<br />2.2.16 DRVADRC-L<br />2.2.17 DRVADRC-H<br /></div></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=5211&amp;sid=fcea196024798b47470d4933d469cea3"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p166008"></a>
				<b class="postauthor">nocash</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p166008">Re: SuperDisc BIOS released + analysis [attn: nocash]</a></div><div style="float: right;"><a href="./viewtopic.php?p=166008&amp;sid=fcea196024798b47470d4933d469cea3#p166008"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Mar 10, 2016 2:17 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Feb 24, 2012 12:09 pm<br /><b>Posts:</b> 483
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">byuu wrote:</div><div class="quotecontent">I'm afraid this is all we were given by the owners:http://luigiblood.tumblr.com/post/132730812143/here-are-my-research-about-the-snes-playstation</div><br />That webpage doesn't allow browsing to higher resolution images for me. But, I've just figured out that one can manually change the image URLs from &quot;_500.jpg&quot; to &quot;_1280.jpg&quot;. With that trick, I can now confirm that the mainboard does really contain S-CPU and S-PPU2 chips (surprise), and they seem to be just normal SNES chips without cdrom specific revisions.<br /><br /><div class="quotetitle">LuigiBlood wrote:</div><div class="quotecontent">No there's even more, I've just put out a quick album: <!-- m --><a class="postlink" href="http://imgur.com/a/2PGcU">http://imgur.com/a/2PGcU</a><!-- m --></div><br />That webpage shows only 10 images for me (the last two pics being the BIOS cart, and a closeup of the CXDxxx APU chips), then followed by 3 gray fields that do look as they should contain 3 further images. Is that intended to look as so, or am I missing some pictures?<br /><br /><div class="quotetitle">TriMesh wrote:</div><div class="quotecontent">[ from <!-- m --><a class="postlink" href="http://assemblergames.com/l/threads/snes-cd-nintendo-playstation-works-sort-of.58860/#post-842450">http://assemblergames.com/l/threads/sne ... ost-842450</a><!-- m --> ]<br />based on the on photos that have been posted [...] There are also 5 visible ICs on the back of the CD-ROM control board - one of them is a Rohm BTL driver another looks like a Sony CXA1272 (old CD drive focus / tracking servo) - the other chips are small SOP devices with numbers I can't read.</div><br />What photos is that referring to? I haven't seen any such chips. And what is &quot;the CD-ROM control board&quot;? It's apparently <em>not</em> the board that TriMesh is calling &quot;The top board has a 4-bit MCU and a liquid crystal display&quot;.</div>

					
							<br /><br />
							<span class="gensmall">Last edited by <a href="./memberlist.php?mode=viewprofile&amp;u=5211&amp;sid=fcea196024798b47470d4933d469cea3">nocash</a> on Thu Mar 10, 2016 2:29 pm, edited 1 time in total.</span>
						<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=5211&amp;sid=fcea196024798b47470d4933d469cea3"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p166010"></a>
				<b class="postauthor">LuigiBlood</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p166010">Re: SuperDisc BIOS released + analysis [attn: nocash]</a></div><div style="float: right;"><a href="./viewtopic.php?p=166010&amp;sid=fcea196024798b47470d4933d469cea3#p166010"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Mar 10, 2016 2:24 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=4498_1457996024.jpg" width="100" height="88" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Thu Jul 29, 2010 2:24 pm<br /><b>Posts:</b> 23
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">nocash wrote:</div><div class="quotecontent"><div class="quotetitle">LuigiBlood wrote:</div><div class="quotecontent">No there's even more, I've just put out a quick album: <!-- m --><a class="postlink" href="http://imgur.com/a/2PGcU">http://imgur.com/a/2PGcU</a><!-- m --></div><br />That webpage shows only 10 images for me (the last two pics being the BIOS cart, and a closeup of the CXDxxx APU chips), then followed by 3 gray fields that do look as they should contain 3 further images. Is that intended to look as so, or am I missing some pictures?</div><br />You're indeed missing out. Because 2 of those are the images I used in my blog without any tagging on it.<br />I'll link those if you're having trouble for those:<br /><!-- m --><a class="postlink" href="http://imgur.com/pLmPX2g">http://imgur.com/pLmPX2g</a><!-- m --><br /><!-- m --><a class="postlink" href="http://imgur.com/c3gLJXT">http://imgur.com/c3gLJXT</a><!-- m --><br /><!-- m --><a class="postlink" href="http://imgur.com/5mzKNVO">http://imgur.com/5mzKNVO</a><!-- m --></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=4498&amp;sid=fcea196024798b47470d4933d469cea3"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p166012"></a>
				<b class="postauthor">byuu</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p166012">Re: SuperDisc BIOS released + analysis [attn: nocash]</a></div><div style="float: right;"><a href="./viewtopic.php?p=166012&amp;sid=fcea196024798b47470d4933d469cea3#p166012"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Mar 10, 2016 2:51 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Mar 27, 2006 5:23 pm<br /><b>Posts:</b> 1039
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">&gt; 21D0h, 21E0h, 21E5h seem to locking/unlocking the battery backed SRAM (ie. located in the BIOS cartridge, not related to the CDROM hardware).<br /><br />Three registers to toggle SRAM?<br /><br />They are clearly using the expansion pins on the cartridge (although I can't really see the traces to know if all the right signals are connected for that), but it's kind of increduluos they're doing so just for a SRAM disable, instead of putting that onto $008000 (or $004000 or whatever) writes. I also can't really spot any components on the cart that could hold state based on decoded writes to B-bus 'registers'.<br /><br />$21d0 would probably be the most likely. Feels weird to have it on the edges of the $21ex registers, however the disassembly only revealed a single stz $21d0 and nothing more. I am not even sure where that stz $21d0 is executed yet.<br /><br />&gt; One weird thing is that the new APU couldn't be used in CDROM expansions (for existing SNES consoles), unless it where mapped to some other 21xxh addresses in case of expansion models.<br /><br />I don't see why they'd bother to make such a minor enhancement to the APU, break this design for expansion port mode yet add no significant new base CPU power, and have no evidence of it in the sound test.<br /><br />Are you thinking the SuperDisc allowed decoding digital ADPCM data as an alternative to redbook audio playback? That would be ... very unfun to try to emulate with no source data whatsoever.<br /><br />&gt; Why CXD1803AQ? Guess you missed the note about the CXD1196AR datasheet<br /><br />Didn't look at the 1196 yet, sorry. 1803 was closer to 1800, but apparently part numbers are psychotic. That's an awesome find again, thank you!<br /><br />&gt; I think other emu programmers completely got around cdrom-image decoding by simply prompting users to mount the cdrom image as virtual cdrom drive via external utilities).<br /><br />It's just going to be you and me this time, most definitely. I'd be floored if anyone else ever emulates this. I wouldn't even do it if it weren't such an incredibly major part of gaming history lore. The whole thing is horrendously crippled by the absence of extra CPU processing power. I am very much certain that had the Sony partnership stayed in-tact, that the hardware design would have changed/extended. This was clearly an early proto (maybe they didn't get far into protos), just to prove that &quot;yes, we can load CD game content onto an SNES system.&quot;<br /><br />All the same, I need to understand what all can be done with this drive first.<br /><br />I very much doubt I'll try and support physical CDs. Especially since these may use weird format discs (unlikely, and we don't have to emulate the weird bits, but why have CDs that don't really work on the zero working hardware prototypes?)<br /><br />What's going to be tricky is if you can play back redbook audio tracks while game data is loaded in and executing. In that case, we can't use just plain ISO. I am kind of regretting that I used &quot;MSU1&quot; for the signature of my .pcm files now :/<br /><br />What's going to be even harder is simulating all the CD interface stuff: disc eject, disc swap, the six physical buttons on the front for sending CD player commands, etc. We can't even tell from the BIOS screen if those front-facing buttons actually let you play a music CD. But it's a good guess that they do.<br /><br />Glancing at your CXD1196 doc, it looks like it is indeed using some custom ADPCM format =(<br /><br />By the way, have you figured out what the X's mean in addresses yet? Eg X4 HDRMIN. Does that mean the register mirrors at 04,14,(24,34,...f4)? Or that there are two (or more) HDRMIN registers? Or just that you're intended to read it sequentially?<br /><br />&gt; I'll link those if you're having trouble for those:<br /><br />I wonder what the unlabeled square IC is above the MA-15 PCB text?</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=375&amp;sid=fcea196024798b47470d4933d469cea3"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table width="100%" cellspacing="1" class="tablebg">
	<tr align="center">
		<td class="cat"><form name="viewtopic" method="post" action="./viewtopic.php?f=12&amp;t=13907&amp;start=30&amp;sid=fcea196024798b47470d4933d469cea3"><span class="gensmall">Display posts from previous:</span> <select name="st" id="st"><option value="0" selected="selected">All posts</option><option value="1">1 day</option><option value="7">7 days</option><option value="14">2 weeks</option><option value="30">1 month</option><option value="90">3 months</option><option value="180">6 months</option><option value="365">1 year</option></select>&nbsp;<span class="gensmall">Sort by</span> <select name="sk" id="sk"><option value="a">Author</option><option value="t" selected="selected">Post time</option><option value="s">Subject</option></select> <select name="sd" id="sd"><option value="a" selected="selected">Ascending</option><option value="d">Descending</option></select>&nbsp;<input class="btnlite" type="submit" value="Go" name="sort" /></form></td>
	</tr>
	</table>
	

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=12&amp;sid=fcea196024798b47470d4933d469cea3"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=12&amp;t=13907&amp;sid=fcea196024798b47470d4933d469cea3"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>3</strong> of <strong>5</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 73 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"><b><a href="#" onclick="jumpto(); return false;" title="Click to jump to pageâ€¦">Go to page</a> <a href="./viewtopic.php?f=12&amp;t=13907&amp;sid=fcea196024798b47470d4933d469cea3&amp;start=15">Previous</a>&nbsp;&nbsp;<a href="./viewtopic.php?f=12&amp;t=13907&amp;sid=fcea196024798b47470d4933d469cea3">1</a><span class="page-sep">, </span><a href="./viewtopic.php?f=12&amp;t=13907&amp;sid=fcea196024798b47470d4933d469cea3&amp;start=15">2</a><span class="page-sep">, </span><strong>3</strong><span class="page-sep">, </span><a href="./viewtopic.php?f=12&amp;t=13907&amp;sid=fcea196024798b47470d4933d469cea3&amp;start=45">4</a><span class="page-sep">, </span><a href="./viewtopic.php?f=12&amp;t=13907&amp;sid=fcea196024798b47470d4933d469cea3&amp;start=60">5</a> &nbsp;<a href="./viewtopic.php?f=12&amp;t=13907&amp;sid=fcea196024798b47470d4933d469cea3&amp;start=45">Next</a></b></td>
		
	</tr>
	</table>

</div>

<div id="pagefooter"></div>

<br clear="all" />
<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php?sid=fcea196024798b47470d4933d469cea3">Board index</a> &#187; <a href="./viewforum.php?f=25&amp;sid=fcea196024798b47470d4933d469cea3">Other</a> &#187; <a href="./viewforum.php?f=12&amp;sid=fcea196024798b47470d4933d469cea3">SNESdev</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>
	<br clear="all" />

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat"><h4>Who is online</h4></td>
	</tr>
	<tr>
		<td class="row1"><p class="gensmall">Users browsing this forum: <span style="color: #9E8DA7;" class="username-coloured">Google [Bot]</span>, <a href="./memberlist.php?mode=viewprofile&amp;u=6832&amp;sid=fcea196024798b47470d4933d469cea3">nicklausw</a> and 4 guests</p></td>
	</tr>
	</table>


<br clear="all" />

<table width="100%" cellspacing="1">
<tr>
	<td width="40%" valign="top" nowrap="nowrap" align="left"></td>
	<td align="right" valign="top" nowrap="nowrap"><span class="gensmall">You <strong>cannot</strong> post new topics in this forum<br />You <strong>cannot</strong> reply to topics in this forum<br />You <strong>cannot</strong> edit your posts in this forum<br />You <strong>cannot</strong> delete your posts in this forum<br />You <strong>cannot</strong> post attachments in this forum<br /></span></td>
</tr>
</table>

<br clear="all" />

<table width="100%" cellspacing="0">
<tr>
	<td><form method="get" name="search" action="./search.php?sid=fcea196024798b47470d4933d469cea3"><span class="gensmall">Search for:</span> <input class="post" type="text" name="keywords" size="20" /> <input class="btnlite" type="submit" value="Go" /><input type="hidden" name="t" value="13907" />
<input type="hidden" name="sf" value="msgonly" />
<input type="hidden" name="sid" value="fcea196024798b47470d4933d469cea3" />
</form></td>
	<td align="right">
	<form method="post" name="jumpbox" action="./viewforum.php?sid=fcea196024798b47470d4933d469cea3" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	<table cellspacing="0" cellpadding="0" border="0">
	<tr>
		<td nowrap="nowrap"><span class="gensmall">Jump to:</span>&nbsp;<select name="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">

		
			<option value="-1">Select a forum</option>
		<option value="-1">------------------</option>
			<option value="24">NES / Famicom</option>
		
			<option value="2">&nbsp; &nbsp;NESdev</option>
		
			<option value="3">&nbsp; &nbsp;NESemdev</option>
		
			<option value="21">&nbsp; &nbsp;NES Graphics</option>
		
			<option value="6">&nbsp; &nbsp;NES Music</option>
		
			<option value="22">&nbsp; &nbsp;Homebrew Projects</option>
		
			<option value="10">&nbsp; &nbsp;Newbie Help Center</option>
		
			<option value="9">&nbsp; &nbsp;NES Hardware and Flash Equipment</option>
		
			<option value="28">&nbsp; &nbsp;Reproduction</option>
		
			<option value="11">&nbsp; &nbsp;FCdev</option>
		
			<option value="18">&nbsp; &nbsp;NESdev China</option>
		
			<option value="27">&nbsp; &nbsp;NESdev Middle East</option>
		
			<option value="19">&nbsp; &nbsp;NESdev International</option>
		
			<option value="25">Other</option>
		
			<option value="5">&nbsp; &nbsp;General Stuff</option>
		
			<option value="4">&nbsp; &nbsp;Membler Industries</option>
		
			<option value="12" selected="selected">&nbsp; &nbsp;SNESdev</option>
		
			<option value="20">&nbsp; &nbsp;GBDev</option>
		
			<option value="23">&nbsp; &nbsp;Other Retro Dev</option>
		
			<option value="15">&nbsp; &nbsp;Test Forum</option>
		
			<option value="26">Site Issues</option>
		
			<option value="13">&nbsp; &nbsp;phpBB Issues</option>
		
			<option value="14">&nbsp; &nbsp;Web Issues</option>
		
			<option value="16">&nbsp; &nbsp;nesdevWiki</option>
		

		</select>&nbsp;<input class="btnlite" type="submit" value="Go" /></td>
	</tr>
	</table>

	</form>
</td>
</tr>
</table>


</div>

<div id="wrapfooter">
	
	<span class="copyright">Powered by <a href="http://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Group
	</span>
</div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-61452025-2', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>