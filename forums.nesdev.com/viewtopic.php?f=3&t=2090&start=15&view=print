<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - NES 2.0 &quot;Official&quot; Specification</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">NES 2.0 &quot;Official&quot; Specification</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=3&amp;t=2090">http://forums.nesdev.com/viewtopic.php?f=3&amp;t=2090</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>2</strong> of <strong>5</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Wed Sep 20, 2006 12:16 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">Oh, I really thank you for listening to other people ideas....</div>
<br />Ditto.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>kevtris</b> [ Wed Sep 20, 2006 2:55 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent"><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">Oh, I really thank you for listening to other people ideas....</div><br />Ditto.</div><br /><br /><br />I assume both of your replies are sarcastic... as such, I went through the previous thread about it and I'm kind of at a loss as to why there's the hostility.<br /><br /><br />As for Bregalad, I am having a hard time figuring out exactly what you are complaining about.  Going through the previous thread....<br /><br />(from the previous thread)<br /><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent"><br />- Why don't put a bit that tells if the cartridge is american on japanese ? Both are NTSC and there isn't much difference in emulation issues, but I guess it would still be cool to have that. <br /><br />Something like 3 bits : <br />000 -&gt; Japan, NTSC <br />001 -&gt; America, NTSC <br />010 -&gt; Europe, PAL <br />011 -&gt; (Australia ?), PAL <br />100 -&gt; Pirate/Homebrew/Unlicenced, NTSC <br />110 -&gt; Pirate/Homebrew/Unlicenced, PAL <br />111 -&gt; Pirate/Homebrew/Unlicenced, support both video standards <br /></div>
<br />
<br />There are a couple reasons why I don't want to include this stuff at this time (it IS possible to add it later).
<br />
<br />1) There are games which were released in the US and Japan (and possibly other places) with the exact same ROM data.  
<br />
<br />2) Some games (such as those made by Codemasters) only have 1 ROM, and are designed to self-detect PAL/NTSC mode, and autoswitch.
<br />
<br />3) For many of the ROMs out there, most people cannot difinitively say where they really came from.  
<br />
<br />4) We already have a sorting system in place (albeit it's not perfect, but it does exist) as found in GoodNES.
<br />
<br />5) We don't really know exactly what regions existed for NES games even today.  This is lockout chip controlled more than anything
<br />
<br />6) This information is not needed to run the games.  The only info we really need to know is PAL/NTSC, and autodetect.  Everything else is not required to run the game.
<br />
<br />At this time, there's just not enough information about this stuff for me to feel good about it... I'm sorry that your idea didn't make it into the final draft of the spec, but I just didn't feel there was a rock solid foundation for it yet.  This could very well change in the future.
<br />
<br />
<br />As for tokumaru, I see absolutely no followups to the proposal I originally posted.  Did I miss something I shouldn't have?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Wed Sep 20, 2006 5:55 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />That's true, I didn't say anything about your proposal. In fact I think it is really good, you seem to have put a lot of work into this. What bothered me was the fact that soon Quietust put together that tool supporting your format, as if it was already some kind of "truth".
<br />
<br />I felt that there were many opinions that didn't get the attention they deserved. I wish I could actively work on this, but since I'm not an emulator author, I'm not as familiar with the problems of iNES as other people are. I guess I can only watch how this goes now.
<br />
<br />I appreciate your effort on posting such a complete description of a new format, really, but as soon as you did, everything that was said before was completely left aside.
<br />
<br />I'm not really upset at anyone, I just want to see a good, backwards-compatible format being adopted. I wish there was a better involvement of the whole community, that's all.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Quietust</b> [ Wed Sep 20, 2006 7:28 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent">I wish there was a better involvement of the whole community, that's all.</div>
<br />
<br />There was plenty of "community involvement" back in <a href="http://nesdev.com/bbs/viewtopic.php?t=2025" class="postlink">this thread</a>, but, as you can see, nothing actually came out of it until kevtris posted a detailed proposal halfway through page 5. A few concerns were voiced (most of which were not actual problems, but just desires for out-of-scope data), and the format received a few minor updates. Personally, I'm glad kevtris has decided on this format, and that's why I wrote the header editor for it - without his initiative, <strong>nothing would have ever happened</strong> and the thread would have just died, like all of the other "new file format" discussions that have arisen in the past.
<br />
<br />Previous 'new file format' threads all suffer from one thing - wanting <em>perfection</em> and arguing over the best way to attain it. Perfection, unfortunately, <strong>cannot be attained</strong>. We could argue (and, let's face it, we have been) for <em>years</em> on how to devise the perfect file format, but we've never gotten anywhere. "NES 2.0" addresses all of the important problems with emulation - size limits, mapper limitations, ambiguity in mapper numbers (especially some Famicom ones, where one number can be up to 5 different configurations), varying RAM sizes, and special details for VS Unisystem stuff which would otherwise require checksum lookups.
<br />
<br />Implementing a brand new file format won't work, since everybody will have to keep two copies of every ROM (so they can actually use them in the many emulators which don't support the new format), and nobody wants to do that - this is part of the reason why UNIF failed. With "NES 2.0", an older emulator could read and run it just fine using its CRC checks to get everything to work, while newer emulators updated ones can use the extended header to handle everything without having to resort to checksum-specific hacks.
<br />
<br />It's not perfect, it doesn't have everything, but it <strong>works</strong> - it's backwards-compatible (so users can just patch their ROMs and keep using them in most old emulators), it fixes the frequent headaches, and at least two people (kevtris and myself) are actively <em>implementing support</em> for it. With a working header editor, people can actually create "NES 2.0" ROM images and simplify the process of adding support to their emulators, and soon kevtris and/or myself will be releasing a tool to patch <strong>all</strong> ROMs in the GoodNES set (or, better yet, getting Cowering to add the functionality to GoodNES itself), removing the primary barrier to the new format's acceptance - widespread availability of ROMs, the <em>main</em> factor which caused UNIF to fail (due to resistance to making mass conversion utilities, insisting that every game be redumped before it be released in the new format).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>mattmatteh</b> [ Wed Sep 20, 2006 8:59 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />if a conversion tool is to me made, is it possible to have it platform independent, maybe coded in C?   i am unable to use the good tools.
<br />
<br />matt

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>sevast</b> [ Wed Sep 20, 2006 11:34 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I say we add a bit for game sucks/game doesn't suck...
<br />
<br />
<br />
<br />
<br />
<br />No, but seriously, I'm completely an outsider looking in in that I don't write emulators.  The only time I use the ines header is when I'm making repros I haven't made before.  
<br />
<br />It does seem to me that this format defines the technical specs well.  If more is added, it becomes commentary that is somewhat useless to the ines purpose.  It seems to me that that the region/pirate commentary is where it belongs when it's placed in the rom's file name.
<br />
<br />To me the question should not be what other stuff can be crammed in here, but are there any important technical specs left out in Kevtris's proposition?
<br />
<br />I would do things totally different if the new format weren't built for backwards compatability, but I think this specification plugs the holes while leaving a little tar to plug future holes.  (can't wait till we find a board with battery backed up prg ram...)   <img src="./images/smilies/icon_razz.gif" alt=":P" title="Razz" /> 
<br />
<br />Really thanks Kevtris, and really thanks Quintest for christening it in!

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>blargg</b> [ Thu Sep 21, 2006 12:59 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">kevtris wrote:</div><div class="quotecontent">At this time, there's just not enough information about this stuff for me to feel good about it... I'm sorry that your idea didn't make it into the final draft of the spec, but I just didn't feel there was a rock solid foundation for it yet. This could very well change in the future.</div><br /><em>Anyone</em> can write an iNES 2.0 spec. The people that tackle the issues and make concrete, realistic proposals and then write actual implementations of them are the ones that lead. Anyone with the skills and desire can do it; nobody has any special status here except that granted voluntarily and individually. All that's happened so far is Quietust has made an experimental program to edit the headers, and Kevtris is making <em>hardware</em> that parses the format. It's the doing that ultimately gives us progress, not talking.<br /><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent">I appreciate your [Kevtris'] effort on posting such a complete description of a new format, really, but as soon as you did, everything that was said before was completely left aside.</div>
<br />I'd say that he filled a need with something concrete and useful enough to be acceptable. It's also based on a lot more experience (i.e. thousands of cartridges) than probably any of us has, which gives it more authority, at least in my mind. The reason the previous attempts didn't work is that people placed no limit on their proposals. There's no way to come to a consensus when people keep adding more things to the table.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Thu Sep 21, 2006 6:19 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">sevast wrote:</div><div class="quotecontent">(can't wait till we find a board with battery backed up prg ram...)   <img src="./images/smilies/icon_razz.gif" alt=":P" title="Razz" /> </div>
<br />Given Quietust's tendency call SRAM "PRG RAM" in the wiki, that would appear to include the common games <em>The Legend of Zelda</em> (U) and <em>Final Fantasy</em> (U). And even in the more literal sense, where the entire program is stored in a RAM and the battery is the only thing keeping it from becoming a paperweight, that's the case in the early version of Datel's Game Action Replay accessory.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Thu Sep 21, 2006 10:43 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I agree with Tokumaru all the way. Kevtris has done though work and has come up with a solid definition as opposed to us wich just keep sending ideas in the air.
<br />However, since that, while Kevtris has worked hard on testing one thousand of cartridge, his format is totally closed for any suggetion, and it doesn't seem that <em>any</em> external idea was even considered to be added/modified.
<br />After all this format is at least above decent so I cannot complain, but still, I think something a bit better could have come up if more trough from more different people would be brough on it.
<br />As for region check, effectivly, the main problem is that the number of exact regions isn't known, but for me different PAL regions isn't really much important (England and Germany regions doesn't have the same cards I think, because all England cards have a 'A' written on them (as far as I know), and all Germany ones a 'B' (that is all cards I have so far, exept import ones)).
<br />At least, there is different between Japanese and American NTSC machines, on the controllers, on the expension sound wich is lacking in the states, and I've heard the RAW PCM is lacking to, but this info is probably wrong/corrupted because of Battletoads. Also, not all Japanese famicoms support short-looped noise mode.
<br />And I really doubt the exact same ROM is found in Japan and America, because the copyrights that would come up on the screen are totally different. It is always written "Licenced by Nintendo" in America, but most japanese games that aren't by Ninendo most likely don't mention the big N at all in teir title or credits. The release dates are often different, and the copright is more long in the states (typically, a simple "(C) 1987 Capcom" in japan will become like "(C) 1989 Capcom USA co. LTD, Licenced by Nintendo of American Inc.".
<br />Also, I don't like the current country system in the ROM name, because most names are annoyingly long. Almost everyone prefer have their rom named "FF3.nes" rather than "Final Fantasy III (J) - [T-Eng Dejap]" or something like that.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Jagasian</b> [ Thu Sep 21, 2006 11:15 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">blargg wrote:</div><div class="quotecontent"><div class="quotetitle">kevtris wrote:</div><div class="quotecontent">At this time, there's just not enough information about this stuff for me to feel good about it... I'm sorry that your idea didn't make it into the final draft of the spec, but I just didn't feel there was a rock solid foundation for it yet. This could very well change in the future.</div><br /><em>Anyone</em> can write an iNES 2.0 spec. The people that tackle the issues and make concrete, realistic proposals and then write actual implementations of them are the ones that lead. Anyone with the skills and desire can do it; nobody has any special status here except that granted voluntarily and individually. All that's happened so far is Quietust has made an experimental program to edit the headers, and Kevtris is making <em>hardware</em> that parses the format. It's the doing that ultimately gives us progress, not talking.<br /></div>
<br />
<br />True.  Talk is cheap, implementation is what really matters.  Props to Kevtris and Quietust for the work, but I am sure they already know they are awesome in that regard.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>blargg</b> [ Thu Sep 21, 2006 12:03 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I've put together an alternative to the unstructure discussion threads and added items for most of the points I found as I re-read this thread and the previous:
<br />
<br /><!-- m --><a class="postlink" href="http://nesdevwiki.ath.cx/index.php/Talk:INES">http://nesdevwiki.ath.cx/index.php/Talk:INES</a><!-- m -->
<br />
<br />"Put your money where your mouth is" and flesh out/add more issues to the page. We can reply to each issue and eventually come to a more shared understanding of them. Just don't ramble on, since that kills productivity. Sheesh, I'm sounding like upper management now!

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Quietust</b> [ Thu Sep 21, 2006 12:12 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">As for region check, effectivly, the main problem is that the number of exact regions isn't known, but for me different PAL regions isn't really much important (England and Germany regions doesn't have the same cards I think, because all England cards have a 'A' written on them (as far as I know), and all Germany ones a 'B' (that is all cards I have so far, exept import ones)).</div><br /><br />The only difference between regions which actually affects emulation is timing - 60fps (NTSC) and 50fps (PAL). Special cases like France (SECAM) and Brazil (PAL-60) don't really affect emulation, just possibly the palette (and even there, the difference would be very slight).<br /><br /><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">At least, there is different between Japanese and American NTSC machines, on the controllers, on the expension sound wich is lacking in the states, and I've heard the RAW PCM is lacking to, but this info is probably wrong/corrupted because of Battletoads. Also, not all Japanese famicoms support short-looped noise mode.</div><br /><br />These differences are irrelevant, since they only affect <em>some</em> machines within the region, and using such a machine would affect <strong>all</strong> games played on it. This sort of thing would only make sense as a user-configurable option in the emulator (and, even then, it doesn't make much sense to begin with). RAW PCM is fully supported on the Famicom, and only the oldest of the oldest units would lack looped noise.<br /><br /><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">And I really doubt the exact same ROM is found in Japan and America, because the copyrights that would come up on the screen are totally different. It is always written "Licenced by Nintendo" in America, but most japanese games that aren't by Ninendo most likely don't mention the big N at all in teir title or credits. The release dates are often different, and the copright is more long in the states (typically, a simple "(C) 1987 Capcom" in japan will become like "(C) 1989 Capcom USA co. LTD, Licenced by Nintendo of American Inc.".</div><br /><br />There are plenty of counterexamples to this - with Super Mario Bros, Excitebike, Duck Hunt, Gyromite, Stack-Up, and plenty of other games, the ROM on the USA cartridge is 100% identical to the corresponding Famicom game.<br /><br /><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">Also, I don't like the current country system in the ROM name, because most names are annoyingly long. Almost everyone prefer have their rom named "FF3.nes" rather than "Final Fantasy III (J) - [T-Eng Dejap]" or something like that.</div>
<br />
<br />If it's <em>really</em> desired, it can be tacked on in "NES 3.0" in a backwards-compatible way, but for now, it's not really needed. Besides, the "current country system" is dictated <strong>only</strong> by ROM auditing tools (i.e. GoodNES), so either complain to Cowering about it or just tell it to not rename your ROMs.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Memblers</b> [ Thu Sep 21, 2006 5:52 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">However, since that, while Kevtris has worked hard on testing one thousand of cartridge, his format is totally closed for any suggetion, and it doesn't seem that <em>any</em> external idea was even considered to be added/modified.<br /></div>
<br />
<br />But it has everything needed for proper emulation.  Except for like with Squeedo and the PIC's CPU code, but that's to be expected (I guess an emulator could load it seperately, if anyone ever emulates it).
<br />
<br />The 16-byte header is pretty cramped anyways, there's over 500 bytes of room for the future with the using the trainer for info idea I mentioned in the other thread.  Since it'll inherit NES 2.0's extensions for good emulation, all that extra space could be used for the nice-to-have-but-not-absolutely-necessary things.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bananmos</b> [ Fri Sep 22, 2006 10:57 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I'd still like a comment from kev on how external ROM data would be stored, such as PIC code in Squeedo, or the ROM stored in the speech chip in some Jaleco Famicom games. (if anyone will ever make the effort of manually extracting the ROM like in the CIC chip's case, rather than just record the samples)
<br />
<br />I see three alternatives:
<br />1) The data is stored among the PRG bank, as the last bank(s). Code in an emulator/FPGA console front-end/file processing tool supporting the mapper knows how many of the PRG banks belong to the external ROM, and will handle this properly. Code not supporting the mapper will just see an odd PRG size.
<br />
<br />2) As above, but the data is stored among the CHR banks.
<br />
<br />3) The data is stored after the PRG and CHR banks, where the file would normally have ended. As in the abovementioned cases, code that recognizes the mapper will handle this properly.
<br />
<br />Any of this alternatives would do, but I'd like some thoughts on which of these would be the best one.
<br />
<br />Do you plan to support any of the Jaleco games with external sample ROM on your FPGA console, btw?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Quietust</b> [ Fri Sep 22, 2006 11:34 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Bananmos wrote:</div><div class="quotecontent">I'd still like a comment from kev on how external ROM data would be stored, such as PIC code in Squeedo, or the ROM stored in the speech chip in some Jaleco Famicom games. (if anyone will ever make the effort of manually extracting the ROM like in the CIC chip's case, rather than just record the samples)<br /><br />I see three alternatives:<br />1) The data is stored among the PRG bank, as the last bank(s). Code in an emulator/FPGA console front-end/file processing tool supporting the mapper knows how many of the PRG banks belong to the external ROM, and will handle this properly. Code not supporting the mapper will just see an odd PRG size.<br /><br />2) As above, but the data is stored among the CHR banks.<br /><br />3) The data is stored after the PRG and CHR banks, where the file would normally have ended. As in the abovementioned cases, code that recognizes the mapper will handle this properly.<br /><br />Any of this alternatives would do, but I'd like some thoughts on which of these would be the best one.<br /><br />Do you plan to support any of the Jaleco games with external sample ROM on your FPGA console, btw?</div>
<br />
<br />#3 would probably work best - Playchoice-10 ROMs already do exactly this, dropping the Z80 code immediately after the CHR ROM data. In the unlikely (hell, impossible) event that a PC10 ROM have additional non-PC10 data appended, it would, of course, have to come after the PC10 data.
<br />
<br />As for the Jaleco sound sample chip, there's 2 ways of getting accurate data: 1. decap the chip and read the ROM (quite difficult), or 2. put together a device to manually clock the chip, record what's on the audio output pin after each clock (could be done by kevtris's 3-in-1 tester with some modifications), and then convert that waveform back to what the chip is supposed to store internally. To my knowledge, neither has been done - all we have is a ~44kHz WAV file of all 16 samples for the Baseball game.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>2</strong> of <strong>5</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>