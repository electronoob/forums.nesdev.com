<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Bandai FCG series</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Bandai FCG series</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=11&amp;t=10287">http://forums.nesdev.com/viewtopic.php?f=11&amp;t=10287</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>naruko</b> [ Wed Jul 17, 2013 8:24 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Bandai FCG series</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />調査がある程度進みましたので公開します。<br />現在広く知られている mapper #16 の明確な間違いは register address は $6000-$ffff の部分です。正しくは FCG-1 と FCG-2 は $6000-$7fff, LZ93D50 は $8000-$ffff です。<br /><!-- m --><a class="postlink" href="http://w.livedoor.jp/famicomcartridge/d/Bandai%20FCG%20series">http://w.livedoor.jp/famicomcartridge/d ... G%20series</a><!-- m --><br /><br />Datach の調査文書は結構雑です。ちょうど1年まえに調査したのですが、機材を返却してしまい当時のメモから作りました。<br /><br />おかしいところや疑問点があったらいってください。

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>naruko</b> [ Wed Jul 31, 2013 8:51 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Bandai FCG series</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />To Lidnariq:<br />nesdev wiki への執筆を楽しくみています。<br />I have a question on Bandai LZ93D50 pinout. I  have not know detail information about 29 pin. Have you examine by yourself?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Thu Aug 01, 2013 12:08 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Bandai FCG series</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I have not examined for myself.<br />I assumed the only unexplained difference of pinout was pertinent. (Sorry)<br />It is possible that bus conflicts would happen with RAM on BA-JUMP2 if $800D.7 were ever set. <br />(google:<br />私は自分自身のために調べていない。<br />私はピン配置の唯一の原因不明の違いは適切だったと仮定した。 （申し訳ありませんが）<br />それは$800D.7がこれまで設定されている場合、バス競合がBA-JUMP2上のRAMとどうなる可能性があります。)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>naruko</b> [ Thu Aug 01, 2013 2:05 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Bandai FCG series</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />ぼくの調査を追試してくれたら、情報の真実さが増していいことだと思っていました。<br /><br />ピンの並びからあなたの推測はもっともらしいです。推測は楽しいことですが、本物のICから確認していないなら&quot;推測&quot;または&quot;?&quot;を書いた方がいいです。

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>etabeta</b> [ Mon Feb 10, 2014 2:48 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Bandai FCG series</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I have started fixing the (luckily minor) inaccuracies I had in MESS for these PCBs<br />Could you just confirm a couple of small details about the BA-JUMP2 board?<br /><br />1. are the writes to $8004-$8007 ignored? (unfortunately google translate makes a mess of you original comment on this, so I have to ask for a confirmation, even if you probably already wrote about it on your page)<br />2. are the writes to $800d ignored, since there is only SRAM and not EEPROM on the board? your webpage seems to suggest that the lines on the board are present, even if no actual EEPROM is physically available...

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>naruko</b> [ Mon Feb 10, 2014 7:09 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Bandai FCG series</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />1. CPU の $8004,$8005,$8006,$8007 への書き込みは LZ93D50 のレジスタ<br />にはラッチされる。LZ93D50 の PPU A12 への入力端子が L 固定なので、<br />ラッチしたレジスタの値が Charcter ROM A17:10 へ出力されることがない。<br />(そして charcter ROM 自体が存在しないのは自明だ)<br /><br />2. BA-JUMP2 の基板には EEPROM は配置/配線されていない。<br />本来は I2C EEPROM を接続することを想定した端子に SRAM を例外的に<br />配線したという意味で、 I2C control と書いてある。<br /><br /><br />1. LZ93D50 internal registers latches CPU's writing operation to <br />$8004,$8005,$8006,$8007. LZ93D50's PPU A12 (pin22) fixed/wired L <br />level, it never output latched value to charcter ROM A17:10.<br />And this PCB is not placed charcter ROM device.<br /><br />2. BA-JUMP2 PCB is not placed/wired EEPROM.<br />LZ93D50 pin 27 is supposed to be wired I2C device. <br />I have a description such as this because it was arranged SRAM <br />exceptionally this board.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>naruko</b> [ Mon Feb 10, 2014 7:30 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Bandai FCG series</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />LZ93D50 に関係のない話です。<br />MESS はいつも解析に使っているのでこの機会に etabeta さんに伝えたいこ<br />とがあります。hash/nes.xml で修正して欲しいことがあります。<br /><br />Silva Saga (Jpn) <br />これは baddump がついていますが、 redump しても hash は同じでした。<br />原因を調べたら、 battery backup がないときに $6000-$7fff を 0x00 で <br />埋めると、 silva saga のプログラムのチェックサム検出を通過してしまう<br />ものの、ゲームの進行上は不正なデータとなります。<br /><!-- m --><a class="postlink" href="http://d.hatena.ne.jp/na6ko/20130909/p1">http://d.hatena.ne.jp/na6ko/20130909/p1</a><!-- m --><br />この領域の初期値を 0x00 で埋めなければ、正常な動作となります。<br />ですので、 baddump を外してください。<br /><br /><br />Dezaemon (Jpn)<br />PCB は NES-SLROM ではなく NES-SXROM とすべきです(本当は HVC-SXROM)。<br />hash は同じなので baddump は不要です。<br /><br /><br />----<br />This is a story not related to LZ93D50.<br />I offset uses analyzing Famicom games with MESS. I want you fix <br />hash/nes.xml<br /><br /><br />Silva Saga (Jpn) <br />This game is marked 'baddump', redumped image's has same by my <br />friend. I analyzed this game. When .sav file is not found, many <br />emulators fill data 0x00 as 'initialize' at address $6000-$7fff.<br />The program passed checksum at $6000-$7fff, but game is buggy.<br /><!-- m --><a class="postlink" href="http://d.hatena.ne.jp/na6ko/20130909/p1">http://d.hatena.ne.jp/na6ko/20130909/p1</a><!-- m --><br />If emulator is not fill 0x00 'initalized data', game works fine.<br />I want remove baddump flag.<br /><br />Dezaemon (Jpn)<br />PCB is defined 'NES-SLROM'. This is wrong, database must be defined <br />as 'NES-SXROM'. (In fact, this is HVC-SXROM).<br />Its hash is same, I want remove baddump flag.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Mon Feb 10, 2014 12:03 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Bandai FCG series</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">etabeta wrote:</div><div class="quotecontent">2. are the writes to $800d ignored, since there is only SRAM and not EEPROM on the board? your webpage seems to suggest that the lines on the board are present, even if no actual EEPROM is physically available...<br /></div>naruko's pinout of BA-JUMP2 shows the pin that was I2C SCL is now 6264 +CE. So writing to $800D should be necessary to drive I2C SCL high to talk to RAM.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>etabeta</b> [ Tue Feb 11, 2014 4:20 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Bandai FCG series</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />thanks for the replies! I will look into them tonight (got some short deadlines at work)<br /><br />@naruko: would you consider sending bootgod some snaps and info about those cart you verified? it would be good to share the confirmation with the NESdb <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>naruko</b> [ Tue Feb 11, 2014 8:03 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Bandai FCG series</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />実は nescartdb への登録方法をしらないわたし。<br />市販品のファミコンカセット全てを持っている協力者はいても、わたしはソフトをそんなに持っていない...

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>etabeta</b> [ Tue Feb 11, 2014 9:07 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Bandai FCG series</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I think you can ask directly to bootgod by email.<br />I doubt he has much time to work on his site (I haven't seen him around for a while), but I think he can setup up something for you

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>etabeta</b> [ Wed Feb 12, 2014 3:53 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Bandai FCG series</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />a last pair of question, this time related to Bandai Datach (that I'm currently implementing in MESS)<br />- I'm a bit confused about the subcarts with an EEPROM. when you write that SDA line is shared between the internal and the external EEPROM, do you mean that a write to $800d writes to both EEPROMs? or is it something else?<br />- Also, for the record, SD Gundam - Gundam Wars writes to the external I2C address at start... do you have a cart to see if there is anything connected or if it's just some remnant of the development with no effect in the released game?<br />- From heuristic observation of Battle Rush – Build Up Robot Tournament writes, I think the External I2C SCL goes in bit 3 of the written data at $8000-$8003 (actually the game seems to write to address $8004-$8007 as well...)<br /><br /><br />on the other subject (fix to nes.xml), when you have time could you share with me (even by PM) pics of the datach pcbs and, if you have them, of Silva Saga and Dezaemon pcbs? I love to document the precise label and markings inside the carts, if possible <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br /><br /><br />finally, thanks a lot for the great docs (and I hope you get one day a Bandai Karaoke Studio too, because I was always curious about that subslot system!)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Wed Feb 12, 2014 11:34 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Bandai FCG series</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">etabeta wrote:</div><div class="quotecontent">- I'm a bit confused about the subcarts with an EEPROM. when you write that SDA line is shared between the internal and the external EEPROM, do you mean that a write to $800d writes to both EEPROMs? or is it something else?<br /></div>I²C is funny in that it requires specific behavior on both lines to start communication, so splitting either SCL or SDA would be sufficient to use talk to multiple EEPROMs without worrying about address conflicts. Since the X24C01 uses <em>all</em> the addresses, it can't coexist with anything... So a write to $800D will control the physical line that is SDA for both internal and external EEPROMs, but to persuade either the X24C01 or X24C02 the game is talking to <em>it</em> requires specifically a high-to-low transition of SDA no less than 4µs before the same transition of SCL.<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">actually the game seems to write to address $8004-$8007 as well...<br /></div>As far as I can tell, because the PCB still connect PPU A12 to the LZ93D50P, it should require writing to all eight addresses, not just the first four.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Jarhmander</b> [ Wed Feb 12, 2014 12:14 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Bandai FCG series</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Is that EEPROM (X24C01) actually I²C compliant? The address field of an I²C message is supposed to select a slave in a network, not an address in an EEPROM...I see some gain to proceed that way but that makes it pretty much a non-standard I²C device (contrast to a <a href="http://ww1.microchip.com/downloads/en/DeviceDoc/21189f.pdf" class="postlink">24AA64</a>, for instance)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Wed Feb 12, 2014 12:24 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Bandai FCG series</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The X24C01 is technically not I²C because it's using the device address as the EEPROM address (and therefore responds to all 128 I²C addresses, precluding anything else from being on the same bus). But otherwise it's the same wire protocol.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>