<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Mystic Searches beta, playable now</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Mystic Searches beta, playable now</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=22&amp;t=15643">http://forums.nesdev.com/viewtopic.php?f=22&amp;t=15643</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>2</strong> of <strong>3</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>JoeGtake2</b> [ Mon Mar 13, 2017 10:42 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Mystic Searches beta, playable now</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />What I do find to be great is how much growth I've seen in the community just since I've started this.  Three years ago, when I started poking around asking people about homebrew and post market development and whatnot, the average person (even retro-game-lover) had no idea what I was talking about.  More recently, I've started to get some great responses from people, not only knowing that it's a thing but citing homebrew games they've played or like or want to try.  In just three years, our project went from becoming *holy hell, someone is making a new NES game* to *another NES game from an indie team...*, and I'm totally ok with that, because it demonstrates the interest to continue to develop for the system is growing and awareness of it is growing.  And I also think that has to do with the number of quality releases being produced demonstrating that this is not just a hobby or novelty, but is a true design choice by creatives.<br /><br />Cool stuff all around.  And again, I appreciate all the dialog and feedback <img src="./images/smilies/icon_smile.gif" alt=":-)" title="Smile" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Mon Mar 13, 2017 12:01 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Mystic Searches beta, playable now</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />BTW, the game is looking pretty good! Forgot to say anything before! <img src="./images/smilies/icon_mrgreen.gif" alt=":mrgreen:" title="Mr. Green" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>JoeGtake2</b> [ Mon Mar 13, 2017 12:07 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Mystic Searches beta, playable now</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Tokumaru - thanks man.  That means a lot.  I knew NOTHING when I started this.  You, Kasumi, Rainwarrior and a few others helped me go light years beyond where I could've expected taking this.  It's to the point where now, I feel like I can do any thing at all I want to...it's just a matter of what I can make fit.  It's a really cool thing, and the project definitely owes its existence to you guys and your patience.  And I hope the documentary gets picked up for good distro and it upticks the awareness of what people here are doing.  <img src="./images/smilies/icon_smile.gif" alt=":-)" title="Smile" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>JoeGtake2</b> [ Mon Mar 13, 2017 4:07 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Mystic Searches beta, playable now</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Rainwarrior - I did find an anomaly in the music play mode...I WAS restarting the index at zero, but after 9 notes instead of after 8...for whatever reason.  Odd.  But anyway, I tried to get the bug you found to happen...but never got it to happen.  Question - did this ONLY happen when you futzed around with the address to artificial give yourself lots of notes, or did it happen organically from collecting notes and then playing a bunch, too?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>rainwarrior</b> [ Mon Mar 13, 2017 5:06 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Mystic Searches beta, playable now</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">JoeGtake2 wrote:</div><div class="quotecontent">Rainwarrior - I did find an anomaly in the music play mode...I WAS restarting the index at zero, but after 9 notes instead of after 8...for whatever reason.  Odd.  But anyway, I tried to get the bug you found to happen...but never got it to happen.  Question - did this ONLY happen when you futzed around with the address to artificial give yourself lots of notes, or did it happen organically from collecting notes and then playing a bunch, too?</div><br />No, I only gave myself a lot of notes to try and reproduce the problem. The first time it happened when I had like 50 notes I'd collected over an hour or so. (To try and reproduce the problem, I cheated to be able to get enough notes faster. All I did to get more notes was type $FF into that byte of memory $73A like I said, though.)<br /><br />0. Obtain notes (by whatever means you think is &quot;safe&quot;, if loading $73A is invalid somehow)<br />1. Press Start<br />2. Rapidly tap directions and B and A and select. Try to hit all 12 combinations in quick succession, maybe? I find this very reliably triggers the breakpoint I mentioned after a few seconds.<br /><br />Or just use the FM2 movie and it will happen automatically.<br /><br />The breakpoint I mentioned will trigger before there are any visible effects. (Y seems to gradually rise as I keep hitting notes, and eventually corrupts various things. e.g. at Y=16 it corrups your coins at $73A, which can't be seen until the coin display is redrawn. The player palette changes around Y=$41 or so, I think that's the first immediately visible thing.)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>JoeGtake2</b> [ Tue Mar 14, 2017 4:21 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Mystic Searches beta, playable now</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Yeah - what you're describing makes sense if y continues to increase passed 8 (which it should behard limted at) as the entered song pattern is an 8 byte array...and beyond that it's be messing with overwriting other variables.  And the player changing color and losing melee is likely a change to the player's state variable to one where he doesn't have use of melee and is using an alternative palette to show the status effect, so that tracks.<br /><br />But i checked and i definitely cap this at at y maxing at 8...and i did exactly what you said multiple times and couldn't repeat this.  Very odd.  <br /><br />Are you running it ok fceux?  The virtual machine?  Something othet?<br />Thanks!

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>rainwarrior</b> [ Tue Mar 14, 2017 8:09 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Mystic Searches beta, playable now</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />It happened the first time in GGVM, which is why I started to play it in FCEUX instead.<br /><br />The only other emulator I know that has mapper 30 is Bizhawk, and I just duplicated it there by the following means:<br /><br />1. Start the game.<br />2. Use the RAM watch to freeze address $73D so the notes don't count down. (Gives me infinite notes, a slightly different means than sticking $FF in that value.)<br />3. Rapidly tap up/down/left/right/b/a/select. (I'm just wiggling my fingers on all the keys here. Definitely important to be using select, I think.)<br />4. After a few seconds...<br /><div class="attachtitle">Attachment:</div><div class="attachcontent">
			<img src="./download/file.php?id=8332" alt="mystic origins beta jar.2017-03-14 11.04.53.png" /><br />
			<span class="gensmall">mystic origins beta jar.2017-03-14 11.04.53.png [ 16.08 KiB | Viewed 2470 times ]</span>
		

		<br />
	</div><br /><br />So... that's 3 different emulators I can produce it in. Again, the FM2 will reproduce it for you if you can't figure out the input.<br /><br />Does the FM2 not work? Do you need a savestate? What would help here?<br /><br />(The ROM is from the beta jar, mysticsearches/game.nes)<br /><br />One thing I notice is that the STA $072A,Y at $FECD never has the value Y=9 with this problem. It skips to Y=A (or other higher values) instead, and after that you don't have to press notes quickly, any new note will increment Y even if you wait a long time between notes.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>rainwarrior</b> [ Tue Mar 14, 2017 8:31 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Mystic Searches beta, playable now</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Here.<br /><br />The Y value at $FECD is fetched from $732. You do check if it's 9 at $FED6, but you only check for equality (BNE instead of BCC), so if it ever happens to get past 9, you have a problem because the check for equality won't help you there.<br /><br />The problem isn't specifically in that check though. It's back at $FECD with that STA $072A, Y. This fragment of a trace should explain everything:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">A:01 X:01 Y:14 S:F7 P:nvUbdIzC&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$FEC7: AC 32 07&nbsp; LDY $0732 = #$08<br />A:01 X:01 Y:08 S:F7 P:nvUbdIzC&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$FECA: AD 66 07&nbsp; LDA $0766 = #$0C<br />A:0C X:01 Y:08 S:F7 P:nvUbdIzC&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$FECD: 99 2A 07&nbsp; STA $072A,Y @ $0732 = #$08<br />A:0C X:01 Y:08 S:F7 P:nvUbdIzC&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$FED0: AD 32 07&nbsp; LDA $0732 = #$0C</div><br />As you can see, Y=8 causes it to corrupt <em>itself</em> with whatever was in $766, so the problem is triggered before it even has a chance to hit 9 anyway.<br /><br />(Stuff added in a later edit copied below, just in case it was missed.)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>JoeGtake2</b> [ Tue Mar 14, 2017 9:13 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Mystic Searches beta, playable now</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I'd be curious to know if this patch fixes the problem?<br /><br />I fixed one or two of the other bugs here, so memory addresses may be slightly different, but in the same general area.<br /><br />I did cap that lookup with a bcc in stead of an equivocation...I guess it's possible multiple inputs were being pressed in the same frame artificially advancing the value or something....but...I can't quite figure out how.  I still couldn't reproduce it from my keyboard (so maybe it had to do with how you were able to mash inputs on controller).  But let me know if this seems to fix it?

		
			<br clear="all" /><br />

			<table class="tablebg" width="100%" cellspacing="1">
			<tr>
				<td><b class="genmed">Attachments: </b></td>
			</tr>
			
				<tr>
					<td>
			<span class="gensmall"><b>File comment:</b> Tweaked revisions</span><br />
		
			<span class="genmed">
				<img src="./styles/subsilver2/imageset/icon_topic_attach.gif" width="14" height="18" alt="" title="" /> 
				<a href="./download/file.php?id=8334">game.nes</a> [512.02 KiB]
			</span><br />
			<span class="gensmall">Downloaded 110 times</span>
		

		<br />
	</td>
				</tr>
			
			</table>
		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>rainwarrior</b> [ Tue Mar 14, 2017 9:23 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Mystic Searches beta, playable now</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />This was in an edit to my last post, but in case you missed it:<br /><br />Putting $766 in a watch explains why pressing select is necessary. $766 is the note played, right? The values higher than 7 are all on the select notes. That actually makes reproducing even easier. Just hold select and hit right 9 times in quick succession and you'll trigger the corruption of $732, after which you can just keep pressing notes at your leisure to gradually increment it and start corrupting other things above that space in memory.<br /><br />That gives me a really easy way to trigger it without cheating at all.<br />1. Collect 1 note to get 9.<br />2. Press start.<br />3. Hold select, and hit right 9 times quickly. ($732 is now corrupted with a value higher than 9.)<br />4. Now just play notes until stuff corrupts. (You'll need to find more notes to play for this, but you can do this at your leisure. With a few more notes you'll corrupt the note counter, though, giving yourself tons.)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>rainwarrior</b> [ Tue Mar 14, 2017 9:25 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Mystic Searches beta, playable now</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">JoeGtake2 wrote:</div><div class="quotecontent">I'd be curious to know if this patch fixes the problem?</div><br />Yes, changing the CMP #9 to a CMP #8 (now at $FED5) fixed it.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>JoeGtake2</b> [ Tue Mar 14, 2017 9:35 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Mystic Searches beta, playable now</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Thank god.  Thanks for the bug report!  It actually drew my attention to another potential problem that I fixed while I was at it.<br /><br />Now, there seems to be only one lingering *bug* that I can't track down, and that's random instances of hurt cycle going on forever.  That'll be next, after I do some memory management.  i'm against a brick wall right now, with only bytes to spare to make changes!  Time to optimize.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Erockbrox</b> [ Sun Apr 09, 2017 12:47 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Mystic Searches beta, playable now</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I'm trying to beta test the game and the current emulator that I have is FCEUX 2.2.2, which from what I understand is supposed to be a petty good NES emulator to use. <br /><br />When I load the file game.nes I get the following error message. <br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">iNES mapper #30 is not supported at all.</div><br /><br />Does anyone have a fix for this? Thanks.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Sun Apr 09, 2017 12:54 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Mystic Searches beta, playable now</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />For the moment, change it to mapper 2.<br /><br />The only difference is whether the hardware is supposed to support self-flashing.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Sun Apr 09, 2017 12:55 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Mystic Searches beta, playable now</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Erockbrox wrote:</div><div class="quotecontent">I'm trying to beta test the game and the current emulator that I have is FCEUX 2.2.2</div><br />Any reason why you can't download another emulator, or even a more recent version of FCEUX?<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">which from what I understand is supposed to be a petty good NES emulator to use.</div><br />Actually, it leaves a lot to be desired when it come to accuracy, and accuracy is a pretty important aspect when beta testing a game.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>2</strong> of <strong>3</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>