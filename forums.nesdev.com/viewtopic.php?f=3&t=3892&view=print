<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Grades of accuracy</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Grades of accuracy</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=3&amp;t=3892">http://forums.nesdev.com/viewtopic.php?f=3&amp;t=3892</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Mon Feb 11, 2008 4:46 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Grades of accuracy</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />As I see it, a game console emulator can fall into any of four categories for accuracy:
<br /><ol style="list-style-type: lower-alpha"><li>Emulators developed during the early stages of emulation, while the developer still knows very little about the target platform. Some commercial games run. </li><li>Emulators designed to reproduce the hardware <a href="http://catb.org/jargon/html/B/bug-for-bug-compatible.html" class="postlink">bug-for-bug</a>. Just about everything runs. </li><li>Emulators designed to make programs look or feel better than on the original hardware. </li><li>Emulators designed for hardware limited by cost or power consumption, which must compromise accuracy for speed. </li></ol>
<br />Nesticle is a and possibly d. Nintendulator and Nestopia are b, and MAME strives to be b. Some PlayStation emulators aim for c, and so do NES and Super NES emulators that support 2xSaI, Super Eagle, Scale2x, or hq3x. Arguably, debugging emulators are c, as they allow the user to peer into the program's execution. PocketNES is d, but it handles the compromise rawther well.
<br />
<br />Have I missed any categories?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>kyuusaku</b> [ Mon Feb 11, 2008 4:55 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />What about emulators (to come) that reproduce the hardware clock-edge-for-clock-edge? This would be something like a "hardware preservation" category.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Zepper</b> [ Mon Feb 11, 2008 6:22 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I see the "b" option as "too heavy", since there are "designed emulators for matching the hardware procedure for (maximum?) accuracy, in priority for running on modern machines".

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>hap</b> [ Tue Feb 12, 2008 6:16 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Hmm, try to categorize:
<br />
<br />1) novelty emulator made in mIRC script, outputs graphics on a channel with multiple users to prevent flooding, still very slow
<br />2) emulator that uses several hardware components for some chips (like HardSID support in VICE)
<br />3) emulator designed to reproduce hardware bug-for-bug, with options to make it look or feel better
<br />4) accurate emulator made for school project, deliberately emulating only one mapper and no sound output, very clean source code and documentation
<br />5) closed source emulator that uses hacks to make the user believe it's very accurate (if checksum=blargg test-rom then blahblah), refusing to run programs with unknown checksum
<br />
<br />etc ;p

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Tue Feb 12, 2008 6:34 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />kyuusaku: That's b.
<br />
<br />Fx3: As I understand it, "maximum accuracy" and "bug-for-bug compatibility" are the same thing.
<br />
<br /><div class="quotetitle">hap wrote:</div><div class="quotecontent">Hmm, try to categorize:<br /><br />1) novelty emulator made in mIRC script, outputs graphics on a channel with multiple users to prevent flooding, still very slow</div><br />d.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">2) emulator that uses several hardware components for some chips (like HardSID support in VICE)</div><br />c using d as implementation technique.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">3) emulator designed to reproduce hardware bug-for-bug, with options to make it look or feel better</div><br />b and c in one binary. Nestopia closely matches this profile.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">4) accurate emulator made for school project, deliberately emulating only one mapper and no sound output, very clean source code and documentation</div><br />On a continuum between a and b, depending on how accurate.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">5) closed source emulator that uses hacks to make the user believe it's very accurate (if checksum=blargg test-rom then blahblah), refusing to run programs with unknown checksum</div>
<br />a, possibly d.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Zepper</b> [ Tue Feb 12, 2008 6:52 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">As I understand it, "maximum accuracy" and "bug-for-bug compatibility" are the same thing.</div>
<br />
<br />- "Maximum accuracy" is/was an expression used by Nintendulator, claiming to be the only emulator closest to the hardware operation.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Wed Feb 13, 2008 8:28 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Grades of accuracy</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent"> [*]Emulators designed to make programs look or feel better than on the original hardware.</div>
<br />Virtua NES could possibly fall in this category, fixing problem that some game have with MMC3 interrupts, by "fixing them" such as the textboxes of Crystalis or the menu in Mega Man 3.
<br />
<br />I like the idea of having "grades of accuracy", there should be test ROMs for each grade and if they pass the emulator wins the grade.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>blargg</b> [ Wed Feb 13, 2008 9:31 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I like the idea of having "grades of accuracy", there should be test ROMs for each grade and if they pass the emulator wins the grade.</div>
<br />Someone will need to make an "emulator" which simply checks the CRC and displays the appropriate pass screen from a bank of static images in it. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>byuu</b> [ Wed Feb 13, 2008 11:57 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Four rankings seems to be over complicating things to me.
<br />
<br />Really, adding things like debuggers and optional graphics filters have little to do with core emulation itself -- so long as the internal emulation has no way of knowing that they are being used.
<br />
<br />It's really just a matter of whether someone caters toward getting games to run (even if it means doing something now that you know hardware does not), or toward matching what the real hardware does (even if you know that will break currently working games). And there are a million compromises and shades of gray between those two extremes. A percentage level would work well. UltraHLE would be a pure 0%, whereas the Pong emulator that needs a ~30GHz PC to run at full speed would be a pure 100%.
<br />
<br />All that other stuff is just extra features added for the benefit of users.
<br />
<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Someone will need to make an "emulator" which simply checks the CRC and displays the appropriate pass screen from a bank of static images in it.</div>
<br />
<br />Simple, just use the Cowering Method. That is, each time the game is downloaded, have the server generate random data into the image, shuffle code around to help foil heuristics, etc. A simple PHP script will do. Make it so complex that fully detecting it would start causing false positives with commercial games :)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Wed Feb 13, 2008 1:00 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">byuu wrote:</div><div class="quotecontent">Really, adding things like debuggers and optional graphics filters have little to do with core emulation itself</div><br />True, some category c features don't need support from the core, but others do. Let's use the example of an upscaler. Some scalers, such as the common implementations of scale2x, hq3x, etc. work on the finished pixel array after the PPU has rendered it. But other scalers work on the textures before they go into the finished pixel array. Do you know about the PlayStation and N64 emulators that use high-resolution texture packs? Imagine an NES emulator that replaces each 8x8x2 tile with a separately drawn 32x28x8 tile suitable for a 1024x768 pixel display. On a game with CHR ROM, the emulator's PPU might just read the smaller tile, discard it, and read the appropriate segment of the larger tile. On a game with CHR RAM, the PPU would use a hash table to map 128 bits of CHR data to a tile index.<br /><br /><div class="quotetitle">byuu wrote:</div><div class="quotecontent">just use the Cowering Method</div>
<br />That sounds like either <a href="http://en.wikipedia.org/wiki/Polymorphic_code" class="postlink">morphic virus techniques</a> or <a href="http://nesdev.com/bbs/viewtopic.php?p=5919#5919" class="postlink">the copy-protection of Earthworm Jim</a>.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>mozz</b> [ Wed Feb 13, 2008 2:22 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">byuu wrote:</div><div class="quotecontent">Simple, just use the Cowering Method. That is, each time the game is downloaded, have the server generate random data into the image, shuffle code around to help foil heuristics, etc. A simple PHP script will do. Make it so complex that fully detecting it would start causing false positives with commercial games <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /></div>
<br />Rofl, the Cowering Method  =)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Sun Nov 13, 2011 7:19 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I just now realized that roughly two years after this thread had died, I ended up <a href="http://nesdev.com/bbs/viewtopic.php?t=6197" class="postlink">implementing the Cowering method</a> in the process of developing a buffer overflow detector.
<br />
<br />Related wiki pages: <a href="http://wiki.nesdev.com/w/index.php/Accuracy" class="postlink">Accuracy</a> and <a href="http://wiki.nesdev.com/w/index.php/Enhancement" class="postlink">Enhancement</a>

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>