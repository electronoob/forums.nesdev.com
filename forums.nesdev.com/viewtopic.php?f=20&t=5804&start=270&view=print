<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Fixing ROMs for EMS 64 GB Smart Card USB</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Fixing ROMs for EMS 64 GB Smart Card USB</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=20&amp;t=5804">http://forums.nesdev.com/viewtopic.php?f=20&amp;t=5804</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>19</strong> of <strong>21</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>alepocho</b> [ Tue Sep 16, 2014 9:05 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Fixing ROMs for EMS 64 GB Smart Card USB</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">MottZilla wrote:</div><div class="quotecontent">It was brought to my attention that Mega Man Xtreme crashes on hard mode in Morph Moth's stage. This patch should fix that problem.</div><br /><br />Hi, thanks for those patch you were made!<br /><br />Mega Man xtreme 2 has a similar crash in the level select screen on the extreme mode, could it be fixed?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MottZilla</b> [ Fri Sep 19, 2014 8:48 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Fixing ROMs for EMS 64 GB Smart Card USB</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Maybe. It helps if you provide a save file where the point of the crash can be reached within a small amount of time. The longer it takes to get to the point of a crash, the less likely I'll have time to look into fixing it.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>alepocho</b> [ Sat Sep 20, 2014 6:47 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Fixing ROMs for EMS 64 GB Smart Card USB</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Hi, thanks for your reply! Sorry for the delay, here is the save file <br /><br />To reach the crash:<br /><br />In the MODE SELECT screen choose CONTINUE, then in the load scren choose &quot;file 1&quot; &quot;extreme mode&quot;,  in the level/boss select screen will crash<br /><br />Thanks again

		
			<br clear="all" /><br />

			<table class="tablebg" width="100%" cellspacing="1">
			<tr>
				<td><b class="genmed">Attachments: </b></td>
			</tr>
			
				<tr>
					<td>
			<span class="gensmall"><b>File comment:</b> save file</span><br />
		
			<span class="genmed">
				<img src="./styles/subsilver2/imageset/icon_topic_attach.gif" width="14" height="18" alt="" title="" /> 
				<a href="./download/file.php?id=1991">Record.7z</a> [14.64 KiB]
			</span><br />
			<span class="gensmall">Downloaded 17 times</span>
		

		<br />
	</td>
				</tr>
			
			</table>
		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MottZilla</b> [ Sun Sep 21, 2014 10:38 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Fixing ROMs for EMS 64 GB Smart Card USB</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I'll try to look at it when I can.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MottZilla</b> [ Mon Sep 22, 2014 12:47 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Fixing ROMs for EMS 64 GB Smart Card USB</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Try this. I think it'll work now.<br /><br />Also here is just a more up to date collection of my fixes.

		
			<br clear="all" /><br />

			<table class="tablebg" width="100%" cellspacing="1">
			<tr>
				<td><b class="genmed">Attachments: </b></td>
			</tr>
			
				<tr>
					<td>
			<span class="gensmall"><b>File comment:</b> Collection of Fixes Sept 22nd 2014</span><br />
		
			<span class="genmed">
				<img src="./styles/subsilver2/imageset/icon_topic_attach.gif" width="14" height="18" alt="" title="" /> 
				<a href="./download/file.php?id=2000">sc_mzfix.zip</a> [6.8 KiB]
			</span><br />
			<span class="gensmall">Downloaded 42 times</span>
		

		<br />
	</td>
				</tr>
			
				<tr>
					<td>
			<span class="genmed">
				<img src="./styles/subsilver2/imageset/icon_topic_attach.gif" width="14" height="18" alt="" title="" /> 
				<a href="./download/file.php?id=1999">Mega Man Xtreme 2 (U) (Fix).ips</a> [75 Bytes]
			</span><br />
			<span class="gensmall">Downloaded 21 times</span>
		

		<br />
	</td>
				</tr>
			
			</table>
		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>zaffo256</b> [ Mon Sep 22, 2014 6:38 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Fixing ROMs for EMS 64 GB Smart Card USB</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />First, I want to give a big thank you to MottZilla and Great Hierophant for all the great work they did for the community.<br /><br />I have a question for MottZilla; I was wondering if your patch for <em>Pokemon Card GB2 - GR Dan Sanjou!</em> was compatible with this <a href="http://www.romhacking.net/translations/1736/" class="postlink">English patch</a>. <br /><br />I know that there is a good chance that this was asked a thousand time already and I am sorry if it was, but I didn't find any results after a quick search.<br /><br />I tried running the IPS Patch Checker that was recently advertised on Romhacking.net's news feed and I got this result:<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">D:\Pokemon Card GB2 - GR Dan Sanjou! (J) [C] (Fix).ips<br />3 Records Found<br />Errors: 1<br />The Records below are overwritten in part or whole by the 2nd patch.<br /><br />1. 00014E:<br />[FE] [3D] <br /><br /><br /><br />D:\PokemonTCG2-FullTrans.ips<br />652 Records Found<br />Errors: 1<br />The below records overwrite the above records in part or in whole.<br /><br />1. 000148:<br />[07] [03] [00] [33] [00] [38] [F7] [66] <br /><br /></div><br /><br />Do you think that it would cause any problem? Is there a preferred order to apply those patch?<br /><br />Thanks for your time.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MottZilla</b> [ Tue Sep 23, 2014 12:03 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Fixing ROMs for EMS 64 GB Smart Card USB</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I'm not sure what the translation writes there, but the fix puts code there. If the translation is applied afterward, the fix won't work. If the translation is applied first, it might work. But there would probably be some issue somewhere because of what was overwritten. It's possible the fix can have it's code moved. If you post a link to the translation IPS patch, I'll try to look at it and see if it can be made compatible.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>zaffo256</b> [ Tue Sep 23, 2014 2:36 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Fixing ROMs for EMS 64 GB Smart Card USB</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Thank you very much for taking the time to look at it!<br />Here's the translation patch:

		
			<br clear="all" /><br />

			<table class="tablebg" width="100%" cellspacing="1">
			<tr>
				<td><b class="genmed">Attachments: </b></td>
			</tr>
			
				<tr>
					<td>
			<span class="genmed">
				<img src="./styles/subsilver2/imageset/icon_topic_attach.gif" width="14" height="18" alt="" title="" /> 
				<a href="./download/file.php?id=2001">PokemonTCG2Translation.zip</a> [178.77 KiB]
			</span><br />
			<span class="gensmall">Downloaded 22 times</span>
		

		<br />
	</td>
				</tr>
			
			</table>
		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>alepocho</b> [ Sat Sep 27, 2014 8:23 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Fixing ROMs for EMS 64 GB Smart Card USB</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">MottZilla wrote:</div><div class="quotecontent">Try this. I think it'll work now.<br /><br /></div><br /><br />Now works like a charm!<br /><br />Thank you!

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>jopeji</b> [ Mon Nov 10, 2014 1:16 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Fixing ROMs for EMS 64 GB Smart Card USB</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Lufia-The Legend Returns, not working in my GB USB smart Card 64M.  <img src="./images/smilies/icon_cry.gif" alt=":cry:" title="Crying or Very sad" /> <br /><br />there any fix for this game?. thank you very much.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Shonumi</b> [ Mon Nov 10, 2014 11:22 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Fixing ROMs for EMS 64 GB Smart Card USB</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Not sure if this will help someone make a patch, but I know for a fact that Lufia: The Legend Returns sets the <a href="http://gbdev.gg8.se/wiki/articles/MBC5#3000-3FFF_-_High_bit_of_ROM_Bank_Number_.28Write_Only.29" class="postlink">High 9th Bit of the MBC5 ROM Bank</a> even though this technically points to non-existent ROM Banks. Only the low 8-bits of the ROM Bank number should be used in this game. This was an issue I encountered trying to emulate the game myself, so perhaps it's the cause of it not working with the EMS?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MottZilla</b> [ Tue Nov 11, 2014 3:40 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Fixing ROMs for EMS 64 GB Smart Card USB</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Lufia writes the high ROM bank bit directly all over the place. This might be what the EMS cart doesn't like, however the game also writes to this register area in other code, possibly by accident. I think Battletoads wrote to registers at weird addresses in the range which the EMS cartridge didn't like either so perhaps it is similar.<br /><br />Update: Here is a fix to try. It prevents writes to the $3xxx range which are likely the cause of the game not working. Please report back with results.

		
			<br clear="all" /><br />

			<table class="tablebg" width="100%" cellspacing="1">
			<tr>
				<td><b class="genmed">Attachments: </b></td>
			</tr>
			
				<tr>
					<td>
			<span class="genmed">
				<img src="./styles/subsilver2/imageset/icon_topic_attach.gif" width="14" height="18" alt="" title="" /> 
				<a href="./download/file.php?id=2157">Lufia - The Legend Returns (U) [C](Fix).ips</a> [106 Bytes]
			</span><br />
			<span class="gensmall">Downloaded 26 times</span>
		

		<br />
	</td>
				</tr>
			
			</table>
		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>jopeji</b> [ Wed Nov 12, 2014 10:15 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Fixing ROMs for EMS 64 GB Smart Card USB</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">MottZilla wrote:</div><div class="quotecontent">Lufia writes the high ROM bank bit directly all over the place. This might be what the EMS cart doesn't like, however the game also writes to this register area in other code, possibly by accident. I think Battletoads wrote to registers at weird addresses in the range which the EMS cartridge didn't like either so perhaps it is similar.<br /><br />Update: Here is a fix to try. It prevents writes to the $3xxx range which are likely the cause of the game not working. Please report back with results.</div><br /><br />Perfect working great, thank you very much  <img src="./images/smilies/icon_mrgreen.gif" alt=":mrgreen:" title="Mr. Green" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>jopeji</b> [ Mon Nov 24, 2014 9:09 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Fixing ROMs for EMS 64 GB Smart Card USB</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />hi, Revelations - The Demon Slayer.gbc does not work either  <img src="./images/smilies/icon_cry.gif" alt=":cry:" title="Crying or Very sad" /> , I need your help for a fix. thank you very much!!  <img src="./images/smilies/icon_wink.gif" alt=":wink:" title="Wink" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>beefinator</b> [ Sun Dec 28, 2014 10:22 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Fixing ROMs for EMS 64 GB Smart Card USB</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />mottZilla, I saw a bit earlier in the thread a dude who was having issues with Link's Awakening; I've tried a couple different ROMs with your latest (1.2?) patch, and I'm getting stuck at the same place.  It will not retain a save after I rescue the BowWow.  <br />I think the end of the conversation was you saying you'd take another look sometime; I'm wondering if you ever did get a chance to, or if I'm doing something wrong.<br /><br />Attached is a save file right at the entrance of the cave where you rescue it.<br />When I go in, fight the baddies, rescue the bowwow, walk out, and save+quit to title, I can then immediately load the save slot again and resume the game, at the cave entrance with the bowwow.<br />But if I power cycle, and then try to resume my game, I'm placed at the cave entrance, pre-bowwow.  It only retains the save while it's running, not on power off.<br /><br />roms I've tried (perhaps I'm just using the wrong ones): <a href="http://www.emuparadise.me/Nintendo_Game_Boy_ROMs/Legend_of_Zelda,_The_-_Link's_Awakening_(USA,_Europe)_(Rev_B)/69119" class="postlink">one</a><br /><a href="http://www.emuparadise.me/Nintendo_Game_Boy_ROMs/Legend_of_Zelda,_The_-_Link's_Awakening_(USA,_Europe)/69120" class="postlink">two</a>

		
			<br clear="all" /><br />

			<table class="tablebg" width="100%" cellspacing="1">
			<tr>
				<td><b class="genmed">Attachments: </b></td>
			</tr>
			
				<tr>
					<td>
			<span class="genmed">
				<img src="./styles/subsilver2/imageset/icon_topic_attach.gif" width="14" height="18" alt="" title="" /> 
				<a href="./download/file.php?id=2341">zeldabowwow.zip</a> [16.25 KiB]
			</span><br />
			<span class="gensmall">Downloaded 12 times</span>
		

		<br />
	</td>
				</tr>
			
			</table>
		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>19</strong> of <strong>21</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>