<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - robotfindskitten Port release</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">robotfindskitten Port release</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=22&amp;t=11400">http://forums.nesdev.com/viewtopic.php?f=22&amp;t=11400</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Scoth42</b> [ Sun Jul 06, 2014 8:30 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>robotfindskitten Port release</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Hey folks! Decided to dive into NES development a bit, and started with Shiru's C setup to get my feet wet. I've completed my first project, a port/version of robotfindskitten (it's virtually 100% new code, so I'm not sure &quot;port&quot; fits).<br /><br />More information about it can be found at <a href="http://robotfindskitten.org" class="postlink">http://robotfindskitten.org</a> . I've submitted it to the site to be listed, but it may not be up there yet. It's available for download at <a href="http://iamscott.net/robotfindskitten.nes" class="postlink">http://iamscott.net/robotfindskitten.nes</a> , so feel free to give it a spin. I'm considering adding a two player mode, even though it's not canonical to the game. Or maybe even four player mode?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Mon Jul 07, 2014 4:42 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: robotfindskitten Port release</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Only concern: on NTSC NESes the top and bottom 8-16 scanlines may be concealed by the top and bottom of the screen.<br /><br />Otherwise, looks like a quite competently done port!

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Scoth42</b> [ Mon Jul 07, 2014 4:48 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: robotfindskitten Port release</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Hmm, I thought I'd accounted for that (I'm in an NTSC territory myself), but that's a fair point. I'll have to do some more testing and perhaps adjust it. I'll be putting it on a real cartridge, perhaps tonight, so I'll be able to test it on actual hardware. I'll definitely tweak it if it looks like a problem.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Mon Jul 07, 2014 5:15 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: robotfindskitten Port release</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />May as well mention a wishlist item while I'm here: how about a proportional font for the NKI text (like what tepples is using for <s>RHDN</s>RHDE) ?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Scoth42</b> [ Mon Jul 07, 2014 5:35 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: robotfindskitten Port release</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />You're right, it would have been cut off if I'd put it on a cart. Did some comparison with other games and I misunderstood how the emulator was presenting it. I've also corrected a bug with bounds checking that let robot move too far up. Good catch and thanks for the advise; I'm still brand new to this. Saved me having to resolder an eprom!<br /><br />As for the proportional font, I'll look into it. I probably have the chr space for it - right now half of it is taken up by &quot;beta content&quot; from before I'd finalized my title screen. I was sort of going for the &quot;retro&quot; look, as the original rfk was written for DOS and many of the early ports were for fixed-width consoles. I'm already deviating from the baseline rfk anyway, so there'd be no harm to it.<br /><br />I've reuploaded a fixed version to the same location. Feel free to update.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Mon Jul 07, 2014 8:40 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: robotfindskitten Port release</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />RHDN is either romhacking.net or something to do with Red Hat. RHIDE is Robert HÃ¶hne's DJGPP source code editor. RHDE is the furniture arranging game. I know it can sometimes be confusing.<br /><br />A proportional font needs CHR RAM, so you might start by porting to that. Do you plan on making source code available? Otherwise I might have to start my own RFK port from scratch.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Scoth42</b> [ Mon Jul 07, 2014 9:05 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: robotfindskitten Port release</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">Do you plan on making source code available? Otherwise I might have to start my own RFK port from scratch.</div><br /><br />I've submitted it to robotfindskitten.org as an official port, which requires the source to be gpl. So it'll be available there once it's posted. I'm working on getting a q&amp;d webpage up about it; I'll throw the source up there.<br /><br />Since the C environment is limited to NROM, using CHR-RAM with it would be tricky. Even more reason to dig into proper assembly <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Mon Jul 07, 2014 9:16 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: robotfindskitten Port release</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Mapper 0 + CHR RAM should work in most emulators, and rewiring an authentic NROM board for it is as straightforward as any other NES repro. That's the configuration that both Ian Bell's tank demo and RHDE use.<br /><br />Would the villain be Sirhan?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Scoth42</b> [ Tue Jul 08, 2014 8:36 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: robotfindskitten Port release</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I'll take a look. I don't have a spare CHR-RAM right now but I'm sure I could find a donor somewhere. I've done a couple MMC3 repros so I'm sure I can handle it.<br /><br />I've also made a real cartridge of this, and I'm seeing a strange background color problem on the text. I've tried it in a couple different emulators and it doesn't exhibit that problem. I also ran into an invisible NKI, which I haven't seen in the couple hundred rounds I've played on an emulator. Odd. It doesn't seem to correspond to anything I can see. Also makes me miss my CRT.<br /><br /><img src="http://i.snag.gy/H1g9I.jpg" alt="Image" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Tue Jul 08, 2014 8:46 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: robotfindskitten Port release</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Not sure what is causing it, but that's certainly the attribute table getting corrupted for whatever reason.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Scoth42</b> [ Thu Jul 10, 2014 5:30 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: robotfindskitten Port release</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I finally got around to packaging up the source and stuck it up at <a href="http://iamscott.net/rfk/rfk-src.zip" class="postlink">http://iamscott.net/rfk/rfk-src.zip</a> . Also threw up a quick page at <a href="http://iamscott.net/rfk" class="postlink">http://iamscott.net/rfk</a> . The source could still use a little more cleanup; I made an attempt to at least comment everything but there's a couple vestiges of leftover bits.<br /><br />I also included the modified neslib.s where I changed out the RNG.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Fri Jul 11, 2014 2:04 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: robotfindskitten Port release</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />So anyway, I've read through the <a href="http://robotfindskitten.org/download/rfk-rfc/rfk-01.pdf" class="postlink">RFK RFC</a>, and I found a few points that I don't think are so easy to satisfy on NES. Fortunately, both of these are marked SHOULD because of platform limits that the RFC acknowledges.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">11.2. Programmatic Sources<br /><br />These descriptions SHOULD come from a static, external source in order to facilitate the addition and subtraction of custom non-kitten items without recompilation. Early versions of robotfindskitten used an embedded, hard-coded NKI list. This design is deprecated. There is no standard format for the NKI file, although a user-friendly format (such as plain text) is RECOMMENDED.</div><br />Unless something reads NKI descriptions from a text file at $6000-$7FFF, I don't see how to satisfy external editability.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">10.2. kitten and Non-kitten Items<br /><br />The number of non-kitten items SHOULD be configurable before the start of a new simulation.</div><br />Due to memory limits associated with the definition of each item (position, color, and identity make 5 bytes) and the PPU's limit on adjacent sprites, I don't see how more than, say, 15 NKIs on an NES-size screen are practical especially with two robots running around.<br /><br />As an exercise, I spent the past four days implementing my own version of robotfindskitten with a variable width font and 2 robots. It currently fits the &quot;engine&quot;, including all code, instructions, and the font, into 4352 bytes ($8000-$90FF), leaving the rest of the ROM for NKI descriptions. (I'm working on getting that down to the symbolic 4096.) And those are compressed with <a href="https://en.wikipedia.org/wiki/Byte_pair_encoding" class="postlink">byte pair encoding</a>, which is common in Super NES RPGs, to save about one-third vs. straight 8-bit ASCII. I don't want to release it publicly just yet in order not to steal your thunder.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>43110</b> [ Fri Jul 11, 2014 3:44 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: robotfindskitten Port release</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">So anyway, I've read through the <a href="http://robotfindskitten.org/download/rfk-rfc/rfk-01.pdf" class="postlink">RFK RFC</a>,...</div>I took a double take after reading that sentence. I guess technically it's an expired draft rather then a numbered IETF RFC.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Scoth42</b> [ Fri Jul 11, 2014 5:08 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: robotfindskitten Port release</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Huh. Oddly enough I'd missed the RFC in the download list, embarrassingly enough. That might have tweaked the final design, but ah well. NES games were often... adapted for the platform anyway <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /><br /><br />I'd worked a bit on implementing runtime NKI count selection, but I spent a lot of time chasing a bug that caused my KoNKI to flicker above about 30, and by the time I fixed that I forgot about it. I was also thinking about implementing a two-player mode, but I didn't want to take up so much of the screen with text lines. A variable-width font may help that if it can take up less space. I may yet add them, if I get frustrated by my next project (a re-implementation of Dance Fantasy by Fisher Price. I know, silly choice, but it has a lot of memories of my sister and me growing up. It actually has a lot of frames of animation and a somewhat complex dance performance routine. Especially considering the whole thing was in 8k on an Atari 8-bit cartridge. It'll also let me practice my sprite animation and music/sound handling).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Fri Jul 11, 2014 5:45 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: robotfindskitten Port release</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Is this what it might look like?

		
			<br clear="all" /><br />

			<table class="tablebg" width="100%" cellspacing="1">
			<tr>
				<td><b class="genmed">Attachments: </b></td>
			</tr>
			
				<tr>
					<td>
			<img src="./download/file.php?id=1721" alt="my_rfk_implementation.png" /><br />
			<span class="gensmall">my_rfk_implementation.png [ 1.04 KiB | Viewed 206 times ]</span>
		

		<br />
	</td>
				</tr>
			
			</table>
		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>