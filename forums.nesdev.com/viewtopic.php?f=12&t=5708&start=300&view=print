<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - SNES PowerPak</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">SNES PowerPak</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=12&amp;t=5708">http://forums.nesdev.com/viewtopic.php?f=12&amp;t=5708</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>21</strong> of <strong>38</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>mic_</b> [ Mon Apr 26, 2010 6:03 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />A clone (which I'm guessing that the FC-16 is) might not have a CIC on the console side, and therefore might not care about whether or not a CIC is present in the cartridge.
<br />If you want the cart to also work on an official SNES/SFC you will need a CIC(lone) for the reason that tepples gave.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Heinz2001</b> [ Mon Apr 26, 2010 6:19 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Ok. <img src="./images/smilies/icon_smile.gif" alt=":-)" title="Smile" />. Thats why i wrote FC16 go. Of couse you need an CIClone if you use a SNES with CIC.
<br />
<br />Thanks for explanation. So it would be really great to have rom patching to remove region check in powerpak.
<br />
<br />Maybe it's doable with the current GameGenie patchsystem?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MottZilla</b> [ Mon Apr 26, 2010 1:06 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />With a Game Genie you can patch up to 5 bytes of ROM. This is plenty to fool a game with NTSC/PAL protection into running on the opposite video system. But if the game for some reason doesn't function properly on the opposite then you'd need more than just a few byte changes.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Heinz2001</b> [ Tue Apr 27, 2010 1:12 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">MottZilla wrote:</div><div class="quotecontent">With a Game Genie you can patch up to 5 bytes of ROM. This is plenty to fool a game with NTSC/PAL protection into running on the opposite video system. But if the game for some reason doesn't function properly on the opposite then you'd need more than just a few byte changes.</div>
<br />
<br />Of couse. But using Game Genie and on-the-fly patching is far more better than a hard patch. In Snes-Powerpak i can place a Game Genie file, this should do the job.
<br />
<br />Update: As long as i understand GG patching, I can patch "Secret of Mana PAL" to work on my FC16 Go (NTSC without cic) using this GameGenie code with Snes-Powerpak "CB83-DF92".
<br />
<br />Correct?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Marcel</b> [ Tue Apr 27, 2010 4:55 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Hi Heinz2001,
<br />
<br />Patching based on a generic seek and replace method is not always reliable. Indeed I've already come across games where the code pattern of the protection is not listed on the web page you gave earlier. This half broken "feature" would be hard to support for the powerpack designer imho.
<br />The gg code is not too hard to find with a debugger. Of course a more extreme but easier solution would be to use the  US version.  <img src="./images/smilies/icon_idea.gif" alt=":idea:" title="Idea" />  <img src="./images/smilies/icon_wink.gif" alt=":wink:" title="Wink" />
<br />
<br />Now about the gg code you've found, there have been several revisions of SoM PAL, in different languages.
<br />Could you please provide the crc of the rom you're using ?
<br />
<br />--

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Heinz2001</b> [ Tue Apr 27, 2010 6:47 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I used SnesTool to patch this rom and then i compared the patched one with the unpatched one. Then i used ggconvc to convert the hex adress and the byte value into GG code.
<br />
<br />md5: 976edc10fbb8825d9d2e31117055f1f9 *Secret of Mana (G).smc
<br />sha1: e54e6b8c41b14b1ef579ac73c16cc39dec4d9b35 *Secret of Mana (G).smc
<br />
<br />Of couse i can use the US version, but i want to play Secret of Mana in German on my FC16 Go <img src="./images/smilies/icon_smile.gif" alt=":-)" title="Smile" />. I have several Pal Games with german language that don't work on the FC16-Go. Thants why i wanna use my powerpak to play them.
<br />
<br />I searched the web for GG codes to patch roms for region. But i can't find one. I don't think i'm the first one who want todo this <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /> ?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Marcel</b> [ Tue Apr 27, 2010 10:16 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Well I don't know from where you got the rom (and I don't want to know) but the goodsnes and no-intro db all agree on the <a href="http://datomatic.no-intro.org/index.php?page=show_record&amp;s=49&amp;n=2267" class="postlink">same hash</a> for SoM German which is not the same as yours.
<br />Anyway I'll show you how to get the gg code by yourself. This is using the german version with the following hash :
<br />(md5)B57303407986C0D28F2D78F931EFC59C
<br />(sha1)AB8A31BFB4CF0CE19B96893A31442FFBFD8D0BEB 
<br />
<br /><ol style="list-style-type: decimal"><li>Open the rom in an emulator which include a debugger like <a href="http://bsnes.googlecode.com/files/bsnes_v063.zip" class="postlink">bsnes</a>.</li><li>Open the debugger and put a breakpoint on 213f when read. $213f is a register where the region type is stored (PAL/NTSC). The games always read this register to detect the region.</li><li>Reset the game. It should stop with the following:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">7ed45a lda $00213f&nbsp; &nbsp;&#91;00213f&#93; A:0204 X:0620 Y:0610 S:02e9 D:02ee DB:7f nvMxdizC V: 70 H:&nbsp; 10</div><br />This is where the game tries to read the region code. Step a bit through the code until you reach a condition:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">7ed45e and #$10&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:0263 X:0620 Y:0610 S:02e9 D:02ee DB:7f nvMxdizC V: 70 H:&nbsp; 10<br />7ed460 cmp #$10&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:0200 X:0620 Y:0610 S:02e9 D:02ee DB:7f nvMxdiZC V: 70 H:&nbsp; 26<br />7ed462 beq $d47f&nbsp; &nbsp; &nbsp;&#91;7ed47f&#93; A:0200 X:0620 Y:0610 S:02e9 D:02ee DB:7f NvMxdizc V: 70 H:&nbsp; 42<br /></div><br />This last line is a conditional jump. If on NTSC, display the bad boy message else jump over the bad boy code and continue. Of course, this portion of code change from game to game, so you'll have to understand a little bit of assembler but this should be ok with the <a href="http://www.google.com/search?q=%22Programming+the+65816%22" class="postlink">proper documentation</a>.</li><li>One way to always jump over the bad boy message is to change the conditionnal jump to an unconditional one. Refering to the doc, we can use the BRA instruction which translate to opcode $80 in hexadecimal (while BEQ translate to F0).<br />So we want to have $80 at address $7ed462, give that to ggconvc  7ed462:80 and it returns 6D21-FA8B. (I'm using "Game Geni Code Converter by the way)</li></ol>Now there is catch: while this code should work with emulator like bsnes or zsnes, it won't on the original gg hardware and by extension on the powerpak (I guess because I don't own a ppak but then it would allow PAR code as well). This is because the target of the patch is in the system RAM (begins with 7e/7f) which the gg can't access. But all is not lost, the code must have been copied from the ROM to the RAM from somewhere else.<br /><br />5. Disable the breakpoint on 213f and put a breakpoint at 7ed462 on write. Reset the game:<div class="codetitle"><b>Code:</b></div><div class="codecontent">0001f0 mvn $c7,$7e&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; A:0001 X:b2e9 Y:d462 S:01c0 D:01c5 DB:7e NvMxdIZc V:245 H: 584</div>
<br />This copy byte from @c7b2e9 to @7ed462. So we want to overwrite byte @c7b2e9 with 80 =&gt; ggconvc: c7b2e9:80
<br />=&gt; <strong>6D83-849A</strong>
<br />
<br />This should do it.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>byuu</b> [ Tue Apr 27, 2010 11:37 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Yes, the Game Genie cannot override RAM, as the system itself responds to those addresses instead of the cart bus.
<br />
<br />The Pro Action Replay "cheats" by hooking the NMI routine and manually overwriting RAM each frame.
<br />
<br />Unfortunately there are thousands of RAM-based codes out there, so we can't very well ignore RAM-based GG codes.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Heinz2001</b> [ Tue Apr 27, 2010 2:42 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Thanks for this good Tutorial.
<br />
<br />Anyway. I tried my GG code and it don't work. I tried the snestool patched rom (for ntsc) and it worked.
<br />
<br />I have to get hands on the rom version you mentioned.
<br />
<br />So GG codes patch the rom not the ram right?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Disch</b> [ Tue Apr 27, 2010 2:54 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Heinz2001 wrote:</div><div class="quotecontent">So GG codes patch the rom not the ram right?</div><br /><br /><div class="quotetitle">byuu in the post immediately before that one wrote:</div><div class="quotecontent">Yes, the Game Genie cannot override RAM</div>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Heinz2001</b> [ Tue Apr 27, 2010 2:59 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I read this <img src="./images/smilies/icon_wink.gif" alt=";-)" title="Wink" />, but it does not say explicitly that it overwrites the rom. And i asked, just because my calculated code don't work.
<br />
<br />@Marcel: Ok. I found the rom version you mentioned and used your GG code. It also does not work.
<br />
<br />Maybe i calculate the GG code wrong.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Marcel</b> [ Wed Apr 28, 2010 12:11 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />ok, snestool change byte $29 to $a9 @7b2e5 in the rom file, ie "and #$10" becomes "lda #$10" in the code listing I gave earlier.
<br />The gg code to mimic this would be:
<br />$c7b2e5:a9  ($c7b2e5=$7b2e5+$c00000 : hirom, no header)
<br />=&gt; CB83-8F9A
<br />
<br />To calculate the right address - without using a debugger -, you need to know the map mode of the rom (lorom,hirom,...) and check the presence of an header to add 512 ($200) accordingly. Please note that while the goodtools rename this rom with an smc extension, there is actually no smc header. 
<br />
<br />I just checked those two codes  (CB83-8F9A and 6D83-849A) in both bsnes and zsnes by forcing the rom to load in ntsc mode and it works ok. So if this don't work for you, I don't see why and can't help any further i'am afraid as I don't own the fc16, the gg nor the ppack   <img src="./images/smilies/icon_lol.gif" alt=":lol:" title="Laughing" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Heinz2001</b> [ Fri Apr 30, 2010 1:42 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Ok. I tried both codes yesterday. No code works. This is strange indeed.
<br />
<br />I also tested both codes on bsnes and they work. Mh. Would be cool to know something about the GG implementation in Snes powerpak.
<br />
<br />Bunnyboy?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lifeixie</b> [ Fri Apr 30, 2010 7:52 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Strange questions
<br />The same CF card
<br />
<br />My SFC:game perfect work
<br />My friend's (A) : no one can the SFC and submitted to the different work as freely though they are wrong, including $51 CF CARD: they $10 CF CARD as freely though they as freely though they
<br />I another friend (B) the SFC: the game, most occasionally work does not work, and friends (A) the same mistake
<br />I another friend (B) the SFC JR: game perfect work
<br />
<br />
<br />Don't have internal voltages and host?
<br />Excuse me, where the problem??????

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Eyedunno</b> [ Fri Apr 30, 2010 3:25 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Heinz2001 wrote:</div><div class="quotecontent">Ok. I tried both codes yesterday. No code works. This is strange indeed.<br /><br />I also tested both codes on bsnes and they work. Mh. Would be cool to know something about the GG implementation in Snes powerpak.<br /><br />Bunnyboy?</div><br />I can confirm that Game Genie codes have never worked for me on the PowerPak, even when they work on emulators or with an actual Game Genie.<br /><br /><div class="quotetitle">lifeixie wrote:</div><div class="quotecontent">My SFC:game perfect work<br />My friend's (A) : no one can the SFC and submitted to the different work as freely though they are wrong, including $51 CF CARD: they $10 CF CARD as freely though they as freely though they<br />I another friend (B) the SFC: the game, most occasionally work does not work, and friends (A) the same mistake<br />I another friend (B) the SFC JR: game perfect work</div>
<br />If you are using an automatic translation site, please know that what you have said is almost completely impossible to understand.  All I gather is that some Super Famicoms work and some don't.
<br />
<br />It might help to press select at the first screen and tell us the CPU, PPU1, and PPU2 numbers.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>21</strong> of <strong>38</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>