<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="http://forums.nesdev.com/feed.php?f=12&amp;t=6912" />

<title>nesdev.com</title>
<subtitle>NES Development and Strangulation Records message boards</subtitle>
<link href="http://forums.nesdev.com/index.php" />
<updated>2010-08-31T05:13:17-07:00</updated>

<author><name><![CDATA[nesdev.com]]></name></author>
<id>http://forums.nesdev.com/feed.php?f=12&amp;t=6912</id>
<entry>
<author><name><![CDATA[TmEE]]></name></author>
<updated>2010-08-31T05:13:17-07:00</updated>
<published>2010-08-31T05:13:17-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6912&amp;p=66996#p66996</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6912&amp;p=66996#p66996"/>
<title type="html"><![CDATA[MD vs. SNES: FM vs. PCM]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6912&amp;p=66996#p66996"><![CDATA[
I had a chance to listen a recording from a YM3438 chip in a MD1 and it sounded identical when it comes to noises etc. My firend had to rework the input stages of the mixer though as the output is different form YM2612 (higher impedance).<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3483">TmEE</a> — Tue Aug 31, 2010 5:13 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[6502freak]]></name></author>
<updated>2010-08-31T04:48:36-07:00</updated>
<published>2010-08-31T04:48:36-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6912&amp;p=66993#p66993</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6912&amp;p=66993#p66993"/>
<title type="html"><![CDATA[MD vs. SNES: FM vs. PCM]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6912&amp;p=66993#p66993"><![CDATA[
<div class="quotetitle">TmEE wrote:</div><div class="quotecontent"><br />Also, I have noticed thato n MD1 the PCM is much more noisy than on MD2. So I guess there is a design flaw somewhere.... ?<br /></div><br /><br />As far as I know, the MD2 has an integrated chipset which merges the YM2612 with the VDP, so chances are high that they reworked the chip design. I never had a MD2, so unfortunately, I can not comment on this.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />MD2 certainly does not have any of those features... sound is crisp and clean, and rather close to what emulator would produce.<br /></div><br /><br />If that's the case, then the distortion effect would have to be made optional in an Emulator, or simpler, let the user choose between MD1 and MD2 configurations. However, I doubt that any game released before 1994/95 takes the non-distorted sound into account.<br /><br />I wonder if the CMOS version of the YM2612 (YM3438) has the same design flaw, or if Yamaha fixed it. In theory, they should be swappable. Have to get my hands on a System 18 board...<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3760">6502freak</a> — Tue Aug 31, 2010 4:48 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[TmEE]]></name></author>
<updated>2010-08-30T09:02:45-07:00</updated>
<published>2010-08-30T09:02:45-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6912&amp;p=66946#p66946</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6912&amp;p=66946#p66946"/>
<title type="html"><![CDATA[MD vs. SNES: FM vs. PCM]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6912&amp;p=66946#p66946"><![CDATA[
It may be because you're not running the channels in full blast. For example PCM is 12...18db more quieter than FM at full blast and games are thus using low enough volumes on FM so that PCM is not overshadowed.<br />Also, I have noticed thato n MD1 the PCM is much more noisy than on MD2. So I guess there is a design flaw somewhere.... ?<br /><br />MD2 certainly does not have any of those features... sound is crisp and clean, and rather close to what emulator would produce.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3483">TmEE</a> — Mon Aug 30, 2010 9:02 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[6502freak]]></name></author>
<updated>2010-08-30T06:47:55-07:00</updated>
<published>2010-08-30T06:47:55-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6912&amp;p=66942#p66942</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6912&amp;p=66942#p66942"/>
<title type="html"><![CDATA[MD vs. SNES: FM vs. PCM]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6912&amp;p=66942#p66942"><![CDATA[
<div class="quotetitle">TmEE wrote:</div><div class="quotecontent"><br />The discrete YM2612 chip used in MD1 has a 9bit DAC. The one used inside MD2 ASIC seems to have more than 10bits, but not above 12bits. The quantization noise is much lower on MD2 than it is on MD1.<br /></div><br /><br />I am somehow not convinced that the noise is generated by the 9 Bit DAC. I have the feeling that the internal data being fed to the YM2612 DAC is somehow altered to make it appear like listening to a 6 Bit sample. Even 8 Bit samples don't sound nearly as noisy as the real YM2612 when playing quiet sounds. And it's ONLY in quiet areas this strange distortion happens.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />MD1s generally suffer from hiss and muffledness but those are all caused by headphone amp chip + the lowpass filters.<br /></div><br /><br />Yeah, but this is again no explanation for this strange anomaly in the sound output. I can also hear it on the AV connector on the back.<br /><br />It's a shame I have currently no possibility to test any kind of code on my Mega Drive.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3760">6502freak</a> — Mon Aug 30, 2010 6:47 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[TmEE]]></name></author>
<updated>2010-08-30T03:47:58-07:00</updated>
<published>2010-08-30T03:47:58-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6912&amp;p=66940#p66940</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6912&amp;p=66940#p66940"/>
<title type="html"><![CDATA[MD vs. SNES: FM vs. PCM]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6912&amp;p=66940#p66940"><![CDATA[
The discrete YM2612 chip used in MD1 has a 9bit DAC. The one used inside MD2 ASIC seems to have more than 10bits, but not above 12bits. The quantization noise is much lower on MD2 than it is on MD1.<br /><br />Then there's a load of other issues caused by external analog circuitry... most MDs got heavy filtering happen and when it comes to MD2s then low quality opamp chips with their bandwidths exceeded thus producing high amount of distortions. MD1s generally suffer from hiss and muffledness but those are all caused by headphone amp chip + the lowpass filters.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3483">TmEE</a> — Mon Aug 30, 2010 3:47 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[6502freak]]></name></author>
<updated>2010-08-30T03:00:48-07:00</updated>
<published>2010-08-30T03:00:48-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6912&amp;p=66939#p66939</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6912&amp;p=66939#p66939"/>
<title type="html"><![CDATA[MD vs. SNES: FM vs. PCM]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6912&amp;p=66939#p66939"><![CDATA[
<div class="quotetitle">tepples wrote:</div><div class="quotecontent"><br />Games like Blaster Master and Faxanadu look better on an NTSC TV than on a PlayChoice; this helped popularize NTSC TV emulation in emulators such as Nestopia. Tunes exploiting nontrivial quirks of the BRR decoder for noise generation did the same for SNES DSP emulation. So if we want to popularize accurate emulation of an FM chip's artifacts, perhaps someone needs to make a tune that sounds better on a Genesis than on the current emulators.<br /></div><br /><br />I think there is a very real chance that some Genesis/Mega Drive composers fine tuned their songs according to the audio output of the real chip. It's hard to describe how that difference changes the characteristics of the sound. It's quite subtle, but once you realize it, you always hear it. <br /><br />To me, YM2612 emulation sounds more transparent, but also more... "glassy". The sound of the real chip is a bit more... "beefy".<br /><br />It seems the lack of DAC resolution adds, in a noisy way, more amplitude to the lower volume spectrum.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />To what extent can this be worked around? If an instrument in the mix uses only two operators, perhaps it could be run in the 2x2 algorithm (algorithm 4 in TFMMaker), with quiet noise on one pair of operators with an amplitude of one LSB. Would that work as a <a href="http://en.wikipedia.org/wiki/Dither" class="postlink">dither noise</a> source?<br /></div><br /><br />I think it always acts as some kind of dither source, hence the subtle impression that the sound is less glassy, but also a bit less defined, on the real chip. I think it can be compared to the triangle wave of the NES. The first Nesticle versions emulated it straight, by using all the bits of the sound channel available. This resulted in a much more dull sound compared to the "beefiness" created by the aliasing of the actual triangle wave, which is only 4 bits in resolution.<br /><br />We know that the YM2612 mixes sound by multiplexing the six channels through one single DAC. A naive viewpoint would assume that this DAC is 8 Bit, and that the software DAC register is simply being sent to it when the timeslot for channel 6 is reached (given that the FM portion of the channel is deactivated).<br /><br />But that wouldn't explain the amount of distortion going on for the FM sound, because it sounds more like 6-7 Bit. We know that the other YM chips output their sound data in a floating point format to their external DACs, so maybe this distortion is a result of a simplified on-chip conversion. Like there is some kind of non-linear mapping going on which emphasizes the lower bits of the DAC.<br /><br />This can only be resolved by decapping the YM2612 and tracing the MOL and MOR lines.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3760">6502freak</a> — Mon Aug 30, 2010 3:00 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2010-08-29T15:14:34-07:00</updated>
<published>2010-08-29T15:14:34-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6912&amp;p=66883#p66883</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6912&amp;p=66883#p66883"/>
<title type="html"><![CDATA[MD vs. SNES: FM vs. PCM]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6912&amp;p=66883#p66883"><![CDATA[
<div class="quotetitle">6502freak wrote:</div><div class="quotecontent"><br />The biggest difference between an original YM2612 and a very good emulator, like KEGA, is the aliasing distortion on the real chip. [...] This is probably because the on-chip DAC of the YM2612 has a very limited number of bits compared to the external Yamaha YM3012/3014 DAC's used with most of their FM chips. So far, no emulator gets this correctly. Most people using the Emulator would probably complain once this characteristic of the original chip is implemented. <img src="http://forums.nesdev.com/images/smilies/icon_wink.gif" alt=";)" title="Wink" /><br /></div><br />Games like Blaster Master and Faxanadu look better on an NTSC TV than on a PlayChoice; this helped popularize NTSC TV emulation in emulators such as Nestopia. Tunes exploiting nontrivial quirks of the BRR decoder for noise generation did the same for SNES DSP emulation. So if we want to popularize accurate emulation of an FM chip's artifacts, perhaps someone needs to make a tune that sounds better on a Genesis than on the current emulators.<br /><br />To what extent can this be worked around? If an instrument in the mix uses only two operators, perhaps it could be run in the 2x2 algorithm (algorithm 4 in TFMMaker), with quiet noise on one pair of operators with an amplitude of one LSB. Would that work as a <a href="http://en.wikipedia.org/wiki/Dither" class="postlink">dither noise</a> source?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Sun Aug 29, 2010 3:14 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[6502freak]]></name></author>
<updated>2010-08-29T14:58:44-07:00</updated>
<published>2010-08-29T14:58:44-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6912&amp;p=66882#p66882</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6912&amp;p=66882#p66882"/>
<title type="html"><![CDATA[MD vs. SNES: FM vs. PCM]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6912&amp;p=66882#p66882"><![CDATA[
<div class="quotetitle">psycopathicteen wrote:</div><div class="quotecontent"><br />I'm wondering if I can find a comparison between a real YM2612 and emulation.  Something that would make the difference obvious like using really high frequencies.  Youtube is okay if that is all you can find.<br /></div><br /><br />The biggest difference between an original YM2612 and a very good emulator, like KEGA, is the aliasing distortion on the real chip. On my Rev. 1 Mega Drive (the one with the EXT connector on the back), when I listen to a tune via headphones, I can clearly make out a distortion effect when a waveform fades out. <br /><br />This is probably because the on-chip DAC of the YM2612 has a very limited number of bits compared to the external Yamaha YM3012/3014 DAC's used with most of their FM chips. So far, no emulator gets this correctly. Most people using the Emulator would probably complain once this characteristic of the original chip is implemented. <img src="http://forums.nesdev.com/images/smilies/icon_wink.gif" alt=";)" title="Wink" /><br /><br />I have played a lot with FM, and it's really like tweaking a real music instrument. It's so easy to screw up, making it sound distorted and shrill, which is probably the reason why lots of MD/GEN tunes don't sound very good. But once, in the hands of a composer who knows this stuff, it can sound really awesome!<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3760">6502freak</a> — Sun Aug 29, 2010 2:58 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[TmEE]]></name></author>
<updated>2010-08-28T04:29:31-07:00</updated>
<published>2010-08-28T04:29:31-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6912&amp;p=66858#p66858</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6912&amp;p=66858#p66858"/>
<title type="html"><![CDATA[MD vs. SNES: FM vs. PCM]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6912&amp;p=66858#p66858"><![CDATA[
The Galaxy Force II tune sounds close to what my own slap bass sounds like, there's bass chords there... I think the MD version of that game sounds about same regarding that instrument, it's been a while since I last played <img src="http://forums.nesdev.com/images/smilies/icon_razz.gif" alt=":P" title="Razz" /><br /><br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />I always knew that. I meant the ADSR envelope sounds different on both chips. Okay, I don't know how to describe it.<br /></div><br /><br />ADSR is of course different between different family chips, OPN and OPM have rsame parameters, but OPL has different and lower accuracy parameters and OPZ(stuff Yamaha use in their synthesizers) have higher accurqacy ones.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3483">TmEE</a> — Sat Aug 28, 2010 4:29 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[smkd]]></name></author>
<updated>2010-08-27T22:42:51-07:00</updated>
<published>2010-08-27T22:42:51-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6912&amp;p=66854#p66854</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6912&amp;p=66854#p66854"/>
<title type="html"><![CDATA[MD vs. SNES: FM vs. PCM]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6912&amp;p=66854#p66854"><![CDATA[
<div class="quotetitle">TmEE wrote:</div><div class="quotecontent"><br />The Z80 will give a tiny hit, its about 5% when Z80 does about 100KB/sec ROM access while 68K runs. There's first come, first serve principle, whoever makes the access first gets it and makes other wait. Luckily 68K does one memory access every 2nd cycle in tightest case, and Z80 can use that one unused cycle, and the performance hit gets negligable ^^<br />68K slowness has its good sides in some situations <img src="http://forums.nesdev.com/images/smilies/icon_razz.gif" alt=":P" title="Razz" /><br /></div><br /><br />Cool, 5% sounds alright for vastly improved audio.<br /><br /><div class="quotetitle">TmEE wrote:</div><div class="quotecontent"><br />Slap bass can be very nicely done on FM, just some dedication is needed when fine tuning your parameters. Listen Thunder Force IV on MD, there's some really awesome slap bass there <img src="http://forums.nesdev.com/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /><br /></div><br /><br />It sounds better than what I heard in MS, but I wonder if the params can be tweaked to sound less 'thin' like <a href="http://www.youtube.com/watch?v=Z7u5gVyluBc" class="postlink">this</a>.  It's more convincing than what I heard in Metal Slug anyway =)<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3295">smkd</a> — Fri Aug 27, 2010 10:42 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[psycopathicteen]]></name></author>
<updated>2010-08-27T15:23:34-07:00</updated>
<published>2010-08-27T15:23:34-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6912&amp;p=66840#p66840</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6912&amp;p=66840#p66840"/>
<title type="html"><![CDATA[MD vs. SNES: FM vs. PCM]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6912&amp;p=66840#p66840"><![CDATA[
I always knew that.  I meant the ADSR envelope sounds different on both chips.  Okay, I don't know how to describe it.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4383">psycopathicteen</a> — Fri Aug 27, 2010 3:23 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[TmEE]]></name></author>
<updated>2010-08-27T07:39:25-07:00</updated>
<published>2010-08-27T07:39:25-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6912&amp;p=66820#p66820</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6912&amp;p=66820#p66820"/>
<title type="html"><![CDATA[MD vs. SNES: FM vs. PCM]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6912&amp;p=66820#p66820"><![CDATA[
The closer the TL is to zero on a modulator the harsher the sound is.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3483">TmEE</a> — Fri Aug 27, 2010 7:39 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[psycopathicteen]]></name></author>
<updated>2010-08-26T15:37:49-07:00</updated>
<published>2010-08-26T15:37:49-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6912&amp;p=66775#p66775</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6912&amp;p=66775#p66775"/>
<title type="html"><![CDATA[MD vs. SNES: FM vs. PCM]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6912&amp;p=66775#p66775"><![CDATA[
I was just comparing VRC7 and TFM and from the instruments they sounded more or less the same, but when using a ADSR envelopes on the modulator, there is a huge difference.  On TFM, a change in modulator amplitude makes a really harsh sound, while the VRC7 isn't as harsh, but more wobbly.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4383">psycopathicteen</a> — Thu Aug 26, 2010 3:37 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[TmEE]]></name></author>
<updated>2010-08-26T13:41:24-07:00</updated>
<published>2010-08-26T13:41:24-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6912&amp;p=66769#p66769</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6912&amp;p=66769#p66769"/>
<title type="html"><![CDATA[MD vs. SNES: FM vs. PCM]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6912&amp;p=66769#p66769"><![CDATA[
The multiplier is per operator basis... if you increase multiplier by one on all operators you get one octave higher note, but if you keep one mul lower then not.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3483">TmEE</a> — Thu Aug 26, 2010 1:41 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[psycopathicteen]]></name></author>
<updated>2010-08-26T13:37:30-07:00</updated>
<published>2010-08-26T13:37:30-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6912&amp;p=66768#p66768</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6912&amp;p=66768#p66768"/>
<title type="html"><![CDATA[MD vs. SNES: FM vs. PCM]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6912&amp;p=66768#p66768"><![CDATA[
I'll upload a WAV file comparing TFM and VRC7 with supposedly the same parameters, when I get home.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4383">psycopathicteen</a> — Thu Aug 26, 2010 1:37 pm</p><hr />
]]></content>
</entry>
</feed>