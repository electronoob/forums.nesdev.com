<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="http://forums.nesdev.com/feed.php?f=3&amp;t=3785" />

<title>nesdev.com</title>
<subtitle>NES Development and Strangulation Records message boards</subtitle>
<link href="http://forums.nesdev.com/index.php" />
<updated>2008-01-03T00:17:13-07:00</updated>

<author><name><![CDATA[nesdev.com]]></name></author>
<id>http://forums.nesdev.com/feed.php?f=3&amp;t=3785</id>
<entry>
<author><name><![CDATA[Dwedit]]></name></author>
<updated>2008-01-03T00:17:13-07:00</updated>
<published>2008-01-03T00:17:13-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=3785&amp;p=30029#p30029</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=3785&amp;p=30029#p30029"/>
<title type="html"><![CDATA[Sprite position problem]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=3785&amp;p=30029#p30029"><![CDATA[
How are you handling scrolling and PPU address changes?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=53">Dwedit</a> — Thu Jan 03, 2008 12:17 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Juice]]></name></author>
<updated>2008-01-02T23:01:07-07:00</updated>
<published>2008-01-02T23:01:07-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=3785&amp;p=30028#p30028</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=3785&amp;p=30028#p30028"/>
<title type="html"><![CDATA[Sprite position problem]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=3785&amp;p=30028#p30028"><![CDATA[
Maybe i should put more information on my implementation:<br />First, i have a 256*240 byte array for screen buffer, then i fetch background colors to fill it.<br />second, after i finish filling background buffer, i setup sprite images and merge it to corresponding positions of screen buffer.<br />And the result is the background &amp; sprite position is right in SMB, and background is 8 pixels higher in Mikey Mouse, and background is 8 pixels lower in Ice climber.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3441">Juice</a> — Wed Jan 02, 2008 11:01 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Juice]]></name></author>
<updated>2008-01-02T22:36:40-07:00</updated>
<published>2008-01-02T22:36:40-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=3785&amp;p=30027#p30027</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=3785&amp;p=30027#p30027"/>
<title type="html"><![CDATA[Sprite position problem]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=3785&amp;p=30027#p30027"><![CDATA[
Thanks for all your suggestions. However, i have not solved this problem yet. It appears that there is something wrong with background rendering and its y coordinate is 8 pixels higher, but in game &lt;Ice Climber&gt; it's 8 pixels lower. <br /><img src="http://img252.imageshack.us/img252/4418/icbz7.png" alt="Image" /><br /><br />So is there something different on background setup between these games?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3441">Juice</a> — Wed Jan 02, 2008 10:36 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2007-12-18T20:13:42-07:00</updated>
<published>2007-12-18T20:13:42-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=3785&amp;p=29747#p29747</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=3785&amp;p=29747#p29747"/>
<title type="html"><![CDATA[Sprite position problem]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=3785&amp;p=29747#p29747"><![CDATA[
What is being written to $2005 and $2006 when the screen is set up?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Tue Dec 18, 2007 8:13 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Celius]]></name></author>
<updated>2007-12-18T19:36:02-07:00</updated>
<published>2007-12-18T19:36:02-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=3785&amp;p=29742#p29742</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=3785&amp;p=29742#p29742"/>
<title type="html"><![CDATA[Sprite position problem]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=3785&amp;p=29742#p29742"><![CDATA[
Maybe it has something to do with writing a certain value to the Y scroll, because SMB1 works, and it doesn't use vertical scrolling. Do the games that don't work use vertical scrolling?<br /><br /><div class="quotetitle">bunnyboy wrote:</div><div class="quotecontent"><br />As Dwedit said twice, there is nothing wrong with the sprites, it is the background that is wrong.<br /></div><br /><br />Twice? It seems that in the two posts that Dwedit made, only one of them actually states that the poster does not believe something is wrong with the sprites, but something is wrong with the backgrounds.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=138">Celius</a> — Tue Dec 18, 2007 7:36 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[strangenesfreak]]></name></author>
<updated>2007-12-18T19:28:29-07:00</updated>
<published>2007-12-18T19:28:29-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=3785&amp;p=29741#p29741</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=3785&amp;p=29741#p29741"/>
<title type="html"><![CDATA[Sprite position problem]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=3785&amp;p=29741#p29741"><![CDATA[
<div class="quotetitle">kyuusaku wrote:</div><div class="quotecontent"><br />Could it be sprite 0?<br /></div><br />Nope - the game doesn't even read $2002 for anything during the level-intros.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3329">strangenesfreak</a> — Tue Dec 18, 2007 7:28 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[kyuusaku]]></name></author>
<updated>2007-12-18T19:06:08-07:00</updated>
<published>2007-12-18T19:06:08-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=3785&amp;p=29740#p29740</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=3785&amp;p=29740#p29740"/>
<title type="html"><![CDATA[Sprite position problem]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=3785&amp;p=29740#p29740"><![CDATA[
Could it be sprite 0?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=20">kyuusaku</a> — Tue Dec 18, 2007 7:06 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[strangenesfreak]]></name></author>
<updated>2007-12-18T18:58:45-07:00</updated>
<published>2007-12-18T18:58:45-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=3785&amp;p=29739#p29739</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=3785&amp;p=29739#p29739"/>
<title type="html"><![CDATA[Sprite position problem]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=3785&amp;p=29739#p29739"><![CDATA[
<div class="quotetitle">Fx3 wrote:</div><div class="quotecontent"><br />Right... and which mapper does this game use?<br /></div><br />Mickey Mousecapade uses CNROM.  So I'm guessing the problem has nothing to do with the mapper - since all CNROM does is CHR bank-switching, and it looks like the pattern tables are correct.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3329">strangenesfreak</a> — Tue Dec 18, 2007 6:58 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Zepper]]></name></author>
<updated>2007-12-18T18:16:48-07:00</updated>
<published>2007-12-18T18:16:48-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=3785&amp;p=29737#p29737</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=3785&amp;p=29737#p29737"/>
<title type="html"><![CDATA[Sprite position problem]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=3785&amp;p=29737#p29737"><![CDATA[
Right... and which mapper does this game use?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=39">Zepper</a> — Tue Dec 18, 2007 6:16 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[bunnyboy]]></name></author>
<updated>2007-12-18T17:42:29-07:00</updated>
<published>2007-12-18T17:42:29-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=3785&amp;p=29736#p29736</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=3785&amp;p=29736#p29736"/>
<title type="html"><![CDATA[Sprite position problem]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=3785&amp;p=29736#p29736"><![CDATA[
As Dwedit said twice, there is nothing wrong with the sprites, it is the background that is wrong.  The distance from top of pict to top of sprites is the same in both pictures.  The distance form the top of pict to the top of the ground is different.  Visibly you can see more brown under the grass on the incorrect screenshot.  Sprite position is correct, background position (likely scrolling) is wrong.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=228">bunnyboy</a> — Tue Dec 18, 2007 5:42 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Celius]]></name></author>
<updated>2007-12-18T16:24:50-07:00</updated>
<published>2007-12-18T16:24:50-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=3785&amp;p=29734#p29734</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=3785&amp;p=29734#p29734"/>
<title type="html"><![CDATA[Sprite position problem]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=3785&amp;p=29734#p29734"><![CDATA[
The sprites are being drawn correctly, but it appears that the position is transposed about 8 pixels.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=138">Celius</a> — Tue Dec 18, 2007 4:24 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Zepper]]></name></author>
<updated>2007-12-18T15:39:10-07:00</updated>
<published>2007-12-18T15:39:10-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=3785&amp;p=29732#p29732</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=3785&amp;p=29732#p29732"/>
<title type="html"><![CDATA[Sprite position problem]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=3785&amp;p=29732#p29732"><![CDATA[
<div class="quotetitle">Dwedit wrote:</div><div class="quotecontent"><br />I'll repeat my post.  The sprites are clearly being drawn correctly.  The background is drawn too high.<br /></div><br /><br />There is an alignment problem that MIGHT BE the +1 thing for the Y-coord.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=39">Zepper</a> — Tue Dec 18, 2007 3:39 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Dwedit]]></name></author>
<updated>2007-12-18T14:40:56-07:00</updated>
<published>2007-12-18T14:40:56-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=3785&amp;p=29728#p29728</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=3785&amp;p=29728#p29728"/>
<title type="html"><![CDATA[Sprite position problem]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=3785&amp;p=29728#p29728"><![CDATA[
I'll repeat my post.  The sprites are clearly being drawn correctly.  The background is drawn too high.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=53">Dwedit</a> — Tue Dec 18, 2007 2:40 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Celius]]></name></author>
<updated>2007-12-18T14:26:28-07:00</updated>
<published>2007-12-18T14:26:28-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=3785&amp;p=29727#p29727</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=3785&amp;p=29727#p29727"/>
<title type="html"><![CDATA[Sprite position problem]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=3785&amp;p=29727#p29727"><![CDATA[
Perhaps you should look at how games that don't work in your emulator draw sprites. Compare some games that use DMA and some that use direct writes to $2004. You may find that the DMA ones act a certain way while the ones that directly store writes to $2004 act differently.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=138">Celius</a> — Tue Dec 18, 2007 2:26 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Zepper]]></name></author>
<updated>2007-12-18T06:06:01-07:00</updated>
<published>2007-12-18T06:06:01-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=3785&amp;p=29712#p29712</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=3785&amp;p=29712#p29712"/>
<title type="html"><![CDATA[Sprite position problem]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=3785&amp;p=29712#p29712"><![CDATA[
No clue about the game title... BUT I have a few tidbits...<br /><br />1. Check your PPU timing, specially how you render the screen and the NMI triggering time.<br /><br />2. Check your sprite Y position (vertical). Perhaps you should re-read it or... try +1 for the Y coordinate.<br /><br />3. The PPU scrolling might be related with the MMC3 IRQs, if this mapper is actually a MMC3. Well, by considerating some variations of it, we cannot assign it as "iNES mapper 4" anymore...<br /><br />4. Check $2004 reads.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=39">Zepper</a> — Tue Dec 18, 2007 6:06 am</p><hr />
]]></content>
</entry>
</feed>