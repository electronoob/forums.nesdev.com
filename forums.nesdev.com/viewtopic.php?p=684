<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<link rel="icon" href="/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />

<title>nesdev.com &bull; View topic - Choosing between two mirroiting modes</title>

<link rel="alternate" type="application/atom+xml" title="Feed - nesdev.com" href="http://forums.nesdev.com/feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - News" href="http://forums.nesdev.com/feed.php?mode=news" /><link rel="alternate" type="application/atom+xml" title="Feed - All forums" href="http://forums.nesdev.com/feed.php?mode=forums" /><link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="http://forums.nesdev.com/feed.php?mode=topics" /><link rel="alternate" type="application/atom+xml" title="Feed - Active Topics" href="http://forums.nesdev.com/feed.php?mode=topics_active" /><link rel="alternate" type="application/atom+xml" title="Feed - Forum - NESdev" href="http://forums.nesdev.com/feed.php?f=2" /><link rel="alternate" type="application/atom+xml" title="Feed - Topic - Choosing between two mirroiting modes" href="http://forums.nesdev.com/feed.php?f=2&amp;t=101" />

<link rel="stylesheet" href="./style.php?id=1&amp;lang=en" type="text/css" />

<script type="text/javascript">
// <![CDATA[


function popup(url, width, height, name)
{
	if (!name)
	{
		name = '_popup';
	}

	window.open(url.replace(/&amp;/g, '&'), name, 'height=' + height + ',resizable=yes,scrollbars=yes,width=' + width);
	return false;
}

function jumpto()
{
	var page = prompt('Enter the page number you wish to go to:', '2');
	var per_page = '15';
	var base_url = './viewtopic.php?f=2&amp;t=101';

	if (page !== null && !isNaN(page) && page == Math.floor(page) && page > 0)
	{
		if (base_url.indexOf('?') == -1)
		{
			document.location.href = base_url + '?start=' + ((page - 1) * per_page);
		}
		else
		{
			document.location.href = base_url.replace(/&amp;/g, '&') + '&start=' + ((page - 1) * per_page);
		}
	}
}

/**
* Find a member
*/
function find_username(url)
{
	popup(url, 760, 570, '_usersearch');
	return false;
}

/**
* Mark/unmark checklist
* id = ID of parent container, name = name prefix, state = state [true/false]
*/
function marklist(id, name, state)
{
	var parent = document.getElementById(id);
	if (!parent)
	{
		eval('parent = document.' + id);
	}

	if (!parent)
	{
		return;
	}

	var rb = parent.getElementsByTagName('input');
	
	for (var r = 0; r < rb.length; r++)
	{
		if (rb[r].name.substr(0, name.length) == name)
		{
			rb[r].checked = state;
		}
	}
}



// ]]>
</script>
</head>
<body class="ltr">

<a name="top"></a>

<div id="wrapheader">

	<div id="logodesc">
	</div>

	<div id="menubar">

		<table width="100%" cellspacing="0">
		<tr>
			<td rowspan="2"><a href="./index.php"><img src="./styles/subsilver2/imageset/site_logo.gif" alt="" title="" /></a></td>
			<td width="100%" align="center"><h1>nesdev.com</h1><span class="gen">NES Development and Strangulation Records message boards</span></td>
		</tr>
		<tr>
			<td align="center">
				<a href="./faq.php"><img src="./styles/prosilver/theme/images/icon_mini_faq.gif" width="12" height="13" alt="*" /> FAQ</a>
				&nbsp; &nbsp;<a href="./search.php"><img src="./styles/prosilver/theme/images/icon_mini_search.gif" width="12" height="13" alt="*" /> Search</a>
				<br />	
				 &nbsp;<a href="./ucp.php?mode=register"><img src="./styles/prosilver/theme/images/icon_mini_register.gif" width="12" height="13" alt="*" /> Register</a>
					&nbsp; &nbsp;<a href="./ucp.php?mode=login"><img src="./styles/prosilver/theme/images/icon_mini_login.gif" width="12" height="13" alt="*" /> Login</a>&nbsp;
			</td>
		</tr>
		</table>
	</div>

	<div id="datebar">
		<table width="100%" cellspacing="0">
		<tr>
			<td class="gensmall"></td>
			<td class="gensmall" align="right">It is currently Thu Aug 30, 2012 3:40 pm<br /></td>
		</tr>
		</table>
	</div>

</div>

<div id="wrapcentre">

	
	<p class="searchbar">
		<span style="float: left;"><a href="./search.php?search_id=unanswered">View unanswered posts</a> | <a href="./search.php?search_id=active_topics">View active topics</a></span>
		
	</p>
	

	<br style="clear: both;" />

	<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=24">NES / Famicom</a> &#187; <a href="./viewforum.php?f=2">NESdev</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>

	<br />

<div id="pageheader">
	<h2><a class="titles" href="./viewtopic.php?f=2&amp;t=101&amp;start=15">Choosing between two mirroiting modes</a></h2>


	<p class="moderators">Moderator: <a href="./memberlist.php?mode=group&amp;g=320">Moderators</a></p>

</div>

<br clear="all" /><br />

<div id="pagecontent">

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=2"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=2&amp;t=101"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>2</strong> of <strong>3</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 35 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"><b><a href="#" onclick="jumpto(); return false;" title="Click to jump to pageâ€¦">Go to page</a> <a href="./viewtopic.php?f=2&amp;t=101&amp;start=0">Previous</a>&nbsp;&nbsp;<a href="./viewtopic.php?f=2&amp;t=101">1</a><span class="page-sep">, </span><strong>2</strong><span class="page-sep">, </span><a href="./viewtopic.php?f=2&amp;t=101&amp;start=30">3</a> &nbsp;<a href="./viewtopic.php?f=2&amp;t=101&amp;start=30">Next</a></b></td>
		
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat">
			<table width="100%" cellspacing="0">
			<tr>
				<td class="nav" nowrap="nowrap">&nbsp;
				<a href="./viewtopic.php?f=2&amp;t=101&amp;start=15&amp;view=print" title="Print view">Print view</a>
				</td>
				<td class="nav" align="right" nowrap="nowrap"><a href="./viewtopic.php?f=2&amp;t=101&amp;view=previous">Previous topic</a> | <a href="./viewtopic.php?f=2&amp;t=101&amp;view=next">Next topic</a>&nbsp;</td>
			</tr>
			</table>
		</td>
	</tr>

	</table>


	<table class="tablebg" width="100%" cellspacing="1">
	
		<tr>
			<th>Author</th>
			<th>Message</th>
		</tr>
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p637"></a>
				<b class="postauthor">Bregalad</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p637"></a></div><div style="float: right;"><a href="./viewtopic.php?p=637#p637"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sun Dec 19, 2004 3:22 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=38.jpg" width="60" height="60" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Nov 12, 2004 2:49 pm<br /><b>Posts:</b> 5143<br /><b>Location:</b> Jongny, VD, Switzerland
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I've just traced the code of Hanjuku Hero while opening a menu window, and I noted it reads the VRAM attribute tables, then change it to set the good window attribute (this could cover a half of one byte, for example) then re write it to the VRAM while writing window tiles.</div>

					
						<div class="postbody"><br />_________________<br />Life is complex: it has both real and imaginary components.</div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=38"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p684"></a>
				<b class="postauthor">J2</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p684"></a></div><div style="float: right;"><a href="./viewtopic.php?p=684#p684"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Dec 23, 2004 2:09 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td></td>
				</tr>
			
				</table>

				<span class="postdetails">
					
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">When Pattern table data $fdxx is read, so when it's drawn.</div><br /><br />I figured as much, but wasn't sure. Thanx <img src="./images/smilies/icon_smile.gif" alt=":-)" title="Smile" /><br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Thanx for all your contribution  <img src="./images/smilies/icon_wink.gif" alt=":wink:" title="Wink" /> </div><br /><br />No problem <img src="./images/smilies/icon_smile.gif" alt=":-)" title="Smile" /><br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I guess I'll use FF1 drawing method. I'll do a IRQ or something, then turn off ExGrafix mode (attribute table shall be full of $FFs), turn off sprites via $2001, then change nametable displayed via $2000 or $5104, and may set up a new scrooling via $2005, $2006, $2006, $2005. At the end of the window part, the exact opposite should be done (ie. recalculate map's scrooliong, re-set normal name table, turn on sprites and turn ex-grafix mode on). This can look a bit complex, but it's the only way to can scroll while having a windows text on the screen, like Chrono Trigger does (this will work only whith 1-screen mirroiting). So, while cloosing the window, I don't have to re-write a huge part of the name table and ex-grafix table, data won't be erased.</div><br /><br />Oh, so  you want to scroll while the text iis displayed (like CT). Yeah, it would be much easier to have the text box full screen width (like Lagrange Point, although I believe you want it to be more like Crystalis (without the graphic glitches) right?), unlike FF1s text box. Yeah, you could make it work. So you want to sub it in 1 scanline per frame or something (like FF1 does)? <br /><br />You'll have to swap NameTable B into PPU space via $5105 in VBLANK and then write to it and then swap back. Then use an IRQ at the appropriate line to start the text box rendering. Now MMC5 IRQs trigger at the beginning of the scanline # in $5203, which leaves you with at best 8 pixels offscreen (factoring in the random delay <span style="color: red">(DMC sample loading or the CPU is currently finishing an instruction)</span> in the IRQ actually being triggered in the CPU as opposed to the MMC5 triggering the IRQ). That's if you have PPU leftmost 8-pixel clipping on. <br /><br />Now even with the full 8 pixels offscreen (which would be rare to even have that much), that wouldn't give you anytime to modify anything (giving you 2 2/3 CPU cycles to work with) before onscreen pixels. So, you'll prolly have to make the IRQ trigger the scanline before the textbox and then wait for 86 CPU cycles (might get away with 85, but it depends on the situation). You can then use ~30 cpu cycles (HBLANK + beginning of the next line 8-pixels, also there will the random IRQ delay) to modify the registers that you need (which should be enough time with self modifying code). <br /><br />If you need more time, you could just use timed code and (once the IRQ triggers) wait for 59 cycles (more if the values you need arn't in $00xx, zero page) and then LD- X, A, and Y with their values and by the time that's done you'll be in HBLANK and it'll be safe to write to the MMC5 regs.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">May the standard method (FF2, FF3, JB, DW, etc...) would also be fine if I want a window smaller than the whole width of the screen. I'll take a decision later about this, I'm now programming the menu sub-screen, and I've already to redo my code with new SnowBro's assembler, scince it's now using NESAsm, and it's not usefull. Unfortunately, SnowBro's assembler is too much complex, I hope I'll got it easily. </div><br /><br />You could do that too. I doubt anyone will complain, but I myself think that the game scrolling while the text box is onscreen (like CT) would be cool. I guess it's not impossible for the text box to have a width less than the whole screen + playfield scrolls regular, but generally it would be too hard + not worth it + no one would care.<br /><br />Switching away from NESASM might be good. Although it's not such a bad assembler (it does have a few perks when dealing strictly with NES programming), it's got a few annoyyances. Is SnowBro's assembler pretty good?<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Yeah, you're *very* right. From my wiewpoint, FF3j is for sure the better game ever released on the Famicom.</div><br /><br />Of course, I was amazed by FF3j, it was truly a masterpiece for the NES. There's supposed to be a redone FF3j for the Nintendo DS, that should be interesting.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">So, I can do 1byte per metatile to code this in a simpler way. So every metatile would have pointer to 9bytes data, and the actual reference would be different for every kind of map. One header byte that tells the collison thing, etc..., then 4 words for the 4 tiles to write to NameTable data. (this is similar to the SNES SPC's BRR samples compression, heh)<br />So in the header byte, one bit tells if it's walkable at Z index 0, oneother tells the same with Z index 1 (ff3 does something like that sometimes), two bit would say if the hero is above or behind the BG for two different Z index, and I reserve one whole nybble for a later usage (stuff like special events if the hero walk on this metatiles, but I don't know how to code something like this. Also to have special battles on special places like FF1 behind chests would be fine). </div><br /><br />Yeah, 1 byte would be faster (no need for a bit checking routine) + it would allow the player to interact more with the background (granted you code it too). 256 different collisions is a bit much, but it still doesn't take up that much memory if your using metatiles (240 bytes is nothing with an extra 8K onboard RAM).<br /><br />Yeah a different reference for the collision depending on the map (overworld or in town/dungeon) would be interesting. Like how you can't swim in water in FF3j overworld, but can in towns and dungeons (is that what you mean?).<br /><br />What do you mean you don't know how to code something like "if hero steps on certain tile then event occurs." If you already can detect what tile the hero is going to step onto then just use the value when he actually steps onto the tile + you can use the another index for what dungeon + what screen he's on to trigger something like that also <img src="./images/smilies/icon_smile.gif" alt=":-)" title="Smile" /><br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">So this is already better than Just Breed. I may add lava that'll reduce party's HP like FF1, or may the hero will be able to jump over obstacles, or use weapon/items on fieldscreen. I'll decide this later.</div><br /><br />Yeah, JB's collision detection wasn't too complex (can walk on, can't walk on, enter house, maybe more, the battle system had more). It was still a fun enough game though.<br /><br />You should prolly decide the more important aspects of the game first and then decide this. Using, item/weapons on fieldscreen might be cool if you can incorporate it well. Heh, walk on lava and melt.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Also, have different kinds of map would be a cool thing. For example, the overwold map is very large, and you'll be able to walk, go on ship, air ship, flying dragon, etc... But there will be only one Z index. In a town, map will be smaller, you can just walk, but there will be mode Z index. In a cave/dungeon/moutain/etc..., there also will be battles and enigmas that won't happen in a village.<br />You give me a lot of ideas. I could have two software map layers, I belive castlevania 1&amp;3 does this.</div><br /><br />Yeah, I get what you mean. Using a "Z index" would probably be pretty cool, it'd make the game more interesting. Mother (J), doesn't have an overworld map and thus it's random battle occur whether your within a certain area on the map or not, I thought that was pretty interesting.<br /><br />2 software map layers? I know you mean having 2 maps of the same area in ram (with different data), but I don't exactly understand what you'd use them for. I understand what your getting at, but not how you'd use it.<br /><br /><br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Just Breed sprite's mazing system is very special. The palette is calculated every frame after drawing sprites. I don't know exactly how it works, but I guess every sprite thing has a palette on it, and the programm automatically assign a palette number on it (I don't know how explain this stuff)</div><br /><br />I looked at how it messed with the palette under certain conditions and it did things oddly, although I believe it was for having more sprites with different colors on the screen at once.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I've a great idea to change the BG palette while scrooling. In the huge overworld map, monsters can vary. So the map has different "regions" with it's own partial palette, and monsters type and frequency of battle.<br />For example, I've got a desert to the south, a forest in the middle and snow moutains to the north. I'm in the fortest, and all forest monsters are loaded. While walking south, the scrooling programm will "detect" the comming desert, write a yellow palette in a place that the forest don't use and load desert monster while the player is walking in desert aera. If the player get back to north, the scrooling programm wil detect the comming moutains, overwrite the yellow palette with a blue/white one, and then load snow monsters while walking on snow aeras.</div><br /><br />I don't think it'd hurt to load monsters once the random battle occurs (based upon the type of tile your standing on). You could turn the screen off and have plenty of time to mess with whatever you want. If you took 2/60 seconds to load everything for the battle I'd be suprised. I guess the only reason you'd pre load everything, would be to try and hurry to update everything in 1 VBLANK and instantly go  to the battle screen (with no blank screen at all). Other than that there'd be no reason (even if you took a whole frame with the screen off it'd be only a little noticable). So why do you need to pre load everything? Theres nothing wrong with it, I'm just wondering why.<br /><br />Writing a new palette while detecting the oncoming area would defintely be a good idea though. <img src="./images/smilies/icon_smile.gif" alt=":-)" title="Smile" /><br /><br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Heh, the map will be decompressed into SRAM like *every* RPG as far I know. So that would just be slower while loading the map, isn't it ? Just the overwold map will be larger, then may I wont compress it and read it direcly from ROM aera.<br />The segond advantage to load the map in SRAM is to be flexible. For example, tresaurure chests have different graphics when they are closed or oppened, and additionally the event isn't the same while pressing A next to them. The oppened chest will reder a "empty" message, but the closed one will write, for example "Found : Potion" and increase your potions counter, then turn it into a opened chest. I'm not sure if I'll draw chests as sprites (easier to code) or bg (more usefull graphically).</div><br /><br />I didn't mean don't decompress it into SRAM. You should defintly compresss it and use the onboard SRAM to store it. I just meant that the more you compress the data the longer it'll take to decompress it into SRAM and thus make the game spend more time decompressing it than doing anything else (although you'd have more memory). I just meant you don't have to compress it so much like you were originally doing with the background collision detection.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I use 1kb sprites swapping. This would be more flexible while fignting, 1kb per playable character+4kb for monsters and animation. I'll also drawn character&amp;monster graphics in BG while they're not moving, though. But battle will come after map scrooling in my plannig, so I don't worry about that yet. 256kb is enough anyways. I prefer limit sprites to have greather BG (let's say 33% of sprites and 66% of BG graphics in 256kb would be enough).<br /><br />I firstly was planning to have only 256kb of PRG rom divided into 32 8kb banks with the following structure :<br />Bank 0-7 -&gt; Map graphics (+map code)<br />Bank 8-15 -&gt; Dialog box data (+text code)<br />Bank 16-23 -&gt; Music data<br />Bank 24-25 -&gt; Monster+Battle data (+battle code)<br />Bank 26-28 -&gt; Sound effects<br />Bank 29 -&gt; Sound code<br />Bank 30 -&gt; Menu code+single subroutine code<br />Bank 31 -&gt; Main code<br /><br />I could need mode, but I don't know how I'll be able to full 512kb of PRG rom. Let me guess how the 64 8kb banks would be organized.<br />Bank 0-15 -&gt; Map graphics<br />Bank 16-23 -&gt; Dialogue box data<br />Bank 24-27 -&gt; Monster data<br />Bank 28 -&gt; Battle SFX data<br />Bank 29-31 -&gt; Sound effects datad<br />Bank 32-40 -&gt; Music data<br />Bank 41 -&gt; Menu/battle data<br />Bank 42 - 58 -&gt; I've to found additonal stuff to put in there<br />Bank 60 -&gt; Battle code<br />Bank 61 -&gt; Sound code<br />Bank 62 -&gt; Menu code+single subroutine code<br />Bank 63 -&gt; Main code<br /></div><br /><br />Yeah, 256KBs for prg and chr rom is probably enough, that was just a suggestion if you ever found you needed more CHR data (or data in general as you could easily store other data in the CHR-ROM chip (SMB does something like that I think)). Using either 256KB or 512 KBs of PRG ROM, I guess depends on how big your game's gonna get.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Yeah, but I'm sure that Just Breed scrooling code would work on a real hardware. If I do my own thing, I'm note sure it will. MMC5 is complex and Just Breed has insinifiants writes to $5800. May my scrooling code could bug beacause I don't write to this register or somthing like this.<br />I'm already ripping Just Breed sound code for my game, and it's great (but too much complex sometimes). It's not far to use the whole NES ram ($3c0-$6bf !!) to have 9 independant software channels.</div>
<br />
<br />Your right, Just Breed's scrolling routine will defintly work on real hardware, but that doesn't mean you can't try to make a better one. You probably don't have to worry about $5800, because the Koei games never used it and I think they scroll sometimes (although it's rare), and they use ExGrafix mode. You could easily just copy the "$5800" code if your worried about that. Just Breed's scrolling looked horrible on the rightmost column of the screen when you scrolled left.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;&nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p688"></a>
				<b class="postauthor">Bregalad</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p688"></a></div><div style="float: right;"><a href="./viewtopic.php?p=688#p688"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Dec 23, 2004 1:47 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=38.jpg" width="60" height="60" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Nov 12, 2004 2:49 pm<br /><b>Posts:</b> 5143<br /><b>Location:</b> Jongny, VD, Switzerland
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">You'll have to swap NameTable B into PPU space via $5105 in VBLANK and then write to it and then swap back.</div><br />I don't see exaclty what do you mean here.<br />I think I'll do different kind of text boxes and use an apropriate one.<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Switching away from NESASM might be good. Although it's not such a bad assembler (it does have a few perks when dealing strictly with NES programming), it's got a few annoyyances. Is SnowBro's assembler pretty good?</div><br />Yeah, it seems good exept for instruction like lda [$xx],Y that will bugs in the eventual rom if you don't set two different variables for the word $xx.<br />So the automatic-ram assigment is pretty bad beacause :<br />1-When debugging your game you'll be lost if you don't know wich RAM adress is wich variable in your code<br />2-You can't mix up user defined and linker defined-variables, beacause the liker could use a memory already used by you, exept it you don't declare this part of ram.<br />3-You can't know witch data would be in SRAM and not, so your saved things could be assigned out of SRAM and that would be a shame.<br />Also, anonnymous macros didn't work at all in my current experiences.<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Of course, I was amazed by FF3j, it was truly a masterpiece for the NES. There's supposed to be a redone FF3j for the Nintendo DS, that should be interesting.</div><br />Nah, the original one, as far played with a emulator, is really better. Scince Square released games like Kingdom Earths and fusionned themselves with Enix, I think I won't buy anything for Square anymore. They were an exellent game company, but now they aren't. They does this just for money. Also, why don't they release a Just Breed remake on the DS, GBA, PS2 or something ? This won't make enough money of course.<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">2 software map layers? I know you mean having 2 maps of the same area in ram (with different data), but I don't exactly understand what you'd use them for. I understand what your getting at, but not how you'd use it. </div><br />I guess one background map that won't really a map shall be loaded to draw landscapes etc... So if the "normal" map has a metatlise such as blank, unused and unwalkable, an "automatic landscape" would be written to the name table rather than blank tiles. So, this would be usefull to have optimal data in moutains and tower-like stuff. This would not be used at all in a village, in a cave or on the overworld, but another stuff will "replace" it.<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I looked at how it messed with the palette under certain conditions and it did things oddly, although I believe it was for having more sprites with different colors on the screen at once. </div><br />This is primilary a good idea, but not very usefull on fieldscreen. I guess I'll use something like that in battles to store animation data in a easier way. It'll just have color gliches if 5 sprites palettes are loaded at the same time, but it's not worse than 8 sprites-cycling.<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">So why do you need to pre load everything? Theres nothing wrong with it, I'm just wondering why. </div><br />Errr.... I firstly have to design my battle system. I just noted in my mind that palette and monsters regions *could* be similar.<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Writing a new palette while detecting the oncoming area would defintely be a good idea though.  </div><br />Yes, but that won't be that simple to code. You have to don't use a palette at lease in a 32*28 tile region (of course in pracice more space is needed), and this would be hard to do both vertically and horizontally.<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"> I just meant you don't have to compress it so much like you were originally doing with the background collision detection. </div><br />To have more time while changing map region is totally insinifient, scince the screen will be turned off, so I've not to worry about time.<br />I guess a LZSS compression on data already compressed by RLE would be the thing.<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Yeah, 256KBs for prg and chr rom is probably enough, that was just a suggestion if you ever found you needed more CHR data (or data in general as you could easily store other data in the CHR-ROM chip (SMB does something like that I think)). Using either 256KB or 512 KBs of PRG ROM, I guess depends on how big your game's gonna get. </div><br />I don't know how to read other data on a CHRROM chip....<br />I'll take the 256k/512k decision later.<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Your right, Just Breed's scrolling routine will defintly work on real hardware, but that doesn't mean you can't try to make a better one. You probably don't have to worry about $5800, because the Koei games never used it and I think they scroll sometimes (although it's rare), and they use ExGrafix mode. You could easily just copy the "$5800" code if your worried about that. Just Breed's scrolling looked horrible on the rightmost column of the screen when you scrolled left.</div>
<br />I guess I'll first watch how all the hardware part of Just Breed's scrooling code works, and them rewrite one similar with hardware registers, but softwarely different to increase chances to get something working. I guess someone should try to update the whole JustBreed gane on a devcard and replaces writes to $5800 for nops to see wat happens. I'll do this when I'll be able to found one of thoose damed Koei games to destroy them and make a devcard.</div>

					
						<div class="postbody"><br />_________________<br />Life is complex: it has both real and imaginary components.</div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=38"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p701"></a>
				<b class="postauthor">J2</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p701"></a></div><div style="float: right;"><a href="./viewtopic.php?p=701#p701"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Dec 24, 2004 2:39 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td></td>
				</tr>
			
				</table>

				<span class="postdetails">
					
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I don't see exaclty what do you mean here.<br />I think I'll do different kind of text boxes and use an apropriate one.<br /></div><br /><br />I meant you can't normally write to the other nametable unless it's swapped in via $5105. Yeah, try to make it look good (and make it easy to read).<br /><br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Nah, the original one, as far played with a emulator, is really better. Scince Square released games like Kingdom Earths and fusionned themselves with Enix, I think I won't buy anything for Square anymore. They were an exellent game company, but now they aren't. They does this just for money. Also, why don't they release a Just Breed remake on the DS, GBA, PS2 or something ? This won't make enough money of course.</div><br /><br />Well, it's the exact same game just with better graphics + some cool new scenes. You mean they released "Kingdom HEARTS." Squaresoft released that game and I think it's pretty good. It's actually a real fun game even though it has Disney characters. I think it's an intresting combination that was actually done well.<br /><br />As for Square Enix making bad games (as opposed to Squaresoft), I think it's sorta true. At first I think they tried to live off both the companies repuations and starting to make some horrible games thinking they'd sell (Elemental Saga...). Maybe since they fused it gave them more money to blow so they tried different kind of games to see how they'd sell. I personally think the games will get much better. FF1 and 2 remakes for the playstation was actually pretty amazing <img src="./images/smilies/icon_smile.gif" alt=":-)" title="Smile" /><br /><br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I guess one background map that won't really a map shall be loaded to draw landscapes etc... So if the "normal" map has a metatlise such as blank, unused and unwalkable, an "automatic landscape" would be written to the name table rather than blank tiles. So, this would be usefull to have optimal data in moutains and tower-like stuff. This would not be used at all in a village, in a cave or on the overworld, but another stuff will "replace" it. </div><br /><br />I think I understand what you mean. That might not be a bad idea, you should try it.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">This is primilary a good idea, but not very usefull on fieldscreen. I guess I'll use something like that in battles to store animation data in a easier way. It'll just have color gliches if 5 sprites palettes are loaded at the same time, but it's not worse than 8 sprites-cycling.</div><br /><br />Overlapping sprites with different attributes allows for many different colors to be in 1 area (12 at most, 13 if counting transparency, and 16 if you count the background colors behind transparency). So you could have an 16x32 "sprite" in the middle of the screen and it could consist of 16 different colors. That'd be a cool demo <img src="./images/smilies/icon_smile.gif" alt=":-)" title="Smile" /><br /><br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Yes, but that won't be that simple to code. You have to don't use a palette at lease in a 32*28 tile region (of course in pracice more space is needed), and this would be hard to do both vertically and horizontally.</div><br /><br />Wouldn't be simple, but prolly be needed.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">To have more time while changing map region is totally insinifient, scince the screen will be turned off, so I've not to worry about time.<br />I guess a LZSS compression on data already compressed by RLE would be the thing.</div><br /><br />Yeah, speed is only important when you wanna do things in real time.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I don't know how to read other data on a CHRROM chip....<br />I'll take the 256k/512k decision later.</div><br /><br />Just set the bank number of a certain area of PPU space to the CHR-ROM bank you need. And then something like:<br />LDA #$00<br />STA $2006<br />STA $2006 ;set PPU address to $0000 (the first bank of CHR)<br />                 ;switched via $5120<br /><br />LDA $2007  ;junk read.....fill buffer<br />LDA $2007  ;this will store the first byte of ROM * whatever bank is in<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I guess I'll first watch how all the hardware part of Just Breed's scrooling code works, and them rewrite one similar with hardware registers, but softwarely different to increase chances to get something working. I guess someone should try to update the whole JustBreed gane on a devcard and replaces writes to $5800 for nops to see wat happens. I'll do this when I'll be able to found one of thoose damed Koei games to destroy them and make a devcard.</div>
<br />
<br />Really I don't they do anything. That's the only game that writes to them and even though they are unemulated, emulators run the whole game just fine. So don't worry about $5800 and just write any normal scroll routine and I'm sure someone has an MMC5 devcart to test it on <img src="./images/smilies/icon_smile.gif" alt=":-)" title="Smile" /></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;&nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p702"></a>
				<b class="postauthor">J2</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p702"></a></div><div style="float: right;"><a href="./viewtopic.php?p=702#p702"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Dec 24, 2004 2:42 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td></td>
				</tr>
			
				</table>

				<span class="postdetails">
					
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I don't see exaclty what do you mean here.<br />I think I'll do different kind of text boxes and use an apropriate one.<br /></div><br /><br />I meant you can't normally write to the other nametable unless it's swapped in via $5105. Yeah, try to make it look good (and make it easy to read).<br /><br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Nah, the original one, as far played with a emulator, is really better. Scince Square released games like Kingdom Earths and fusionned themselves with Enix, I think I won't buy anything for Square anymore. They were an exellent game company, but now they aren't. They does this just for money. Also, why don't they release a Just Breed remake on the DS, GBA, PS2 or something ? This won't make enough money of course.</div><br /><br />Well, it's the exact same game just with better graphics + some cool new scenes. You mean they released "Kingdom HEARTS." Squaresoft released that game and I think it's pretty good. It's actually a real fun game even though it has Disney characters. I think it's an intresting combination that was actually done well.<br /><br />As for Square Enix making bad games (as opposed to Squaresoft), I think it's sorta true. At first I think they tried to live off both the companies repuations and starting to make some horrible games thinking they'd sell (Elemental Saga...). Maybe since they fused it gave them more money to blow so they tried different kind of games to see how they'd sell. I personally think the games will get much better. FF1 and 2 remakes for the playstation was actually pretty amazing <img src="./images/smilies/icon_smile.gif" alt=":-)" title="Smile" /><br /><br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I guess one background map that won't really a map shall be loaded to draw landscapes etc... So if the "normal" map has a metatlise such as blank, unused and unwalkable, an "automatic landscape" would be written to the name table rather than blank tiles. So, this would be usefull to have optimal data in moutains and tower-like stuff. This would not be used at all in a village, in a cave or on the overworld, but another stuff will "replace" it. </div><br /><br />I think I understand what you mean. That might not be a bad idea, you should try it.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">This is primilary a good idea, but not very usefull on fieldscreen. I guess I'll use something like that in battles to store animation data in a easier way. It'll just have color gliches if 5 sprites palettes are loaded at the same time, but it's not worse than 8 sprites-cycling.</div><br /><br />Overlapping sprites with different attributes allows for many different colors to be in 1 area (12 at most, 13 if counting transparency, and 16 if you count the background colors behind transparency). So you could have an 16x32 "sprite" in the middle of the screen and it could consist of 16 different colors. That'd be a cool demo <img src="./images/smilies/icon_smile.gif" alt=":-)" title="Smile" /><br /><br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Yes, but that won't be that simple to code. You have to don't use a palette at lease in a 32*28 tile region (of course in pracice more space is needed), and this would be hard to do both vertically and horizontally.</div><br /><br />Wouldn't be simple, but prolly be needed.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">To have more time while changing map region is totally insinifient, scince the screen will be turned off, so I've not to worry about time.<br />I guess a LZSS compression on data already compressed by RLE would be the thing.</div><br /><br />Yeah, speed is only important when you wanna do things in real time.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I don't know how to read other data on a CHRROM chip....<br />I'll take the 256k/512k decision later.</div><br /><br />Just set the bank number of a certain area of PPU space to the CHR-ROM bank you need. And then something like:<br />LDA #$00<br />STA $2006<br />STA $2006 ;set PPU address to $0000 (the first bank of CHR)<br />                 ;switched via $5120<br /><br />LDA $2007  ;junk read.....fill buffer<br />LDA $2007  ;this will store the first byte of ROM * whatever bank is in<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I guess I'll first watch how all the hardware part of Just Breed's scrooling code works, and them rewrite one similar with hardware registers, but softwarely different to increase chances to get something working. I guess someone should try to update the whole JustBreed gane on a devcard and replaces writes to $5800 for nops to see wat happens. I'll do this when I'll be able to found one of thoose damed Koei games to destroy them and make a devcard.</div>
<br />
<br />Really I don't they do anything. That's the only game that writes to them and even though they are unemulated, emulators run the whole game just fine. So don't worry about $5800 and just write any normal scroll routine and I'm sure someone has an MMC5 devcart to test it on <img src="./images/smilies/icon_smile.gif" alt=":-)" title="Smile" /></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;&nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p714"></a>
				<b class="postauthor">Bregalad</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p714"></a></div><div style="float: right;"><a href="./viewtopic.php?p=714#p714"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sat Dec 25, 2004 3:54 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=38.jpg" width="60" height="60" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Nov 12, 2004 2:49 pm<br /><b>Posts:</b> 5143<br /><b>Location:</b> Jongny, VD, Switzerland
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I meant you can't normally write to the other nametable unless it's swapped in via $5105. Yeah, try to make it look good (and make it easy to read). </div><br />Ah, I undersand now. For example having $11 loaded into $5105 (so inversed vertical mirroiting), write to the PPU nametable will do it exactly the same as a normal vertical mirroiting, right ?<br />So here you are my guess :<br />While walking/staying on normal fieldscreen, mirroiting is single ($00) and no midframe changes will ocurs, ExGrafix are enabled via $5104.<br />Scince a box message opens (one who can be scrooled), the mirroiting is turned into vertical ($44) and all data is written to the segond name table.<br />When all data is written, the midframe IRQ will be enabled, and the mirroiting will turn back to 1-screen mirroiting in VBlank.<br />When an IRQ occurs at box's begining scanline-1 (this scanline will change to make a cool effect like FF1, CT, etc...), wait for HBlank with a few nops.<br />Then I have to :<br />-Turn off ExGrafix rendering (write 2 to $5104) scince the text box should not be affected by the bg's attribut in the other name table.<br />-Change horizontal scrooling to #$00 (may the vertical one should also be changed).<br />-Change mirroiting for #$55 or (only the segond name table is shown)<br />-Wait for the end of boxes with timed code or something<br />-Change mirroiting again for #$00 (1-screen mirroiting)<br />-Re-set the horizonzal scrooling to it's original value<br />-Turn on back ExGrafix rendering (write 1 to $5104)<br />So scince all data is written to the segond nametable, the screen will be able to scroll again with 1-screen mirroiting, and the segond nametable won't be affected (it'll just be shown midframe).<br />The only problem is that the segond name table shold be write only once at time, so for example a long message would stop scrooling evertime you need to change the text.<br />Tell me if you found something wrong.<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">It's actually a real fun game even though it has Disney characters. I think it's an intresting combination that was actually done well. </div><br />It's just a awfull crap stuff.  I like disney and I like Square, but both CAN'T go together. Don't talk about it anymore, please.<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I personally think the games will get much better. FF1 and 2 remakes for the playstation was actually pretty amazing </div><br />I can't know scince they're not released in europe, but the game boy version will be released in europe. I play to FF1 and 2 in NES emulators anyways.<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Wouldn't be simple, but prolly be needed.</div><br />Yeah, I guess it would be needed only on the over-world map.<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Just set the bank number of a certain area of PPU space to the CHR-ROM bank you need. And then something like: </div><br />I can't see why I have to store data like this in Chr-Rom, it's longer to read data and I guess this shall be done in VBlank. If I need more data, I'll push up the PRG size to 512kb<br />Hey, do you know how many emulators does emulate $5130 correctly today ? If many does, I could try push up my CHR size to 512kb (actually for now it's only 16kb, heh)<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">So don't worry about $5800 and just write any normal scroll routine and I'm sure someone has an MMC5 devcart to test it on</div>
<br />I'll watch how Just Breed scrooling code's works hardwarely not for $5800, but for PPU and ExRam writes, and MMC5 registers such as $5104.
<br />I hope someone could test my game, but I've to be sad to don't test it myself, but I've to found a MMC5 game with SRAM and it's very hard to found in europe. I actually don't know if thoose Koei games are relased in europe (hum, Gemfire and NapolÃ©on-L'empreur happens in england-france so they "should" be released here...)</div>

					
						<div class="postbody"><br />_________________<br />Life is complex: it has both real and imaginary components.</div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=38"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p715"></a>
				<b class="postauthor">doynax</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p715"></a></div><div style="float: right;"><a href="./viewtopic.php?p=715#p715"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sat Dec 25, 2004 4:33 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Nov 22, 2004 3:24 pm<br /><b>Posts:</b> 151<br /><b>Location:</b> Sweden
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Why do I get the feeling that Bregalad and J2 has teamed up to conquer the universe by breaking the world record of submitting many long posts in a row?
<br />Hopefully this will stop your evil scheme once and for all!
<br />
<br />I guess I'll just have to fetch some coffee before reading though the new entries..</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=56"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p717"></a>
				<b class="postauthor">Bregalad</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p717"></a></div><div style="float: right;"><a href="./viewtopic.php?p=717#p717"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sat Dec 25, 2004 7:10 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=38.jpg" width="60" height="60" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Nov 12, 2004 2:49 pm<br /><b>Posts:</b> 5143<br /><b>Location:</b> Jongny, VD, Switzerland
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">You're right. J2, you'd better email me about that like usual.</div>

					
						<div class="postbody"><br />_________________<br />Life is complex: it has both real and imaginary components.</div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=38"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p727"></a>
				<b class="postauthor">J2</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p727">Merry Christmas</a></div><div style="float: right;"><a href="./viewtopic.php?p=727#p727"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sat Dec 25, 2004 10:08 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td></td>
				</tr>
			
				</table>

				<span class="postdetails">
					
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Why do I get the feeling that Bregalad and J2 has teamed up to conquer the universe by breaking the world record of submitting many long posts in a row?<br />Hopefully this will stop your evil scheme once and for all!<br /></div><br /><br />Uh, word. Um, I guess I do get too detailed. Hmmm, looks like this thread started about PPU mirroring....lol. Looks like I did accidentally double post  <img src="./images/smilies/icon_confused.gif" alt=":?" title="Confused" />  One thing that is good using this instead of e-mail, is that I can be corrected when I give wrong info (which will probably happen when I answer the next question <img src="./images/smilies/icon_smile.gif" alt=":-)" title="Smile" />) Anyway, I'll keep things precise and to the point then <img src="./images/smilies/icon_smile.gif" alt=":-)" title="Smile" /><br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">When an IRQ occurs at box's begining scanline-1 (this scanline will change to make a cool effect like FF1, CT, etc...), wait for HBlank with a few nops. <br /><br />-Turn off ExGrafix rendering (write 2 to $5104) scince the text box should not be affected by the bg's attribut in the other name table. <br />-Change horizontal scrooling to #$00 (may the vertical one should also be changed). <br />-Change mirroiting for #$55 or (only the segond name table is shown) <br />-Wait for the end of boxes with timed code or something <br />-Change mirroiting again for #$00 (1-screen mirroiting) <br />-Re-set the horizonzal scrooling to it's original value <br />-Turn on back ExGrafix rendering (write 1 to $5104) <br /></div><br /><br />Hmm, that will work, but only in an 8-pixel boundary (to match up with nametable entries), that is your "scanline -1" can't be just any scanline (otherwise your textbox will be "cut up"), + you'll have to write to the proper spaces in the 2nd nametable for the textbox depending on where "scanline -1" is. <br /><br />So, you'll defintly need to change vertical scrolling of the screen "manually" to match the nametable OK, this I might need to go in depth (+ this really isn't my area, so Quietust will almost defintly have to correct me  <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /> ). OK, $2005-w1 (horizontal scroll) will affect the screen while rendering (due to th fact it is used as an offset on a per pixel basis I believe), but $2005-w2 (vertical scroll) works very differently, it is not updated in real time (it doesn't need to be), I believe a specific "counter" is updated before rendering starts and effects the PPU address ($2006 access this), so that it'll start on the right scanline and go on from there. Well, since $2005-w2 isn't updated in realtime, the PPU internal address must be updated manually (which is done by writing to $2006). Anyway, An emulator author could tell you better, but generally it wouldn't be too hard. Just keep your nametable data at the top of the "2nd nametable" and come HBLANK time you'll have to write to $2006 ($00, $00?) to sttart at the text box and then change $2006 back to where it should be at the end <img src="./images/smilies/icon_smile.gif" alt=":-)" title="Smile" /><br /><br />Oh, and about writing to the NT2 for the textbox, it shouldn't take too long to update (what like 6 columns...6x30 = 150 bytes-borders (which are constant) = about 90 bytes), but if it does, span it accross a couple frame.<br /><br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I can't see why I have to store data like this in Chr-Rom, it's longer to read data and I guess this shall be done in VBlank. If I need more data, I'll push up the PRG size to 512kb <br />Hey, do you know how many emulators does emulate $5130 correctly today ? If many does, I could try push up my CHR size to 512kb (actually for now it's only 16kb, heh) <br /></div>
<br />
<br />You don't have too, that was just a simple suggestion in case you run out of PRG ROM SMB1 does this for music data, I believe).
<br />
<br />As for $5130. Nintendulator!, Quietust knows everything <img src="./images/smilies/icon_smile.gif" alt=":-)" title="Smile" />. and as soon as somethings discovered BOOM it's there. Nessie will prolly get updated soon. Fx3 has an emulator, I think he'll prolly update it. Is FCEU Ultra open source? Well, there'll be a few that do, some that don't. I mean it was just discovered 3 or 4 days ago...1 day ago came KHs doc (which had some interesting info, I thought the 8x8 sprite fetching was interesting), and I'm sure Nintendulator will be updated with that info soon also <img src="./images/smilies/icon_smile.gif" alt=":-)" title="Smile" />
<br />
<br />
<br />As for your scrolling routine, try to write one and if it works in Nintendulator (although not perfect, the emulator's very accurate), then ask someone to test it on a MMC5 devcart.
<br />
<br />Hehe, I'm goin for 3 pages <img src="./images/smilies/icon_cool.gif" alt="8)" title="Cool" /></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;&nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p728"></a>
				<b class="postauthor" style="color: #AA0000">Quietust</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p728"></a></div><div style="float: right;"><a href="./viewtopic.php?p=728#p728"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sat Dec 25, 2004 10:12 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=7.png" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Sep 19, 2004 10:59 pm<br /><b>Posts:</b> 1028
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Okay, there's something I really need to point out to Bregalad, something that's been bugging me for quite a while now.
<br />
<br />There is no such thing as "mirroiting". The word you are looking for is "mirroring" (derived from the word "mirror").</div>

					
						<div class="postbody"><br />_________________<br />Quietust, QMT Productions
<br />P.S. If you don't get this note, let me know and I'll write you another.</div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=7"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p729"></a>
				<b class="postauthor">J2</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p729">Eh...</a></div><div style="float: right;"><a href="./viewtopic.php?p=729#p729"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sat Dec 25, 2004 10:39 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td></td>
				</tr>
			
				</table>

				<span class="postdetails">
					
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Heh, I was actually going to make a joke about that, but I decided not to + I didn't really mind.I was wandering where he got the "t" from... <img src="./images/smilies/icon_confused.gif" alt=":?" title="Confused" /> 
<br />
<br />Oh, BTW. After rereading my comments on changing vertical scrolling midscreen, there wrong. I tried to leave out some details to make it less space, but I left out important ones  <img src="./images/smilies/icon_confused.gif" alt=":?" title="Confused" /> 
<br />
<br />OK, in HBLANK, you'll need to update $2006-w1 with the hi-address, then update $2005-w1 with the horizontal scroll value, then update $2005-w2 with the vertical scroll value, and then lastly you'll write to $2006 with the low-address. Anyway, you'll prolly need a nice table so that you get the values for all the scanlines and such. All of this has to do with the PPU addressing. Loopy wrote a nice little summary about what the $2005/6 actually update so it'd be good to read that. So, $2006,$2005,$2005,$2006... might need to preload the values into A,Y, and X before HBLANK even starts to get enough time to do everything in HBLANK <img src="./images/smilies/icon_smile.gif" alt=":-)" title="Smile" /></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;&nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p732"></a>
				<b class="postauthor">Bregalad</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p732"></a></div><div style="float: right;"><a href="./viewtopic.php?p=732#p732"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sun Dec 26, 2004 3:58 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=38.jpg" width="60" height="60" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Nov 12, 2004 2:49 pm<br /><b>Posts:</b> 5143<br /><b>Location:</b> Jongny, VD, Switzerland
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I know that the vertical scrooling should be updated differently, I've asked this in another thread long ago (so why do you write theory of 50 pages about this scince it's not the point ?)
<br />I guess I'll change only horizontal scrooling when the main screen doesn scroll, and change both scrooling (0, 0 like you said) when the main bg will be scooling. After all, I've not to wander about thoose little details now.
<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">There is no such thing as "mirroiting". The word you are looking for is "mirroring" (derived from the word "mirror").</div><br />Oh my god ! Please forgive me.<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">So, $2006,$2005,$2005,$2006... might need to preload the values into A,Y, and X before HBLANK even starts to get enough time to do everything in HBLANK </div>
<br />Yeah, it's still a good idea to avoid gliches as possible.
<br />
<br />Nintendulator is a very acurate emulator for developpement, but, I actually guess that people that wants to just play the NES rether than developpiong doesn't like how nintedulator is made because :
<br />1-There is a few option that they won't understand
<br />2-It's very slow
<br />3-Grafics outpout isn't very good (and the top and bottom 8 lines are shown is both PAL and NTSC mode and this will add gliches)
<br />
<br />For this reason I decided that my game won't do mid-scanline $2001 changes or anything like that. It shall at least work in FCEU, VirtuaNES and Nestopia. (FCEU emulates very badly the MMC5).
<br />May japaneese emulator like VirtuaNES already emulates $5130 correctly. (oops am I writing long theories just like J2) ?</div>

					
						<div class="postbody"><br />_________________<br />Life is complex: it has both real and imaginary components.</div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=38"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p737"></a>
				<b class="postauthor">J2</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p737"></a></div><div style="float: right;"><a href="./viewtopic.php?p=737#p737"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sun Dec 26, 2004 2:29 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td></td>
				</tr>
			
				</table>

				<span class="postdetails">
					
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I know that the vertical scrooling should be updated differently, I've asked this in another thread long ago (so why do you write theory of 50 pages about this scince it's not the point ?) <br /></div><br /><br />I write a "theory" that is 50 pages long (really like only 12 lines) because it is very important for your text box to show properly at any scanline. If you don't always change the vertical scroll at the HBLANK when your text box will display, you will be limited to where you can actually "put" your text box + your code will require more logic to put the text box in at the right spots in the 2nd nametable (vertcically), which will indefintly leave your text box needing to be on the screen at only certain spots to show up properly. I also want to make sure I understand this stuff properly so that if I'm wrong, someone will tell me.<br /><br />If you always change vertical scrolling then you can always put your text box at the top of Nametable 2 and then whever scanline's HBLANK your currently in wouldn't matter since you could easily change the address pointer exactly to the top of nametable too (your text box), thus no extra logic wouldn't even be needed (where to put the bytes in Nametable 2) + your text box could be displayed on any scanline instead of needing to be a multiple of 8. Also in HBLANK you'll need to change the MMC5s CHR bank register to the "text" bank, but I'm sure you already knew that.<br /><br />BTW, doynax I don't think especially minds our posts as he, in reality, doesn't have to read them. I think he's just being cool, as in if there something he can post to help, then he will and thats why he's reading the posts I believe.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I guess I'll change only horizontal scrooling when the main screen doesn scroll, and change both scrooling (0, 0 like you said) when the main bg will be scooling. After all, I've not to wander about thoose little details now. <br /></div>
<br />
<br />You might "want" to change it always as your text box display will be more flexible and easier (above).
<br />
<br />
<br />------
<br />
<br />Yeah, although Nintendulator is accurate, it's slow and not really designed to play NES games...
<br />
<br />I believe Nestopia is very accurate. Nestopia can do midscanline rights to $2001 as well BTW. And it's fast <img src="./images/smilies/icon_smile.gif" alt=":-)" title="Smile" />. It's IRQ timing gor MMC5 is a bit off, but then again so is Nintendulator, so I guess you could have an option in your game, that says playing on "emulator" or "real NES"</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;&nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p813"></a>
				<b class="postauthor">Bregalad</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p813"></a></div><div style="float: right;"><a href="./viewtopic.php?p=813#p813"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sun Jan 02, 2005 11:11 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=38.jpg" width="60" height="60" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Nov 12, 2004 2:49 pm<br /><b>Posts:</b> 5143<br /><b>Location:</b> Jongny, VD, Switzerland
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I just don't need to change bg scrooling midframe, font tiles would be swapped into $5128-$512b in VBlank and become unused in the field aera beacause of ExGrafix mode.
<br />Also, the 2nd attribute table have to be full of the text's color.
<br />I calculated how much size would my maps take :
<br />Let's say, I've 512 maps of an average size of 64x32 (so 2kb), the calculation is :
<br />32x64x512/1024= 1024 kylobytes !!!
<br />So I hope to have smaller maps, and also advanced-RLE comression can reduce the size a lot, to imput this in a 512kb PRG chip</div>

					
						<div class="postbody"><br />_________________<br />Life is complex: it has both real and imaginary components.</div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=38"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p3946"></a>
				<b class="postauthor">Roth</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p3946"></a></div><div style="float: right;"><a href="./viewtopic.php?p=3946#p3946"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sat Aug 20, 2005 1:16 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="http://img.photobucket.com/albums/v287/I_am_Roth/stuff/roth.jpg" width="100" height="81" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Wed Aug 03, 2005 3:15 pm<br /><b>Posts:</b> 362
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Man, this was a crazy thread...
<br />
<br />Alright, so I'm trying to grasp the concept of mirroring here.  I take it that it's basically how you're game is going to operate in terms of directions of travel pretty much (that's what I got out of it).
<br />
<br />Horizontal &gt;&gt; Scroll Vertically
<br />
<br />Vertical &gt;&gt; Scroll Horizontally
<br />
<br />Now, what are the games that only travel in one direction, and there's no going back? (i.e. Super Mario Bros., you can't go back to the left)  Does that have anything to do with using mirroring?  Also, I don't quite grasp this either, from another thread: <!-- m --><a class="postlink" href="http://nesdev.com/bbs/viewtopic.php?t=202">http://nesdev.com/bbs/viewtopic.php?t=202</a><!-- m --> :
<br />
<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">It means where 2 addresses point to the same memory location.<br /><br />The main example is with the nametables. There's addresses for 4 nametables, but normally only memory for 2 of them. "horizontal mirroring" would mean that writing to (VRAM) $2000 would be the same as writing to $2400. Or with vertical mirroring, writing to $2000 and $2800 would be the same.<br /><br />It also applies to the NES's RAM ($0000-$07FF). Writing to $0900 would be the same as $0100.<br /><br />I hope my explanation makes sense.</div>
<br />
<br />Since mirroring is used you get all four nametables in memory that can be used... I guess... (I'm still not understanding, I'm not even sure if I know what I'm trying to ask here... <img src="./images/smilies/icon_confused.gif" alt=":?" title="Confused" /> )  I suppose I should ask what a nametable exactly is, since I can't seem to find a file anywhere that has basic definitions.... or is a nametable something that I'll learn about in my book?
<br />
<br />Sorry for the blob of crap I just posted, but I am confused on mirroring and the whole concept, and can't quite come up with a way to ask about it <img src="./images/smilies/icon_redface.gif" alt=":oops:" title="Embarassed" /></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=174"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table width="100%" cellspacing="1" class="tablebg">
	<tr align="center">
		<td class="cat"><form name="viewtopic" method="post" action="./viewtopic.php?f=2&amp;t=101&amp;start=15"><span class="gensmall">Display posts from previous:</span> <select name="st" id="st"><option value="0" selected="selected">All posts</option><option value="1">1 day</option><option value="7">7 days</option><option value="14">2 weeks</option><option value="30">1 month</option><option value="90">3 months</option><option value="180">6 months</option><option value="365">1 year</option></select>&nbsp;<span class="gensmall">Sort by</span> <select name="sk" id="sk"><option value="a">Author</option><option value="t" selected="selected">Post time</option><option value="s">Subject</option></select> <select name="sd" id="sd"><option value="a" selected="selected">Ascending</option><option value="d">Descending</option></select>&nbsp;<input class="btnlite" type="submit" value="Go" name="sort" /></form></td>
	</tr>
	</table>
	

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=2"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=2&amp;t=101"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>2</strong> of <strong>3</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 35 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"><b><a href="#" onclick="jumpto(); return false;" title="Click to jump to pageâ€¦">Go to page</a> <a href="./viewtopic.php?f=2&amp;t=101&amp;start=0">Previous</a>&nbsp;&nbsp;<a href="./viewtopic.php?f=2&amp;t=101">1</a><span class="page-sep">, </span><strong>2</strong><span class="page-sep">, </span><a href="./viewtopic.php?f=2&amp;t=101&amp;start=30">3</a> &nbsp;<a href="./viewtopic.php?f=2&amp;t=101&amp;start=30">Next</a></b></td>
		
	</tr>
	</table>

</div>

<div id="pagefooter"></div>

<br clear="all" />
<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=24">NES / Famicom</a> &#187; <a href="./viewforum.php?f=2">NESdev</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>
	<br clear="all" />

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat"><h4>Who is online</h4></td>
	</tr>
	<tr>
		<td class="row1"><p class="gensmall">Users browsing this forum: <span style="color: #9E8DA7;" class="username-coloured">Google [Bot]</span> and 1 guest</p></td>
	</tr>
	</table>


<br clear="all" />

<table width="100%" cellspacing="1">
<tr>
	<td width="40%" valign="top" nowrap="nowrap" align="left"></td>
	<td align="right" valign="top" nowrap="nowrap"><span class="gensmall">You <strong>cannot</strong> post new topics in this forum<br />You <strong>cannot</strong> reply to topics in this forum<br />You <strong>cannot</strong> edit your posts in this forum<br />You <strong>cannot</strong> delete your posts in this forum<br />You <strong>cannot</strong> post attachments in this forum<br /></span></td>
</tr>
</table>

<br clear="all" />

<table width="100%" cellspacing="0">
<tr>
	<td><form method="get" name="search" action="./search.php"><span class="gensmall">Search for:</span> <input class="post" type="text" name="keywords" size="20" /> <input class="btnlite" type="submit" value="Go" /><input type="hidden" name="t" value="101" />
<input type="hidden" name="sf" value="msgonly" />
</form></td>
	<td align="right">
	<form method="post" name="jumpbox" action="./viewforum.php" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	<table cellspacing="0" cellpadding="0" border="0">
	<tr>
		<td nowrap="nowrap"><span class="gensmall">Jump to:</span>&nbsp;<select name="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">

		
			<option value="-1">Select a forum</option>
		<option value="-1">------------------</option>
			<option value="24">NES / Famicom</option>
		
			<option value="2" selected="selected">&nbsp; &nbsp;NESdev</option>
		
			<option value="3">&nbsp; &nbsp;NESemdev</option>
		
			<option value="21">&nbsp; &nbsp;NES Graphics</option>
		
			<option value="6">&nbsp; &nbsp;NES Music</option>
		
			<option value="9">&nbsp; &nbsp;NES Hardware and Flash Equipment</option>
		
			<option value="22">&nbsp; &nbsp;Homebrew Projects</option>
		
			<option value="10">&nbsp; &nbsp;Newbie Help Center</option>
		
			<option value="11">&nbsp; &nbsp;FCdev</option>
		
			<option value="18">&nbsp; &nbsp;NESdev China</option>
		
			<option value="19">&nbsp; &nbsp;NESdev International</option>
		
			<option value="25">Other</option>
		
			<option value="5">&nbsp; &nbsp;General Stuff</option>
		
			<option value="4">&nbsp; &nbsp;Membler Industries</option>
		
			<option value="12">&nbsp; &nbsp;SNESdev</option>
		
			<option value="20">&nbsp; &nbsp;GBDev</option>
		
			<option value="23">&nbsp; &nbsp;Other Retro Dev</option>
		
			<option value="15">&nbsp; &nbsp;Test Forum</option>
		
			<option value="26">Site Issues</option>
		
			<option value="13">&nbsp; &nbsp;phpBB Issues</option>
		
			<option value="14">&nbsp; &nbsp;Web Issues</option>
		
			<option value="16">&nbsp; &nbsp;nesdevWiki</option>
		

		</select>&nbsp;<input class="btnlite" type="submit" value="Go" /></td>
	</tr>
	</table>

	</form>
</td>
</tr>
</table>


</div>

<div id="wrapfooter">
	
	<span class="copyright">Powered by <a href="http://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Group
	</span>
</div>

</body>
</html>