<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Color A Deer</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Color A Deer</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=22&amp;t=14257">http://forums.nesdev.com/viewtopic.php?f=22&amp;t=14257</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>pubby</b> [ Fri May 20, 2016 4:49 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Color A Deer</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><span style="color: #8000FF"><span style="font-size: 200%; line-height: normal"><strong>COLOR A DEER</strong></span></span><br /><em>For those who thought Color a Dinosaur wasn't shitty enough.</em><br /><br /><img src="http://i.imgur.com/fSR4mJF.png" alt="Image" /><br /><br />In this ROM you color a deer and then you close your emulator and wish you were doing something better with your life.

		
			<br clear="all" /><br />

			<table class="tablebg" width="100%" cellspacing="1">
			<tr>
				<td><b class="genmed">Attachments: </b></td>
			</tr>
			
				<tr>
					<td>
			<span class="genmed">
				<img src="./styles/subsilver2/imageset/icon_topic_attach.gif" width="14" height="18" alt="" title="" /> 
				<a href="./download/file.php?id=5766">color_a_deer.nes</a> [16.02 KiB]
			</span><br />
			<span class="gensmall">Downloaded 202 times</span>
		

		<br />
	</td>
				</tr>
			
			</table>
		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>BioMechanical Dude</b> [ Fri May 20, 2016 5:10 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Color A Deer</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />This is simply amazing! Game of the Year 2016!

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Jedi QuestMaster</b> [ Fri May 20, 2016 6:12 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Color A Deer</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Make an NES version of this: <!-- m --><a class="postlink" href="https://www.youtube.com/watch?v=qlirTrakTbE">https://www.youtube.com/watch?v=qlirTrakTbE</a><!-- m -->

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>dougeff</b> [ Fri May 20, 2016 6:17 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Color A Deer</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />If your target audience is young children, then it's too hard...specifically, too many small areas with ambiguous color. It should be only 8-10 areas that you need to correctly color, and then get like a big dancing star animation that says &quot;you did it&quot;.<br /><br />And color seems a bit limited, even for NES. <br /><br />But, conceptually, not a bad idea.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Fri May 20, 2016 12:17 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Color A Deer</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Nice tech demo. Where'd you get the outline?<br /><br />Could &quot;too many small areas with ambiguous color&quot; be filled by defining regions that are linked together? If a region is linked to other regions, and you fill one region, it'd automatically fill the others. A user who doesn't want linking could disable it later in the menu.<br /><br />For example, in the present drawing, I can see these regions being linked:<br /><ul><li>Main fur </li><li>Fur counter-shade (belly color) </li><li>All four hooves </li><li>Both antlers </li><li>Tree trunk parts </li><li>Tree foliage parts </li><li>Grass close behind the deer </li></ul>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>rainwarrior</b> [ Fri May 20, 2016 12:53 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Color A Deer</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />palette_a_deer.nes

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Fri May 20, 2016 1:03 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Color A Deer</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I challenge you to do the same with at least 4 colours (black not included), and on NES <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Fri May 20, 2016 1:08 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Color A Deer</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Color a Dinosaur offered a lot of silly patterns to compensate for the lack of color, didn't it?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Guilty</b> [ Fri May 20, 2016 1:18 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Color A Deer</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent">Color a Dinosaur offered a lot of silly patterns to compensate for the lack of color, didn't it?</div><br />Sure did.<br />So, Pubby? Where's our silly pattern crayon?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>pubby</b> [ Fri May 20, 2016 3:41 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Color A Deer</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />To briefly describe the technique, I'll say it first begins by hand-coloring the outline image to look like this:<br /><img src="http://i.imgur.com/uUlm0jv.png" alt="Image" /><br />The requirements of this coloration is that each 8x8 tile contains at most 1 red-colored region, 1 blue-colored region, and 1 green-colored region. This allows the ROM's flood-fill algorithm to work with precomputed 8x8 tiles instead of checking pixel-by-pixel.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Could &quot;too many small areas with ambiguous color&quot; be filled by defining regions that are linked together? If a region is linked to other regions, and you fill one region, it'd automatically fill the others. A user who doesn't want linking could disable it later in the menu.</div><br />Yes, this could be done by modifying the preprocessor program, but I'm not interested in doing it.  <img src="./images/smilies/icon_razz.gif" alt=":P" title="Razz" /> <br /><br /><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">I challenge you to do the same with at least 4 colours (black not included), and on NES <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /></div><br />This is possible by changing the regions to be 16x16 (and finding a simpler outline image), but I'm not interested in doing it.  <img src="./images/smilies/icon_razz.gif" alt=":P" title="Razz" /> <br /><br /><div class="quotetitle">Guilty wrote:</div><div class="quotecontent">So, Pubby? Where's our silly pattern crayon?</div><br />Adding a single pattern crayon would be easy because there's room for it, but adding more would require shrinking my RAM buffers which is kinda a pain and so I'm not interested in doing it.  <img src="./images/smilies/icon_razz.gif" alt=":P" title="Razz" /><br /><br /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">Nice tech demo. Where'd you get the outline?</div><br /><!-- m --><a class="postlink" href="http://www.fsa.usda.gov/Internet/FSA_File/earthdayclrbook.pdf">http://www.fsa.usda.gov/Internet/FSA_Fi ... lrbook.pdf</a><!-- m --><br />It's public domain.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Fri May 20, 2016 4:32 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Color A Deer</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">pubby wrote:</div><div class="quotecontent">To briefly describe the technique, I'll say it first begins by hand-coloring the outline image to look like this:<br /><img src="http://i.imgur.com/uUlm0jv.png" alt="Image" /><br />The requirements of this coloration is that each 8x8 tile contains at most 1 red-colored region, 1 blue-colored region, and 1 green-colored region. This allows the ROM's flood-fill algorithm to work with precomputed 8x8 tiles instead of checking pixel-by-pixel.</div><br />Interesting. Would it be equivalent to say &quot;each 8x8 pixel tile may contain pixels from no more than three connected regions&quot;? Or is the RGB a tighter bound?<br /><br /><div class="quotetitle">pubby wrote:</div><div class="quotecontent"><div class="quotetitle">tepples wrote:</div><div class="quotecontent">Could &quot;too many small areas with ambiguous color&quot; be filled by defining regions that are linked together?</div><br />Yes, this could be done by modifying the preprocessor program, but I'm not interested in doing it.  <img src="./images/smilies/icon_razz.gif" alt=":P" title="Razz" /></div><br />Do you plan on releasing source code so that other interested people can do it?<br /><br /><div class="quotetitle">pubby wrote:</div><div class="quotecontent"><div class="quotetitle">tepples wrote:</div><div class="quotecontent">Where'd you get the outline?</div><br /><!-- m --><a class="postlink" href="http://www.fsa.usda.gov/Internet/FSA_File/earthdayclrbook.pdf">http://www.fsa.usda.gov/Internet/FSA_Fi ... lrbook.pdf</a><!-- m --><br />It's public domain.</div><br />Thank you. Now other developers of coloring book engines will at least have a data set to test against. I seem to remember bunnyboy mentioning a Color a Dinosaur sequel called Power Coloring, for instance.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Macbee</b> [ Fri May 20, 2016 4:39 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Color A Deer</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Pretty cool! =)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Fri May 20, 2016 5:33 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Color A Deer</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">pubby wrote:</div><div class="quotecontent">The requirements of this coloration is that each 8x8 tile contains at most 1 red-colored region, 1 blue-colored region, and 1 green-colored region. This allows the ROM's flood-fill algorithm to work with precomputed 8x8 tiles instead of checking pixel-by-pixel.</div><br />Does this mean you're changing all instances of a specific color in each tile using bitwise operations? What about detecting whether the paint should spill to adjacent tiles?<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">I challenge you to do the same with at least 4 colours (black not included), and on NES <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /></div><br />This is possible by changing the regions to be 16x16 (and finding a simpler outline image), but I'm not interested in doing it.  <img src="./images/smilies/icon_razz.gif" alt=":P" title="Razz" /></div><br />You'd need 3 palettes to hold all possible 3-color combinations out of the total of 4 colors (+ black), but if painting a block causes a different palette to be assigned to it, other colors in the same pattern might need to be changed to match the new palette.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><div class="quotetitle">Guilty wrote:</div><div class="quotecontent">So, Pubby? Where's our silly pattern crayon?</div><br />Adding a single pattern crayon would be easy because there's room for it, but adding more would require shrinking my RAM buffers which is kinda a pain and so I'm not interested in doing it.  <img src="./images/smilies/icon_razz.gif" alt=":P" title="Razz" /></div><br />Personally, I'd implement the silly patterns by having the flood fill algorithm always consult the original flat image (which would be uncompressed in the ROM) to decide what colors to change and to build the bit masks necessary to manipulate the dynamic patterns. A simpler option might be to remember in RAM what each color of each tile has been recolored to, and apply all 3 transformations on top of the original tile data every time a tile is processed. This is more straightforward and has the benefit of not needing to read from VRAM. You can even implement a pop-up GUI by overwriting part of the picture, and restoring it once the interface is closed.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>pubby</b> [ Fri May 20, 2016 6:20 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Color A Deer</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">Do you plan on releasing source code so that other interested people can do it?</div><br />Here: <!-- m --><a class="postlink" href="https://github.com/pubby/coloradeer">https://github.com/pubby/coloradeer</a><!-- m --><br /><br />I didn't intend for anyone to ever read the source and so it is rightfully rather terrible. There are close to no comments and the identifiers are both non-descriptive and misleading at the same time. But maybe you can figure it out.<br /><br />To build, you'll need to first &quot;make convert&quot; and then run &quot;./convert art/deer.png&quot;<br />I never got around to automating this step in the makefile. <br /><br /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">Interesting. Would it be equivalent to say &quot;each 8x8 pixel tile may contain pixels from no more than three connected regions&quot;? Or is the RGB a tighter bound?</div><br />The colored image gets converted to CHR data in a very straightforward way. CHR data can have 4 different colors and that is why my coloration uses 4 colors; R, G, B, and black. I would say that RGB is a tighter bound.<br /><br />To modify the program to &quot;join&quot; several small regions together, I suggest adding new colors to form bridges between regions.<br /><img src="http://i.imgur.com/MtF2BRd.png" alt="Image" />   <br />This maroon color would be considered black when converted to CHR, but otherwise it would be considered red.<br /><br /><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent">A simpler option might be to remember in RAM what each color of each tile has been recolored to, and apply all 3 transformations on top of the original tile data every time a tile is processed. This is more straightforward and has the benefit of not needing to read from VRAM. You can even implement a pop-up GUI by overwriting part of the picture, and restoring it once the interface is closed.</div><br />This is what I'm doing. VRAM is not read from at all in the demo. By &quot;buffer&quot; I really meant &quot;array&quot;; each 8x8 tile takes up 1 byte of RAM, and since there are 1024 tiles this takes up 1024 bytes of space. Colors are encoded in 2 bits segments of these bytes, meaning only 4 colors are possible (3 solid and 1 pattern). However, you could increase the bits-per-color to 8 and still have enough room by combining duplicate tiles.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Does this mean you're changing all instances of a specific color in each tile using bitwise operations? What about detecting whether the paint should spill to adjacent tiles?</div><br />Changes to the pattern tables are done using bitwise masks against the uncompressed 3-colored image. The inputs are three replacements:<br />replace R with palette color XX<br />replace G with palette color YY<br />replace B with palette color ZZ<br />Where XX, YY, ZZ are two bits each and they form a byte stored in memory: XXYYZZ00<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">What about detecting whether the paint should spill to adjacent tiles?</div><br />Adjacent tiles of the same color are precomputed and stored in lookup tables (nbor_r.bin, nbor_g.bin, nbor_b.bin)<br />This takes 1.5 KB ROM space per image.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Myask</b> [ Sun May 22, 2016 1:18 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Color A Deer</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">pubby wrote:</div><div class="quotecontent">To briefly describe the technique, I'll say it first begins by hand-coloring the outline image to look like this:</div><br />Hmm...so we need images that are three-colorable (as opposed to the guaranteed <a href="https://en.wikipedia.org/wiki/Four-color_theorem" class="postlink">four-colorable</a>). [well, if we had freer paletting...]<br /><br />Idea: Community-submitted (competitive?) images for it, for the multicart?<br /><br />(Hmm, with 32KB CHR RAM, one could go full Oeka Kids and not care about unique tiles...)

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>