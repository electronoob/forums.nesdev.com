<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - FDS homebrew ?</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">FDS homebrew ?</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=2&amp;t=5974">http://forums.nesdev.com/viewtopic.php?f=2&amp;t=5974</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>3</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Sat Jan 23, 2010 4:58 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>FDS homebrew ?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Now that the Powerpak can play FDS games, with sounds, I wonder has anyone ever homebrewed a FDS demo taking advantage of it ?
<br />
<br />Otherwise how hard would it be to make a FDS port of a NES game (assuming you have all the code and inner workings) ? That way it could have the benefit of automatic save and better music, at the exapanse of loading times (which are significantly shortened on the Power Pak BTW).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Sat Jan 23, 2010 7:06 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Homebrew isn't supposed to rely on a library that most players won't have. GBA games rely on the GBA BIOS, but:
<br /><ul><li>Enough users worldwide have the tools to run GBA games on authentic hardware. </li><li>Popular emulators do an acceptable job of high-level emulating the GBA BIOS when no BIOS file is available. </li><li>Emulator users dissatisfied with HLE can easily acquire a working GBA and a cheap CF adapter or flash linker to dump the GBA BIOS from hardware. </li></ul>
<br />With FDS, on the other hand, most of your audience won't have access to an FDS RAM cart or to the tools to dump its BIOS. What emulators are known to high-level emulate the documented entry points in the FDS BIOS?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>ccovell</b> [ Sat Jan 23, 2010 7:35 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />They're not spectacular, but I made at least 3 programs that run on the FDS: A disk lister, Ai Senshi Nicol music player (with wave display) and conversion of my Stars demo (ho-hum, yeah, I know.)
<br />
<br /><!-- m --><a class="postlink" href="http://www.disgruntleddesigner.com/chrisc/creations.html#rockoder">http://www.disgruntleddesigner.com/chri ... l#rockoder</a><!-- m -->
<br />They were all tested on a real FDS RAM adaptor.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Sat Jan 23, 2010 8:24 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Thanks Ccovell, maybe it's not spectacular but it's infinitely better than nothing.
<br />I like the music player, but I don't quite understand how the wave is displayed. Is it displayed vertically ? That would make sense, as the NES (so the FDS too !) can't display 64 sprites horizontally aligned.
<br />
<br />It's too bad no emulator allow to switch disk like you could in real life (the once who comes the closest is Nintendulator where you can actually eject and instert disks, but only from a single .fds file). I'd probably have to somehow append your file with another .fds file and see what happens (I should find doccuments on the .fds format).
<br />
<br />Another question : What multi-disk FDS games are arround ? VirtuaNES has support for up to 4 disks (all double sided) but it's always grayed out.
<br />
<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"> <br /><br />Homebrew isn't supposed to rely on a library that most players won't have. GBA games rely on the GBA BIOS, but: <br />Enough users worldwide have the tools to run GBA games on authentic hardware. <br />Popular emulators do an acceptable job of high-level emulating the GBA BIOS when no BIOS file is available. <br />Emulator users dissatisfied with HLE can easily acquire a working GBA and a cheap CF adapter or flash linker to dump the GBA BIOS from hardware. <br /><br />With FDS, on the other hand, most of your audience won't have access to an FDS RAM cart or to the tools to dump its BIOS. What emulators are known to high-level emulate the documented entry points in the FDS BIOS?</div>
<br />I don't quite understand all that you said, but it looks you'd be strongly opposed against FDS homebrew. I agree that, before that the power pak came out, I would hever had the idea.
<br />
<br />But now that it's there and can play FDS games, I think you can't say playing a game with a real powepak on a real NES isn't real hardware, huh ? I've just been enjoying the japanese verion of Castlevania 2 and find it quite supperior in the sound departement.
<br />Okay you don't use a real RAM adapter and switch real disk, so it's ambiguous. But I did never mean to develop FDS exclusive software without owing a FDS myself, I meant that NES software could be ported to the FDS, with only differences in the audio and saving system (like Castlevania 2, Kid Icarus, etc...)
<br />
<br />I can't even imagine how tremendously (does that word exist ?) expensive a FDS would be today, and FDS disks would be even much expensive.
<br />
<br />I don't see how the BIOS could possibly be a problem, it's widely documented on the NESdev main page, and as you say yourself there have always been GB/GBC, GBA, DS, Playstaion, Commodore 64, PC, ... homebrew when all those consoles also have a proprietary BIOS.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Sat Jan 23, 2010 10:20 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">I don't quite understand all that you said, but it looks you'd be strongly opposed against FDS homebrew. I agree that, before that the power pak came out, I would hever had the idea.<br /><br />But now that it's there and can play FDS games, I think you can't say playing a game with a real powepak on a real NES isn't real hardware, huh ?</div><br />PowerPak is an authentic NES and a cloned mapper. Mappers are legally easy to clone, given that hardware patents expire after 20 years. But the FDS BIOS is software, and software copyrights don't expire. In order to sell clones of the IBM PC, Compaq had to have one team discover the behavior of each syscall and then have another team develop a clone without reference to the IBM PC BIOS disassembly.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I don't see how the BIOS could possibly be a problem, it's widely documented on the NESdev main page</div>
<br />If someone were to take the time to implement a freely redistributable clone of the FDS BIOS, I'd be in favor of FDS homebrew.
<br />
<br />Which FDS games access the disk exclusively through the BIOS, and which use direct hardware access?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Jeroen</b> [ Sat Jan 23, 2010 10:38 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Very few didnt use the bios. And the ones that didn't don't work on powerpak anyway iirc. (since they're directly trying to acces a disk that doesnt exist hehe )

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MottZilla</b> [ Sat Jan 23, 2010 11:50 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />My emulator HLEd FDS disk loading because I couldn't get it working easily otherwise and it just seemed like the most simple thing to do. No game I ever tried loaded in any other way than to call the BIOS function that loads files. 
<br />
<br />I see no reason why anyone shouldn't make FDS homebrew if they want to do so. Actually the FDS and Disks are not expensive. Really for most players they are undesirable. Loading times, reliability issues, importing issues. So I think that keeps demand down and the FDS wasn't some total failure, so there is a good supply of FDS stuff.
<br />
<br />With the nice FDS documents we have today you shouldn't have any problems making your own game that runs on FDS, or even making your own cross platform game like Castlevania where you have a Cart and FDS version.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>oRBIT2002</b> [ Sat Jan 23, 2010 11:57 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Has the FDS Bios been completely reversed? The last information I read concerning this (quite awhile back) wasn't readable for mortals..
<br />
<br />For homebrew FDS-stuff, feel free to check out my "FDSExplorer" tool for creating/editing disk-images:
<br /><!-- m --><a class="postlink" href="http://www.anes.se/NESTools/">http://www.anes.se/NESTools/</a><!-- m -->
<br /><img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Sun Jan 24, 2010 3:44 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />OK thanks for the answers.
<br />I think the BIOS is pretty good documented, and thanks oRBIT2002 for your tools, they seems they'd be usefull to me.
<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Actually the FDS and Disks are not expensive. Really for most players they are undesirable. Loading times, reliability issues, importing issues. So I think that keeps demand down and the FDS wasn't some total failure, so there is a good supply of FDS stuff.</div><br />Well maybe your are right, I haven't checked prices, but here only collectors have this kind of hardware, and they take a game at buying and selling stuff very expensive. I think it could be inexpensive if you import it from Japan, but then the port would be very expensive.<br />Not to mention I'd probably have trouble to insert the RAM adapter in a frontloader NES, even if I'd somehow get back the 60-&gt;72 pin converter from by bro in law.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br /><br />If someone were to take the time to implement a freely redistributable clone of the FDS BIOS, I'd be in favor of FDS homebrew.</div>
<br />I don't know how you could do that. It seems MUCH more a violation of a copiright to write sofware identical to the original than to call routines of the original. And since the FDS BIOS lacks a jump table, all routines would have to be exactly the same # of bytes.
<br />
<br />Honestly, the C64 scene has gone pretty far, and I think the Kernal is copyrighted too. That don't prevent people from makings calls to it - and even distribute fully commented disassembles of it. I don't know much about the other platforms tough - I just know I was able to make my own dump of the GBA bios easily using someone else's software - and it would seems this would increase the accuracy of emulators.
<br />
<br />Back to my original problem : The main difference between the FDS and the cartridge is that in the FDS you load files into RAM, while in the cart you bankswitch banks of data.
<br />With a cart you can bankswitch data as much as you like, but with the disk, you can only load data you really need for this level.
<br />
<br />So it would be basically like that (it's just an exemple):
<br />1) Cart
<br />Bank #0 : Sound engine, all music &amp; SFX data
<br />Bank #1 : Map scrolling engine, map data
<br />Bank #2 : Metatile data, graphics
<br />Bank #3 : Text engine, text data
<br />Bank #4 : ....
<br />Bank #2^n-1 : Interrupt code, main game engine
<br />
<br />2) FDS
<br />$6000-$7FFF : SFX data, current level music
<br />$8000-$affff : Current level map &amp; metatile data
<br />$b000-$dfff : Interrupt code, main game engine
<br />
<br />So all it'd take for a NES cart to be able to be converted to FDS, is that the sum of the "current level data", plus what is resident in RAM, shouldn't exceed 32kb.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Sun Jan 24, 2010 6:54 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The fixed entry point problem is solvable. I <a href="http://nesdev.com/bbs/viewtopic.php?p=41887#41887" class="postlink">mentioned before how Apple solved it</a>. But for its next platforms (Apple II ProDOS, Mac OS, and GS/OS), Apple went to numbered syscalls and jump tables, just as Nintendo later did with the GBA BIOS.
<br />
<br /><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">Honestly, the C64 scene has gone pretty far, and I think the Kernal is copyrighted too. That don't prevent people from makings calls to it - and even distribute fully commented disassembles of it.</div><br />All this tells me is that Nintendo enforces its copyrights more vigorously than Commodore.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I just know I was able to make my own dump of the GBA bios easily using someone else's software</div><br />You probably ran Dark Fader's dumper with an authentic GBA and a copier. But most people who live in countries that use Latin, Greek, or Cyrillic letters don't have an FDS RAM cart and a copier.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">2) FDS<br />$6000-$7FFF : SFX data, current level music<br />$8000-$affff : Current level map &amp; metatile data<br />$b000-$dfff : Interrupt code, main game engine</div><br />Some of the SFX data would have to fit above $C000 due to limitations in the sample playback unit.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">So all it'd take for a NES cart to be able to be converted to FDS, is that the sum of the "current level data", plus what is resident in RAM, shouldn't exceed 32kb.</div>
<br />Other things that have to work: <ul><li>No ExGrafix. </li><li>Scanline counter has to be compatible with that of the FDS. </li><li>DPCM samples can't exceed 8 KiB.</li></ul>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Xious</b> [ Thu Mar 04, 2010 3:47 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: FDS homebrew ?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">Now that the Powerpak can play FDS games, with sounds, I wonder has anyone ever homebrewed a FDS demo taking advantage of it ?<br /><br />Otherwise how hard would it be to make a FDS port of a NES game (assuming you have all the code and inner workings) ? That way it could have the benefit of automatic save and better music, at the exapanse of loading times (which are significantly shortened on the Power Pak BTW).</div>
<br />
<br />That would be exceptionally, wickedly cool!
<br />
<br />For example, I would love to see an FDS version of Castlevania: Chorus of Mysteries (on top of the Akumajo Dracula FDS diskette) so that you can save three files and have continues. 
<br />
<br />(The FDS Castlevania, "Akumajo Densetsu" allows three save files like The Legend of Zelda and allows you to save and resume play from where you left off at a later time.)
<br />
<br />The FDS also has its own sound chip, so it would be neat to see new games that make use of it, but if you want to run them on real HW, you'll have to figure out how to write to a disk from an image, which is something I brought up on the hardware forums a while back. 
<br />
<br />-Xious

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Mon Mar 08, 2010 2:20 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"> <br /><br />For example, I would love to see an FDS version of Castlevania: Chorus of Mysteries (on top of the Akumajo Dracula FDS diskette) so that you can save three files and have continues.</div><br />I just wanted to point that there IS infinite continues in Castlevania - they just whiped the save out, which wasn't really necessary since you can finish the game in ~45 minutes (for those who are good enough to kill Death, unlike me). No matter if I have saves or not I'll always be stuck at Death, the only way to pass it for me is to have savestates.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"> <br /><br />The FDS also has its own sound chip, so it would be neat to see new games that make use of it, but if you want to run them on real HW, you'll have to figure out how to write to a disk from an image, which is something I brought up on the hardware forums a while back.</div>
<br />You are right that if I use the sound hardware, it may act differently on the PowerPak that on a real FDS... so I'd have to buy a twin famicom or a working FDS + ask my 60-&gt;72 adaptater back from my bro in law + find a way to make the cart fit in my NES, and in all cases buy at least 1 disc and find a way to rewrite it, which sounds tedious, although I'd love to be able to do that.
<br />
<br />Also how common are 72-&gt;60 adapters ? If I ever go trough the trouble to import a rare twin famicom, I'd be able to at least play games from my Power Pak in NTSC mode !

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MottZilla</b> [ Mon Mar 08, 2010 12:03 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />They aren't that uncommon since alot of Famiclones are bundled with them when sold to westerners. However the adapters may need modification to run some games as well as to run the PowerPAK. I had a 72 -&gt; 60 pin adapter that came with the HandyFami or some clone named like that.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Mon Mar 08, 2010 12:19 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The FDS RAM cart lies flat on the Famicom. So either the NES needs to be an NTSC toploader or the adapter needs to be really long to clear the front of the NES.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Memblers</b> [ Mon Mar 08, 2010 3:50 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />It would be cool if you could find a place to buy cheap disks to use for a release.  I don't know where.  The main advantages at gives to the games (save/load files and sound expansion) are also a couple main points of my Squeedo design.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>3</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>