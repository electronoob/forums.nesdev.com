<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Has anyone released a multidirectional scrolling demo?</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Has anyone released a multidirectional scrolling demo?</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=2&amp;t=9468">http://forums.nesdev.com/viewtopic.php?f=2&amp;t=9468</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>2</strong> of <strong>3</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>exdeath</b> [ Wed Nov 28, 2012 8:58 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Has anyone released a multidirectional scrolling demo?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />What is it you are looking for exactly?  Status bar really complicates things and makes clean 4 way scrolling impossible without additional 2k CIRAM on the cart.  Otherwise it's pretty straight forward using vertical mirroring.<br /><br />The biggest thing though is going to be name table / map compression using at least RLE.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Thu Nov 29, 2012 2:17 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Has anyone released a multidirectional scrolling demo?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Status bar really complicates things and makes clean 4 way scrolling impossible without additional 2k CIRAM on the cart. </div><br />Impossible ? Most certainly not.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>3gengames</b> [ Thu Nov 29, 2012 2:33 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Has anyone released a multidirectional scrolling demo?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />It's not 100% clean, but Crystalis does it pretty well with a status bar.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>rainwarrior</b> [ Thu Nov 29, 2012 2:42 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Has anyone released a multidirectional scrolling demo?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Yeah, with an IRQ it's doable.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Thu Nov 29, 2012 6:02 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Has anyone released a multidirectional scrolling demo?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Here's a little demo of multidirectional scrolling with statusbar without IRQ that I whipped up some time ago (no source): <!-- l --><a class="postlink-local" href="http://forums.nesdev.com/viewtopic.php?p=81267#p81267">viewtopic.php?p=81267#p81267</a><!-- l --><br /><br />Direct download: <!-- m --><a class="postlink" href="http://kkfos.aspekt.fi/downloads/status-bar3.zip">http://kkfos.aspekt.fi/downloads/status-bar3.zip</a><!-- m --><br /><br />Don't mind the attribute glitching in the status bar, that's simply because I couldn't bother to upload the proper attributes.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Thu Nov 29, 2012 6:30 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Has anyone released a multidirectional scrolling demo?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />You can have 4-way scrolling and a status bar without visible artifacts, but it's not trivial. One solution is to completely redraw your status bar in a safe (mostly off-screen) location every frame, but that will make you spend a lot of precious VRAM time on it. Another option is to maintain 2 (or more) copies of the status bar (that are updated progressively, not all at once), and whenever the gameplay window overwrites the status bar that's in use you switch to another one in a safe location.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>exdeath</b> [ Fri Dec 14, 2012 10:16 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Has anyone released a multidirectional scrolling demo?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Without 8 pixel attribute alignment errors at the edges ?<br /><br />I admit I haven't thought too hard about it but Im thinking status bar requires you to use horizontal mirroring (vertical frame buffer).  You can scroll indefinitely horizontally with hardware wrapping, use scan line breaks to reset vertical scroll to wrap around the static status bar, but not much you can do about attributes unless you just simply not use the first and last column? <br /><br />Hardware mask 8 pixels on the left, and right would just require two column updates (bg strip + mask strip) to keep pushing the mask to the right as you scroll and keeping the hardware horizontal wrap.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Fri Dec 14, 2012 10:27 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Has anyone released a multidirectional scrolling demo?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The attribute clashes can be reduced to 3 pixels on the left and 4 pixels on the right (never simultaneously). On PAL screen, and several NTSC screens that have more horizontal overscan, it will show as 3 pixels on the left and 2 pixels on the right.<br /><a href="http://forums.nesdev.com/viewtopic.php?f=22&amp;t=9545" class="postlink">http://forums.nesdev.com/viewtopic.php?f=22&amp;t=9545</a><br /><br />In all cases it's much less noticeable than 8+ pixels on the right like the original SMB3 have.<br /><br />If this is still not enough it's possible to use sprites to mask the right edge.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Fri Dec 14, 2012 10:31 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Has anyone released a multidirectional scrolling demo?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">exdeath wrote:</div><div class="quotecontent">Without 8 pixel attribute alignment errors at the edges ?</div><br />Yup, just look at thefox's demo. An actual game that uses a similar trick is <em>The Jungle Book</em>.<br /><br /><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">If this is still not enough it's possible to use sprites to mask the right edge.</div><br /><em>Alfred Chicken</em> and <em>Felix the Cat</em> do this.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Fri Dec 14, 2012 10:35 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Has anyone released a multidirectional scrolling demo?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">In all cases it's much less noticeable than 8+ pixels on the right like the original SMB3 have.</div><br />I'm not so quick to agree. Even without clipping the eight leftmost columns of pixels, the NTSC NES picture is already shifted a couple pixels to the right because the horizontal sync pulse triggers a bit early. So the right side is more likely to be in or near overscan than the left side.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Fri Dec 14, 2012 10:42 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Has anyone released a multidirectional scrolling demo?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I absolutely <strong>HATE</strong> scrolling-related attribute glitches, and will do anything to avoid them.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Fri Dec 14, 2012 10:50 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Has anyone released a multidirectional scrolling demo?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I don't quite like them either, but if you don't want to eat on your 8-sprites per line and 64-sprites per frame limitations, minimizing them like I did in my demo is probably &quot;less worse&quot; than doing it like SMB3 or Kirby's Adventure where there is easily 8+ pixels columns with wrong colours at the edges, which looks ugly.<br /><br />Also you have to keep in mind that, in PAL territories, all 240 pixels are visible vertically. Which means a lot of NAME table clashes when scrolling vertically, which are in some sense worse than attribute clashes as it's not only the wrong colours, but also the wrong graphics.<br /><br />Therefore, on a PAL TV, doing it the way I do it in the demo is the way with the least clashes possible (without a status bar). With a status bar, however, I guess the method used by &quot;Jungle Book&quot; wins.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">So the right side is more likely to be in or near overscan than the left side.</div><br />Which is why I choose to put up to 4 wrong pixels to the right and only 3 on the left, as opposed to do it vice-versa.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>exdeath</b> [ Fri Dec 14, 2012 11:29 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Has anyone released a multidirectional scrolling demo?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Can't look yet, but I assume thefox/jungle book use vertical mirroring to avoid the horizontal attribute clashing.  And two scan line triggers; the obvious one for the status bar, and another for vertical scroll seam wrapping.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Fri Dec 14, 2012 11:40 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Has anyone released a multidirectional scrolling demo?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">exdeath wrote:</div><div class="quotecontent">And two scan line triggers; the obvious one for the status bar, and another for vertical scroll seam wrapping.</div><br />That's not the case... thefox even mentioned his demo doesn't use IRQs, and this makes it really hard to have splits in the middle of the gameplay area. The trick here is to redraw/relocate the status bar as necessary, so that it never overlaps the gameplay area.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Fri Dec 14, 2012 11:51 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Has anyone released a multidirectional scrolling demo?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />What exdeath mention is perfectly possible, and Krusty's fun house uses this.<br />The problem is that a MMC3 or upper class scanline counter is required (well technically it could be done with DMC without any mapper, but it would be hard to do).<br /><br />Relocating the status bar is more complex logic-wise but less complex for splitting. However the BG needs to be either disabled or masked with a dummy blank CHR bank for some scan-lines.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>2</strong> of <strong>3</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>