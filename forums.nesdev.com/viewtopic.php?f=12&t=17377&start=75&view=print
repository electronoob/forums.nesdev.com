<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - bsnes-mcfly: The v073 and bsnes-classic killer</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">bsnes-mcfly: The v073 and bsnes-classic killer</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=12&amp;t=17377">http://forums.nesdev.com/viewtopic.php?f=12&amp;t=17377</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>6</strong> of <strong>10</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Tue Jul 03, 2018 8:19 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: bsnes-mcfly: The v073 and bsnes-classic killer</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">byuu wrote:</div><div class="quotecontent">I imagine it'd be possible to add gamepak loading to Snes9X, but not manifests. The hardest part would be how to load them. The native Windows OS dialog for folder selection is trash.</div><br />Would it be practical to pack the files that make up a gamepak in a zipfile, as I <a href="https://forums.nesdev.com/viewtopic.php?p=161455#p161455" class="postlink">suggested a couple years ago</a>? That's what Java (jar), Winamp (wsz), StepMania (smzip), Office 2007+ (docx), and OpenOffice/LibreOffice (odt) have done. It was also suggested for NES ROMs as part of the ZapFC proposal, with a zipfile containing the PRG ROM, optional CHR ROM, and optional manifest (called the &quot;board&quot; file; if missing, the emulator would consult a database of licensed games or fall back to NROM). The biggest drawback that I remember was difficulty to support on SD and CF adapters such as PowerPak and EverDrive, where a decompressor for DEFLATE isn't very practical to write in 6502 assembly language. But if it is decided that gamepaks shall be unzipped for SD and CF adapters or zipped for anything that uses the Windows file chooser (such as Snes9x), that can still be made to work.<br /><br />Then the question becomes what middle ground corresponds to Snes9x-Geiger.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>007</b> [ Tue Jul 03, 2018 11:12 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: bsnes-mcfly: The v073 and bsnes-classic killer</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">byuu wrote:</div><div class="quotecontent"><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I just hope that the new bsnes from byuu will still exist for windows when he goes commercial. it looks very promising.</div><br /><br />Yes, absolutely. bsnes <em>is</em> higan, just with a scanline-based renderer for games that don't need pixel-based rendering, and a fallback for the one game that does. It's meant to be the middle ground between Snes9x and higan.</div><br /><br /><br />When you put the beta out I threw a few titles at it to observe the behavior.<br /><br />ASP seems to go to pixel based render<br />Super Off Road is known to need memory randomization and this seems to happen!<br /><br />Those were my first two checks.<br /><br />Since then Ive thrown a ton of titles at it and I must say I love the bsnes beta.<br /><br />One thing I wish you will add to it one day is Blarrg's NTSC under Direct 3d mode.<br /><br />But anyway I love this new emulator. Mind you I also love higan.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>olddb</b> [ Tue Jul 03, 2018 1:22 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: bsnes-mcfly: The v073 and bsnes-classic killer</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Sorry to go in a tangent, but I think this is good place to ask.<br /><br />Is one able to use bsnes for a Steam release, without a license, given than the modify source is distributed with the game? <br /><br />Keeping in mind that the game ROM or game source wouldn't be distributed alongside.<br /><br />I have seen conflicting answers about this.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>byuu</b> [ Tue Jul 03, 2018 3:41 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: bsnes-mcfly: The v073 and bsnes-classic killer</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Would it be practical to pack the files that make up a gamepak in a zipfile, as I suggested a couple years ago?</div><br /><br />Sure if you wanted to. You already know the downsides of using ZIP to reimplement a folder.<br /><br />I also thought about making a new storage container that let you omit certain things that complicate ZIP (Zip64, AES, Deflate, filenames [we could use numeric IDs, known ordering, or something like that], timestamps, file permissions, etc.)<br /><br />But I personally decided that I want to use folders, so that's what I do.<br /><br />I always thought a virtual-drive type software package that would make ZIPs look like part of the regular filesystem would be cool. Eg c:\foo.zip\file.txt just opens as if foo.zip were a folder instead. But nobody does that and it'd need deep OS integration, probably.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">But anyway I love this new emulator. </div><br /><br />Happy to hear, thanks!<br /><br />We'll see how video filters go in time. No promises yet.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Is one able to use bsnes for a Steam release, without a license, given than the modify source is distributed with the game? </div><br /><br />I really don't know, but Piko does it anyway. I guess I'm fine with it, if the source and credit is there. There's not really anything any of us can do about it, so ...

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>olddb</b> [ Tue Jul 03, 2018 4:31 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: bsnes-mcfly: The v073 and bsnes-classic killer</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">byuu wrote:</div><div class="quotecontent"><br />I really don't know, but Piko does it anyway. I guess I'm fine with it, if the source and credit is there. There's not really anything any of us can do about it, so ...</div><br /><br />Great! Thank you.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>calima</b> [ Wed Jul 04, 2018 2:32 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: bsnes-mcfly: The v073 and bsnes-classic killer</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />IANAL, but I know the GPL fairly well. You can.<br /><br />But you must take it into account that anyone competent can extract the ROM, since they know how you modified the emulator to hide it. It's not an effective form of DRM.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>byuu</b> [ Wed Jul 04, 2018 9:06 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: bsnes-mcfly: The v073 and bsnes-classic killer</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Going to guess in Piko's case, he's just leaving the SNES ROM out of the source code release.<br /><br />Which gets you into questions about whether that needs to be included too (probably), or even open source too (probably not.)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Wed Jul 04, 2018 10:19 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: bsnes-mcfly: The v073 and bsnes-classic killer</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The emulator is an interpreter, and the ROM is data processed by said interpreter. See <a href="https://www.gnu.org/licenses/gpl-faq.en.html#IfInterpreterIsGPL" class="postlink">&quot;If a programming language interpreter is released under the GPL, does that mean programs written to be interpreted by it must be under GPL-compatible licenses?&quot; in the GPL FAQ</a>.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>007</b> [ Fri Jul 06, 2018 5:04 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: bsnes-mcfly: The v073 and bsnes-classic killer</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />@hex_user<br /><br />I noticed on the latest build you changed the description on accuracy but its still misleading.<br /><br />JUst tested it on a machine with an Ivy Bridge and was able to maintain 60 fps no problem.<br /><br />I think rather than naming a processor it would make sense saying needs more cpu time.<br /><br />Also noticed a minor bug. <br /><br />In D3D mode, in full screen, switching video filters during emulation causes the program to halt 90% of the time. To test just run any game go to full screen and shift through the filters.<br /><br /><br />Not complaining just reporting back.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>FitzRoy</b> [ Fri Jul 06, 2018 5:08 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: bsnes-mcfly: The v073 and bsnes-classic killer</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">Would it be practical to pack the files that make up a gamepak in a zipfile</div><br /><br />Yes. A double extension (.sfc.zip) archive can be a loadable item. It doesn't need a custom load window, so any emulator could use it. It doesn't need extraction after download to play it. It doesn't need to be written to, nor should it be. It would work exactly like a stand-alone file where ram and states are written outside of it. And if you enforced clean contents by failing to load archives with non-compliant files inside them, the archives you downloaded would always be free of garbage because no one would distribute a non-working archive.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>hex_usr</b> [ Fri Jul 06, 2018 5:48 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: bsnes-mcfly: The v073 and bsnes-classic killer</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">007 wrote:</div><div class="quotecontent">In D3D mode, in full screen, switching video filters during emulation causes the program to halt 90% of the time. To test just run any game go to full screen and shift through the filters.</div><br />Interesting. If I had to guess, it probably has to do with the fact that some filters have different output sizes than others. And in order for you to switch filters in fullscreen, you wouldn't be using exclusive mode, because the menu bar is unavailable in exclusive mode, and there are no hotkeys for switching filters.<br /><br />Does the bug also happen if you switch from one filter to another that has the same size?<br /><br />(Width×2) ⋅ (Height×2)<br /><ul><li>2xSaI</li><li>Super 2xSaI</li><li>Super Eagle</li></ul><br />512 ⋅ (Height×2)<br /><ul><li>HQ2x</li><li>LQ2x</li><li>Scale2x</li></ul><br />(((Width - 1) / 3 + 1) × 7)  ⋅ Height<br /><ul><li>NTSC-RF</li><li>NTSC-Composite</li><li>NTSC-SVideo</li><li>NTSC-RGB</li></ul><br />768 ⋅ (Height×3)<br /><ul><li>Phosphor3x</li></ul><br />512×480<br /><ul><li>Pixellate2x</li></ul><br />“Width” is 512 in any profile other than Compatibility: OpenMP, or if Modes 5 and 6 are being used in said profile, and 256 otherwise.<br />“Height” is 240 in progressive mode and 480 in interlace mode. A hack is used to enforce this convention in every profile, even Accuracy.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>007</b> [ Fri Jul 06, 2018 7:23 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: bsnes-mcfly: The v073 and bsnes-classic killer</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />@hex_usr<br /><br />Correct Happens when not in exclusive mode because its the only way to do it.<br /><br />Also correct with statement on sizing difference causing the halt.<br /><br /><br />Dont know if this would really be considered a bug or worth being concerned about just reporting.<br /><br />If I see something I think a developer would want to know I just post it.<br /><br />I just figure it could help.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Revenant</b> [ Sat Jul 07, 2018 10:05 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: bsnes-mcfly: The v073 and bsnes-classic killer</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">byuu wrote:</div><div class="quotecontent"><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I just know that AWJ and Revenant will take full advantage of it to promote the continued existence of XML manifests.</div><br /><br />I really don't think either of them care about this.</div><br /><br />Seriously, piss off with this passive-agressive nonsense. I've <a href="https://forums.nesdev.com/viewtopic.php?f=12&amp;t=17377&amp;p=219009#p219009" class="postlink">already explained</a> the reasoning for what bsnes-plus currently does, and I don't appreciate being represented as someone actively trying to either promote XML manifests or take some kind of stand against BML manifests or cartridge folders just because my priorities for this time-waster hobby project are currently elsewhere.<br /><br />I can't speak for AWJ here, but I have absolutely zero interest in &quot;competing&quot; with other bsnes-related projects or participating in whatever imaginary &quot;XML vs. BML&quot; holy war you seem so eager to place the two of us in every time this topic has come up recently. Please stop.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>hex_usr</b> [ Sun Jul 08, 2018 6:29 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: bsnes-mcfly: The v073 and bsnes-classic killer</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Not gonna happen. I have worked tirelessly to upgrade the Qt UI from bsnes v073 up through v074, v075, v076, v077, v078, v079, v080, v081, v082, v083, v084, v085, v086, v087, v088, v089, v090, v091, v092, v093, v094, v095, v096, v097, v098, v099, v100, v101, v102, v103, v104, v105, v106, up to the current v106 WIPs leading up to v107, each time adjusting the code to account for breaking changes in Emulator::Interface, all for the sake of allowing the Qt UI to be used with higan v107's emulation bugfixes and gamepak format. I am not going to throw all that hard work out just because my efforts hurt your feelings. v073's XML format was just a prototype, and it cannot properly handle the S-DD1 and SPC7110. It was a miracle that the Tengai Makyou Zero translation team found a loophole in the v073 manifest that would support the 1 MB expansion ROM, and I very much doubt another miracle like that will come again the next time someone creates an unusual memory map. So I'm making bsnes-mcfly so that fans of the Qt GUI won't have to deal with this deprecated format ever again.<br /><br />I'm pretty sure bsnes-plus enjoys a fair bit more popularity than bsnes v073 and bsnes-classic, and I do intend to start adding debugger functionality to bsnes-mcfly once higan v107 is released. It's really tempting to start earlier, but I'm forcing myself to wait in case bsnes-mcfly somehow gets locked into a v106 WIP just like bsnes-plus has been locked into v073. Which is unlikely (I maintained a laevateinn fork for years), but I'm not taking chances.<br /><br />If you're worried about backwards compatibility with MSU1 games and hacks that <em>only</em> came in v073 format and no later version, just point me to those games and hacks, and I will personally hand-convert them to v107 and provide download links. Also, I do have <a href="https://board.byuu.org/viewtopic.php?f=4&amp;t=1977" class="postlink">Olympian Magic</a>, which can do the conversion automatically (though I'll have to bring it up to the current WIP; I left it dormant for a bit).<br /><br />Why did you add debugging functionality to the performance profile, anyway? By its very nature, the performance profile was not intended for development of hacks and homebrew, because it takes a lot of shortcuts that break some timing-sensitive games, and it could very easily lift some restriction that the accuracy and compatibility profiles have, something along the lines of writing VRAM during active display (this specific example comes from ZSNES and is not actually a bug in the performance profile). You don't want hacks and/or homebrew to work exclusively with the performance profile, do you?<br /><br /><div class="quotetitle">Revenant wrote:</div><div class="quotecontent">on the off chance that byuu ever decides to support some sort of BML-based manifests for the standalone ROM support in &quot;new bsnes&quot;, I'd happily add support for that as soon as possible.</div><br />byuu added gamepak support to bsnes v106r40 and BML manifest support to bsnes v106r42. If you want to make good on your promise to add support for BML manifests “as soon as possible”, then you better get cracking!<br /><br />================================<br /><br />On that note, I just added 7z archive support after I figured out that the LZMA SDK is in the public domain. It uses a later version of the LZMA SDK than the one included in snesreader and includes support for the LZMA2 and PPMd algorithms. With this change, bsnes v073 will have one less advantage over bsnes-mcfly.<br /><br />While I was at it, I tried adding JMA support as well, but the biggest obstacle is the fact that Nach licensed libjma exclusively under the General Public License version 2. There is no “or any later version” clause in the source files. This is a problem because bsnes-mcfly is licensed under the General Public License version 3, which is not compatible with the previous version without that “or any later version” clause.<br /><br />To be more specific, most of libjma's source files actually use the LGPLv2.1, which is compatible with the GPLv3, but exactly 5 files use GPLv2 instead: jma.cpp, jma.h, portable.h, jcrc32.cpp, and crc32.h. Rewriting the last 3 is easy (I can shim the CRC32 algorithm with nall's implementation), but the first 2 contain the bulk of the libjma API, and that is a little daunting to rewrite.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Sun Jul 08, 2018 10:02 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: bsnes-mcfly: The v073 and bsnes-classic killer</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />He did not say &quot;Please stop developing your software&quot;.<br />He said &quot;Please stop being abrasive&quot;

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>6</strong> of <strong>10</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>