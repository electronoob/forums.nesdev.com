<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - NESDEV1 Community Development Board, Initial Planning</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">NESDEV1 Community Development Board, Initial Planning</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=9&amp;t=7656">http://forums.nesdev.com/viewtopic.php?f=9&amp;t=7656</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>4</strong> of <strong>14</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Banshaku</b> [ Sat Apr 16, 2011 8:25 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />(Warning: I didn't read the complete thread so I may have missed some details. Sorry if this is the case).
<br />
<br />About the "no emulator support" part, I still think people are over-reacting over it.  All the emulators that are supposed to be accurate enough are open source. this mean they can be easily updated if the need arise. If we always stop for such trivial stuff, nothing will ever move forward.
<br />
<br />Actually, did anything actually move forward in the dev-cart department in the last 3 years? No, not really because we always too concerned about trivial stuff and we just focus on babbling what would be the next best dev-cart in the forum.
<br />
<br />I think we should stop talking about it and just make one and see where it goes.  I'm sure some people in the community have enough knowledge to update some emulator source code. Look at TheFox project that added the debugging part to nintendulator for CC65. When the need arise, people will surely contribute for this part.
<br />
<br />It's my point of view on the subject. Am I the only one to think that way?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>qbradq</b> [ Sat Apr 16, 2011 8:52 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Thank you for your perspective Banshaku!
<br />
<br /><div class="quotetitle">Banshaku wrote:</div><div class="quotecontent">It's my point of view on the subject. Am I the only one to think that way?</div>
<br />
<br />Not at all. There are currently two active dev cart projects that I am aware of. The first is Membler's custom mapper project, which will require such efforts. The other is this one, which takes the other route. Between the two we should have our bases covered <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" />
<br />
<br />I believe the hem-hawing about what to do and why is over and done with now. FME-7 is a good compromise between features, support and ease of use. All that's left is to implement the thing, cram a bunch of memory onto a board and stick a USB interface on it. I doubt there will be much debate over those portions.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Banshaku</b> [ Sat Apr 16, 2011 9:02 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I hope some people didn't think I was bashing existing dev cart projects.  If this is the case, I'm sorry for that. I'm aware of Membler's project, which he's been working for a while on it. I hope I have a chance to see it someday since it has some extra audio on it.
<br />
<br />My comment was more related about the "perfect" dev cart that we have been debating for so many years on this forum since I started posting here. It never went anywhere. 
<br />
<br />These days I have a little bit of time on my hand so I restarted reading briefly a few messages in the current threads. I removed the wiki page at the same time.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Kreese</b> [ Sat Apr 16, 2011 10:50 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I am not any programmer (yet) but I really want to learn in the future. This sounds exciting when it comes to developing games and stuff. I recently bought an eprom burner and that made me want to learn to code even more.
<br />
<br />What are the plans for this devcart? Things that will be developed on it, will it be possible to make games on carts later. Or are the plans to just use it on the devcart and in emulators? I think, if it's possible at a reasonable cost, "reproboards" should be produced as well.
<br />
<br />I live in Sweden (PAL-B) so I hope that you guys think of the PAL possibilities for the carts too. Even though NTSC would probably be used mostly, PAL could be nice to use too.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Sat Apr 16, 2011 11:07 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">Every time the IRQ activates, it is delayed by up to 7 cycles (worst case: INC $FFFF,x). This uncertainty can accumulate over the course of a frame and eventually fail to guarantee that subsequent raster updates are fully in hblank.</div><br />I don't think this is such a big problem. For small updates that don't mess with $2006 (like bankswitching CHR or modifying the color emphasis bits), it will take some time for the accumulated error to have any effect (about 4 splits I think), specially considering that instructions that take 7 cycles are very rare. Also, considering that the IRQ will always happen after the specified number of cycles, never before, you could reload the counter with slightly lower values (2 or 3 cycles less) than the exact number of cycles, to compensate for the delays that are likely to happen.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">But it might be possible to dick with the IRQ Counter High Byte and then just let the low byte run free over the course of a frame, sort of like dpcm_split except with easier sync at NMI time.</div>
<br />I don't understand what you mean here. Could you explain in better detail?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>qbradq</b> [ Sun Apr 17, 2011 6:08 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Kreese wrote:</div><div class="quotecontent">What are the plans for this devcart? Things that will be developed on it, will it be possible to make games on carts later. Or are the plans to just use it on the devcart and in emulators? I think, if it's possible at a reasonable cost, "reproboards" should be produced as well.</div>
<br />
<br />After the dev cart prototype has been created and tested the next step is to create the repro board. I hope we can figure out some way of adding a programming port to the repro board (on the super-cheap) so that a software producer will not need an EEPROM burner at all.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Sun Apr 17, 2011 7:26 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent"><div class="quotetitle">tepples wrote:</div><div class="quotecontent">Every time the IRQ activates, it is delayed by up to 7 cycles (worst case: INC $FFFF,x). This uncertainty can accumulate over the course of a frame and eventually fail to guarantee that subsequent raster updates are fully in hblank.</div><br />I don't think this is such a big problem. For small updates that don't mess with $2006 (like bankswitching CHR or modifying the color emphasis bits)</div><br />I was thinking of multiple splits involving $2006. (By the way, I've been recommending <a href="http://nesdev.com/bbs/viewtopic.php?p=64111#64111" class="postlink">your post</a> to people who ask on IRC about splits.) Think of a huge boss drawn as the scrolling background. Drawing it, the ground, and the status bar would involve multiple $2006 writes.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">it will take some time for the accumulated error to have any effect (about 4 splits I think), specially considering that instructions that take 7 cycles are very rare.</div><br />JSR and RTS take six, and INC a,x takes seven.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Also, considering that the IRQ will always happen after the specified number of cycles, never before, you could reload the counter with slightly lower values (2 or 3 cycles less) than the exact number of cycles, to compensate for the delays that are likely to happen.</div><br />How many ±3s does it take to knock the sync out of hblank?<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">But it might be possible to dick with the IRQ Counter High Byte and then just let the low byte run free over the course of a frame, sort of like dpcm_split except with easier sync at NMI time.</div><br />I don't understand what you mean here. Could you explain in better detail?</div>
<br />The NMI handler starts executing roughly 3 ± 3 cycles after the start of line 241. At that point, set the counter to the first split value. Afterward until the next NMI, treat it as a low-frequency timer that counts in multiples of 256 CPU cycles, and only rewrite the high byte. I wonder if that would work on the real thing.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>qbradq</b> [ Sun Apr 17, 2011 8:52 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />It should, according to the mapper documents the registers write directly to the counter bytes.
<br />
<br />That's definitely something we need to put in the IRQ test ROM.
<br />
<br />Speaking of test ROMs I have finished the memory mapping and name table mirroring test ROM. I am creating the Google Code project for this and uploading everything. Please see the first post for links.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>picccca</b> [ Sun Apr 17, 2011 9:39 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />OK, for the memory mapping and name table mirroring test ROM in FCEUX 2.1.4a the RAM pages 1-63 failed, everything else passed, even the nametable mirroring was in the correct order. 
<br />
<br />Maybe I don't know how to use the ROM or emulator, and I don't understand most of this thread, I was just trying to be a little helpful <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>qbradq</b> [ Sun Apr 17, 2011 12:13 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Thanks for that report! I will add it to the Wiki page. I did notice that the name table mirroring stuff is all messed up some emulators because they do not always default to vertical mirroring. I have updated the test ROM. I have also created a second version for emulators that do not support more that 256 KB of PRG-ROM (like Nestopia). You can find it in the SVN archives.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Sun Apr 17, 2011 12:18 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />This makes absolutely no sense.
<br />
<br />You calim to do a FME-7 clone instead of a custom mapper so that it is compatible with existing emulators, but wants to push it so that it can adress 2MB ROM and 512kB RAM, which will NOT be supported in most, if not every unmodified emulator.
<br />
<br />If you do that, since emulators won't emulate your mapper anyways, you'd as well do a better mapper with more features.
<br />
<br />Again I'm pretty sure your game is perfectly feasible on a "normal" mapper so all of this is pointless. Even if it's not, then you should either clone an existing mapper or make your own mapper (as already mentionned), but clone an existing mapper and add functionality to it will not get it "miraculously" compatible with emulators.
<br />
<br />I think it'd be okay to REMOVE features to an existing mapper though (as it was originally planned, a MMC5 with less features), but not to ADD them.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Sun Apr 17, 2011 12:20 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">qbradq wrote:</div><div class="quotecontent">Thanks for that report! I will add it to the Wiki page. I did notice that the name table mirroring stuff is all messed up some emulators because they do not always default to vertical mirroring.</div>
<br />The iNES header specifies the power-on state of the mirroring registers.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Drag</b> [ Sun Apr 17, 2011 3:06 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I think a PowerPak with an EPROM emulator would make a <em>much</em> better devcart than whatever it is this is supposed to be. It'll work in emulators, but have the added bonus of having a quicker testing cycle.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>qbradq</b> [ Sun Apr 17, 2011 3:58 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">This makes absolutely no sense.<br /><br />You calim to do a FME-7 clone instead of a custom mapper so that it is compatible with existing emulators, but wants to push it so that it can adress 2MB ROM and 512kB RAM, which will NOT be supported in most, if not every unmodified emulator.</div><br /><br />Thank you for your continued input Bregalad! I too have had concerns about this, however many have expressed that they feel they need more that 512 KB of ROM and 8 KB of RAM in a dev cart. I have specified 2048 KB ROM and 512 KB RAM for those folks that want to push this as far as they can.<br /><br />The emulator compatibility requirement is "what works in (most) emulators works on the hardware". This makes it easy to target software at emulators and hardware.<br /><br />Also I'd like to point out that many emulators (including FCEUX) do support 2048 KB ROM for this mapper.<br /><br />It comes down to a balancing act. This seems to be the best compromise between features, compatibility and feasibility. <br /><br /><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">Again I'm pretty sure your game is perfectly feasible on a "normal" mapper so all of this is pointless.</div><br /><br />Yes, my game is feasible on a normal mapper. I completed the demo using MMC1, and I could have done it with UNROM just as easily. This dev cart is not about me and my game, it is about giving the community and new developers an easy to use development cart with a clear path to fabrication for retail carts.<br /><br /><div class="quotetitle">Drag wrote:</div><div class="quotecontent">I think a PowerPak with an EPROM emulator would make a much better devcart than whatever it is this is supposed to be. It'll work in emulators, but have the added bonus of having a quicker testing cycle.</div>
<br />
<br />Thank you for your input!
<br />
<br />Yes, it would be a faster dev cycle. Heck, anything with an EPROM emulator would be <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /> Here are the factors that made me not want to use the PowerPak as a development platform. These factors may not apply to you. Again this all comes down to what your specific requirements are.
<br />
<br />1. The PowerPak does not work on clone systems (by reports anyhow). This is problematic for me because I am specifically wanting to support clone systems with my software.
<br />2. The PowerPak is prohibitively expensive for a casual purchase (for me anyway). This board should be 1/2 to 1/3 the cost.
<br />3. The PowerPak uses Compact Flash, which requires me to purchase media and a dongle which I would only use for it.
<br />4. If I used the PowerPak (or a repro board for that matter) for development I would need to invest in an EEPROM burner come fabrication time. Again I would have no other use for this investment.
<br />
<br />Again I appreciate that my requirements and perspectives are going to be different from yours. If this cart does not meet your requirements (or something else fits them better) then you have no need of it.
<br />
<br />Update: Emulator compatibility tables have been updated. We still need an IRQ test ROM. I am starting on the MyHDL code for the full mapper now. I plan on deriving subsets from that base code with lower CPLD requirements for the first dev board.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Memblers</b> [ Sun Apr 17, 2011 5:48 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I still strongly advise using a unique iNES mapper number regardless of any compatibility with existing mappers.  Otherwise, I foresee all kinds of problems and confusion..  Plus iNES is already full of different mappers and incompatible board types sharing the same mapper number (and that's the main complaint some people have against iNES format).  I guess it could be an iNES 2.0 'submapper', but that and every other road leads to having emulators need to add support for it specifically.
<br />
<br />But yeah there's definitely plenty of room for multiple dev cart types, with different hardware and different price points for production.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>4</strong> of <strong>14</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>