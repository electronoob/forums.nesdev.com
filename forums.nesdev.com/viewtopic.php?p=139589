<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<link rel="icon" href="/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />

<title>nesdev.com &bull; View topic - 16bit table indexing problem</title>

<link rel="alternate" type="application/atom+xml" title="Feed - nesdev.com" href="http://forums.nesdev.com/feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - News" href="http://forums.nesdev.com/feed.php?mode=news" /><link rel="alternate" type="application/atom+xml" title="Feed - All forums" href="http://forums.nesdev.com/feed.php?mode=forums" /><link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="http://forums.nesdev.com/feed.php?mode=topics" /><link rel="alternate" type="application/atom+xml" title="Feed - Active Topics" href="http://forums.nesdev.com/feed.php?mode=topics_active" /><link rel="alternate" type="application/atom+xml" title="Feed - Forum - SNESdev" href="http://forums.nesdev.com/feed.php?f=12" /><link rel="alternate" type="application/atom+xml" title="Feed - Topic - 16bit table indexing problem" href="http://forums.nesdev.com/feed.php?f=12&amp;t=12268" />

<link rel="stylesheet" href="./style.php?id=1&amp;lang=en" type="text/css" />

<script type="text/javascript">
// <![CDATA[


function popup(url, width, height, name)
{
	if (!name)
	{
		name = '_popup';
	}

	window.open(url.replace(/&amp;/g, '&'), name, 'height=' + height + ',resizable=yes,scrollbars=yes,width=' + width);
	return false;
}

function jumpto()
{
	var page = prompt('Enter the page number you wish to go to:', '2');
	var per_page = '15';
	var base_url = './viewtopic.php?f=12&amp;t=12268';

	if (page !== null && !isNaN(page) && page == Math.floor(page) && page > 0)
	{
		if (base_url.indexOf('?') == -1)
		{
			document.location.href = base_url + '?start=' + ((page - 1) * per_page);
		}
		else
		{
			document.location.href = base_url.replace(/&amp;/g, '&') + '&start=' + ((page - 1) * per_page);
		}
	}
}

/**
* Find a member
*/
function find_username(url)
{
	popup(url, 760, 570, '_usersearch');
	return false;
}

/**
* Mark/unmark checklist
* id = ID of parent container, name = name prefix, state = state [true/false]
*/
function marklist(id, name, state)
{
	var parent = document.getElementById(id);
	if (!parent)
	{
		eval('parent = document.' + id);
	}

	if (!parent)
	{
		return;
	}

	var rb = parent.getElementsByTagName('input');
	
	for (var r = 0; r < rb.length; r++)
	{
		if (rb[r].name.substr(0, name.length) == name)
		{
			rb[r].checked = state;
		}
	}
}



	/**
	* Play quicktime file by determining it's width/height
	* from the displayed rectangle area
	*
	* Only defined if there is a file block present.
	*/
	function play_qt_file(obj)
	{
		var rectangle = obj.GetRectangle();

		if (rectangle)
		{
			rectangle = rectangle.split(',')
			var x1 = parseInt(rectangle[0]);
			var x2 = parseInt(rectangle[2]);
			var y1 = parseInt(rectangle[1]);
			var y2 = parseInt(rectangle[3]);

			var width = (x1 < 0) ? (x1 * -1) + x2 : x2 - x1;
			var height = (y1 < 0) ? (y1 * -1) + y2 : y2 - y1;
		}
		else
		{
			var width = 200;
			var height = 0;
		}

		obj.width = width;
		obj.height = height + 16;

		obj.SetControllerVisible(true);

		obj.Play();
	}


// ]]>
</script>
</head>
<body class="ltr">

<a name="top"></a>

<div id="wrapheader">

	<div id="logodesc">
	</div>

	<div id="menubar">

		<table width="100%" cellspacing="0">
		<tr>
			<td rowspan="2"><a href="./index.php"><img src="./styles/subsilver2/imageset/site_logo.gif" alt="" title="" /></a></td>
			<td width="100%" align="center"><h1>nesdev.com</h1><span class="gen">NES Development and Strangulation Records message boards</span></td>
		</tr>
		<tr>
			<td align="center">
				<a href="./faq.php"><img src="./styles/prosilver/theme/images/icon_mini_faq.gif" width="12" height="13" alt="*" /> FAQ</a>
				&nbsp; &nbsp;<a href="./search.php"><img src="./styles/prosilver/theme/images/icon_mini_search.gif" width="12" height="13" alt="*" /> Search</a>
				<br />	
				 &nbsp;<a href="./ucp.php?mode=register"><img src="./styles/prosilver/theme/images/icon_mini_register.gif" width="12" height="13" alt="*" /> Register</a>
					&nbsp; &nbsp;<a href="./ucp.php?mode=login"><img src="./styles/prosilver/theme/images/icon_mini_login.gif" width="12" height="13" alt="*" /> Login</a>&nbsp;
			</td>
		</tr>
		</table>
	</div>

	<div id="datebar">
		<table width="100%" cellspacing="0">
		<tr>
			<td class="gensmall"></td>
			<td class="gensmall" align="right">It is currently Sun May 10, 2015 9:42 pm<br /></td>
		</tr>
		</table>
	</div>

</div>

<div id="wrapcentre">

	
	<p class="searchbar">
		<span style="float: left;"><a href="./search.php?search_id=unanswered">View unanswered posts</a> | <a href="./search.php?search_id=active_topics">View active topics</a></span>
		
	</p>
	

	<br style="clear: both;" />

	<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=25">Other</a> &#187; <a href="./viewforum.php?f=12">SNESdev</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>

	<br />

<div id="pageheader">
	<h2><a class="titles" href="./viewtopic.php?f=12&amp;t=12268&amp;start=15">16bit table indexing problem</a></h2>


	<p class="moderators">Moderator: <a href="./memberlist.php?mode=group&amp;g=320">Moderators</a></p>

</div>

<br clear="all" /><br />

<div id="pagecontent">

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=12"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=12&amp;t=12268"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>2</strong> of <strong>9</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 132 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"><b><a href="#" onclick="jumpto(); return false;" title="Click to jump to pageâ€¦">Go to page</a> <a href="./viewtopic.php?f=12&amp;t=12268&amp;start=0">Previous</a>&nbsp;&nbsp;<a href="./viewtopic.php?f=12&amp;t=12268">1</a><span class="page-sep">, </span><strong>2</strong><span class="page-sep">, </span><a href="./viewtopic.php?f=12&amp;t=12268&amp;start=30">3</a><span class="page-sep">, </span><a href="./viewtopic.php?f=12&amp;t=12268&amp;start=45">4</a><span class="page-sep">, </span><a href="./viewtopic.php?f=12&amp;t=12268&amp;start=60">5</a><span class="page-dots"> ... </span><a href="./viewtopic.php?f=12&amp;t=12268&amp;start=120">9</a> &nbsp;<a href="./viewtopic.php?f=12&amp;t=12268&amp;start=30">Next</a></b></td>
		
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat">
			<table width="100%" cellspacing="0">
			<tr>
				<td class="nav" nowrap="nowrap">&nbsp;
				<a href="./viewtopic.php?f=12&amp;t=12268&amp;start=15&amp;view=print" title="Print view">Print view</a>
				</td>
				<td class="nav" align="right" nowrap="nowrap"><a href="./viewtopic.php?f=12&amp;t=12268&amp;view=previous">Previous topic</a> | <a href="./viewtopic.php?f=12&amp;t=12268&amp;view=next">Next topic</a>&nbsp;</td>
			</tr>
			</table>
		</td>
	</tr>

	</table>


	<table class="tablebg" width="100%" cellspacing="1">
	
		<tr>
			<th>Author</th>
			<th>Message</th>
		</tr>
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p139511"></a>
				<b class="postauthor">Espozo</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p139511">Re: 16bit table indexing problem</a></div><div style="float: right;"><a href="./viewtopic.php?p=139511#p139511"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sat Jan 17, 2015 8:14 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=6683_1410824489.gif" width="80" height="80" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Sep 15, 2014 4:35 pm<br /><b>Posts:</b> 905<br /><b>Location:</b> Nacogdoches, Texas
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I really had no idea I was using an 8 bit accumulator.  <img src="./images/smilies/icon_redface.gif" alt=":oops:" title="Embarassed" /> I really just don't understand what REP and SEP mean. I actually had this code working originally, (see SNES Programing Help) but I wanted to use 16bit values because it is apparently easier to use the 9th x bit. I tried this code now, but the screen now turns black and all memory seems to get erased. (I think this uses a 16bit accumulator.)<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">.BANK 0 SLOT 0<br />.ORG 0<br />.SECTION &quot;MetaspriteCode&quot;<br /><br />start_metasprite:<br />&nbsp; &nbsp;php<br />&nbsp; &nbsp;rep #$30<br />&nbsp; &nbsp;sep #$10<br /><br />_build_metasprite:<br />lda $0000,x<br />beq _metasprite_done<br />inx<br />lda $0000,x<br />clc<br />adc XPosition<br />and #$FF00&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;I switched it from #$00FF, to #$FF00<br />sta SpriteBuf1,y<br />inx<br />lda $0000,x<br />clc<br />adc YPosition<br />and #$FF00<br />sta SpriteBuf1+1,y<br />inx<br />iny<br />iny<br />iny<br />iny<br />bra _build_metasprite<br /><br />_metasprite_done:<br />rts<br /><br />metasprite_done:<br />&nbsp; &nbsp;plp<br />&nbsp; &nbsp;rts<br /><br />.ENDS</div><br />Now the Table:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">MetaspriteTable:<br />&nbsp; &nbsp;.DW $FFFF,$0000,$0000,$FFFF,$0010,$0000,$0000</div><br /><br />I know that the upper byte of x and y is being erased, but it shouldn't cause the game to crash I don't think. (how would you keep the upper byte? having the 16 bit accumulator ready before you load the table? and go to the Metasprite routine?)<br /><br />Also, the reason for the formatting of the code to not be consistent is because of copy and pasting.  <img src="./images/smilies/icon_razz.gif" alt=":P" title="Razz" /><br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Okay, that straightens that out, at least on my end. Sorry, Espozo.</div><br />No harm done.  <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /> <br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">And yes, I will probably end up switching to ca65, mostly because it has Super FX support.</div><br />Will you have to rewrite the code to make it work on ca65?</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=6683"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p139515"></a>
				<b class="postauthor" style="color: #AA0000">koitsu</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p139515">Re: 16bit table indexing problem</a></div><div style="float: right;"><a href="./viewtopic.php?p=139515#p139515"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sat Jan 17, 2015 8:53 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td class="postdetails">Site Admin</td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=3.png" width="100" height="75" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Sep 19, 2004 9:28 pm<br /><b>Posts:</b> 2391<br /><b>Location:</b> Mountain View, CA, USA
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">REP and SEP allow you to set and unset (adjust) the bits of P (processor status).  REP stands for &quot;REset P&quot; (set bits to 0) and SEP stands for &quot;SEt P&quot; (set bits to 1).  Any bit you set to 1 in the operand means &quot;affect that bit&quot;.  That should help explain why something like SEP #$20 sets bit 5 to 1 (8-bit accumulator), and why REP #$20 would set bit 5 to 0 (16-bit accumulator).<br /><br />The bits in P are ones you already rely on heavily anyway, but the 65816 allows you to tweak those directly (rather than through explicit opcodes, e.g. CLC) if you wish.  These are mostly compatible with the 6502 and 65c02, but not entirely:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">Bit 7 (n) = negative flag (1 = most-significant bit (MSB) set, 0 = MSB unset)<br />Bit 6 (v) = overflow flag (1 = two's complement error, 0 = two's complement OK)<br />Bit 5 (m) = accumulator register size flag (1 = 8-bit, 0 = 16-bit)<br />Bit 4 (x) = index register size flag (1 = 8-bit, 0 = 16-bit)<br />Bit 3 (d) = decimal mode flag (1 = BCD enabled, 0 = BCD disabled)<br />Bit 2 (i) = IRQ flag (1 = disable IRQ, 0 = enable IRQ)<br />Bit 1 (z) = zero flag (1 = last result was zero)<br />Bit 0 (c) = carry flag (1 = last result required carry)<br /></div><br />The letters in parentheses are the common abbreviation for the individual bit in P.  For the register size flags, in some emulators/tools, when they're capitalised it means the bit is unset (e.g. <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">x</tt> means 8-bit, <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">X</tt> means 16-bit).  The capitalisation method, however, is not universal, but the letters are.<br /><br />There's also the emulation bit (e) that isn't part of P (it's a separate bit), which is what defines if the CPU is in 65c02 emulation mode or not (e=0 means native 65816 mode, e=1 means 65c02 emulation mode).  Please don't think about this though, you're doing real 65816 (thankfully) and don't get hung up on this paragraph.<br /><br />Your question makes me wonder if you have a 65816 reference book at all.  If not, I'd recommend getting the copy we keep of the one Western Design Center had up publicly for a while.  It's at the bottom of this page, and contains actual real-world code examples with thorough explanations (not just in-line comments) of how things work, along with full opcode descriptions, charts, and so on:<br /><br /><!-- m --><a class="postlink" href="http://wiki.nesdev.com/w/index.php/Programming_guide">http://wiki.nesdev.com/w/index.php/Programming_guide</a><!-- m --><br /><br />Before WDC got their hands on it, it was a book created by Ron Lichty and David Eyes, and was the #1 resource in the 90s for 65816 programming (and works quite well for learning 6502/65c02 too, actually).  I thankfully have a real paperback copy and have had it since I was a kid doing 65816.  I've used it so much the cover has been torn off.<br /><br />Anyway, I simply got in the habit of remembering the following &quot;chart&quot; by heart:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">REP #$10 = 16-bit indexes<br />REP #$20 = 16-bit accumulator<br />REP #$30 = 16-bit accumulator and 16-bit indexes<br />SEP #$10 = 8-bit indexes (upper top byte of X/Y lost/zeroed)<br />SEP #$20 = 8-bit accumulator<br />SEP #$30 = 8-bit accumulator and 8-bit indexes<br /></div><br />You therefore cannot, in a single SEP or REP statement, do something like &quot;use 8-bit accumulator and 16-bit indexes&quot; -- it requires two opcodes given the nature of how the processor bits work and how SEP/REP work.<br /><br />Screwing with any of the other bits of P directly through REP/SEP is considered &quot;extremely uncommon&quot; (don't let anyone tell you otherwise).  For example: if you look at the InitSNES macro, for whatever reason someone did REP #$38, rather than CLD / REP #$30.  They are the same thing, and whoever did that just wanted to save 2 cycles + 1 byte, even though it doesn't really matter (routine is only called once during reset).  As I've stated in the past, I consider this kind of optimisation completely unnecessary and is often done by people (with the context in question kept in mind) just to &quot;show off&quot;.  I don't think it makes for good learning material.<br /><br /><div class="quotetitle">Espozo wrote:</div><div class="quotecontent">I really had no idea I was using an 8 bit accumulator.  :oops: I really just don't understand what REP and SEP mean. I actually had this code working originally, (see SNES Programing Help) but I wanted to use 16bit values because it is apparently easier to use the 9th x bit. I tried this code now, but the screen now turns black and all memory seems to get erased. (I think this uses a 16bit accumulator.)<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">.BANK 0 SLOT 0<br />.ORG 0<br />.SECTION &quot;MetaspriteCode&quot;<br /><br />start_metasprite:<br />&nbsp; &nbsp;php<br />&nbsp; &nbsp;rep #$30<br />&nbsp; &nbsp;sep #$10<br />...<br /></div><br /></div><br />This code sets 16-bit accumulator and 16-bit indexes, then proceeds to set 8-bit indexes.  This means you've lost the upper byte of the X/Y index registers, which is the entire problem I told you about.<br /><br />Furthermore, using 16-bit accumulator, as I told you, would break your program/misbehave because of how it's written.<br /><br />You have to change your actual code in build_metasprite, and the changes you did do are flat out incorrect -- you need to think about it a bit more (pay close attention to what you're doing with SpriteBuf1 and *WHERE* (offset-wise) within SpriteBuf1 you're writing data, how much data (in bytes) you're writing compared to previously, and how you're later using SpriteBuf1.  All of that matters!).  Pay close attention to how many times you're calling INX/INY (make sure that's correct vs. how you use those indexes both for reading and writing).  And don't forget that YPosition and XPosition will probably need to increase in size as well (I think these are simply memory locations that are read, and so you'll need to make sure those are words not bytes).  I feel I've spent enough time on this already, especially for one day.  :P<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I know that the upper byte of x and y is being erased, but it shouldn't cause the game to crash I don't think. (how would you keep the upper byte? having the 16 bit accumulator ready before you load the table? and go to the Metasprite routine?)<br /></div><br />I explained how you &quot;keep&quot; the upper byte of X/Y when using REP/SEP, and why you do it a certain way.  :/  If you really need to save this, then you need to store the 16-bit X value somewhere temporary (or push it onto the stack) before you change its size, and when you want to restore the value, you need to switch back to 16-bit indexes and then restore it (or pull it off the stack).  Just don't forget that if you push a 16-bit value onto the stack, you need to make sure to pull it off later also as 16-bit, otherwise you'll have a stack underflow situation eventually.<br /><br />Temporary variable method:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; ;<br />&nbsp; ; Assume 16-bit indexes here<br />&nbsp; ;<br />&nbsp; stx TempX&nbsp; ; Store 16-bit X in TempX variable (should be in direct page or RAM, needs to be a word/2 bytes)<br />&nbsp; sty TempY&nbsp; ; Store 16-bit Y in TempY variable (should be in direct page or RAM, needs to be a word/2 bytes)<br />&nbsp; sep #$10&nbsp; &nbsp;; 8-bit indexes -- top byte of X and Y are lost<br />&nbsp; ;<br />&nbsp; ; Your code here does something with 8-bit indexes...<br />&nbsp; ;<br />&nbsp; ; Now we're done and need to go back to 16-bit indexes and restore what X/Y were...<br />&nbsp; ;<br />&nbsp; rep #$10&nbsp; &nbsp;; 16-bit indexes<br />&nbsp; ldy TempY&nbsp; ; Load 16-bit Y with content of TempY variable<br />&nbsp; ldx TempX&nbsp; ; Load 16-bit X with content of TempX variable<br /></div><br /><br />Stack method:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; ;<br />&nbsp; ; Assume 16-bit indexes here<br />&nbsp; ;<br />&nbsp; phx&nbsp; &nbsp; &nbsp; &nbsp;; Push 16-bit X onto stack<br />&nbsp; phy&nbsp; &nbsp; &nbsp; &nbsp;; Push 16-bit Y onto stack<br />&nbsp; sep #$10&nbsp; ; 8-bit indexes -- top byte of X and Y are lost<br />&nbsp; ;<br />&nbsp; ; Your code here does something with 8-bit indexes...<br />&nbsp; ;<br />&nbsp; ; Now we're done and need to go back to 16-bit indexes and restore what X/Y were...<br />&nbsp; ;<br />&nbsp; rep #$10&nbsp; ; 16-bit indexes<br />&nbsp; ply&nbsp; &nbsp; &nbsp; &nbsp;; Pull 16-bit value off stack and put into Y<br />&nbsp; plx&nbsp; &nbsp; &nbsp; &nbsp;; Pull 16-bit value off stack and put into X<br /></div></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p139578"></a>
				<b class="postauthor">Espozo</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p139578">Re: 16bit table indexing problem</a></div><div style="float: right;"><a href="./viewtopic.php?p=139578#p139578"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sun Jan 18, 2015 4:28 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=6683_1410824489.gif" width="80" height="80" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Sep 15, 2014 4:35 pm<br /><b>Posts:</b> 905<br /><b>Location:</b> Nacogdoches, Texas
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I was going to come back here complaining about how I tried the stack method on the metasprite routine and it didn't work but I just realized that I didn't pull in the reverse order pushed. Heh... (I've reverted back to the original 8 bit code I made, but I figured I could work on it a little more to prepare myself to make it 16 bit) The main reason I wanted to post here again is to ask if there is a way to view PDF files on Windows 8 not in the obnoxious full screen &quot;app mode&quot; (or whatever) because I kind of want to look at the SNES programming manual and try to program something without having to keep minimizing the window. (In my opinion, Windows 8 seems like a step back in many respects, but I know support for Windows 7 is eventually going to be dropped...)<br /><br />This is what I mean:<div class="attachtitle">Attachment:</div><div class="attachcontent">
			<a href="./download/file.php?id=2489&amp;mode=view"><img src="./download/file.php?id=2489&amp;t=1" alt="Screenshot (140).png" /></a><br />
			<span class="gensmall">Screenshot (140).png [ 33.71 KiB | Viewed 315 times ]</span>
		

		<br />
	</div></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=6683"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p139582"></a>
				<b class="postauthor">lidnariq</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p139582">Re: 16bit table indexing problem</a></div><div style="float: right;"><a href="./viewtopic.php?p=139582#p139582"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sun Jan 18, 2015 6:00 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Apr 13, 2008 11:12 am<br /><b>Posts:</b> 3001<br /><b>Location:</b> zurich for this week
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Install any non-&quot;metro&quot; PDF reader. Foxit seems to be popular. <br />(&quot;Metro&quot; being the codename for the awful full-screen tablet windows 8 UI thing.)</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3512"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p139586"></a>
				<b class="postauthor">Espozo</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p139586">Re: 16bit table indexing problem</a></div><div style="float: right;"><a href="./viewtopic.php?p=139586#p139586"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sun Jan 18, 2015 6:28 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=6683_1410824489.gif" width="80" height="80" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Sep 15, 2014 4:35 pm<br /><b>Posts:</b> 905<br /><b>Location:</b> Nacogdoches, Texas
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Thank You! Windows 8 seems way more &quot;tablet oriented&quot;. (Basically, make it stupidly easy to use so a kindergartener can play on it by stripping things features from it.)</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=6683"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p139589"></a>
				<b class="postauthor">nicklausw</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p139589">Re: 16bit table indexing problem</a></div><div style="float: right;"><a href="./viewtopic.php?p=139589#p139589"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sun Jan 18, 2015 6:45 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=6832_1420339767.png" width="89" height="90" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sat Jan 03, 2015 5:58 pm<br /><b>Posts:</b> 57<br /><b>Location:</b> ...
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">Espozo wrote:</div><div class="quotecontent">I honestly have no idea how to compile it. (If someone could post it already compiled in a rar, I would <strong>greatly</strong> appreciate it.)</div><br />Visual Studio and a bunch of other crap is needed. Don't use the binaries given on Ville's website, as those are somewhat outdated (and some bug fixes along with improvements have been made since then).<br /><br />By the assumption that you're using Windows, here's my binaries. Fresh off GitHub. Made them last month as I recall.<br /><br />EDIT: just remembered I also compiled them for Ubuntu, so I'll put those there aswell. Zip = windows, Tar = Ubuntu.</div>

					
						<br clear="all" /><br />

						<table class="tablebg" width="100%" cellspacing="1">
						<tr>
							<td class="row3"><b class="genmed">Attachments: </b></td>
						</tr>
						
							<tr>
								<td class="row2">
			<span class="genmed">
				<img src="./styles/subsilver2/imageset/icon_topic_attach.gif" width="14" height="18" alt="" title="" /> 
				<a href="./download/file.php?id=2496">WLA-DX.tar</a> [1.29 MiB]
			</span><br />
			<span class="gensmall">Downloaded 8 times</span>
		

		<br />
	</td>
							</tr>
						
							<tr>
								<td class="row1">
			<span class="genmed">
				<img src="./styles/subsilver2/imageset/icon_topic_attach.gif" width="14" height="18" alt="" title="" /> 
				<a href="./download/file.php?id=2495">WLA-DX.zip</a> [922.77 KiB]
			</span><br />
			<span class="gensmall">Downloaded 11 times</span>
		

		<br />
	</td>
							</tr>
						
						</table>
					
						<div class="postbody"><br />_________________<br /><strong><span style="text-decoration: underline">my stuff</span><br /><a href="http://www.smspower.org/Homebrew/Pong-SMS" class="postlink">pong - sega master system</a> <a href="https://github.com/NicklausW/pong-sms" class="postlink">[github]</a><br /><a href="http://www.smspower.org/Homebrew/Sudoku-SMS" class="postlink">sudoku - sega master system</a> <a href="https://github.com/NicklausW/sudoku-sms" class="postlink">[github]</a></strong></div>
					
							<br /><br />
							<span class="gensmall">Last edited by <a href="./memberlist.php?mode=viewprofile&amp;u=6832">nicklausw</a> on Mon Jan 19, 2015 3:16 pm, edited 1 time in total.</span>
						

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=6832"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p139621"></a>
				<b class="postauthor">Espozo</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p139621">Re: 16bit table indexing problem</a></div><div style="float: right;"><a href="./viewtopic.php?p=139621#p139621"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Mon Jan 19, 2015 9:47 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=6683_1410824489.gif" width="80" height="80" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Sep 15, 2014 4:35 pm<br /><b>Posts:</b> 905<br /><b>Location:</b> Nacogdoches, Texas
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">Espozo wrote:</div><div class="quotecontent">I was going to come back here complaining about how I tried the stack method on the metasprite routine and it didn't work but I just realized that I didn't pull in the reverse order pushed. Heh...</div><br />Of course, I didn't even leave it on for a whole minute to see the game crash... I honestly have no clue what the problem is. I have a file in the folder named MetaspriteTest that works perfectly fine, and MetaspriteTest2 that crashes after a minute. (Sprites go all over the place, then VRAM gets totally wiped out and a whole bunch of nonsense in written to WRAM) The only difference between these two codes is that I wrote PHY and PHX before I jumped to Metasprite2 and then wrote PLX and PLY when I got there. I swear, do I have a brain disorder or something? Because I write something that makes perfect sense to me, it doesn't work in the slightest, and then someone fixes it in under half a minute when I've been staring at it for an hour.<br /><br /><div class="attachtitle">Attachment:</div><div class="attachcontent">
			<span class="genmed">
				<img src="./styles/subsilver2/imageset/icon_topic_attach.gif" width="14" height="18" alt="" title="" /> 
				<a href="./download/file.php?id=2497">Metasprite Demo.rar</a> [237.96 KiB]
			</span><br />
			<span class="gensmall">Downloaded 13 times</span>
		

		<br />
	</div><br /><br />By the way, I haven't read all of the SNES programming manual (obviously), but I'm not sure how much it would help me with this particular problem.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=6683"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p139633"></a>
				<b class="postauthor" style="color: #AA0000">koitsu</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p139633">Re: 16bit table indexing problem</a></div><div style="float: right;"><a href="./viewtopic.php?p=139633#p139633"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Mon Jan 19, 2015 1:13 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td class="postdetails">Site Admin</td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=3.png" width="100" height="75" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Sep 19, 2004 9:28 pm<br /><b>Posts:</b> 2391<br /><b>Location:</b> Mountain View, CA, USA
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Have you spent time in an emulator's real-time debugger?  This will almost certainly, 100%, tell you what is going on / why your code is &quot;going crazy&quot;.  Chances are you have a loop that is either never ending (and things are going off into lala land, address-wise) or you have some buggy code (duh).<br /><br />I don't see any PHX/PHY/PLY/PLX code in these.  And because of the naming convention + lack of good description of what you changed <strong>and where</strong>, it takes me a lot of time to sift through this to see what all you did that might be causing the problem.  I'll try to focus on what looks like it may be a problem:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">Sprites.asm --<br /><br />.DEFINE SpriteBuf1&nbsp; &nbsp;$0400<br />.DEFINE SpriteBuf2&nbsp; &nbsp;$0600<br /><br />MetaspriteTest2.asm --<br /><br />.DEFINE TempX&nbsp; &nbsp;&nbsp; &nbsp;$1800<br />.DEFINE TempY&nbsp; &nbsp;&nbsp; &nbsp;$1802<br />.DEFINE MapX&nbsp; &nbsp;&nbsp; &nbsp;$1804<br />.DEFINE MapY&nbsp; &nbsp;&nbsp; &nbsp;$1806<br /><br />InfiniteLoop:<br /><br />&nbsp; &nbsp;WAI<br /><br />&nbsp; &nbsp;ldy #$00<br />&nbsp; &nbsp;ldx #MetaspriteTable<br />&nbsp; &nbsp;sty TempY<br />&nbsp; &nbsp;stx TempX<br />&nbsp; &nbsp;jsr start_metasprite<br /><br />Metasprite2.asm --<br /><br />start_metasprite:<br />&nbsp; &nbsp;php<br />&nbsp; &nbsp;sep #$10<br />&nbsp; &nbsp;rep #$10<br />&nbsp; &nbsp;ldy TempY<br />&nbsp; &nbsp;ldx TempX<br /><br />build_metasprite:<br />&nbsp; &nbsp;lda $00,x<br />&nbsp; &nbsp;beq metasprite_done<br />&nbsp; &nbsp;inx<br />&nbsp; &nbsp;lda $00,x<br />&nbsp; &nbsp;sta SpriteBuf1,y<br />&nbsp; &nbsp;inx<br />&nbsp; &nbsp;lda $00,x<br />&nbsp; &nbsp;sta SpriteBuf1+1,y<br />&nbsp; &nbsp;iny<br />&nbsp; &nbsp;inx<br />&nbsp; &nbsp;iny<br />&nbsp; &nbsp;iny<br />&nbsp; &nbsp;iny<br />&nbsp; &nbsp;bra build_metasprite<br /><br />metasprite_done:<br />&nbsp; &nbsp;plp<br />&nbsp; &nbsp;rts<br /><br />MetaspriteTable:<br />&nbsp; &nbsp;.DB $01,$00,$00,$01,$10,$00,$00<br /><br /></div><br /><br />1. Based on past conversation, I believe indexes to be 16-bit the time the LDX/LDY statements in InifiniteLoop are called.  I'm just noting this here because it matters.<br /><br />2. The SEP #$10/REP #$10 statement in the start_metasprite routine makes no sense -- you're setting 8-bit indexes, followed immediately by setting 16-bit indexes.  That means I'm not sure what the accumulator size is at the time the later code is run, and I've covered why this matters with the assembler (since it tracks what the register sizes are as best as it can -- you could verify it if WLA DX wasn't a pile of junk with listing files... sigh...), but it also matters when your code is being run in real-time.<br /><br />To me, based on the code in build_metasprite, it clearly looks like you want an 8-bit accumulator because you're doing stuff like this:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; &nbsp;lda $00,x<br />&nbsp; &nbsp;beq metasprite_done<br />&nbsp; &nbsp;inx<br />&nbsp; &nbsp;lda $00,x<br />&nbsp; &nbsp;sta SpriteBuf1,y<br />&nbsp; &nbsp;inx<br />&nbsp; &nbsp;lda $00,x<br />&nbsp; &nbsp;sta SpriteBuf1+1,y<br /></div><br /><br />Let's assume X=$8F00 and Y=$0000 when we enter this code, just for understanding what is going on here.  Again, I'm discussing this because your goal is trying to convert a routine to use 16-bit values.  The code then gets executed like this in real-time (see comments) -- I'm excluding the BRA statement because it's implied/unconditional:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; &nbsp; &nbsp; &nbsp; lda $00,x&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; Load accumulator from $0000,x (effective address = $8F00)<br />&nbsp; &nbsp; &nbsp; &nbsp; beq metasprite_done&nbsp; &nbsp; &nbsp;; If zero, branch -- value is not zero<br />&nbsp; &nbsp; &nbsp; &nbsp; inx&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; X = $0001<br />&nbsp; &nbsp; &nbsp; &nbsp; lda $00,x&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; Load accumulator from $0000,x (effective address = $8F01)<br />&nbsp; &nbsp; &nbsp; &nbsp; sta SpriteBuf1,y&nbsp; &nbsp; &nbsp; &nbsp; ; Store at $0400,y (effective address = $0400)<br />&nbsp; &nbsp; &nbsp; &nbsp; inx&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; X = $0002<br />&nbsp; &nbsp; &nbsp; &nbsp; lda $00,x&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; Load accumulator from $0000,x (effective address = $8F02)<br />&nbsp; &nbsp; &nbsp; &nbsp; sta SpriteBuf1+1,y&nbsp; &nbsp; &nbsp; ; Store at $0400+1,y (effective address = $0401)<br />&nbsp; &nbsp; &nbsp; &nbsp; iny&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; Y = $0001<br />&nbsp; &nbsp; &nbsp; &nbsp; inx&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; X = $0003<br />&nbsp; &nbsp; &nbsp; &nbsp; iny&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; Y = $0002<br />&nbsp; &nbsp; &nbsp; &nbsp; iny&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; Y = $0003<br />&nbsp; &nbsp; &nbsp; &nbsp; iny&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; Y = $0004<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; lda $00,x&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; Load accumulator from $0000,x (effective address = $8F03)<br />&nbsp; &nbsp; &nbsp; &nbsp; beq metasprite_done&nbsp; &nbsp; &nbsp;; If zero, branch -- value is not zero<br />&nbsp; &nbsp; &nbsp; &nbsp; inx&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; X = $0004<br />&nbsp; &nbsp; &nbsp; &nbsp; lda $00,x&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; Load accumulator from $0000,x (effective address = $8F04)<br />&nbsp; &nbsp; &nbsp; &nbsp; sta SpriteBuf1,y&nbsp; &nbsp; &nbsp; &nbsp; ; Store at $0400,y (effective address = $0404)<br />&nbsp; &nbsp; &nbsp; &nbsp; inx&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; X = $0005<br />&nbsp; &nbsp; &nbsp; &nbsp; lda $00,x&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; Load accumulator from $0000,x (effective address = $8F05)<br />&nbsp; &nbsp; &nbsp; &nbsp; sta SpriteBuf1+1,y&nbsp; &nbsp; &nbsp; ; Store at $0400+1,y (effective address = $0405)<br />&nbsp; &nbsp; &nbsp; &nbsp; iny&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; Y = $0005<br />&nbsp; &nbsp; &nbsp; &nbsp; inx&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; X = $0006<br />&nbsp; &nbsp; &nbsp; &nbsp; iny&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; Y = $0007<br />&nbsp; &nbsp; &nbsp; &nbsp; iny&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; Y = $0008<br />&nbsp; &nbsp; &nbsp; &nbsp; iny&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; Y = $0009<br /></div><br /><br />Do you now see -- when considering the offsets (effective addresses) discussed -- how/why 8-bit accumulator vs. 16-bit accumulator matters here?  A 16-bit accumulator, during your <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">ldx $00,x</tt> routine, is going to load two bytes from that address -- e.g. $8F00 and $8F01 in a single load.  Yet your INX statements seem to indicate you're working with things at a byte level.<br /><br />So here's the thing -- and I have not checked to see if this is the case (this is for you to do!): the wrong accumulator size could in fact account for this loop never ending and a lot of weird things going on (depends on what the NMI handler is doing).  The only way the loop ends is if the accumulator, when loading from $0000,X, is zero.  With a 16-bit accum that means the value has to be $0000, with an 8-bit accum that means the value has to be $00.<br /><br />So let's take a look at what would happen with a 16-bit accumulator (again, not sure if this is the case! -- for you to figure out!), showing the actual values that are getting read/written.  Again, assuming X=$8F00, Y=$0000 when hitting this code.  And remember: the 65816 is little-endian (in case you wonder why some of the &quot;values loaded&quot; are &quot;reversed&quot;):<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; &nbsp; &nbsp; &nbsp; lda $00,x&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; Effective address $8F00, A=$0001 (bytes 0,1 of MetaspriteTable)<br />&nbsp; &nbsp; &nbsp; &nbsp; beq metasprite_done&nbsp; &nbsp; &nbsp;; Not zero, don't branch<br />&nbsp; &nbsp; &nbsp; &nbsp; inx&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; X=$8F01<br />&nbsp; &nbsp; &nbsp; &nbsp; lda $00,x&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; Effective address $8F01, A=$0000 (bytes 1,2 of MetaspriteTable0<br />&nbsp; &nbsp; &nbsp; &nbsp; sta SpriteBuf1,y&nbsp; &nbsp; &nbsp; &nbsp; ;<br />&nbsp; &nbsp; &nbsp; &nbsp; inx&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; X=$8F02<br />&nbsp; &nbsp; &nbsp; &nbsp; lda $00,x&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; Effective address $8F02, A=$0100 (bytes 2,3 of MetaspriteTable)<br />&nbsp; &nbsp; &nbsp; &nbsp; sta SpriteBuf1+1,y&nbsp; &nbsp; &nbsp; ;<br />&nbsp; &nbsp; &nbsp; &nbsp; iny&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; Y=$0001<br />&nbsp; &nbsp; &nbsp; &nbsp; inx&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; X=$8F03<br />&nbsp; &nbsp; &nbsp; &nbsp; iny&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; Y=$0002<br />&nbsp; &nbsp; &nbsp; &nbsp; iny&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; Y=$0003<br />&nbsp; &nbsp; &nbsp; &nbsp; iny&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; Y=$0004<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; lda $00,x&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; Effective address $8F03, A=$1001 (bytes 3,4 of MetaspriteTable)<br />&nbsp; &nbsp; &nbsp; &nbsp; beq metasprite_done&nbsp; &nbsp; &nbsp;; Not zero, don't branch<br />&nbsp; &nbsp; &nbsp; &nbsp; inx&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; X=$8F04<br />&nbsp; &nbsp; &nbsp; &nbsp; lda $00,x&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; Effective address $8F04, A=$0010 (bytes 4,5 of MetaspriteTable)<br />&nbsp; &nbsp; &nbsp; &nbsp; sta SpriteBuf1,y&nbsp; &nbsp; &nbsp; &nbsp; ;<br />&nbsp; &nbsp; &nbsp; &nbsp; inx&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; X=$8F05<br />&nbsp; &nbsp; &nbsp; &nbsp; lda $00,x&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; Effective address $8F05, A=$0000 (bytes 5,6 of MetaspriteTable)<br />&nbsp; &nbsp; &nbsp; &nbsp; sta SpriteBuf1+1,y&nbsp; &nbsp; &nbsp; ;<br />&nbsp; &nbsp; &nbsp; &nbsp; iny&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; Y=$0005<br />&nbsp; &nbsp; &nbsp; &nbsp; inx&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; X=$8F06<br />&nbsp; &nbsp; &nbsp; &nbsp; iny&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; Y=$0006<br />&nbsp; &nbsp; &nbsp; &nbsp; iny&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; Y=$0007<br />&nbsp; &nbsp; &nbsp; &nbsp; iny&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; Y=$0008<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; lda $00,x&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; Effective address $8F06, A=$??00 (bytes 6,? of MetaspriteTable)<br />&nbsp; &nbsp; &nbsp; &nbsp; beq metasprite_done&nbsp; &nbsp; &nbsp;; ??? does this branch?&nbsp; Depends on if the byte &quot;past the end of the table&quot; is zero!<br /></div><br /><br />Make sure you note the last couple lines.  Compare that to what's in your table.  I simply do not know what WLA DX is storing &quot;after&quot; the last byte you define in MetaspriteTable.  But you want my guess?  I'd be willing to bet you that it's got a non-zero value there -- for example it could be the first byte of .\\GamePictures\\hovertransport.map.  Again (I'm like a broken record): a listing file would tell you this.  And thus if your accumulator is 16-bit when that code runs, things would never end, and you'd end up with a loop that essentially writes all over RAM indefinitely (SpriteBuf1 points to $0400, but in an infinite loop with indexes being used, you would end up writing to all of memory space within $0000-FFFF ($0000-1FFF is RAM, the other writes would essentially do nothing right now)), and reads from all over the bank the code is executing it -- the result would be a total utter mess and almost certainly cause bizarre behaviour program-wise and visually.<br /><br />P.S. -- This does not take someone &quot;half a minute&quot; to fix.  My posts to you have actually taken hours of time as an aggregate (this one took almost 2 hours).  Debugging someone else's code is always time-consuming because the person has to reverse-engineer it every single time (esp. when there's no clear explanation of what changed, i.e. &quot;this is what it was before, and this is what I changed it to&quot;).  The author of the code should know what their program is doing better than someone who's being asked for help.  Just a general rule, haha.  :-)<br /><br />And no, the developers manual would not help you here.  This is purely a programming thing.  I think you need to get more familiar with using a real-time debugger, because it could save you a lot of time assuming you know what it is you're looking at.  Yes, the tools (emulator debuggers) tend to suck and they usually lack source code integration (so what you see in the debugger doesn't correlate with the code you wrote; all values are pre-assembled, again why a listing file is helpful...), so I understand the pain.  But once you go through it a few times you'll get in the habit of knowing what you're seeing.<br /><br />The one thing I wish emulators had was tie-ins for forcing a break/drop-to-debugger using native code.  On the 65816, honestly I feel the best way to do this would be to use either BRK (but some games might use this legitimately?), COP, or WDM opcodes (the latter is certainly never used -- opcode $42 is the one leftover byte in the opcode table that is supposed to act as a NOP when run, so it'd work great for this, IMO).  BRK and COP at least have 1 byte operands (&quot;signature bytes&quot;).  It'd be really convenient to tell someone &quot;Just put <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">brk $ff</tt> where you want the debugger to kick in so you can step through your code&quot;, rather than futz with all of this.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p139637"></a>
				<b class="postauthor">Espozo</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p139637">Re: 16bit table indexing problem</a></div><div style="float: right;"><a href="./viewtopic.php?p=139637#p139637"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Mon Jan 19, 2015 1:34 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=6683_1410824489.gif" width="80" height="80" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Sep 15, 2014 4:35 pm<br /><b>Posts:</b> 905<br /><b>Location:</b> Nacogdoches, Texas
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Wow, I'm a dumbass, I accidentally uploaded the wrong file. (That's why there is no phy, and phx because it is in the wrong folder.)<br /><br /><div class="attachtitle">Attachment:</div><div class="attachcontent">
			<span class="genmed">
				<img src="./styles/subsilver2/imageset/icon_topic_attach.gif" width="14" height="18" alt="" title="" /> 
				<a href="./download/file.php?id=2499">REAL Metasprite Demo.rar</a> [238.46 KiB]
			</span><br />
			<span class="gensmall">Downloaded 11 times</span>
		

		<br />
	</div><br />(no one needs to look at this, I'm just saying I had it.)<br /><br />Edit: <span style="font-size: 200%; line-height: normal">Wait!</span> I'm even more of an idiot than I thought... I accidentally made it to where metaspritetest2 was going to metasprite1 instead of metasprite2 and I have metasprite2 at rep $20 (8bit?) instead of rep $10. Of course now, the code doesn't even take a minute to crash... (I think the problem was that I pushed to infinity because I didn't jump to the code that would pull.)<br /><br /><div class="attachtitle">Attachment:</div><div class="attachcontent">
			<span class="genmed">
				<img src="./styles/subsilver2/imageset/icon_topic_attach.gif" width="14" height="18" alt="" title="" /> 
				<a href="./download/file.php?id=2501">MORE REAL Metasprite Demo.rar</a> [238.63 KiB]
			</span><br />
			<span class="gensmall">Downloaded 7 times</span>
		

		<br />
	</div><br />Edit: (Again.) I solved the problem. I wrote sep #$10, rep #$20 instead of rep $10, sep #$20. After changed that, I ran it, used the restroom, then grabbed a soda and it was still running so I think It's safe to say it's alright. <img src="./images/smilies/icon_wink.gif" alt=":wink:" title="Wink" /> (By the way, I guess you should never rep right after you sep?)<br /><br />Also, I guess the fact that I'm only writing inx once is one of the problems? (I thought it would automatically increment by 2 bytes instead of one.) The one thing I really do have to look at (which should be in the book) is the processor status bit things, because I don't have the slightest Idea of what I'm doing.<br /><br />The reason why I always complain and come here for help is because I don't have the slightest clue as to what any of this means...<br /><div class="attachtitle">Attachment:</div><div class="attachcontent">
			<a href="./download/file.php?id=2500&amp;mode=view"><img src="./download/file.php?id=2500&amp;t=1" alt="SNES9X Debugger.png" /></a><br />
			<span class="gensmall">SNES9X Debugger.png [ 37.78 KiB | Viewed 222 times ]</span>
		

		<br />
	</div><br /><br />Maybe I should have tried something easier than the SNES for programming first... (I have no background knowledge.)</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=6683"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p139641"></a>
				<b class="postauthor">Espozo</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p139641">Re: 16bit table indexing problem</a></div><div style="float: right;"><a href="./viewtopic.php?p=139641#p139641"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Mon Jan 19, 2015 3:08 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=6683_1410824489.gif" width="80" height="80" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Sep 15, 2014 4:35 pm<br /><b>Posts:</b> 905<br /><b>Location:</b> Nacogdoches, Texas
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Actually, just forget everything I just said. I accidentally replaced the file that was correct with a one that was broken, and I tried to fix it, but I couldn't. I found out that the file that was working was different than the second one I posted. I'm hopelessly confused.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=6683"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p139643"></a>
				<b class="postauthor" style="color: #AA0000">koitsu</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p139643">Re: 16bit table indexing problem</a></div><div style="float: right;"><a href="./viewtopic.php?p=139643#p139643"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Mon Jan 19, 2015 3:44 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td class="postdetails">Site Admin</td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=3.png" width="100" height="75" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Sep 19, 2004 9:28 pm<br /><b>Posts:</b> 2391<br /><b>Location:</b> Mountain View, CA, USA
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">Espozo wrote:</div><div class="quotecontent">Edit: (Again.) I solved the problem. I wrote sep #$10, rep #$20 instead of rep $10, sep #$20. After changed that, I ran it, used the restroom, then grabbed a soda and it was still running so I think It's safe to say it's alright. :wink: (By the way, I guess you should never rep right after you sep?)</div><br />I covered REP/SEP earlier, including what each bit represents.  So let's cover it again, more verbosely.  Remember: SEP/REP only touch (i.e. change) the bits you set to 1 in the operand -- all other bits are left alone.  (The operand is essentially a mask of sorts).  Below is a &quot;chart&quot; for you to use -- I know how SEP/REP work, but honestly I just remember this chart by heart because these are the most common operations you'll see:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; rep #$10&nbsp; &nbsp;; X/Y = 16-bit (set bit 4 of P to 0).&nbsp; $10 hex = %00010000 binary<br />&nbsp; sep #$10&nbsp; &nbsp;; X/Y = 8-bit&nbsp; (set bit 4 of P to 1).&nbsp; $10 hex = %00010000 binary<br /><br />&nbsp; rep #$20&nbsp; &nbsp;; M = 16-bit (set bit 5 of P to 0).&nbsp; $20 hex = %00100000 binary<br />&nbsp; sep #$20&nbsp; &nbsp;; M = 8-bit&nbsp; (set bit 5 of P to 1).&nbsp; $20 hex = %00100000 binary<br /><br />&nbsp; rep #$30&nbsp; &nbsp;; M = 16-bit, X/Y = 16-bit (set bit 4 and 5 of P to 0).&nbsp; $30 hex = %00110000 binary<br />&nbsp; sep #$30&nbsp; &nbsp;; M = 8-bit,&nbsp; X/Y = 8-bit&nbsp; (set bit 4 and 5 of P to 1).&nbsp; $30 hex = %00110000 binary<br /></div><br />Using this &quot;chart&quot;, you should be able to determine what you did, and why if you want something like 8-bit accumulator + 16-bit indexes that you need to use a combo of SEP and REP -- it cannot be done in a single instruction.<br /><br /><div class="quotetitle">Espozo wrote:</div><div class="quotecontent">Also, I guess the fact that I'm only writing inx once is one of the problems? (I thought it would automatically increment by 2 bytes instead of one.)</div><br />Okay, two things here:<br /><br />1. The increment opcodes (INC, INY, INX) only increment the register by 1.  The &quot;size&quot; of the register has no bearing on &quot;how much&quot; is incremented.  Rephrased: INC is equivalent to A++ or A = A +1, INY is equivalent to Y++ or Y = Y+1, INX is equivalent to X++ or X = X+1 (assuming you have some programming knowledge of other languages).  The only bearing the register size (8 vs. 16-bit) has on this is when it comes time to increment from $FF to a new value (8-bit would go from $FF to $00, 16-bit would go from $FF to $100) or when incrementing a memory address (more on that at the end).<br /><br />If you want to increment something by more than 1, you have a couple choices.  For the X/Y registers, repeated calls to INX/INY would work (e.g. incrementing X by 2 would be INX / INX), but you should know that from your repeated INY statements within build_metasprite.  :/<br /><br />For incrementing the accumulator, you can use CLC / ADC #value (e.g. incrementing accumulator by 7 would be CLC / ADC #7).<br /><br />There is no CLC/ADC equivalent that affects X or Y directly.  If you wanted to increment X or Y by a larger value and don't want to have to call INX/INY repeatedly, then you have to transfer X or Y into the accumulator, use CLC/ADC, then transfer the accumulator back into X or Y.  Example:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; ldx #4&nbsp; &nbsp; ; X=$0004<br />&nbsp; txa&nbsp; &nbsp; &nbsp; &nbsp;; Transfer X into accumulator (A=$0004)<br />&nbsp; clc&nbsp; &nbsp; &nbsp; &nbsp;; Clear carry<br />&nbsp; adc #7&nbsp; &nbsp; ; Add 7 to accumulator (A=$000B (11 decimal))<br />&nbsp; tax&nbsp; &nbsp; &nbsp; &nbsp;; Transfer accumulator into X (X=$000B)<br /></div><br />You will probably ask: &quot;wouldn't doing TXA mean whatever (previously) was is the accumulator is lost?&quot; -- yup, it does.  That's why you'll find people doing PHA/PLA before/after that type of operation quite often, or using a temporary variable.<br /><br />There is a point where repeated INY/INXs become space-wasting and time-wasting though (i.e. it's better to do something like TXA/CLC/ADC/TAX), but right now I really don't want to cover that because it'll just confuse you more.  For now, if you wanted to increment X by, say, 12, then go ahead and do 12 INX instructions.  If anyone comes along and says &quot;this is inefficient blah blah blah&quot;, tell them you're still learning and to deal with one thing at a time.  :-)<br /><br />Also with INC (but not INX/INY), you can also increment (by 1) a value in memory without having to load it into the accumulator / write it back out.  The active size (8 vs. 16-bit) of the accumulator matters here too (and can often cause people confusion, similar to what's happening presently).  But again I don't want to cover that because it'll just add more confusion right now.  Just know that it's available.<br /><br />2. Terminology nitpick: you are not &quot;incrementing by 2 bytes&quot;.  You are incrementing an index register which you are using as an offset during your LDA.<br /><br /><div class="quotetitle">Espozo wrote:</div><div class="quotecontent">The one thing I really do have to look at (which should be in the book) is the processor status bit things, because I don't have the slightest Idea of what I'm doing.</div><br />Well I've explained them twice now, including giving you a chart of essentially the most-commonly-used opcode+operand combinations are (I hope that helps you the most -- as I said, I understand how the opcodes work, but I honestly just remember the chart by heart.  :-) ), so if you're still having problems then maybe referring to the WDC book is a better choice.  There's a chapter on it, I believe.<br /><br />One thing I should note: the learning curve you're going through here, with regards to 8-bit vs. 16-bit, is incredibly common, so don't feel alone!  A lot of people used to the original 6502 and 65c02 (both 8-bit CPUs), when the 65816 came out, had very similar complexities/difficulties as what you're going through now.  Doing 16-bit &quot;stuff&quot; on the 6502/65c02, however, is a lot more painful (IMO).  The 65816 really spoils you -- it's one reason I have a harder time doing 6502, because I did a *lot* of my coding on the 65816 so using a native 8-bit CPU often makes me grumble.  :-)<br /><br />As for your SNES9x debugger shot: by default the SNES9x debugger doesn't execute any code, and instead stops at the very first instruction the processor wants to run.  Step back for a moment and think about how the CPU &quot;starts up&quot;.  It starts executing code where the RESET vector points to, right?  You should be able to determine where that is easily, and the debugger makes it even easier (there's a &quot;Vector Info&quot; button).  The first instruction your program executes when the system starts is SEI.  You should be able to find that in your code and go from there.<br /><br />What you need to do is what I described earlier -- create a breakpoint on the execution of code, essentially right before you do your <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">jsr build_metasprite</tt>.  But as I said earlier, the debuggers do not currently have a way to &quot;connect&quot; source code to actual running code, so what you're seeing is quite literally what the assembled results are + what the CPU is doing.  This is why I said it'd be very useful if emulators actually had a way to drop to the debugger when encountering an instruction (e.g. <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">brk $ff</tt>), because then you could just add that line and run the code and then bam, continue from there.<br /><br />A listing generation from your assembler would tell you exactly what memory address the <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">jsr build_metasprite</tt> instruction is at, but WLA DX (as I've said a billion times now) is completely broken in this regard, which makes your job a lot harder.  Essentially what you need to do right now is step through (run) every single line of code until you see code that looks very similar to the code around/right before <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">jsr build_metasprite</tt>.  If you aren't sure, do something that will clue you in: put a bunch of <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">nop</tt> statements right before your <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">jsr</tt>.  Once you see those you'll know where they are, then you'll get an idea of what memory location the JSR is at, then can throw that into the debugger as an execution breakpoint, reset the system (there's a Reset button), click Run, and wait until it drops to the debugger and then you can step through your code instruction by instruction and see what it's doing, how the registers are affected, and so on.  :-)<br /><br />Learning how to use a debugger is a tedious process (about as tedious as programming) because each debugger behaves differently.  There is no standard.  I'm certain the bsnes debugger is substantially different from the SNES9x debugger, for example.  The only one I have familiarity with is the SNES9x debugger, although as discussed in other threads NO$SNS has a debugger as well (although by default that emulator shows opcodes in a non-65xxx-syntax format -- you have to turn that feature off before you get something that's actually sane ;-) ).</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p139644"></a>
				<b class="postauthor" style="color: #AA0000">koitsu</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p139644">Re: 16bit table indexing problem</a></div><div style="float: right;"><a href="./viewtopic.php?p=139644#p139644"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Mon Jan 19, 2015 4:01 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td class="postdetails">Site Admin</td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=3.png" width="100" height="75" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Sep 19, 2004 9:28 pm<br /><b>Posts:</b> 2391<br /><b>Location:</b> Mountain View, CA, USA
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">nicklausw wrote:</div><div class="quotecontent">Visual Studio and a bunch of other crap is needed. Don't use the binaries given on Ville's website, as those are somewhat outdated (and some bug fixes along with improvements have been made since then).<br /><br />By the assumption that you're using Windows, here's my binaries. Fresh off GitHub. Made them last month as I recall.<br /><br />EDIT: just remembered I also compiled them for Ubuntu, so I'll put those there aswell. Zip = windows, Tar = Ubuntu.</div><br />The Windows binaries you provide in the zip are native 64-bit binaries -- they will not work on 32-bit operating systems.  This is unlike the &quot;unofficial&quot; binary builds which are 32-bit.  I can't use these binaries (I do not run a 64-bit OS).  There's really no reason (that I can think of) for native 64-bit binaries for WLA DX on Windows (on *IX it's a different situation, as not everyone's OSes have 32-bit compatibility shims; for example my FreeBSD boxes are all pure 64-bit with absolutely no 32-bit binary support).  Windows 64-bit OSes provide 32-bit compatibility shims by default, so 32-bit is a better choice there for something non-memory-intensive like 65xxx assemblers.<br /><br />The only reason I'm bothering to try your binaries is to see if the listing generation stuff has been fixed.  &quot;And some bug fixes along with improvements have been made since then&quot; isn't precise enough -- this is exactly what a ChangeLog or commit history is for.  I wouldn't need to try the binaries if I could see that + know <a href="https://github.com/vhelin/wla-dx/commits/master" class="postlink">exactly what commit and/or branch</a> your binaries were based off of.  :-)</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p139646"></a>
				<b class="postauthor">nicklausw</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p139646">Re: 16bit table indexing problem</a></div><div style="float: right;"><a href="./viewtopic.php?p=139646#p139646"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Mon Jan 19, 2015 4:20 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=6832_1420339767.png" width="89" height="90" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sat Jan 03, 2015 5:58 pm<br /><b>Posts:</b> 57<br /><b>Location:</b> ...
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">koitsu wrote:</div><div class="quotecontent"><div class="quotetitle">nicklausw wrote:</div><div class="quotecontent">Visual Studio and a bunch of other crap is needed. Don't use the binaries given on Ville's website, as those are somewhat outdated (and some bug fixes along with improvements have been made since then).<br /><br />By the assumption that you're using Windows, here's my binaries. Fresh off GitHub. Made them last month as I recall.<br /><br />EDIT: just remembered I also compiled them for Ubuntu, so I'll put those there aswell. Zip = windows, Tar = Ubuntu.</div><br />The Windows binaries you provide in the zip are native 64-bit binaries -- they will not work on 32-bit operating systems.  This is unlike the &quot;unofficial&quot; binary builds which are 32-bit.  I can't use these binaries (I do not run a 64-bit OS).  There's really no reason (that I can think of) for native 64-bit binaries for WLA DX on Windows (on *IX it's a different situation, as not everyone's OSes have 32-bit compatibility shims; for example my FreeBSD boxes are all pure 64-bit with absolutely no 32-bit binary support).  Windows 64-bit OSes provide 32-bit compatibility shims by default, so 32-bit is a better choice there for something non-memory-intensive like 65xxx assemblers.<br /><br />The only reason I'm bothering to try your binaries is to see if the listing generation stuff has been fixed.  &quot;And some bug fixes along with improvements have been made since then&quot; isn't precise enough -- this is exactly what a ChangeLog or commit history is for.  I wouldn't need to try the binaries if I could see that + know <a href="https://github.com/vhelin/wla-dx/commits/master" class="postlink">exactly what commit and/or branch</a> your binaries were based off of.  <img src="./images/smilies/icon_smile.gif" alt=":-)" title="Smile" /></div><br /><br />I just did the classic ol' <!-- m --><a class="postlink" href="https://github.com/vhelin/wla-dx/tarball/master">https://github.com/vhelin/wla-dx/tarball/master</a><!-- m -->, last day of last year. Also was not aware the binaries were 64 bit...will see if I can compile 32-bit.</div>

					
						<div class="postbody"><br />_________________<br /><strong><span style="text-decoration: underline">my stuff</span><br /><a href="http://www.smspower.org/Homebrew/Pong-SMS" class="postlink">pong - sega master system</a> <a href="https://github.com/NicklausW/pong-sms" class="postlink">[github]</a><br /><a href="http://www.smspower.org/Homebrew/Sudoku-SMS" class="postlink">sudoku - sega master system</a> <a href="https://github.com/NicklausW/sudoku-sms" class="postlink">[github]</a></strong></div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=6832"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p139647"></a>
				<b class="postauthor">Espozo</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p139647">Re: 16bit table indexing problem</a></div><div style="float: right;"><a href="./viewtopic.php?p=139647#p139647"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Mon Jan 19, 2015 4:44 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=6683_1410824489.gif" width="80" height="80" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Sep 15, 2014 4:35 pm<br /><b>Posts:</b> 905<br /><b>Location:</b> Nacogdoches, Texas
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Right now, the main problem isn't trying to convert the code to 16bit, because I need to first carry the information so when I do convert the code (If I can) part of the memory won't be erased. I'm about to show you this (don't worry! This doesn't take two hours.) because it makes 0 sense to me. I have the normal code:<br /><div class="attachtitle">Attachment:</div><div class="attachcontent">
			<a href="./download/file.php?id=2503&amp;mode=view"><img src="./download/file.php?id=2503&amp;t=1" alt="Metasprite1.png" /></a><br />
			<span class="gensmall">Metasprite1.png [ 22.87 KiB | Viewed 185 times ]</span>
		

		<br />
	</div><br />and I have the code that is exactly the same, except I added phy, phx, plx, and ply:<br /><div class="attachtitle">Attachment:</div><div class="attachcontent">
			<a href="./download/file.php?id=2504&amp;mode=view"><img src="./download/file.php?id=2504&amp;t=1" alt="Metasprite2.png" /></a><br />
			<span class="gensmall">Metasprite2.png [ 23.53 KiB | Viewed 185 times ]</span>
		

		<br />
	</div><br />The results...:<div class="attachtitle">Attachment:</div><div class="attachcontent">
			<a href="./download/file.php?id=2505&amp;mode=view"><img src="./download/file.php?id=2505&amp;t=1" alt="Results....png" /></a><br />
			<span class="gensmall">Results....png [ 24.59 KiB | Viewed 185 times ]</span>
		

		<br />
	</div><br />This has made me extremely frustrated. I 1. made sure I pushed and pulled the same amount of times and 2. pulled in the reverse order I pushed, but I doesn't work.<br /><br />Sorry for relying on you so heavily, koitsu, it's just that, like I said, I looked over it and still don't see any problems. One thing I wonder is if those php and plp things have to do with it... (They both start with P like phx or ply? <img src="./images/smilies/icon_razz.gif" alt=":P" title="Razz" /> )</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=6683"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p139648"></a>
				<b class="postauthor">Movax12</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p139648">Re: 16bit table indexing problem</a></div><div style="float: right;"><a href="./viewtopic.php?p=139648#p139648"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Mon Jan 19, 2015 5:20 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=4680_1345480112.png" width="100" height="33" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Jan 02, 2011 11:50 am<br /><b>Posts:</b> 465
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Pushing, pulling use the stack and so does JSR. (Unless there is something I don't know abut 65816, you are also PHP, then PLX.)</div>

					
							<br /><br />
							<span class="gensmall">Last edited by <a href="./memberlist.php?mode=viewprofile&amp;u=4680">Movax12</a> on Mon Jan 19, 2015 5:22 pm, edited 1 time in total.</span>
						<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=4680"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table width="100%" cellspacing="1" class="tablebg">
	<tr align="center">
		<td class="cat"><form name="viewtopic" method="post" action="./viewtopic.php?f=12&amp;t=12268&amp;start=15"><span class="gensmall">Display posts from previous:</span> <select name="st" id="st"><option value="0" selected="selected">All posts</option><option value="1">1 day</option><option value="7">7 days</option><option value="14">2 weeks</option><option value="30">1 month</option><option value="90">3 months</option><option value="180">6 months</option><option value="365">1 year</option></select>&nbsp;<span class="gensmall">Sort by</span> <select name="sk" id="sk"><option value="a">Author</option><option value="t" selected="selected">Post time</option><option value="s">Subject</option></select> <select name="sd" id="sd"><option value="a" selected="selected">Ascending</option><option value="d">Descending</option></select>&nbsp;<input class="btnlite" type="submit" value="Go" name="sort" /></form></td>
	</tr>
	</table>
	

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=12"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=12&amp;t=12268"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>2</strong> of <strong>9</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 132 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"><b><a href="#" onclick="jumpto(); return false;" title="Click to jump to pageâ€¦">Go to page</a> <a href="./viewtopic.php?f=12&amp;t=12268&amp;start=0">Previous</a>&nbsp;&nbsp;<a href="./viewtopic.php?f=12&amp;t=12268">1</a><span class="page-sep">, </span><strong>2</strong><span class="page-sep">, </span><a href="./viewtopic.php?f=12&amp;t=12268&amp;start=30">3</a><span class="page-sep">, </span><a href="./viewtopic.php?f=12&amp;t=12268&amp;start=45">4</a><span class="page-sep">, </span><a href="./viewtopic.php?f=12&amp;t=12268&amp;start=60">5</a><span class="page-dots"> ... </span><a href="./viewtopic.php?f=12&amp;t=12268&amp;start=120">9</a> &nbsp;<a href="./viewtopic.php?f=12&amp;t=12268&amp;start=30">Next</a></b></td>
		
	</tr>
	</table>

</div>

<div id="pagefooter"></div>

<br clear="all" />
<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=25">Other</a> &#187; <a href="./viewforum.php?f=12">SNESdev</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>
	<br clear="all" />

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat"><h4>Who is online</h4></td>
	</tr>
	<tr>
		<td class="row1"><p class="gensmall">Users browsing this forum: No registered users and 8 guests</p></td>
	</tr>
	</table>


<br clear="all" />

<table width="100%" cellspacing="1">
<tr>
	<td width="40%" valign="top" nowrap="nowrap" align="left"></td>
	<td align="right" valign="top" nowrap="nowrap"><span class="gensmall">You <strong>cannot</strong> post new topics in this forum<br />You <strong>cannot</strong> reply to topics in this forum<br />You <strong>cannot</strong> edit your posts in this forum<br />You <strong>cannot</strong> delete your posts in this forum<br />You <strong>cannot</strong> post attachments in this forum<br /></span></td>
</tr>
</table>

<br clear="all" />

<table width="100%" cellspacing="0">
<tr>
	<td><form method="get" name="search" action="./search.php"><span class="gensmall">Search for:</span> <input class="post" type="text" name="keywords" size="20" /> <input class="btnlite" type="submit" value="Go" /><input type="hidden" name="t" value="12268" />
<input type="hidden" name="sf" value="msgonly" />
</form></td>
	<td align="right">
	<form method="post" name="jumpbox" action="./viewforum.php" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	<table cellspacing="0" cellpadding="0" border="0">
	<tr>
		<td nowrap="nowrap"><span class="gensmall">Jump to:</span>&nbsp;<select name="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">

		
			<option value="-1">Select a forum</option>
		<option value="-1">------------------</option>
			<option value="24">NES / Famicom</option>
		
			<option value="2">&nbsp; &nbsp;NESdev</option>
		
			<option value="3">&nbsp; &nbsp;NESemdev</option>
		
			<option value="21">&nbsp; &nbsp;NES Graphics</option>
		
			<option value="6">&nbsp; &nbsp;NES Music</option>
		
			<option value="22">&nbsp; &nbsp;Homebrew Projects</option>
		
			<option value="10">&nbsp; &nbsp;Newbie Help Center</option>
		
			<option value="9">&nbsp; &nbsp;NES Hardware and Flash Equipment</option>
		
			<option value="28">&nbsp; &nbsp;Reproduction</option>
		
			<option value="11">&nbsp; &nbsp;FCdev</option>
		
			<option value="18">&nbsp; &nbsp;NESdev China</option>
		
			<option value="27">&nbsp; &nbsp;NESdev Middle East</option>
		
			<option value="19">&nbsp; &nbsp;NESdev International</option>
		
			<option value="25">Other</option>
		
			<option value="5">&nbsp; &nbsp;General Stuff</option>
		
			<option value="4">&nbsp; &nbsp;Membler Industries</option>
		
			<option value="12" selected="selected">&nbsp; &nbsp;SNESdev</option>
		
			<option value="20">&nbsp; &nbsp;GBDev</option>
		
			<option value="23">&nbsp; &nbsp;Other Retro Dev</option>
		
			<option value="15">&nbsp; &nbsp;Test Forum</option>
		
			<option value="26">Site Issues</option>
		
			<option value="13">&nbsp; &nbsp;phpBB Issues</option>
		
			<option value="14">&nbsp; &nbsp;Web Issues</option>
		
			<option value="16">&nbsp; &nbsp;nesdevWiki</option>
		

		</select>&nbsp;<input class="btnlite" type="submit" value="Go" /></td>
	</tr>
	</table>

	</form>
</td>
</tr>
</table>


</div>

<div id="wrapfooter">
	
	<span class="copyright">Powered by <a href="http://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Group
	</span>
</div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-61452025-2', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>