<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Toki Tori looks like a GBA game</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Toki Tori looks like a GBA game</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=20&amp;t=13173">http://forums.nesdev.com/viewtopic.php?f=20&amp;t=13173</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Sik</b> [ Sat Aug 22, 2015 9:28 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Toki Tori looks like a GBA game</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><em>In reply to <a href="http://forums.nesdev.com/viewtopic.php?p=153722#p153722" class="postlink">a post about Cannon Fodder</a></em><br /><br />Real hardware sounds better too.<br /><br />Also oh god I found a serious contender for the &quot;GBC game that looks like GBA&quot; place<br /><a href="https://youtu.be/KTzRpHrXS_w?t=27" class="postlink">Toki Tori</a>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Shonumi</b> [ Sun Aug 23, 2015 7:17 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: GBjam Pirate Pop</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Sik wrote:</div><div class="quotecontent">Real hardware sounds better too.<br /><br />Also oh god I found a serious contender for the &quot;GBC game that looks like GBA&quot; place<br /><!-- m --><a class="postlink" href="https://youtu.be/KTzRpHrXS_w?t=27">https://youtu.be/KTzRpHrXS_w?t=27</a><!-- m --></div><br /><br />Ah, good old Toki Tori. The separate far background is an impressive trick. I've only seen it done in this game and Shantae, as far as retail GBC games are concerned.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>nicklausw</b> [ Sun Aug 23, 2015 9:43 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: GBjam Pirate Pop</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Shonumi wrote:</div><div class="quotecontent">The separate far background</div><br />Could be wrong but I think that's called parallax scrolling. (The GBC can do it of all handhelds, who knew?)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Sun Aug 23, 2015 10:06 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: GBjam Pirate Pop</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Parallax scrolling is when there are multiple layers scrolling at different speeds to simulate depth, but this effect in particular is special because it has overlapping layers in a system that only has 1 background layer. When the layers don't have overlapping details, parallax scrolling is just a cheap effect that can be achieved with a simple mid-screen scroll change, but with overlapping details you have to manipulate the patterns according to the movement of the camera. There's nothing revolutionary about this trick being used in a GBC game though, seeing as several NES games used it, including <a href="https://youtu.be/QLxXmnqaJtw?t=9m53s" class="postlink">Battletoads</a>.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Mon Aug 24, 2015 8:43 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: GBjam Pirate Pop</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />It's a lot easier on the GBC than on the NES or original Game Boy because the GBC has <a href="http://bgb.bircd.org/pandocs.htm#lcdvramdmatransferscgbonly" class="postlink">CHR HDMA</a>, which copies 16 bytes to video memory in every hblank.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Sik</b> [ Mon Aug 24, 2015 9:34 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: GBjam Pirate Pop</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Was looking closer (including other levels) and the parallax layer seems to be <em>64×64</em> (Shantae's is just 8×8, people!). How the heck did they pull off <em>that</em>? Only thing that comes to my mind is to have 8 copies (for each of the possible pixel-level tile rotations) and then do several DMAs, and that'd require 8KB of ROM space (assuming it's uncompressed), although only 1KB of CHR-RAM. That may have been feasible, though...<br /><br />Still, <em>yikes</em>.<br /><br />EDIT: oh, and just to put it into context: on the Mega Drive I can pull off 32×32 software scrolling in about 34 scanlines (out of 262). That's with a 68000 manipulating an entire 32-pixel row at once (when I do crazy stuff I take it to the extreme :v). Here it's a Z80 (admittedly a sorta fast one) handling <em>four times as many pixels</em>, and on a planar system. So huh yeah, some clever trickery is going on. The method I mentioned is pretty much the first one that came to my mind that seems feasible (and it wastes space, but I guess 8KB by that time wasn't much of a problem, and there's only a handful of different backgrounds).<br /><br />So yeah, it's actually kind of revolutionary just because of the sheer size of the parallax. Now to figure out how Prehistorik Man does it (since the parallax is infinitely tall), but that one may be cheating more heavily, especially since it's only 32px wide, and a huge chunk seems to be either blank or horizontal stripes (only a tiny portion is an actual bitmap).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dwedit</b> [ Mon Aug 24, 2015 9:05 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: GBjam Pirate Pop</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The GBC has no problem doing a 1K DMA transfer.  Transfer speed is 1 byte per CPU cycle.  It can either transfer 16 bytes during HBLANK time for 144 scanlines (up to 2304 bytes), or transfer more during vblank.  Vblank period is about 9000 cycles long.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Sik</b> [ Mon Aug 24, 2015 9:34 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: GBjam Pirate Pop</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The issue is more the ROM space usage just for that =P (how big were GBC games in general, anyway? also this is a late GBC game too, being from 2001)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Mon Aug 24, 2015 10:16 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: GBjam Pirate Pop</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Sik wrote:</div><div class="quotecontent">The issue is more the ROM space usage just for that</div><br />In some cases it makes more sense to rotate the pattern in RAM at run time rather than store all the rotations in ROM.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Sik</b> [ Tue Aug 25, 2015 5:46 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: GBjam Pirate Pop</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />But that'd be too slow, unless you mean rotating at load time and keeping the rotated versions cached in RAM. How much RAM does the GBC have, anyway? (I know it's more than the GB, that's for sure)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Tue Aug 25, 2015 6:43 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: GBjam Pirate Pop</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Sik wrote:</div><div class="quotecontent">But that'd be too slow</div><br />Yes, but it's not like the gameplay in Toki Tori is incredibly complex... I bet they have the CPU time to do the rotation at run time.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">unless you mean rotating at load time and keeping the rotated versions cached in RAM</div><br />I don't. A 64x64-pixel area has 4096 possible rotations, times 1KB for the 64 tiles equals 4MB of RAM.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">How much RAM does the GBC have, anyway? (I know it's more than the GB, that's for sure)</div><br />I think it's 32KB.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Sik</b> [ Tue Aug 25, 2015 6:54 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: GBjam Pirate Pop</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent">I don't. A 64x64-pixel area has 4096 possible rotations, times 1KB for the 64 tiles equals 4MB of RAM.</div><br />Or you could split it into 16 DMAs and only have to keep 8 rotations, for a grand total of 8KB.<br /><br />But now that I think about it though the GBC's DMA is aligned to 16 byte addresses, right? So that ruins the fine vertical scrolling part... (that'd still be way more feasible to rotate with the Z80 than doing the full scrolling, because it's just moving bytes around instead of manipulating them - bit rotations are slow since they happen one bit at a time only).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dwedit</b> [ Tue Aug 25, 2015 7:06 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: GBjam Pirate Pop</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />GBC games of this era were huge, like 2MB minimum.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Tue Aug 25, 2015 8:10 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: GBjam Pirate Pop</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Toki Tori in particular is 1MB.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Tue Aug 25, 2015 8:17 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: GBjam Pirate Pop</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Dwedit wrote:</div><div class="quotecontent">GBC games of this era were huge, like 2MB minimum.</div><br />And anybody who wanted to make a smaller game had to pad it out with GIFs and stuff. <em>The Adventures of Elmo in Grouchland</em> is 2 Mbit (256 KiB), the same size as <em>Battletoads</em>, but according to <a href="https://tcrf.net/The_Adventures_of_Elmo_in_Grouchland_%28Game_Boy_Color%29" class="postlink">its TCRF article</a>, Nintendo wouldn't manufacture anything smaller than 8 Mbit (1 MiB) anymore.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>