<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Famitracker Plugins: sound driver + demo rom, text exporter</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Famitracker Plugins: sound driver + demo rom, text exporter</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=6&amp;t=6677">http://forums.nesdev.com/viewtopic.php?f=6&amp;t=6677</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>2</strong> of <strong>4</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>GradualGames</b> [ Sat Dec 11, 2010 6:26 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The famitracker plugin system should now, I think, be usable and accessible. You can compile a plugin with g++ under cygwin at least, but any win32 compiler should work fine. The interface consists of pure C functions. There are no MFC dependencies.
<br />
<br />See the top of the thread for a snapshot download for anyone interested in playing with the plugin system.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>cpow</b> [ Sat Dec 11, 2010 8:20 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Banshaku wrote:</div><div class="quotecontent">New light programming should be made in .net anyway and with the included framework, there is no reason to not do so.</div>
<br />
<br />Barf!
<br />
<br />&lt;Sorry...just couldn't resist!&gt;

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>GradualGames</b> [ Sun Dec 12, 2010 10:05 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />At the top of this thread, I've posted a link to a compiled ROM demo of the example sound engine, and the original famitracker song from which the data used in the ROM was exported. Press "A" to hear a sound effect.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>clueless</b> [ Sun Dec 12, 2010 11:00 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Gradualore wrote:</div><div class="quotecontent">I wouldn't mind sending a binary of the example plugin dll to anybody interested. Just send me a pm.<br /><br />Actually, <a href="https://docs.google.com/leaf?id=0B1221s70EZmYYWQ2YzU3MzgtNzEzZS00YWRlLWI3MjYtYWI1MWE3NGE5ZmZm&amp;hl=en&amp;authkey=CLqDg5wI" class="postlink">here it is.</a> Just drop it in a folder called "plugins" next to famitracker.exe. Then, the export dialog should list "SoundEngine" as one of the file formats.</div>
<br />
<br />
<br />I'm having trouble with Famitracker's export functionality.
<br />
<br />I've downloaded Famitracker 0.3.6 beta 4 to my Windows XP PC.
<br />I created a directory called "plugins" at the same level as FT.
<br />I've installed both export plugins mentioned in this thread.
<br />I saved your "example_song.ftm" to my desktop.
<br />I fire up FT, and open up your FTM file.
<br />
<br />Now I look in all of the menus and I can't find any that read "export".
<br />The "save as" only lets me select "FTM" file types.
<br />
<br />What have I done wrong?
<br />
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">C:\&gt;dir C:\opt\famitracker /s/b<br /><br />C:\opt\famitracker\FamiTracker.chm<br />C:\opt\famitracker\FamiTracker.exe<br />C:\opt\famitracker\Plugins<br />C:\opt\famitracker\Plugins\SoundEngineExporter.dll<br />C:\opt\famitracker\Plugins\TextExporter.dll<br /></div>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Shiru</b> [ Sun Dec 12, 2010 11:02 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />It is in File&gt;Create NSF (in the Type of file dropdown list).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>clueless</b> [ Sun Dec 12, 2010 11:05 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Shiru wrote:</div><div class="quotecontent">It is in File&gt;Create NSF (in the Type of file dropdown list).</div>
<br />
<br />I must have done something else wrong.  Under "type of file", my only options are NSF, NES, BIN, PRG.
<br />
<br />EDIT: Procmon shows that FT did indeed open the two DLLs in the plugins directory.  Procexp shows that they are loaded into FT's address space.
<br />
<br />WTF: My computer hates me.  The export options are available now.  Damned Heisenbugs.
<br />
<br />I apologize for the trouble.
<br />
<br />EDIT2: I take it back.  The options are missing again.  WTF!!!!  The export options are only listed when I monitor the process with ProcMon.
<br />
<br />My normal user account lacks admin rights (principle of least privilege).  I am not sure what is going on at the moment, but I suspect that it is a file permissions issue on my end.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>clueless</b> [ Sun Dec 12, 2010 11:19 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I've figured it out.
<br />
<br />Famitracker looks for the "plugins" directory relative to the processes current working directory (which is normally whatever directory contains the FTM file that I double-clicked on from Windows Explorer).
<br />
<br />Famitracker should instead use the win32 api "GetModuleFileName (NULL, ....)", then strip the EXE off with "PathRemoveFileSpec", then append "Plugins" with "PathAppend" (or at least, that is how I would do it).
<br />
<br />I suppose I'll create an account on FT's forums and post a bug report over there.
<br />
<br />EDIT: <a href="http://famitracker.shoodot.net/forum/posts.php?id=1511" class="postlink">http://famitracker.shoodot.net/forum/posts.php?id=1511</a>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>GradualGames</b> [ Sun Dec 12, 2010 1:24 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />*edit* You're quite right. Yes, that should be fixed. Thanks for the bug report. I probably never found this because I always run famitracker first, then open a file.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>GradualGames</b> [ Sun Dec 12, 2010 1:57 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />@clueless, this has been fixed, using your suggestion. Thanks! I'm not sure if this is quite drastic enough to issue yet another development snapshot; but let me know if you'd like one anyway. *edit* Nevermind, here's a second build from today with a fix for the bug clueless found: <a href="https://docs.google.com/leaf?id=0B1221s70EZmYYzkzYzFlYTgtZDc2NS00N2QwLWIwYjctNzVkMmExNDgyMzEy&amp;sort=name&amp;layout=list&amp;num=50" class="postlink">Dev snapshot, December 12th 2010, build 2</a>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>clueless</b> [ Sun Dec 12, 2010 2:13 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Gradualore,
<br />
<br />Nope, I'm good for now.  Thanks for the offer though.
<br />
<br />What software license do you plan to attach to your own music player (ca65 src)?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>GradualGames</b> [ Sun Dec 12, 2010 2:17 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I haven't given much thought to a license. I intended it to be an example so as far as I am concerned it is public domain and you can do whatever you like with it, improve it, etc.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>GradualGames</b> [ Fri Dec 24, 2010 10:17 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />DPCM support has been added to the plugin system. Shiru's FamiTone player looks to be fulfilling what I wanted for the plugin system. There is a development snapshot available at the top of the thread as well as a link to Shiru's FamiTone player thread.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>ManicGenius</b> [ Sun Dec 26, 2010 10:37 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />This thing has the same problem it always has for me, the plugin shows up on the menu for Create NSF... but... it won't export anything. Just closes the save dialog and sits there like nothing happened.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>GradualGames</b> [ Mon Dec 27, 2010 11:03 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Thanks for posting about your problem, without feedback this will not get off the ground. PM coming.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>GradualGames</b> [ Tue Jan 25, 2011 12:50 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />ManicGenius's problem was corrected by installing the Visual Studio 2008 runtime. We believe that this is only a problem in how I compiled the example binary for the plugin. 
<br />
<br />Jsr has released the new Famitracker v 0.3.6 on the famitracker website. He updated a link to the latest source for the example plugin and driver, however there is not yet a binary available. I will make one available soon and will update this thread accordingly.
<br />
<br />According to Jsr there are plans to create a "plugins" section on FT's wiki which would list exporter plugins developed for famitracker. Currently there are two: the example exporter/driver, and Shiru's text exporter/FamiTone.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>2</strong> of <strong>4</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>