<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - 240p test suite</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">240p test suite</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=22&amp;t=13394">http://forums.nesdev.com/viewtopic.php?f=22&amp;t=13394</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>8</strong> of <strong>12</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Tue Jul 26, 2016 6:02 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: 240p test suite</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I barely made it fit.<br /><br />0.12 (2016-07-26)<br /><ul><li>Manual lag test: Result screen background is black even if last press is Marvelous (0.09 regression; reported by Quietust)</li><li>Stopwatch: Blue in clock face is darker to improve visibility on black-and-white TVs (requested by retrorgb)</li><li>Stopwatch: Draws frame number with sprites to remain visible through composite out of Hi-Def NES (requested by retrorgb)</li><li>Stopwatch: Up to show scanline ruler (requested by retrorgb) </li><li>Grid: Fixed reversal of red and white colors</li><li>Help: Doesn't draw page numbers for 1-page help documents </li></ul><br />I think these Hi-Def NES-related new features are the last features I can add without either adding trampolines or expanding the <em>Jeopardy!</em>-donor build to 128K. It was so tight that I had to reword a few other help pages for conciseness.

		
			<br clear="all" /><br />

			<table class="tablebg" width="100%" cellspacing="1">
			<tr>
				<td><b class="genmed">Attachments: </b></td>
			</tr>
			
				<tr>
					<td>
			<span class="genmed">
				<img src="./styles/subsilver2/imageset/icon_topic_attach.gif" width="14" height="18" alt="" title="" /> 
				<a href="./download/file.php?id=6361">240pee-0.12.zip</a> [182.38 KiB]
			</span><br />
			<span class="gensmall">Downloaded 238 times</span>
		

		<br />
	</td>
				</tr>
			
			</table>
		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>retrorgb</b> [ Wed Jul 27, 2016 6:13 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: 240p test suite</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Wow, that's awesome!  That <em>should</em> do the trick, as all we'd need is the frames - Seconds would be nice too, but that's still enough to use the Hi-Def NES as a true lag tester for flat-screen TV's!!  Thanks so much for adding this!  I'll bring it up on the podcast and add a page on my site that describes exactly what people would need to do!<br /><br /><img src="http://www.retrorgb.com/files/240pee012-stopwatch.jpg" alt="Image" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>mikejmoffitt</b> [ Wed Jul 27, 2016 1:13 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: 240p test suite</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">retrorgb wrote:</div><div class="quotecontent">Wow, that's awesome!  That <em>should</em> do the trick, as all we'd need is the frames - Seconds would be nice too, but that's still enough to use the Hi-Def NES as a true lag tester for flat-screen TV's!!  Thanks so much for adding this!  I'll bring it up on the podcast and add a page on my site that describes exactly what people would need to do!<br /><br /><img src="http://www.retrorgb.com/files/240pee012-stopwatch.jpg" alt="Image" /></div><br /><br />This is actually a really great feature-add. There aren't a lot of devices available to test a 1080p TV against a 480i CRT, both running at native resolution in the best-possible circumstances.<br /><br />It can conversely act as (additional) tangible proof that the Hi-Def NES doesn't introduce more than a few lines of latency.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>rainwarrior</b> [ Wed Jul 27, 2016 3:21 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: 240p test suite</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Suggestions for the lag test, pardon me if they're a repeat, I didn't reread the whole thread to check:<br /><br />The lag test discards all early presses. This biases the results toward lag by half the imprecision of the human user. The lag itself should be consistent, but human precision varies from tester to tester (and condition of the tester). Since you don't know in advance how precise the user is, the amount of bias is unknown, and can't be properly corrected for. I think early results should be included to balance out this bias.<br /><br />I also think displaying an indication of how &quot;good&quot; your timing was improperly biases the results. No matter the lag, the user can always anticipate to reach approximately &quot;marvelous&quot; timing, and labelling it this way gives them incentive to try to do this. It's no longer a measure of the hardware lag, but of their ability to anticipate, unless they can mentally ignore this measure of success being presented to them. The documentation mentions &quot;if you are skilled at rhythm games&quot;-- rhythm game skill means exactly that you can learn to anticipate and hide lag, which is the opposite of what this test should measure!<br /><br />Ideally the user should be blind to their results as their coming in. I would just display &quot;X results received&quot; as it counts up to 10, and if you're rejecting &quot;bad&quot; results, bad should just be sufficiently away from the target (e.g. +/-20 frames away), not the early results.<br /><br />Additionally, audio lag and picture lag should be measured separately. The user should only be using the audio cue, or only the visual cue; using them both at once is a problem if they're not the same. Thankfully there is the option to turn the audio off, and you can close your eyes to do an audio-only test, but it would seem to be more appropriate to have 3 options: picture only (to test), audio only (to test), picture+audio (to watch, same goal as &quot;audo synch test&quot;).<br /><br />The &quot;flash&quot; visual cue is a good cue for picture lag and should happen whether or not audio is on. Why is it disabled when you disable audio? (This is very strange to me.) Randomness on the other hand is not applicable to an audio-only test (again would reduce it to a test of the human, not a test of the lag); it should just be trying to match a steady beat. Randomness is good with the visual test though.<br /><br /><br />Suggestion for sound test:<br /><br />Periodic noise (and regular noise for comparison), since some revisions of the Famicom are missing it.<br /><br /><br />Suggestions for documentation:<br /><br />START seems to pause a test and enter its documentation, but it also enters a test and exits its documentation. I found this a little confusing because I didn't know what START's function was, and repeated presses end up doing a different thing each time (it enters a test, but can't exit it, but it enters documentation and exits it). Not really an issue once you're oriented, but maybe it would be more intuitive if START from the menu to you directly to the documentation (and exiting returned to either the menu or the test, depending on where it was launched from)?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Wed Jul 27, 2016 5:26 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: 240p test suite</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Trampoline get.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">The documentation mentions &quot;if you are skilled at rhythm games&quot;</div><br />The original (<a href="https://github.com/ArtemioUrbina/240pTestSuite/blob/master/240psuite/SNES/240pSuite/help.c" class="postlink">source code</a>) also mentions &quot;rhythm&quot;. Perhaps I misinterpreted something.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">START seems to pause a test and enter its documentation, but it also enters a test and exits its documentation.</div><br />It's at least consistent with <em>Kirby's Adventure</em>, which uses Start to enter or exit documentation.<br /><br />I've tried to make the behavior reflect that of the versions of the suite for other consoles, particularly the version for Super NES because that's the other console that I leave hooked up. Toward that end, is it OK to pass your feedback on to <a href="http://shmups.system11.org/viewtopic.php?f=6&amp;t=35554&amp;start=390" class="postlink">the development topic for other versions</a>? And if so, would linking or quoting be better?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>rainwarrior</b> [ Wed Jul 27, 2016 7:07 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: 240p test suite</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I'm not familiar with other versions of the test, but I don't mind if you want to link to or quote my suggestions.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Thu Aug 04, 2016 3:53 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: 240p test suite</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I passed on your suggestions, and <a href="http://shmups.system11.org/viewtopic.php?p=1201438#p1201438" class="postlink">Artemio replied</a>. I've implemented two (noise in sound test and fix inconsistent Start behavior). The manual lag test changes will wait for what Artemio ends up deciding to do.<br /><br />This is largely a behind-the-scenes reorganization of how graphics data is loaded, though it includes some requested changes.<br /><br />0.13 (2016-08-04)<br /><ul><li>Reorganized most compressed graphics into &quot;files&quot;</li><li>Moved compressed graphics files into banks 0 and 1</li><li>Made separate BNROM build, with graphics decompression code behind interbank call gates</li><li>Expanded usable portion of ROM from 48K to 64K</li><li><tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">make clean</tt> is more thorough</li><li>Sound test includes noise channel in hiss and buzz mode (requested by rainwarrior)</li><li>Start on main menu always opens About (SNES parity; reported by Artemio)</li></ul>

		
			<br clear="all" /><br />

			<table class="tablebg" width="100%" cellspacing="1">
			<tr>
				<td><b class="genmed">Attachments: </b></td>
			</tr>
			
				<tr>
					<td>
			<span class="genmed">
				<img src="./styles/subsilver2/imageset/icon_topic_attach.gif" width="14" height="18" alt="" title="" /> 
				<a href="./download/file.php?id=6415">240pee-0.13.zip</a> [183.46 KiB]
			</span><br />
			<span class="gensmall">Downloaded 307 times</span>
		

		<br />
	</td>
				</tr>
			
			</table>
		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>rainwarrior</b> [ Sun Aug 28, 2016 1:38 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: 240p test suite</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Is there any way to make $0D in PLUGE / etc. an option, so that these tests aren't useless on a TV that loses picture due to it? (Though, the pattern used does not seem to negatively affect any device I have available to test, so this is only a speculative question for me.)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Mon Aug 29, 2016 9:00 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: 240p test suite</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Solid color screen uses $0D only if you move to black and press A. IRE uses $0D only if you move to the very bottom of the range. PLUGE uses $0D, and the entire point of PLUGE (<a href="https://en.wikipedia.org/wiki/Picture_line-up_generation_equipment" class="postlink">Wikipedia</a>) is to show a strip of &quot;super-black&quot; in contrast with a gray ramp. The approximation of <a href="https://en.wikipedia.org/wiki/SMPTE_color_bars" class="postlink">SMPTE EG 1-1990</a> also includes a mini-PLUGE at bottom right. I guess I could mention the possibility to lose sync on some TVs in the help page, so long as the user knows to press Start to see it.<br /><br />And while I'm at it, I might as well incorporate the NTSC chroma-to-luma crosstalk test from <a href="http://forums.nesdev.com/viewtopic.php?p=24631#p24631" class="postlink">tvpassfail</a> (with the red/green/blue diagonal stripes).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Wed Dec 28, 2016 10:26 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: 240p test suite</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I have a hypothesis about 240p to 480p line doublers: It might be possible to use a 480p CRT if the scanline darkening is set high enough and the doubler has no more than a line or two of lag. So to encourage testing this hypothesis, I plan to add the 1-gun test screen from Zap Ruder into the version of the test that <a href="https://forums.nesdev.com/viewtopic.php?p=171165#p171165" class="postlink">I've been invited to submit to the compo</a>.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Fri Dec 30, 2016 10:35 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: 240p test suite</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Sorry for the triple post. This will probably be the last update I release this year, as I've been busy watching Windows tech support scam baiting videos.<br /><br />0.14 (2016-12-31)<br /><ul><li>Added chroma crosstalk test for NTSC</li><li>Added basic Zapper test based on Zap Ruder</li><li>Added audio lag test using Famicom microphone (caution: untested on hardware)</li><li>PLUGE, SMPTE, Solid color screen, IRE: Help page warns about super-black signal causing distortion (requested by rainwarrior)</li><li>Some help copyedits</li><li>Documented interbank call gate mechanism</li></ul><br />Once this version gets tested, the next thing I plan on is refactoring display of 2- and 3-digit decimal numbers throughout the program.

		
			<br clear="all" /><br />

			<table class="tablebg" width="100%" cellspacing="1">
			<tr>
				<td><b class="genmed">Attachments: </b></td>
			</tr>
			
				<tr>
					<td>
			<span class="genmed">
				<img src="./styles/subsilver2/imageset/icon_topic_attach.gif" width="14" height="18" alt="" title="" /> 
				<a href="./download/file.php?id=7447">240pee-0.14.zip</a> [191.06 KiB]
			</span><br />
			<span class="gensmall">Downloaded 187 times</span>
		

		<br />
	</td>
				</tr>
			
			</table>
		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>ccovell</b> [ Sun Jan 01, 2017 4:55 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: 240p test suite</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">Sorry for the triple post. <br />0.14 (2016-12-31)<br />[*]Added audio lag test using Famicom microphone (caution: untested on hardware)</div><br /><br />I tested this on my Twin Fami, and a couple obvious problems are apparent:<br />Did you know that all models of the Famicom pass the microphone input, amplified, through the TV speaker/ audio output?  So, merely bringing the Fami close to a CRT TV / speaker set causes immediate squealing due to mic overload &amp; feedback.  I tried it on an LCD TV, and there is a bit of delay &amp; echo, but the feedback is here as well.<br /><br />The feedback is far louder than the Fami's PSG output, and the mic detection circuit in the Fami hardware is a little deaf, so there's no way to test the Fami audio-&gt; mic with such feedback ruining everything.  Users will have to open up their Famis to solve this, so I don't think this is a very useful test.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Sun Jan 01, 2017 10:05 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: 240p test suite</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />But as you <a href="http://forums.nesdev.com/viewtopic.php?p=115375#p115375" class="postlink">mentioned earlier</a>, a Titler was more sensitive than a Twin in a different test. I guess we need someone with a red and white Famicom to test this.<br /><br />And perhaps the kind of person who would install an RGB or HDMI output mod is also the kind of person who would bridge a resistor.<br /><br />As for feedback, I'll need to ask users to turn down the mic's volume just below where feedback starts to happen. That's also why I added a few frames' delay between pressing A and the tone: to distinguish feedback from a valid result.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>ccovell</b> [ Sun Jan 01, 2017 4:53 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: 240p test suite</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">As for feedback, I'll need to ask users to turn down the mic's volume just below where feedback starts to happen.</div><br /><br />You've got a catch-22 here.  Lowering the slider on the P2 controller decreases the input to the mic, ie: its sensitivity overall.  It will never detect a PSG sound when its own amplified feedback is louder at any combination of volume &amp; slider.  I think so, anyway.  Perhaps someone with a regular red &amp; white Famicom can verify this.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>zzo38</b> [ Sun Jan 01, 2017 4:59 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: 240p test suite</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">ccovell wrote:</div><div class="quotecontent"><div class="quotetitle">tepples wrote:</div><div class="quotecontent">As for feedback, I'll need to ask users to turn down the mic's volume just below where feedback starts to happen.</div><br /><br />You've got a catch-22 here.  Lowering the slider on the P2 controller decreases the input to the mic, ie: its sensitivity overall.  It will never detect a PSG sound when its own amplified feedback is louder at any combination of volume &amp; slider.  I think so, anyway.  Perhaps someone with a regular red &amp; white Famicom can verify this.</div>I can see it from the schematic. As far as I know there is no mapper with the function to mute the audio; I have suggested such a thing before (and you said apparently is not so useful, but now we can see that actually it is useful) and if it existed then that would help if it also has expansion audio. Of course such thing would require such a cartridge to be built in order to test it, but that will be possible.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>8</strong> of <strong>12</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>