<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Sorry for the recent downtime</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Sorry for the recent downtime</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=14&amp;t=7026">http://forums.nesdev.com/viewtopic.php?f=14&amp;t=7026</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>koitsu</b> [ Sat Oct 09, 2010 12:47 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Sorry for the recent downtime</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I wanted to take a moment to apologise to site visitors over the past 24-48 hours.  Some of you may have seen periods of time where the site (any Parodius-hosted site for that matter) wasn't responding -- or last night/today, might have responded but just sat there.
<br />
<br />We performed some OS upgrades on Thursday and have been experiencing an <a href="http://lists.freebsd.org/pipermail/freebsd-fs/2010-October/009726.html" class="postlink">ZFS + OS interoperability bug of some sort</a> (we're not the only one).  I mitigated the issue by removing use of ZFS on FreeBSD and replacing it with gmirror.  I simply cannot tolerate such problems (gotta keep things up and running!), hence the mitigation.
<br />
<br />Anyway, enough excuses aside -- just wanted to apologise for the interruptions and so on.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>blargg</b> [ Sat Oct 09, 2010 1:49 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />This glimpse behind the scenes shows that it's not just keeping the server connected to electricity and the internet, as it seems to people like me who are ignorant of how web servers operate. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Sat Oct 09, 2010 2:27 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">as it seems to people like me who are ignorant of how web servers operate.</div>
<br />Count me as one of them. But there is people around using the Internet who doesn't even have an idea about what a server is.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Banshaku</b> [ Sat Oct 09, 2010 4:58 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The joy and pain of upgrading server... So there was a reason behind the downtime and not just some some admin "fairies" tripping on a power cord at the DC <img src="./images/smilies/icon_wink.gif" alt=";)" title="Wink" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dwedit</b> [ Sat Oct 09, 2010 7:32 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Is ZFS worth using yet?  I've just been using ReiserFS up to now.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>cartlemmy</b> [ Sat Oct 09, 2010 8:25 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Damn admin faeries, they ruin everything.
<br />
<br />Seriously though, it's good to see an explanation for down time. This is quickly becoming my favorite message board.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>koitsu</b> [ Sat Oct 09, 2010 8:36 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Banshaku wrote:</div><div class="quotecontent">The joy and pain of upgrading server... So there was a reason behind the downtime and not just some some admin "fairies" tripping on a power cord at the DC ;)</div><br /><br />I'm the only one who has access to the datacenter (I have two other folks who help me out with work, but they can't get in without me physically being there).  So if someone tripped on a cable, it was probably me!  ;-)<br /><br />Thursday night's scheduled maintenance was an OS bare-metal install -- and I did this 100% remotely (2nd time I've done such; probably why I've written a <a href="http://jdc.parodius.com/freebsd/pxeboot_serial_install.html" class="postlink">fairly thorough document</a> on the procedure).  I ran into some snags (reboot, "Oh wait a minute, crap, this isn't going to work, I forgot to..."), which caused me to go into a frenzy/angry panic ("I'm going to have to go the datacenter to fix this"), followed by pure anger because I couldn't find my datacenter badge or cage key.  Since I'm in the process of moving, all sorts of boxes and crap are scattered throughout my flat -- so I literally tore the place up (it looked like a typhoon hit it, and I'm in no way exaggerating), yadda yadda... I was super upset/irritated.  Only until I calmed down did I realise I didn't have a badge/key any longer because the datacenter had upgraded to biometric (hand) scan and a pin + cage keypad locks.  Sigh.<br /><br />After I got things back up and working -- with ZFS in the picture -- I went to bed and thought all was well.  Twelve hours later (Friday evening) I get a highly erratic call from our junior admin who didn't really do a good job of troubleshooting the problem and just wanted to reboot the box (which didn't work because of the actual problem, some kernel thread/operation was flat out hung), and he didn't have access to the remote rebooter (that's my fault).  I was groggy given that I had taken Nyquil + melatonin to sleep.<br /><br />Once he described the problem slowly, I was like "...this sounds familiar, I think someone on freebsd-fs posted something like this recently".  Yup, the situation we experienced was identical to another guy running on completely different hardware, totally different software configuration, etc..  His workaround was to remove ZFS from the picture.<br /><br />So that's exactly what we did (migrated from ZFS to using a block/sector-level RAID-1 implementation called gmirror, with standard UFS2 filesystems in use).  System's been stable so far, with no signs of processes being deadlocked waiting for internal ZFS operations to complete (since ZFS isn't in use).<br /><br />And no, none of this is a hardware problem or OS/hardware incompatibility.  It's purely a FreeBSD 8.1-STABLE software bug, and absolutely 100% related to ZFS.<br /><br /><div class="quotetitle">Dwedit wrote:</div><div class="quotecontent">Is ZFS worth using yet? I've just been using ReiserFS up to now.</div>
<br />
<br />ZFS is worth using only if you're running on Solaris or OpenSolaris.  Linux's ZFS port uses FUSE, which means performance is going to suck.  There are also two ZFS kernel-level ports (super-duper-insane-patches) in progress, but I don't know anything about them.  ZFS on the Solaris' literally just works -- no tuning, nada.  On FreeBSD, it's a complete nightmare, as this whole situation proves.
<br />
<br />At my day/night job, we use Solaris 10 extensively across thousands of machines (all different hardware revisions/models/specs), with absolutely zero problem.  It's wonderful.
<br />
<br />As for ReiserFS, I have no personal experience with it, but I do have a colleague who has literally had to hex edit a hard disk to recover pieces of a ReiserFS filesystem that exploded horribly due to some software bug.  He could comment on its stability.  If I was using Linux, I'd probably stick to using md and nothing more (I'm a KISS admin).  However, on Linux, Btrfs is looking very, very nice though, and will definitely give ZFS a run for its money.  Thumbs up to positive evolution that keeps it simple.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Sat Oct 09, 2010 11:15 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Dwedit wrote:</div><div class="quotecontent">Is ZFS worth using yet?  I've just been using ReiserFS up to now.</div>This is totally a tangent. Sorry...
<br />
<br />Years ago, when all the journalling filesystems were being pushed into the linux kernel, my friends and I went and did the legwork to figure out what was best one at the time. Conclusions then:<ul>* ReiserFS3 was occasionally fastest, but the most likely to explode and eat all your data. (ReiserFS4 was going to be unequivocally fastest, but also basically guaranteed to explode and eat your data)<br />* XFS was best at big files and good otherwise<br />* JFS was slowest for most use cases but unlike the rest didn't degrade at gazillions of files in one directory (I think?)<br />* ext3 was backwards compatible and the only option that supported journalling of data (which saves you in case of a power outage)</ul>Since then, ZFS, ext4, and btrfs all appeared and seem better. (e.g. ext4 added a number of features from XFS and research papers) and meanwhile, XFS seems to have bit rotted a little. When I install my new machine, I'm just going to use ext4 because I suspect btrfs won't be finalized yet.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Sun Oct 10, 2010 5:30 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">lidnariq wrote:</div><div class="quotecontent">ReiserFS3 was occasionally fastest, but the most likely to explode and eat all your data. (ReiserFS4 was going to be unequivocally fastest, but also basically guaranteed to explode and eat your data)</div><br />So hide your data, hide your kids, <a href="http://en.wikipedia.org/wiki/Hans_Reiser" class="postlink">hide your wife</a>. (And <a href="http://en.wikipedia.org/wiki/Bed_Intruder_Song" class="postlink">hide your husband</a>.) As they say on Slashdot, that's one killer file system.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Since then, ZFS, ext4, and btrfs all appeared and seem better.</div>
<br />I haven't had any problems with ext4 on my laptop running Ubuntu Lucid. (Still waiting for Maverick Meerkat McCain to hit mirrors.) But then servers tend to put different demands on file systems.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>