<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Does anyone have the files that come with Gbaguy's tutorial</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Does anyone have the files that come with Gbaguy's tutorial</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=10&amp;t=3803">http://forums.nesdev.com/viewtopic.php?f=10&amp;t=3803</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>sebanonis</b> [ Fri Dec 28, 2007 7:48 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Does anyone have the files that come with Gbaguy's tutorial</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I am trying to learn NES programming by reading Gbaguy's tutorial. I know from browsing the forum it is not the ideal doc to learn from. But I am stuck with using a bmp file as background and I can't make headways out of the other tutorials (NES ASM Tutorial - it doesn't cover using a BMP as background; joker21's 8-bit beast doc; etc)
<br />
<br />However the links to the files used in the tutorial are broken. So I was wondering if anyone has copies of those files and would be willing to provide them. 
<br />
<br />TIA.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Celius</b> [ Fri Dec 28, 2007 9:04 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I just went to the page and was able to download it.
<br />
<br /><!-- m --><a class="postlink" href="http://patatersoft.info/gbaguy/day1n.htm">http://patatersoft.info/gbaguy/day1n.htm</a><!-- m -->
<br />
<br />If you click on the "here" that's highlighted first, you should be able to download it.
<br />
<br />EDIT: Also, just use a NES graphics editor such as YY-CHR to make graphics, and make a .nam file with a tile laying program to make a background.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>sebanonis</b> [ Fri Dec 28, 2007 10:07 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Thanks so much for the quick response. 
<br />
<br />Sorry for the confusion. I meant the files used for the tutorial (such as our.pal, etc.). I was able to download the tutorial itself. In going through it, I found out some of the hyperlinks were broken, particularly those for the graphic files. Unfortunately, this is exactly where I am having problems.
<br />
<br />I think I got the header and setting up the PPU. The NES ASM tutorial has a very good tutorial on that.
<br />
<br />My problem is converting an existing BMP file (say 72 dpi, 242 x 242) into CHR. I was able to use YY-CHR to convert it to 128 x 128. 
<br />
<br />So to create the nam file, I merely load the CHR file into TLP and save it with the extension NAM or do I have to do something specific first?
<br />
<br />Also, are there any good tutorials for  YY-CHR and TLP?
<br />
<br />Again, I really appreciate the prompt response. Thanks so much.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Celius</b> [ Sat Dec 29, 2007 12:51 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I don't think there are many tutorials for either, there's not much to them. All you do in YY-CHR is draw using any of the four colors you have selected. You have to set it to 2BPP (2 bits per pixel) NES mode.
<br />
<br />As for the pallete and the name file, I know what you're talking about now. When I first started, I didn't have access to those files either. You can make a pallete easily with .DB statements. You should also just make your own .nam file with a tile laying program. The code provided should work with any .nam file and any pallete.
<br />
<br />EDIT: About TLP, you don't save it as a .nam extension. You need a tile laying program, I think there's one on the main page.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>sebanonis</b> [ Sat Dec 29, 2007 1:00 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />HI Celsius,
<br />
<br />I think I understand doing the palette part using .db. But I still have problems with name tables and attributes.
<br />
<br />I was able to modify Chris Covell's Amiga demo program to compile using NESASM3. In doing so I renamed the file AmigaLogo_CHR-ROM to Amiga.chr and did an .incbin.
<br />
<br />The resulting program runs just fine using FCEUXDSP. But when I replace the amiga.chr with my own 128x128.chr the graphics in the modified program come out distorted. While the 128x128.chr loads fine in YY-CHR, the amiga.chr comes out distorted and I am not able to set it properly.
<br />
<br />Also, I thought TLP is a tile laying program?
<br />
<br />Any suggestions? TIA

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Sat Dec 29, 2007 9:50 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />There is more than one kind of program, and I think Celius might be confusing their names:
<br /><ol style="list-style-type: lower-alpha"><li>Tile editors, or primitive paint programs that produce .chr files. These include Tile Layer Pro, Tile Molester, YY-CHR, and 8TED. </li><li>Map editors, used to lay out tiles in patterns. Some are specialized to make .nam files (such as NSA and 8name), some are specialized to make maps in some other format (such as Mario Improvement and Lunar Magic), and some are more general (such as Open tUME). </li><li>Programs that have both a tile editor and map editor in one executable. </li></ol>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Celius</b> [ Sat Dec 29, 2007 4:52 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Isn't TLP just a tile editing program? That's what I was thinking. I didn't think that you could actually lay tiles in a NAM file like the title suggests.
<br />
<br />If nothing else, you can make a NAM file with .db statements. What you'd have to do is define all the tile data, and then at the end, you'd have to define the attribute data. Use the same routine to load it, and it'll work fine.
<br />
<br />And also, are you following GBAguy's setup? If so, I'm pretty sure he .incbins 2 4k CHR files. If you're using YY-CHR, you'll probably want to do away with that and just incbin 1 8k file, because that's the size YY-CHR saves the files at.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>architect</b> [ Sat Dec 29, 2007 5:29 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">Tile editors, or primitive paint programs that produce .chr files. These include Tile Layer Pro, Tile Molester, YY-CHR, and 8TED.</div>
<br />
<br />I loaded the amiga logo file (renamed amiga.chr) from Chris Covell's demo program in Tile Layer Pro but was not able to display it properly. Yet it displays properly when the program is executed.
<br />
<br />On the other hand, I converted a bitmap into a 128x128 chr that displays properly in TLP but when I replaced the amiga.chr with this chr, the display is broken up. (Disregarding for now the difference in the palette.)
<br />
<br />What am I doing wrong here?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>sebanonis</b> [ Sat Dec 29, 2007 5:35 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Uh-oh. Sorry - the post above is from me. I forgot my friend was logged on to the site and went ahead and posted while using his account. Sorry about that.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>sebanonis</b> [ Sat Dec 29, 2007 5:49 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Celius wrote:</div><div class="quotecontent">If nothing else, you can make a NAM file with .db statements. What you'd have to do is define all the tile data, and then at the end, you'd have to define the attribute data. Use the same routine to load it, and it'll work fine.</div><br /><br />That is where I am having problems. javascript&#058;emoticon ':cry:' Anyways, I will give it a try again.<br /><br />But in terms of modularity and re-usability, wouldn't it be more efficient to basically include binaries?<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">And also, are you following GBAguy's setup? If so, I'm pretty sure he .incbins 2 4k CHR files. If you're using YY-CHR, you'll probably want to do away with that and just incbin 1 8k file, because that's the size YY-CHR saves the files at.</div>
<br />
<br />I will check this out, too.
<br />
<br />I wish there was a tutorial that provides for a step-by-step instructions on developing a demo program that would include all the common features - backgrounds, sprites, collision detection, levels, maps, high scores, etc.
<br />
<br />I guess some people (like me) are more used to learning from a well-documented demo program and using that as a base to develop from. Kinda like being brainwashed too much from a Hello, World learning approach.
<br />
<br />Again, my thanks to you and tepples.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Celius</b> [ Sat Dec 29, 2007 6:23 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />You're not doing anything wrong. The display is broken up in the CHR file because what's being displayed on screen is 256 pixels wide, and it has to somehow be broken up to fit into the 128x128 CHR file. The reason it's broken up if you replace the CHR file with a different one is because the ROM is putting tiles on the screen assuming that the incbined CHR file is broken up in the same way that the amiga logo file is. Do you understand?
<br />
<br />About the tutorial you were talking about. It would be good to have a good tutorial about the basics of the NES, but high scores and maps are entirely different. Those sorts of things have way more than one answer. It really depends on what type of game you want to make. Once you understand the basics of the NES itself, making levels and whatnot will be SO much easier. You need to understand what the outcome needs to be before designing levels. If you really think about what needs to be done, doing what needs to be done will be alot easier.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>sebanonis</b> [ Sun Dec 30, 2007 7:44 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Celius wrote:</div><div class="quotecontent">You're not doing anything wrong. The display is broken up in the CHR file because what's being displayed on screen is 256 pixels wide, and it has to somehow be broken up to fit into the 128x128 CHR file. The reason it's broken up if you replace the CHR file with a different one is because the ROM is putting tiles on the screen assuming that the incbined CHR file is broken up in the same way that the amiga logo file is. Do you understand?</div><br /><br />Yes, I understand - it is a very clear explanation. My question then is I read in one of the tutorials bitmaps in chr should be 128x128. But why is the Amiga.chr bitmap 256x256? Also, isn't the NES screen closer to 256x256 than 128x128, so why is the bitmap of the chr file 128x128 instead of 256x256?<br /><br />I went through most of the tutorials again but can't seem to find one that includes a lesson on converting a bitmap file suitable for inclusion as a background in a nes file. I have managed to convert a graphic file into a 128x128 chr but it ends up displaying twice in the screen (side by side) with the right display having some color problems.<br /><br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">About the tutorial you were talking about. It would be good to have a good tutorial about the basics of the NES, but high scores and maps are entirely different. Those sorts of things have way more than one answer. It really depends on what type of game you want to make. Once you understand the basics of the NES itself, making levels and whatnot will be SO much easier. You need to understand what the outcome needs to be before designing levels. If you really think about what needs to be done, doing what needs to be done will be alot easier.</div>
<br />
<br />True, maps might be an advanced topic but high scores can be included even in the simplest games like hangman or even pong. Since the algorithm for this is the basically the same for all, it would be nice to include it in a tutorial to develop a simple game. Just my 2 cents though.
<br />
<br />Thanks.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Celius</b> [ Sun Dec 30, 2007 8:40 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">sebanonis wrote:</div><div class="quotecontent">Yes, I understand - it is a very clear explanation. My question then is I read in one of the tutorials bitmaps in chr should be 128x128. But why is the Amiga.chr bitmap 256x256? Also, isn't the NES screen closer to 256x256 than 128x128, so why is the bitmap of the chr file 128x128 instead of 256x256?<br /><br />I went through most of the tutorials again but can't seem to find one that includes a lesson on converting a bitmap file suitable for inclusion as a background in a nes file. I have managed to convert a graphic file into a 128x128 chr but it ends up displaying twice in the screen (side by side) with the right display having some color problems.<br /></div>
<br />
<br />The reason CHR files are 128x128 is because it's broken up into 256 8x8 pixel tiles. Only one byte is required to define Tile IDs. If a CHR file was 256x256, it would require 2 bytes to define a tile, so you would have to write to $2007 twice. So the NES without doing some sort of trickery would not allow you to have every tile on screen be different. You have to use at least one tile more than one time.
<br />
<br />How are you writing information to the background? Please clarify a little more what exactly you're doing in your code.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>sebanonis</b> [ Mon Dec 31, 2007 12:10 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />HI Celius,
<br />
<br />Below is the code. Basically it is a mishmash of a couple of demo programs.
<br />
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent"><br />;console2.asm<br /><br />PPUCTRL = $2000<br />PPUMASK = $2001<br />PPUSTATUS = $2002<br />OAMADDR = $2003<br />OAMDATA = $2004<br />PPUSCROLL = $2005<br />PPUADDR = $2006<br />PPUDATA = $2007<br /><br />&nbsp; &nbsp;.inesprg 1&nbsp; &nbsp;; 1x 16KB PRG code<br />&nbsp; &nbsp;.ineschr 1&nbsp; &nbsp;; 1x&nbsp; 8KB CHR data<br />&nbsp; &nbsp;.inesmir 0&nbsp; &nbsp;; mapper 0 = NROM, no bank swapping<br />&nbsp; &nbsp;.inesmap 1&nbsp; &nbsp;; background mirroring<br /><br />&nbsp; &nbsp;.bank 0&nbsp; &nbsp;<br />&nbsp; &nbsp;.org $C000&nbsp; &nbsp; &nbsp; &nbsp;<br /><br />RESET:<br />&nbsp; SEI&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; disable IRQs<br />&nbsp; CLD&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; disable decimal mode<br />&nbsp; LDX #$40<br />&nbsp; STX $4017&nbsp; &nbsp; &nbsp; &nbsp;; disable APU frame IRQ<br />&nbsp; LDX #$FF<br />&nbsp; TXS&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; Set up stack<br />&nbsp; INX&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; now X = 0<br />&nbsp; STX PPUCTRL&nbsp; &nbsp;; disable NMI<br />&nbsp; STX PPUMASK&nbsp; &nbsp; &nbsp; &nbsp;; disable rendering by settings 3 and 4 to 0<br />&nbsp; STX $4010&nbsp; &nbsp; &nbsp; &nbsp;; disable DMC IRQs<br /><br />vblankwait1:&nbsp; &nbsp; &nbsp; ; First wait for vblank to make sure PPU is ready<br />&nbsp; BIT PPUSTATUS<br />&nbsp; BPL vblankwait1<br /><br />clrmem:<br />&nbsp; LDA #$00<br />&nbsp; STA $0000, x<br />&nbsp; STA $0100, x<br />&nbsp; STA $0200, x<br />&nbsp; STA $0400, x<br />&nbsp; STA $0500, x<br />&nbsp; STA $0600, x<br />&nbsp; STA $0700, x<br />&nbsp; LDA #$FE<br />&nbsp; STA $0300, x<br />&nbsp; INX<br />&nbsp; BNE clrmem<br />&nbsp; &nbsp;<br />vblankwait2:&nbsp; &nbsp; &nbsp; ; Second wait for vblank, PPU is ready after this<br />&nbsp; BIT PPUSTATUS<br />&nbsp; BPL vblankwait2<br /><br />&nbsp; LoadPalettes:<br />&nbsp; LDA PPUSTATUS&nbsp; &nbsp;; read PPU status to reset the high/low latch<br />&nbsp; LDA #$3F<br />&nbsp; STA $2006&nbsp; &nbsp; &nbsp; &nbsp;; write the high byte of $3F00 address<br />&nbsp; LDA #$00<br />&nbsp; STA $2006&nbsp; &nbsp; &nbsp; &nbsp;; write the low byte of $3F00 address<br />&nbsp; LDX #$00<br />LoadPalettesLoop:<br />&nbsp; LDA palette, x<br />&nbsp; STA $2007<br />&nbsp; INX<br />&nbsp; CPX #$20<br />&nbsp; BNE LoadPalettesLoop<br /><br /><br /><br />;********* Initialize Palette to specified colour ********<br /><br />&nbsp; &nbsp;lda&nbsp; &nbsp;#$21<br />&nbsp; &nbsp;sta&nbsp; &nbsp;$2006<br />&nbsp; &nbsp;lda&nbsp; &nbsp;#$00<br />&nbsp; &nbsp;sta&nbsp; &nbsp;$2006&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;;Point 8 rows down in Name Table.<br /><br />&nbsp; &nbsp;ldx&nbsp; &nbsp;#$00&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;-<br />&nbsp; &nbsp;txa&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; \<br /><br />DefMap0:<br />&nbsp; &nbsp;ldy&nbsp; &nbsp;#$10<br />&nbsp; &nbsp;tax<br /><br />DefMap1:<br />&nbsp; &nbsp;stx $2007<br />&nbsp; &nbsp;inx&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;;This part sets up two identical columns<br />&nbsp; &nbsp;dey&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;;Of Pattern Tables $00-$FF<br />&nbsp; &nbsp;bne&nbsp; &nbsp;DefMap1<br />&nbsp; &nbsp;ldy&nbsp; &nbsp;#$10<br />&nbsp; &nbsp;tax<br /><br />DefMap2:<br />&nbsp; &nbsp;stx $2007<br />&nbsp; &nbsp;inx<br />&nbsp; &nbsp;dey<br />&nbsp; &nbsp;bne&nbsp; &nbsp;DefMap2<br />&nbsp; &nbsp;txa<br />&nbsp; &nbsp;cpx&nbsp; &nbsp;#$00&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; /<br />&nbsp; &nbsp;bne&nbsp; &nbsp;DefMap0&nbsp; &nbsp; &nbsp; ;-<br /><br />;------------------------------<br />;Set up Attribute Table<br />&nbsp; &nbsp;lda&nbsp; &nbsp;#$23<br />&nbsp; &nbsp;sta&nbsp; &nbsp;$2006<br />&nbsp; &nbsp;lda&nbsp; &nbsp;#$D0<br />&nbsp; &nbsp;sta&nbsp; &nbsp;$2006&nbsp; &nbsp; &nbsp; &nbsp; ;Point to right spot in Attr. Map<br /><br />&nbsp; &nbsp;ldy&nbsp; &nbsp;#$02<br />DrawAtt:<br />&nbsp; &nbsp;lda&nbsp; &nbsp;#$00<br />&nbsp; &nbsp;sta&nbsp; &nbsp;$2007<br />&nbsp; &nbsp;sta&nbsp; &nbsp;$2007<br />&nbsp; &nbsp;sta&nbsp; &nbsp;$2007<br />&nbsp; &nbsp;sta&nbsp; &nbsp;$2007<br />&nbsp; &nbsp;lda&nbsp; &nbsp;#$55&nbsp; &nbsp; &nbsp; &nbsp; ;Palette #1<br />&nbsp; &nbsp;sta&nbsp; &nbsp;$2007<br />&nbsp; &nbsp;sta&nbsp; &nbsp;$2007<br />&nbsp; &nbsp;sta&nbsp; &nbsp;$2007<br />&nbsp; &nbsp;sta&nbsp; &nbsp;$2007<br />&nbsp; &nbsp;dey<br />&nbsp; &nbsp;bne&nbsp; &nbsp;DrawAtt<br />;------------------------------<br /><br />&nbsp; &nbsp;lda&nbsp; &nbsp;#$00<br />&nbsp; &nbsp;sta&nbsp; &nbsp;$2006<br />&nbsp; &nbsp;sta&nbsp; &nbsp;$2006&nbsp; &nbsp; &nbsp; &nbsp;;Reset PPU<br />&nbsp; &nbsp;sta&nbsp; &nbsp;$2005<br />&nbsp; &nbsp;sta&nbsp; &nbsp;$2005&nbsp; &nbsp; &nbsp; &nbsp;;Reset Scroll<br /><br />;Enable vblank interrupts, etc.<br />&nbsp; &nbsp;lda&nbsp; &nbsp;#%00011000<br />&nbsp; &nbsp;sta&nbsp; &nbsp;$2000<br />&nbsp; &nbsp;lda&nbsp; &nbsp;#%00011110&nbsp; ;Screen on, sprites on, show leftmost 8 pixels, colour<br />&nbsp; &nbsp;sta&nbsp; &nbsp;$2001<br />;&nbsp; cli&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;;Enable interrupts&#40;?&#41;<br /><br />Forever:<br />&nbsp; JMP Forever&nbsp; &nbsp; &nbsp; &nbsp; ;jump back to Forever, infinite loop<br /><br />NMI:<br />&nbsp; &nbsp;RTI<br />IRQ:<br />&nbsp; &nbsp;RTI<br /><br />&nbsp; &nbsp;.bank 1<br />&nbsp; &nbsp;.org $E000<br />palette:<br />&nbsp; &nbsp;.db $0F,$20,$0F,$16,$15,$15,$16,$17,$18,$19,$1A,$1B,$1C,$1D,$1E,$0F<br />&nbsp; &nbsp;.db $0F,$1C,$15,$14,$31,$02,$38,$3C,$0F,$1C,$15,$14,$31,$02,$38,$3C<br /><br /><br />&nbsp; &nbsp;.org $FFFA<br />&nbsp; &nbsp;.dw NMI<br />&nbsp; &nbsp;.dw RESET<br />&nbsp; &nbsp;.dw IRQ&nbsp; &nbsp;<br /><br />&nbsp; &nbsp;.bank 2<br />&nbsp; &nbsp;.org $0000<br />&nbsp; &nbsp;.incbin &quot;jb.chr&quot;&nbsp; &nbsp;; jb.chr is a 128x128 bitmap converted into chr<br /></div>
<br />
<br />The resulting screen shows the bitmap twice, side by side, with the right image partially covered with red transparent color.
<br />
<br />Would really appreciate any help. TIA.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Celius</b> [ Mon Dec 31, 2007 12:50 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The second portion of your pallete consists of orange and red colors. In the attribute section of your code, you tell it to make the right half use the second pallete by storing $55 in $2007. What other problems are there?
<br />
<br />EDIT: Just as an exersise, look at the loop that stores the tiles on the background, and try figure out why it stores the data side by side. Try work out the loop, and keep track of the values of the X, Y and A registers. You should be able to see why it stores it that way. If you really are having trouble, I'll explain.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>