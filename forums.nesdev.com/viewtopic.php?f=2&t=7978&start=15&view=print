<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - TapeDump v1.0 - a tool to dump carts without extra hardware</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">TapeDump v1.0 - a tool to dump carts without extra hardware</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=2&amp;t=7978">http://forums.nesdev.com/viewtopic.php?f=2&amp;t=7978</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>2</strong> of <strong>11</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Kreese</b> [ Sun Jul 17, 2011 7:37 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />If I want to make a TapeDump cart, what donor cart should I use?
<br />
<br />Anyway, this technique seems awesome. Thanks a lot for sharing. 
<br />
<br />Thanks e5frog for sharing your experience with it. It will be useful when I try it.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dwedit</b> [ Sun Jul 17, 2011 8:41 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />How does it connect to CIRAM when there's no cartridge in there?  I'd think you'd get no graphics at all without a cartridge in there, except maybe for open bus patterns for nametables and CHR data?
<br />Of course, after the cartridge goes back in the slot, you can use the nametables and CHR memory again.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>qbradq</b> [ Sun Jul 17, 2011 8:47 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />That's one thing that's nice about the clone systems, CIRAM is always enabled <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>e5frog</b> [ Sun Jul 17, 2011 10:20 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Dwedit wrote:</div><div class="quotecontent">I'd think you'd get no graphics at all without a cartridge in there</div>
<br />You'll get the background and the crap that was left there after ejecting the cartridge that loaded it, new graphics appear when you plug the other cart in. That's where you could tell it to check the CHR for an empty and a filled char to display rudimentary information maybe.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>ccovell</b> [ Sun Jul 17, 2011 3:34 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Kreese wrote:</div><div class="quotecontent">If I want to make a TapeDump cart, what donor cart should I use?</div>
<br />
<br />As the program stands right now, any NES/FC cart will do.  The TapeDump.nes file is NROM with only 16K of ROM and no CHR at all so it's extremely minimal.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>e5frog</b> [ Sun Jul 17, 2011 4:11 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />There's also a lot of empty space in the cart rom, so there's room for more code in the same space.
<br />
<br />BTW how do you get nesasm to use $00 as a filler instead of $FF when you compile? I only found nesasm3 and I got the normal $FF when I used that. Just wanted to set the default speed to 1200 so I didn't have to change it after I started. I noticed after I changed it that it's an easy hex-edit in the .nes file, I believe it was byte $401 that was changed from $08 to $02 instead.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Memblers</b> [ Sun Jul 17, 2011 5:45 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />That's a pretty cool idea.
<br />
<br />This reminds me too, if anyone wants to read and write tape audio, sepi made a simple expansion port circuit that works with Excitebike and Wrecking Crew (hardware required of course): <a href="http://nesdev.com/tapedrv.PNG" class="postlink">http://nesdev.com/tapedrv.PNG</a>
<br />
<br />With this, now anyone can make their cartridge able to dump itself.  No excuse for anyone to lose the game to bitrot.  Like how old PC games told you to make a backup disk before playing.  But this time, you could do it to tape. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>kevtris</b> [ Mon Jul 18, 2011 9:45 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">e5frog wrote:</div><div class="quotecontent">It says in the texts that it's built for the "Konami VRC2" mapper so I guess it supports that and similar ones (if any). Currently you have to add other mappers yourself, let's hope ccovell wants to add a nice front end and some mappers in a future version.</div>
<br />
<br />
<br />Why not just include all of the copynes plugins?  the plugins are designed to be fairly software-agnostic and load into RAM to run (though I guess they could be put in ROM too).  All access is done through a simplistic "input byte" and "output byte" routine, along with a few other minor routines (CRC mainly for ROM size detection).   The code could probably be fairly easily hacked to just dump without any frills.  You could have it make a CRC for integrity checking too.  The copynes software pack should have the source code for the plugins and the bios with the routines needed.
<br />
<br />I like the idea of using a hacked game genie for the process.  Could call it "Ghettodump", hehe.  It'd be pretty decent though, since you can actually try the game out first (it IS a game genie, after all) to make sure all the connections are good, and use the GG CHR logic to put some basic text/messages up before and after dumping with a colour cycling blank screen during dumping (blank screen, and dork with the background colour) like many C64 disk copiers used to do.
<br />
<br />Check out how the atari 2600 "supercharger" works, too.  It can send 6K of data in around 15ish seconds quite reliably using a simple format.  It sends a short high/low or a long high/low depending on if the data bit is 0 or 1.  This is much more efficient (and you can adjust timing to speed up or slow down the process) and using 4011 would be quite easy to do.  Just output 0 or 7f for low/high.   The 'charger uses a preamble of 010101010101 to start with, then the data just follows that.  The preamble's around 2-3 seconds long to let the audio chain (back then a tape player) to reach a steady state before the data came out.  Cycle timed 6502 code then decoded that data in real time, as it was fed in.  It could adjust to nearly any data rate, too.   There was no need to have a fixed baud rate or anything, the decoder software figured out the baud rate by monitoring that preamble and checking for "11" which indicated the start of the data from what I recall.  i.e. "0101010101011data"

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Mon Jul 18, 2011 10:03 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Could the reliability be increased with some sort of forward error correction?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>e5frog</b> [ Mon Jul 18, 2011 10:41 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Yes, you could do a whole lot of things, or just buy a CopyNES for $70...
<br />
<br />I got this demonstration as a poor mans dumper, it's easy and requires no extra hardware. Only thing missing is some more programming with support for more mappers. If that was chosen in some menu before uploaded to internal ram then it wouldn't require much space.
<br />
<br />I guess it's free for anyone to continue the programming, the code is included in the package.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MottZilla</b> [ Tue Jul 19, 2011 10:29 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">e5frog wrote:</div><div class="quotecontent">Yes, you could do a whole lot of things, or just buy a CopyNES for $70...<br /><br />I got this demonstration as a poor mans dumper, it's easy and requires no extra hardware. Only thing missing is some more programming with support for more mappers. If that was chosen in some menu before uploaded to internal ram then it wouldn't require much space.<br /><br />I guess it's free for anyone to continue the programming, the code is included in the package.</div>
<br />
<br />And then you have to install the CopyNES. With this you could modify a Game Genie for anywhere from free to maybe $10 to get an EPROM/FlashROM to install in the GG. 
<br />
<br />Adding more mappers isn't that hard given that the source includes VRC4 support which is enough for someone to go on to add support for other mappers.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>ccovell</b> [ Wed Jul 20, 2011 3:11 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">kevtris wrote:</div><div class="quotecontent">Why not just include all of the copynes plugins?  the plugins are designed to be fairly software-agnostic and load into RAM to run</div>
<br />That sounds like a good idea.  I'm giving the CopyNES plugins a look now.  Since some of them use $300-$3FF for scratch RAM, and all of them are loaded into $400 and go up to about $680 maximum (right?) so there's not much space left for fancy graphics stuff, and definitely no space for CRC routines.
<br />
<br />Everything looks straightforward; Kevin, any advice or gotchas I should look out for?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>kevtris</b> [ Wed Jul 20, 2011 9:03 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">ccovell wrote:</div><div class="quotecontent"><div class="quotetitle">kevtris wrote:</div><div class="quotecontent">Why not just include all of the copynes plugins?  the plugins are designed to be fairly software-agnostic and load into RAM to run</div><br />That sounds like a good idea.  I'm giving the CopyNES plugins a look now.  Since some of them use $300-$3FF for scratch RAM, and all of them are loaded into $400 and go up to about $680 maximum (right?) so there's not much space left for fancy graphics stuff, and definitely no space for CRC routines.<br /><br />Everything looks straightforward; Kevin, any advice or gotchas I should look out for?</div>
<br />
<br />Not really, it was all pretty cheap and nasty code that was done via cut and paste, hehe.  The CRC routine could be replaced with some other simpler hashing function and it'd work the same, like a sumcheck.  Also, yes, most of the plugin space tends to be empty.  Only a few like MMC1 and MMC3 used most of it due to all the different configurations.  These could be stripped down and/or separated to make them take up less space.  Nothing at all had been optimized, and if I had it to do over again I'd probably have optimized things much better than it currently is.
<br />
<br />Then again, when I wrote many of those plugins was over 10 years ago, and I have become a much better 6502 coder in the interim decade.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>B00daW</b> [ Wed Jul 20, 2011 9:42 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Chris Covell:
<br />
<br />Hope I'm not too late, but you may wish to grab your plugins from BootGod's website.  They are the most up-to-date and some of Kev's previous plugins are fixed for better cart compatibility.
<br />
<br /><!-- m --><a class="postlink" href="http://bootgod.dyndns.org:7777/plugins.php">http://bootgod.dyndns.org:7777/plugins.php</a><!-- m -->
<br />
<br />Another note of interest...  If you take a look at the <strong>TC-112.BIN</strong> plugin for NTDEC carts, I'm wondering if TapeDump would be a viable dumping method for it.  I have a War in the Gulf cart that I could try dumping to see if it would be a good alternative to the CopyNES; since I also was not able to dump it with the CopyNES.
<br />
<br />Kev,
<br />
<br />I know we talked about the theory behind why the 74LS00 IC's made it difficult for the CopyNES to dump its CHR, but the conclusion escapes me, do you remember why?
<br />
<br />Also how common are 74LS00's in NES carts, and could TapeDump -- if proven to be a viable alternative -- be an alternative solution for dumping such carts in the future?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Jagasian</b> [ Wed Jul 20, 2011 4:30 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />How long before RetroUSB sells a "CopyNES Lite"?  It would be a device similar to the Game Genie, but with a TapeDump bootloader.  That way your NES would not need to have its lockout chip disabled, you wouldn't have to mod a Game Genie, and you wouldn't have to hot swap cartridges.
<br />
<br />If it was compatible with the NES clones that are common place these days, it would make dumping accessible to many more people.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>2</strong> of <strong>11</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>