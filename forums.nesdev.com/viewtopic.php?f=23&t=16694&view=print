<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Five extra PCM channels on the Genesis (YM2612)</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Five extra PCM channels on the Genesis (YM2612)</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=23&amp;t=16694">http://forums.nesdev.com/viewtopic.php?f=23&amp;t=16694</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>za909</b> [ Fri Nov 10, 2017 10:01 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Five extra PCM channels on the Genesis (YM2612)</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I've always wanted to know if it was possible to use the 5 FM-only channels of the YM2612 chip to output PCM. For most chips this works by setting the channel in question to the highest possible frequency, and then the attenuation/volume register can serve as the output for the data. I wonder if this is also possible in this case. Additionally, it might work by taking a completely different approach - retriggering the channel constantly (which resets the phase of the operators) and setting the amplitude you want by using the frequency of the channel to get the exact phase of the sine - then repeat. Also, if this is implemented in the chip with a digital phase counter, it should work perfectly, <a href="https://www.youtube.com/watch?v=p6LYrQk5I7s&amp;t=2m19s" class="postlink">people have done the same with the SID chip before</a>.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Fri Nov 10, 2017 10:02 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Five extra PCM channels on the Genesis (YM2612)</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />With the time it takes to write to all six FM channels' registers, why can't you just sum six PCM channels on the Z80?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>TmEE</b> [ Fri Nov 10, 2017 10:19 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Five extra PCM channels on the Genesis (YM2612)</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />It is faster to software mix those 5 channels.<br /><br />In addition, restarting a channel/operator will start the waveform at zero, it'll take a while to get the waveform to max point. You could stop phase generator though. <br /><br />Other problem is that you can pretty much do only one write per chip sample, that's nowhere enough to do anything fancy on all 5/6 channels, unless really low sample rate is acceptable, but at that point just plain old software mixing will still be faster, and will sound better as 7bit log space isn't super great for playing samples, and you still won't get more than 9bit output on stock hardware. You can control the lowest bit of PCM channel wia test register and get all 9bits BTW.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Fri Nov 10, 2017 12:28 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Five extra PCM channels on the Genesis (YM2612)</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">With the time it takes to write to all six FM channels' registers, why can't you just sum six PCM channels on the Z80?</div><br /><!-- m --><a class="postlink" href="https://youtu.be/x3m3JrVImmU">https://youtu.be/x3m3JrVImmU</a><!-- m -->

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>psycopathicteen</b> [ Sat Nov 11, 2017 12:15 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Five extra PCM channels on the Genesis (YM2612)</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Hmm, he does audio sampling the same way he does texture scaling.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>rainwarrior</b> [ Sat Nov 11, 2017 1:07 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Five extra PCM channels on the Genesis (YM2612)</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />They are similar interpolation problems.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Drew Sebastino</b> [ Sat Nov 11, 2017 3:45 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Five extra PCM channels on the Genesis (YM2612)</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />To be honest, the results are kind of underwhelming considering the amount of work and likely processing time. <img src="./images/smilies/icon_neutral.gif" alt=":|" title="Neutral" /> (Although I think the bad instrument choice is half of the problem.) Is software mixing is the main bottleneck here?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>psycopathicteen</b> [ Sat Nov 11, 2017 4:53 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Five extra PCM channels on the Genesis (YM2612)</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Is this only during cutscenes?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Myask</b> [ Sat Nov 11, 2017 7:29 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Five extra PCM channels on the Genesis (YM2612)</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent"><div class="quotetitle">tepples wrote:</div><div class="quotecontent">With the time it takes to write to all six FM channels' registers, why can't you just sum six PCM channels on the Z80?</div><br /><!-- m --><a class="postlink" href="https://youtu.be/x3m3JrVImmU">https://youtu.be/x3m3JrVImmU</a><!-- m --></div><br />For those who don't want to watch:<br />use tables to decide what parts of sample waveforms to discard when pitch-shifting<br />use tables for volume-scaling<br />software-mix on 68000 your four channels to one with halve(bitshift)+add<br />use a scanline? interrupt at 1 khz(15-20/fr, 50FPS) and upload 10B per interrupt so as to have tiny losses where the Z80's not playing sound<br />double-buffer samples in Z80 RAM so you don't have to stop playback even that much<br /><br />Did I miss anything?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>adam_smasher</b> [ Sat Nov 11, 2017 9:57 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Five extra PCM channels on the Genesis (YM2612)</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Espozo wrote:</div><div class="quotecontent">To be honest, the results are kind of underwhelming considering the amount of work and likely processing time.</div><br /><br />Ahh, Traveller's Tales games in a nutshell <img src="./images/smilies/icon_razz.gif" alt=":P" title="Razz" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Drew Sebastino</b> [ Sun Nov 12, 2017 12:09 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Five extra PCM channels on the Genesis (YM2612)</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">adam_smasher wrote:</div><div class="quotecontent">Ahh, Traveller's Tales games in a nutshell <img src="./images/smilies/icon_razz.gif" alt=":P" title="Razz" /></div><br />The FMV intro to Sonic 3D Blast is probably the best part of the game, despite looking like shit. <img src="./images/smilies/icon_lol.gif" alt=":lol:" title="Laughing" /> I've never played Mickey Mania or Pugsy, but judging from Sonic 3D Blast (bad) and Toy Story (decent, but not amazing) I think the people at Traveller's Tales were much better programmers than they were game designers; it's a bit of a shame that they didn't make PC games instead, where they'd be much less limited by space and processing power. I feel most European game developers from the early to mid nineties were the same way; the Japanese seemed to be better game designers, even if the games were less ambitious graphically and still ran worse. American developers (id and a few others nonwithstanding) were the worst in both regards. <img src="./images/smilies/icon_lol.gif" alt=":lol:" title="Laughing" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>psycopathicteen</b> [ Sun Nov 12, 2017 3:36 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Five extra PCM channels on the Genesis (YM2612)</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">It's a bit of a shame that they didn't make PC games instead, where they'd be much less limited by space and processing power.</div><br /><br />The challenge.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Sumez</b> [ Sun Nov 12, 2017 3:51 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Five extra PCM channels on the Genesis (YM2612)</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Yeah, this is a typical staple of European developers in the 90s (and late 80s), and Traveller's Tales is a great poster child for that. I used to think only Japanese games (at least in the platformer genre and such) were good, while Western games almost always had the same flaws (pretty graphics, but extremely uninteresting and repetitive level design), but looking back at it now, I think that especially describes European developers, maybe even British specifically - usually coming off the C64 and Amiga demo scenes, where making cool effecient coding algorithms and special visual effects was more important than fun gameplay.<br /><br />I remember, back in the days, I'd always remember the Traveller's Tales logo due to how much their games managed to stand out after all, plus they had a thing for working with those licenses that would make kids buy their games no matter how good they were.<br />However, I would also quickly begin to notice that pretty much ALL the games with the TT logo were also pretty bad. Not terrible, but never good at all. I think Mickey Mania was the only decent game they managed to make (and then, only the Sega version), and looking at Jon Burton's YouTube videos today, that's kinda sad, because you can tell he's really passionate about their products... in his own way anyway. That video about how they bypassed Sega's QA process by disguising bugs in their games as &quot;secret level selects&quot; is pretty shady, but at least he's being honest about it. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br /><br />He's also working on a director's cut version of Sonic 3D at the moment, hoping to fix everything that was wrong about that game. I'm not sure that game is fixable, but it's a game I've always wanted to like, so I'm curious about it.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>psycopathicteen</b> [ Sun Nov 12, 2017 4:31 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Five extra PCM channels on the Genesis (YM2612)</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Western games almost always had the same flaws (pretty graphics, but extremely uninteresting and repetitive level design).</div><br /><br />When did western games ever have good graphics?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Sumez</b> [ Sun Nov 12, 2017 4:49 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Five extra PCM channels on the Genesis (YM2612)</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><img src="https://www.romulation.net/media/img/screenshots/PSX/8980/sc4569c050ce3e44731622dcdb575f469.jpg" alt="Image" /><br /><br /><img src="http://www.sega-16.com/wp-content/uploads/2014/02/Behind-the-Design-Aladdin-10.gif" alt="Image" /><br /><br /><img src="http://www.mobygames.com/images/shots/l/159002-maui-mallard-in-cold-shadow-snes-screenshot-the-hand-drawn.png" alt="Image" /><br /><br /><img src="http://www.projectfirestart.org/amiga/leander_megadrive4b.png" alt="Image" /><br /><br /><img src="https://s.mprd.se/GameBase%20Amiga/Screenshots/R/Ruff_'n'_Tumble_1.png" alt="Image" /><br /><br /><img src="http://4.bp.blogspot.com/-zlqftV6pJ_s/Tm8S-id0FAI/AAAAAAAAI6Q/sCeqdfuU828/s1600/The_Misadventures_of_Flink_%2528MCD%2529_09.png" alt="Image" />

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>