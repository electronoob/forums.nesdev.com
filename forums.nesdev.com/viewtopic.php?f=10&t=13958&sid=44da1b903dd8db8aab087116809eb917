<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<link rel="icon" href="/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />

<title>nesdev.com &bull; View topic - A Few Various Questions</title>

<link rel="alternate" type="application/atom+xml" title="Feed - nesdev.com" href="http://forums.nesdev.com/feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - News" href="http://forums.nesdev.com/feed.php?mode=news" /><link rel="alternate" type="application/atom+xml" title="Feed - All forums" href="http://forums.nesdev.com/feed.php?mode=forums" /><link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="http://forums.nesdev.com/feed.php?mode=topics" /><link rel="alternate" type="application/atom+xml" title="Feed - Active Topics" href="http://forums.nesdev.com/feed.php?mode=topics_active" /><link rel="alternate" type="application/atom+xml" title="Feed - Forum - Newbie Help Center" href="http://forums.nesdev.com/feed.php?f=10" /><link rel="alternate" type="application/atom+xml" title="Feed - Topic - A Few Various Questions" href="http://forums.nesdev.com/feed.php?f=10&amp;t=13958" />

<link rel="stylesheet" href="./style.php?id=1&amp;lang=en&amp;sid=e2509d46edd92be76cd9009e53f0caac" type="text/css" />

<script type="text/javascript">
// <![CDATA[


function popup(url, width, height, name)
{
	if (!name)
	{
		name = '_popup';
	}

	window.open(url.replace(/&amp;/g, '&'), name, 'height=' + height + ',resizable=yes,scrollbars=yes,width=' + width);
	return false;
}

function jumpto()
{
	var page = prompt('Enter the page number you wish to go to:', '1');
	var per_page = '';
	var base_url = '';

	if (page !== null && !isNaN(page) && page == Math.floor(page) && page > 0)
	{
		if (base_url.indexOf('?') == -1)
		{
			document.location.href = base_url + '?start=' + ((page - 1) * per_page);
		}
		else
		{
			document.location.href = base_url.replace(/&amp;/g, '&') + '&start=' + ((page - 1) * per_page);
		}
	}
}

/**
* Find a member
*/
function find_username(url)
{
	popup(url, 760, 570, '_usersearch');
	return false;
}

/**
* Mark/unmark checklist
* id = ID of parent container, name = name prefix, state = state [true/false]
*/
function marklist(id, name, state)
{
	var parent = document.getElementById(id);
	if (!parent)
	{
		eval('parent = document.' + id);
	}

	if (!parent)
	{
		return;
	}

	var rb = parent.getElementsByTagName('input');
	
	for (var r = 0; r < rb.length; r++)
	{
		if (rb[r].name.substr(0, name.length) == name)
		{
			rb[r].checked = state;
		}
	}
}



// ]]>
</script>
</head>
<body class="ltr">

<a name="top"></a>

<div id="wrapheader">

	<div id="logodesc">
	</div>

	<div id="menubar">

		<table width="100%" cellspacing="0">
		<tr>
			<td rowspan="2"><a href="./index.php?sid=e2509d46edd92be76cd9009e53f0caac"><img src="./styles/subsilver2/imageset/site_logo.gif" alt="" title="" /></a></td>
			<td width="100%" align="center"><h1>nesdev.com</h1><span class="gen">NES Development and Strangulation Records message boards</span></td>
		</tr>
		<tr>
			<td align="center">
				<!--<div style="float: right;">
					<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
					<input type="hidden" name="cmd" value="_s-xclick">
					<input type="hidden" name="hosted_button_id" value="X2HM4WNR5YT8S">
					<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
					<img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
					</form>
				</div>-->
				<a href="./faq.php?sid=e2509d46edd92be76cd9009e53f0caac"><img src="./styles/prosilver/theme/images/icon_mini_faq.gif" width="12" height="13" alt="*" /> FAQ</a>
				&nbsp; &nbsp;<a href="./search.php?sid=e2509d46edd92be76cd9009e53f0caac"><img src="./styles/prosilver/theme/images/icon_mini_search.gif" width="12" height="13" alt="*" /> Search</a>
				<br />	
				 &nbsp;<a href="./ucp.php?mode=register&amp;sid=e2509d46edd92be76cd9009e53f0caac"><img src="./styles/prosilver/theme/images/icon_mini_register.gif" width="12" height="13" alt="*" /> Register</a>
					&nbsp; &nbsp;<a href="./ucp.php?mode=login&amp;sid=e2509d46edd92be76cd9009e53f0caac"><img src="./styles/prosilver/theme/images/icon_mini_login.gif" width="12" height="13" alt="*" /> Login</a>&nbsp;
			</td>
		</tr>
		</table>
	</div>

	<div id="datebar">
		<table width="100%" cellspacing="0">
		<tr>
			<td class="gensmall"></td>
			<td class="gensmall" align="right">It is currently Sun Oct 09, 2016 6:20 am<br /></td>
		</tr>
		</table>
	</div>

</div>

<div id="wrapcentre">

	
	<p class="searchbar">
		<span style="float: left;"><a href="./search.php?search_id=unanswered&amp;sid=e2509d46edd92be76cd9009e53f0caac">View unanswered posts</a> | <a href="./search.php?search_id=active_topics&amp;sid=e2509d46edd92be76cd9009e53f0caac">View active topics</a></span>
		
	</p>
	

	<br style="clear: both;" />

	<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php?sid=e2509d46edd92be76cd9009e53f0caac">Board index</a> &#187; <a href="./viewforum.php?f=24&amp;sid=e2509d46edd92be76cd9009e53f0caac">NES / Famicom</a> &#187; <a href="./viewforum.php?f=10&amp;sid=e2509d46edd92be76cd9009e53f0caac">Newbie Help Center</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>

	<br />
	

					<center>
					<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- NesDev Forums -->
					<ins class="adsbygoogle"
						 style="display:block"
						 data-ad-client="ca-pub-7801010229099644"
						 data-ad-slot="7979066809"
						 data-ad-format="auto"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>
					</center>
	<br />


<div id="pageheader">
	<h2><a class="titles" href="./viewtopic.php?f=10&amp;t=13958&amp;sid=e2509d46edd92be76cd9009e53f0caac">A Few Various Questions</a></h2>


	<p class="moderators">Moderator: <a href="./memberlist.php?mode=group&amp;g=320&amp;sid=e2509d46edd92be76cd9009e53f0caac">Moderators</a></p>

</div>

<br clear="all" /><br />

<div id="pagecontent">

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=10&amp;sid=e2509d46edd92be76cd9009e53f0caac"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=10&amp;t=13958&amp;sid=e2509d46edd92be76cd9009e53f0caac"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>1</strong> of <strong>1</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 15 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"></td>
		
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat">
			<table width="100%" cellspacing="0">
			<tr>
				<td class="nav" nowrap="nowrap">&nbsp;
				<a href="./viewtopic.php?f=10&amp;t=13958&amp;sid=e2509d46edd92be76cd9009e53f0caac&amp;view=print" title="Print view">Print view</a>
				</td>
				<td class="nav" align="right" nowrap="nowrap"><a href="./viewtopic.php?f=10&amp;t=13958&amp;view=previous&amp;sid=e2509d46edd92be76cd9009e53f0caac">Previous topic</a> | <a href="./viewtopic.php?f=10&amp;t=13958&amp;view=next&amp;sid=e2509d46edd92be76cd9009e53f0caac">Next topic</a>&nbsp;</td>
			</tr>
			</table>
		</td>
	</tr>

	</table>


	<table class="tablebg" width="100%" cellspacing="1">
	
		<tr>
			<th>Author</th>
			<th>Message</th>
		</tr>
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p166240"></a>
				<b class="postauthor">FinalZero</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p166240">A Few Various Questions</a></div><div style="float: right;"><a href="./viewtopic.php?p=166240&amp;sid=e2509d46edd92be76cd9009e53f0caac#p166240"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Mar 15, 2016 2:59 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=4131.png" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Thu Dec 03, 2009 7:27 am<br /><b>Posts:</b> 150
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">(1) In this thread ( <!-- l --><a class="postlink-local" href="http://forums.nesdev.com/viewtopic.php?f=2&amp;t=12831">viewtopic.php?f=2&amp;t=12831</a><!-- l --> ), tokumaru said:<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I just tested in my crappy JavaScript implementation and guess what resulted in the smoothest movement? Adding 157 AND reversing the bits. That's with a velocity of 0.25, at least.</div><br />I don't understand what &quot;adding 157 and reversing the bits&quot; means. If I understand correctly, 157 is the bias, which is added to the subpixel velocity, and if the result exceeds 256, then the pixel position is incremented. I don't understand when the reversing is done.<br />(2) In an rpg like Dragon Warrior or Final Fantasy, or any game that has tile-based movement, how is movement between tiles made smooth? (If anybody remembers the game &quot;Chip's Challenge&quot;, it's a tile-based puzzle game that doesn't have transitions between tiles at all. I don't wish to copy it's jerky movement.)<br />(3) Again, in an rpg like Dragon Warrior or Final Fantasy (and all their sequels), (a) how is a map stored? (b) How would it *ideally* be stored? I assume you have one grid (an array of arrays) of tiles (grass, forest, desert, water, etc), but what about chests? Are they stored in the same grid? or a different grid? or an array? How do you store whether they've been looted or not? What about people that wander around? Are they in an array or a grid? If they're in an array, that'd mean you'd have to iterate the array when you press A to try to talk to whoever's in front of you (to find the one with the right location), but if they're in a grid, that'd mean you'd have to test each tile if it has a person so you can make them wander. I suppose the first sounds like the lesser of two evils.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=4131&amp;sid=e2509d46edd92be76cd9009e53f0caac"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p166243"></a>
				<b class="postauthor">dougeff</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p166243">Re: A Few Various Questions</a></div><div style="float: right;"><a href="./viewtopic.php?p=166243&amp;sid=e2509d46edd92be76cd9009e53f0caac#p166243"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Mar 15, 2016 5:40 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=7008_1468718093.png" width="67" height="85" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri May 08, 2015 7:17 pm<br /><b>Posts:</b> 1062<br /><b>Location:</b> Call me Doug
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I'm pretty sure the Dragon Quest games store treasure chest status in the SRAM (so when you save the game, it persists).<br /><br />Every object will be given a relative X and Y position on the map. Each moving object (people in towns) will have to be kept track of in the RAM. Their 'state' will go from an 'auto-move to next tile over' state, to a 'decide where can I go next' state. Since the player controls the dragon warrior, the decision part will be a 'wait for controller input' state...then immediately into a 'auto-move to next tile over' state.</div>

					
						<div class="postbody"><br />_________________<br /><a href="http://nesdoug.com" class="postlink">nesdoug.com</a> -- blog/tutorial on programming for the NES</div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=7008&amp;sid=e2509d46edd92be76cd9009e53f0caac"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p166249"></a>
				<b class="postauthor">tokumaru</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p166249">Re: A Few Various Questions</a></div><div style="float: right;"><a href="./viewtopic.php?p=166249&amp;sid=e2509d46edd92be76cd9009e53f0caac#p166249"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Mar 15, 2016 7:31 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=95.png" width="80" height="80" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sat Feb 12, 2005 9:43 pm<br /><b>Posts:</b> 8918<br /><b>Location:</b> Rio de Janeiro - Brazil
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">FinalZero wrote:</div><div class="quotecontent">I don't understand what &quot;adding 157 and reversing the bits&quot; means. If I understand correctly, 157 is the bias, which is added to the subpixel velocity, and if the result exceeds 256, then the pixel position is incremented. I don't understand when the reversing is done.</div><br />I think I was explaining how I changed the fake global sub-pixel position each frame, but it's been a while. I'll take a look at the test code I write for this later today and I'll clarify this.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">In an rpg like Dragon Warrior or Final Fantasy, or any game that has tile-based movement, how is movement between tiles made smooth?</div><br />I don't know if this is related to the first question, but let me get something out of the way: this normally doesn't have anything to do with sub-pixel movement, seeing as movement in grid-based RPGs doesn't use acceleration.<br /><br />Anyway, the basic idea is that you move the characters pixel by pixel every frame, but only allow them to change directions or stop moving when they're perfectly aligned to the grid. If you want to allow diagonal movement, you need vertical and horizontal speed variables, which can have values -1, 0 or 1, which you add to the character every frame (if you don't want diagonal movement, just allow one of the speed variables to be non-zero). After moving, you check whether the character is aligned to the grid. This test consists in isolating the lower bits of the character's position to see if they are in the exact position necessary for the character's to be centered in a square of the grid.<br /><br />For example, if the grid and the character's are 16x16 pixels large, and their coordinates represent their top left corners, you'd need to AND the vertical and horizontal coordinates with %00001111 and only when both results are 0 is the character aligned to the grid. This is when you'd check the controller and modify the speed variables accordingly.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Again, in an rpg like Dragon Warrior or Final Fantasy (and all their sequels), (a) how is a map stored? (b) How would it *ideally* be stored?</div><br />That varies a lot from game to game, since each game has different requirements.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I assume you have one grid (an array of arrays) of tiles (grass, forest, desert, water, etc), but what about chests? Are they stored in the same grid? or a different grid? or an array? How do you store whether they've been looted or not?</div><br />It depends. If the maps are stored in RAM, it's common to have these kind of items be part of the map. RPGs can have numerous large maps though, so even if you have a lot of extra RAM you won't be able to store every map.<br /><br />For this reason, sometimes it makes more sense to store collectible items as objects, and use bits of RAM to indicate whether they've been collected or not. Each item should have an ID that you'd use to locate its state bit.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">What about people that wander around? Are they in an array or a grid? If they're in an array, that'd mean you'd have to iterate the array when you press A to try to talk to whoever's in front of you (to find the one with the right location), but if they're in a grid, that'd mean you'd have to test each tile if it has a person so you can make them wander.</div><br />Moving objects should not be part of the map. The map might even contain &quot;clues&quot; indicating when/whete to spawn the objects (although having a separate list just for objects is the norm), but once they're &quot;alive&quot; they definitely shouldn't be considered part of the map.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=95&amp;sid=e2509d46edd92be76cd9009e53f0caac"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p166262"></a>
				<b class="postauthor">FinalZero</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p166262">Re: A Few Various Questions</a></div><div style="float: right;"><a href="./viewtopic.php?p=166262&amp;sid=e2509d46edd92be76cd9009e53f0caac#p166262"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Mar 15, 2016 11:36 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=4131.png" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Thu Dec 03, 2009 7:27 am<br /><b>Posts:</b> 150
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Moving objects should not be part of the map. The map might even contain &quot;clues&quot; indicating when/whete to spawn the objects (although having a separate list just for objects is the norm),</div><br />Okay.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">but once they're &quot;alive&quot; they definitely shouldn't be considered part of the map.</div><br />So, they'd be part of a separate list instead. Thus, talking would require iterating through the list of actors and checking whether the actor's location is in front of the player's location, (and if so, then triggering the dialog), right?<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Anyway, the basic idea is that you move the characters pixel by pixel every frame, but only allow them to change directions or stop moving when they're perfectly aligned to the grid</div><br />Ah, that would make sense. But, I watched DW3's ram while playing a bit, and it seems to store the location of the current tile that the player is on! (at 0x0100 and 0x0101) Maybe it stores the pixel too, but if it does, I couldn't find where.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=4131&amp;sid=e2509d46edd92be76cd9009e53f0caac"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p166268"></a>
				<b class="postauthor">tokumaru</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p166268">Re: A Few Various Questions</a></div><div style="float: right;"><a href="./viewtopic.php?p=166268&amp;sid=e2509d46edd92be76cd9009e53f0caac#p166268"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Mar 15, 2016 2:20 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=95.png" width="80" height="80" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sat Feb 12, 2005 9:43 pm<br /><b>Posts:</b> 8918<br /><b>Location:</b> Rio de Janeiro - Brazil
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">FinalZero wrote:</div><div class="quotecontent">So, they'd be part of a separate list instead. Thus, talking would require iterating through the list of actors and checking whether the actor's location is in front of the player's location, (and if so, then triggering the dialog), right?</div><br />Yes, talking would be a matter of checking for collisions between a point slightly in front of the player and any actors that talk.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Ah, that would make sense. But, I watched DW3's ram while playing a bit, and it seems to store the location of the current tile that the player is on! (at 0x0100 and 0x0101) Maybe it stores the pixel too, but if it does, I couldn't find where.</div><br />If the characters move pixel by pixel, this information has to be stored somewhere, not necessarily close to the tile coordinates. One way to find where the pixel information comes from is to put a breakpoint in the OAM page and see how the sprite coordinates are being calculated.<br /><br />EDIT: I took a quick look at the game (DWIII) and in the first room you can see the high nibble of the byte at $0116 change whenever the old guy walks, horizontally or vertically, so that appears to be the pixel counter for that object. I don't know if the main character has anything like that, since he's always at the center of the screen.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=95&amp;sid=e2509d46edd92be76cd9009e53f0caac"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p166287"></a>
				<b class="postauthor">AWJ</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p166287">Re: A Few Various Questions</a></div><div style="float: right;"><a href="./viewtopic.php?p=166287&amp;sid=e2509d46edd92be76cd9009e53f0caac#p166287"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Mar 16, 2016 5:31 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_online.gif" alt="Online" title="Online" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Nov 10, 2008 3:09 pm<br /><b>Posts:</b> 254
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent"><div class="quotetitle">FinalZero wrote:</div><div class="quotecontent">So, they'd be part of a separate list instead. Thus, talking would require iterating through the list of actors and checking whether the actor's location is in front of the player's location, (and if so, then triggering the dialog), right?</div><br />Yes, talking would be a matter of checking for collisions between a point slightly in front of the player and any actors that talk.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Ah, that would make sense. But, I watched DW3's ram while playing a bit, and it seems to store the location of the current tile that the player is on! (at 0x0100 and 0x0101) Maybe it stores the pixel too, but if it does, I couldn't find where.</div><br />If the characters move pixel by pixel, this information has to be stored somewhere, not necessarily close to the tile coordinates. One way to find where the pixel information comes from is to put a breakpoint in the OAM page and see how the sprite coordinates are being calculated.<br /><br />EDIT: I took a quick look at the game (DWIII) and in the first room you can see the high nibble of the byte at $0116 change whenever the old guy walks, horizontally or vertically, so that appears to be the pixel counter for that object. I don't know if the main character has anything like that, since he's always at the center of the screen.</div><br /><br />IIRC the Dragon Warrior games run on a schedule where you can only initiate movement on frames divisible by 16. The player's sub-tile position (= the scroll position of the screen) can be (and probably is) calculated from the direction he's moving and the global frame counter mod 16. Remember, the Japanese versions of the first two games in the series ran on cartridges without on-cart CPU RAM, so they had to pull every trick to minimize RAM usage.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3737&amp;sid=e2509d46edd92be76cd9009e53f0caac"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p166296"></a>
				<b class="postauthor">tokumaru</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p166296">Re: A Few Various Questions</a></div><div style="float: right;"><a href="./viewtopic.php?p=166296&amp;sid=e2509d46edd92be76cd9009e53f0caac#p166296"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Mar 16, 2016 9:07 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=95.png" width="80" height="80" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sat Feb 12, 2005 9:43 pm<br /><b>Posts:</b> 8918<br /><b>Location:</b> Rio de Janeiro - Brazil
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">AWJ wrote:</div><div class="quotecontent">IIRC the Dragon Warrior games run on a schedule where you can only initiate movement on frames divisible by 16.</div><br />That would explain the unresponsive controls.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=95&amp;sid=e2509d46edd92be76cd9009e53f0caac"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p166299"></a>
				<b class="postauthor">FinalZero</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p166299">Re: A Few Various Questions</a></div><div style="float: right;"><a href="./viewtopic.php?p=166299&amp;sid=e2509d46edd92be76cd9009e53f0caac#p166299"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Mar 16, 2016 11:26 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=4131.png" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Thu Dec 03, 2009 7:27 am<br /><b>Posts:</b> 150
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Remember, the Japanese versions of the first two games in the series ran on cartridges without on-cart CPU RAM, so they had to pull every trick to minimize RAM usage.</div><br />Could you explain what &quot;on-cart CPU RAM&quot; is?</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=4131&amp;sid=e2509d46edd92be76cd9009e53f0caac"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p166300"></a>
				<b class="postauthor">tokumaru</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p166300">Re: A Few Various Questions</a></div><div style="float: right;"><a href="./viewtopic.php?p=166300&amp;sid=e2509d46edd92be76cd9009e53f0caac#p166300"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Mar 16, 2016 11:44 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=95.png" width="80" height="80" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sat Feb 12, 2005 9:43 pm<br /><b>Posts:</b> 8918<br /><b>Location:</b> Rio de Janeiro - Brazil
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">FinalZero wrote:</div><div class="quotecontent">Could you explain what &quot;on-cart CPU RAM&quot; is?</div><br />An extra RAM chip inside the cartridge, so the game has more to play with than just the 2KB of RAM the NES ordinarily has. In most cases, that's 8KB of extra RAM, but some mappers are able to use more through bankswitching.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=95&amp;sid=e2509d46edd92be76cd9009e53f0caac"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p166303"></a>
				<b class="postauthor">FinalZero</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p166303">Re: A Few Various Questions</a></div><div style="float: right;"><a href="./viewtopic.php?p=166303&amp;sid=e2509d46edd92be76cd9009e53f0caac#p166303"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Mar 16, 2016 1:14 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=4131.png" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Thu Dec 03, 2009 7:27 am<br /><b>Posts:</b> 150
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">An extra RAM chip inside the cartridge, so the game has more to play with than just the 2KB of RAM the NES ordinarily has. In most cases, that's 8KB of extra RAM, but some mappers are able to use more through bankswitching.</div><br />How do you watch/monitor such RAM in an emulator? (I'm using FCEUX.)</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=4131&amp;sid=e2509d46edd92be76cd9009e53f0caac"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p166304"></a>
				<b class="postauthor" style="color: #AA0000">tepples</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p166304">Re: A Few Various Questions</a></div><div style="float: right;"><a href="./viewtopic.php?p=166304&amp;sid=e2509d46edd92be76cd9009e53f0caac#p166304"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Mar 16, 2016 1:31 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Sep 19, 2004 11:12 pm<br /><b>Posts:</b> 17085<br /><b>Location:</b> NE Indiana, USA (NTSC)
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">In FCEUX for Windows, open the Hex Editor and scroll to $6000. Work RAM on the cartridge lies between $6000 and $7FFF.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=9&amp;sid=e2509d46edd92be76cd9009e53f0caac"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p166330"></a>
				<b class="postauthor">FinalZero</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p166330">Re: A Few Various Questions</a></div><div style="float: right;"><a href="./viewtopic.php?p=166330&amp;sid=e2509d46edd92be76cd9009e53f0caac#p166330"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Mar 17, 2016 6:05 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=4131.png" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Thu Dec 03, 2009 7:27 am<br /><b>Posts:</b> 150
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">In FCEUX for Windows, open the Hex Editor and scroll to $6000. Work RAM on the cartridge lies between $6000 and $7FFF.</div><br />Thank you.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I think I was explaining how I changed the fake global sub-pixel position each frame, but it's been a while. I'll take a look at the test code I write for this later today and I'll clarify this.</div><br />Are you able to clarify this yet?<br /><br />Another question (not really NES-related): If you were to program Pacman (on any system), how would you classify the dots and pills that pacman eats? Would they be part of the map? or actors? I'm writing such a game, and I've already classified them as part of the map, but the more I think about it now, they ought to be actors, because the advantage of having an unchanging map is that you never have to update/edit it. I worry a bit about checking 100+ actors for collisions, but I suppose if a space shooter can do it, a pacman-like game can too.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=4131&amp;sid=e2509d46edd92be76cd9009e53f0caac"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p166332"></a>
				<b class="postauthor">tokumaru</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p166332">Re: A Few Various Questions</a></div><div style="float: right;"><a href="./viewtopic.php?p=166332&amp;sid=e2509d46edd92be76cd9009e53f0caac#p166332"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Mar 17, 2016 6:36 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=95.png" width="80" height="80" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sat Feb 12, 2005 9:43 pm<br /><b>Posts:</b> 8918<br /><b>Location:</b> Rio de Janeiro - Brazil
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Totally forgot about the sub-pixel thing. I'll check in an hour or so.<br /><br />As for map vs. actors, my advice is to always separate the map from interactive objects, provided the platform can handle the amount of actors needed.<br /><br />EDIT: Here's my JavaScript test in its entirety:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&lt;!doctype html&gt;<br />&lt;html&gt;<br />&nbsp; &nbsp;&lt;head&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&lt;meta charset=&quot;utf-8&quot;&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js&quot;&gt;&lt;/script&gt;<br />&nbsp; &nbsp;&lt;/head&gt;<br />&nbsp; &nbsp;&lt;body&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&lt;div class=&quot;sprite&quot; style=&quot;background: #000000; height: 50px; position: absolute; top: 80px; width: 50px;&quot;&gt;&lt;/div&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&lt;script&gt;<br />var $sprite = $(&quot;.sprite&quot;);<br />var numCount = 0;<br />var numSpriteX = 0;<br />var numVelocity = Math.floor(2 * 256);<br />var numTimer = window.setInterval(function () {<br />&nbsp; &nbsp;var numBias = 0;<br />&nbsp; &nbsp;numCount = (numCount + 157) &amp; 255; //numCount = (numCount + 1) &amp; 255;<br />&nbsp; &nbsp;numBias |= (numCount &amp; 0x01) &lt;&lt; 7;<br />&nbsp; &nbsp;numBias |= (numCount &amp; 0x02) &lt;&lt; 5;<br />&nbsp; &nbsp;numBias |= (numCount &amp; 0x04) &lt;&lt; 3;<br />&nbsp; &nbsp;numBias |= (numCount &amp; 0x08) &lt;&lt; 1;<br />&nbsp; &nbsp;numBias |= (numCount &amp; 0x10) &gt;&gt; 1;<br />&nbsp; &nbsp;numBias |= (numCount &amp; 0x20) &gt;&gt; 3;<br />&nbsp; &nbsp;numBias |= (numCount &amp; 0x40) &gt;&gt; 5;<br />&nbsp; &nbsp;numBias |= (numCount &amp; 0x80) &gt;&gt; 7;<br />&nbsp; &nbsp;numBias += numVelocity;<br />&nbsp; &nbsp;numSpriteX += numBias;<br />&nbsp; &nbsp;$sprite.css({ &quot;left&quot;: Math.floor(numSpriteX &gt;&gt; 8) + &quot;px&quot; });<br />&nbsp; &nbsp;if (numSpriteX &lt;= 0) window.clearInterval(numTimer);<br />&nbsp; &nbsp;numVelocity -= 1;<br />}, 1000 / 60);<br />&nbsp; &nbsp;&nbsp; &nbsp;&lt;/script&gt;<br />&nbsp; &nbsp;&lt;/body&gt;<br />&lt;/html&gt;</div><br />So yeah, the bias in this case calculated by mirroring the bits of a counter that's incremented by 157 every frame. I haven't actually used this for anything, I just made this one test program, so I can't comment on the effectiveness of this in an actual game.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=95&amp;sid=e2509d46edd92be76cd9009e53f0caac"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p166339"></a>
				<b class="postauthor">FinalZero</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p166339">Re: A Few Various Questions</a></div><div style="float: right;"><a href="./viewtopic.php?p=166339&amp;sid=e2509d46edd92be76cd9009e53f0caac#p166339"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Mar 18, 2016 4:30 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=4131.png" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Thu Dec 03, 2009 7:27 am<br /><b>Posts:</b> 150
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">So yeah, the bias in this case calculated by mirroring the bits of a counter that's incremented by 157 every frame. I haven't actually used this for anything, I just made this one test program, so I can't comment on the effectiveness of this in an actual game.</div><br />Ah, so the counter is incremented by 157 instead of 1. That makes sense.<br /><br />I may use this in my pacman game; I'll first get it working without the &quot;dithering&quot;, and then assess whether the movement is smooth enough.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=4131&amp;sid=e2509d46edd92be76cd9009e53f0caac"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p166804"></a>
				<b class="postauthor">rainwarrior</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p166804">Re: A Few Various Questions</a></div><div style="float: right;"><a href="./viewtopic.php?p=166804&amp;sid=e2509d46edd92be76cd9009e53f0caac#p166804"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Mar 24, 2016 8:25 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=5165_1471663472.jpg" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Jan 22, 2012 12:03 pm<br /><b>Posts:</b> 4233<br /><b>Location:</b> Canada
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">FinalZero wrote:</div><div class="quotecontent">Another question (not really NES-related): If you were to program Pacman (on any system), how would you classify the dots and pills that pacman eats? Would they be part of the map? or actors? I'm writing such a game, and I've already classified them as part of the map, but the more I think about it now, they ought to be actors, because the advantage of having an unchanging map is that you never have to update/edit it. I worry a bit about checking 100+ actors for collisions, but I suppose if a space shooter can do it, a pacman-like game can too.</div><br />When you want to have 100+ of a thing on screen, my advice is to stop trying to fit that thing into some generic category and just make it something special. Make a &quot;dot&quot; system, don't try to shoehorn them into something else. Every game has its own unique demands, generic containers and frameworks usually aren't good enough.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=5165&amp;sid=e2509d46edd92be76cd9009e53f0caac"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table width="100%" cellspacing="1" class="tablebg">
	<tr align="center">
		<td class="cat"><form name="viewtopic" method="post" action="./viewtopic.php?f=10&amp;t=13958&amp;sid=e2509d46edd92be76cd9009e53f0caac"><span class="gensmall">Display posts from previous:</span> <select name="st" id="st"><option value="0" selected="selected">All posts</option><option value="1">1 day</option><option value="7">7 days</option><option value="14">2 weeks</option><option value="30">1 month</option><option value="90">3 months</option><option value="180">6 months</option><option value="365">1 year</option></select>&nbsp;<span class="gensmall">Sort by</span> <select name="sk" id="sk"><option value="a">Author</option><option value="t" selected="selected">Post time</option><option value="s">Subject</option></select> <select name="sd" id="sd"><option value="a" selected="selected">Ascending</option><option value="d">Descending</option></select>&nbsp;<input class="btnlite" type="submit" value="Go" name="sort" /></form></td>
	</tr>
	</table>
	

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=10&amp;sid=e2509d46edd92be76cd9009e53f0caac"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=10&amp;t=13958&amp;sid=e2509d46edd92be76cd9009e53f0caac"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>1</strong> of <strong>1</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 15 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"></td>
		
	</tr>
	</table>

</div>

<div id="pagefooter"></div>

<br clear="all" />
<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php?sid=e2509d46edd92be76cd9009e53f0caac">Board index</a> &#187; <a href="./viewforum.php?f=24&amp;sid=e2509d46edd92be76cd9009e53f0caac">NES / Famicom</a> &#187; <a href="./viewforum.php?f=10&amp;sid=e2509d46edd92be76cd9009e53f0caac">Newbie Help Center</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>
	<br clear="all" />

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat"><h4>Who is online</h4></td>
	</tr>
	<tr>
		<td class="row1"><p class="gensmall">Users browsing this forum: No registered users and 2 guests</p></td>
	</tr>
	</table>


<br clear="all" />

<table width="100%" cellspacing="1">
<tr>
	<td width="40%" valign="top" nowrap="nowrap" align="left"></td>
	<td align="right" valign="top" nowrap="nowrap"><span class="gensmall">You <strong>cannot</strong> post new topics in this forum<br />You <strong>cannot</strong> reply to topics in this forum<br />You <strong>cannot</strong> edit your posts in this forum<br />You <strong>cannot</strong> delete your posts in this forum<br />You <strong>cannot</strong> post attachments in this forum<br /></span></td>
</tr>
</table>

<br clear="all" />

<table width="100%" cellspacing="0">
<tr>
	<td><form method="get" name="search" action="./search.php?sid=e2509d46edd92be76cd9009e53f0caac"><span class="gensmall">Search for:</span> <input class="post" type="text" name="keywords" size="20" /> <input class="btnlite" type="submit" value="Go" /><input type="hidden" name="t" value="13958" />
<input type="hidden" name="sf" value="msgonly" />
<input type="hidden" name="sid" value="e2509d46edd92be76cd9009e53f0caac" />
</form></td>
	<td align="right">
	<form method="post" name="jumpbox" action="./viewforum.php?sid=e2509d46edd92be76cd9009e53f0caac" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	<table cellspacing="0" cellpadding="0" border="0">
	<tr>
		<td nowrap="nowrap"><span class="gensmall">Jump to:</span>&nbsp;<select name="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">

		
			<option value="-1">Select a forum</option>
		<option value="-1">------------------</option>
			<option value="24">NES / Famicom</option>
		
			<option value="2">&nbsp; &nbsp;NESdev</option>
		
			<option value="3">&nbsp; &nbsp;NESemdev</option>
		
			<option value="21">&nbsp; &nbsp;NES Graphics</option>
		
			<option value="6">&nbsp; &nbsp;NES Music</option>
		
			<option value="22">&nbsp; &nbsp;Homebrew Projects</option>
		
			<option value="32">&nbsp; &nbsp;&nbsp; &nbsp;2016 NESdev Competition</option>
		
			<option value="31">&nbsp; &nbsp;&nbsp; &nbsp;2014 NESdev Competition</option>
		
			<option value="30">&nbsp; &nbsp;&nbsp; &nbsp;2011 NESdev Competition</option>
		
			<option value="10" selected="selected">&nbsp; &nbsp;Newbie Help Center</option>
		
			<option value="9">&nbsp; &nbsp;NES Hardware and Flash Equipment</option>
		
			<option value="28">&nbsp; &nbsp;&nbsp; &nbsp;Reproduction</option>
		
			<option value="19">&nbsp; &nbsp;NESdev International</option>
		
			<option value="11">&nbsp; &nbsp;&nbsp; &nbsp;FCdev</option>
		
			<option value="18">&nbsp; &nbsp;&nbsp; &nbsp;NESdev China</option>
		
			<option value="27">&nbsp; &nbsp;&nbsp; &nbsp;NESdev Middle East</option>
		
			<option value="25">Other</option>
		
			<option value="5">&nbsp; &nbsp;General Stuff</option>
		
			<option value="4">&nbsp; &nbsp;Membler Industries</option>
		
			<option value="23">&nbsp; &nbsp;Other Retro Dev</option>
		
			<option value="12">&nbsp; &nbsp;&nbsp; &nbsp;SNESdev</option>
		
			<option value="20">&nbsp; &nbsp;&nbsp; &nbsp;GBDev</option>
		
			<option value="15">&nbsp; &nbsp;Test Forum</option>
		
			<option value="26">Site Issues</option>
		
			<option value="13">&nbsp; &nbsp;phpBB Issues</option>
		
			<option value="14">&nbsp; &nbsp;Web Issues</option>
		
			<option value="16">&nbsp; &nbsp;nesdevWiki</option>
		

		</select>&nbsp;<input class="btnlite" type="submit" value="Go" /></td>
	</tr>
	</table>

	</form>
</td>
</tr>
</table>


</div>


<div id="wrapfooter">
	
	<span class="copyright">Powered by <a href="http://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Group
	</span>
</div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-61452025-2', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>