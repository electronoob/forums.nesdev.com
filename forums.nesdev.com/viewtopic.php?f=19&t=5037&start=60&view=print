<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Comunidad nesdev hispana</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Comunidad nesdev hispana</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=19&amp;t=5037">http://forums.nesdev.com/viewtopic.php?f=19&amp;t=5037</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>5</strong> of <strong>7</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Anes</b> [ Wed Jul 20, 2011 10:55 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">ehguacho wrote:</div><div class="quotecontent"><div class="quotetitle">Petruza wrote:</div><div class="quotecontent">No veo por qué podría haber problemas con la pila. Si se llamaran recursivamente podría ser, pero no tiene sentido.<br />Cada CPU emulado debería llamar sólo a una instrucción a la vez</div><br /><br />lo mismo pense yo, pero queria sacarme la duda de todas maneras jeje</div>
<br />
<br />No hay problemas con la pila, como dice Petruza si fueran recursivas sí, pero una sola función no.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Petruza</b> [ Wed Jul 20, 2011 2:56 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Anes wrote:</div><div class="quotecontent"><div class="quotetitle">Petruza wrote:</div><div class="quotecontent">y la ejecución de las instrucciones, la hacés con punteros a función guardados en esa matriz?</div><br /><br />No, de ahí tomo los ciclos nomás, no uso puntero a funciones, excepto para los mappers.<br /><br />Mapeo la memoria del CPU y PPU.</div>
<br />
<br />Alguien de aquí quiere compartir su código?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>ehguacho</b> [ Thu Jul 21, 2011 12:13 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Anes wrote:</div><div class="quotecontent">En realidad, los cpu test de Blargg en el readme tienen una matriz de los ciclos de los opcodes, de ahí yo los tomé directamente e hice una matriz en C.</div>
<br />
<br />yo hice exactamente lo mismo con el famoso M6502 de Marat Fayzullin

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Anes</b> [ Tue Aug 02, 2011 1:01 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">yo hice exactamente lo mismo con el famoso M6502 de Marat Fayzullin</div>
<br />
<br />Tené cuidado con esos documentos. Están medios desactualizados. No te recomiendo que lo saqués de ahí. Por supuesto no te vas a poner a comparar opcode por opcode para ver si son iguales, pero los test de blargg se saben que sí están correctos. 
<br />edit: Acordate también del page crossing.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>ehguacho</b> [ Tue Aug 02, 2011 6:07 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />yeap, lo tuve en cuenta en su momento, es por eso que despues baje los tests de blarg de la CPU y en todos saque "muy bien te felicito" (:

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Diskover</b> [ Thu Nov 24, 2011 7:25 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Hola buenas. Da la casualidad que desde hace algunas semanas estoy siguiendo un tutorial básico creado por el usuario <strong>wave </strong>o <strong>sewave </strong>(dependiendo el foro).
<br />
<br />Empezamos muy activamente en el foro de El Otro Lado, en la sección Consolas Clásicas <!-- m --><a class="postlink" href="http://www.elotrolado.net/hilo_tutorial-programacion-nes-basico_1694073">http://www.elotrolado.net/hilo_tutorial ... co_1694073</a><!-- m -->
<br />
<br />Debido a la poca acogida, decidimos trasladarlo todo a mi foro de la NES, RetroNES, que no se si la conoceréis. El nuevo hilo tiene esta dirección: <!-- m --><a class="postlink" href="http://www.retrones.net/foro/viewtopic.php?f=1&amp;t=8633">http://www.retrones.net/foro/viewtopic.php?f=1&amp;t=8633</a><!-- m -->
<br />
<br />Os pongo unas cuantas imágenes de los progresos que estoy haciendo gracias a las enseñanzas de <strong>wave</strong>, que ademas se esta trabajando un framework basado en NESHLA. A parte, para la cración de pantallas y sprites uso el NES Screen Tool
<br />
<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><strong>Ejemplo 1: Imagen estática de Zelda 3.</strong><br />- Elegí una pantalla del videojuego <em>The Legend of Zelda: A link to the past</em> de SNES para pasarla a la NES y ver que tal quedaría dadas sus limitaciones. Para ello hice una captura del juego y mediante la herramienta NES Screen Tool recree lo máximo posible los objetos, tiles, etc... que aparecían en la NES.<br />- Hay que tener en cuenta que solo podemos jugar con 4 paletas de 4 colores, uno de ellos compartido y que se usa como color predominante, fondo, etc... Ademas, la pantalla realmente esta dividida por sprites de 2x2 tiles y tienen que compartir la misma paleta, por lo cual se nos complica mucho mas las cosas. Podéis comprobarlo vosotros mismos.<br />- Os dejo la muestra y la rom resultante. Como está creada bajo el codigo de uno de los primero ejemplos del tutorial, se conserva el efecto de aumentar o bajar el brillo usando la cruceta arriba o abajo.<br /><br /><img src="http://i14.photobucket.com/albums/a305/diskover/600full-the-legend-of-zelda--a-link-to-the-past-screenshot.png" alt="Image" /> <img src="http://i14.photobucket.com/albums/a305/diskover/Rulo_15112011201111150316509.jpg" alt="Image" /><br /><br />ROM: <a href="http://www.elotrolado.net/download/file.php?id=71254" class="postlink">http://www.elotrolado.net/download/file.php?id=71254</a></div><br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Ejemplo 2: Imagen estática de SMW<br />- Este ejemplo es igual que el anterior pero con el juego Super Mario World de SNES<br />- Fijaos en el detalle de los límites de la NES. Mientras en la SNES podemos jugar con hasta 5 planos diferentes, en la NES solo hay dos: El fondo y los sprites principales. Representar el fondo sin consumir toda la tabla de tiles que nos deja el banco de NES es complicado, por eso muchas en muchas ocasiones prefiero hacer algo parecido al original y no igual. Que de "el pego" <img src="./images/smilies/icon_wink.gif" alt=";-)" title="Wink" /><br /><br /><img src="http://i14.photobucket.com/albums/a305/diskover/super-mario-world006.png" alt="Image" /> <img src="http://i14.photobucket.com/albums/a305/diskover/SMW_15112011c201111160752020.jpg" alt="Image" /><br /><br />ROM: <a href="http://www.elotrolado.net/download/file.php?id=71262" class="postlink">http://www.elotrolado.net/download/file.php?id=71262</a><br /><br /><img src="http://i14.photobucket.com/albums/a305/diskover/SUPER_MARIO_WORLD200804_0705-22-12.png" alt="Image" /> <img src="http://i14.photobucket.com/albums/a305/diskover/SMW_17112011a201111221224493.jpg" alt="Image" /></div><br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Ejemplo 3: Imagen estática con metaSprite en movimiento<br />- Aquí la cosa se pone mas interesante. Volvemos al <em>The Legend of Zelda: A link to the past</em> he incluimos un sprite de Link muy rudimentario. Los sprites solo pueden llevar una paleta de 4 colores y encima uno de ellos tiene que ser transparente para que se vea bien en pantalla. Así pues, yo aquí he jugado con el <em>transparente + negro + verde + marrón</em>.<br />- Para ello he hecho uso de los metaSprites que hablamos en el tutorial.<br /><br /><img src="http://i14.photobucket.com/albums/a305/diskover/project201111221503057.jpg" alt="Image" /><br /><br />ROM: <!-- m --><a class="postlink" href="http://www.elotrolado.net/download/file.php?id=71440">http://www.elotrolado.net/download/file.php?id=71440</a><!-- m --></div><br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Ejemplo 4: Jugando con los metaSprites: Dos en uno.<br />- Dada la limitación de colores por sprite (3 mas transparente) he hecho uso de un viejo truco que se veía en otro juegos de NES para que los sprites, sobre todo de los protagonistas, parezca que tienen mas colores. Para ello he usado dos metaSprites encajándolos uno encima del otro y ocupando las partes sin colorear de uno por los del otro. Es algo complejo dado que tienes que tener muy claro con la herramienta de creación de tiles que partes ocupara uno y cuales el otro para que cuando encajen, queden perfectos.<br />- Este truco se uso por ejemplo para poner el blanco de los ojos a Megaman o a Mario en Super Mario Bros. 2 entre otros. Yo aprovecho que puedo usar 3+1 para darle mas vida al sprite del Link, añadiéndole el color purpura y naranja al gorro y a la cara. El resultado es muy aceptable y mejor que el original.<br />- Lo malo es que consumes mas recursos de la NES pues estas moviendo mas metaSprites a la vez, no solo uno. Ademas, es muy complejo animar todos a la vez y no volverte loco. Si vais ha hacer esto, planteároslo bien desde el principio como hacerlo por que os podéis volver tarumbas.<br />- También he hecho que Link solo se mueva cuando pulsamos la cruceta.<br /><br /><img src="http://i14.photobucket.com/albums/a305/diskover/Zelda3_22112011c201111221828098.jpg" alt="Image" /><br /><br /><img src="http://i14.photobucket.com/albums/a305/diskover/link_2_paletas-1.jpg" alt="Image" /><br /><br />ROM: <a href="http://www.elotrolado.net/download/file.php?id=71495" class="postlink">http://www.elotrolado.net/download/file.php?id=71495</a></div><br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Ejemplo 4: Esta vez con el Super Mario World:<br /><br />- He intentado no complicarme tanto y usar solo dos metaSprites para dibujar a Mario en vez del cacao que tenia montado con Link. <br />- Mario tiene tres frames: Quieto, iniciando andar y andando. Animándolo parece que anda a trote. Ademas he añadido que solo lo haga hacia la izquierda y hacia la derecha y se anime solo cuando pulsamos cualquiera de estas direcciones.<br /><br />Objetivos:<br />- Que cuando deje de pulsar se ponga en el frame de quieto. No se si habra alguna sentencia contraria a <em>mantained</em> que interprete esto.<br />- Que cuando pulse B la velocidad de desplazamiento sea mas rápida y luego vuelva a la normalidad cuando deje de pulsar. <br /><br />Por ahora solo eso. Dejo la primera rom de demostración y una captura.<br /><br /><img src="http://i14.photobucket.com/albums/a305/diskover/project-0.png" alt="Image" /><br /><br />ROM a: <!-- m --><a class="postlink" href="http://www.megaupload.com/?d=ZYKTJ1T8">http://www.megaupload.com/?d=ZYKTJ1T8</a><!-- m --><br />ROM con control de velocidad añadido: <!-- m --><a class="postlink" href="http://www.megaupload.com/?d=YDN73CEA">http://www.megaupload.com/?d=YDN73CEA</a><!-- m --></div>
<br />
<br />Espero que sea de vuestro agrado

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Petruza</b> [ Thu Nov 24, 2011 8:05 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Muy interesante, pero explica un poco más de qué va tu proyecto, cuál es el objetivo? retro-portar juegos de SNES a NES? algún juego en particular? sólo hacer screenshots?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Diskover</b> [ Thu Nov 24, 2011 8:13 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Por ahora estoy aprendiendo pues mis conocimientos son mínimos.
<br />
<br />Seria interesante poder portar el <em>Super Mario World</em> o el <em>Zelda</em> de SNES a NES. Comprovaras que las imagenes son sreenshoots que monto con el NES Screen Tool, pero a los sprites de Mario y Link les estoy intentando dar vida.
<br />
<br />Por ahora solo les estoy usando para poner a prueba los conocimientos que voy adquiriendo y que me va enseñando wave.
<br />
<br />Mas adelante seguramente hagamos un juego completo, desde 0 y original, pero mientras tanto mis tutorias las desempeño probando cosas en estos dos juegos.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Petruza</b> [ Thu Nov 24, 2011 9:56 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Los screenshots tuyos la verdad se ven muy bien, el proyecto está muy bueno.
<br />Con respecto a las pantallas de Super Mario, la barra negra de arriba creo que se podría reemplazar por el color de fondo, azul en la primera y verde en la segunda, de esa forma se lograría imitar el overlay de las pantallas de SNES, no?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Diskover</b> [ Fri Nov 25, 2011 2:35 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />No quedaría bien, y aun mas, quedaría tan mal como la versión china que hicieron en su día del SMW para la NES.
<br />
<br /><img src="http://i14.photobucket.com/albums/a305/diskover/Super_Mario_World_1.png" alt="Image" /> <img src="http://i14.photobucket.com/albums/a305/diskover/infosmwnes2.png" alt="Image" />
<br />
<br />Un despropósito.
<br />
<br />Lo mio es muy mejorable, y se hará bien a su debido momento, pero no pienso poner el color de fondo del marcador según cuadre con que pantalla. Mejor dejarlo siempre negro.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Petruza</b> [ Fri Nov 25, 2011 4:44 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />No se ven las imágenes

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Diskover</b> [ Fri Nov 25, 2011 5:18 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Arreglado

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Petruza</b> [ Fri Nov 25, 2011 5:58 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />ah porque las pusieron abajo, pero arriba no creo que quede muy mal.
<br />
<br /><img src="http://i.imm.io/c3wT.png" alt="Image" />
<br />
<br />Sólo una sugerencia.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Diskover</b> [ Fri Nov 25, 2011 8:21 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Ahora Mario se mueve y controla bien: Anda, corre pulsando B, y se agacha.
<br />
<br />Mmmm, lo de hacerle saltar me parecería una proeza XD XD XD ¿alguien sabe darme una idea de como se hace en otros juegos? ¿?
<br />
<br /><img src="http://i14.photobucket.com/albums/a305/diskover/project-3.png" alt="Image" /> <img src="http://i14.photobucket.com/albums/a305/diskover/project-0-1.png" alt="Image" />
<br />
<br />ROM: <!-- m --><a class="postlink" href="http://www.megaupload.com/?d=UZYBW2AF">http://www.megaupload.com/?d=UZYBW2AF</a><!-- m -->

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Diskover</b> [ Sat Nov 26, 2011 8:37 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Arreglado el movimiento de Link. Ahora se mueve en todas las dirección, aunque cuando vas en diagonal, en algunos casos y dependiendo de como partías, la animación se queda parada.
<br />
<br /><img src="http://i14.photobucket.com/albums/a305/diskover/project-1.png" alt="Image" /> <img src="http://i14.photobucket.com/albums/a305/diskover/project-0-2.png" alt="Image" />
<br />
<br />ROM: <!-- m --><a class="postlink" href="http://www.megaupload.com/?d=HKD97C2B">http://www.megaupload.com/?d=HKD97C2B</a><!-- m -->

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>5</strong> of <strong>7</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>