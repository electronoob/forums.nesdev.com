<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="http://forums.nesdev.com/feed.php?f=2&amp;t=8624" />

<title>nesdev.com</title>
<subtitle>NES Development and Strangulation Records message boards</subtitle>
<link href="http://forums.nesdev.com/index.php" />
<updated>2012-02-17T18:37:18-07:00</updated>

<author><name><![CDATA[nesdev.com]]></name></author>
<id>http://forums.nesdev.com/feed.php?f=2&amp;t=8624</id>
<entry>
<author><name><![CDATA[rainwarrior]]></name></author>
<updated>2012-02-17T18:37:18-07:00</updated>
<published>2012-02-17T18:37:18-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8624&amp;p=90119#p90119</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8624&amp;p=90119#p90119"/>
<title type="html"><![CDATA[Sprite mulitplexing / raster effects?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8624&amp;p=90119#p90119"><![CDATA[
Ahh, yeah he probably did mean that.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=5165">rainwarrior</a> — Fri Feb 17, 2012 6:37 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tokumaru]]></name></author>
<updated>2012-02-17T18:34:51-07:00</updated>
<published>2012-02-17T18:34:51-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8624&amp;p=90118#p90118</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8624&amp;p=90118#p90118"/>
<title type="html"><![CDATA[Sprite mulitplexing / raster effects?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8624&amp;p=90118#p90118"><![CDATA[
Maybe Dwedit meant the sprite overflow flag. I'm using this flag in my game, to detect the beginning of the frame (9 sprites are located at the very top of the screen). For that purpose, it seems reliable enough.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=95">tokumaru</a> — Fri Feb 17, 2012 6:34 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[rainwarrior]]></name></author>
<updated>2012-02-17T18:01:53-07:00</updated>
<published>2012-02-17T18:01:53-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8624&amp;p=90114#p90114</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8624&amp;p=90114#p90114"/>
<title type="html"><![CDATA[Sprite mulitplexing / raster effects?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8624&amp;p=90114#p90114"><![CDATA[
<div class="quotetitle">Dwedit wrote:</div><div class="quotecontent"><br />It just means you'll get slightly different results from the ever-unreliable sprite collision flag that nobody should use anyway.<br /></div><br /><br />? There's like a zillion games that use it reliably.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=5165">rainwarrior</a> — Fri Feb 17, 2012 6:01 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2012-02-17T15:44:34-07:00</updated>
<published>2012-02-17T15:44:34-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8624&amp;p=90103#p90103</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8624&amp;p=90103#p90103"/>
<title type="html"><![CDATA[Sprite mulitplexing / raster effects?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8624&amp;p=90103#p90103"><![CDATA[
<div class="quotetitle">tokumaru wrote:</div><div class="quotecontent"><br />...And the memory can't be used for arrays, because every 3 bytes you must have a certain value.<br /></div><br />You can if elements of the array are spaced 4 bytes apart. (The first that come to mind are variables associated with channels in my music engine.)<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Fri Feb 17, 2012 3:44 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Dwedit]]></name></author>
<updated>2012-02-17T15:15:54-07:00</updated>
<published>2012-02-17T15:15:54-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8624&amp;p=90102#p90102</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8624&amp;p=90102#p90102"/>
<title type="html"><![CDATA[Sprite mulitplexing / raster effects?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8624&amp;p=90102#p90102"><![CDATA[
<div class="quotetitle">cpow wrote:</div><div class="quotecontent"><br />Oh...I suppose that might get glitchy though when the PPU hits the 8-sprite-per-sccanline limit and starts picking the wrong bytes as y-coord.  Hm.<br /></div><br /><br />That stuff simply doesn't matter if the sprites are offscreen anyway.  It won't affect the display of visible sprites, or affect how Sprite 0 collision works.  It just means you'll get slightly different results from the ever-unreliable sprite collision flag that nobody should use anyway.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=53">Dwedit</a> — Fri Feb 17, 2012 3:15 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tokumaru]]></name></author>
<updated>2012-02-17T15:04:02-07:00</updated>
<published>2012-02-17T15:04:02-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8624&amp;p=90099#p90099</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8624&amp;p=90099#p90099"/>
<title type="html"><![CDATA[Sprite mulitplexing / raster effects?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8624&amp;p=90099#p90099"><![CDATA[
...And the memory can't be used for arrays, because every 3 bytes you must have a certain value.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=95">tokumaru</a> — Fri Feb 17, 2012 3:04 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[cpow]]></name></author>
<updated>2012-02-17T14:35:15-07:00</updated>
<published>2012-02-17T14:35:15-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8624&amp;p=90098#p90098</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8624&amp;p=90098#p90098"/>
<title type="html"><![CDATA[Sprite mulitplexing / raster effects?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8624&amp;p=90098#p90098"><![CDATA[
<div class="quotetitle">tokumaru wrote:</div><div class="quotecontent"><br />Or when you are tight on RAM and don't use that many sprites, so you can use part of the page for other purposes.<br /></div><br /><br />Technically you could use almost 3/4 of the page for whatever you want, right?  Just make sure to set all the y-coord bytes to an off-screen value, then put data in the other three bytes.  Yeah you're DMAing garbage to the PPU but who cares?<br /><br />Oh...I suppose that might get glitchy though when the PPU hits the 8-sprite-per-sccanline limit and starts picking the wrong bytes as y-coord.  Hm.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3705">cpow</a> — Fri Feb 17, 2012 2:35 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tokumaru]]></name></author>
<updated>2012-02-17T10:37:42-07:00</updated>
<published>2012-02-17T10:37:42-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8624&amp;p=90091#p90091</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8624&amp;p=90091#p90091"/>
<title type="html"><![CDATA[Sprite mulitplexing / raster effects?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8624&amp;p=90091#p90091"><![CDATA[
Or when you are tight on RAM and don't use that many sprites, so you can use part of the page for other purposes.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=95">tokumaru</a> — Fri Feb 17, 2012 10:37 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2012-02-17T08:06:00-07:00</updated>
<published>2012-02-17T08:06:00-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8624&amp;p=90088#p90088</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8624&amp;p=90088#p90088"/>
<title type="html"><![CDATA[Sprite mulitplexing / raster effects?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8624&amp;p=90088#p90088"><![CDATA[
I guess the only reason for direct writes to $2004 would be to update OAM when you're doing something that can't spare 500+ cycles, such as playing back audio through $4011.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Fri Feb 17, 2012 8:06 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[thefox]]></name></author>
<updated>2012-02-17T09:09:07-07:00</updated>
<published>2012-02-17T06:39:40-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8624&amp;p=90083#p90083</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8624&amp;p=90083#p90083"/>
<title type="html"><![CDATA[Sprite mulitplexing / raster effects?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8624&amp;p=90083#p90083"><![CDATA[
<div class="quotetitle">Shiru wrote:</div><div class="quotecontent"><br />I have no idea why direct OAM access does not work as expected, but it actually happens. Some sprites disappear sometimes, things like this.<br /></div><br />I remember noticing the same but didn't care to figure out the exact reason because the DMA is there and works. It may have something to do with the value that the OAM address (controlled by $2003) ends up with. You could try resetting it to $00 after writing the sprites.<br /><br />EDIT: typo<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=80">thefox</a> — Fri Feb 17, 2012 6:39 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Shiru]]></name></author>
<updated>2012-02-17T03:11:22-07:00</updated>
<published>2012-02-17T03:11:22-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8624&amp;p=90063#p90063</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8624&amp;p=90063#p90063"/>
<title type="html"><![CDATA[Sprite mulitplexing / raster effects?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8624&amp;p=90063#p90063"><![CDATA[
I have no idea why direct OAM access does not work as expected, but it actually happens. Some sprites disappear sometimes, things like this.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4205">Shiru</a> — Fri Feb 17, 2012 3:11 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Bregalad]]></name></author>
<updated>2012-02-17T03:03:31-07:00</updated>
<published>2012-02-17T03:03:31-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8624&amp;p=90062#p90062</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8624&amp;p=90062#p90062"/>
<title type="html"><![CDATA[Sprite mulitplexing / raster effects?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8624&amp;p=90062#p90062"><![CDATA[
<div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />I doubt that sprite multiplexing or raster effects are possibly on the NES, or reliable at least. Even simplest code that sets position of a sprite directly, without DMA, leads to problems on the HW.<br /></div><br />I'm getting off topic, but all that the DMA does is do 256 writes to $2004, technically. So if DMA works, direct writes to $2004 should work too ? I have never tried it as there is no advantages in doing it this way (it just takes more time), but if you perform the writes before the end of VBlank (which should be easy with an unrolled loop) then I can't see how it could fail and how it differs from DMA.<br /><br />Back on the topic, I think you can do odd things with $2004 <em>reading</em> during the frame. This was quite obscure as the behavior was different depending on the model of the NES/Famicom you used and the PPU revision. Most people doesn't have 20 different NESes/Famicoms to test their programs on it for exact behavior of different revisions so this is highly problematic to test.<br /><br />On some systems like the C64, sprite mulitplexing is common and even essential if you want to display more than 8 sprites at all. I remember writing a cool multiplexing engine for it then loosing both the source code and the compiled result <img src="http://forums.nesdev.com/images/smilies/icon_sad.gif" alt=":(" title="Sad" /><br />The C64 however is very different as VRAM is shared with RAM (it's the same memory chip, VRAM is just a part of normal RAM) and the acesses are interleaved between the video chip and the CPU, so you can write to any register anytime and it takes effect immediately. Also sprites are part of normal VRAM, there is no such thing as OAM. The price for this is a very slow CPU (1 MHz only).<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=38">Bregalad</a> — Fri Feb 17, 2012 3:03 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2012-02-17T02:16:05-07:00</updated>
<published>2012-02-17T02:16:05-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8624&amp;p=90060#p90060</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8624&amp;p=90060#p90060"/>
<title type="html"><![CDATA[Sprite mulitplexing / raster effects?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8624&amp;p=90060#p90060"><![CDATA[
It's pretty much useful only for split screen as seen in Bigfoot. It's not like the GBA, where you can rewrite OAM during horizontal blanking for more blocks (as seen in Super Puzzle Fighter II) or more "bullets that shoot bullets" (as seen in Vulkanon).<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Fri Feb 17, 2012 2:16 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tokumaru]]></name></author>
<updated>2012-02-16T22:25:55-07:00</updated>
<published>2012-02-16T22:25:55-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8624&amp;p=90049#p90049</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8624&amp;p=90049#p90049"/>
<title type="html"><![CDATA[Sprite mulitplexing / raster effects?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8624&amp;p=90049#p90049"><![CDATA[
<div class="quotetitle">Dwedit wrote:</div><div class="quotecontent"><br />But you can turn off the screen, send a second set of sprites by DMA, then turn it back on, and it will draw the second set of sprites.<br /></div><br />But even disabling rendering mid-screen can corrupt the sprites later if not done at the correct time. The PPU goes kinda crazy if you interrupt the sprite evaluation process at bad times. I never fully understood how to get around this quirk...<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />But 64 sprites is still a lot before running out of sprites.<br /></div><br />If he had to start this topic, he probably doesn't think so. <img src="http://forums.nesdev.com/images/smilies/icon_wink.gif" alt=":wink:" title="Wink" /> Also, "a lot" is a concept that varies greatly depending on what you're making.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=95">tokumaru</a> — Thu Feb 16, 2012 10:25 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Dwedit]]></name></author>
<updated>2012-02-16T21:27:25-07:00</updated>
<published>2012-02-16T21:27:25-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8624&amp;p=90048#p90048</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8624&amp;p=90048#p90048"/>
<title type="html"><![CDATA[Sprite mulitplexing / raster effects?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8624&amp;p=90048#p90048"><![CDATA[
Need to turn off both.  Disabling just sprites or just background only stops it from drawing it, it's still making all the memory accesses it would otherwise make.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=53">Dwedit</a> — Thu Feb 16, 2012 9:27 pm</p><hr />
]]></content>
</entry>
</feed>