<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Japanese Gimmick! on a PAL console</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Japanese Gimmick! on a PAL console</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=2&amp;t=7669">http://forums.nesdev.com/viewtopic.php?f=2&amp;t=7669</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>socram8888</b> [ Wed Apr 20, 2011 2:41 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Japanese Gimmick! on a PAL console</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Is there anyway to adapt the japanese 60Hz version to a 50Hz PAL console without slowdown?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>qbradq</b> [ Wed Apr 20, 2011 8:08 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />That would be extremely difficult without the source code. Even if you did have the code it would still be a major job. The velocities of every object would have to be altered to fit the 50 Hz frame rate, and there is no guarantee that the velocity system used in Gimmick! is granular enough to represent those speeds.
<br />
<br />You would also have to change the music data and / or code if you wanted the music to not slow down and the pitches to change.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>socram8888</b> [ Wed Apr 20, 2011 8:13 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Oh, I see... Thanks

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Jeroen</b> [ Wed Apr 20, 2011 8:26 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />There already was a shockingly good pal port (most of the "extra sound" was uitilised pretty badly and could be replaced with dpcm) but I think it does have some slowdown yeah.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Wed Apr 20, 2011 8:31 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Jeroen wrote:</div><div class="quotecontent">(most of the "extra sound" was uitilised pretty badly and could be replaced with dpcm)</div>
<br />It's not like <em>The Legend of Zelda</em> or <em>Super Mario Bros. 2: Mario Madness</em>, where the original game used the FDS channel just for a few sound effects and didn't use DPCM at all. In <em>Gimmick</em>, the entire bass line is DPCM, so there'd have to be some serious channel interruption going on.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Drag</b> [ Wed Apr 20, 2011 10:25 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent"><div class="quotetitle">Jeroen wrote:</div><div class="quotecontent">(most of the "extra sound" was uitilised pretty badly and could be replaced with dpcm)</div><br />It's not like <em>The Legend of Zelda</em> or <em>Super Mario Bros. 2: Mario Madness</em>, where the original game used the FDS channel just for a few sound effects and didn't use DPCM at all. In <em>Gimmick</em>, the entire bass line is DPCM, so there'd have to be some serious channel interruption going on.</div>
<br />In addition to this, on a PAL system, even though the pitches of the PSGs change, the DPCM does <em>not</em>, so the music would be extremely disharmonic since the bass would be playing in the wrong key.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Wed Apr 20, 2011 11:37 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />There is already a PAL version of Gimmick. However, the music was ported badly if you want my opinion. As opposed to the music of CV3, which was greadly reduced to the normal NES channels.
<br />
<br />Anyways, it would be difficult to hack the japanese version so that it works on a PAL NES because of the DPCM pitch.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dwedit</b> [ Wed Apr 20, 2011 12:13 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Game genie code ALEAAUAO will transpose the square waves and triangle waves up by one half step (it changes CLC to SEC before an ADC)
<br />Game genie code ALUANOAO will transpose the "FME7" sound channels up one half step.
<br />But even with those two minor changes, the sound is still off key with the DMC channel, still slightly too low for the DMC channel's pitch.
<br />
<br />Also: GVVTEXIS fixes the status bar.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>qbradq</b> [ Wed Apr 20, 2011 12:42 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Dwedit wrote:</div><div class="quotecontent">Game genie code ALEAAUAO will transpose the square waves and triangle waves up by one half step (it changes CLC to SEC before an ADC)<br />Game genie code ALUANOAO will transpose the "FME7" sound channels up one half step.<br />But even with those two minor changes, the sound is still off key with the DMC channel, still slightly too low for the DMC channel's pitch.<br /><br />Also: GVVTEXIS fixes the status bar.</div>
<br />
<br />That's got to be the most nerdcore use for a Game Genie I've ever heard of! I love it!  <img src="./images/smilies/icon_surprised.gif" alt=":o" title="Surprised" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Wed Apr 20, 2011 12:51 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />On a whim, I decided how to quantify exactly how flat the poor man's pitch compensation is, because the music engine in my compo entry also uses it.
<br />
<br />NTSC CPU freq: 315/176 MHz = 1.7898 MHz
<br />PAL CPU freq: 4.43361875*3/8 MHz = 1.6626 MHz
<br />PAL CPU up a semitone (2^(1/12)) = 1.7615 MHz
<br />Ratio: 1.01607
<br />log(ratio)*1200/log(2) = <strong>28 cents flat</strong>, where 100 <a href="http://en.wikipedia.org/wiki/Cent_%28music%29" class="postlink">cents</a> = 1 semitone
<br />
<br />Dendy CPU freq: 4.43361875*2/5 MHz = 1.7734 MHz
<br />Ratio: 1.0092
<br />NTSC games on Dendy run <strong>15 cents flat</strong>, both PSG and DPCM

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>clueless</b> [ Wed Apr 20, 2011 1:05 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">qbradq wrote:</div><div class="quotecontent"><div class="quotetitle">Dwedit wrote:</div><div class="quotecontent">Game genie code ALEAAUAO will transpose the square waves and triangle waves up by one half step (it changes CLC to SEC before an ADC)<br />Game genie code ALUANOAO will transpose the "FME7" sound channels up one half step.<br />But even with those two minor changes, the sound is still off key with the DMC channel, still slightly too low for the DMC channel's pitch.<br /><br />Also: GVVTEXIS fixes the status bar.</div><br /><br />That's got to be the most nerdcore use for a Game Genie I've ever heard of! I love it!  <img src="./images/smilies/icon_surprised.gif" alt=":o" title="Surprised" /></div>
<br />
<br />Yes.  +1

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Wed Apr 20, 2011 1:23 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />28 cents flat should be pretty noticeable I think, it's 1/3 off the supposed value.
<br />But the DPCM sounds a bit off anyways because of hardware limitations, so that have to be added to that value, which might increase even more, or attenuate the error.
<br />
<br />In fact this is completely related but is there a way for me to listen Gimmick music without the DPCM channel (I mean the channel should still be there musically but not sound like it does). Because I really do not like it's sound, even though I like the music in Gimmick.
<br />I think I could do MIDIs of all the songs but that'd be quite some work. It would be great to hack the sound engine to redirect the channel to another one, although this is probably impossible.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Wed Apr 20, 2011 1:35 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">In fact this is completely related but is there a way for me to listen Gimmick music without the DPCM channel</div><br />Several emulators and NSF players support muting channels.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">It would be great to hack the sound engine to redirect the channel to another one, although this is probably impossible.</div>
<br />Hardly impossible. Trap writes to $4012 and work outward from there, then redirect the notes to the triangle channel.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>qbradq</b> [ Wed Apr 20, 2011 1:50 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I think Bregalad wants the DCPM portions of the music left in tact, just not played through the NES DCPM channel.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Wed Apr 20, 2011 4:04 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />That's what I was trying to say in my reply to the second quote. It depends on what table the game uses to translate notes into DPCM play commands. Instead, the hack would translate those into triangle channel play commands.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>