<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<link rel="icon" href="/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />

<title>nesdev.com &bull; View topic - Trying to dump CCE War in the Gulf, CHR bus issues</title>

<link rel="alternate" type="application/atom+xml" title="Feed - nesdev.com" href="http://forums.nesdev.com/feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - News" href="http://forums.nesdev.com/feed.php?mode=news" /><link rel="alternate" type="application/atom+xml" title="Feed - All forums" href="http://forums.nesdev.com/feed.php?mode=forums" /><link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="http://forums.nesdev.com/feed.php?mode=topics" /><link rel="alternate" type="application/atom+xml" title="Feed - Active Topics" href="http://forums.nesdev.com/feed.php?mode=topics_active" /><link rel="alternate" type="application/atom+xml" title="Feed - Forum - NES Hardware and Flash Equipment" href="http://forums.nesdev.com/feed.php?f=9" /><link rel="alternate" type="application/atom+xml" title="Feed - Topic - Trying to dump CCE War in the Gulf, CHR bus issues" href="http://forums.nesdev.com/feed.php?f=9&amp;t=7052" />

<link rel="stylesheet" href="./style.php?id=1&amp;lang=en" type="text/css" />

<script type="text/javascript">
// <![CDATA[


function popup(url, width, height, name)
{
	if (!name)
	{
		name = '_popup';
	}

	window.open(url.replace(/&amp;/g, '&'), name, 'height=' + height + ',resizable=yes,scrollbars=yes,width=' + width);
	return false;
}

function jumpto()
{
	var page = prompt('Enter the page number you wish to go to:', '1');
	var per_page = '15';
	var base_url = './viewtopic.php?f=9&amp;t=7106';

	if (page !== null && !isNaN(page) && page == Math.floor(page) && page > 0)
	{
		if (base_url.indexOf('?') == -1)
		{
			document.location.href = base_url + '?start=' + ((page - 1) * per_page);
		}
		else
		{
			document.location.href = base_url.replace(/&amp;/g, '&') + '&start=' + ((page - 1) * per_page);
		}
	}
}

/**
* Find a member
*/
function find_username(url)
{
	popup(url, 760, 570, '_usersearch');
	return false;
}

/**
* Mark/unmark checklist
* id = ID of parent container, name = name prefix, state = state [true/false]
*/
function marklist(id, name, state)
{
	var parent = document.getElementById(id);
	if (!parent)
	{
		eval('parent = document.' + id);
	}

	if (!parent)
	{
		return;
	}

	var rb = parent.getElementsByTagName('input');
	
	for (var r = 0; r < rb.length; r++)
	{
		if (rb[r].name.substr(0, name.length) == name)
		{
			rb[r].checked = state;
		}
	}
}



// ]]>
</script>
</head>
<body class="ltr">

<a name="top"></a>

<div id="wrapheader">

	<div id="logodesc">
	</div>

	<div id="menubar">

		<table width="100%" cellspacing="0">
		<tr>
			<td rowspan="2"><a href="./index.php"><img src="./styles/subsilver2/imageset/site_logo.gif" alt="" title="" /></a></td>
			<td width="100%" align="center"><h1>nesdev.com</h1><span class="gen">NES Development and Strangulation Records message boards</span></td>
		</tr>
		<tr>
			<td align="center">
				<a href="./faq.php"><img src="./styles/prosilver/theme/images/icon_mini_faq.gif" width="12" height="13" alt="*" /> FAQ</a>
				&nbsp; &nbsp;<a href="./search.php"><img src="./styles/prosilver/theme/images/icon_mini_search.gif" width="12" height="13" alt="*" /> Search</a>
				<br />	
				 &nbsp;<a href="./ucp.php?mode=register"><img src="./styles/prosilver/theme/images/icon_mini_register.gif" width="12" height="13" alt="*" /> Register</a>
					&nbsp; &nbsp;<a href="./ucp.php?mode=login"><img src="./styles/prosilver/theme/images/icon_mini_login.gif" width="12" height="13" alt="*" /> Login</a>&nbsp;
			</td>
		</tr>
		</table>
	</div>

	<div id="datebar">
		<table width="100%" cellspacing="0">
		<tr>
			<td class="gensmall"></td>
			<td class="gensmall" align="right">It is currently Thu Aug 30, 2012 4:53 pm<br /></td>
		</tr>
		</table>
	</div>

</div>

<div id="wrapcentre">

	
	<p class="searchbar">
		<span style="float: left;"><a href="./search.php?search_id=unanswered">View unanswered posts</a> | <a href="./search.php?search_id=active_topics">View active topics</a></span>
		
	</p>
	

	<br style="clear: both;" />

	<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=24">NES / Famicom</a> &#187; <a href="./viewforum.php?f=9">NES Hardware and Flash Equipment</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>

	<br />

<div id="pageheader">
	<h2><a class="titles" href="./viewtopic.php?f=9&amp;t=7106">Trying to dump CCE War in the Gulf, CHR bus issues</a></h2>


	<p class="moderators">Moderator: <a href="./memberlist.php?mode=group&amp;g=320">Moderators</a></p>

</div>

<br clear="all" /><br />

<div id="pagecontent">

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=9"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=9&amp;t=7106"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>1</strong> of <strong>2</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 26 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"><b><a href="#" onclick="jumpto(); return false;" title="Click to jump to page…">Go to page</a> <strong>1</strong><span class="page-sep">, </span><a href="./viewtopic.php?f=9&amp;t=7106&amp;start=15">2</a> &nbsp;<a href="./viewtopic.php?f=9&amp;t=7106&amp;start=15">Next</a></b></td>
		
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat">
			<table width="100%" cellspacing="0">
			<tr>
				<td class="nav" nowrap="nowrap">&nbsp;
				<a href="./viewtopic.php?f=9&amp;t=7106&amp;view=print" title="Print view">Print view</a>
				</td>
				<td class="nav" align="right" nowrap="nowrap"><a href="./viewtopic.php?f=9&amp;t=7106&amp;view=previous">Previous topic</a> | <a href="./viewtopic.php?f=9&amp;t=7106&amp;view=next">Next topic</a>&nbsp;</td>
			</tr>
			</table>
		</td>
	</tr>

	</table>


	<table class="tablebg" width="100%" cellspacing="1">
	
		<tr>
			<th>Author</th>
			<th>Message</th>
		</tr>
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p69181"></a>
				<b class="postauthor">BootGod</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p69181">Trying to dump CCE War in the Gulf, CHR bus issues</a></div><div style="float: right;"><a href="./viewtopic.php?p=69181#p69181"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Oct 27, 2010 5:45 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Wed Jul 13, 2005 3:14 pm<br /><b>Posts:</b> 325
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">So I'm trying to dump the CCE version of War in the Gulf for someone, but I've run into a snag that has me stumped. 128K PRG / 128K CHR. The mapper chip (TC-112) operation is simple enough, 4 registers as so:
<br />
<br />$6000 Load 4K CHR bank to PPU $0000. Lower 2 bits unused (wr bank# &lt;&lt; 2).
<br />$6001 Load 2K CHR bank to PPU $1000. Lowest bit unused (wr bank# &lt;&lt; 1).
<br />$6002 Load 2K CHR bank to PPU $1800. Lowest bit unused (wr bank# &lt;&lt; 1).
<br />$6003 Load 8K PRG bank to $8000
<br />
<br />$A000,$C000,$E000 are fixed to the last 3 PRG banks
<br />
<br />Mirroring is hard-wired to vertical.
<br />
<br />Now for the problem: When trying to read the CHR data, I'm getting some sort of bus interference that mangles the results (random bytes) and it will also "miss" various 256-byte pages of CHR (reads 00 in the areas). The pages it misses seems to be consistent between dumps, but there is no discernible pattern to which pages it misses.
<br />
<br />You can even see the corruption in the CopyNES tile viewer, and each time you refresh, the tiles will glitch a little different.
<br />
<br />The CHR ROM itself gets 12 degrees F hotter than other chips on the board during operation.
<br />
<br />The CHR ROM used is the rather uncommon 28-pin 128K chip with only 1 /CE pin. There is an 74LS00 chip in place to deal with the CHR /RD line, albeit it deals with it kinda strange (from what I've seen). It uses 3 outta 4 NAND gates wired like this:
<br />
<br />74LS00
<br />
<br />pin 1 (1A): cart CHR /RD line, and pin 5 (2B)
<br />pin 2 (1B): NC
<br />pin 3 (1Y): pin 4 (2A)
<br />pin 4 (2A): pin 3 (1Y), also connected to a 561 ceramic cap to GND
<br />pin 5 (2B): pin 1 (1A) [cart CHR /RD]
<br />pin 6 (2Y): pin 9 (3A), pin 10 (3B)
<br />
<br />pin 8 (3Y): to TC-112
<br />
<br />
<br />Voltage levels going thru this mess:
<br />
<br />While the game is playing normally (graphics look good):
<br />cart CHR /RD -&gt; 2.33V -&gt; LS00 -&gt; 0.55V -&gt; TC-112 -&gt; 2.80V -&gt; CHR ROM /CE
<br />
<br />While NES is idle (CopyNES slave mode, graphics are off):
<br />cart CHR /RD -&gt; 0.05V -&gt; LS00 -&gt; 4.40V -&gt; TC-112 -&gt; 4.97V -&gt; CHR ROM /CE
<br />
<br />While reading CHR ROM (graphics are messed):
<br />cart CHR /RD -&gt; 4.69V -&gt; LS00 -&gt; 0.19V -&gt; TC-112 -&gt; 0.00V -&gt; CHR ROM /CE
<br />
<br />I don't have a great understanding of electronics at this level, so I'm unsure of why the voltages differ from when the game is running and when I'm trying to read it. I'm fairly certain this is related to my problem because I sent the plugin I wrote to someone with the Gluk version of War in the Gulf, which uses a normal 32-pin CHR and doesn't have the LS00 and the plugin works just fine for him with no CHR bus issues. The PRG ROM is the same between carts. The CHR probably is too, but I haven't resorted to pulling the ROM to read it manually yet.
<br />
<br />Any one have any ideas? I looked thru the game code, nothing jumped at me, but if anyone wants to take a look, PM me and I'll send you the code.</div>

					
							<br /><br />
							<span class="gensmall">Last edited by <a href="./memberlist.php?mode=viewprofile&amp;u=158">BootGod</a> on Fri Oct 29, 2010 8:21 pm, edited 1 time in total.</span>
						<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=158"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p69193"></a>
				<b class="postauthor">socram8888</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p69193"></a></div><div style="float: right;"><a href="./viewtopic.php?p=69193#p69193"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Oct 27, 2010 10:41 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=4431.jpg" width="96" height="96" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Tue Jun 22, 2010 3:34 am<br /><b>Posts:</b> 151<br /><b>Location:</b> Valencia, España
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Dump the CHR-ROM several times and make an average of each bit value. It isn't the best way, but it should work</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=4431"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p69202"></a>
				<b class="postauthor">piteta</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p69202"></a></div><div style="float: right;"><a href="./viewtopic.php?p=69202#p69202"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Oct 28, 2010 4:14 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Dec 16, 2005 12:42 pm<br /><b>Posts:</b> 16<br /><b>Location:</b> Spain
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Hi, i've opened the two copies of the famicom version i have right now and i was wrong: they don't use the same board as the gluk version, in fact both of them use too the same board yours is using: tc112 + ls00. When i dumped the gluk version (with the help of cah4e3) i also dumped the famicom version and crc's from all chips matched so if your cart is also a famicom cart, then crc should match with the roms i sent you. I know nothing about nes hardware but... ¿could that ls00 used for some kind of copy protection? I also tried what you told me by email with this famicom version and i still get time out errors. Chr rom and ls chip also get a bit hotter than when you're playing.
<br />I also found that i have some scans done for this boards:
<br />
<br /><a href="http://i25.photobucket.com/albums/c91/piteta/nes/gulffamicompcbf.jpg" class="postlink">http://i25.photobucket.com/albums/c91/piteta/nes/gulffamicompcbf.jpg</a>
<br /><a href="http://i25.photobucket.com/albums/c91/piteta/nes/gulfnespcbf.jpg" class="postlink">http://i25.photobucket.com/albums/c91/piteta/nes/gulfnespcbf.jpg</a>
<br /><a href="http://i25.photobucket.com/albums/c91/piteta/nes/Warinthegulfpcbd.jpg" class="postlink">http://i25.photobucket.com/albums/c91/piteta/nes/Warinthegulfpcbd.jpg</a>
<br /><a href="http://i25.photobucket.com/albums/c91/piteta/nes/Warinthegulfpcbf.jpg" class="postlink">http://i25.photobucket.com/albums/c91/piteta/nes/Warinthegulfpcbf.jpg</a>
<br /><a href="http://i25.photobucket.com/albums/c91/piteta/nes/Laguerradelgolfopcbd.jpg" class="postlink">http://i25.photobucket.com/albums/c91/piteta/nes/Laguerradelgolfopcbd.jpg</a>
<br /><a href="http://i25.photobucket.com/albums/c91/piteta/nes/Laguerradelgolfopcbf.jpg" class="postlink">http://i25.photobucket.com/albums/c91/piteta/nes/Laguerradelgolfopcbf.jpg</a>
<br />
<br />i hope they can help...
<br />
<br />
<br /><strong>[Page-widening images converted to links by MOD]</strong></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=266"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p69203"></a>
				<b class="postauthor">BootGod</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p69203"></a></div><div style="float: right;"><a href="./viewtopic.php?p=69203#p69203"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Oct 28, 2010 5:04 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Wed Jul 13, 2005 3:14 pm<br /><b>Posts:</b> 325
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">socram8888 wrote:</div><div class="quotecontent">Dump the CHR-ROM several times and make an average of each bit value. It isn't the best way, but it should work</div>
<br />
<br />That might work for the random values, but the zero pages peppered about are consistently in there.
<br />
<br />piteta, have you tried dumping your FC carts with the plugin I sent you? Considering they use the LS00 as well, it probably wouldn't work. I will post a scan later, but this one is basically the same as your FC one, but it is an actual 72-pin NES board.
<br />
<br />I guess it could be a type of copy protection, but I don't see the program doing anything special to avert this behavior.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=158"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p69205"></a>
				<b class="postauthor">piteta</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p69205"></a></div><div style="float: right;"><a href="./viewtopic.php?p=69205#p69205"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Oct 28, 2010 6:09 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Dec 16, 2005 12:42 pm<br /><b>Posts:</b> 16<br /><b>Location:</b> Spain
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Yes, i tried to dump the famicom version with your plugin but chr was corrupted too. About the copy protection, maybe it's made by hardware, although i don't know what to think about it because in the gluk pcb chr /rd line is directly conected to pin 19 on the tc112 (the same pin where the ls chip is conected on the famicom board) <img src="./images/smilies/icon_confused.gif" alt=":?" title="Confused" /> Btw, i checked what is conected into my ls chip and i found one difference between yours and mine: pin 2 (1B) is connected to pin 1 (1A) and pin 5 (2B)</div>

					
						<div class="postbody"><br />_________________<br />Enough of your games Asthar, this is between you and me.</div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=266"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p69219"></a>
				<b class="postauthor">lidnariq</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p69219">Re: Trying to dump CCE War in the Gulf, CHR bus issues</a></div><div style="float: right;"><a href="./viewtopic.php?p=69219#p69219"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Oct 28, 2010 12:15 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Apr 13, 2008 11:12 am<br /><b>Posts:</b> 456<br /><b>Location:</b> seattle
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">BootGod wrote:</div><div class="quotecontent">74LS00<br /><br />pin 1 (1A): cart CHR /RD line, and pin 5 (2B)<br />pin 2 (1B): NC<br />pin 3 (1Y): pin 4 (2A)<br />pin 4 (2A): pin 3 (1Y), also connected to a 541 ceramic cap to GND<br />pin 5 (2B): pin 1 (1A) [cart CHR /RD]<br />pin 6 (2Y): pin 9 (3A), pin 10 (3B)<br />pin 8 (3Y): to TC-112</div>
<br />
<br />That's a little weird. I <em>think</em> that LS logic treats unconnected inputs as high, but one's still not supposed to leave inputs floating. (If what piteta says is what should be true here, then this makes more sense to me...)
<br />
<br />What this chip is supposed to do is be a pulse spreader or deglitcher -- whenever /CHRRD changes it takes a little while to charge or discharge the capacitor. What happens if you remove that 541 capacitor?</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3512"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p69231"></a>
				<b class="postauthor">coinheaven</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p69231"></a></div><div style="float: right;"><a href="./viewtopic.php?p=69231#p69231"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Oct 28, 2010 4:23 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sat Sep 17, 2005 12:26 pm<br /><b>Posts:</b> 268
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">this was released on the famicom?  what is the famicom title?
<br />
<br /><div class="quotetitle">piteta wrote:</div><div class="quotecontent">Hi, i've opened the two copies of the famicom version i have right now and i was wrong: they don't use the same board as the gluk version, in fact both of them use too the same board yours is using: tc112 + ls00. When i dumped the gluk version (with the help of cah4e3) i also dumped the famicom version and crc's from all chips matched so if your cart is also a famicom cart, then crc should match with the roms i sent you. I know nothing about nes hardware but... ¿could that ls00 used for some kind of copy protection? I also tried what you told me by email with this famicom version and i still get time out errors. Chr rom and ls chip also get a bit hotter than when you're playing.<br />I also found that i have some scans done for this boards:<br /><br /><a href="http://i25.photobucket.com/albums/c91/piteta/nes/gulffamicompcbf.jpg" class="postlink">http://i25.photobucket.com/albums/c91/piteta/nes/gulffamicompcbf.jpg</a><br /><a href="http://i25.photobucket.com/albums/c91/piteta/nes/gulfnespcbf.jpg" class="postlink">http://i25.photobucket.com/albums/c91/piteta/nes/gulfnespcbf.jpg</a><br /><a href="http://i25.photobucket.com/albums/c91/piteta/nes/Warinthegulfpcbd.jpg" class="postlink">http://i25.photobucket.com/albums/c91/piteta/nes/Warinthegulfpcbd.jpg</a><br /><a href="http://i25.photobucket.com/albums/c91/piteta/nes/Warinthegulfpcbf.jpg" class="postlink">http://i25.photobucket.com/albums/c91/piteta/nes/Warinthegulfpcbf.jpg</a><br /><a href="http://i25.photobucket.com/albums/c91/piteta/nes/Laguerradelgolfopcbd.jpg" class="postlink">http://i25.photobucket.com/albums/c91/piteta/nes/Laguerradelgolfopcbd.jpg</a><br /><a href="http://i25.photobucket.com/albums/c91/piteta/nes/Laguerradelgolfopcbf.jpg" class="postlink">http://i25.photobucket.com/albums/c91/piteta/nes/Laguerradelgolfopcbf.jpg</a><br /><br />i hope they can help...<br /><br /><br /><strong>[Page-widening images converted to links by MOD]</strong></div></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=195"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p69233"></a>
				<b class="postauthor">BootGod</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p69233"></a></div><div style="float: right;"><a href="./viewtopic.php?p=69233#p69233"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Oct 28, 2010 4:33 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Wed Jul 13, 2005 3:14 pm<br /><b>Posts:</b> 325
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">pin 2 is floating on mine, I double checked. It reads at ~ 1.5V.
<br />
<br />I tried removing the cap, it makes the game graphics a bit glitchy while playing. So it seems you are correct on the purpose of this circuit.
<br />
<br />It's possible that this circuit has nothing to do with the problem, it just seemed the most suspect to me.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=158"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p69237"></a>
				<b class="postauthor">piteta</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p69237"></a></div><div style="float: right;"><a href="./viewtopic.php?p=69237#p69237"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Oct 29, 2010 3:04 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Dec 16, 2005 12:42 pm<br /><b>Posts:</b> 16<br /><b>Location:</b> Spain
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">As you can see on my scans, 1 &amp; 2 are connected with a track. What i can't understand it's why on yours is unconected because that way the truth table is not the same <img src="./images/smilies/icon_confused.gif" alt=":?" title="Confused" />  Btw, seeing what coinheaven says, there's a another little diference: capacitor on mine is 561. I guess the only think that will change is the time constant but who knows... And well, if it's a deglitgher may be it has to do something with the problems we're having when trying to read chr rom. ¿could it be delaying the read process and the data you read is data you should have read x (micro/nano)seconds before? or may be you read it faster than you should and you give no time to the capacitor to discharge...
<br />
<br /><div class="quotetitle">coinheaven wrote:</div><div class="quotecontent">this was released on the famicom? what is the famicom title? </div>
<br />
<br />All i know is that nes and famicom pcbs for this game exist. Title is the same as the thread: War in the gulf (in spain was released with its name translated: la guerra del golfo)</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=266"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p69244"></a>
				<b class="postauthor">kevtris</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p69244">Re: Trying to dump CCE War in the Gulf, CHR bus issues</a></div><div style="float: right;"><a href="./viewtopic.php?p=69244#p69244"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Oct 29, 2010 7:38 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=230.png" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sat Oct 29, 2005 2:09 am<br /><b>Posts:</b> 412<br /><b>Location:</b> Indianapolis
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">BootGod wrote:</div><div class="quotecontent"><br />74LS00<br /><br />pin 1 (1A): cart CHR /RD line, and pin 5 (2B)<br />pin 2 (1B): NC<br />pin 3 (1Y): pin 4 (2A)<br />pin 4 (2A): pin 3 (1Y), also connected to a 541 ceramic cap to GND<br />pin 5 (2B): pin 1 (1A) [cart CHR /RD]<br />pin 6 (2Y): pin 9 (3A), pin 10 (3B)<br /><br />pin 8 (3Y): to TC-112<br /><br /></div>
<br />
<br />
<br />Hmm I just drew that circuit out and figured out what it is doing.  It is an edge detector, and detects rising edges on /RD.  (does it have any kind of IRQs?)
<br />
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">/RD ----|____|-------|__________|------------<br /><br />cap ______|----|_______|----------|__________<br /><br />out _________|-|________________|-|__________<br /></div>
<br />
<br />hopefully this drawing will come out.  Basically the output of the "mess" will produce a skinny high pulse on the rising edge of /RD only.   The first NAND is inverting the input and via the cap causing it to be delayed a little.  the second NAND then goes low when both inputs are high, and the final NAND inverts it to give positive pulses.
<br />
<br />you might want to try increasing the size of the capacitor so that the pulses are slightly longer.   try adding a few hundred PF to it, and tie pins 1 and 2 together.  2 shouldn't be floating, but honestly probably doesn't make much difference since it will read high.  I'd say a maximum total of 1000pf would be the highest you'd wanna go.  (.001uf)
<br />
<br />As for what that pulse DOES, I have no clue and IRQ counting is about the only thing I can think of.</div>

					
						<div class="postbody"><br />_________________<br />/* this is a comment */</div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=230"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p69275"></a>
				<b class="postauthor">BootGod</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p69275"></a></div><div style="float: right;"><a href="./viewtopic.php?p=69275#p69275"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Oct 29, 2010 8:40 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Wed Jul 13, 2005 3:14 pm<br /><b>Posts:</b> 325
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">piteta wrote:</div><div class="quotecontent">there's a another little diference: capacitor on mine is 561</div>
<br />
<br />Oops, it's actually a 561 on mine too (fixed post). I doubt 20pF would change much anyhow.
<br />
<br />Kevtris: No IRQ's on this one. I can't verify your drawing, I don't have a scope <img src="./images/smilies/icon_sad.gif" alt=":(" title="Sad" /> (someday...)
<br />
<br />I will give a bigger cap a try this weekend. Although, if the game can manage to work as is, certainly copynes should be able to read it somehow without having to modify the cart, wouldn't you agree?
<br />
<br />I whipped up a pinout of the TC-112. Pretty straightforward, though I did encounter something curious. It has a connection to PRG A2 and I don't know why. The code doesn't explicitly use it. I tried poking at it from copynes to see if anything would happen, but nothing that I could tell.
<br />
<br />The placement of the PRG A2 pin on the chip itself seems very odd. See for yourself:
<br />
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">C = Connected to cart<br />R = Connected to ROM<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ---------&nbsp; <br />C&nbsp; &nbsp; &nbsp; &nbsp;M2 -|1&nbsp; &nbsp; 40|- VCC<br />CR PRG&nbsp; D7 -|2&nbsp; &nbsp; 39|- PRG A16 R<br />CR PRG&nbsp; D6 -|3&nbsp; &nbsp; 38|- PRG A15 R<br />CR PRG&nbsp; D5 -|4&nbsp; &nbsp; 37|- PRG A14 R<br />CR PRG&nbsp; D4 -|5&nbsp; N 36|- PRG A13 R<br />CR PRG&nbsp; D3 -|6&nbsp; T 35|- PRG /CE R<br />CR PRG&nbsp; D2 -|7&nbsp; D 34|- NC<br />CR PRG&nbsp; D1 -|8&nbsp; E 33|- CHR A16 R<br />CR PRG&nbsp; A1 -|9&nbsp; C 32|- CHR A15 R<br />CR PRG&nbsp; A0 -|10&nbsp; &nbsp;31|- CHR A14 R<br />C&nbsp; PRG R/W -|11 T 30|- CHR A13 R<br />C&nbsp; PRG /CE -|12 C 29|- CHR A12 R<br />C&nbsp; PRG A14 -|13 - 28|- CHR A11 R<br />C&nbsp; PRG A13 -|14 1 27|- CHR /CE R<br />C&nbsp; CHR A13 -|15 1 26|- NC<br />C&nbsp; CHR A12 -|16 2 25|- PRG D0&nbsp; RC<br />C&nbsp; CHR A11 -|17&nbsp; &nbsp;24|- NC<br />CR CHR A10 -|18&nbsp; &nbsp;23|- NC<br />74LS00&nbsp; 3Y -|19&nbsp; &nbsp;22|- PRG A2&nbsp; RC&nbsp; &nbsp;eh?<br />&nbsp; &nbsp; &nbsp; &nbsp;GND -|20&nbsp; &nbsp;21|- NC<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ---------<br /></div></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=158"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p69279"></a>
				<b class="postauthor" style="color: #AA0000">tepples</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p69279"></a></div><div style="float: right;"><a href="./viewtopic.php?p=69279#p69279"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sat Oct 30, 2010 4:53 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="http://pineight.com/nes/terrible/PSRFX.png" width="100" height="56" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Sep 19, 2004 11:12 pm<br /><b>Posts:</b> 9048<br /><b>Location:</b> NE Indiana, USA (NTSC)
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">BootGod wrote:</div><div class="quotecontent">The placement of the PRG A2 pin on the chip itself seems very odd.</div>
<br />It might be explainable if the mapper registers selected by A2 were added late in design and used only by games other than this. And even if there is no IRQ, it might be an extra bank select pin for clocking a mid-scanline bankswitch (like MMC2/MMC4?).</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=9"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p69297"></a>
				<b class="postauthor">kevtris</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p69297"></a></div><div style="float: right;"><a href="./viewtopic.php?p=69297#p69297"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sat Oct 30, 2010 2:54 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=230.png" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sat Oct 29, 2005 2:09 am<br /><b>Posts:</b> 412<br /><b>Location:</b> Indianapolis
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">BootGod wrote:</div><div class="quotecontent"><div class="quotetitle">piteta wrote:</div><div class="quotecontent">there's a another little diference: capacitor on mine is 561</div><br /><br />Oops, it's actually a 561 on mine too (fixed post). I doubt 20pF would change much anyhow.<br /><br />Kevtris: No IRQ's on this one. I can't verify your drawing, I don't have a scope <img src="./images/smilies/icon_sad.gif" alt=":(" title="Sad" /> (someday...)<br /><br />I will give a bigger cap a try this weekend. Although, if the game can manage to work as is, certainly copynes should be able to read it somehow without having to modify the cart, wouldn't you agree?<br /><br /></div>
<br />
<br />Nope, the access pattern is different between the PPU rendering, and manually via prodding 2007.  The 2007 pattern is longer than the rendering pattern.  Both are run by separate state machines.
<br />
<br />The two state machine control signals are simply OR'd together, so bad stuff can happen if you write during rendering.  You can trigger the case where the PPU is both reading AND writing at the same time, in fact both /RD and /WR go low!
<br />
<br />The whole point of this is 2007 vs. rendering are two very different sets of conditions on the CHR bus so it's possible that it would act different.  Interesting that that happened because this is the first case of that being an issue.
<br />
<br />Because a 2007 read takes longer, maybe the pulse has to be longer too, to compensate (note: the cart may not run properly any more in render mode but will in 2007 read mode).
<br />
<br />HEYYYY what's this?
<br />
<br />why, it's "Fighting hero" by ntdec!  I found I have a cart with the TC-112 on it too.  There's 4 chips on this board.  And interestingly enough, there's no capacitor.
<br />
<br />the chips are marked:  ND946-P-UN (prg),  ND947-C1 (CHR), and ND947-C2-V (CHR) and of course TC-112.
<br />
<br />the PCB is marked "TH2219-2" if that helps.  Let me verify the pinout with yours real fast.
<br />
<br />changes:
<br />pin 19 - directly connects to CHR /RD
<br />pin 26 - connects to /CE on CHR ROM 2
<br />pin 27 - connects to /CE on CHR ROM 1 (this is like your cart shown for clarity)
<br />pin 34 is doubtlessly for a PRG ROM which would map first (you always want the first rom in the uppermost bank so pin 35 has to be ROM2)
<br />
<br />
<br />soo maybe you can try bypassing the 7400 circuit all together and run /RD directly into pin 19 like on this board.  can't hurt I guess.</div>

					
						<div class="postbody"><br />_________________<br />/* this is a comment */</div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=230"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p69304"></a>
				<b class="postauthor">BootGod</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p69304"></a></div><div style="float: right;"><a href="./viewtopic.php?p=69304#p69304"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sat Oct 30, 2010 4:58 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Wed Jul 13, 2005 3:14 pm<br /><b>Posts:</b> 325
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Ok, I tried a few different capacitors, it didn't seem to have an effect. Connecting CHR /RD directly pin 19 did make a significant improvement, it completely got rid of the "zero pages", but the tiles were still glitching, and this time also in render mode. I tried jumping it with a cap (forget exactly what I tried, it was ballpark of the 561 though).
<br />
<br />I think the glitching now is the same between rendering and reading from 2007, so if one was able to correct it, I think it would be both playable and readable via copynes.
<br />
<br />It appears that on piteta's gluk cart, CHR /RD is also directly connected to pin 19 with nothing in between.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=158"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p69315"></a>
				<b class="postauthor">piteta</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p69315"></a></div><div style="float: right;"><a href="./viewtopic.php?p=69315#p69315"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sun Oct 31, 2010 9:59 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Dec 16, 2005 12:42 pm<br /><b>Posts:</b> 16<br /><b>Location:</b> Spain
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">that's right: on gluk's pcb tc112 is directly conected to the cart connector.</div>

					
						<div class="postbody"><br />_________________<br />Enough of your games Asthar, this is between you and me.</div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=266"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table width="100%" cellspacing="1" class="tablebg">
	<tr align="center">
		<td class="cat"><form name="viewtopic" method="post" action="./viewtopic.php?f=9&amp;t=7106"><span class="gensmall">Display posts from previous:</span> <select name="st" id="st"><option value="0" selected="selected">All posts</option><option value="1">1 day</option><option value="7">7 days</option><option value="14">2 weeks</option><option value="30">1 month</option><option value="90">3 months</option><option value="180">6 months</option><option value="365">1 year</option></select>&nbsp;<span class="gensmall">Sort by</span> <select name="sk" id="sk"><option value="a">Author</option><option value="t" selected="selected">Post time</option><option value="s">Subject</option></select> <select name="sd" id="sd"><option value="a" selected="selected">Ascending</option><option value="d">Descending</option></select>&nbsp;<input class="btnlite" type="submit" value="Go" name="sort" /></form></td>
	</tr>
	</table>
	

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=9"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=9&amp;t=7106"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>1</strong> of <strong>2</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 26 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"><b><a href="#" onclick="jumpto(); return false;" title="Click to jump to page…">Go to page</a> <strong>1</strong><span class="page-sep">, </span><a href="./viewtopic.php?f=9&amp;t=7106&amp;start=15">2</a> &nbsp;<a href="./viewtopic.php?f=9&amp;t=7106&amp;start=15">Next</a></b></td>
		
	</tr>
	</table>

</div>

<div id="pagefooter"></div>

<br clear="all" />
<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=24">NES / Famicom</a> &#187; <a href="./viewforum.php?f=9">NES Hardware and Flash Equipment</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>
	<br clear="all" />

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat"><h4>Who is online</h4></td>
	</tr>
	<tr>
		<td class="row1"><p class="gensmall">Users browsing this forum: <a href="./memberlist.php?mode=viewprofile&amp;u=95">tokumaru</a> and 1 guest</p></td>
	</tr>
	</table>


<br clear="all" />

<table width="100%" cellspacing="1">
<tr>
	<td width="40%" valign="top" nowrap="nowrap" align="left"></td>
	<td align="right" valign="top" nowrap="nowrap"><span class="gensmall">You <strong>cannot</strong> post new topics in this forum<br />You <strong>cannot</strong> reply to topics in this forum<br />You <strong>cannot</strong> edit your posts in this forum<br />You <strong>cannot</strong> delete your posts in this forum<br />You <strong>cannot</strong> post attachments in this forum<br /></span></td>
</tr>
</table>

<br clear="all" />

<table width="100%" cellspacing="0">
<tr>
	<td><form method="get" name="search" action="./search.php"><span class="gensmall">Search for:</span> <input class="post" type="text" name="keywords" size="20" /> <input class="btnlite" type="submit" value="Go" /><input type="hidden" name="t" value="7106" />
<input type="hidden" name="sf" value="msgonly" />
</form></td>
	<td align="right">
	<form method="post" name="jumpbox" action="./viewforum.php" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	<table cellspacing="0" cellpadding="0" border="0">
	<tr>
		<td nowrap="nowrap"><span class="gensmall">Jump to:</span>&nbsp;<select name="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">

		
			<option value="-1">Select a forum</option>
		<option value="-1">------------------</option>
			<option value="24">NES / Famicom</option>
		
			<option value="2">&nbsp; &nbsp;NESdev</option>
		
			<option value="3">&nbsp; &nbsp;NESemdev</option>
		
			<option value="21">&nbsp; &nbsp;NES Graphics</option>
		
			<option value="6">&nbsp; &nbsp;NES Music</option>
		
			<option value="9" selected="selected">&nbsp; &nbsp;NES Hardware and Flash Equipment</option>
		
			<option value="22">&nbsp; &nbsp;Homebrew Projects</option>
		
			<option value="10">&nbsp; &nbsp;Newbie Help Center</option>
		
			<option value="11">&nbsp; &nbsp;FCdev</option>
		
			<option value="18">&nbsp; &nbsp;NESdev China</option>
		
			<option value="19">&nbsp; &nbsp;NESdev International</option>
		
			<option value="25">Other</option>
		
			<option value="5">&nbsp; &nbsp;General Stuff</option>
		
			<option value="4">&nbsp; &nbsp;Membler Industries</option>
		
			<option value="12">&nbsp; &nbsp;SNESdev</option>
		
			<option value="20">&nbsp; &nbsp;GBDev</option>
		
			<option value="23">&nbsp; &nbsp;Other Retro Dev</option>
		
			<option value="15">&nbsp; &nbsp;Test Forum</option>
		
			<option value="26">Site Issues</option>
		
			<option value="13">&nbsp; &nbsp;phpBB Issues</option>
		
			<option value="14">&nbsp; &nbsp;Web Issues</option>
		
			<option value="16">&nbsp; &nbsp;nesdevWiki</option>
		

		</select>&nbsp;<input class="btnlite" type="submit" value="Go" /></td>
	</tr>
	</table>

	</form>
</td>
</tr>
</table>


</div>

<div id="wrapfooter">
	
	<span class="copyright">Powered by <a href="http://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Group
	</span>
</div>

</body>
</html>