<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - PowerPak's available again.. (but almost gone!)</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">PowerPak's available again.. (but almost gone!)</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=9&amp;t=3574">http://forums.nesdev.com/viewtopic.php?f=9&amp;t=3574</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>2</strong> of <strong>4</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Sat Sep 08, 2007 4:33 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Lloyd Gordon wrote:</div><div class="quotecontent">I remember that BunnyBoy said that you shouldn't use a Gamegenie or GameActionReply with the PowerPak as they could write to the bootrom. Doesn't that mean that updating the bootrom is possible without a copynes, maybe by the powerpak itself with software?</div>
<br />We would all like that (I know I would - I really want to update the boot ROM, but there's no way I'd buy a CopyNES or send the PowerPak back to the US) but I think that what he meant was that the boot ROM could be patched by GG codes, making it behave erratically - not that it actually writes anything to the ROM chip. I don't know.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>alexmauer</b> [ Sat Sep 08, 2007 6:00 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: PowerPak's available again.. (but almost gone!)</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">No Carrier wrote:</div><div class="quotecontent">If you didn't get yours the first time around, the new ones with the resistor fix built-in are on retrousb.com. They went on sale a day or so ago, but are almost all gone! Just wanted to give everyone the head's up!<br /><br />NC</div>
<br />
<br />dag nab it i MISSED IT AGAIN - you should call me next time you find out they're available o.o

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>peppers</b> [ Sat Sep 08, 2007 6:20 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent"><div class="quotetitle">Lloyd Gordon wrote:</div><div class="quotecontent">I remember that BunnyBoy said that you shouldn't use a Gamegenie or GameActionReply with the PowerPak as they could write to the bootrom. Doesn't that mean that updating the bootrom is possible without a copynes, maybe by the powerpak itself with software?</div><br />We would all like that (I know I would - I really want to update the boot ROM, but there's no way I'd buy a CopyNES or send the PowerPak back to the US) but I think that what he meant was that the boot ROM could be patched by GG codes, making it behave erratically - not that it actually writes anything to the ROM chip. I don't know.</div>
<br />
<br />forget the nes it should be possiple to develop a stand alone programmer fairley cheapley or use a pre exsisting programmer
<br />
<br />the chip is a M29F0108 was anyboady able to find a datasheet? the closest I could find is a <a href="http://www.chipcatalog.com/Datasheet/8221E324F8ED37C0251DA5B8DB45DCA1.htm" class="postlink">one time programmable eprom</a> witch is not helpfull sence its not the same
<br />
<br />note:sence its the type of eeprom witch is easy to fit in a low profile socket it would not be too difficult to desolder the chip and install a socket (its actually the onley chip on there witch would be easy to remove and put back) maybe replaceing it with a more commen one witch my willen can handle assumeing it cant do this one
<br />
<br />if this is a viable option perhaps socketing it standard in future board revisions would be an idea it would at the very least save the shipping costs back and fourth sence you could just mail the chip

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>strangenesfreak</b> [ Mon Sep 10, 2007 2:27 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I wonder how much the changes for the PowerPak would affect the <a href="http://nespowerpak.com/powerpakdev1.zip" class="postlink">PowerPak mapper development kit</a>.  I used a hex editor to compare the MAP03 file in the kit to the most recent one, and there were some differences, not including updated dates.  Maybe those changes are necessary for disabling WRAM properly or configuring the updated BootROM properly...?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>kyuusaku</b> [ Mon Sep 10, 2007 3:11 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />There are two components to a mapper file, generic mapper 6502 loader code and the actual mapper fusemap. Any time you change one little thing in the mapper logic and compile it, the router may drastically change the fusemap from the avalanche effect. My guess would be that the update is in the loader code, not the actual fusemap (unless WRAM disable was added to the boot ROM which would be great!)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>strangenesfreak</b> [ Mon Sep 10, 2007 3:31 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">kyuusaku wrote:</div><div class="quotecontent">My guess would be that the update is in the loader code, not the actual fusemap</div>
<br />I didn't find any differences in the loader code, which I believe is around offsets $0-3ff in the .MAP file.  They were all in the fusemap.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>dvdmth</b> [ Mon Sep 10, 2007 8:36 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">strangenesfreak wrote:</div><div class="quotecontent">I wonder how much the changes for the PowerPak would affect the <a href="http://nespowerpak.com/powerpakdev1.zip" class="postlink">PowerPak mapper development kit</a>.  I used a hex editor to compare the MAP03 file in the kit to the most recent one, and there were some differences, not including updated dates.  Maybe those changes are necessary for disabling WRAM properly or configuring the updated BootROM properly...?</div>
<br />Near as I can tell, all changes to the boot ROM and mapper files are documented in the posted change log:
<br />
<br /><!-- m --><a class="postlink" href="http://www.retrousb.com/downloads/powerpakchanges.txt">http://www.retrousb.com/downloads/powerpakchanges.txt</a><!-- m -->
<br />
<br />The first entry in the mapper section involves reset detection.  If my understanding is right, that change would need to be made with the FPGA, which would mean that all mapper files would need recompiling to incorporate the change.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>PDP-13</b> [ Tue Sep 11, 2007 5:54 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Why not modify the next PowerPak ot have a USB Type-B port and wire it directly up to some free pins on the FPGA. 5V compliant right?
<br />
<br />Then have a special 'Mapper' that acts as a USB device, and some software to flash the boot eeprom.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Lloyd Gordon</b> [ Tue Sep 11, 2007 7:08 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I haven't downloaded the Xilinx software yet. However it seems like it should be possible to have the PowerPak run some code in a .nes file that contains the new bootrom and have it update it.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>kyuusaku</b> [ Tue Sep 11, 2007 9:25 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">PDP-13 wrote:</div><div class="quotecontent">Why not modify the next PowerPak ot have a USB Type-B port and wire it directly up to some free pins on the FPGA. 5V compliant right?<br /><br />Then have a special 'Mapper' that acts as a USB device, and some software to flash the boot eeprom.</div><br />Because a updater ROM image would be so much simpler? Remember beyond modding your PowerPak, you'd also need a synthesizable USB core that fits into a Spartan 2 and PC software and a power source.<br /><br /><div class="quotetitle">Lloyd Gordon wrote:</div><div class="quotecontent">I haven't downloaded the Xilinx software yet. However it seems like it should be possible to have the PowerPak run some code in a .nes file that contains the new bootrom and have it update it.</div>
<br />Not if the only the CopyNES can unlock the /WE pin (without modifying the PowerPak.)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>peppers</b> [ Wed Sep 12, 2007 11:27 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">kyuusaku wrote:</div><div class="quotecontent"><div class="quotetitle">PDP-13 wrote:</div><div class="quotecontent">Why not modify the next PowerPak ot have a USB Type-B port and wire it directly up to some free pins on the FPGA. 5V compliant right?<br /><br />Then have a special 'Mapper' that acts as a USB device, and some software to flash the boot eeprom.</div><br />Because a updater ROM image would be so much simpler? Remember beyond modding your PowerPak, you'd also need a synthesizable USB core that fits into a Spartan 2 and PC software and a power source.<br /></div>
<br />I could be wrong but cant this type of FPGA program a ROM via j-tag programming cable?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>kyuusaku</b> [ Wed Sep 12, 2007 11:45 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Yes, but then the PowerPak would need to be modified for JTAG and you'd need a $50 USB JTAG and still need PC software. If the PowerPak can be updated in software, at most it'd require a jumper + a resistor + wire.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>dvdmth</b> [ Wed Sep 12, 2007 1:08 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />BTW, for those who have CopyNES, I believe you need to perform the flash mod before you can update the PowerPak's boot ROM:
<br />
<br /><!-- m --><a class="postlink" href="http://www.tripoint.org/kevtris/Projects/copynes/flash.html">http://www.tripoint.org/kevtris/Project ... flash.html</a><!-- m -->
<br />
<br />This mod connects a pin on the CopyNES board to cart pin 16 (marked EXP0 on the pinout I have).  I guess this is where the boot ROM's /WE line goes (although someone should confirm how the ROM is wired before attempting to update it without CopyNES).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>PDP-13</b> [ Wed Sep 12, 2007 6:45 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Synthesiable USB core,
<br />Like one of those:
<br /><!-- m --><a class="postlink" href="http://www.opencores.org/projects.cgi/web/usb/overview">http://www.opencores.org/projects.cgi/web/usb/overview</a><!-- m -->
<br />
<br />Also it seems a transceiver module is needed(?):
<br />
<br /><!-- m --><a class="postlink" href="http://www.beyondlogic.org/usb/usbhard2.htm">http://www.beyondlogic.org/usb/usbhard2.htm</a><!-- m -->
<br />
<br />USB provides 5V power, up to 500mA...
<br />
<br />The real question is; would a USB core fit on a Spartan-2...?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>p2</b> [ Wed Sep 12, 2007 8:49 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">PDP-13 wrote:</div><div class="quotecontent">The real question is; would a USB core fit on a Spartan-2...?</div>
<br />
<br />Nope.
<br />
<br />Unless you're using higher end FPGAs, a USB softcore is a stupid idea. USB is a pretty complex protocol and you could use something like a Cypress part instead of wasting presious Logic Units ( or so-called "Gates" in Xilinx bullMarketing ) inside the FPGA.
<br />
<br />A simple way to put it: You could either fit a whole NES or a full blown USB core in a recent middle-range FPGA.
<br />
<br />I hope this makes sense. I'm drunk, and english isn't my mother tongue...

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>2</strong> of <strong>4</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>