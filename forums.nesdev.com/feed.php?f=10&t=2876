<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="http://forums.nesdev.com/feed.php?f=10&amp;t=2876" />

<title>nesdev.com</title>
<subtitle>NES Development and Strangulation Records message boards</subtitle>
<link href="http://forums.nesdev.com/index.php" />
<updated>2007-03-29T16:11:54-07:00</updated>

<author><name><![CDATA[nesdev.com]]></name></author>
<id>http://forums.nesdev.com/feed.php?f=10&amp;t=2876</id>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2007-03-29T16:11:54-07:00</updated>
<published>2007-03-29T16:11:54-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=2876&amp;p=22697#p22697</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=2876&amp;p=22697#p22697"/>
<title type="html"><![CDATA[Trying to Make Sense of WLA]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=2876&amp;p=22697#p22697"><![CDATA[
<div class="quotetitle">Bregalad wrote:</div><div class="quotecontent"><br />Just an open question : How handy is CA65 for ROM and RAM bankswitching ?<br />Does it allow to overwrite a portion of code/data with new stuff without giving any error or warning (this is especially usefull for CHR ROMs) ?<br />Does it allow to have the same label at the same adress in different banks (usefull to mirror data among banks) ?<br /></div><br />Yes. A linker script can specify separate, overlapping memory areas (e.g. ROM0, ROM1, ROM2) with the same run address.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Thu Mar 29, 2007 4:11 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Bregalad]]></name></author>
<updated>2007-03-29T09:57:24-07:00</updated>
<published>2007-03-29T09:57:24-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=2876&amp;p=22693#p22693</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=2876&amp;p=22693#p22693"/>
<title type="html"><![CDATA[Trying to Make Sense of WLA]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=2876&amp;p=22693#p22693"><![CDATA[
Just an open question : How handy is CA65 for ROM and RAM bankswitching ?<br />Does it allow to overwrite a portion of code/data with new stuff without giving any error or warning (this is especially usefull for CHR ROMs) ?<br />Does it allow to have the same label at the same adress in different banks (usefull to mirror data among banks) ?<br />It's not that those are crucial, but it is this kind of tricky tricks that make me kinda like wla.<br /><br />Maybe CA65 is better and all, but... so far I've done well with wla-dx.<br /><br />Anyway, the worse of all is NESasm.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=38">Bregalad</a> — Thu Mar 29, 2007 9:57 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[blargg]]></name></author>
<updated>2007-03-28T17:07:06-07:00</updated>
<published>2007-03-28T17:07:06-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=2876&amp;p=22677#p22677</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=2876&amp;p=22677#p22677"/>
<title type="html"><![CDATA[Trying to Make Sense of WLA]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=2876&amp;p=22677#p22677"><![CDATA[
<div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />Unfortunately, this [wla] is otherwise among the best assemblers [...]<br /></div><br />Hahahahahahahaha. Not my experience at all. Ignoring the crappy documentation, constant extra crap you have to add to opcodes/operands, and the awful error messages, I've found numerous bugs in several areas (even the damn preprocessor can corrupt host memory). The source is a mess to try to extend/fix. If you're doing NES development, I highly recommend ca65.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=17">blargg</a> — Wed Mar 28, 2007 5:07 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2007-03-28T15:53:50-07:00</updated>
<published>2007-03-28T15:53:50-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=2876&amp;p=22676#p22676</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=2876&amp;p=22676#p22676"/>
<title type="html"><![CDATA[Trying to Make Sense of WLA]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=2876&amp;p=22676#p22676"><![CDATA[
<div class="quotetitle">beneficii wrote:</div><div class="quotecontent"><br />Unfortunately, this is otherwise among the best assemblers, allowing you to choose your emptyfill, allowing so many ways of accessing memory, allowing you to embed multiple source files and do stuff with them.  How discouraging. <img src="http://forums.nesdev.com/images/smilies/icon_sad.gif" alt=":(" title="Sad" /><br /></div><br />Well at least you can still get all those features in CA65+LD65 if you don't need anything beyond the 6502 family.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Wed Mar 28, 2007 3:53 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[beneficii]]></name></author>
<updated>2007-03-28T15:21:38-07:00</updated>
<published>2007-03-28T15:21:38-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=2876&amp;p=22675#p22675</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=2876&amp;p=22675#p22675"/>
<title type="html"><![CDATA[Trying to Make Sense of WLA]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=2876&amp;p=22675#p22675"><![CDATA[
Sorry for the long reply, but the person had responded a while ago and it was fairly discouraging. <img src="http://forums.nesdev.com/images/smilies/icon_sad.gif" alt=":(" title="Sad" />  But here was his message:<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />Sorry dude, but no matter how I look at that LDA and the situation, I<br />can't think of anything that wouldn't break compability. It would also<br />mean that I would have to do the same for quite a many other opcodes that<br />are like LDA, and I'd have to move some code from the linker to the<br />assembler.<br /><br />Currently the assembler doesn't understand labels. It can spot a label,<br />but doesn't know anything about it, and only the linker places the labels<br />into the memory etc...<br /><br />Anyway, sorry, but you'll have to cope with WLA-DX the way it is.<br /></div><br /><br />It's doable as is, but there is that sort of teeth-clenching about having to remember to add ".w" after each opcode.<br /><br />Unfortunately, this is otherwise among the best assemblers, allowing you to choose your emptyfill, allowing so many ways of accessing memory, allowing you to embed multiple source files and do stuff with them.  How discouraging. <img src="http://forums.nesdev.com/images/smilies/icon_sad.gif" alt=":(" title="Sad" /><br /><br />Still, I've been looking at the source code too and it looks like any sort of check in the assembler would be difficult and would require duplicating code from the linker.  Still, I intend to modify the assembler myself to add that compatibility. <img src="http://forums.nesdev.com/images/smilies/icon_smile.gif" alt=":)" title="Smile" /><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=156">beneficii</a> — Wed Mar 28, 2007 3:21 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[beneficii]]></name></author>
<updated>2007-01-17T16:29:16-07:00</updated>
<published>2007-01-17T16:29:16-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=2876&amp;p=21363#p21363</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=2876&amp;p=21363#p21363"/>
<title type="html"><![CDATA[Trying to Make Sense of WLA]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=2876&amp;p=21363#p21363"><![CDATA[
<div class="quotetitle">Bregalad wrote:</div><div class="quotecontent"><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">That's OK, thank you. ^_^ I just sent an e-mail to the author about that. I'm actually wondering if he's not already aware of the issue.<br /></div><br />I've awared him for the issue about 1.5 year ago, and he fixed half of the opcodes (such as sta) leaving the others unafected. I think it'd be good if more people are asking him  <img src="http://forums.nesdev.com/images/smilies/icon_wink.gif" alt=":wink:" title="Wink" /></div><br /><br />Mmhmm, it would.  But just so you know, I'm having the same problem with sta. <img src="http://forums.nesdev.com/images/smilies/icon_wink.gif" alt=";)" title="Wink" />  I think it goes for any opcode that can be 8-bit or 16-bit: I guess the wla-6502 just assumes when an opcode accesses .RAMSECTION that it can do 8-bit addressing.  Oops. <img src="http://forums.nesdev.com/images/smilies/icon_rolleyes.gif" alt=":roll:" title="Rolling Eyes" /> <br /><br />Still waiting for a response from him.<br /><br />EDIT: I think that is the issue.  Because whenever you load from .RAMSECTION, WLA-6502 puts in an 8-bit opcode, which of course can't take a 16-bit address.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=156">beneficii</a> — Wed Jan 17, 2007 4:29 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[lynxsolaris]]></name></author>
<updated>2007-01-17T13:41:16-07:00</updated>
<published>2007-01-17T13:41:16-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=2876&amp;p=21353#p21353</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=2876&amp;p=21353#p21353"/>
<title type="html"><![CDATA[Trying to Make Sense of WLA]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=2876&amp;p=21353#p21353"><![CDATA[
<div class="quotetitle">Bregalad wrote:</div><div class="quotecontent"><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">That's OK, thank you. ^_^ I just sent an e-mail to the author about that. I'm actually wondering if he's not already aware of the issue.<br /></div><br />I've awared him for the issue about 1.5 year ago, and he fixed half of the opcodes (such as sta) leaving the others unafected. I think it'd be good if more people are asking him  <img src="http://forums.nesdev.com/images/smilies/icon_wink.gif" alt=":wink:" title="Wink" /></div><br /><br />Cool.  I emailed him about it as well.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=284">lynxsolaris</a> — Wed Jan 17, 2007 1:41 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Bregalad]]></name></author>
<updated>2007-01-17T13:29:14-07:00</updated>
<published>2007-01-17T13:29:14-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=2876&amp;p=21352#p21352</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=2876&amp;p=21352#p21352"/>
<title type="html"><![CDATA[Trying to Make Sense of WLA]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=2876&amp;p=21352#p21352"><![CDATA[
<div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />That's OK, thank you. ^_^ I just sent an e-mail to the author about that. I'm actually wondering if he's not already aware of the issue.<br /></div><br />I've awared him for the issue about 1.5 year ago, and he fixed half of the opcodes (such as sta) leaving the others unafected. I think it'd be good if more people are asking him  <img src="http://forums.nesdev.com/images/smilies/icon_wink.gif" alt=":wink:" title="Wink" /><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=38">Bregalad</a> — Wed Jan 17, 2007 1:29 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[beneficii]]></name></author>
<updated>2007-01-17T12:07:26-07:00</updated>
<published>2007-01-17T12:07:26-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=2876&amp;p=21341#p21341</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=2876&amp;p=21341#p21341"/>
<title type="html"><![CDATA[Trying to Make Sense of WLA]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=2876&amp;p=21341#p21341"><![CDATA[
lynxsolaris,<br /><br />That's OK, thank you. ^_^  I just sent an e-mail to the author about that.  I'm actually wondering if he's not already aware of the issue.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=156">beneficii</a> — Wed Jan 17, 2007 12:07 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[lynxsolaris]]></name></author>
<updated>2007-01-17T11:55:57-07:00</updated>
<published>2007-01-17T11:55:57-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=2876&amp;p=21339#p21339</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=2876&amp;p=21339#p21339"/>
<title type="html"><![CDATA[Trying to Make Sense of WLA]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=2876&amp;p=21339#p21339"><![CDATA[
<div class="quotetitle">beneficii wrote:</div><div class="quotecontent"><br />lynxsolaris,<br /><br />I knew that. ^_^  I explained it in the post.  I guess I should send an e-mail to the author.<br /></div><br /><br /><br />Yeah, sorry.  I saw that after I posted.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=284">lynxsolaris</a> — Wed Jan 17, 2007 11:55 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[beneficii]]></name></author>
<updated>2007-01-17T11:54:44-07:00</updated>
<published>2007-01-17T11:54:44-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=2876&amp;p=21338#p21338</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=2876&amp;p=21338#p21338"/>
<title type="html"><![CDATA[Trying to Make Sense of WLA]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=2876&amp;p=21338#p21338"><![CDATA[
lynxsolaris,<br /><br />I knew that. ^_^  I explained it in the post.  I guess I should send an e-mail to the author.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=156">beneficii</a> — Wed Jan 17, 2007 11:54 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[lynxsolaris]]></name></author>
<updated>2007-01-17T11:49:58-07:00</updated>
<published>2007-01-17T11:49:58-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=2876&amp;p=21337#p21337</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=2876&amp;p=21337#p21337"/>
<title type="html"><![CDATA[Trying to Make Sense of WLA]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=2876&amp;p=21337#p21337"><![CDATA[
<div class="quotetitle">beneficii wrote:</div><div class="quotecontent"><br />Bregalad,<br /><br />I figured as much. ^_^  Hey, I'm having one issue on the linker that I think might be a problem with the coding of the linker itself:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">.EMPTYFILL   $FF<br /><br />.MEMORYMAP<br />SLOTSIZE   $2000<br />DEFAULTSLOT   0<br />SLOT 0      $8000<br />SLOT 1      $A000<br />SLOT 2      $C000<br />SLOT 3      $E000<br />SLOT 4      $2000<br />.ENDME<br /><br />.ROMBANKMAP<br />BANKSTOTAL   4<br />BANKSIZE   $2000<br />BANKS      4<br />.ENDRO<br /><br />.RAMSECTION &quot;Stuff&quot; SLOT 4<br />PPU_SET1:      DB<br />PPU_SET2:      DB<br />PPU_READ:      DB<br />.ENDS<br /><br />.BANK   0   SLOT   0<br />.ORGA   $8000<br /><br />.BANK   1   SLOT   1<br />.ORGA   $A000<br /><br />.BANK   2   SLOT   2<br />.ORGA   $C000<br /><br />.BANK   3   SLOT   3<br />.ORGA   $E000<br /><br />main:<br />   lda PPU_READ<br />   jmp main<br /><br />.ORGA    $FFFA<br />.SECTION &quot;Vectors&quot; FORCE<br />.DW   main, main, main<br />.ENDS<br /></div><br /><br />This is made into an object file fine, but when I link it, it says:<br /><br />test.o:test.asm:38: FIX_REFERENCES: Value ($2002) of "PPU_READ" is too<br /> much to be a 8bit value.<br /><br />I know that if I put '.w' after the LDA in the LDA statement, it will resolve the problem, but I think the linker should know that LDA can be 16-bit and that what it's accessing is a 16-bit address, so I don't have to put '.w' after the statement every time I want to access a .RAMSECTION in 16-bit addressing.<br /><br />Then again, I am wondering how the author would fix the problem.<br /><br />EDIT: BTW, this is with both versions 9.2 and the "experimental" release 9.4a.<br /></div><br /><br /><br />add a ".w" after the "lda PPU_READ".  Some kind of bug or something with WLA that you have to tell it the value is 16bit.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=284">lynxsolaris</a> — Wed Jan 17, 2007 11:49 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[beneficii]]></name></author>
<updated>2007-01-17T11:28:37-07:00</updated>
<published>2007-01-17T11:28:37-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=2876&amp;p=21334#p21334</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=2876&amp;p=21334#p21334"/>
<title type="html"><![CDATA[Trying to Make Sense of WLA]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=2876&amp;p=21334#p21334"><![CDATA[
Bregalad,<br /><br />I figured as much. ^_^  Hey, I'm having one issue on the linker that I think might be a problem with the coding of the linker itself:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">.EMPTYFILL   $FF<br /><br />.MEMORYMAP<br />SLOTSIZE   $2000<br />DEFAULTSLOT   0<br />SLOT 0      $8000<br />SLOT 1      $A000<br />SLOT 2      $C000<br />SLOT 3      $E000<br />SLOT 4      $2000<br />.ENDME<br /><br />.ROMBANKMAP<br />BANKSTOTAL   4<br />BANKSIZE   $2000<br />BANKS      4<br />.ENDRO<br /><br />.RAMSECTION &quot;Stuff&quot; SLOT 4<br />PPU_SET1:      DB<br />PPU_SET2:      DB<br />PPU_READ:      DB<br />.ENDS<br /><br />.BANK   0   SLOT   0<br />.ORGA   $8000<br /><br />.BANK   1   SLOT   1<br />.ORGA   $A000<br /><br />.BANK   2   SLOT   2<br />.ORGA   $C000<br /><br />.BANK   3   SLOT   3<br />.ORGA   $E000<br /><br />main:<br />   lda PPU_READ<br />   jmp main<br /><br />.ORGA    $FFFA<br />.SECTION &quot;Vectors&quot; FORCE<br />.DW   main, main, main<br />.ENDS<br /></div><br /><br />This is made into an object file fine, but when I link it, it says:<br /><br />test.o:test.asm:38: FIX_REFERENCES: Value ($2002) of "PPU_READ" is too<br /> much to be a 8bit value.<br /><br />I know that if I put '.w' after the LDA in the LDA statement, it will resolve the problem, but I think the linker should know that LDA can be 16-bit and that what it's accessing is a 16-bit address, so I don't have to put '.w' after the statement every time I want to access a .RAMSECTION in 16-bit addressing.<br /><br />Then again, I am wondering how the author would fix the problem.<br /><br />EDIT: BTW, this is with both versions 9.2 and the "experimental" release 9.4a.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=156">beneficii</a> — Wed Jan 17, 2007 11:28 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Bregalad]]></name></author>
<updated>2007-01-17T09:19:59-07:00</updated>
<published>2007-01-17T09:19:59-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=2876&amp;p=21327#p21327</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=2876&amp;p=21327#p21327"/>
<title type="html"><![CDATA[Trying to Make Sense of WLA]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=2876&amp;p=21327#p21327"><![CDATA[
You are actually forced to put every stuff you want to oupout to the final image into sections. In a signle section, everything will get aliged as-it (in the same order it's written), and section can be arranged like the assembler wants.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=38">Bregalad</a> — Wed Jan 17, 2007 9:19 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[beneficii]]></name></author>
<updated>2007-01-16T18:40:24-07:00</updated>
<published>2007-01-16T18:40:24-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=2876&amp;p=21304#p21304</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=2876&amp;p=21304#p21304"/>
<title type="html"><![CDATA[Trying to Make Sense of WLA]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=2876&amp;p=21304#p21304"><![CDATA[
Yes I had.  And I had read the section on ".SECTION" but I wasn't sure what to make of it.  Thank you so much for you help!<br /><br />This is a bit more powerful!<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=156">beneficii</a> — Tue Jan 16, 2007 6:40 pm</p><hr />
]]></content>
</entry>
</feed>