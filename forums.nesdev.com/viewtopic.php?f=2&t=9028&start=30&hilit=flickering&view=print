<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Do any games use tile/sprite overlap for more colors?</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Do any games use tile/sprite overlap for more colors?</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=2&amp;t=9028">http://forums.nesdev.com/viewtopic.php?f=2&amp;t=9028</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>3</strong> of <strong>4</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>3gengames</b> [ Fri Oct 12, 2012 10:29 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Do any games use tile/sprite overlap for more colors?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Contra looks epic doing the <span class="posthilit">flickering</span> in the 2nd bases boss. Super contra intro I don't like as much. Those are the only place I've really noticed using sprite overlapping being used on even/odd frames.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Sik</b> [ Fri Oct 12, 2012 11:21 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Do any games use tile/sprite overlap for more colors?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Project MD does that <span class="posthilit">flickering</span> trick just about, um, <em>everywhere</em>, even in the freaking arrow in menus (and in levels the effect is outright fullscreen) - though instead of using horizontal patterns it uses checkerboard patterns. It works fine as long as the game never slows down (which there never happens, but it could be prone to happen in a NES game, I guess).<br /><br />EDIT: what's going on with that game in the video Shiru linked?! Things start going seriously crazy in world 1-2 o_O

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Macbee</b> [ Sat Oct 13, 2012 12:14 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Do any games use tile/sprite overlap for more colors?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Shiru wrote:</div><div class="quotecontent">The <span class="posthilit">flickering</span> was a common tech for demo coders on all platforms, and in games made by demo coders. Barely seen in commercial games, because it doesn't look too good.<br /><br />Batman isn't the best example, though, because it flickers between two completely different pictures, which is the worst case scenario.<br /><br />It isn't necessary to slow down the gameplay to half of the frame rate, by the way. There was an attempt of SMB unofficial port to ZX Spectrum (Soviet clones, to be exact) that used <span class="posthilit">flickering</span> to increase number of shades from 2 to 3 and it was running at 50 FPS, which is quite an achievement for the platform. It didn't look too bad. Unfortunately, all videos of the game on YouTube aren't represent the game well at all, they all has crazy lag (<a href="https://www.youtube.com/watch?v=u9YipS3vYXM" class="postlink">example</a>).</div><br /><br />Thanks for this explanation Shiru! I had no idea that <span class="posthilit">flickering</span> sprites were already used in the past.<br /><br /><br /><div class="quotetitle">lidnariq wrote:</div><div class="quotecontent">Is there a reason you interlaced detail horizontally, like so:<br />And not checkerboard dithered, like so:<br />?</div><br /><br />The software I'm using sorta creates these lines automatically - but your suggestion was really appreciated, thanks! =)<br />I tried to do it using checkerboard dither and the results are even better (Simba.NES is attached)!<br /><br /><img src="http://i5.photobucket.com/albums/y191/macbee/Simba.png" alt="Image" />

		
			<br clear="all" /><br />

			<table class="tablebg" width="100%" cellspacing="1">
			<tr>
				<td><b class="genmed">Attachments: </b></td>
			</tr>
			
				<tr>
					<td>
			<span class="genmed">
				<img src="./styles/subsilver2/imageset/icon_topic_attach.gif" width="14" height="18" alt="" title="" /> 
				<a href="./download/file.php?id=76">Simba.zip</a> [2.29 KiB]
			</span><br />
			<span class="gensmall">Downloaded 70 times</span>
		

		<br />
	</td>
				</tr>
			
			</table>
		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Sat Oct 13, 2012 5:50 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Do any games use tile/sprite overlap for more colors?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">lidnariq wrote:</div><div class="quotecontent">Is there a reason you interlaced detail horizontally [...] And not checkerboard dithered</div><br />On the NTSC NES, checkerboard is more likely to result in annoying diagonal artifacts. See <a href="http://forums.nesdev.com/viewtopic.php?p=94658#p94658" class="postlink">rgb121</a>.<br /><br />As for in-game flicker, <a href="http://pineight.com/nes/#thwaite" class="postlink">Thwaite</a> is <em>made</em> of it. All explosions flicker for semi-transparency, and all smoke flickers to allow more smoke to be drawn.<br /><br /><br />EDIT: link repaired

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Sik</b> [ Sat Oct 13, 2012 8:28 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Do any games use tile/sprite overlap for more colors?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">On the NTSC NES, checkerboard is more likely to result in annoying diagonal artifacts.</div><br />Use vertical strips then?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Macbee</b> [ Sat Oct 13, 2012 10:48 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Do any games use tile/sprite overlap for more colors?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I wish I could buy a Powerpak and see (the results of <span class="posthilit">flickering</span>) by myself on my CRT television. I have a PAL-M famiclone - so maybe the interlaced image can look a little different from a NTSC NES.<br />It's a shame that it may create all these artifacts... I'm making new checkerboards tests and I'm more and more impressed with the results (another Rom is attached).<br /><br /><img src="http://i5.photobucket.com/albums/y191/macbee/Altered-Beast---Aggar-v10-by-Macbee.png" alt="Image" />

		
			<br clear="all" /><br />

			<table class="tablebg" width="100%" cellspacing="1">
			<tr>
				<td><b class="genmed">Attachments: </b></td>
			</tr>
			
				<tr>
					<td>
			<span class="genmed">
				<img src="./styles/subsilver2/imageset/icon_topic_attach.gif" width="14" height="18" alt="" title="" /> 
				<a href="./download/file.php?id=78">Altered Beast - Aggar v1.0 by Macbee.zip</a> [6.46 KiB]
			</span><br />
			<span class="gensmall">Downloaded 77 times</span>
		

		<br />
	</td>
				</tr>
			
			</table>
		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Shiru</b> [ Sat Oct 13, 2012 11:04 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Do any games use tile/sprite overlap for more colors?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />These pictures are looking very good on my old TFT (25ms response time), I'd say perfect, because the flicker isn't visible at all. However, I seen how flicker looks on a normal CRT TV, and it is nowhere nearly as good, the <span class="posthilit">flickering</span> is easily noticeable, especially on large areas.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Sat Oct 13, 2012 11:40 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Do any games use tile/sprite overlap for more colors?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The <span class="posthilit">flickering</span> is very subtle in the tests you posted, and the colors don't vary much, so in this case it might work. Still, what you get is the illusion of more shades of the same color, not more colors.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Macbee</b> [ Sat Oct 13, 2012 12:50 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Do any games use tile/sprite overlap for more colors?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent">The <span class="posthilit">flickering</span> is very subtle in the tests you posted, and the colors don't vary much, so in this case it might work. Still, what you get is the illusion of more shades of the same color, not more colors.</div><br /><br />Well, different shades are different colors. But I understand what you're saying: when you need completely different colors the good old sprite overlap is still necessary.<br />I prefer to use this technique in sprites without many color variations - to me it's when it really works. But you can easily mix different colors and the results are nice too.<br />Download my &quot;4 into 10 colors&quot; test. You see green created from yellow and blue, purple from blue and red, etc.<br /><br />By the way with this demo I can finally see diagonal artifacts (thanks to the amazing CRT filters found on Nestopia emulator).<br />I don't know if the artifacts are more evident on a real CRT TV but (judging by what I can see on Nestopia) they're not as annoying as I tought.<br /><br /><img src="http://i5.photobucket.com/albums/y191/macbee/055.png" alt="Image" />

		
			<br clear="all" /><br />

			<table class="tablebg" width="100%" cellspacing="1">
			<tr>
				<td><b class="genmed">Attachments: </b></td>
			</tr>
			
				<tr>
					<td>
			<span class="genmed">
				<img src="./styles/subsilver2/imageset/icon_topic_attach.gif" width="14" height="18" alt="" title="" /> 
				<a href="./download/file.php?id=79">4 colors into 10 v1.0 by Macbee.zip</a> [1.95 KiB]
			</span><br />
			<span class="gensmall">Downloaded 71 times</span>
		

		<br />
	</td>
				</tr>
			
			</table>
		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Sat Oct 13, 2012 1:18 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Do any games use tile/sprite overlap for more colors?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Just my $2, but while this kind of <span class="posthilit">flickering</span> usually works great with emulators on modern PC-workstations with LCDs, it tends to look terrible on an authentic system with a CRT, it doesn't look transparent at all and actually looks like <span class="posthilit">flickering</span>.<br /><br />At least the intro of Batman looks <em>terrible</em> on a true CRT.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Sik</b> [ Sat Oct 13, 2012 1:57 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Do any games use tile/sprite overlap for more colors?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">Just my $2, but while this kind of <span class="posthilit">flickering</span> usually works great with emulators on modern PC-workstations with LCDs, it tends to look terrible on an authentic system with a CRT, it doesn't look transparent at all and actually looks like <span class="posthilit">flickering</span>.<br /><br />At least the intro of Batman looks <em>terrible</em> on a true CRT.</div><br />Which is why in Project MD I used the checkerboard pattern. Stripes are <em>very</em> noticeable because they're very big areas so the eyes can easily spot them out. The checkerboard pattern gives you the smallest area possible and as long as vsync is accurate (i.e. 1 frame = 1 refresh rate) it's practically impossible to tell. This works fine even when with crystal clear output.<br /><br />And of course, the more similar the two shades, the better the effect works. Middle red vs. light red is more likely to work fine than blue vs. green, for example.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dwedit</b> [ Sat Oct 13, 2012 2:04 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Do any games use tile/sprite overlap for more colors?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I once got a 120Hz refresh rate on a CRT, it was some kind of VGA mode where it omitted half the scanlines.  On that video mode, <span class="posthilit">flickering</span> looked exactly like half transparency.<br />I think it was Nesticle that had that video mode as an option.  You had to turn off the frame limiter, but turn on VSYNC.<br /><br />But 60Hz is far too slow for <span class="posthilit">flickering</span> to look any good on a CRT.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Sik</b> [ Sat Oct 13, 2012 4:13 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Do any games use tile/sprite overlap for more colors?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />When I messed with this kind of <span class="posthilit">flickering</span> it was only on CRTs, I don't have any LCD screens around. Unless you mean raw <span class="posthilit">flickering</span> rather than using patterns, then yes, it's going to look horrible at <em>any</em> framerate unless the areas in question are small enough.<br /><br />Also you need to take into account the ideal refresh rate of the CRT monitor, since this affects for how long the light stays on screen. Computer monitors are generally made for 85Hz (early ones for 70Hz), while TVs are generally made for around 60Hz. This means that the 120Hz mode you mentioned most likely exceeded the ideal refresh rate of the monitor and had such a slow reaction that indeed turned the <span class="posthilit">flickering</span> into real transparency.<br /><br />The human eye has been proven to be able to distinguish up to 240Hz at least, so I'd expect <span class="posthilit">flickering</span> to be noticeable up to that rate.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Sat Oct 13, 2012 4:35 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Do any games use tile/sprite overlap for more colors?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Sik wrote:</div><div class="quotecontent">The human eye has been proven to be able to distinguish up to 240Hz at least, so I'd expect <span class="posthilit">flickering</span> to be noticeable up to that rate.</div>That's a really tricky assertion; those assertions are talking about two different abilities of human perception.<br /><br />One is what's called the <a href="http://en.wikipedia.org/wiki/Flicker_fusion_threshold" class="postlink">flicker fusion threshold</a>, which is a function of ambient light level, but is generally accepted in rigorous experiments and the brightest conditions to be pretty strictly never above 100Hz for humans. If you hear someone complaining about magnetic ballast fluorescent lights, they may well be seeing stroboscopic effects or complaining about color rendering index or sound but they are unequivocally not seeings the 120Hz (US) directly.<br /><br />The other is the ability to detect phase difference, which can easily go up to this 240Hz, or more accurately, down to 4ms. Detecting phase difference is plausible is other cases, but is entirely different from what you see when you look at a CRT.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Sat Oct 13, 2012 4:43 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Do any games use tile/sprite overlap for more colors?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The examples look pretty good, too bad I don't have a CRT TV to test them on. Still, I think this method might be a worthwhile tradeoff between more flicker/more detail/less sprites on scanline [and funnily enough, less sprite limitation based flicker because of that] in some cases.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>3</strong> of <strong>4</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>