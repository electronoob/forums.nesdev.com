<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Current Problem PowerPak Games</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Current Problem PowerPak Games</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=9&amp;t=5729">http://forums.nesdev.com/viewtopic.php?f=9&amp;t=5729</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>2</strong> of <strong>12</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Jeroen</b> [ Wed Nov 11, 2009 5:37 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Great Hierophant wrote:</div><div class="quotecontent"><div class="quotetitle">MottZilla wrote:</div><div class="quotecontent">I hacked both Paperboy and Dirty Harry at some point to fix them. Basically some issue with left over value on the bus or something to that effect is expected or not and the opposite happens causing the game which expects the same situation as the original board to occur to believe no buttons are pushed. I do believe this problem was supposed to have been fixed.<br /><br />. . .<br /><br />Metroid on FDS worked for me at some point. Never had any problem as you describe.</div><br /><br />Could you post an IPS-type patch file for each game?  <br /><br />As for Metroid, I get this with half of the images out there:<br /><!-- m --><a class="postlink" href="http://www.youtube.com/watch?v=jO8m75qxLok">http://www.youtube.com/watch?v=jO8m75qxLok</a><!-- m --><br /><br />The other half I get a horribly garbled Brinstar starting screen and I can't move Samus around anywhere.<br /><br /><div class="quotetitle">crade wrote:</div><div class="quotecontent">I just threw the powerpak to test again.. It's the shops where the early more serious glitches happen... you cannot tell what is for sale in the shops due to graphical glitches. Same dump works correctly in nestopia. I'm only on boot 111 and mapper pak 1.2 at the moment though<br /></div><br /><br />I did not test extensively, but I do not experience anything like that on the PowerPak.  The small graphics glitches haven't really affected gameplay, but I can also confirm they don't exist with a real Crystalis game pak.  [/code]</div>
<br />
<br />I had that problem. Loopy fixed it for me by adding some delays <img src="./images/smilies/icon_biggrin.gif" alt=":-D" title="Very Happy" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MottZilla</b> [ Wed Nov 11, 2009 11:03 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I am running I think mapper files 1.20 or 1.30 I can't recall and Metroid along with every other FDS game runs perfectly. Do your other FDS games work? By sure you took the original BIOS and got the patch applied to it or just get the patched BIOS for use with powerpak. The next thing would be to make sure that image works on an emulator and if all that checks out you should try another CF card or don't delete the copy of the game that is not working but instead leave it there and copy another file on and see if the new one works as maybe your CF card has some bad sectors.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Jeroen</b> [ Wed Nov 11, 2009 11:05 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Like I said it's most likely timing problems. I had the exact same problem (exact) and loopy fixed them by adjusting the timing. Seems certain powerpaks differ from others.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>crade</b> [ Wed Nov 11, 2009 12:21 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Great Hierophant wrote:</div><div class="quotecontent">I did not test extensively, but I do not experience anything like that on the PowerPak.  The small graphics glitches haven't really affected gameplay, but I can also confirm they don't exist with a real Crystalis game pak.  </div>
<br />Would you mind testing going the armor or items shop in the first town?  In the shops, the large images representing the items available for sale are mangled and all look the same.  You can still play though.  The items become clear when they are individually highlighted (didn't notice that before).
<br />
<br />I upgraded to the 130 mappers as well to make sure that wasn't the issue.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>kyuusaku</b> [ Wed Nov 11, 2009 12:47 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />So MMC3 still isn't right?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Great Hierophant</b> [ Wed Nov 11, 2009 4:57 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">MottZilla wrote:</div><div class="quotecontent">I am running I think mapper files 1.20 or 1.30 I can't recall and Metroid along with every other FDS game runs perfectly. Do your other FDS games work? By sure you took the original BIOS and got the patch applied to it or just get the patched BIOS for use with powerpak. The next thing would be to make sure that image works on an emulator and if all that checks out you should try another CF card or don't delete the copy of the game that is not working but instead leave it there and copy another file on and see if the new one works as maybe your CF card has some bad sectors.</div>
<br />
<br />Yes, other FDS games work.  I use the BIOS contained within the 1.30 Mappers.  The images work just fine with Nestopia.  I tried the following images:
<br />Metroid (v1.01).fds
<br />Metroid (v1.2).fds
<br />Metroid v1.01 (1986)(Nintendo).fds
<br />Metroid v1.01 (1986)(Nintendo)[a].fds
<br />Metroid v1.01 (demo) (1986)(Nintendo).fds
<br />Metroid v1.01 (demo) (1986)(Nintendo)[a].fds
<br />Metroid v1.02 (1986)(Nintendo).fds
<br />Metroid v1.02 (1986)(Nintendo)[a].fds
<br />
<br /><strong>All</strong> suffer from one of the two problems described above, so I sincerely doubt my CF card has bad sectors.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Great Hierophant</b> [ Wed Nov 11, 2009 5:44 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">crade wrote:</div><div class="quotecontent">Would you mind testing going the armor or items shop in the first town? In the shops, the large images representing the items available for sale are mangled and all look the same. You can still play though. The items become clear when they are individually highlighted (didn't notice that before). </div>
<br />
<br />Something like that happened to me when I played it at one point, but I played it twice and could notice any graphical glitches, even the ones I described above.  I think it may be an issue with the resistorpak fix.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Super-Hampster</b> [ Wed Nov 11, 2009 5:49 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I also have never been able to get FDS metroid to work on the powerpak. I used Loopy's fds mapper.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MottZilla</b> [ Wed Nov 11, 2009 9:09 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Well I never did anything special with Metroid. It just works for me. Nothing strange. Pretty sure its version 1.02 or something like that.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>loopy</b> [ Wed Nov 11, 2009 9:43 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><a href="http://home.comcast.net/~olimar/NES/powerpak_fds_alt.zip" class="postlink">powerpak_fds_alt.zip</a>
<br />
<br />If you're having problems with FDS, give this one a try.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Great Hierophant</b> [ Thu Nov 12, 2009 9:42 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">loopy wrote:</div><div class="quotecontent"><a href="http://home.comcast.net/~olimar/NES/powerpak_fds_alt.zip" class="postlink">powerpak_fds_alt.zip</a><br /><br />If you're having problems with FDS, give this one a try.</div>
<br />
<br />The FDS emulation doesn't work at all with this one, it won't even load to the BIOS screen, nevermind a game.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>loopy</b> [ Thu Nov 12, 2009 10:36 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Great Hierophant wrote:</div><div class="quotecontent">The FDS emulation doesn't work at all with this one, it won't even load to the BIOS screen, nevermind a game.</div>
<br />Doh... I thought that one was working.  My powerpak has problems right now, so I'll have to fix it some other time.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Great Hierophant</b> [ Sat Nov 14, 2009 11:05 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />All the games that do not register input work correctly now.  See here for the fix:
<br /><!-- m --><a class="postlink" href="http://nesdev.com/bbs/viewtopic.php?t=3698">http://nesdev.com/bbs/viewtopic.php?t=3698</a><!-- m -->
<br />
<br />So, we are down to the MMC5 games, the Panesian games, Batman: Return of the Joker, Karnov and Metroid FDS.  All but Karnov have to be mapper fixes.  
<br />
<br />I think I know what the issue with Karnov is.  Karnov is set to Mapper 4, but really uses the Namco-109, which only supports a very small portion of the MMC3 functionalities.  When Karnov tries to switch banks, it must be using a value with a 1 in bit 7.  In MMC3, this causes a character bank invert, which should explain the graphic errors.  In Namco-109, this bit does nothing.  So, the fix is to find the value which Karnov is using and change it to have a 0 in bit 7.  Unfortunately, I cannot find the value myself.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MottZilla</b> [ Sat Nov 14, 2009 2:33 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Batman RotJ and Metroid FDS work fine for me. I have no idea why they don't work for you.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>dosirouto</b> [ Wed Nov 25, 2009 6:29 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />FDS DiskChange Report
<br />
<br />Japanese Official Old Famicom
<br />  1.20:OK 1.30:OK
<br />Japanese Official New Famicom
<br />  1.20:OK 1.30:OK
<br />Japanese Official Twin Famicom
<br />  1.20:OK 1.30:OK
<br />US Official Nes
<br />  1.20:OK 1.30:OK
<br />
<br />Japanese Unofficial Famicom (<a href="http://home.cybergadget.co.jp/products/fc_sfc/4544859003417/" class="postlink">Familator</a>)
<br />  1.20:OK 1.30:NG

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>2</strong> of <strong>12</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>