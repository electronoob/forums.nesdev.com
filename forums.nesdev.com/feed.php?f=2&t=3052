<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="http://forums.nesdev.com/feed.php?f=2&amp;t=3052" />

<title>nesdev.com</title>
<subtitle>NES Development and Strangulation Records message boards</subtitle>
<link href="http://forums.nesdev.com/index.php" />
<updated>2007-03-12T04:13:47-07:00</updated>

<author><name><![CDATA[nesdev.com]]></name></author>
<id>http://forums.nesdev.com/feed.php?f=2&amp;t=3052</id>
<entry>
<author><name><![CDATA[hap]]></name></author>
<updated>2007-03-12T04:13:47-07:00</updated>
<published>2007-03-12T04:13:47-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=3052&amp;p=22397#p22397</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=3052&amp;p=22397#p22397"/>
<title type="html"><![CDATA[Multiplication Routine Lengths]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=3052&amp;p=22397#p22397"><![CDATA[
Though it's not as common as eg. Castlevania 2, I wouldn't consider it rare at all, there are plenty of NES CV3 carts on eBay every day.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=115">hap</a> — Mon Mar 12, 2007 4:13 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Bregalad]]></name></author>
<updated>2007-03-12T03:23:40-07:00</updated>
<published>2007-03-12T03:23:40-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=3052&amp;p=22396#p22396</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=3052&amp;p=22396#p22396"/>
<title type="html"><![CDATA[Multiplication Routine Lengths]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=3052&amp;p=22396#p22396"><![CDATA[
<div class="quotetitle">tepples wrote:</div><div class="quotecontent"><br />Does this include the time it takes to find an MMC5 board?<br /></div><br />So true, lol !<br /><br />CV3 may be the less rare of them, but it's still rare.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=38">Bregalad</a> — Mon Mar 12, 2007 3:23 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[dXtr]]></name></author>
<updated>2007-03-12T03:23:37-07:00</updated>
<published>2007-03-12T03:23:37-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=3052&amp;p=22395#p22395</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=3052&amp;p=22395#p22395"/>
<title type="html"><![CDATA[Multiplication Routine Lengths]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=3052&amp;p=22395#p22395"><![CDATA[
<div class="quotetitle">tepples wrote:</div><div class="quotecontent"><br />Does this include the time it takes to find an MMC5 board?<br /></div><br /><br />Luckly that's a one time operation and could be considered part of the loading screen  <img src="http://forums.nesdev.com/images/smilies/icon_smile.gif" alt=":)" title="Smile" /><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=15">dXtr</a> — Mon Mar 12, 2007 3:23 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Celius]]></name></author>
<updated>2007-03-11T16:22:00-07:00</updated>
<published>2007-03-11T16:22:00-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=3052&amp;p=22393#p22393</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=3052&amp;p=22393#p22393"/>
<title type="html"><![CDATA[Multiplication Routine Lengths]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=3052&amp;p=22393#p22393"><![CDATA[
Isn't Castlevania 3: Dracula's Curse an easy one to come by? I could be wrong, but I'd say it's not too uncommon.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=138">Celius</a> — Sun Mar 11, 2007 4:22 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2007-03-11T15:58:01-07:00</updated>
<published>2007-03-11T15:58:01-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=3052&amp;p=22392#p22392</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=3052&amp;p=22392#p22392"/>
<title type="html"><![CDATA[Multiplication Routine Lengths]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=3052&amp;p=22392#p22392"><![CDATA[
Does this include the time it takes to find an MMC5 board?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Sun Mar 11, 2007 3:58 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Bregalad]]></name></author>
<updated>2007-03-11T15:55:31-07:00</updated>
<published>2007-03-11T15:55:31-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=3052&amp;p=22391#p22391</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=3052&amp;p=22391#p22391"/>
<title type="html"><![CDATA[Multiplication Routine Lengths]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=3052&amp;p=22391#p22391"><![CDATA[
Multiplication with the MMC5 :<br />lda #Multipliand<br />sta $5206<br />lda #Multiplier<br />sta $5205<br />lda $5205 ;Low result<br />sta xxx<br />lda $5206 ;High result<br />sta xxx<br /><br />Can you get faster ??<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=38">Bregalad</a> — Sun Mar 11, 2007 3:55 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Celius]]></name></author>
<updated>2007-03-11T14:44:58-07:00</updated>
<published>2007-03-11T14:44:58-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=3052&amp;p=22389#p22389</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=3052&amp;p=22389#p22389"/>
<title type="html"><![CDATA[Multiplication Routine Lengths]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=3052&amp;p=22389#p22389"><![CDATA[
Oh! I think I get both the multiplication and division routines now. That's something I actually would never have thought of, for some reason. I was more looking at whole hex values. It may not seem like there's a difference at first, but there really is, with dividing. That multiplication is totally simple, and a lot more than the lattice method. So I think I will throw my routines away, and just go with the binary idea, it's better. The whole time, I thought that multiplication and division were huge processes, and no body really knew good ways to multiply. I felt it was a lot like the binary to decimal issue. I guess I need to wake up and smell the coffee, huh? Thanks again!  <img src="http://forums.nesdev.com/images/smilies/icon_smile.gif" alt=":)" title="Smile" /><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=138">Celius</a> — Sun Mar 11, 2007 2:44 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[kingshriek]]></name></author>
<updated>2007-03-11T01:58:33-07:00</updated>
<published>2007-03-11T01:58:33-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=3052&amp;p=22387#p22387</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=3052&amp;p=22387#p22387"/>
<title type="html"><![CDATA[Multiplication Routine Lengths]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=3052&amp;p=22387#p22387"><![CDATA[
<div class="quotetitle">tepples wrote:</div><div class="quotecontent"><br />Now make a lookup table for x^2/2, and you can multiply 8-bit numbers using one addition, three table lookups, and two subtractions.<br /></div><br /><br />You can get by with one less table lookup by using the identity (a+b)^2 - (a-b)^2 = 4ab (thus, lookup table for x^2/4). <br /><br />Also, either both (a+b)^2 and (a-b)^2 will be 0 or 1 (mod 4), so any error from integer division will be cancelled out when subtracting the two. Compare this with using (a+b)^2/2 - a^2/2 - b^2/2, where an extra 1 must be subtracted when both a and b are odd to get the correct answer.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=190">kingshriek</a> — Sun Mar 11, 2007 1:58 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tokumaru]]></name></author>
<updated>2007-03-10T20:23:44-07:00</updated>
<published>2007-03-10T20:23:44-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=3052&amp;p=22386#p22386</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=3052&amp;p=22386#p22386"/>
<title type="html"><![CDATA[Multiplication Routine Lengths]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=3052&amp;p=22386#p22386"><![CDATA[
<div class="quotetitle">Celius wrote:</div><div class="quotecontent"><br />I'd have to think about you're algorithm, dvdmth.<br /></div><br />There seems to be a good explanation <a href="http://www.massey.ac.nz/~mjjohnso/notes/59304/l6.html" class="postlink">here</a>. They also have something on <a href="http://www.massey.ac.nz/~mjjohnso/notes/59304/l5.html" class="postlink">multiplication</a>.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=95">tokumaru</a> — Sat Mar 10, 2007 8:23 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Celius]]></name></author>
<updated>2007-03-10T19:26:58-07:00</updated>
<published>2007-03-10T19:26:58-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=3052&amp;p=22384#p22384</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=3052&amp;p=22384#p22384"/>
<title type="html"><![CDATA[Multiplication Routine Lengths]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=3052&amp;p=22384#p22384"><![CDATA[
Well, it may not be different, but I don't recall saying that it was. Well, whatever.<br /><br />I'd have to think about you're algorithm, dvdmth. I mean, to really understand why it would work. While I'm doing that, I'll be thinking about how to go about doing my routine.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=138">Celius</a> — Sat Mar 10, 2007 7:26 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[blargg]]></name></author>
<updated>2007-03-10T16:36:49-07:00</updated>
<published>2007-03-10T16:36:49-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=3052&amp;p=22383#p22383</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=3052&amp;p=22383#p22383"/>
<title type="html"><![CDATA[Multiplication Routine Lengths]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=3052&amp;p=22383#p22383"><![CDATA[
I fail to see the lattice method as being any different than usual...<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">  469<br />x  37<br />  ---<br />   63<br />  420<br /> 2800<br />  270<br /> 1800<br />12000<br />-----<br />17353</div><br />In binary, it'd be something like this (using smaller numbers):<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">   1101<br />x   101<br />    ---<br />   1101  *1<br />  00000  *0<br /> 110100  *1<br />-------<br />1000001</div><br />Which is what I described above; add one of the shifted multipliers when the corresponding bits are 1.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=17">blargg</a> — Sat Mar 10, 2007 4:36 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[dvdmth]]></name></author>
<updated>2007-03-10T15:54:20-07:00</updated>
<published>2007-03-10T15:54:20-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=3052&amp;p=22381#p22381</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=3052&amp;p=22381#p22381"/>
<title type="html"><![CDATA[Multiplication Routine Lengths]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=3052&amp;p=22381#p22381"><![CDATA[
Here's the basic division algorithm.<br /><br />A = dividend<br />B = divisor<br />Q = quotient (initialize to zero)<br />R = remainder (initialize to zero)<br /><br />1. Perform ASL on A.<br />2. Perform ROL on R.<br />3. If R &gt;= B, then set R to (R - B) and set the carry flag; otherwise, clear the carry flag.<br />4. Perform ROL on Q.<br /><br />Repeat until all bits of A are shifted out (e.g. if A is 16 bits, run the algorithm 16 times).<br /><br />Hopefully I got it right.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=360">dvdmth</a> — Sat Mar 10, 2007 3:54 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Celius]]></name></author>
<updated>2007-03-10T13:50:22-07:00</updated>
<published>2007-03-10T13:50:22-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=3052&amp;p=22380#p22380</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=3052&amp;p=22380#p22380"/>
<title type="html"><![CDATA[Multiplication Routine Lengths]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=3052&amp;p=22380#p22380"><![CDATA[
Hmm, that seems like a kind of complicated routine, tepples. Have any of you used the lattice (Sorry, I spelled it wrong in the post above) method when doing pen and paper multiplication? If not, you can read about it <a href="http://mathforum.org/library/drmath/view/52468.html" class="postlink">here</a>.<br /><br />So I see that my routine is a bit longer (Like 3 times as long  <img src="http://forums.nesdev.com/images/smilies/icon_sad.gif" alt=":(" title="Sad" /> ) than the routines mentioned above. How about division? I have a really simple idea for division that might even be easier than the multiplication one. I could make my multiplication routine just a tad bit longer to make 16 bit by 16 bit multiplication if I wanted to. I'm just trying to make a math routine library of my own, so I won't need to make complicated routines on the fly when coding a game.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=138">Celius</a> — Sat Mar 10, 2007 1:50 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[blargg]]></name></author>
<updated>2007-03-10T11:29:10-07:00</updated>
<published>2007-03-10T11:29:10-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=3052&amp;p=22376#p22376</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=3052&amp;p=22376#p22376"/>
<title type="html"><![CDATA[Multiplication Routine Lengths]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=3052&amp;p=22376#p22376"><![CDATA[
I drafted a loop-based one earlier that should run in about 280 clocks worst-case. I haven't tested it though. It just goes through each bit of one of the multipliers and shifts the other left each time, adding it to the product when the bit is 1.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=17">blargg</a> — Sat Mar 10, 2007 11:29 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2007-03-10T07:07:25-07:00</updated>
<published>2007-03-10T07:07:25-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=3052&amp;p=22373#p22373</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=3052&amp;p=22373#p22373"/>
<title type="html"><![CDATA[Multiplication Routine Lengths]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=3052&amp;p=22373#p22373"><![CDATA[
Are you looking for byte lengths or cycle lengths? I know of a lookup-table-based method that uses a lot of ROM but multiplies two arbitrary 1-byte integers in about 100 cycles.<br /><br />Start with the formula relating the square of the sum to the sum of the squares:<br />(a + b)^2 = a^2 + 2*a*b + b^2<br /><br />Subtract (a + b)^2 from both sides:<br />(a + b)^2 - a^2 - b^2 = 2*a*b<br /><br />Divide both sides by 2:<br />(a + b)^2/2 - a^2/2 - b^2/2 = a*b<br /><br />Now make a lookup table for x^2/2, and you can multiply 8-bit numbers using one addition, three table lookups, and two subtractions.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Sat Mar 10, 2007 7:07 am</p><hr />
]]></content>
</entry>
</feed>