<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - IDA Pro - Plugin for use in NES/FDS/SNES rom disassembly?</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">IDA Pro - Plugin for use in NES/FDS/SNES rom disassembly?</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=2&amp;t=4609">http://forums.nesdev.com/viewtopic.php?f=2&amp;t=4609</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>3</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Hamtaro126</b> [ Fri Nov 28, 2008 9:11 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>IDA Pro - Plugin for use in NES/FDS/SNES rom disassembly?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />There is a plugin for Genesis rom disassembly, But What about a plugin for NES, FDS and maybe SNES Roms. That way it can decode any old nintendo rom without figureing what to disassemble (so Code can be split from data automatically!)
<br />
<br />If anyone wants to base this idea: Go to GSHI's main download page and look for mIDA Genesis plugin.
<br />
<br />Just a interesting thought. I could pull this off, But wanted a suggestion

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MottZilla</b> [ Fri Nov 28, 2008 10:48 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I think you're better off building a time machine, and an invisibility suit, travel back in time, copy the source code, and return to the present. Now I could do this but I can't be bothered to do so because I'm busy eating cake.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dwedit</b> [ Sat Nov 29, 2008 1:26 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Run FCEUXD and play the hell out of the game, its Code-Data logger will tell you what's code and what's data.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Hamtaro126</b> [ Sun Nov 30, 2008 4:26 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Dwedit wrote:</div><div class="quotecontent">Run FCEUXD and play the hell out of the game, its Code-Data logger will tell you what's code and what's data.</div>
<br />
<br />The Code Data Logger could not support FDS games. I will use it for a while on a NES game though.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>doppelganger</b> [ Tue Dec 02, 2008 4:21 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Or, you know, you could just not disassemble the character rom part of the .NES file, assuming that part exists.  As for the other two formats, you're on your own figuring out what's what.  Which is kinda the reason why code/data loggers exist in the first place.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>griever</b> [ Tue Dec 02, 2008 12:19 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">That way it can decode any old nintendo rom without figureing what to disassemble (so Code can be split from data automatically!)</div>
<br />Nope - IDA is not a miracle. The main and the only (?) obstacle is jump tables, like jmp(oper) or so. So, maybe in usual game you'll get one or two subroutines deep and that's it. The other problem is mappers and bank switching - actually, you'll need a separate loader for each mapper type. As for mIDA (which is BTW is merely a script - not a loader), it can do some... things thanks to sega's hardware properties.
<br />But, anyhow, CaH4e3 already made a basic l<a href="http://forum.emu-russia.net/viewtopic.php?f=13&amp;t=457" class="postlink">oader for .nes format ROMs</a> for a few primal mappers. There is also a source code in archive, but you'll need an IDA SDK to futher development of loader, though it would be great if someone will continue the project. Cause CaH4e3 doesn't wanna.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>jonwil</b> [ Wed Dec 03, 2008 4:18 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />btw, IDA will not support SNES at all since it has no support for 65816 CPU (so someone would have to write 65816 disassembly core before it can do SNES)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dennis</b> [ Sun Apr 17, 2011 1:40 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Hey guys, thought you would like this:
<br />
<br /><!-- m --><a class="postlink" href="http://www.openrce.org/repositories/users/dennis/NESpackage.zip">http://www.openrce.org/repositories/use ... ackage.zip</a><!-- m -->
<br />
<br />I hope you'll find it useful.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Sun Apr 17, 2011 6:38 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Dennis wrote:</div><div class="quotecontent">Hey guys, thought you would like this:<br /><br /><!-- m --><a class="postlink" href="http://www.openrce.org/repositories/users/dennis/NESpackage.zip">http://www.openrce.org/repositories/use ... ackage.zip</a><!-- m --><br /><br />I hope you'll find it useful.</div>
<br />Thanks for posting this. I remember you talking about this in IRC quite a while ago but never tried it until now.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Zepper</b> [ Sun Apr 17, 2011 7:43 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">MottZilla wrote:</div><div class="quotecontent">I think you're better off building a time machine, and an invisibility suit, travel back in time, copy the source code, and return to the present. Now I could do this but I can't be bothered to do so because I'm busy eating cake.</div>
<br />
<br /><img src="http://www.rankopedia.com/CandidatePix/12391.gif" alt="Image" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>koitsu</b> [ Sun Apr 17, 2011 9:45 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />IDA Pro cannot be used for 65816 (SNES/SFC) disassembly.  A friend of mine Tony Allowatt (a.k.a. Flobby, now professor at VT, and author of a bunch of romhacking tools) tried this many years ago.  IDA Pro doesn't support dynamically-sized registers (e.g. m=0 vs. m=1, x=0 vs. x=1).
<br />
<br />For 6502 disassembly, yes, it already has support for that.  You can use it for projects if you desire, but getting it to "look nice" with NES code is a serious undertaking.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dennis</b> [ Mon Apr 18, 2011 4:50 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Hi,
<br />
<br /><div class="quotetitle">thefox wrote:</div><div class="quotecontent">Thanks for posting this. I remember you talking about this in IRC quite a while ago but never tried it until now.</div><br /><br />yes, I remember our chat, quite a while indeed <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br /><br /><div class="quotetitle">koitsu wrote:</div><div class="quotecontent">IDA Pro cannot be used for 65816 (SNES/SFC) disassembly. A friend of mine Tony Allowatt (a.k.a. Flobby, now professor at VT, and author of a bunch of romhacking tools) tried this many years ago. IDA Pro doesn't support dynamically-sized registers (e.g. m=0 vs. m=1, x=0 vs. x=1).<br /></div><br /><br />I'm not sure whether this still is the case. With IDA you can define custom datatypes now (<!-- m --><a class="postlink" href="http://www.hexblog.com/?p=117">http://www.hexblog.com/?p=117</a><!-- m -->). On the other hand, I haven't looked at 65816 disassembly/datasheets at all, though I'd really, really love to have a complete disassembly of Super Metroid <img src="./images/smilies/icon_smile.gif" alt=":-)" title="Smile" /><br /><br /><br /><div class="quotetitle">koitsu wrote:</div><div class="quotecontent">For 6502 disassembly, yes, it already has support for that. You can use it for projects if you desire, but getting it to "look nice" with NES code is a serious undertaking.<br /></div>
<br />
<br />This is what the collection of loaders and plugins that I posted a link to in my previous post aims at: Trying to make the disassembly look nice and readable. Admittedly, the 'bankswitch' plugin is probably not the best solution and might need an overhaul. However, I really enjoyed having the ability to statically enhance a ROM's disassembly, then export its symbols via the 'MadNES' plugin to be able to use them with FCEUXD SP's ability to have symbolic debugging. If you feel there's something missing, please let me know, I'm willing to update the plugins/loader.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Mon Apr 18, 2011 5:15 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Dennis wrote:</div><div class="quotecontent">If you feel there's something missing, please let me know, I'm willing to update the plugins/loader.</div>
<br />Ability to load FCEUX code/data logs? You probably know better if that's feasible with IDA's plugin interface. Maybe even an IDC script would suffice.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dennis</b> [ Mon Apr 18, 2011 2:27 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">thefox wrote:</div><div class="quotecontent">Ability to load FCEUX code/data logs? You probably know better if that's feasible with IDA's plugin interface. Maybe even an IDC script would suffice.</div>
<br />
<br />I've just looked into fceuxd's code/data logging feature and documentation but I'm not sure whether I'm missing something here. As far as I understand, IDA nicely separates code from data (also, 'verified' by having had a look at a disassembly of a ROM). What extra information would the code/data logger extend the disassembly with? Writing a cdl parser in IDC/IDAPython should be relatively easy, but I'm not sure whether it is really needed. In case I'm missing something here I'd be glad to hear about it!
<br />
<br />Cheers,
<br />Dennis

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Mon Apr 18, 2011 5:00 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Dennis wrote:</div><div class="quotecontent">I've just looked into fceuxd's code/data logging feature and documentation but I'm not sure whether I'm missing something here. As far as I understand, IDA nicely separates code from data (also, 'verified' by having had a look at a disassembly of a ROM). What extra information would the code/data logger extend the disassembly with? Writing a cdl parser in IDC/IDAPython should be relatively easy, but I'm not sure whether it is really needed. In case I'm missing something here I'd be glad to hear about it!</div>
<br />As intelligent as IDA is, there are still times when it incorrectly detects code as data or vice versa. Using CDL could fix the remaining 5-10% (?) without manual work. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />
<br />
<br />Another small suggestion, you're using names such as "PPU_CR_1" for the IO regs, it might be better to use the names from the NESDev Wiki instead, I think they're more common: <!-- m --><a class="postlink" href="http://wiki.nesdev.com/w/index.php/PPU_registers">http://wiki.nesdev.com/w/index.php/PPU_registers</a><!-- m -->

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>3</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>