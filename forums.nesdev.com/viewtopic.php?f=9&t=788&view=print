<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Trouble with CopyNES</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Trouble with CopyNES</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=9&amp;t=788">http://forums.nesdev.com/viewtopic.php?f=9&amp;t=788</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>3</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>drk421</b> [ Sat Nov 26, 2005 6:51 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Trouble with CopyNES</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Ok, I just finished and built it.
<br />
<br />I can go to run game and play it, but that is all that works.
<br />
<br />When I try to dump a game, it starts playing the game instead of dumping it.
<br />
<br />Is there anyway to debug this thing? Find out why its not working correctly?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>ChimyFolkButter</b> [ Sat Nov 26, 2005 7:56 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Hmmm, you can play a game with the CopyNES board plugged in so that is good.  I am wondering, are you using the parallel port cable that Kevin sent in the kit?  Or are you using a different cable?  The reason I ask, it sounds like the PC is not even connected to the CopyNES port.  
<br />-CFB

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>drk421</b> [ Sat Nov 26, 2005 8:20 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I am using the cable he sent with the kit.
<br />
<br />I guess I should make it more clear.
<br />
<br />I am able to select "play cart" from the Qbasic menu and that works, and it correctly stops playing the game when I hit a key.
<br />
<br />I also noticed that the options do NOT follow what the paths are set to in the copynes.ini file,
<br />
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; &nbsp; .PRG Save Path :.\parts\<br />&nbsp; &nbsp; .CHR Save Path :.\parts\<br />&nbsp; WRAM .SAV Save Path :.\parts\<br />Finished .NES Save Path :.\parts\<br />&nbsp; CRC .TXT Save Path :.\parts\<br />&nbsp; &nbsp; .NSF File Path :.\parts\<br />&nbsp; &nbsp;Plugin File Path :.\parts\<br /></div>
<br />
<br />I'm starting to wonder if the problem is in software.
<br />
<br />Another thing, his BIOS.BIN does not match the EPROM I was sent with the kit. I tried burning BIOS.BIN and running it, and it doesn't work at all.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>ChimyFolkButter</b> [ Sat Nov 26, 2005 8:56 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Interesting.  I will check my laptop and see if my software matches.  I just unzipped the CopyNESsofware into the c:\.  
<br />
<br />I will also dump my 2764 and compare my bios against the bios file in copyNES zip file.  
<br />
<br />Actually, what cartridge are you trying to dump?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>drk421</b> [ Sat Nov 26, 2005 9:22 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I tried an NROM cart (SMB1), and SMB3 (MMC3).
<br />
<br />It doesn't seem to matter what I try dumping, it always starts running the game.
<br />
<br />Also, I doubled checked that all the parts I put in are correctly in place.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>drk421</b> [ Sat Nov 26, 2005 9:32 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Nevermind,
<br />Its working now....
<br />
<br />I took my old Pentium 90 out of the attic and tried it, and it works.
<br />I'm relieved that copynes is working, but not so happy that I need ancient hardware to run it on.
<br />
<br />Anyway,
<br />I tried 5 different machines and only the old pentium worked.
<br />
<br />I think Kevtris should make bigger deal that you need a slower, more compatible "parallel" port machine.
<br />
<br />I'd be willing to start a MB compatibility list, if anyone is interested.
<br />
<br />Thanks for your help, though!

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Guest</b> [ Sat Nov 26, 2005 10:07 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Aha, so my second post was right.  Your PC was not connected properly because of HW/Software.  It doesn't suprise me.  I am using an old WIN95 486 laptop.  I tried running CopyNES on WINNT (I know don't ask) but it didn't work.  The newer Operating Systems don't allow direct access to the Parallel Port hence all the problems with WinNT, W2K, WinXP.
<br />
<br />BTW, my bios didn't match either.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>drk421</b> [ Sat Nov 26, 2005 10:37 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Actually, its not the OS, I'm running Win98 on these machines, and I booted into true DOS  to test this.
<br />
<br />I can always pop in a DOS boot CD and I always keep a small FAT32 partition available for things like this.
<br />
<br />The parallel ports on these new machines just aren't the same as they used to be.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Ace</b> [ Sun Nov 27, 2005 2:18 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I spoke to Kev and the bios on the EPROM is new, he just hasn't got around to uploading it to his site yet.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>fruitbane</b> [ Sun Nov 27, 2005 7:05 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I bet, on the newer machines, you could try tweaking your parallel port settings. If you are using ECP that might not work well. I know that there are several parallel port communication modes.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>drk421</b> [ Sun Nov 27, 2005 11:16 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I've tried all the different settings, no go. (Tried ECP, EPP 1.7 &amp; 1.9, and SPP). Also messed around with the X bit I/O recovery time.
<br />
<br />Ah well, old computers are still useful I guess.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>drk421</b> [ Sun Nov 27, 2005 4:04 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Ok, here we go.
<br />
<br />I was diagnosing the problem, and found the fault to be none other than QBasic.
<br />
<br />As soon as you call the OUT (port) function, it locks up the parallel port. All the data lines get stuck on, and I cannot reset them.
<br />
<br />I'll be working on a solution in the mean time.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Quietust</b> [ Sun Nov 27, 2005 4:49 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />You're welcome to try the current CopyNESW build (<a href="http://www.qmtpro.com/~nes/copynes/" class="postlink">http://www.qmtpro.com/~nes/copynes/</a>), though there's no guarantee that any of it will work (since I haven't had a chance to test it).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>drk421</b> [ Sun Nov 27, 2005 7:04 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Ack, this is driving me nuts. Its not QBasic after all.
<br />I thought it was.... Grrr.
<br />
<br />First of all, the voltage drops from 4.5V to 2.9V when CopyNES is plugged in on the machine that does NOT work.
<br />
<br />Second of all, when the control port bit 5 is set (Bi-Directional mode), all the data outputs go high, and it takes about 10 mA to bring the voltage down to 1V. Seems a little much to me.
<br />
<br />I'll give that program a shot,
<br />
<br />Thanks

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>BootGod</b> [ Sun Nov 27, 2005 8:52 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">drk421 wrote:</div><div class="quotecontent">Ok, I just finished and built it.<br /><br />I can go to run game and play it, but that is all that works.<br /><br />When I try to dump a game, it starts playing the game instead of dumping it.<br /><br />Is there anyway to debug this thing? Find out why its not working correctly?</div><br /><br />When I first tried running mine, that is the exact same behaviour I got. Fortunatly switching to EPP mode solved all the problems.<br /><br />The box I'm running CopyNES from is fairly new, although I am booting from a Win98 startup disk and then just made a small FAT partition to store copynes and dump data in.<br /><br /><div class="quotetitle">Quietust wrote:</div><div class="quotecontent">You're welcome to try the current CopyNESW build (<!-- m --><a class="postlink" href="http://qmt.ath.cx/~nes/copynesw.zip">http://qmt.ath.cx/~nes/copynesw.zip</a><!-- m -->), though there's no guarantee that any of it will work (since I haven't had a chance to test it).<br /></div>
<br />
<br />I didn't fuss it too much, but here what happened with that. When you turn on the NES, the cart starts but there is no video (you hear music). Your program sits for a few seconds and then you get a little dialog saying "WriteByte: Timeout on data transer" It is managing to do something in the background, as the NES will reset as soon as your program starts.
<br />
<br />After you get the error message, your stuck with a ghost in the taskbar which you have to kill the process to get rid of. If you try running the program again with the "ghost" still there, then you get an error about the par port being in use, but when you close this one, you actually get the main dialog of the program, but with all main functions disabled.
<br />
<br />Would you be willing to share your source for it? I might be able to debug it. Out of curiousity, how does one go about gaining port access in your own program without relying on some external driver. I had messed with port access on something else in the past but never got very far. How do you compile something so it doesn't run in user mode?

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>3</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>