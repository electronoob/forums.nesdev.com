<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="http://forums.nesdev.com/feed.php?f=3&amp;t=925" />

<title>nesdev.com</title>
<subtitle>NES Development and Strangulation Records message boards</subtitle>
<link href="http://forums.nesdev.com/index.php" />
<updated>2006-01-22T08:28:42-07:00</updated>

<author><name><![CDATA[nesdev.com]]></name></author>
<id>http://forums.nesdev.com/feed.php?f=3&amp;t=925</id>
<entry>
<author><name><![CDATA[WedNESday]]></name></author>
<updated>2006-01-22T08:28:42-07:00</updated>
<published>2006-01-22T08:28:42-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=925&amp;p=8435#p8435</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=925&amp;p=8435#p8435"/>
<title type="html"><![CDATA[PowerUp sequence &amp; PPU alignment questions]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=925&amp;p=8435#p8435"><![CDATA[
Why hasn't Brad Taylor documented the Power-Up sequence in his 2C02 technical reference? Surely he has the means to do it and the expertise.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=191">WedNESday</a> — Sun Jan 22, 2006 8:28 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2006-01-11T07:14:52-07:00</updated>
<published>2006-01-11T07:14:52-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=925&amp;p=8123#p8123</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=925&amp;p=8123#p8123"/>
<title type="html"><![CDATA[PowerUp sequence &amp; PPU alignment questions]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=925&amp;p=8123#p8123"><![CDATA[
Those bit patterns look a bit like a CPU bus that where the R/W line isn't fully powered.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Wed Jan 11, 2006 7:14 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Zepper]]></name></author>
<updated>2006-01-11T06:42:31-07:00</updated>
<published>2006-01-11T06:42:31-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=925&amp;p=8122#p8122</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=925&amp;p=8122#p8122"/>
<title type="html"><![CDATA[PowerUp sequence &amp; PPU alignment questions]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=925&amp;p=8122#p8122"><![CDATA[
Yes, but I still don't know how many cycles are burnt (on NES reset) before the first instruction (or the first scanline?), including the ram reset thing... -_-;; Well, 7 cycles for the RESET interruption... and ?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=39">Zepper</a> — Wed Jan 11, 2006 6:42 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[blargg]]></name></author>
<updated>2006-01-10T17:07:07-07:00</updated>
<published>2006-01-10T17:07:07-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=925&amp;p=8114#p8114</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=925&amp;p=8114#p8114"/>
<title type="html"><![CDATA[PowerUp sequence &amp; PPU alignment questions]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=925&amp;p=8114#p8114"><![CDATA[
And you also see code in games starting with SEI and CLD, even though they're redundant. :)<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=17">blargg</a> — Tue Jan 10, 2006 5:07 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Zepper]]></name></author>
<updated>2006-01-10T16:30:17-07:00</updated>
<published>2006-01-10T16:30:17-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=925&amp;p=8112#p8112</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=925&amp;p=8112#p8112"/>
<title type="html"><![CDATA[PowerUp sequence &amp; PPU alignment questions]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=925&amp;p=8112#p8112"><![CDATA[
Well, I see ASM code doing the task... in a lot of games.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=39">Zepper</a> — Tue Jan 10, 2006 4:30 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[blargg]]></name></author>
<updated>2006-01-10T15:44:58-07:00</updated>
<published>2006-01-10T15:44:58-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=925&amp;p=8109#p8109</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=925&amp;p=8109#p8109"/>
<title type="html"><![CDATA[PowerUp sequence &amp; PPU alignment questions]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=925&amp;p=8109#p8109"><![CDATA[
Hmmm, I never figured that the NES might include an internal ROM that fills memory with $FF (seems unlikely). We need some people to dump the initial RAM of their NES so we can compare dumps to see if the values are identical or just consistent for each individual NES.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=17">blargg</a> — Tue Jan 10, 2006 3:44 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[hap]]></name></author>
<updated>2006-01-10T13:23:11-07:00</updated>
<published>2006-01-10T13:23:11-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=925&amp;p=8104#p8104</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=925&amp;p=8104#p8104"/>
<title type="html"><![CDATA[PowerUp sequence &amp; PPU alignment questions]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=925&amp;p=8104#p8104"><![CDATA[
nono <img src="http://forums.nesdev.com/images/smilies/icon_razz.gif" alt=":P" title="Razz" /><br />I meant this data:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">WRITE_BYTE&#40;0x0008,0xf7&#41;;<br />WRITE_BYTE&#40;0x0009,0xef&#41;;<br />WRITE_BYTE&#40;0x000a,0xdf&#41;;<br />WRITE_BYTE&#40;0x000f,0xbf&#41;;</div><br /><br />And I'm initialising the CPU for a bit less than 1 scanline (by just deducting cycles), so it starts at the end of the pre-render scanline as stated in that other thread.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=115">hap</a> — Tue Jan 10, 2006 1:23 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Zepper]]></name></author>
<updated>2006-01-10T12:32:14-07:00</updated>
<published>2006-01-10T12:32:14-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=925&amp;p=8103#p8103</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=925&amp;p=8103#p8103"/>
<title type="html"><![CDATA[PowerUp sequence &amp; PPU alignment questions]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=925&amp;p=8103#p8103"><![CDATA[
Great. <img src="http://forums.nesdev.com/images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br />By the way, I didn't get the RAM reset thing... &gt;_&lt; Yes, I'm counting 7 cycles for RESET. Other than that... o.O I was doing an easy memset(ram,0xFF,800), but... should I clock the PPU at every single write?<br /><br />I mean...<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">for&#40;i=0;i&lt;0x800;i++&#41;<br />&#123;<br />   ppu_new_clock&#40;&#41;;<br />   ram&#91;i&#93; = 0xFF;<br />&#125;</div><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=39">Zepper</a> — Tue Jan 10, 2006 12:32 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[blargg]]></name></author>
<updated>2006-01-10T11:09:58-07:00</updated>
<published>2006-01-10T11:09:58-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=925&amp;p=8098#p8098</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=925&amp;p=8098#p8098"/>
<title type="html"><![CDATA[PowerUp sequence &amp; PPU alignment questions]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=925&amp;p=8098#p8098"><![CDATA[
<div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />On powerup however, there are some initialisation cycles before reset. (eg. how else would RAM be filled like this?<br /></div><br /><br />Elsewhere someone mentioned how each dynamic RAM chip tends to have its own power-up values, which are usually mostly set bits ($FF). If the system really did initialize all of RAM, how in the heck would it do so in 7 clocks? :)<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />In the Wiki, there's a reference about the CPU making a frame with 29831 cycles for proper PPU alignment (29830.7 cycles). By the way, why 29831?<br /></div><br /><br />I'm guessing this is in reference to a description I wrote of a way for a program to synchronize itself with the PPU by polling $2002 every 29831 clocks. As stated, a PPU frame is 341*262 PPU clocks long, one less on odd frames when BG is enabled during the moment the extra clock is normally added.<br /><br />As for CPU/PPU alignment, it seemed to be random at power-up. Further, since they run from the ~21 MHz master clock, the CPU has (I think) four different "master" alignments (separate from the 3 normal alignments) that the NES can power up with. The PPU divides the master clock by 4 to get its ~5MHz clock, and the CPU divides the master clock by 12. The counters probably power-up with random state so that the initial value in the PPU's divider sets the overall CPU-PPU alignment. This would explain the other PPU timings that I didn't investigate, and couldn't be eliminated without powering down the NES. I know that some of these power-up master alignments result in two of the three normal alignments having special cases, instead of just one.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=17">blargg</a> — Tue Jan 10, 2006 11:09 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[hap]]></name></author>
<updated>2006-01-10T09:10:18-07:00</updated>
<published>2006-01-10T09:10:18-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=925&amp;p=8086#p8086</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=925&amp;p=8086#p8086"/>
<title type="html"><![CDATA[PowerUp sequence &amp; PPU alignment questions]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=925&amp;p=8086#p8086"><![CDATA[
Reset is nothing more than an interrupt, so I guess (a) and (c) are correct. On powerup however, there are some initialisation cycles before reset. (eg. how else would RAM be filled like this?: <!-- m --><a class="postlink" href="http://nesdev.com/wiki/?page=Power-Up+State">http://nesdev.com/wiki/?page=Power-Up+State</a><!-- m --> )<br /><br />Some more info, including answer to (b): <!-- m --><a class="postlink" href="http://nesdev.com/bbs/viewtopic.php?t=649">http://nesdev.com/bbs/viewtopic.php?t=649</a><!-- m --><br /><br />The PPU does indeed take 341*262 cycles per frame (minus one on odd frames!). The other number you're talking about is related to the APU frame sequencer, and has nothing to do with PPU frames.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=115">hap</a> — Tue Jan 10, 2006 9:10 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Zepper]]></name></author>
<updated>2006-01-10T08:03:42-07:00</updated>
<published>2006-01-10T08:03:42-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=925&amp;p=8080#p8080</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=925&amp;p=8080#p8080"/>
<title type="html"><![CDATA[PowerUp sequence &amp; PPU alignment questions]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=925&amp;p=8080#p8080"><![CDATA[
- What's the most logical NES power-up sequence? For my best...<br /><br />a) The CPU/PPU reset takes 7 cycles.<br />b) The PPU starts at VINT period, making 20 lines. The 21th is the scanline #0 (dummy) and then the whole frame (240 lines), followed by a dummy scanline (PPU resting), so 262 lines. I'm unsure about the 2002h:80h state though.<br />c) These 7 cycles ALREADY clocks the PPU. So, 7*3 = 21 PPU cycles are executed. Well, is this correct?<br /><br />- Plus, the CPU/PPU alignment. Once again, for my best, the PPU has 341*262 cycles per frame, or 89342 cycles. In the Wiki, there's a reference about the CPU making a frame with 29831 cycles for proper PPU alignment (29830.7 cycles). By the way, why 29831? It would make 89490 cycles in a frame... I already saw this "number" in the pAPU though, as an independent unit (regarding the APU "frame"). Could someone clarify this, please?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=39">Zepper</a> — Tue Jan 10, 2006 8:03 am</p><hr />
]]></content>
</entry>
</feed>