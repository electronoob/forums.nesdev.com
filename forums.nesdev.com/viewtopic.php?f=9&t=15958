<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<link rel="icon" href="/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />

<title>nesdev.com &bull; View topic - musings for making a debugging-mapper</title>

<link rel="alternate" type="application/atom+xml" title="Feed - nesdev.com" href="http://forums.nesdev.com/feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - News" href="http://forums.nesdev.com/feed.php?mode=news" /><link rel="alternate" type="application/atom+xml" title="Feed - All forums" href="http://forums.nesdev.com/feed.php?mode=forums" /><link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="http://forums.nesdev.com/feed.php?mode=topics" /><link rel="alternate" type="application/atom+xml" title="Feed - Active Topics" href="http://forums.nesdev.com/feed.php?mode=topics_active" /><link rel="alternate" type="application/atom+xml" title="Feed - Forum - NES Hardware and Flash Equipment" href="http://forums.nesdev.com/feed.php?f=9" /><link rel="alternate" type="application/atom+xml" title="Feed - Topic - musings for making a debugging-mapper" href="http://forums.nesdev.com/feed.php?f=9&amp;t=15958" />

<link rel="stylesheet" href="./style.php?id=1&amp;lang=en" type="text/css" />

<script type="text/javascript">
// <![CDATA[


function popup(url, width, height, name)
{
	if (!name)
	{
		name = '_popup';
	}

	window.open(url.replace(/&amp;/g, '&'), name, 'height=' + height + ',resizable=yes,scrollbars=yes,width=' + width);
	return false;
}

function jumpto()
{
	var page = prompt('Enter the page number you wish to go to:', '1');
	var per_page = '15';
	var base_url = './viewtopic.php?f=9&amp;t=15958';

	if (page !== null && !isNaN(page) && page == Math.floor(page) && page > 0)
	{
		if (base_url.indexOf('?') == -1)
		{
			document.location.href = base_url + '?start=' + ((page - 1) * per_page);
		}
		else
		{
			document.location.href = base_url.replace(/&amp;/g, '&') + '&start=' + ((page - 1) * per_page);
		}
	}
}

/**
* Find a member
*/
function find_username(url)
{
	popup(url, 760, 570, '_usersearch');
	return false;
}

/**
* Mark/unmark checklist
* id = ID of parent container, name = name prefix, state = state [true/false]
*/
function marklist(id, name, state)
{
	var parent = document.getElementById(id);
	if (!parent)
	{
		eval('parent = document.' + id);
	}

	if (!parent)
	{
		return;
	}

	var rb = parent.getElementsByTagName('input');
	
	for (var r = 0; r < rb.length; r++)
	{
		if (rb[r].name.substr(0, name.length) == name)
		{
			rb[r].checked = state;
		}
	}
}



// ]]>
</script>
</head>
<body class="ltr">

<a name="top"></a>

<div id="wrapheader">

	<div id="logodesc">
	</div>

	<div id="menubar">

		<table width="100%" cellspacing="0">
		<tr>
			<td rowspan="2"><a href="./index.php"><img src="./styles/subsilver2/imageset/site_logo.gif" alt="" title="" /></a></td>
			<td width="100%" align="center"><h1>nesdev.com</h1><span class="gen">NES Development and Strangulation Records message boards</span></td>
		</tr>
		<tr>
			<td align="center">
				<!--<div style="float: right;">
					<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
					<input type="hidden" name="cmd" value="_s-xclick">
					<input type="hidden" name="hosted_button_id" value="X2HM4WNR5YT8S">
					<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
					<img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
					</form>
				</div>-->
				<a href="./faq.php"><img src="./styles/prosilver/theme/images/icon_mini_faq.gif" width="12" height="13" alt="*" /> FAQ</a>
				&nbsp; &nbsp;<a href="./search.php"><img src="./styles/prosilver/theme/images/icon_mini_search.gif" width="12" height="13" alt="*" /> Search</a>
				<br />	
				 &nbsp;<a href="./ucp.php?mode=minion"><img src="./styles/prosilver/theme/images/icon_mini_register.gif" width="12" height="13" alt="*" /> Register</a>
					&nbsp; &nbsp;<a href="./ucp.php?mode=login"><img src="./styles/prosilver/theme/images/icon_mini_login.gif" width="12" height="13" alt="*" /> Login</a>&nbsp;
			</td>
		</tr>
		</table>
	</div>

	<div id="datebar">
		<table width="100%" cellspacing="0">
		<tr>
			<td class="gensmall"></td>
			<td class="gensmall" align="right">It is currently Fri Aug 17, 2018 2:26 am<br /></td>
		</tr>
		</table>
	</div>

</div>

<div id="wrapcentre">

	
	<p class="searchbar">
		<span style="float: left;"><a href="./search.php?search_id=unanswered">View unanswered posts</a> | <a href="./search.php?search_id=active_topics">View active topics</a></span>
		
	</p>
	

	<br style="clear: both;" />

	<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=24">NES / Famicom</a> &#187; <a href="./viewforum.php?f=9">NES Hardware and Flash Equipment</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>

	<br />
	

					<center>
					<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- NesDev Forums -->
					<ins class="adsbygoogle"
						 style="display:block"
						 data-ad-client="ca-pub-7801010229099644"
						 data-ad-slot="7979066809"
						 data-ad-format="auto"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>
					</center>
	<br />


<div id="pageheader">
	<h2><a class="titles" href="./viewtopic.php?f=9&amp;t=15958">musings for making a debugging-mapper</a></h2>


	<p class="moderators">Moderators: <a href="./memberlist.php?mode=viewprofile&amp;u=3466">B00daW</a>, <a href="./memberlist.php?mode=group&amp;g=320">Moderators</a></p>

</div>

<br clear="all" /><br />

<div id="pagecontent">

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=9"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=9&amp;t=15958"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>1</strong> of <strong>2</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 23 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"><b><a href="#" onclick="jumpto(); return false;" title="Click to jump to page…">Go to page</a> <strong>1</strong><span class="page-sep">, </span><a href="./viewtopic.php?f=9&amp;t=15958&amp;start=15">2</a> &nbsp;<a href="./viewtopic.php?f=9&amp;t=15958&amp;start=15">Next</a></b></td>
		
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat">
			<table width="100%" cellspacing="0">
			<tr>
				<td class="nav" nowrap="nowrap">&nbsp;
				<a href="./viewtopic.php?f=9&amp;t=15958&amp;view=print" title="Print view">Print view</a>
				</td>
				<td class="nav" align="right" nowrap="nowrap"><a href="./viewtopic.php?f=9&amp;t=15958&amp;view=previous">Previous topic</a> | <a href="./viewtopic.php?f=9&amp;t=15958&amp;view=next">Next topic</a>&nbsp;</td>
			</tr>
			</table>
		</td>
	</tr>

	</table>


	<table class="tablebg" width="100%" cellspacing="1">
	
		<tr>
			<th>Author</th>
			<th>Message</th>
		</tr>
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p196083"></a>
				<b class="postauthor">Myask</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p196083">musings for making a debugging-mapper</a></div><div style="float: right;"><a href="./viewtopic.php?p=196083#p196083"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu May 18, 2017 9:21 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=6603_1469162638.png" width="32" height="40" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sat Jul 12, 2014 3:04 pm<br /><b>Posts:</b> 958
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I've been trying to work out in my head how to debug and tracelog solely from cart-edge signals. <span style="font-size: 70%; line-height: normal"> Obviously, one could simply fully-replicate the 6502 state. That would take too many FPGA resources, I believe, so I'm trying to pare it down first. This will also save me having to implement an entire 6502.</span><br />What seems key is maintaining a working knowledge of T₁, that is, when an instruction fetch happens: this allows you to know it's an opcode fetch, and what, if you must; it certainly seems helpful to know BRAnch, JMP, JSR, BRK for tracing.<br /><br />My first inclination was &quot;count argument bytes, next fetch is opcode, too&quot;. It didn't take long to come up with some problem cases: BRA [-1,0,+1], or <div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; &nbsp;LDA next,y&nbsp; ;where y = 1<br />next:</div> as the dummy fetch will seem to be at the right address, but won't be an opcode fetch. Then, of course, the knowledge of &quot;is-opcode-fetch&quot; is lost. (The page-boundary fixup cycles are moderately-easily-detectable, on loads nor branches: loads, they're less-than; branches, out-of-range, though care will need be taken to spot a -128 branch)<br /><br />NMIs may be another problem, at least, if one isn't allowing an assumption that $FFFA-FFFF is never executed. For a debugger, you don't want assumptions like that. However, if one is logging stack accesses, a [surprise] triple-push of PCH, PCL, P (which is a triple-write, if I'm understanding things, something that the processor never does, else) would seem to be a good tripwire for &quot;now interrupting&quot; and is followed by reading the destination vector. (BRK and IRQ are less problematic; IRQ will be asserted by mapper hardware and is thus interceptable; if we maintain opcode fetch parity knowledge, BRK is just another known.)<br /><br />[hr]<br />So perhaps I should attack it from a different angle than keeping track. Log the last four reads, keeping track of where, particularly when they're sequential. <br />Hypothesis: Three sequential reads must include at least one opcode/operand fetch. <br />(I'm trying to think of(&quot;fuzz&quot;) how to set up a degenerate[&quot;pathological&quot; was the word that timed my post out trying to remember] case for executing through the stack page…hmm…I think a <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">JMP &#40;label&#41; label:</tt> would confuse, but there's a simpler triple-read: RTI (an RTS precisely into stack will also trip this.)<br /><tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">ldy #1 .org $4A ldy &#40;$4C&#41;,y .db $4E, $00, $any, $any</tt> provides 6 nonopcode-fetches. An RTI in-stack will hit 5.<br /><br />(These are all problems for &quot;keep memory of what's the opcode&quot; too.)<br /><br />One needs really only trap branches-taken(hard), interrupts/BRK (easy), JSR (easy-ish), JMP (harder, no stack-write evidence)…argh.<br /><br />I'm pretty sure there's a pathological case for every simple comparison I've come up with so far…<br />catching a JMP seems easy prima facie (read #$4C, read #$lo, read#$hi, read $hilo) , but the above case would trip it incorrectly.<br /><br />JSR should be catchable by any double-descending-write that is not followed by the P push an interrupt does…should. <s><span style="font-size: 50%; line-height: normal">Does an indexed y/x=FF pagebreak trigger? No, that&#39;s an extra descending read, not a write.</span></s><br /><br />---<br />ed2:<br />Pathological cases for a Branch-detector:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">.org $100<br />ldx #$06<br />txs<br />clc<br />bcc 0<br />pha ;gets read twice or three times, instead of 1-2 for a branch to +1<br /></div></div>

					
							<br /><br />
							<span class="gensmall">Last edited by <a href="./memberlist.php?mode=viewprofile&amp;u=6603">Myask</a> on Thu May 18, 2017 10:28 am, edited 2 times in total.</span>
						<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=6603"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p196085"></a>
				<b class="postauthor" style="color: #FF3300">tepples</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p196085">Re: debugging-mapper musings</a></div><div style="float: right;"><a href="./viewtopic.php?p=196085#p196085"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu May 18, 2017 9:43 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Sep 19, 2004 11:12 pm<br /><b>Posts:</b> 20409<br /><b>Location:</b> NE Indiana, USA (NTSC)
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I know the <em>Missile Command</em> hardware special cases the (d,X) addressing mode for frame buffer access and turns it into a read-modify-write sequence on the underlying memory. How does it do that?</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=9"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p196088"></a>
				<b class="postauthor">Myask</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p196088">Re: musings for making a debugging-mapper</a></div><div style="float: right;"><a href="./viewtopic.php?p=196088#p196088"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu May 18, 2017 10:29 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=6603_1469162638.png" width="32" height="40" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sat Jul 12, 2014 3:04 pm<br /><b>Posts:</b> 958
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><span style="font-size: 85%; line-height: normal">I, uh, haven't implemented one yet.</span><br /><br />and if I implemented one on PowerPak it would not help understand any mapper hardware, technically, as I'd have to implement the mapper myself! Only on a game-genielike thing (which, I suspect, Memblers already has managed) would one be able to do it with arbitrary mapper…though that would also deny you simple access to mapper regs.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=6603"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p196089"></a>
				<b class="postauthor">lidnariq</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p196089">Re: debugging-mapper musings</a></div><div style="float: right;"><a href="./viewtopic.php?p=196089#p196089"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu May 18, 2017 10:36 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Apr 13, 2008 11:12 am<br /><b>Posts:</b> 7391<br /><b>Location:</b> Seattle
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">The plain-jane 6502 includes a SYNC output that lets an external device know when it's fetching an opcode vs data.<br /><br />From the <a href="https://www.arcade-museum.com/game_detail.php?game_id=8715" class="postlink">Missile Command Service Manual</a>:<br /><blockquote style="margin-left: 1%; padding-left: 1%; border-left: 3px solid #555577;">
<strong>SYNC</strong> - Signal generated directly from the microprocessor that occurs at the beginning of an instruction read cycle and lasts one cycle of micrprocessor φ2 clock. Five φ0 cycles later, MADSEL goes high.
</blockquote></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3512"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p196155"></a>
				<b class="postauthor" style="color: #FF3300">Memblers</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p196155">Re: musings for making a debugging-mapper</a></div><div style="float: right;"><a href="./viewtopic.php?p=196155#p196155"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu May 18, 2017 11:54 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td class="postdetails">Site Admin</td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=10.jpg" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Sep 20, 2004 6:04 am<br /><b>Posts:</b> 3541<br /><b>Location:</b> Indianapolis
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Not too long ago I also wanted to make a similar code/data discriminator fit in a CPLD, but I also hit that same brick wall of branches requiring that it know the status flags, which pretty much leads to emulating the whole 6502.  Might as well!  Most recently I've been experimenting with the iCE40HX4K.  I tried <a href="http://ladybug.xs4all.nl/arlet/fpga/6502/" class="postlink">Arlet Otten's 6502</a>, only synthesizing it by itself though, and it used about 1400 of 3500 logic cells.  <a href="http://forum.6502.org/viewtopic.php?t=1673" class="postlink">This post</a> shows that core should be under 500 LUTs + some block RAM on a Spartan 2.  Seems pretty small, maybe it could fit in the PowerPak?<br /><br />Your suspicion was correct, I am working on a game-genie-like device. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />  As usual, I've redesigned the thing 5 different ways before starting it, but what I have managed so far is to settle on a design, and making progress on a board layout.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=10"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p196302"></a>
				<b class="postauthor">Oziphantom</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p196302">Re: musings for making a debugging-mapper</a></div><div style="float: right;"><a href="./viewtopic.php?p=196302#p196302"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Mon May 22, 2017 12:14 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Tue Feb 07, 2017 2:03 am<br /><b>Posts:</b> 511
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Question, why does the cart need to know so much detail? Surly it is connected to a PC of some sort to display said info, to which said PC could also have its own copy of the ROM, probably with a labels file for better display? <br /><br />at which point the PC,R/W and data bus are all you need, were the PC could be encoded so that it only send the full 16bits if it is not a +1 <br /><br />Then you can count out access cycles to find the OpCodes. <br />You can use the I switched from Write to Read, which says you are on an OpCode fetch<br />Check the VECTOR pulls for the IRQ/NMI and Pushes in the middle of an opcode Read cycle - knowing that the IRQ flag has gone high is not enough, it will let you know it is coming, but not when the CPU actually reacts to it<br />For branches, the next opcode might be  loaded a couple of times, so if you have a PC, PC + 1 not taken PC,PC,PC +/- then branch was not taken so basically you need to keep the last 2 PCs, and see if they change. Either way when the PC changes again you are on your opcode. <br /><br />However can you trap AEC on the cart, to know when a DMA process kicks in to steal cycles?</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=8250"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p196308"></a>
				<b class="postauthor" style="color: #FF3300">Memblers</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p196308">Re: musings for making a debugging-mapper</a></div><div style="float: right;"><a href="./viewtopic.php?p=196308#p196308"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Mon May 22, 2017 2:10 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td class="postdetails">Site Admin</td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=10.jpg" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Sep 20, 2004 6:04 am<br /><b>Posts:</b> 3541<br /><b>Location:</b> Indianapolis
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">If the cartridge was able to know which fetch is an opcode, assuming it's not running from internal RAM, then you could instead feed it a JMP or something into your own single-stepping code.<br /><br />If you tracelog one frame that would be about 117kB (if simply logging 4 bytes per frame) and that's reasonable, but can't be done on anything that exists (yet..!).  I tend to think of this in terms of frames, because the NMI seems like an obvious entry/exit point.  Seems fairly workable if you can tell the FPGA to begin logging once it hits a certain condition or breakpoint, and only upload data to the PC for the interesting part.<br /><br />2A03 does not have an AEC signal, but it doesn't seem like it would be too hard to detect a DMA access.  When it writes $4014, then you can count the next 513/514 cycles as DMA.  Memory locations for the DPCM samples could be determined by the most recent address and length register writes.  There is virtually no reason that anyone would read DPCM data manually with the CPU, so that seems safe enough.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=10"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p196316"></a>
				<b class="postauthor">Oziphantom</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p196316">Re: musings for making a debugging-mapper</a></div><div style="float: right;"><a href="./viewtopic.php?p=196316#p196316"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Mon May 22, 2017 5:00 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Tue Feb 07, 2017 2:03 am<br /><b>Posts:</b> 511
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Ah the DMA logic is all internal on the NES. <br /><br />If you have a break point though, you can assume that point is a valid opcode. To which you can then take it that you step code exits when the opcode is complete and hence the next byte will be a valid opcode?</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=8250"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p196318"></a>
				<b class="postauthor" style="color: #FF3300">tepples</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p196318">Re: musings for making a debugging-mapper</a></div><div style="float: right;"><a href="./viewtopic.php?p=196318#p196318"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Mon May 22, 2017 6:44 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Sep 19, 2004 11:12 pm<br /><b>Posts:</b> 20409<br /><b>Location:</b> NE Indiana, USA (NTSC)
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">Oziphantom wrote:</div><div class="quotecontent">If you have a break point though, you can assume that point is a valid opcode.</div><br />Not necessarily. Setting a breakpoint against a previous build, adding 1 byte of code before the breakpoint, rebuilding the ROM, and then running the code again will likely cause the breakpoint to become on an operand instead of an opcode.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=9"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p196340"></a>
				<b class="postauthor">Myask</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p196340">Re: musings for making a debugging-mapper</a></div><div style="float: right;"><a href="./viewtopic.php?p=196340#p196340"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Mon May 22, 2017 2:24 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=6603_1469162638.png" width="32" height="40" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sat Jul 12, 2014 3:04 pm<br /><b>Posts:</b> 958
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">Oziphantom wrote:</div><div class="quotecontent">Surly it is connected to a PC of some sort to display said info</div>THe idea was to not do that, but to create Powerpak firmware [etc.] that would allow the same sort of features as a debugging emulator without actually having to have any more hardware than that and your NES.<br /><br />That the design also work for an interposed GG-like device is a bonus.<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">at which point the PC,R/W and data bus are all you need, were the PC could be encoded so that it only send the full 16bits if it is not a +1 </div>Program Counter is not a signal that leaves the CPU, AFAIK, only CPU_addr, which is a thing that can be loaded with the Program Counter. <br /><br />Also, you're using two different &quot;PC&quot; acronyms in the same post. Hazardous!<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">You can use the I switched from Write to Read, which says you are on an OpCode fetch</div>I thought of that, but <a href="http://codebase64.org/doku.php?id=base:6510_instruction_timing#instructions_accessing_the_stack" class="postlink">nope.</a> IRQ/NMI/BRK/JSR are all counterexamples. (Someone have an actual IRQ cycle timing? 'cause obviously it's not going to advance past BRK and its &quot;argument&quot;…)<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">However can you trap AEC on the cart,</div>trap what?<br />You could detect DMA with just the RWRW alternation, as no 2-cycle instructions have a write. If you weren't just watching for $4014 writes, which is cheap enough if you're watching for $4016 write/reads to have a controller status to hook out to debugger from. (One probably wants to record all register accesses, anyway.)<br /><div class="quotetitle">Memblers wrote:</div><div class="quotecontent">Not too long ago I also wanted to make a similar code/data discriminator fit in a CPLD, but I also hit that same brick wall of branches requiring that it know the status flags, which pretty much leads to emulating the whole 6502.</div>You don't have to drive R/W, don't have to drive CPU_data, can not compute high address byte (just a carry-into)…is Otten's core a complete, properly-functioning one? That post says many of the cores are still WIPs.<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">If the cartridge was able to know which fetch is an opcode, assuming it's not running from internal RAM, then you could instead feed it a JMP or something into your own single-stepping code.</div> This is one of the best reasons for pre-knowing T₁ (is_opcode_fetch), as it lets you do that. To explicitly point out the benefit, it means branching off without producing a stack write.<br /><br />Unfortunately it can be running from internal RAM, making that a different hazardous, so one might just be stuck with &quot;preemptively keep a copy of the stackpage to restore to&quot;.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">If you tracelog one frame that would be about 117kB (if simply logging 4 bytes per frame) and that's reasonable, but can't be done on anything that exists (yet..!). I tend to think of this in terms of frames, because the NMI seems like an obvious entry/exit point. </div>4 bytes per frame? do you mean, per branch? per PC-change? number seems to indicate per PC-change, including basic incrementation, including argument reads, which…why? It seems an exceptionally redundant and <br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">There is virtually no reason that anyone would read DPCM data manually with the CPU, so that seems safe enough.</div>A debugger has the issue that one often is debugging something that isn't working correctly, so you don't get to make assumptions like &quot;won't execute $FFFA-$01FF&quot; or &quot;won't execute a KIL/STP&quot; or &quot;won't invoke PPU master mode&quot;.<br /><br />I'm pretty sure manual PCM loaders exist; for e.g. speech-synth.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=6603"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p196372"></a>
				<b class="postauthor">Oziphantom</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p196372">Re: musings for making a debugging-mapper</a></div><div style="float: right;"><a href="./viewtopic.php?p=196372#p196372"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Mon May 22, 2017 11:36 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Tue Feb 07, 2017 2:03 am<br /><b>Posts:</b> 511
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">Myask wrote:</div><div class="quotecontent"><div class="quotetitle">Oziphantom wrote:</div><div class="quotecontent">Surly it is connected to a PC of some sort to display said info</div>THe idea was to not do that, but to create Powerpak firmware [etc.] that would allow the same sort of features as a debugging emulator without actually having to have any more hardware than that and your NES.<br /><br />That the design also work for an interposed GG-like device is a bonus.<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">at which point the PC,R/W and data bus are all you need, were the PC could be encoded so that it only send the full 16bits if it is not a +1 </div>Program Counter is not a signal that leaves the CPU, AFAIK, only CPU_addr, which is a thing that can be loaded with the Program Counter. <br /><br />Also, you're using two different &quot;PC&quot; acronyms in the same post. Hazardous!</div><br />Yes I'm am using PC as the same as ADDR my bad. Sure but spend $5us and put a raspberry Zero on it, probably be a lot cheaper than any CPLD large enough to handle it, although it will need a power pack upgrade <img src="./images/smilies/icon_wink.gif" alt=";)" title="Wink" /> OR keep a pet 6502 on board, if you drop the need for illigals the 65C02 would do, you can buy them new. Just user buffers to block its writes. although you would need to delay it properly during DMA... it really is damned if you do dammed if you don't.  Its always so annoying when you just need signal Y and it would be so easy to get, but they just don't give it to you isn't it... <br /><div class="quotetitle">Myask wrote:</div><div class="quotecontent"><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">You can use the I switched from Write to Read, which says you are on an OpCode fetch</div>I thought of that, but <a href="http://codebase64.org/doku.php?id=base:6510_instruction_timing#instructions_accessing_the_stack" class="postlink">nope.</a> IRQ/NMI/BRK/JSR are all counterexamples. (Someone have an actual IRQ cycle timing? 'cause obviously it's not going to advance past BRK and its &quot;argument&quot;…)</div>As far as I know, the IRQ/NMI is identical to BRK, they also take 7 clocks, but don't set B flag and don't increment the PC during the first 2 cycles,  and thus it is<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp;BRK<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; #&nbsp; address R/W description<br />&nbsp; &nbsp; &nbsp; &nbsp;--- ------- --- -----------------------------------------------<br />&nbsp; &nbsp; &nbsp; &nbsp; 1&nbsp; &nbsp; PC&nbsp; &nbsp; &nbsp;R&nbsp; fetch opcode, increment PC<br />&nbsp; &nbsp; &nbsp; &nbsp; 2&nbsp; &nbsp; PC&nbsp; &nbsp; &nbsp;R&nbsp; read next instruction byte (and throw it away),<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;increment PC<br />&nbsp; &nbsp; &nbsp; &nbsp; 3&nbsp; $0100,S&nbsp; W&nbsp; push PCH on stack, decrement S<br />&nbsp; &nbsp; &nbsp; &nbsp; 4&nbsp; $0100,S&nbsp; W&nbsp; push PCL on stack, decrement S<br />&nbsp; &nbsp; &nbsp; &nbsp; 5&nbsp; $0100,S&nbsp; W&nbsp; push P on stack (with B flag set), decrement S<br />&nbsp; &nbsp; &nbsp; &nbsp; 6&nbsp; &nbsp;$FFFE&nbsp; &nbsp;R&nbsp; fetch PCL<br />&nbsp; &nbsp; &nbsp; &nbsp; 7&nbsp; &nbsp;$FFFF&nbsp; &nbsp;R&nbsp; fetch PCH<br /><br />&nbsp;IRQ/NMI<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; #&nbsp; address R/W description<br />&nbsp; &nbsp; &nbsp; &nbsp;--- ------- --- -----------------------------------------------<br />&nbsp; &nbsp; &nbsp; &nbsp; 1&nbsp; &nbsp; PC&nbsp; &nbsp; &nbsp;R&nbsp; fetch opcode<br />&nbsp; &nbsp; &nbsp; &nbsp; 2&nbsp; &nbsp; PC&nbsp; &nbsp; &nbsp;R&nbsp; fetch opcode<br />&nbsp; &nbsp; &nbsp; &nbsp; 3&nbsp; $0100,S&nbsp; W&nbsp; push PCH on stack, decrement S<br />&nbsp; &nbsp; &nbsp; &nbsp; 4&nbsp; $0100,S&nbsp; W&nbsp; push PCL on stack, decrement S<br />&nbsp; &nbsp; &nbsp; &nbsp; 5&nbsp; $0100,S&nbsp; W&nbsp; push P on stack (with B flag clear), decrement S<br />&nbsp; &nbsp; &nbsp; &nbsp; 6&nbsp; &nbsp;$FFFE&nbsp; &nbsp;R&nbsp; fetch PCL<br />&nbsp; &nbsp; &nbsp; &nbsp; 7&nbsp; &nbsp;$FFFF&nbsp; &nbsp;R&nbsp; fetch PCH</div> For this case I was thinking the &quot;trap vector reads&quot; rule would kick in, but damn that JSR! Another horror case for the FSM is when the 6502 losses the NMI due to IRQ... <br /><div class="quotetitle">Myask wrote:</div><div class="quotecontent"><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">However can you trap AEC on the cart,</div>trap what?<br />You could detect DMA with just the RWRW alternation, as no 2-cycle instructions have a write. If you weren't just watching for $4014 writes, which is cheap enough if you're watching for $4016 write/reads to have a controller status to hook out to debugger from. (One probably wants to record all register accesses, anyway.)<br /><div class="quotetitle">Memblers wrote:</div><div class="quotecontent">Not too long ago I also wanted to make a similar code/data discriminator fit in a CPLD, but I also hit that same brick wall of branches requiring that it know the status flags, which pretty much leads to emulating the whole 6502.</div>You don't have to drive R/W, don't have to drive CPU_data, can not compute high address byte (just a carry-into)…is Otten's core a complete, properly-functioning one? That post says many of the cores are still WIPs.</div>Address Enable Control - its the line you use to Tri-state the CPU thus enabling you to perform DMA. Which I now see is not exposed on the NES..</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=8250"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p196374"></a>
				<b class="postauthor">lidnariq</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p196374">Re: musings for making a debugging-mapper</a></div><div style="float: right;"><a href="./viewtopic.php?p=196374#p196374"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue May 23, 2017 12:13 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Apr 13, 2008 11:12 am<br /><b>Posts:</b> 7391<br /><b>Location:</b> Seattle
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">AEC isn't on the 6502 either, that's a 6510 addition. That's what I was talking about in the other thread about the difference between the VIC-20 and the C64. (The VIC-20 has the array of 74'245s to handle the equivalent functionality)<br />—<br />I was recently introduced to the C64's <a href="https://en.wikipedia.org/wiki/The_Final_Cartridge_III" class="postlink">Final Cartridge 3</a> which has a few neat tricks that <em>might</em> be useful? Maybe? Although I guess it basically boils down to &quot;trigger an IRQ or NMI, detect when the vector read happens, and intercept the handler&quot;</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3512"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p196376"></a>
				<b class="postauthor">Oziphantom</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p196376">Re: musings for making a debugging-mapper</a></div><div style="float: right;"><a href="./viewtopic.php?p=196376#p196376"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue May 23, 2017 1:39 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Tue Feb 07, 2017 2:03 am<br /><b>Posts:</b> 511
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Yeah, I though they put the Audio and Video in one chip so would have added an `AEC` ( or some other name ) as they have DMA <img src="./images/smilies/icon_wink.gif" alt=";)" title="Wink" /> And the NES is after the MAX machine. But no they put it all inside and didn't put the signal on the cart so others could add extra DMA - disappointing, although very little use for DMA on a NES CPU side I guess, except to do this... and if they didn't put the audio on die we could drop a 6510 into the NES to get it GAHHHHHHHHHHHHH <br />Sorry I'm still stuck in the world of Commodore where you wanted you to be able to do things with their machines... <br /><br />Which part of the EF3? The Action replay/Retro replay/Final Cart 3 emulation AKA Freezer Cartridges? Or the Ultimax<sup>1</sup> mode KERNAL<sup>2</sup> SWAP? <br />The 64 is lucky as it has the VIC which will do a &quot;bad line&quot; and thus force BA/AEC lo for 40 clocks, which also handles the 3 clock delay. So you wait for the VIC to pull BA/AEC lo,  then you pull NMI lo, switch to Ultimax Mode which lets you replace the KERNAL ROM, which gives you control of the vectors. When the VIC releases BA/AEC the 6510 has to be in a read cycle and thus the NMI will be immediately taken. <br /><br />The 1541-11U+ has a lot more features, and does better take overs, DMA injection etc Gideon ( the designer of the 1541-11U ) made a PDF on his better take over findings here, <!-- m --><a class="postlink" href="http://rr.c64.org/rrwiki/images/6/67/Safely_freezing_the_c64.pdf">http://rr.c64.org/rrwiki/images/6/67/Sa ... he_c64.pdf</a><!-- m --> sadly they use the BA/AEC/DMA line which is missing on the NES <img src="./images/smilies/icon_sad.gif" alt=":(" title="Sad" /> <br /><br />There is an idea, if you want to step you could just force NMIs and take over with a ROM swap, taking care to note if there is a NMI on the bus that is not yours...looks up nes cart edge connector OH COME ON <br /><br /><span style="font-size: 85%; line-height: normal"><sup>1</sup>Ultimax mode is based upon the Commodore MAX machine, it places the C64 into a memory map of<br />0000-07FF RAM <br />0800-7FFF Open Bus<br />8000-9FFF 8K ROM<br />A000-CFFF Open Bus<br />D000-DFFF I/O<br />E000-FFFF 8K ROM<br /><br /><sup>2</sup>Somebody in Commodore marked a manual by mistake with KERNAL instead of KERNEL and well it stuck and was printed and became a &quot;standard&quot;</span></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=8250"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p196385"></a>
				<b class="postauthor" style="color: #FF3300">Memblers</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p196385">Re: musings for making a debugging-mapper</a></div><div style="float: right;"><a href="./viewtopic.php?p=196385#p196385"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue May 23, 2017 4:12 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td class="postdetails">Site Admin</td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=10.jpg" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Sep 20, 2004 6:04 am<br /><b>Posts:</b> 3541<br /><b>Location:</b> Indianapolis
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">Myask wrote:</div><div class="quotecontent">You don't have to drive R/W, don't have to drive CPU_data, can not compute high address byte (just a carry-into)…is Otten's core a complete, properly-functioning one? That post says many of the cores are still WIPs.</div><br /><br />I don't know if it's been 100% audited, but I've noticed some people on 6502.org are using it in their projects.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">If you tracelog one frame that would be about 117kB (if simply logging 4 bytes per frame) and that's reasonable, but can't be done on anything that exists (yet..!). I tend to think of this in terms of frames, because the NMI seems like an obvious entry/exit point. </div>4 bytes per frame? do you mean, per branch? per PC-change? number seems to indicate per PC-change, including basic incrementation, including argument reads, which…why? It seems an exceptionally redundant<br /></div><br /><br />I meant to write 4 bytes per CPU cycle.  That would just be a log of everything like Oziphantom mentioned, CPU data, address, and R/W totals to 25 bits per cycle, padded into 4 bytes.  Then it would be up to the remote system to disassemble it.  This has the advantage of freeing up the FPGA for a bigger mapper, but I still prefer the cart to do more.  Plus a 6502-aware mapper could allow stuff like separate program and data banks, like the '816.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=10"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p196400"></a>
				<b class="postauthor">lidnariq</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p196400">Re: musings for making a debugging-mapper</a></div><div style="float: right;"><a href="./viewtopic.php?p=196400#p196400"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue May 23, 2017 10:14 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Apr 13, 2008 11:12 am<br /><b>Posts:</b> 7391<br /><b>Location:</b> Seattle
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">Oziphantom wrote:</div><div class="quotecontent">Which part of the EF3? The Action replay/Retro replay/Final Cart 3 emulation AKA Freezer Cartridges?<br /></div>Yeah, the freezer. At the cost of eating a pile of cycles, it should let you force the instruction phase to a known state from just the card edge. On the NES it does require that you use /IRQ and that the game permits IRQs, but.<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">::looks up nes cart edge connector:: OH COME ON<br /></div>&lt;giggle&gt;</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3512"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table width="100%" cellspacing="1" class="tablebg">
	<tr align="center">
		<td class="cat"><form name="viewtopic" method="post" action="./viewtopic.php?f=9&amp;t=15958"><span class="gensmall">Display posts from previous:</span> <select name="st" id="st"><option value="0" selected="selected">All posts</option><option value="1">1 day</option><option value="7">7 days</option><option value="14">2 weeks</option><option value="30">1 month</option><option value="90">3 months</option><option value="180">6 months</option><option value="365">1 year</option></select>&nbsp;<span class="gensmall">Sort by</span> <select name="sk" id="sk"><option value="a">Author</option><option value="t" selected="selected">Post time</option><option value="s">Subject</option></select> <select name="sd" id="sd"><option value="a" selected="selected">Ascending</option><option value="d">Descending</option></select>&nbsp;<input class="btnlite" type="submit" value="Go" name="sort" /></form></td>
	</tr>
	</table>
	

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=9"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=9&amp;t=15958"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>1</strong> of <strong>2</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 23 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"><b><a href="#" onclick="jumpto(); return false;" title="Click to jump to page…">Go to page</a> <strong>1</strong><span class="page-sep">, </span><a href="./viewtopic.php?f=9&amp;t=15958&amp;start=15">2</a> &nbsp;<a href="./viewtopic.php?f=9&amp;t=15958&amp;start=15">Next</a></b></td>
		
	</tr>
	</table>

</div>

<div id="pagefooter"></div>

<br clear="all" />
<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=24">NES / Famicom</a> &#187; <a href="./viewforum.php?f=9">NES Hardware and Flash Equipment</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>
	<br clear="all" />

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat"><h4>Who is online</h4></td>
	</tr>
	<tr>
		<td class="row1"><p class="gensmall">Users browsing this forum: <span style="color: #9E8DA7;" class="username-coloured">Google Feedfetcher</span> and 9 guests</p></td>
	</tr>
	</table>


<br clear="all" />

<table width="100%" cellspacing="1">
<tr>
	<td width="40%" valign="top" nowrap="nowrap" align="left"></td>
	<td align="right" valign="top" nowrap="nowrap"><span class="gensmall">You <strong>cannot</strong> post new topics in this forum<br />You <strong>cannot</strong> reply to topics in this forum<br />You <strong>cannot</strong> edit your posts in this forum<br />You <strong>cannot</strong> delete your posts in this forum<br />You <strong>cannot</strong> post attachments in this forum<br /></span></td>
</tr>
</table>

<br clear="all" />

<table width="100%" cellspacing="0">
<tr>
	<td><form method="get" name="search" action="./search.php"><span class="gensmall">Search for:</span> <input class="post" type="text" name="keywords" size="20" /> <input class="btnlite" type="submit" value="Go" /><input type="hidden" name="t" value="15958" />
<input type="hidden" name="sf" value="msgonly" />
</form></td>
	<td align="right">
	<form method="post" name="jumpbox" action="./viewforum.php" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	<table cellspacing="0" cellpadding="0" border="0">
	<tr>
		<td nowrap="nowrap"><span class="gensmall">Jump to:</span>&nbsp;<select name="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">

		
			<option value="-1">Select a forum</option>
		<option value="-1">------------------</option>
			<option value="24">NES / Famicom</option>
		
			<option value="2">&nbsp; &nbsp;NESdev</option>
		
			<option value="3">&nbsp; &nbsp;NESemdev</option>
		
			<option value="21">&nbsp; &nbsp;NES Graphics</option>
		
			<option value="6">&nbsp; &nbsp;NES Music</option>
		
			<option value="22">&nbsp; &nbsp;Homebrew Projects</option>
		
			<option value="34">&nbsp; &nbsp;&nbsp; &nbsp;2018 NESdev Competition</option>
		
			<option value="33">&nbsp; &nbsp;&nbsp; &nbsp;2017 NESdev Competition</option>
		
			<option value="32">&nbsp; &nbsp;&nbsp; &nbsp;2016 NESdev Competition</option>
		
			<option value="31">&nbsp; &nbsp;&nbsp; &nbsp;2014 NESdev Competition</option>
		
			<option value="30">&nbsp; &nbsp;&nbsp; &nbsp;2011 NESdev Competition</option>
		
			<option value="10">&nbsp; &nbsp;Newbie Help Center</option>
		
			<option value="9" selected="selected">&nbsp; &nbsp;NES Hardware and Flash Equipment</option>
		
			<option value="28">&nbsp; &nbsp;&nbsp; &nbsp;Reproduction</option>
		
			<option value="19">&nbsp; &nbsp;NESdev International</option>
		
			<option value="11">&nbsp; &nbsp;&nbsp; &nbsp;FCdev</option>
		
			<option value="18">&nbsp; &nbsp;&nbsp; &nbsp;NESdev China</option>
		
			<option value="27">&nbsp; &nbsp;&nbsp; &nbsp;NESdev Middle East</option>
		
			<option value="25">Other</option>
		
			<option value="5">&nbsp; &nbsp;General Stuff</option>
		
			<option value="4">&nbsp; &nbsp;Membler Industries</option>
		
			<option value="23">&nbsp; &nbsp;Other Retro Dev</option>
		
			<option value="12">&nbsp; &nbsp;&nbsp; &nbsp;SNESdev</option>
		
			<option value="20">&nbsp; &nbsp;&nbsp; &nbsp;GBDev</option>
		
			<option value="15">&nbsp; &nbsp;Test Forum</option>
		
			<option value="26">Site Issues</option>
		
			<option value="13">&nbsp; &nbsp;phpBB Issues</option>
		
			<option value="14">&nbsp; &nbsp;Web Issues</option>
		
			<option value="16">&nbsp; &nbsp;nesdevWiki</option>
		

		</select>&nbsp;<input class="btnlite" type="submit" value="Go" /></td>
	</tr>
	</table>

	</form>
</td>
</tr>
</table>


</div>


<div id="wrapfooter">
	
	<span class="copyright">Powered by <a href="http://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Group
	</span>
</div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-61452025-2', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>