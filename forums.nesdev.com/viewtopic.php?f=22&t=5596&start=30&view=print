<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - My NES raycaster - ROM link inside!</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">My NES raycaster - ROM link inside!</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=22&amp;t=5596">http://forums.nesdev.com/viewtopic.php?f=22&amp;t=5596</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>3</strong> of <strong>6</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Mon Oct 12, 2009 12:22 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Well tokumaru, if you can't host it why don't you ask Memblers to host in on the main nesdev page ? Pretty much a lot of old demos are hosted here, I don't see why your new demo wouldn't.
<br />
<br />And if you can't make a full game with that it really doesn't matter ! You still did a really great prime demo, and proofed something new possible on the NES ! Like when I did my pseudo mode-7 demo, I didn't make a game out of it but I still enjoyed programming it and seeing the results.
<br />
<br />And if you want to continue progress and make a game out of this, it shouldn't be TOO hard to make sprites with different sizes like in 3D-Wolrdunner, it just eats you a great amount of tiles for each sprite that way, but you can adjust the amount of diferent size in function of how much free-space you have.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Mon Oct 12, 2009 1:00 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />One problem is that a first-person view needs really BIG sprites if there are other creatures in the room who are reasonably close to the player. Another is occlusion; how can a sprite be half in front of and half behind a wall?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Mon Oct 12, 2009 1:12 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Another is occlusion; how can a sprite be half in front of and half behind a wall?</div><br />Yeah it seems like a problem but seeing how gross the resolution is horizontally, a 8-pixel error will be OK. Altough computing the on/off state for each state will eat CPU time.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">One problem is that a first-person view needs really BIG sprites if there are other creatures in the room who are reasonably close to the player.</div>
<br />Well you can limit the size of enemies, or do a 3rd person game like 3D WorldRunner.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>CKY-2K/Clay Man</b> [ Mon Oct 12, 2009 3:23 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Can the object be part of the background instead of a sprite?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Mon Oct 12, 2009 4:59 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">RetroRalph wrote:</div><div class="quotecontent">As for game ideas, it could be as simple as a maze, trying to find the exit within a time limit.</div><br />Yeah, this is the simplest game possible, and could be done with what is already working.<br /><br /><div class="quotetitle">RetroRalph wrote:</div><div class="quotecontent">How much wiggle room do you have for enemy sprites/gameplay ?</div><br />I really want to add objects to that engine, but the calculations are very different (and more complex) than what's done for the walls, but I do want to say that it should be possible to have 2 or 3 active objects and still have playable speed.<br /><br />Luckily, the game logic is much simpler than in a platformer, for example. There's no physics only simple collision detection. The AI for the enemies could be very basic as well, so I doubt that would take much of the processing time.<br /><br /><div class="quotetitle">HJRodrigo wrote:</div><div class="quotecontent">3d pacman type game could work</div><br />You had a very interesting idea, but I guess that being chased without being able to see your back could be frustrating. Unless there was a map active at all times, but then it would be like regular Pac-Man, but slower and with a gimmicky 3D window at the top. So I guess this idea needs some adjustments, but yeah, it's interesting.<br /><br /><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">Well tokumaru, if you can't host it why don't you ask Memblers to host in on the main nesdev page ?</div><br />Hosting is solved, Memblers got me an account (BTW, thanks Memblers!). Some time this week I'll probably upload something.<br /><br /><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">And if you can't make a full game with that it really doesn't matter ! You still did a really great prime demo, and proofed something new possible on the NES ! Like when I did my pseudo mode-7 demo, I didn't make a game out of it but I still enjoyed programming it and seeing the results.</div><br />Yeah, I'm already glad it's possible to walk around! I believe I will try to implement objects though, even if not right now.<br /><br /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">One problem is that a first-person view needs really BIG sprites if there are other creatures in the room who are reasonably close to the player.</div><br />The static objects could be carefully designed to be really thin, or too short to be visible from so close. Being attached to the floor or the ceiling you wouldn't be able to see them because it's not possible to look up or down. Enemies could detect when the player is too close and move away by themselves. In the end it might be fun to play "chase the enemies"! =)<br /><br /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">Another is occlusion; how can a sprite be half in front of and half behind a wall?</div><br />NES sprites are 8-pixels wide, the same as the columns in the background. If the objects are aligned with the walls it would just be a matter of comparing the distance of the object to the distance of each background column and not rendering sprites for columns that are more distant than the wall they'd otherwise cover.<br /><br /><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">a 8-pixel error will be OK.</div><br />Or that. I'll have to try when the time comes.<br /><br /><div class="quotetitle">CKY-2K/Clay Man wrote:</div><div class="quotecontent">Can the object be part of the background instead of a sprite?</div>
<br />Not in this engine. The possibilities for background patterns have been carefully calculated to allow the 1-bit textures, the light/dark separation and the multiple wall colors and still leave some free tiles (for a status bar and some decoration). Including foreground objects in the mix would mess everything up. Plus, there would be very few colors.
<br />
<br />I'd rather use sprites for them. It will add some extra colors to the screen, and I think it really needs it. Also, if I take the bitmap route, I plan on giving the objects twice the horizontal resolution of the walls (software pixels will be 4 hardware pixels wide), hopefully making the whole thing look a little less blocky.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Celius</b> [ Tue Oct 13, 2009 10:03 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Perhaps it would be possible to make a game where you are fighting gnomes or something really small so you'd have an excuse for small enemies, haha. You should make a game based off an idea I had when I was thinking of making a NES raycaster. The plot of the game was that you were a wizard who was sucked into another dimension, and your only defense was your wand, with which you could cast rays at enemies. The game was going to be called "Ray Caster" for this reason (and also, because it's a raycaster. I'm sure you get the joke!). But if that's too corny for you, I don't blame you!
<br />
<br />But if you're going to be using big enemies, I would probably stick with 8x16 sprites, obviously because you can make larger enemies out of sprites with that. However, you're still stuck with 8 sprites per scanline. Didn't we have this discussion somewhere else?
<br />
<br />Anyways, I can't wait to see more! I really hope you do something cool with this (though it's already really cool by itself, it would be really cool to see a game out of this).
<br />
<br />EDIT:
<br /><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent">Luckily, the game logic is much simpler than in a platformer, for example. There's no physics only simple collision detection. The AI for the enemies could be very basic as well, so I doubt that would take much of the processing time.</div>
<br />
<br />Well, try imagining making a top-down maze game where you and the enemies are represented by dots and the rest is just an ugly set of "floor" or "wall" squares. Then you and the enemies try and kill each other. All of the objects can spin 360 degrees and face any direction. Whichever direction they are facing, that's the direction they can attack in. That sounds very easy to code, and that would be pretty much the same game logic in a raycaster, just the rendering would be 3D rather than 2D.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Tue Oct 13, 2009 10:16 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">The plot of the game was that you were a wizard who was sucked into another dimension, and your only defense was your want, with which you could cast rays at enemies. The game was going to be called "Ray Caster" for this reason (and also, because it's a raycaster. I'm sure you get the joke!). But if that's too corny for you, I don't blame you!</div>
<br />My this is a cool idea. You can be sure the average gamer don't notice this subtle joke.
<br />
<br />I can't wait to see the ROM, I can't wait to see the ROM, I can't.....

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Celius</b> [ Tue Oct 13, 2009 7:18 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Oops, I meant "wand", not "want" in the post above. You have a wand that you cast rays at enemies with. But yeah, lots of people wouldn't get the joke, but I'm sure a lot of people would get it too.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dwedit</b> [ Tue Oct 13, 2009 8:33 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Your defense may be your want, but then you'd have to fight against the DO NOT WANT dog!  (Or Anakin Skywalker)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>HJRodrigo</b> [ Tue Oct 13, 2009 9:31 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent">You had a very interesting idea, but I guess that being chased without being able to see your back could be frustrating. Unless there was a map active at all times, but then it would be like regular Pac-Man, but slower and with a gimmicky 3D window at the top. So I guess this idea needs some adjustments, but yeah, it's interesting.</div>
<br />
<br />I guess a red alert can flash or sound when you have an enemy in close proximity behind you. Kind of like how Flight sim games do when an enemy behind you has locked on to you.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Banshaku</b> [ Tue Oct 13, 2009 11:07 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />One idea you could try is the one Roth had:  a 3D maze light gun shooter. One hand the controller for moving, the other hand the zapper. I don't know how much complexity it would had to it.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Super-Hampster</b> [ Tue Oct 13, 2009 11:51 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />maybe if the controller was held sideways. That's not a terrible idea at all. It might be hard to open doors since you can't reach the buttons. You might have to shoot the doors open, that is if there are any doors.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>CartCollector</b> [ Mon Oct 26, 2009 7:38 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />@Banshaku, Super-Hampster
<br />
<br />There is at least one controller + light gun game for the NES: Gotcha!, which is a paintball game where you move around with the controller and shoot with the Zapper. So yes it is possible.
<br />
<br />Also, Tokumaru, have you considered doing a 3D glasses version (like what 3D World Runner and Rad Racer have)?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Mon Oct 26, 2009 8:32 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">CartCollector wrote:</div><div class="quotecontent">Also, Tokumaru, have you considered doing a 3D glasses version (like what 3D World Runner and Rad Racer have)?</div>
<br />I haven't, but this is an interesting idea. This should be simple to do mathematically, but there are some limitations that are likely to get in the way.
<br />
<br />Since the frame rate is about 15 fps, in order to switch between two different views as fast as necessary I'd have to render one to each name table, and this means I loose my off screen buffer, unless I use 4-screen mirroring. Also, since two views are necessary for the 3D view, it will be twice as slow, which should be quite unplayable.
<br />
<br />Another problem I see is that because of the low resolution, maybe not every column on the left view will have a right view counterpart, and this might compromise the 3D illusion.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Mon Nov 16, 2009 9:57 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Hello everyone. Sorry for the lack of updates on this, but real life demanded too much attention recently.
<br />
<br />Just to keep you all interested, I decided to release a <a href="http://membler-industries.com/tokumaru/tokumaru_raycaster_00.nes" class="postlink">ROM</a> even though I wasn't able to advance much. Walls are still not solid (sorry CKY-2K/Clay Man) as it's not really a priority. Just try not to go outside of the map or it can glitch up pretty bad. I'll add collision for the next ROM, I promise.
<br />
<br />Feel free to suggest stuff.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>3</strong> of <strong>6</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>