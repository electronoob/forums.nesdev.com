<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - KNES library for CC65 (aka Programming the NES in C)</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">KNES library for CC65 (aka Programming the NES in C)</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=2&amp;t=7099">http://forums.nesdev.com/viewtopic.php?f=2&amp;t=7099</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>2</strong> of <strong>3</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>3gengames</b> [ Fri Oct 29, 2010 7:16 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">thefox wrote:</div><div class="quotecontent"><div class="quotetitle">65024U wrote:</div><div class="quotecontent">wouldn't a BASIC-type OS that also could translate to 6502 ASM on the same system work a bit better then C?</div><br />Work better in what sense? <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /> I think it's bit of an apples and oranges situation...</div>
<br />
<br />
<br />Well....compile better. Because basic would need more commands, but each one would translate into less instuructions and allow for more editable code to be written, not running whole functions and such....but what do I know. I just know TRS-80 basic isn't too bad! <img src="./images/smilies/icon_razz.gif" alt=":P" title="Razz" />
<br />
<br />
<br />
<br />I'm going to have to get into this some time....and the hit detection would be nasty to write in BASIC I guess....maybe this would be alot better? Anyway this is really cool.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Fri Oct 29, 2010 7:55 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Then perhaps we need a scripting language with specialized data types for games. These might include points and rectangles, where operator AND performs intersection: rect AND point returns true iff point is within rect, and rect AND rect returns their intersection. Then hit detection would be a matter of computing two objects' hitboxes and ANDing them together.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>3gengames</b> [ Sat Oct 30, 2010 7:40 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Well, not need...but like that.....more lightweight functions. The C program can do it though so maybe this'll get easier like basic as it goes, who knows? <img src="./images/smilies/icon_razz.gif" alt=":P" title="Razz" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Sat Oct 30, 2010 10:48 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Another issue with C is debugging. If you have a bug in your C code, it will be harder to find in FCEU's debugger than if you did an error in your assembly code.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>3gengames</b> [ Sat Oct 30, 2010 11:00 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">Another issue with C is debugging. If you have a bug in your C code, it will be harder to find in FCEU's debugger than if you did an error in your assembly code.</div>
<br />
<br />Great point. I have a hard time understanding my assembly. I'd hate to run through a compilers!  <img src="./images/smilies/icon_eek.gif" alt=":shock:" title="Shocked" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Sat Oct 30, 2010 11:24 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">Another issue with C is debugging. If you have a bug in your C code, it will be harder to find in FCEU's debugger than if you did an error in your assembly code.</div>
<br /><!-- m --><a class="postlink" href="http://nesdev.com/bbs/viewtopic.php?t=6773">http://nesdev.com/bbs/viewtopic.php?t=6773</a><!-- m -->
<br />
<br />Works fine with C sources too. I'm not sure about the version posted there but I have it working here...

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Sat Oct 30, 2010 3:54 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Any debugger that allows importing a file with labels and comments can in theory be used for source-level debugging.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Chainclaw</b> [ Sat Feb 26, 2011 1:02 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Hey, this demo is awesome, and really got me moving on getting some NES development started. I'm learning a lot, and having a completed demo like this with player movement, scrolling, and collision is fantastic. I'll probably make a thread in the new users forum soon with specific questions about getting things to happen in this demo, things like how do I generate new levels for this, or how do I fully implement left scrolling.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>dirtyHippy</b> [ Fri Mar 04, 2011 4:40 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Greetings, I am having trouble getting knes working - I'm sure it's something simple that I'm overlooking.  My process so far has been:
<br />* Install cc65 from the latest snapshot, set up w/ env variables etc
<br />* Copy nes.lib from cc65 into knes/original, make knes
<br />* Copy knes.lib and knes.h, nes-nrom.cfg into appropriate folders
<br />* Edit nes-nrom.cfg as per <a href="http://nesdev.com/bbs/viewtopic.php?p=74141#74141" class="postlink">this post</a>
<br />* Copy header.h and header.c to my project directory
<br />* Attempt to compile my project:
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">//HAI2.c<br /><br />#include &quot;conio.h&quot;<br />#include &quot;knes.h&quot;<br /><br />int main&#40;void&#41; &#123;<br />&nbsp; &nbsp;clrscr&#40;&#41;;<br />&nbsp; &nbsp;cprintf&#40;&quot;OHI&quot;&#41;;<br />&nbsp; &nbsp;while&#40;1&#41; &#123;&#125;<br />&nbsp; &nbsp;return 0;<br />&#125;<br /></div><br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">cl65 -t none -C nes-nrom.cfg -o HAI2.nes HAI2.c header.c knes.lib <br />Unresolved external `_clrscr' referenced in:<br />&nbsp; HAI2.s&#40;14&#41;<br />Unresolved external `_cputc' referenced in:<br />&nbsp; vcprintf.s&#40;9&#41;<br /></div>
<br />
<br />Any ideas as to what I'm missing?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Fri Mar 04, 2011 7:02 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">dirtyHippy wrote:</div><div class="quotecontent"><div class="codetitle"><b>Code:</b></div><div class="codecontent">//HAI2.c<br /><br />#include &quot;conio.h&quot;<br />#include &quot;knes.h&quot;<br /><br />int main&#40;void&#41; &#123;<br />&nbsp; &nbsp;clrscr&#40;&#41;;<br />&nbsp; &nbsp;cprintf&#40;&quot;OHI&quot;&#41;;<br />&nbsp; &nbsp;while&#40;1&#41; &#123;&#125;<br />&nbsp; &nbsp;return 0;<br />&#125;<br /></div></div>
<br />KNES doesn't support conio.h routines, sorry. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /> If you want to print something you have to write directly to PPU via PPU_ADDR() and PPU.data.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>dirtyHippy</b> [ Fri Mar 04, 2011 7:25 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">thefox wrote:</div><div class="quotecontent">KNES doesn't support conio.h routines, sorry. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /> If you want to print something you have to write directly to PPU via PPU_ADDR() and PPU.data.</div>  I knew it was something simple <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />.  Thanks for the quick reply

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Petruza</b> [ Sun Mar 06, 2011 12:59 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Hey it's great to see someone picked up the idea!
<br />Keep it up!

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>frantik</b> [ Mon Mar 07, 2011 12:14 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />cool.. too bad my c is so rusty

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Wed May 25, 2011 6:09 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Posted version 0.1.1 in the website (see first post) to fix problems which were discussed in <a href="http://nesdev.com/bbs/viewtopic.php?t=7493" class="postlink">this thread</a>. In other words it now works with the latest dev version of CC65...

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Shiru</b> [ Tue May 31, 2011 12:13 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Looked at the game demo and its sources, it is really cool. Haven't expected scrolled map engine in C with fullspeed. Especially was impressed with music engine also written in C.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>2</strong> of <strong>3</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>