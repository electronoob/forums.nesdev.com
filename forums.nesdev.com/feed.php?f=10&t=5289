<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="http://forums.nesdev.com/feed.php?f=10&amp;t=5289" />

<title>nesdev.com</title>
<subtitle>NES Development and Strangulation Records message boards</subtitle>
<link href="http://forums.nesdev.com/index.php" />
<updated>2009-06-11T17:16:13-07:00</updated>

<author><name><![CDATA[nesdev.com]]></name></author>
<id>http://forums.nesdev.com/feed.php?f=10&amp;t=5289</id>
<entry>
<author><name><![CDATA[Memblers]]></name></author>
<updated>2009-06-11T17:16:13-07:00</updated>
<published>2009-06-11T17:16:13-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=5289&amp;p=47911#p47911</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=5289&amp;p=47911#p47911"/>
<title type="html"><![CDATA[Scanline Counting]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=5289&amp;p=47911#p47911"><![CDATA[
<div class="quotetitle">Roth wrote:</div><div class="quotecontent"><br />Thanks for all the tips on this, I'll be checking some of this out. Thanks!<br /><br /><div class="quotetitle">Memblers wrote:</div><div class="quotecontent">Somewhere on my computer I have a custom version of VirtuaNES that has some extra registers for benchmarking code (I believe it could show the maximum # of cycles taken too, for different iterations).  I could find and upload that if it'd be useful to anyone.<br /></div><br />I don't see how it could hurt ; )</div><br /><br /><a href="http://membler-industries.com/memblers/NES/VirtuaNESprof.zip" class="postlink">Here it is</a>.  I can't easily find the email with the instructions on how to use it (Norix sent it to me at my request), but going from memory I believe the registers were just above $4017 and there were 2 of them.  Try $4018 and $4019.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=10">Memblers</a> — Thu Jun 11, 2009 5:16 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Roth]]></name></author>
<updated>2009-06-11T11:37:57-07:00</updated>
<published>2009-06-11T11:37:57-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=5289&amp;p=47904#p47904</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=5289&amp;p=47904#p47904"/>
<title type="html"><![CDATA[Scanline Counting]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=5289&amp;p=47904#p47904"><![CDATA[
Thanks for all the tips on this, I'll be checking some of this out. Thanks!<br /><br /><div class="quotetitle">Memblers wrote:</div><div class="quotecontent"><br />Somewhere on my computer I have a custom version of VirtuaNES that has some extra registers for benchmarking code (I believe it could show the maximum # of cycles taken too, for different iterations).  I could find and upload that if it'd be useful to anyone.<br /></div><br />I don't see how it could hurt ; )<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=174">Roth</a> — Thu Jun 11, 2009 11:37 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Memblers]]></name></author>
<updated>2009-06-10T15:11:05-07:00</updated>
<published>2009-06-10T15:11:05-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=5289&amp;p=47869#p47869</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=5289&amp;p=47869#p47869"/>
<title type="html"><![CDATA[Scanline Counting]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=5289&amp;p=47869#p47869"><![CDATA[
Usually the greyscale bit (if you've seen my macros file it's MONO and COLOR).  When in greyscale mode, you can also get away with using color emphasis bits (all 3 independently, even).<br /><br />Somewhere on my computer I have a custom version of VirtuaNES that has some extra registers for benchmarking code (I believe it could show the maximum # of cycles taken too, for different iterations).  I could find and upload that if it'd be useful to anyone.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=10">Memblers</a> — Wed Jun 10, 2009 3:11 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[bunnyboy]]></name></author>
<updated>2009-06-10T06:57:58-07:00</updated>
<published>2009-06-10T06:57:58-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=5289&amp;p=47861#p47861</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=5289&amp;p=47861#p47861"/>
<title type="html"><![CDATA[Scanline Counting]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=5289&amp;p=47861#p47861"><![CDATA[
One trick I have done is use the grayscale bit.  Turn grayscale on, run code, turn grayscale off.  Usually I am not looking for exactly how many scanlines so I don't have a ruler pattern.  Just care about how long into the frame my game engine takes so I want to see a gap of non gray at the bottom of the screen.  Biggest benefit is it only takes a couple lines of code.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=228">bunnyboy</a> — Wed Jun 10, 2009 6:57 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2009-06-10T06:45:45-07:00</updated>
<published>2009-06-10T06:45:45-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=5289&amp;p=47860#p47860</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=5289&amp;p=47860#p47860"/>
<title type="html"><![CDATA[Re: Scanline Counting]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=5289&amp;p=47860#p47860"><![CDATA[
<div class="quotetitle">Roth wrote:</div><div class="quotecontent"><br />How exactly do you guys figure the amount of scanlines? Do you count as you step through a debugger?<br /></div><br />As never-obsolete pointed out, some debuggers can display the elapsed CPU cycles. I seem to remember that Nintendulator's debugger even gives (x, y) coordinates of the raster position. So put a breakpoint at the beginning and end of the subroutine, run it, subtract, and convert to your preferred unit.<br /><br />Other techniques work even on the NES hardware, which lacks a cycle-counting debugger:<br /><ul><li>Celius' technique: Put a "ruler" (repeating pattern) on screen, start the code at a particular scanline, trigger a raster effect, and eyeball how many scanlines have elapsed (I've done this on the GBA) </li><li>Load the code into a mapper with a readable scanline counter or CPU cycle timer, start the code at a particular scanline, run it, and read the counter when it's done (I've done this on the GBA too) </li><li>Run the code in a loop and see how many iterations finish between NMIs (that's called a benchmark, and it's common even on PCs) </li></ul><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Wed Jun 10, 2009 6:45 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Celius]]></name></author>
<updated>2009-06-09T23:48:52-07:00</updated>
<published>2009-06-09T23:48:52-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=5289&amp;p=47857#p47857</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=5289&amp;p=47857#p47857"/>
<title type="html"><![CDATA[Scanline Counting]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=5289&amp;p=47857#p47857"><![CDATA[
I do guesstimate lots of times, if I turn off the screen at one point, execute a peice of code, then enable it and just eye the amount of scanlines that are blanked. If I do that then it's an estimate. However, for something like my extended Vblank code I count the amount of cycles it takes, and divide by 113.3333.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=138">Celius</a> — Tue Jun 09, 2009 11:48 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[never-obsolete]]></name></author>
<updated>2009-06-09T22:35:57-07:00</updated>
<published>2009-06-09T22:35:57-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=5289&amp;p=47856#p47856</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=5289&amp;p=47856#p47856"/>
<title type="html"><![CDATA[Scanline Counting]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=5289&amp;p=47856#p47856"><![CDATA[
I use the 6502 simulator on the main page. There's a cycle counter on the debugger.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=187">never-obsolete</a> — Tue Jun 09, 2009 10:35 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Roth]]></name></author>
<updated>2009-06-09T22:11:15-07:00</updated>
<published>2009-06-09T22:11:15-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=5289&amp;p=47855#p47855</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=5289&amp;p=47855#p47855"/>
<title type="html"><![CDATA[Scanline Counting]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=5289&amp;p=47855#p47855"><![CDATA[
<div class="quotetitle">In <a href="http://nesdev.com/bbs/viewtopic.php?p=47851#47851" class="postlink">this post</a> Celius wrote:</div><div class="quotecontent"><br />It uses 12 scanlines...<br /></div><br />So, I have been wondering for awhile about this kind of thing. I see people talking like "my routine takes X amount of scanlines," or "if you do X routine for X amount of scanlines," etc.<br /><br />How exactly do you guys figure the amount of scanlines? Do you count as you step through a debugger? Do you count how many cycles the code takes, or even just guesstimate it? I'm just not sure how it gets figured up.<br /><br />Thanks for any answers fellas (and/or ladies, should you be around).<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=174">Roth</a> — Tue Jun 09, 2009 10:11 pm</p><hr />
]]></content>
</entry>
</feed>