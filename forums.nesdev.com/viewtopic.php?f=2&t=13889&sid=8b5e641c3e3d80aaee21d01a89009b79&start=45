<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<link rel="icon" href="/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />

<title>nesdev.com &bull; View topic - Address 0 in zeropage</title>

<link rel="alternate" type="application/atom+xml" title="Feed - nesdev.com" href="http://forums.nesdev.com/feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - News" href="http://forums.nesdev.com/feed.php?mode=news" /><link rel="alternate" type="application/atom+xml" title="Feed - All forums" href="http://forums.nesdev.com/feed.php?mode=forums" /><link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="http://forums.nesdev.com/feed.php?mode=topics" /><link rel="alternate" type="application/atom+xml" title="Feed - Active Topics" href="http://forums.nesdev.com/feed.php?mode=topics_active" /><link rel="alternate" type="application/atom+xml" title="Feed - Forum - NESdev" href="http://forums.nesdev.com/feed.php?f=2" /><link rel="alternate" type="application/atom+xml" title="Feed - Topic - Address 0 in zeropage" href="http://forums.nesdev.com/feed.php?f=2&amp;t=13889" />

<link rel="stylesheet" href="./style.php?id=1&amp;lang=en&amp;sid=a2177b3859e70cc27354b4faae68357c" type="text/css" />

<script type="text/javascript">
// <![CDATA[


function popup(url, width, height, name)
{
	if (!name)
	{
		name = '_popup';
	}

	window.open(url.replace(/&amp;/g, '&'), name, 'height=' + height + ',resizable=yes,scrollbars=yes,width=' + width);
	return false;
}

function jumpto()
{
	var page = prompt('Enter the page number you wish to go to:', '4');
	var per_page = '15';
	var base_url = './viewtopic.php?f=2&amp;t=13889&amp;sid=a2177b3859e70cc27354b4faae68357c';

	if (page !== null && !isNaN(page) && page == Math.floor(page) && page > 0)
	{
		if (base_url.indexOf('?') == -1)
		{
			document.location.href = base_url + '?start=' + ((page - 1) * per_page);
		}
		else
		{
			document.location.href = base_url.replace(/&amp;/g, '&') + '&start=' + ((page - 1) * per_page);
		}
	}
}

/**
* Find a member
*/
function find_username(url)
{
	popup(url, 760, 570, '_usersearch');
	return false;
}

/**
* Mark/unmark checklist
* id = ID of parent container, name = name prefix, state = state [true/false]
*/
function marklist(id, name, state)
{
	var parent = document.getElementById(id);
	if (!parent)
	{
		eval('parent = document.' + id);
	}

	if (!parent)
	{
		return;
	}

	var rb = parent.getElementsByTagName('input');
	
	for (var r = 0; r < rb.length; r++)
	{
		if (rb[r].name.substr(0, name.length) == name)
		{
			rb[r].checked = state;
		}
	}
}



// ]]>
</script>
</head>
<body class="ltr">

<a name="top"></a>

<div id="wrapheader">

	<div id="logodesc">
	</div>

	<div id="menubar">

		<table width="100%" cellspacing="0">
		<tr>
			<td rowspan="2"><a href="./index.php?sid=a2177b3859e70cc27354b4faae68357c"><img src="./styles/subsilver2/imageset/site_logo.gif" alt="" title="" /></a></td>
			<td width="100%" align="center"><h1>nesdev.com</h1><span class="gen">NES Development and Strangulation Records message boards</span></td>
		</tr>
		<tr>
			<td align="center">
				<!--<div style="float: right;">
					<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
					<input type="hidden" name="cmd" value="_s-xclick">
					<input type="hidden" name="hosted_button_id" value="X2HM4WNR5YT8S">
					<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
					<img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
					</form>
				</div>-->
				<a href="./faq.php?sid=a2177b3859e70cc27354b4faae68357c"><img src="./styles/prosilver/theme/images/icon_mini_faq.gif" width="12" height="13" alt="*" /> FAQ</a>
				&nbsp; &nbsp;<a href="./search.php?sid=a2177b3859e70cc27354b4faae68357c"><img src="./styles/prosilver/theme/images/icon_mini_search.gif" width="12" height="13" alt="*" /> Search</a>
				<br />	
				 &nbsp;<a href="./ucp.php?mode=minion&amp;sid=a2177b3859e70cc27354b4faae68357c"><img src="./styles/prosilver/theme/images/icon_mini_register.gif" width="12" height="13" alt="*" /> Register</a>
					&nbsp; &nbsp;<a href="./ucp.php?mode=login&amp;sid=a2177b3859e70cc27354b4faae68357c"><img src="./styles/prosilver/theme/images/icon_mini_login.gif" width="12" height="13" alt="*" /> Login</a>&nbsp;
			</td>
		</tr>
		</table>
	</div>

	<div id="datebar">
		<table width="100%" cellspacing="0">
		<tr>
			<td class="gensmall"></td>
			<td class="gensmall" align="right">It is currently Mon Nov 07, 2016 7:12 pm<br /></td>
		</tr>
		</table>
	</div>

</div>

<div id="wrapcentre">

	
	<p class="searchbar">
		<span style="float: left;"><a href="./search.php?search_id=unanswered&amp;sid=a2177b3859e70cc27354b4faae68357c">View unanswered posts</a> | <a href="./search.php?search_id=active_topics&amp;sid=a2177b3859e70cc27354b4faae68357c">View active topics</a></span>
		
	</p>
	

	<br style="clear: both;" />

	<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php?sid=a2177b3859e70cc27354b4faae68357c">Board index</a> &#187; <a href="./viewforum.php?f=24&amp;sid=a2177b3859e70cc27354b4faae68357c">NES / Famicom</a> &#187; <a href="./viewforum.php?f=2&amp;sid=a2177b3859e70cc27354b4faae68357c">NESdev</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>

	<br />
	

					<center>
					<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- NesDev Forums -->
					<ins class="adsbygoogle"
						 style="display:block"
						 data-ad-client="ca-pub-7801010229099644"
						 data-ad-slot="7979066809"
						 data-ad-format="auto"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>
					</center>
	<br />


<div id="pageheader">
	<h2><a class="titles" href="./viewtopic.php?f=2&amp;t=13889&amp;start=45&amp;sid=a2177b3859e70cc27354b4faae68357c">Address 0 in zeropage</a></h2>


	<p class="moderators">Moderator: <a href="./memberlist.php?mode=group&amp;g=320&amp;sid=a2177b3859e70cc27354b4faae68357c">Moderators</a></p>

</div>

<br clear="all" /><br />

<div id="pagecontent">

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=2&amp;sid=a2177b3859e70cc27354b4faae68357c"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=2&amp;t=13889&amp;sid=a2177b3859e70cc27354b4faae68357c"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>4</strong> of <strong>4</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 57 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"><b><a href="#" onclick="jumpto(); return false;" title="Click to jump to pageâ€¦">Go to page</a> <a href="./viewtopic.php?f=2&amp;t=13889&amp;sid=a2177b3859e70cc27354b4faae68357c&amp;start=30">Previous</a>&nbsp;&nbsp;<a href="./viewtopic.php?f=2&amp;t=13889&amp;sid=a2177b3859e70cc27354b4faae68357c">1</a><span class="page-sep">, </span><a href="./viewtopic.php?f=2&amp;t=13889&amp;sid=a2177b3859e70cc27354b4faae68357c&amp;start=15">2</a><span class="page-sep">, </span><a href="./viewtopic.php?f=2&amp;t=13889&amp;sid=a2177b3859e70cc27354b4faae68357c&amp;start=30">3</a><span class="page-sep">, </span><strong>4</strong></b></td>
		
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat">
			<table width="100%" cellspacing="0">
			<tr>
				<td class="nav" nowrap="nowrap">&nbsp;
				<a href="./viewtopic.php?f=2&amp;t=13889&amp;start=45&amp;sid=a2177b3859e70cc27354b4faae68357c&amp;view=print" title="Print view">Print view</a>
				</td>
				<td class="nav" align="right" nowrap="nowrap"><a href="./viewtopic.php?f=2&amp;t=13889&amp;view=previous&amp;sid=a2177b3859e70cc27354b4faae68357c">Previous topic</a> | <a href="./viewtopic.php?f=2&amp;t=13889&amp;view=next&amp;sid=a2177b3859e70cc27354b4faae68357c">Next topic</a>&nbsp;</td>
			</tr>
			</table>
		</td>
	</tr>

	</table>


	<table class="tablebg" width="100%" cellspacing="1">
	
		<tr>
			<th>Author</th>
			<th>Message</th>
		</tr>
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p165525"></a>
				<b class="postauthor">rainwarrior</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p165525">Re: Address 0 in zeropage</a></div><div style="float: right;"><a href="./viewtopic.php?p=165525&amp;sid=a2177b3859e70cc27354b4faae68357c#p165525"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Mar 01, 2016 1:55 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=5165_1471663472.jpg" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Jan 22, 2012 12:03 pm<br /><b>Posts:</b> 4298<br /><b>Location:</b> Canada
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">Drag wrote:</div><div class="quotecontent">All of my previous points still stand, all you did was reiterate how much of a non-serious issue you believe this is. If you want a nice example of what a &quot;bah, nobody'd ever do this so I don't need to fix it&quot; attitude results in, take a look at nesasm, with all of its obscure bugs.<br /><br />If you release something that the public is going to use, you <em>treat every issue seriously, no matter how minor</em>. Don't like it? Don't write software.</div><br />Okay, just to be clear, I'm not the maintainer of CC65. I'm speaking entirely in the context of this forum. You complained that nobody here took your &quot;problem&quot; seriously, and my point was that you aren't actually having a problem. Nobody's having a problem with this &quot;bug&quot;, because it's never come up in the history of CC65. Also, multiple people here, including myself, <em>have</em> explained multiple ways you can solve this (non) issue, so I'm not even sure what your beef is. <strong>We actually did take it seriously in every practical sense that we can at this forum.</strong><br /><br />My last post wasn't just &quot;re-iterating&quot; how non-serious it was, I was explaining <strong>5 critical points that can be used to work around the problem</strong> as well, and at this point I feel like you're not taking <em>me</em> &quot;seriously&quot;, to be honest.<br /><br />I was really responding directly to this...<br /><div class="quotetitle">Drag wrote:</div><div class="quotecontent">I love how my question went unacknowledged. You guys have a serious issue with stuff like this.</div><br />...not as a maintainer of CC65, but as a user of this forum, who like everyone else here doesn't owe you a thing w.r.t. explaining CC65, maintaining CC65, or anything of the sort. You asking the most obscure question about CC65 on this niche NES forum is not a &quot;serious issue&quot;. The <em>serious issue</em> here, in my view, is that you feel entitled to an answer from us about something we're not responsible for. <strong>...AND I DID ANSWER YOU, AND SO DID MANY OTHERS</strong> when you asked again, despite your insulting attitude. The qualifying part of my commentary was merely a reaction to your rudeness.<br /><br />If you think somebody working on CC65 should address this, there <em>is</em> an appropriate place to report it, and that place is not the NESDev forums.<br /><br />NESASM's &quot;obscure&quot;  bugs actually do come up and irritate people constantly, and it also has no active maintainer. I'm not sure why you think that compares to CC65 having a flaw based on bizarrely specific behaviour that I'm certain has never come up for anybody using it before. Nobody here is complaining that it happened to them, just that it could happen, in some obscure theoretical situation.<br /><br />I <em>do</em> release software to the public, in my personal projects, and for a living. If you have a complaint about a piece of my software, feel free to submit a comment or report in an appropriate channel. If you're complaint is &quot;you don't ideologically think that every complaint is a serious one&quot;, well I won't be taking that complaint seriously. ;P</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=5165&amp;sid=a2177b3859e70cc27354b4faae68357c"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p165528"></a>
				<b class="postauthor">Sik</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p165528">Re: Address 0 in zeropage</a></div><div style="float: right;"><a href="./viewtopic.php?p=165528&amp;sid=a2177b3859e70cc27354b4faae68357c#p165528"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Mar 01, 2016 2:36 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Thu Aug 12, 2010 3:43 am<br /><b>Posts:</b> 1589
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">Drag wrote:</div><div class="quotecontent">All of my previous points still stand, all you did was reiterate how much of a non-serious issue you believe this is.</div><div class="quotetitle">tepples wrote:</div><div class="quotecontent">The Standard fails to state that it is an issue in the first place.</div><br />And I think that's the issue. <em>The standards simply assume that null is zero and consider that address to be simply invalid.</em> So this is a flaw in C in the first place. The only option here is to make the toolchain avoid using that address altogether - which is what messing with the linker does. But that's something beyond the scope of the language.<br /><br />So basically what you want to do is go yell at the standards comitee. And they won't hear you because no modern platform puts anything useful for an userspace program at that address (they usually leave vectors there instead).</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=4526&amp;sid=a2177b3859e70cc27354b4faae68357c"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p165532"></a>
				<b class="postauthor">rainwarrior</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p165532">Re: Address 0 in zeropage</a></div><div style="float: right;"><a href="./viewtopic.php?p=165532&amp;sid=a2177b3859e70cc27354b4faae68357c#p165532"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Mar 01, 2016 3:22 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=5165_1471663472.jpg" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Jan 22, 2012 12:03 pm<br /><b>Posts:</b> 4298<br /><b>Location:</b> Canada
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">rainwarrior wrote:</div><div class="quotecontent">Ah, okay. I didn't realize that you could override the &quot;BSS&quot; to use &quot;ZEROPAGE&quot;....<br />What happens if you put initialized variables in ZP?</div><br />Anwering my own question, in case it's of use to anyone else:<br /><br />Variables with an initializer go into the <strong>DATA</strong> segment, rather than <strong>BSS</strong>. There is another corresponding pragma for this (<em>#pragma data-name</em>), though it can't actually be used with any segment of type <strong>zp</strong> or <strong>bss</strong> (both of which dictate uninitialized data), so if your linker configuration is correct you will get an appropriate error for attempting this.<br /><br />Any segment used for <strong>DATA</strong> must be of type <strong>rw</strong>, which is apparently a promise to the compiler that your CRT will correctly initialize it.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=5165&amp;sid=a2177b3859e70cc27354b4faae68357c"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p165539"></a>
				<b class="postauthor">Drag</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p165539">Re: Address 0 in zeropage</a></div><div style="float: right;"><a href="./viewtopic.php?p=165539&amp;sid=a2177b3859e70cc27354b4faae68357c#p165539"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Mar 01, 2016 5:41 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Sep 27, 2004 2:57 pm<br /><b>Posts:</b> 1169
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">rainwarrior: I owe you some explanations. I asked a question and didn't get a response. I don't think it's unreasonable to expect a response when you ask a question. I've made several posts on nesdev (sometimes things that took time and effort to figure out) that were met with silence, and it happening <em>again</em> is what set me off. That's where my original &quot;you guys have a serious problem with this&quot; quip of entitlement came from, but I'll save that discussion for later. When I asked that question, I was looking for a different solution than just skipping bytes, but I didn't make that clear enough. Your next post somewhat answered my question, but then you said &quot;THIS PROBLEM WILL NEVER COME UP UNLESS YOU'RE TRYING TO MAKE IT HAPPEN.&quot; Which started me on a different tangent. Now to explain my mindset, this is the C version of the print example I came up with in my first post:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">#pragma bss-name (push, &quot;ZEROPAGE&quot;)<br />unsigned char zpBuffer&#91;16&#93;;<br />unsigned char *zpPrintBuffer;<br />#pragma bss-name (pop)<br /><br />void main() {<br />&nbsp; // &lt;code&gt;<br />&nbsp; zpPrintBuffer = zpBuffer;<br />&nbsp; // &lt;code&gt;<br />}<br /><br />void vblank() {<br />&nbsp; if (zpPrintBuffer) {<br />&nbsp; &nbsp; // &lt;print routine here&gt;<br />&nbsp; &nbsp; zpPrintBuffer = 0;<br />&nbsp; }<br />}</div><br />This looks completely innocuous and like something someone could easily do, so I was confused by your all-caps statement, leading to my &quot;no, take it seriously&quot; post. Next, I asked if a different solution would be to move reserved CRT bytes to cover $0000 (or if that's even something you can do), which I still haven't gotten an answer on, which is why I'm still posting.<br /><br />Your next post listed 5 things that need to happen to cause the problem (all 5 were satisfied by my example already, and you wouldn't know to change any of those things since this'd be a hard thing to debug), plus you cited that this is even less of a problem because we're hobbyists and that I'm just nit picking, leading to my response.<br /><br />I couldn't care less about CC65, my problem is the notion that we're allowed to downplay problems because they're obscure or we're hobbyists, as though ignoring problems makes them go away. That's what I was arguing with you about. Yes, you should prioritize problems, but when the problematic code looks as innocuous as the example above, I think that makes it a bigger problem. So in the end, I wasn't even concerned with what the solution was, but rather the severity that the problem was being treated with. I'm sorry for the confusion and anger.<br /><br /><br />Tepples: I apologize, but I misinterpreted your post about the standards. I'm not talking about dereferencing a null pointer, I'm talking about a legitimate pointer to $0000 being confused with a null pointer.<br /><br />Tepples and Sik: When coding in C like in my example above, I feel that the C notion of $0000 being &quot;off limits&quot; should be respected and that the linker should avoid allocating any variables there, but I also feel that rather than skipping $0000, it should be reserved by the CRT or something similar. AFAIK, C was not developed with 6502 in mind, but if you're going to have a C compiler, you should still adhere to the C standard. In fact, if the CC65 linker allocates user variables to $0000 (which, again AFAIK, can happen by default unless you tell it not to), CC65 is at fault for doing something nonstandard.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=21&amp;sid=a2177b3859e70cc27354b4faae68357c"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p165541"></a>
				<b class="postauthor" style="color: #AA0000">tepples</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p165541">Re: Address 0 in zeropage</a></div><div style="float: right;"><a href="./viewtopic.php?p=165541&amp;sid=a2177b3859e70cc27354b4faae68357c#p165541"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Mar 01, 2016 6:26 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Sep 19, 2004 11:12 pm<br /><b>Posts:</b> 17206<br /><b>Location:</b> NE Indiana, USA (NTSC)
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">Drag wrote:</div><div class="quotecontent">I don't think it's unreasonable to expect a response when you ask a question.</div><br />The first post in this topic is by DRW, who on more than one occasion said that he would prefer a week of silence to workarounds that almost but don't quite meet the criteria of the original question. <a href="http://forums.nesdev.com/viewtopic.php?p=150342#p150342" class="postlink">[1]</a> <a href="http://forums.nesdev.com/viewtopic.php?p=164902#p164902" class="postlink">[2]</a> <br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"> I apologize, but I misinterpreted your post about the standards. I'm not talking about dereferencing a null pointer, I'm talking about a legitimate pointer to $0000 being confused with a null pointer.</div><br />In an environment that encourages legitimate pointers to $0000, <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">NULL</tt> would have an underlying representation that differs from 0000000000000000. For example, in an environment where valid addresses run from $0000 to $3FFF, <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">NULL</tt> may be stored as $8000, which requires flipping bit 15 when casting between pointers and integers. I use this paradigm often in assembly language with pointers into VRAM, where bit 15 true means the pointer is invalid. But as for C, I admit that I haven't studied the relatively more recent <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">intptr_t</tt> type. Of course, if you're NVIDIA, you just <a href="http://forums.thedailywtf.com/forums/p/25369/273795.aspx" class="postlink">intentionally violate the C standard and just give <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">NULL</tt> the same representation as the first valid pointer</a>.<br /><br />In practice, I agree with you that if you are building an application binary interface (ABI) for C, the easiest thing to do is to have the CRT or linker script reserve some short range starting at $0000.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">In fact, if the CC65 linker allocates user variables to $0000 (which, again AFAIK, can happen by default unless you tell it not to), CC65 is at fault for doing something nonstandard.</div><br />By default, all variables go in segment <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">BSS</tt>, which on the included linker scripts doesn't include zero page. If you're using <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">#pragma bss-name</tt>, you're already doing something nonstandard.<br /><br />Do you have a GitHub account? If so, I encourage you to poke around in <a href="https://github.com/cc65/cc65/issues" class="postlink">cc65's issue tracker</a> for a while.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=9&amp;sid=a2177b3859e70cc27354b4faae68357c"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p165547"></a>
				<b class="postauthor">Drag</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p165547">Re: Address 0 in zeropage</a></div><div style="float: right;"><a href="./viewtopic.php?p=165547&amp;sid=a2177b3859e70cc27354b4faae68357c#p165547"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Mar 01, 2016 7:41 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Sep 27, 2004 2:57 pm<br /><b>Posts:</b> 1169
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">tepples wrote:</div><div class="quotecontent">The first post in this topic is by DRW, who on more than one occasion said that he would prefer a week of silence to workarounds that almost but don't quite meet the criteria of the original question. <a href="http://forums.nesdev.com/viewtopic.php?p=150342#p150342" class="postlink">[1]</a> <a href="http://forums.nesdev.com/viewtopic.php?p=164902#p164902" class="postlink">[2]</a></div><br />Yeah, there are situations where having no response is better, but there are other times when it's polite to leave feedback, like if you're asking for suggestions and people are posting them. That way, even if your suggestion was turned down, you still feel appreciated and not like nobody cares.<br /><br /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">In an environment that encourages legitimate pointers to $0000, <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">NULL</tt> would have an underlying representation that differs from 0000000000000000.</div><br />As long as it happens transparently to the C coder. However, you wind up with oddball cases like the FDS, where basically everything is RAM. Then it becomes the $8000 confusion problem instead of the $0000 confusion problem.<br /><br /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">By default, all variables go in segment <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">BSS</tt>, which on the included linker scripts doesn't include zero page. If you're using <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">#pragma bss-name</tt>, you're already doing something nonstandard.</div><br />Ok, you got me there. I still think it's worthwhile to consider having $0000 reserved in a more useful way rather than just skipping it though. Then you wouldn't need to also reconfigure your linker.<br /><br /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">Do you have a GitHub account? If so, I encourage you to poke around in <a href="https://github.com/cc65/cc65/issues" class="postlink">cc65's issue tracker</a> for a while.</div><br />Thanks, but I'll pass. <img src="./images/smilies/icon_razz.gif" alt=":P" title="Razz" /> I'm not in a condition to take up a project like that.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=21&amp;sid=a2177b3859e70cc27354b4faae68357c"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p165551"></a>
				<b class="postauthor">rainwarrior</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p165551">Re: Address 0 in zeropage</a></div><div style="float: right;"><a href="./viewtopic.php?p=165551&amp;sid=a2177b3859e70cc27354b4faae68357c#p165551"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Mar 01, 2016 9:56 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=5165_1471663472.jpg" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Jan 22, 2012 12:03 pm<br /><b>Posts:</b> 4298<br /><b>Location:</b> Canada
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">tepples wrote:</div><div class="quotecontent">By default, all variables go in segment <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">BSS</tt>, which on the included linker scripts doesn't include zero page. If you're using <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">#pragma bss-name</tt>, you're already doing something nonstandard.</div><br />The ability to reassign the BSS segment as &quot;ZEROPAGE&quot; doesn't appear to be directly intended (the documents don't appear to consider the possibility), and using this pragma at all has a few documented caveats (e.g. the CRT will zero out &quot;BSS&quot; by default, but not any other segment, same goes for the DATA segment). Being able to assign it to a zeropage segment seems more like a loophole than anything else; i.e. this is advanced-user kinda stuff. It works, but it's kind of a &quot;you're on your own&quot; situation to begin with. The other option is maybe having allocated the array in assembly and using the zpsym pragma, again non-standard and presumes assembly knowledge.<br /><br />But just to be clear, I think placing an array on the zeropage is unusual. Here are the reason's I'd expect someone to do it:<br /><ul><li>1. The performance benefit of zeropage access.</li><li>2. Out of space in regular RAM areas.</li></ul><br />So, case 1 is weird for this, because you only get the performance benefit if you're statically accessing this zeropage array. Using a pointer with it doesn't come with the performance benefit, so if this applies we're presuming that you have code in one place that does &quot;fast&quot; static access to it, and code in another place that does &quot;slow&quot; / &quot;generic&quot; pointer access to it; and finally we're presuming that in the slow segment we're testing it for NULL for some reason. I think that's a rather tall order? Sure it could happen, <em>in theory</em>, but I am certain it's <em>never</em> going to be a real problem for anyone using this compiler. (It shouldn't be a problem for anybody who has read this thread, by this point at least.) Most likely case I can think of is somebody placing NMI update data on the ZP in assembly, and filling it with a pointer in C code, but checking it for NULL at this point is a stretch to me; even most C library string functions don't check for NULL.<br /><br />Case 2 is also a bit unexpected. Usually ZP is very scarce and other RAM is far less so, but performance needs tend to dictate that ZP variables be reserved for things that are accessed statically.<br /><br />It's all predicated on a test for NULL too, which is also kind of unusual for NES code, which tends to use static allocations. I mean, sure there's probably some object oriented case where you have a bunch of objects and stuff like that, but we're also talking about an architecture where it's usually better to use a structure of arrays instead of an array of structures, and pass indices instead of pointers so you can statically access the arrays.<br /><br />The hypotheticals are a bit strange to me. I can think of some, but I would never expect them to happen on the scale of use we're working with (especially in the NESDev subset). It just seems... <em>incredibly obscure</em> to me at face value.<br /><br /><br />I mean, anything is possible, of course. It's <em>possible</em>. It's just not the kind of usage that I think anybody would think of naturally. The most likely situation in my mind is some advanced user doing a bunch of zeropage optimizations, and then other users using their code or copy pasting their advanced stuff without understanding how it works, and accidentally tweaking it in some weird way. That kind of thing does happen, <a href="http://forums.nesdev.com/viewtopic.php?f=2&amp;t=13892" class="postlink">and rather frequently</a> I think, though some people <em>are</em> working on these issues. (That particular problem, calima's forking neslib to fix things that shiru won't, and myself I'm about to submit a documentation patch to CC65 to explain that CC65 doesn't actually have an 8-bit return value.) I just wouldn't ever expect the NULL pointer snafu to be a significant thing, and if it does happen in a case like that you can usually blame the advanced author's library as much as any other part of the problem. <img src="./images/smilies/icon_razz.gif" alt=":P" title="Razz" /></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=5165&amp;sid=a2177b3859e70cc27354b4faae68357c"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p165554"></a>
				<b class="postauthor">Drag</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p165554">Re: Address 0 in zeropage</a></div><div style="float: right;"><a href="./viewtopic.php?p=165554&amp;sid=a2177b3859e70cc27354b4faae68357c#p165554"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Mar 01, 2016 11:05 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Sep 27, 2004 2:57 pm<br /><b>Posts:</b> 1169
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I agree, libraries are where issues have a better chance of appearing, that and code that gets copy/pasted or tweaked over time. The main scare was that something had the chance of randomly breaking and being very hard to debug, but after all the explanations and CC65 knowledge in here, it really does seem I was blowing it out of proportion. Sorry, my bad. <img src="./images/smilies/icon_razz.gif" alt=":P" title="Razz" /><br /><br />As long as we're talking about unusual things, compiling C code to the 6502 seems really strange to me, since there's plenty of C conventions that don't translate well to 6502 and vice versa, and you'd never know unless you wrote and optimized a <em>lot</em> of 6502 assembly. Especially the lack of a stack frame and not fully understanding how variables are allocated both statically and on the heap (especially when you only have 1.5kb to work with, and then how would you use 8kb wram? And then the FDS?), plus the lack of any memory protection and traps. Basically, I don't understand, and that's where my confusion came from.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=21&amp;sid=a2177b3859e70cc27354b4faae68357c"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p165555"></a>
				<b class="postauthor">rainwarrior</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p165555">Re: Address 0 in zeropage</a></div><div style="float: right;"><a href="./viewtopic.php?p=165555&amp;sid=a2177b3859e70cc27354b4faae68357c#p165555"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Mar 01, 2016 11:18 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=5165_1471663472.jpg" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Jan 22, 2012 12:03 pm<br /><b>Posts:</b> 4298<br /><b>Location:</b> Canada
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">CC65 is probably a lot more suited to FDS stuff than it is regular NES, since the paradigm of having most of the memory space be RAM is much closer to what you'd have on most 6502 computers (e.g. Commodore 64, which is probably its primary target).<br /><br />Using 8k WRAM is relatively straightforward: just use your linker config to put your BSS/DATA segments there instead of the NES' internal RAM area. Unfortunately then if you want to place anything on the NES' RAM in C you'd have to do that manually (this is really the intended use of the &quot;bss-name&quot; pragma, I think; cases where RAM is divided), and add something to zero it out on startup.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=5165&amp;sid=a2177b3859e70cc27354b4faae68357c"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p165558"></a>
				<b class="postauthor">calima</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p165558">Re: Address 0 in zeropage</a></div><div style="float: right;"><a href="./viewtopic.php?p=165558&amp;sid=a2177b3859e70cc27354b4faae68357c#p165558"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Mar 02, 2016 2:04 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Tue Oct 06, 2015 10:16 am<br /><b>Posts:</b> 222
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I'd just add that if you really want the behavior of ld65 placing the zeropage.inc variables first, you'll need to send a patch. Opening a bug report would be a good start, but I doubt anyone else has the same need.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=7237&amp;sid=a2177b3859e70cc27354b4faae68357c"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p165562"></a>
				<b class="postauthor">rainwarrior</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p165562">Re: Address 0 in zeropage</a></div><div style="float: right;"><a href="./viewtopic.php?p=165562&amp;sid=a2177b3859e70cc27354b4faae68357c#p165562"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Mar 02, 2016 3:08 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=5165_1471663472.jpg" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Jan 22, 2012 12:03 pm<br /><b>Posts:</b> 4298<br /><b>Location:</b> Canada
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">It's kind of an annoying thing because I don't think there's a clean way to solve it generically/incrementally.<br /><br />Adding a new segment requirement to the CRT would invalidate a lot of existing linker config files; for a bug that nobody's hit yet breaking backward compatibility to solve it would be a huge net loss, relatively.<br /><br />If you put the CRT library before anything else in your linker command line, that would probably be sufficient to prevent the problem, but where does that go? A recommendation in some document somewhere?<br /><br />Maybe you could have the compiler/linker investigate references, and if any reference to a symbol that isn't NULL or a literal 0 that evaluates at link time to 0 could generate a warning, but I think this would be far from trivial to implement (and would probably generate a lot of false positives). A lot of encumbrance to add to the compiler for such a tiny gain.<br /><br />Like I don't really know how I'd suggest solving this problem upstream, even if I wanted to. Really the best you could do is mention the theoretical issue somewhere in the documents, probably? I dunno where it would go, though.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=5165&amp;sid=a2177b3859e70cc27354b4faae68357c"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p165573"></a>
				<b class="postauthor">Drag</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p165573">Re: Address 0 in zeropage</a></div><div style="float: right;"><a href="./viewtopic.php?p=165573&amp;sid=a2177b3859e70cc27354b4faae68357c#p165573"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Mar 02, 2016 2:15 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Sep 27, 2004 2:57 pm<br /><b>Posts:</b> 1169
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">rainwarrior wrote:</div><div class="quotecontent">If you put the CRT library before anything else in your linker command line, that would probably be sufficient to prevent the problem, but where does that go? A recommendation in some document somewhere?</div><br />Word of mouth is probably the best bet. In the form of example files and tutorials placing the CRT first. Documentation that shows this off can include a footnote stating that it's recommended to place the CRT first.<br /><br />Most users will just do it and not really care why.<br /><br />Maybe if that windows template creator project gets off the ground, we can put the &quot;fixed&quot; linker config file in it. <img src="./images/smilies/icon_wink.gif" alt=";)" title="Wink" /></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=21&amp;sid=a2177b3859e70cc27354b4faae68357c"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table width="100%" cellspacing="1" class="tablebg">
	<tr align="center">
		<td class="cat"><form name="viewtopic" method="post" action="./viewtopic.php?f=2&amp;t=13889&amp;start=45&amp;sid=a2177b3859e70cc27354b4faae68357c"><span class="gensmall">Display posts from previous:</span> <select name="st" id="st"><option value="0" selected="selected">All posts</option><option value="1">1 day</option><option value="7">7 days</option><option value="14">2 weeks</option><option value="30">1 month</option><option value="90">3 months</option><option value="180">6 months</option><option value="365">1 year</option></select>&nbsp;<span class="gensmall">Sort by</span> <select name="sk" id="sk"><option value="a">Author</option><option value="t" selected="selected">Post time</option><option value="s">Subject</option></select> <select name="sd" id="sd"><option value="a" selected="selected">Ascending</option><option value="d">Descending</option></select>&nbsp;<input class="btnlite" type="submit" value="Go" name="sort" /></form></td>
	</tr>
	</table>
	

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=2&amp;sid=a2177b3859e70cc27354b4faae68357c"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=2&amp;t=13889&amp;sid=a2177b3859e70cc27354b4faae68357c"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>4</strong> of <strong>4</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 57 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"><b><a href="#" onclick="jumpto(); return false;" title="Click to jump to pageâ€¦">Go to page</a> <a href="./viewtopic.php?f=2&amp;t=13889&amp;sid=a2177b3859e70cc27354b4faae68357c&amp;start=30">Previous</a>&nbsp;&nbsp;<a href="./viewtopic.php?f=2&amp;t=13889&amp;sid=a2177b3859e70cc27354b4faae68357c">1</a><span class="page-sep">, </span><a href="./viewtopic.php?f=2&amp;t=13889&amp;sid=a2177b3859e70cc27354b4faae68357c&amp;start=15">2</a><span class="page-sep">, </span><a href="./viewtopic.php?f=2&amp;t=13889&amp;sid=a2177b3859e70cc27354b4faae68357c&amp;start=30">3</a><span class="page-sep">, </span><strong>4</strong></b></td>
		
	</tr>
	</table>

</div>

<div id="pagefooter"></div>

<br clear="all" />
<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php?sid=a2177b3859e70cc27354b4faae68357c">Board index</a> &#187; <a href="./viewforum.php?f=24&amp;sid=a2177b3859e70cc27354b4faae68357c">NES / Famicom</a> &#187; <a href="./viewforum.php?f=2&amp;sid=a2177b3859e70cc27354b4faae68357c">NESdev</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>
	<br clear="all" />

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat"><h4>Who is online</h4></td>
	</tr>
	<tr>
		<td class="row1"><p class="gensmall">Users browsing this forum: <span style="color: #9E8DA7;" class="username-coloured">Bing [Bot]</span> and 6 guests</p></td>
	</tr>
	</table>


<br clear="all" />

<table width="100%" cellspacing="1">
<tr>
	<td width="40%" valign="top" nowrap="nowrap" align="left"></td>
	<td align="right" valign="top" nowrap="nowrap"><span class="gensmall">You <strong>cannot</strong> post new topics in this forum<br />You <strong>cannot</strong> reply to topics in this forum<br />You <strong>cannot</strong> edit your posts in this forum<br />You <strong>cannot</strong> delete your posts in this forum<br />You <strong>cannot</strong> post attachments in this forum<br /></span></td>
</tr>
</table>

<br clear="all" />

<table width="100%" cellspacing="0">
<tr>
	<td><form method="get" name="search" action="./search.php?sid=a2177b3859e70cc27354b4faae68357c"><span class="gensmall">Search for:</span> <input class="post" type="text" name="keywords" size="20" /> <input class="btnlite" type="submit" value="Go" /><input type="hidden" name="t" value="13889" />
<input type="hidden" name="sf" value="msgonly" />
<input type="hidden" name="sid" value="a2177b3859e70cc27354b4faae68357c" />
</form></td>
	<td align="right">
	<form method="post" name="jumpbox" action="./viewforum.php?sid=a2177b3859e70cc27354b4faae68357c" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	<table cellspacing="0" cellpadding="0" border="0">
	<tr>
		<td nowrap="nowrap"><span class="gensmall">Jump to:</span>&nbsp;<select name="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">

		
			<option value="-1">Select a forum</option>
		<option value="-1">------------------</option>
			<option value="24">NES / Famicom</option>
		
			<option value="2" selected="selected">&nbsp; &nbsp;NESdev</option>
		
			<option value="3">&nbsp; &nbsp;NESemdev</option>
		
			<option value="21">&nbsp; &nbsp;NES Graphics</option>
		
			<option value="6">&nbsp; &nbsp;NES Music</option>
		
			<option value="22">&nbsp; &nbsp;Homebrew Projects</option>
		
			<option value="32">&nbsp; &nbsp;&nbsp; &nbsp;2016 NESdev Competition</option>
		
			<option value="31">&nbsp; &nbsp;&nbsp; &nbsp;2014 NESdev Competition</option>
		
			<option value="30">&nbsp; &nbsp;&nbsp; &nbsp;2011 NESdev Competition</option>
		
			<option value="10">&nbsp; &nbsp;Newbie Help Center</option>
		
			<option value="9">&nbsp; &nbsp;NES Hardware and Flash Equipment</option>
		
			<option value="28">&nbsp; &nbsp;&nbsp; &nbsp;Reproduction</option>
		
			<option value="19">&nbsp; &nbsp;NESdev International</option>
		
			<option value="11">&nbsp; &nbsp;&nbsp; &nbsp;FCdev</option>
		
			<option value="18">&nbsp; &nbsp;&nbsp; &nbsp;NESdev China</option>
		
			<option value="27">&nbsp; &nbsp;&nbsp; &nbsp;NESdev Middle East</option>
		
			<option value="25">Other</option>
		
			<option value="5">&nbsp; &nbsp;General Stuff</option>
		
			<option value="4">&nbsp; &nbsp;Membler Industries</option>
		
			<option value="23">&nbsp; &nbsp;Other Retro Dev</option>
		
			<option value="12">&nbsp; &nbsp;&nbsp; &nbsp;SNESdev</option>
		
			<option value="20">&nbsp; &nbsp;&nbsp; &nbsp;GBDev</option>
		
			<option value="15">&nbsp; &nbsp;Test Forum</option>
		
			<option value="26">Site Issues</option>
		
			<option value="13">&nbsp; &nbsp;phpBB Issues</option>
		
			<option value="14">&nbsp; &nbsp;Web Issues</option>
		
			<option value="16">&nbsp; &nbsp;nesdevWiki</option>
		

		</select>&nbsp;<input class="btnlite" type="submit" value="Go" /></td>
	</tr>
	</table>

	</form>
</td>
</tr>
</table>


</div>


<div id="wrapfooter">
	
	<span class="copyright">Powered by <a href="http://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Group
	</span>
</div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-61452025-2', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>