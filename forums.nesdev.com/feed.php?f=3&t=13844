<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="http://forums.nesdev.com/feed.php?f=3&amp;t=13844" />

<title>nesdev.com</title>
<subtitle>NES Development and Strangulation Records message boards</subtitle>
<link href="http://forums.nesdev.com/index.php" />
<updated>2018-08-09T16:59:43-07:00</updated>

<author><name><![CDATA[nesdev.com]]></name></author>
<id>http://forums.nesdev.com/feed.php?f=3&amp;t=13844</id>
<entry>
<author><name><![CDATA[gauauu]]></name></author>
<updated>2018-08-09T16:59:43-07:00</updated>
<published>2018-08-09T16:59:43-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=13844&amp;p=223190#p223190</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=13844&amp;p=223190#p223190"/>
<title type="html"><![CDATA[Re: Mesen - NES Emulator]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=13844&amp;p=223190#p223190"><![CDATA[
<div class="quotetitle">Sour wrote:</div><div class="quotecontent"><br />Could you try running an older 0.9.5 dev build (e.g one you were using before, or one from the appveyor builds) to see if the crashes really don't happen with it?<br /></div><br /><br />I've swapped back to the old build and no crashes yet. I'll let you know if that changes.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=7375">gauauu</a> — Thu Aug 09, 2018 4:59 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[unregistered]]></name></author>
<updated>2018-08-09T14:16:10-07:00</updated>
<published>2018-08-09T14:16:10-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=13844&amp;p=223184#p223184</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=13844&amp;p=223184#p223184"/>
<title type="html"><![CDATA[Re: Mesen - NES Emulator]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=13844&amp;p=223184#p223184"><![CDATA[
Thank you so much Sour!!  <img src="http://forums.nesdev.com/images/smilies/icon_mrgreen.gif" alt=":mrgreen:" title="Mr. Green" />  <img src="http://forums.nesdev.com/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" />   I guess, I must have done something wrong like you said.  The latest commit does add the .txt to the <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">Save as type:</tt> menu box! <img src="http://forums.nesdev.com/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /><br /><br />Now, I know that a &quot;commit&quot; is your <a href="https://ci.appveyor.com/project/Sour/mesen/build/artifacts" class="postlink">AppVeyor release</a>. <img src="http://forums.nesdev.com/images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br /><br />edit: note: <a href="https://ci.appveyor.com/project/Sour/mesen/history" class="postlink">commit history page</a> click on commit you want, then click on &quot;ARTIFACTS&quot; button to receive download link.  (The latest commit is built from the previous successful commit, I think <img src="http://forums.nesdev.com/images/smilies/icon_smile.gif" alt=":)" title="Smile" />)  Feel free to delete this edit if you want to. <img src="http://forums.nesdev.com/images/smilies/icon_smile.gif" alt=":)" title="Smile" /><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3893">unregistered</a> — Thu Aug 09, 2018 2:16 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Sour]]></name></author>
<updated>2018-08-09T13:51:52-07:00</updated>
<published>2018-08-09T13:51:52-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=13844&amp;p=223181#p223181</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=13844&amp;p=223181#p223181"/>
<title type="html"><![CDATA[Re: Mesen - NES Emulator]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=13844&amp;p=223181#p223181"><![CDATA[
<div class="quotetitle">gauauu wrote:</div><div class="quotecontent"><br />Today I was just clicking around in the CHR tab of the PPU viewer when it crashed.<br /></div>This looks like its essentially the same problem (mono crashing while trying to allocate managed objects).  Could you try running an older 0.9.5 dev build (e.g one you were using before, or one from the appveyor builds) to see if the crashes really don't happen with it?<br />Or maybe it only happens when you have specific tools opened? e.g this crash implies you had the PPU viewer opened.<br /><br /><div class="quotetitle">unregistered wrote:</div><div class="quotecontent"><br />Sour, after installing 0.9.6 the last two trace log files I've made today are extensionless.<br /></div>I think this is probably because you manually changed the output file's name?  It won't add the .txt suffix automatically because the &quot;file type&quot; dropdown is empty. As far as I can tell though, it's been this way ever since I changed it from .log to .txt and let users choose the filename, back in March 2017. It's essentially caused by a typo in the code - the latest commit fixes it.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=7406">Sour</a> — Thu Aug 09, 2018 1:51 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[unregistered]]></name></author>
<updated>2018-08-09T13:34:33-07:00</updated>
<published>2018-08-09T13:34:33-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=13844&amp;p=223178#p223178</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=13844&amp;p=223178#p223178"/>
<title type="html"><![CDATA[Re: Mesen - NES Emulator]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=13844&amp;p=223178#p223178"><![CDATA[
Sorry gauauu for interrupting your conversation with Sour.<br /><br />Sour, after installing 0.9.6 the last two trace log files I've made today are extensionless.  Why?  It was changed from .log to .txt and that was ok, but now, when opening new trace log files, I have to select notepad from a list and resize notepad's window and change the font.  Either that or I must type &quot;.txt&quot; at the end of every new trace log filename, I guess; haven't tried that yet.  So I was wondering, would it be terrible to add a blank and a .txt and a .log to the empty <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">Save as type:</tt> menu that's underneath the <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">File name:</tt> menu?  It seems to me that Windows 10 can remember <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">Save as type:</tt> choices. <img src="http://forums.nesdev.com/images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br /><br />I'm asking you that because I don't understand anything about creating programs that run on many different system types. <img src="http://forums.nesdev.com/images/smilies/icon_redface.gif" alt=":oops:" title="Embarassed" /><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3893">unregistered</a> — Thu Aug 09, 2018 1:34 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[gauauu]]></name></author>
<updated>2018-08-09T10:35:34-07:00</updated>
<published>2018-08-09T10:35:34-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=13844&amp;p=223143#p223143</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=13844&amp;p=223143#p223143"/>
<title type="html"><![CDATA[Re: Mesen - NES Emulator]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=13844&amp;p=223143#p223143"><![CDATA[
Today I was just clicking around in the CHR tab of the PPU viewer when it crashed. Dump attached. If you'd rather I put these on github, just let me know.<br /><br />Thanks!<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=7375">gauauu</a> — Thu Aug 09, 2018 10:35 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[gauauu]]></name></author>
<updated>2018-08-08T19:58:33-07:00</updated>
<published>2018-08-08T19:58:33-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=13844&amp;p=223080#p223080</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=13844&amp;p=223080#p223080"/>
<title type="html"><![CDATA[Re: Mesen - NES Emulator]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=13844&amp;p=223080#p223080"><![CDATA[
<div class="quotetitle">Sour wrote:</div><div class="quotecontent"><br />What version of mono are you running? (I have 4.6.2 on my Ubuntu 18 VM)<br /></div><br />Mono JIT compiler version 4.2.1 (Debian 4.2.1.102+dfsg2-7ubuntu4)<br />Copyright (C) 2002-2014 Novell, Inc, Xamarin Inc and Contributors. <!-- m --><a class="postlink" href="http://www.mono-project.com">http://www.mono-project.com</a><!-- m --><br />TLS:           __thread<br />SIGSEGV:       altstack<br />Notifications: epoll<br />Architecture:  amd64<br />Disabled:      none<br />Misc:          softdebug <br />LLVM:          supported, not enabled.<br />GC:            sgen<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />How easy is it to get it to crash? e.g if you just keep power cycling the rom with the debugger opened, does it eventually crash?<br /></div><br />Yesterday it was doing it every 5th or 6th time I power cycled, and occasionally doing other things. Today (even with re-enabling auto-loading .dbg files) it hasn't crashed while I've done just silly things like spamming the power cycle button. I'll leave it turned back on and see what happens.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=7375">gauauu</a> — Wed Aug 08, 2018 7:58 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Sour]]></name></author>
<updated>2018-08-08T14:48:34-07:00</updated>
<published>2018-08-08T14:48:34-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=13844&amp;p=223052#p223052</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=13844&amp;p=223052#p223052"/>
<title type="html"><![CDATA[Re: Mesen - NES Emulator]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=13844&amp;p=223052#p223052"><![CDATA[
What version of mono are you running? (I have 4.6.2 on my Ubuntu 18 VM)<br />How easy is it to get it to crash? e.g if you just keep power cycling the rom with the debugger opened, does it eventually crash?<br /><br />From what I read, this particular crash seems to be caused by Mono's garbage collector crashing for an unknown reason.  It's possible that Mesen's C++ code is somehow corrupting memory and causing Mono to crash, though, but it is somewhat unlikely..<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=7406">Sour</a> — Wed Aug 08, 2018 2:48 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[gauauu]]></name></author>
<updated>2018-08-07T20:48:07-07:00</updated>
<published>2018-08-07T20:48:07-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=13844&amp;p=222964#p222964</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=13844&amp;p=222964#p222964"/>
<title type="html"><![CDATA[Re: Mesen - NES Emulator]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=13844&amp;p=222964#p222964"><![CDATA[
<div class="quotetitle">Sour wrote:</div><div class="quotecontent"><br />Can you try disabling the &quot;auto-load .DBG files&quot; option to see if the crashes stop?<br /></div><br />Yeah, it hasn't crashed since I disabled that.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />I'm assuming you haven't upgraded mono, either?<br /></div><br /><br />Not that I know of, although I blindly click &quot;update all&quot; when the package manager says there's updates, so....it's possible that I have without noticing.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=7375">gauauu</a> — Tue Aug 07, 2018 8:48 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Sour]]></name></author>
<updated>2018-08-07T15:41:17-07:00</updated>
<published>2018-08-07T15:41:17-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=13844&amp;p=222959#p222959</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=13844&amp;p=222959#p222959"/>
<title type="html"><![CDATA[Re: Mesen - NES Emulator]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=13844&amp;p=222959#p222959"><![CDATA[
<div class="quotetitle">NewRisingSun wrote:</div><div class="quotecontent"><br />I have modified the N163TEST rom to run from $E000. Mesen's N163 emulation does not seem tor emulate the situation in which only one channel is enabled accurately, though, as I cannot hear anything in that situation.<br /></div>Thanks! The sound output was in fact disabled when only 1 channel was enabled - this should be fixed.  The test rom appears to work properly now, but I haven't compared with other emulators.  I also fixed the crash that the 128 bytes work ram header was causing.<br /><br /><div class="quotetitle">gauauu wrote:</div><div class="quotecontent"><br />I've been getting quite a few crashes on Linux/mono ever since upgrading<br /></div>That crash seems to imply that this is caused by Mono crashing while trying to process the regular expressions I use to read the .DBG files, which is very odd.  Most of the other threads in the process seem to be paused, so it seems unlikely that they would be causing issues, either.. Can you try disabling the &quot;auto-load .DBG files&quot; option to see if the crashes stop?<br /><br />I just tried getting it to crash on Ubuntu 18 by power cycling on a ROM with a .DBG file but couldn't.  I'm assuming you haven't upgraded mono, either?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=7406">Sour</a> — Tue Aug 07, 2018 3:41 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[gauauu]]></name></author>
<updated>2018-08-07T15:18:22-07:00</updated>
<published>2018-08-07T15:18:22-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=13844&amp;p=222958#p222958</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=13844&amp;p=222958#p222958"/>
<title type="html"><![CDATA[Re: Mesen - NES Emulator]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=13844&amp;p=222958#p222958"><![CDATA[
I've been getting quite a few crashes on Linux/mono ever since upgrading, to the point where it's pretty unstable. Attached is a sample crash report (this time from me pressing Ctrl-T to reload the game, but I haven't seen a reliable pattern for when the crashes occur).<br /><br />This is with the 0.9.6 github build.<br /><br />Thanks!<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=7375">gauauu</a> — Tue Aug 07, 2018 3:18 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[NewRisingSun]]></name></author>
<updated>2018-08-06T20:43:03-07:00</updated>
<published>2018-08-06T20:43:03-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=13844&amp;p=222878#p222878</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=13844&amp;p=222878#p222878"/>
<title type="html"><![CDATA[Re: Mesen - NES Emulator]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=13844&amp;p=222878#p222878"><![CDATA[
<div class="quotetitle">Sour wrote:</div><div class="quotecontent"><br />After changing the header to say no work ram (I thought a discussion a long time ago had concluded that the internal RAM for this mapper shouldn't be counted in the header? Unsure.)<br /></div>No, the internal work RAM should be specified, and <em>must</em> be specified for games that battery-back only the internal RAM and use it for save-game purposes, such as Mindseeker. The only time that the internal work RAM is not specified is when there is both internal work RAM and 8 KiB of WRAM and both or neither are battery-backed, to prevent the non-power of two size from having to round up. For all these games, such as Megami Tensei 2, it's also possible to denote the 128 byte of work RAM as non-battery-backed (since the games will not use it for save game data but for sound or not at all, which I verified with every single game), and the 8 KiB of WRAM as battery-backed. And you need to specify the 128 byte of battery-backed EPROM in Mapper 159 as well.<br /><br />I have modified the N163TEST rom to run from $E000. Mesen's N163 emulation does not seem tor emulate the situation in which only one channel is enabled accurately, though, as I cannot hear anything in that situation.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=133">NewRisingSun</a> — Mon Aug 06, 2018 8:43 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Sour]]></name></author>
<updated>2018-08-06T19:24:41-07:00</updated>
<published>2018-08-06T19:24:41-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=13844&amp;p=222874#p222874</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=13844&amp;p=222874#p222874"/>
<title type="html"><![CDATA[Re: Mesen - NES Emulator]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=13844&amp;p=222874#p222874"><![CDATA[
<div class="quotetitle">rainwarrior wrote:</div><div class="quotecontent"><br />I thought it was already randomized if you used the Emulation &gt; Advanced &gt; &quot;Randomize power-on state for mappers&quot; option?<br /></div>The current implementation only does it for some (~20) mappers - but now that I think about it, I could easily randomize all the banks that are currently left as open bus (whether that option is enabled or not).  That would likely cover the vast majority of mappers (at least those likely to be used in homebrew dev or rom hacks), would technically be more accurate than leaving it as open bus, and would allow cases like this test rom to work properly.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=7406">Sour</a> — Mon Aug 06, 2018 7:24 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[rainwarrior]]></name></author>
<updated>2018-08-06T17:45:05-07:00</updated>
<published>2018-08-06T17:45:05-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=13844&amp;p=222867#p222867</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=13844&amp;p=222867#p222867"/>
<title type="html"><![CDATA[Re: Mesen - NES Emulator]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=13844&amp;p=222867#p222867"><![CDATA[
<div class="quotetitle">Sour wrote:</div><div class="quotecontent"><br />I usually kept these kinds of scenarios as open bus where possible to avoid homebrew devs forgetting to initialize the banking registers (or relying on a power on state that doesn't exist on hardware), but I guess I could just make them random instead.<br /></div><br />I thought it was already randomized if you used the Emulation &gt; Advanced &gt; &quot;Randomize power-on state for mappers&quot; option?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=5165">rainwarrior</a> — Mon Aug 06, 2018 5:45 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Sour]]></name></author>
<updated>2018-08-06T17:37:52-07:00</updated>
<published>2018-08-06T17:37:52-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=13844&amp;p=222866#p222866</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=13844&amp;p=222866#p222866"/>
<title type="html"><![CDATA[Re: Mesen - NES Emulator]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=13844&amp;p=222866#p222866"><![CDATA[
Those will select a random bank and boot from there - but then that makes sense for those mappers.  I guess you could argue that someone using the Namco 163 could set the reset vector to $8000 and copy the reset code to all banks (e.g like this rom most likely does), but in practice this potentially wastes a lot of PRG space, so I imagine nobody ever did this back then.<br /><br />I usually kept these kinds of scenarios as open bus where possible to avoid homebrew devs forgetting to initialize the banking registers (or relying on a power on state that doesn't exist on hardware), but I guess I could just make them random instead.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=7406">Sour</a> — Mon Aug 06, 2018 5:37 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2018-08-06T17:28:27-07:00</updated>
<published>2018-08-06T17:28:27-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=13844&amp;p=222865#p222865</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=13844&amp;p=222865#p222865"/>
<title type="html"><![CDATA[Re: Mesen - NES Emulator]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=13844&amp;p=222865#p222865"><![CDATA[
<div class="quotetitle">Sour wrote:</div><div class="quotecontent"><br />it boots, but then the ROM assumes that code will be available at $8000 without initializing the PRG banking register for it, so Mesen leaves that portion as open bus and doesn't boot properly.  I guess I could change this to select random banks instead of open bus<br /></div><br />How do you boot games using mapper 66 (GNROM), 11 (Color Dreams), 34 (BNROM), or 7 (AOROM)?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Mon Aug 06, 2018 5:28 pm</p><hr />
]]></content>
</entry>
</feed>