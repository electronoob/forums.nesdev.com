<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<link rel="icon" href="/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />

<title>nesdev.com &bull; View topic - About zlib, anyone?</title>

<link rel="alternate" type="application/atom+xml" title="Feed - nesdev.com" href="http://forums.nesdev.com/feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - News" href="http://forums.nesdev.com/feed.php?mode=news" /><link rel="alternate" type="application/atom+xml" title="Feed - All forums" href="http://forums.nesdev.com/feed.php?mode=forums" /><link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="http://forums.nesdev.com/feed.php?mode=topics" /><link rel="alternate" type="application/atom+xml" title="Feed - Active Topics" href="http://forums.nesdev.com/feed.php?mode=topics_active" /><link rel="alternate" type="application/atom+xml" title="Feed - Forum - General Stuff" href="http://forums.nesdev.com/feed.php?f=5" /><link rel="alternate" type="application/atom+xml" title="Feed - Topic - About zlib, anyone?" href="http://forums.nesdev.com/feed.php?f=5&amp;t=9712" />

<link rel="stylesheet" href="./style.php?id=1&amp;lang=en" type="text/css" />

<script type="text/javascript">
// <![CDATA[


function popup(url, width, height, name)
{
	if (!name)
	{
		name = '_popup';
	}

	window.open(url.replace(/&amp;/g, '&'), name, 'height=' + height + ',resizable=yes,scrollbars=yes,width=' + width);
	return false;
}

function jumpto()
{
	var page = prompt('Enter the page number you wish to go to:', '1');
	var per_page = '15';
	var base_url = './viewtopic.php?f=5&amp;t=9712';

	if (page !== null && !isNaN(page) && page == Math.floor(page) && page > 0)
	{
		if (base_url.indexOf('?') == -1)
		{
			document.location.href = base_url + '?start=' + ((page - 1) * per_page);
		}
		else
		{
			document.location.href = base_url.replace(/&amp;/g, '&') + '&start=' + ((page - 1) * per_page);
		}
	}
}

/**
* Find a member
*/
function find_username(url)
{
	popup(url, 760, 570, '_usersearch');
	return false;
}

/**
* Mark/unmark checklist
* id = ID of parent container, name = name prefix, state = state [true/false]
*/
function marklist(id, name, state)
{
	var parent = document.getElementById(id);
	if (!parent)
	{
		eval('parent = document.' + id);
	}

	if (!parent)
	{
		return;
	}

	var rb = parent.getElementsByTagName('input');
	
	for (var r = 0; r < rb.length; r++)
	{
		if (rb[r].name.substr(0, name.length) == name)
		{
			rb[r].checked = state;
		}
	}
}



// ]]>
</script>
</head>
<body class="ltr">

<a name="top"></a>

<div id="wrapheader">

	<div id="logodesc">
	</div>

	<div id="menubar">

		<table width="100%" cellspacing="0">
		<tr>
			<td rowspan="2"><a href="./index.php"><img src="./styles/subsilver2/imageset/site_logo.gif" alt="" title="" /></a></td>
			<td width="100%" align="center"><h1>nesdev.com</h1><span class="gen">NES Development and Strangulation Records message boards</span></td>
		</tr>
		<tr>
			<td align="center">
				<a href="./faq.php"><img src="./styles/prosilver/theme/images/icon_mini_faq.gif" width="12" height="13" alt="*" /> FAQ</a>
				&nbsp; &nbsp;<a href="./search.php"><img src="./styles/prosilver/theme/images/icon_mini_search.gif" width="12" height="13" alt="*" /> Search</a>
				<br />	
				 &nbsp;<a href="./ucp.php?mode=register"><img src="./styles/prosilver/theme/images/icon_mini_register.gif" width="12" height="13" alt="*" /> Register</a>
					&nbsp; &nbsp;<a href="./ucp.php?mode=login"><img src="./styles/prosilver/theme/images/icon_mini_login.gif" width="12" height="13" alt="*" /> Login</a>&nbsp;
			</td>
		</tr>
		</table>
	</div>

	<div id="datebar">
		<table width="100%" cellspacing="0">
		<tr>
			<td class="gensmall"></td>
			<td class="gensmall" align="right">It is currently Sat Sep 20, 2014 8:15 pm<br /></td>
		</tr>
		</table>
	</div>

</div>

<div id="wrapcentre">

	
	<p class="searchbar">
		<span style="float: left;"><a href="./search.php?search_id=unanswered">View unanswered posts</a> | <a href="./search.php?search_id=active_topics">View active topics</a></span>
		
	</p>
	

	<br style="clear: both;" />

	<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=25">Other</a> &#187; <a href="./viewforum.php?f=5">General Stuff</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>

	<br />

<div id="pageheader">
	<h2><a class="titles" href="./viewtopic.php?f=5&amp;t=9712">About zlib, anyone?</a></h2>


	<p class="moderators">Moderator: <a href="./memberlist.php?mode=group&amp;g=320">Moderators</a></p>

</div>

<br clear="all" /><br />

<div id="pagecontent">

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=5"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=5&amp;t=9712"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>1</strong> of <strong>2</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 19 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"><b><a href="#" onclick="jumpto(); return false;" title="Click to jump to pageâ€¦">Go to page</a> <strong>1</strong><span class="page-sep">, </span><a href="./viewtopic.php?f=5&amp;t=9712&amp;start=15">2</a> &nbsp;<a href="./viewtopic.php?f=5&amp;t=9712&amp;start=15">Next</a></b></td>
		
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat">
			<table width="100%" cellspacing="0">
			<tr>
				<td class="nav" nowrap="nowrap">&nbsp;
				<a href="./viewtopic.php?f=5&amp;t=9712&amp;view=print" title="Print view">Print view</a>
				</td>
				<td class="nav" align="right" nowrap="nowrap"><a href="./viewtopic.php?f=5&amp;t=9712&amp;view=previous">Previous topic</a> | <a href="./viewtopic.php?f=5&amp;t=9712&amp;view=next">Next topic</a>&nbsp;</td>
			</tr>
			</table>
		</td>
	</tr>

	</table>


	<table class="tablebg" width="100%" cellspacing="1">
	
		<tr>
			<th>Author</th>
			<th>Message</th>
		</tr>
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p106380"></a>
				<b class="postauthor">Zepper</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p106380">About zlib, anyone?</a></div><div style="float: right;"><a href="./viewtopic.php?p=106380#p106380"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Jan 17, 2013 8:45 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td class="postdetails">Formerly Fx3</td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=39_1403452479.jpg" width="90" height="90" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Nov 12, 2004 4:59 pm<br /><b>Posts:</b> 2219<br /><b>Location:</b> Brazil
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">The zlib v1.2.7 is giving me a few warnings/errors. Could someone help me?<br /><br />Well, one example: the gzopen(gzFile file) instead of gzopen(gzFile *file).</div>

					
						<div class="postbody"><br />_________________<br /><strong>Zepper</strong><br /><a href="http://rocknes.web.fc2.com/" class="postlink"><em>RockNES developer</em></a></div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=39"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p106390"></a>
				<b class="postauthor">blargg</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p106390">Re: About zlib, anyone?</a></div><div style="float: right;"><a href="./viewtopic.php?p=106390#p106390"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Jan 17, 2013 12:04 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=17.gif" width="60" height="69" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Sep 27, 2004 8:33 am<br /><b>Posts:</b> 3711<br /><b>Location:</b> Central Texas, USA
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="codetitle"><b>Code:</b></div><div class="codecontent">/* from zlib.h */<br /><br />typedef void* gzFile;&nbsp; &nbsp; &nbsp; &nbsp;/* opaque gzip file descriptor */<br /><br />gzFile gzopen (const char *path, const char *mode);<br /><br />/* example */<br /><br />gzFile file = gzopen( &quot;file.gz&quot;, &quot;rb&quot; );<br />if ( file == NULL )<br />&nbsp; &nbsp; error( &quot;couldn't open file&quot; );<br />...</div></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=17"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p106396"></a>
				<b class="postauthor">Zepper</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p106396">Re: About zlib, anyone?</a></div><div style="float: right;"><a href="./viewtopic.php?p=106396#p106396"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Jan 17, 2013 1:24 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td class="postdetails">Formerly Fx3</td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=39_1403452479.jpg" width="90" height="90" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Nov 12, 2004 4:59 pm<br /><b>Posts:</b> 2219<br /><b>Location:</b> Brazil
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Example 2: <br /><br />the compiler &quot;accepts&quot;<br /><em>gzclose(*fp);</em><br /><br />but not <br /><em>gzclose(fp);</em><br /><br />as it <strong>should be</strong> by default.</div>

					
						<div class="postbody"><br />_________________<br /><strong>Zepper</strong><br /><a href="http://rocknes.web.fc2.com/" class="postlink"><em>RockNES developer</em></a></div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=39"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p106397"></a>
				<b class="postauthor">rainwarrior</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p106397">Re: About zlib, anyone?</a></div><div style="float: right;"><a href="./viewtopic.php?p=106397#p106397"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Jan 17, 2013 1:41 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=5165_1384529626.jpg" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Jan 22, 2012 12:03 pm<br /><b>Posts:</b> 1615<br /><b>Location:</b> Canada
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">gzclose takes a gzFile as a parameter, is fp a gzFile or a gzFile*? (it seems you should be using a gzFile)</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=5165"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p106399"></a>
				<b class="postauthor">blargg</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p106399">Re: About zlib, anyone?</a></div><div style="float: right;"><a href="./viewtopic.php?p=106399#p106399"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Jan 17, 2013 1:47 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=17.gif" width="60" height="69" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Sep 27, 2004 8:33 am<br /><b>Posts:</b> 3711<br /><b>Location:</b> Central Texas, USA
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Yep, you're probably using gzFile* and thus the * satisfies the compiler (but hides the serious error, hidden by the implicit void* -&gt; gzFile* conversion C does). It's unfortunate that the zlib folks didn't make it so you would use gzFile*, since that's more similar to the C library's FILE* you use.<br /><br />Zepper, refer to some gzip example code for the proper way and you'll see where you've gone wrong. Or post some of your code that opens a file.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=17"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p106401"></a>
				<b class="postauthor">rainwarrior</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p106401">Re: About zlib, anyone?</a></div><div style="float: right;"><a href="./viewtopic.php?p=106401#p106401"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Jan 17, 2013 1:54 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=5165_1384529626.jpg" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Jan 22, 2012 12:03 pm<br /><b>Posts:</b> 1615<br /><b>Location:</b> Canada
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="codetitle"><b>Code:</b></div><div class="codecontent">gzFile f = gzopen(path, mode);<br />...<br />gzclose(f);</div><br /><br />Unfortunately this is valid C, as blargg pointed out, even though it is invalid use of gzopen:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">gzFile* fp = gzopen(path, mode);</div><br /><br />In C++ that should give an error about converting a void* to a void**.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=5165"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p106412"></a>
				<b class="postauthor">blargg</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p106412">Re: About zlib, anyone?</a></div><div style="float: right;"><a href="./viewtopic.php?p=106412#p106412"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Jan 17, 2013 3:50 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=17.gif" width="60" height="69" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Sep 27, 2004 8:33 am<br /><b>Posts:</b> 3711<br /><b>Location:</b> Central Texas, USA
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I'd say that either zlib.h is poorly designed in this regard, or there was some other technical consideration that made them choose not to do something like<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">typedef struct gzFile_* gzFile;</div><br />This approach is superior because it keeps type safety <em>and</em> doesn't require casts in their library code:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">void user()<br />{<br />&nbsp; &nbsp; // all errors here would compile fine with current zlib.h<br />&nbsp; &nbsp; gfFile f1 = gfopen( ... ); // OK<br />&nbsp; &nbsp; gzFile* f2 = gzopen( ... ); // error<br />&nbsp; &nbsp; FILE* f3 = gzopen( ... ); // compile error (used FILE*, oops!)<br />&nbsp; &nbsp; gzclose( f1 ); // OK<br />&nbsp; &nbsp; gzclose( f2 ); // compile error<br />&nbsp; &nbsp; gzclose( f3 ); // compile error<br />&nbsp; &nbsp; fclose( f1 ); // compile error<br />}<br /><br />/* zlib.c */<br />#include &quot;zlib.h&quot;<br /><br />struct gzFile_ {<br />&nbsp; &nbsp; int internal;<br />&nbsp; &nbsp; ...<br />};<br />void gzClose( gzFile f )<br />{<br />&nbsp; &nbsp; if ( f-&gt;internal == 1234 )<br />&nbsp; &nbsp; &nbsp; &nbsp; ...<br />}<br /><br />/* -- versus -- */<br /><br />/* zlib.c */<br />typedef struct gzFile_ {<br />&nbsp; &nbsp; int internal;<br />&nbsp; &nbsp; ...<br />} gzFile_;<br />void gzClose( gzFile f )<br />{<br />&nbsp; &nbsp; gzFile_* p = (gzFile_*) f;<br />&nbsp; &nbsp; if ( p-&gt;internal == 1234 )<br />&nbsp; &nbsp; &nbsp; &nbsp; ...<br />}</div></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=17"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p106424"></a>
				<b class="postauthor">Zepper</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p106424">Re: About zlib, anyone?</a></div><div style="float: right;"><a href="./viewtopic.php?p=106424#p106424"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Jan 17, 2013 6:47 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td class="postdetails">Formerly Fx3</td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=39_1403452479.jpg" width="90" height="90" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Nov 12, 2004 4:59 pm<br /><b>Posts:</b> 2219<br /><b>Location:</b> Brazil
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp;compiler errors<br />basically, they can be fixed by using *fd instead of fd.<br /><br />-----------------<br />libzip.c: In function 'gzfilelength':<br />libzip.c:32:4: warning: passing argument 1 of 'gzrewind' from incompatible pointer type &#91;enabled by default&#93;<br />In file included from unzip.h:51:0,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;from libzip.c:14:<br />c:\program files (x86)\dev-cpp\mingw32\bin\../lib/gcc/mingw32/4.7.0/../../../../<br />include/zlib.h:1430:24: note: expected 'gzFile' but argument is of type 'struct gzFile_s **'<br />libzip.c:37:4: warning: passing argument 1 of 'gzeof' from incompatible pointer type &#91;enabled by default&#93;<br />In file included from unzip.h:51:0,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;from libzip.c:14:<br />c:\program files (x86)\dev-cpp\mingw32\bin\../lib/gcc/mingw32/4.7.0/../../../../<br />include/zlib.h:1458:21: note: expected 'gzFile' but argument is of type 'struct gzFile_s **'<br />libzip.c:38:4: warning: passing argument 1 of 'gzrewind' from incompatible pointer type &#91;enabled by default&#93;<br />In file included from unzip.h:51:0,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;from libzip.c:14:<br />c:\program files (x86)\dev-cpp\mingw32\bin\../lib/gcc/mingw32/4.7.0/../../../../<br />include/zlib.h:1430:24: note: expected 'gzFile' but argument is of type 'struct gzFile_s **'<br />libzip.c: In function 'gzLoadFile':<br />libzip.c:133:20: warning: initialization from incompatible pointer type &#91;enabled by default&#93;<br />libzip.c:139:13: warning: passing argument 1 of 'gzread' from incompatible pointer type &#91;enabled by default&#93;<br />In file included from unzip.h:51:0,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;from libzip.c:14:<br />c:\program files (x86)\dev-cpp\mingw32\bin\../lib/gcc/mingw32/4.7.0/../../../../<br />include/zlib.h:1296:21: note: expected 'gzFile' but argument is of type 'struct<br />gzFile_s **'<br />libzip.c:144:10: warning: passing argument 1 of 'gzclose' from incompatible pointer type &#91;enabled by default&#93;<br />In file included from unzip.h:51:0,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;from libzip.c:14:<br />c:\program files (x86)\dev-cpp\mingw32\bin\../lib/gcc/mingw32/4.7.0/../../../../<br />include/zlib.h:1494:24: note: expected 'gzFile' but argument is of type 'struct gzFile_s **'</div><br /><br />source file (my old partner had written it, Mr. Bannister)<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">/*<br />-- RockNES - A NES 8-bit multi-platform emulator<br />-- Copyright Â©1998-2012 Zepper (fx3rnes &#91;at&#93; hotmail &#91;dot&#93; com)<br />--<br />-- libzip.c<br />-- Small functions to manage compressed files<br />*/<br /><br />#include &lt;stdio.h&gt;<br />#include &lt;stdlib.h&gt;<br />#include &lt;string.h&gt;<br /><br />#ifndef _unz_H<br />#include &quot;unzip.h&quot;<br />#endif<br /><br />typedef struct<br />{<br />&nbsp; &nbsp;unsigned char *data;&nbsp; &nbsp; &nbsp;//file data<br />&nbsp; &nbsp;long length;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//file length<br />}<br />gzFILE_T;<br /><br />/*<br />// Check size of GZ file<br />*/<br />static int gzfilelength(gzFile *gd)<br />{<br />#define CHUNKSIZE&nbsp; &nbsp;0x10000<br />&nbsp; &nbsp;int size = 0, length = 0;<br />&nbsp; &nbsp;unsigned char buffer&#91;CHUNKSIZE&#93;;<br />&nbsp; &nbsp;gzrewind(gd);<br />&nbsp; &nbsp;do {<br />&nbsp; &nbsp; &nbsp; size = gzread(*gd, buffer, CHUNKSIZE);<br />&nbsp; &nbsp; &nbsp; if(size &lt;= 0) break;<br />&nbsp; &nbsp; &nbsp; length += size;<br />&nbsp; &nbsp;} while (!gzeof(gd));<br />&nbsp; &nbsp;gzrewind(gd);<br />&nbsp; &nbsp;return (length);<br />#undef CHUNKSIZE<br />}<br /><br />/*<br />// Check PK string (ZIP format)<br />*/<br />static int iszipfile(const char *filename)<br />{<br />&nbsp; &nbsp;unsigned char buf&#91;2&#93;;<br />&nbsp; &nbsp;FILE *fd;<br /><br />&nbsp; &nbsp;fd = fopen(filename, &quot;rb&quot;);<br />&nbsp; &nbsp;if(!fd)<br />&nbsp; &nbsp;{<br />&nbsp; &nbsp; &nbsp; return 0;<br />&nbsp; &nbsp;}<br />&nbsp; &nbsp;&nbsp; &nbsp;<br />&nbsp; &nbsp;fread(buf, 2, 1, fd);<br />&nbsp; &nbsp;fclose(fd);<br /><br />&nbsp; &nbsp;return (memcmp(buf, &quot;PK&quot;, 2) == 0);<br />}<br /><br />/*<br />// Open a compressed file and load it<br />*/<br />gzFILE_T *gzLoadFile(char *path)<br />{<br />&nbsp; &nbsp;/* new stuff for zip support */<br />&nbsp; &nbsp;char zipfilename&#91;0x100&#93;;<br />&nbsp; &nbsp;unzFile zp;<br />&nbsp; &nbsp;int ziperr = UNZ_OK; /* fixed on Oct, Thu 14 2004 01:09 */<br />&nbsp; &nbsp;unz_file_info zipfileinfo;<br /><br />&nbsp; &nbsp;gzFILE_T *gz_context = malloc(sizeof(*gz_context));<br />&nbsp; &nbsp;if(!gz_context)<br />&nbsp; &nbsp; &nbsp; return NULL;<br /><br />&nbsp; &nbsp;memset(zipfilename, 0, 0x100);<br /><br />&nbsp; &nbsp;gz_context-&gt;data = NULL;<br />&nbsp; &nbsp;gz_context-&gt;length = 0;<br /><br />&nbsp; &nbsp;if(iszipfile(path)) { /* zip file */<br />&nbsp; &nbsp; &nbsp; int found = 0;<br />&nbsp; &nbsp; &nbsp; char *ptr;<br />&nbsp; &nbsp;&nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; zp = unzOpen(path);<br />&nbsp; &nbsp; &nbsp; unzGoToFirstFile(zp);<br /><br />&nbsp; &nbsp; &nbsp; do<br />&nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;unzGetCurrentFileInfo(zp, &amp;zipfileinfo, zipfilename, 100, NULL, 0, NULL, 0);<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ptr = strchr(zipfilename, '.');<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (NULL != ptr)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ptr++;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if( (0 == strncmp(ptr, &quot;nes&quot;, 3)) ||<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (0 == strncmp(ptr, &quot;fds&quot;, 3)) || <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (0 == strncmp(ptr, &quot;nsf&quot;, 3)) )<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;found = 1;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (!found)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ziperr = unzGoToNextFile(zp);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br />&nbsp; &nbsp; &nbsp; } while ((!found) &amp;&amp; (ziperr == UNZ_OK));<br /><br />&nbsp; &nbsp; &nbsp; if (!found)<br />&nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;unzClose(zp);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;free(gz_context);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return NULL;<br />&nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; unzOpenCurrentFile(zp);&nbsp; <br />&nbsp; &nbsp; &nbsp; gz_context-&gt;length = (long)zipfileinfo.uncompressed_size;<br />&nbsp; &nbsp; &nbsp; gz_context-&gt;data = malloc(gz_context-&gt;length);<br />&nbsp; &nbsp; &nbsp; if (!gz_context-&gt;data)<br />&nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;unzClose(zp);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;free(gz_context);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return NULL;<br />&nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; unzReadCurrentFile(zp, gz_context-&gt;data, gz_context-&gt;length);<br />&nbsp; &nbsp; &nbsp; unzClose(zp);<br />&nbsp; &nbsp;}<br />&nbsp; &nbsp;else<br />&nbsp; &nbsp;{<br />&nbsp; &nbsp; &nbsp; // Not a zip - try GZ<br />&nbsp; &nbsp; &nbsp; gzFile *fp = gzopen(path, &quot;rb&quot;);<br />&nbsp; &nbsp; &nbsp; if(fp)<br />&nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;gz_context-&gt;length = gzfilelength(fp);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;gz_context-&gt;data = malloc(gz_context-&gt;length);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if(gz_context-&gt;data) {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gzread(fp, gz_context-&gt;data, gz_context-&gt;length);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;} else {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; free(gz_context);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gz_context = NULL;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;gzclose(fp);<br />&nbsp; &nbsp; &nbsp; } else {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;free(gz_context);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;gz_context = NULL;<br />&nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp;}<br />&nbsp; &nbsp;return gz_context;<br />}<br /><br />/*<br />// Close the file<br />*/<br />void gzCloseFile(gzFILE_T *fp)<br />{<br />&nbsp; &nbsp;if(fp) {<br />&nbsp; &nbsp; &nbsp; free(fp-&gt;data);<br />&nbsp; &nbsp; &nbsp; free(fp);<br />&nbsp; &nbsp;}<br />}<br />//eof</div></div>

					
						<div class="postbody"><br />_________________<br /><strong>Zepper</strong><br /><a href="http://rocknes.web.fc2.com/" class="postlink"><em>RockNES developer</em></a></div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=39"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p106426"></a>
				<b class="postauthor">blargg</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p106426">Re: About zlib, anyone?</a></div><div style="float: right;"><a href="./viewtopic.php?p=106426#p106426"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Jan 17, 2013 8:15 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=17.gif" width="60" height="69" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Sep 27, 2004 8:33 am<br /><b>Posts:</b> 3711<br /><b>Location:</b> Central Texas, USA
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">That code is wrong as far as I can tell, and this line is just broken:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">size = gzread(*gd, buffer, CHUNKSIZE);</div><br />It should be<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">size = gzread(gd, buffer, CHUNKSIZE);</div><br />Change the &quot;gzFile *&quot; instances to &quot;gzFile&quot; and it should compile correctly. Note that, confusingly, there is a gzFILE_T type which has nothing to do with gzFile.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=17"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p106432"></a>
				<b class="postauthor">Zepper</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p106432">Re: About zlib, anyone?</a></div><div style="float: right;"><a href="./viewtopic.php?p=106432#p106432"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Jan 17, 2013 8:48 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td class="postdetails">Formerly Fx3</td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=39_1403452479.jpg" width="90" height="90" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Nov 12, 2004 4:59 pm<br /><b>Posts:</b> 2219<br /><b>Location:</b> Brazil
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">One thing I need to point out:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">gzFILE_T *gzLoadFile(char *path);<br /><br />//well, *path is a pointer to a string of chars.<br />//the compiler gives an error/warning right here:<br /><br />gzFile *fp = gzopen(path, &quot;rb&quot;);<br /><br />//which &quot;works&quot; when changed to:<br />gzFile *fp = gzopen(*path, &quot;rb&quot;);</div><br /><br />So, I don't understand. Why isn't a pointer acceptable? In older versions of zlib, it worked with gzopen(<strong>path</strong>, &quot;rb&quot;), but now it accepts only gzopen(<strong>*path</strong>, &quot;rb&quot;) with this newer version. In fact, I never had problems when compiling this code with older versions of zlib.<br /><br />This line:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">size = gzread(*gd, buffer, CHUNKSIZE);</div><br />actually &quot;works&quot; when compiling it.<br />Removing the &quot;*&quot; gives an error. I hope to be clear now.</div>

					
						<div class="postbody"><br />_________________<br /><strong>Zepper</strong><br /><a href="http://rocknes.web.fc2.com/" class="postlink"><em>RockNES developer</em></a></div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=39"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p106434"></a>
				<b class="postauthor">blargg</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p106434">Re: About zlib, anyone?</a></div><div style="float: right;"><a href="./viewtopic.php?p=106434#p106434"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Jan 17, 2013 8:59 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=17.gif" width="60" height="69" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Sep 27, 2004 8:33 am<br /><b>Posts:</b> 3711<br /><b>Location:</b> Central Texas, USA
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Avoid gzFile*. Never put a * after gzFile. Then fix any compile errors.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=17"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p106435"></a>
				<b class="postauthor">rainwarrior</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p106435">Re: About zlib, anyone?</a></div><div style="float: right;"><a href="./viewtopic.php?p=106435#p106435"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Jan 17, 2013 9:13 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=5165_1384529626.jpg" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Jan 22, 2012 12:03 pm<br /><b>Posts:</b> 1615<br /><b>Location:</b> Canada
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">gzFile is meant to be treated similarly to a HANDLE. It is a primitive type that there is no reason to pass by reference instead of by value. i.e. you should never be using a gzFile*, or passing a gzFile around by reference. There is no performance advantage to the reference (the underlying type is already a pointer anyway, you're just forcing a second dereference for no reason), and there is considerable opportunity for error due to the unfortunate implicit casting from void* to other pointer types. For instance:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">gzFile* fp = gzopen(a,b);<br />gzclose(*fp);</div><br /><br />In C fp is actually equal to what the gzFile would have been, and now *fp won't actually do what you would expect. It points to the wrong place (it will look up the data fp was supposed to point to, and treat that as a pointer it can deference). To get the correct result you would actually need to use the counterintuitive:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">gzFile* fp = gzopen(a,b);<br />gzclose((gzFile)fp);</div><br /><br />Obviously you don't want to do that, but it demonstrates what's wrong with using gzFile*.<br /><br />Edit: also if you are writing gzopen(*path, ...) there is likely something wrong with your definition of path (unless path is a pointer to an array of strings or something like that).</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=5165"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p106453"></a>
				<b class="postauthor">Zepper</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p106453">Re: About zlib, anyone?</a></div><div style="float: right;"><a href="./viewtopic.php?p=106453#p106453"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Jan 18, 2013 6:58 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td class="postdetails">Formerly Fx3</td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=39_1403452479.jpg" width="90" height="90" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Nov 12, 2004 4:59 pm<br /><b>Posts:</b> 2219<br /><b>Location:</b> Brazil
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">News to me. I didn't know about such thing, example:<br /><br />FILE fp = fopen(path, mode);<br /><br />without the * (pointer).</div>

					
						<div class="postbody"><br />_________________<br /><strong>Zepper</strong><br /><a href="http://rocknes.web.fc2.com/" class="postlink"><em>RockNES developer</em></a></div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=39"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p106456"></a>
				<b class="postauthor" style="color: #AA0000">koitsu</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p106456">Re: About zlib, anyone?</a></div><div style="float: right;"><a href="./viewtopic.php?p=106456#p106456"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Jan 18, 2013 7:52 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td class="postdetails">Site Admin</td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=3.png" width="100" height="75" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Sep 19, 2004 9:28 pm<br /><b>Posts:</b> 1864<br /><b>Location:</b> Mountain View, CA, USA
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">Zepper wrote:</div><div class="quotecontent">News to me. I didn't know about such thing, example:<br /><br />FILE fp = fopen(path, mode);<br /><br />without the * (pointer).</div><br />No, you don't do that unless the documentation for <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">fopen&#40;&#41;</tt> on your platform tells you it returns a struct on the stack rather than a pointer (I've never seen any which do).  You comply with what the documentation tells you.  Example: <a href="http://www.freebsd.org/cgi/man.cgi?query=fopen&amp;apropos=0&amp;sektion=0&amp;manpath=FreeBSD+9.0-RELEASE&amp;arch=default&amp;format=html" class="postlink">fopen() on FreeBSD</a>.  Thus this is the code you'd want:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; FILE *fp;<br />&nbsp; fp = fopen(path, mode);<br /></div><br />And NOT:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; FILE fp;<br />&nbsp; fp = fopen(path, mode);<br /></div><br />The latter will throw a warning about &quot;incorrect assignment&quot; or something along those lines, and will absolutely be unreliable/break/crash/whatever because <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">fopen&#40;&#41;</tt> returns a pointer, not the entire contents on the stack of whatever <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">FILE</tt> is.  Different levels of compiler optimisation may actually result in code that works despite the warning (that's based on my own experience).  Here's proof of the warning:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; 1 #include &lt;stdio.h&gt;<br />&nbsp; 2 int main(int argc, char *argv&#91;&#93;) {<br />&nbsp; 3&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;FILE *fp1;<br />&nbsp; 4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;FILE fp2;<br />&nbsp; 5<br />&nbsp; 6&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;fp1 = fopen(&quot;dicks&quot;, &quot;r&quot;);<br />&nbsp; 7&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;fp2 = fopen(&quot;dicks&quot;, &quot;r&quot;);<br />&nbsp; 8<br />&nbsp; 9&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return 0;<br />&nbsp;10 }<br /></div><div class="codetitle"><b>Code:</b></div><div class="codecontent">$ gcc -Wall -o x x.c<br />x.c: In function 'main':<br />x.c:7: error: incompatible types in assignment<br /></div><br />As for zlib and it's gzip-related functions, it seems quite clear to me what you want is to declare your <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">gzFile</tt> variable as <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">gzFile myvarname</tt>.  Look at <a href="http://www.gzip.org/zlib/manual.html" class="postlink">the declaration for gzopen</a> and what it returns.<br /><br />Now, all of the above is talking about functions and what they return to you on the stack -- passing an argument to a function, and what you pass, based on what it's declared as, also matters.  For example, take the following pieces of code (let's stick with <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">fopen&#40;&#41;</tt> shall we?).  These two are the same:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; FILE fp;<br />&nbsp; fp = fopen(&quot;/some/file.gz&quot;, &quot;r&quot;);<br /></div><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; char *path = &quot;/some/file.gz&quot;;<br />&nbsp; FILE fp;<br />&nbsp; fp = fopen(path, &quot;r&quot;);<br /></div><br />These two are the same.  They both statically allocate space within one of the segments (<tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">.text</tt> or <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">.data</tt> or something, I forget) within the program loaded at run-time for the path/filename itself.  The difference is that in the latter case, there's now a variable called <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">path</tt> that points to this preallocated string.  You can also manipulate <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">path</tt> within the 2nd program if you wish, i.e. <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">path[1] = &#39;h&#39;</tt> which would turn the path into <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">/home/file.gz</tt>; if you declared it as <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">const char *path</tt> you wouldn't be able to do this (you'd get an error about trying to modify a read-only variable or something to that effect).<br /><br />This becomes more complex when something that is typedef'd is a struct -- and <a href="http://www.zlib.net/manual.html#Gzip" class="postlink">this appears to be the case</a> with zlib's <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">gzFile</tt>.  In fact, there was an example of that exact situation <a href="http://forums.nesdev.com/viewtopic.php?f=5&amp;t=9529" class="postlink">in this thread</a>, specifically these posts where the author forced a cast on something when he shouldn't have, and -- more importantly -- was passing the wrong thing to <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">memcpy&#40;&#41;</tt> (which happily stomped all over the memory regions allocated for his program).  I provided a write-up explaining when it's proper to hand a function the address of the variable itself (using <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">&amp;var</tt>) rather than just <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">var</tt>:<br /><br />* <!-- l --><a class="postlink-local" href="http://forums.nesdev.com/viewtopic.php?p=104677#p104677">viewtopic.php?p=104677#p104677</a><!-- l --><br />* <!-- l --><a class="postlink-local" href="http://forums.nesdev.com/viewtopic.php?p=104680#p104680">viewtopic.php?p=104680#p104680</a><!-- l --><br />* <!-- l --><a class="postlink-local" href="http://forums.nesdev.com/viewtopic.php?p=104703#p104703">viewtopic.php?p=104703#p104703</a><!-- l --><br />* <!-- l --><a class="postlink-local" href="http://forums.nesdev.com/viewtopic.php?p=104705#p104705">viewtopic.php?p=104705#p104705</a><!-- l --><br />* <!-- l --><a class="postlink-local" href="http://forums.nesdev.com/viewtopic.php?p=104706#p104706">viewtopic.php?p=104706#p104706</a><!-- l --><br /><br />So, the bottom line: if a compiler throws a warning at you, pay attention to it.  <strong>DO NOT</strong> just start typecasting things to clean up warnings, or start force dereferencing (i.e. <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">function&#40;*myvar&#41;</tt>) -- more often than not a forced cast still means your code is buggy/wrong and no longer does the compiler tell you about it, and forced dereferencing is only necessary when you <strong>know it's needed</strong> (and understand what this does).  Instead ask for help or advice; sometimes casting is the correct solution, but most of the time I see people force casting for no good reason or because they're trying to get rid of warnings that indicate an actual problem.  I only rarely see people dereferencing manually, and it's usually done within complex string manipulation or string parsing functions (where manipulating the address of a pointer, to point to parts of a string, are used heavily).</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p106460"></a>
				<b class="postauthor">rainwarrior</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p106460">Re: About zlib, anyone?</a></div><div style="float: right;"><a href="./viewtopic.php?p=106460#p106460"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Jan 18, 2013 10:19 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=5165_1384529626.jpg" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Jan 22, 2012 12:03 pm<br /><b>Posts:</b> 1615<br /><b>Location:</b> Canada
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">Zepper wrote:</div><div class="quotecontent">News to me. I didn't know about such thing, example:<br /><br />FILE fp = fopen(path, mode);<br /><br />without the * (pointer).</div><br /><br />The correct usage of FILE and fopen has nothing at all to do with gzFile and gzopen. fopen returns a FILE*, gzopen returns a gzFile.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=5165"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table width="100%" cellspacing="1" class="tablebg">
	<tr align="center">
		<td class="cat"><form name="viewtopic" method="post" action="./viewtopic.php?f=5&amp;t=9712"><span class="gensmall">Display posts from previous:</span> <select name="st" id="st"><option value="0" selected="selected">All posts</option><option value="1">1 day</option><option value="7">7 days</option><option value="14">2 weeks</option><option value="30">1 month</option><option value="90">3 months</option><option value="180">6 months</option><option value="365">1 year</option></select>&nbsp;<span class="gensmall">Sort by</span> <select name="sk" id="sk"><option value="a">Author</option><option value="t" selected="selected">Post time</option><option value="s">Subject</option></select> <select name="sd" id="sd"><option value="a" selected="selected">Ascending</option><option value="d">Descending</option></select>&nbsp;<input class="btnlite" type="submit" value="Go" name="sort" /></form></td>
	</tr>
	</table>
	

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=5"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=5&amp;t=9712"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>1</strong> of <strong>2</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 19 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"><b><a href="#" onclick="jumpto(); return false;" title="Click to jump to pageâ€¦">Go to page</a> <strong>1</strong><span class="page-sep">, </span><a href="./viewtopic.php?f=5&amp;t=9712&amp;start=15">2</a> &nbsp;<a href="./viewtopic.php?f=5&amp;t=9712&amp;start=15">Next</a></b></td>
		
	</tr>
	</table>

</div>

<div id="pagefooter"></div>

<br clear="all" />
<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=25">Other</a> &#187; <a href="./viewforum.php?f=5">General Stuff</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>
	<br clear="all" />

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat"><h4>Who is online</h4></td>
	</tr>
	<tr>
		<td class="row1"><p class="gensmall">Users browsing this forum: <a href="./memberlist.php?mode=viewprofile&amp;u=5262">ShaneM</a> and 2 guests</p></td>
	</tr>
	</table>


<br clear="all" />

<table width="100%" cellspacing="1">
<tr>
	<td width="40%" valign="top" nowrap="nowrap" align="left"></td>
	<td align="right" valign="top" nowrap="nowrap"><span class="gensmall">You <strong>cannot</strong> post new topics in this forum<br />You <strong>cannot</strong> reply to topics in this forum<br />You <strong>cannot</strong> edit your posts in this forum<br />You <strong>cannot</strong> delete your posts in this forum<br />You <strong>cannot</strong> post attachments in this forum<br /></span></td>
</tr>
</table>

<br clear="all" />

<table width="100%" cellspacing="0">
<tr>
	<td><form method="get" name="search" action="./search.php"><span class="gensmall">Search for:</span> <input class="post" type="text" name="keywords" size="20" /> <input class="btnlite" type="submit" value="Go" /><input type="hidden" name="t" value="9712" />
<input type="hidden" name="sf" value="msgonly" />
</form></td>
	<td align="right">
	<form method="post" name="jumpbox" action="./viewforum.php" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	<table cellspacing="0" cellpadding="0" border="0">
	<tr>
		<td nowrap="nowrap"><span class="gensmall">Jump to:</span>&nbsp;<select name="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">

		
			<option value="-1">Select a forum</option>
		<option value="-1">------------------</option>
			<option value="24">NES / Famicom</option>
		
			<option value="2">&nbsp; &nbsp;NESdev</option>
		
			<option value="3">&nbsp; &nbsp;NESemdev</option>
		
			<option value="21">&nbsp; &nbsp;NES Graphics</option>
		
			<option value="6">&nbsp; &nbsp;NES Music</option>
		
			<option value="9">&nbsp; &nbsp;NES Hardware and Flash Equipment</option>
		
			<option value="22">&nbsp; &nbsp;Homebrew Projects</option>
		
			<option value="10">&nbsp; &nbsp;Newbie Help Center</option>
		
			<option value="11">&nbsp; &nbsp;FCdev</option>
		
			<option value="18">&nbsp; &nbsp;NESdev China</option>
		
			<option value="27">&nbsp; &nbsp;NESdev Middle East</option>
		
			<option value="19">&nbsp; &nbsp;NESdev International</option>
		
			<option value="25">Other</option>
		
			<option value="5" selected="selected">&nbsp; &nbsp;General Stuff</option>
		
			<option value="4">&nbsp; &nbsp;Membler Industries</option>
		
			<option value="12">&nbsp; &nbsp;SNESdev</option>
		
			<option value="20">&nbsp; &nbsp;GBDev</option>
		
			<option value="23">&nbsp; &nbsp;Other Retro Dev</option>
		
			<option value="15">&nbsp; &nbsp;Test Forum</option>
		
			<option value="26">Site Issues</option>
		
			<option value="13">&nbsp; &nbsp;phpBB Issues</option>
		
			<option value="14">&nbsp; &nbsp;Web Issues</option>
		
			<option value="16">&nbsp; &nbsp;nesdevWiki</option>
		

		</select>&nbsp;<input class="btnlite" type="submit" value="Go" /></td>
	</tr>
	</table>

	</form>
</td>
</tr>
</table>


</div>

<div id="wrapfooter">
	
	<span class="copyright">Powered by <a href="http://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Group
	</span>
</div>

</body>
</html>