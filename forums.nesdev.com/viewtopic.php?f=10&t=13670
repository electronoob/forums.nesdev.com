<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<link rel="icon" href="/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />

<title>nesdev.com &bull; View topic - Couple of questions from a 6502 newb.</title>

<link rel="alternate" type="application/atom+xml" title="Feed - nesdev.com" href="http://forums.nesdev.com/feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - News" href="http://forums.nesdev.com/feed.php?mode=news" /><link rel="alternate" type="application/atom+xml" title="Feed - All forums" href="http://forums.nesdev.com/feed.php?mode=forums" /><link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="http://forums.nesdev.com/feed.php?mode=topics" /><link rel="alternate" type="application/atom+xml" title="Feed - Active Topics" href="http://forums.nesdev.com/feed.php?mode=topics_active" /><link rel="alternate" type="application/atom+xml" title="Feed - Forum - Newbie Help Center" href="http://forums.nesdev.com/feed.php?f=10" /><link rel="alternate" type="application/atom+xml" title="Feed - Topic - Couple of questions from a 6502 newb." href="http://forums.nesdev.com/feed.php?f=10&amp;t=13670" />

<link rel="stylesheet" href="./style.php?id=1&amp;lang=en" type="text/css" />

<script type="text/javascript">
// <![CDATA[


function popup(url, width, height, name)
{
	if (!name)
	{
		name = '_popup';
	}

	window.open(url.replace(/&amp;/g, '&'), name, 'height=' + height + ',resizable=yes,scrollbars=yes,width=' + width);
	return false;
}

function jumpto()
{
	var page = prompt('Enter the page number you wish to go to:', '1');
	var per_page = '15';
	var base_url = './viewtopic.php?f=10&amp;t=13670';

	if (page !== null && !isNaN(page) && page == Math.floor(page) && page > 0)
	{
		if (base_url.indexOf('?') == -1)
		{
			document.location.href = base_url + '?start=' + ((page - 1) * per_page);
		}
		else
		{
			document.location.href = base_url.replace(/&amp;/g, '&') + '&start=' + ((page - 1) * per_page);
		}
	}
}

/**
* Find a member
*/
function find_username(url)
{
	popup(url, 760, 570, '_usersearch');
	return false;
}

/**
* Mark/unmark checklist
* id = ID of parent container, name = name prefix, state = state [true/false]
*/
function marklist(id, name, state)
{
	var parent = document.getElementById(id);
	if (!parent)
	{
		eval('parent = document.' + id);
	}

	if (!parent)
	{
		return;
	}

	var rb = parent.getElementsByTagName('input');
	
	for (var r = 0; r < rb.length; r++)
	{
		if (rb[r].name.substr(0, name.length) == name)
		{
			rb[r].checked = state;
		}
	}
}



	/**
	* Play quicktime file by determining it's width/height
	* from the displayed rectangle area
	*
	* Only defined if there is a file block present.
	*/
	function play_qt_file(obj)
	{
		var rectangle = obj.GetRectangle();

		if (rectangle)
		{
			rectangle = rectangle.split(',')
			var x1 = parseInt(rectangle[0]);
			var x2 = parseInt(rectangle[2]);
			var y1 = parseInt(rectangle[1]);
			var y2 = parseInt(rectangle[3]);

			var width = (x1 < 0) ? (x1 * -1) + x2 : x2 - x1;
			var height = (y1 < 0) ? (y1 * -1) + y2 : y2 - y1;
		}
		else
		{
			var width = 200;
			var height = 0;
		}

		obj.width = width;
		obj.height = height + 16;

		obj.SetControllerVisible(true);

		obj.Play();
	}


// ]]>
</script>
</head>
<body class="ltr">

<a name="top"></a>

<div id="wrapheader">

	<div id="logodesc">
	</div>

	<div id="menubar">

		<table width="100%" cellspacing="0">
		<tr>
			<td rowspan="2"><a href="./index.php"><img src="./styles/subsilver2/imageset/site_logo.gif" alt="" title="" /></a></td>
			<td width="100%" align="center"><h1>nesdev.com</h1><span class="gen">NES Development and Strangulation Records message boards</span></td>
		</tr>
		<tr>
			<td align="center">
				<!--<div style="float: right;">
					<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
					<input type="hidden" name="cmd" value="_s-xclick">
					<input type="hidden" name="hosted_button_id" value="X2HM4WNR5YT8S">
					<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
					<img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
					</form>
				</div>-->
				<a href="./faq.php"><img src="./styles/prosilver/theme/images/icon_mini_faq.gif" width="12" height="13" alt="*" /> FAQ</a>
				&nbsp; &nbsp;<a href="./search.php"><img src="./styles/prosilver/theme/images/icon_mini_search.gif" width="12" height="13" alt="*" /> Search</a>
				<br />	
				 &nbsp;<a href="./ucp.php?mode=minion"><img src="./styles/prosilver/theme/images/icon_mini_register.gif" width="12" height="13" alt="*" /> Register</a>
					&nbsp; &nbsp;<a href="./ucp.php?mode=login"><img src="./styles/prosilver/theme/images/icon_mini_login.gif" width="12" height="13" alt="*" /> Login</a>&nbsp;
			</td>
		</tr>
		</table>
	</div>

	<div id="datebar">
		<table width="100%" cellspacing="0">
		<tr>
			<td class="gensmall"></td>
			<td class="gensmall" align="right">It is currently Fri Aug 17, 2018 12:46 am<br /></td>
		</tr>
		</table>
	</div>

</div>

<div id="wrapcentre">

	
	<p class="searchbar">
		<span style="float: left;"><a href="./search.php?search_id=unanswered">View unanswered posts</a> | <a href="./search.php?search_id=active_topics">View active topics</a></span>
		
	</p>
	

	<br style="clear: both;" />

	<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=24">NES / Famicom</a> &#187; <a href="./viewforum.php?f=10">Newbie Help Center</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>

	<br />
	

					<center>
					<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- NesDev Forums -->
					<ins class="adsbygoogle"
						 style="display:block"
						 data-ad-client="ca-pub-7801010229099644"
						 data-ad-slot="7979066809"
						 data-ad-format="auto"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>
					</center>
	<br />


<div id="pageheader">
	<h2><a class="titles" href="./viewtopic.php?f=10&amp;t=13670">Couple of questions from a 6502 newb.</a></h2>


	<p class="moderators">Moderator: <a href="./memberlist.php?mode=group&amp;g=320">Moderators</a></p>

</div>

<br clear="all" /><br />

<div id="pagecontent">

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=10"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=10&amp;t=13670"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>1</strong> of <strong>4</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 55 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"><b><a href="#" onclick="jumpto(); return false;" title="Click to jump to pageâ€¦">Go to page</a> <strong>1</strong><span class="page-sep">, </span><a href="./viewtopic.php?f=10&amp;t=13670&amp;start=15">2</a><span class="page-sep">, </span><a href="./viewtopic.php?f=10&amp;t=13670&amp;start=30">3</a><span class="page-sep">, </span><a href="./viewtopic.php?f=10&amp;t=13670&amp;start=45">4</a> &nbsp;<a href="./viewtopic.php?f=10&amp;t=13670&amp;start=15">Next</a></b></td>
		
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat">
			<table width="100%" cellspacing="0">
			<tr>
				<td class="nav" nowrap="nowrap">&nbsp;
				<a href="./viewtopic.php?f=10&amp;t=13670&amp;view=print" title="Print view">Print view</a>
				</td>
				<td class="nav" align="right" nowrap="nowrap"><a href="./viewtopic.php?f=10&amp;t=13670&amp;view=previous">Previous topic</a> | <a href="./viewtopic.php?f=10&amp;t=13670&amp;view=next">Next topic</a>&nbsp;</td>
			</tr>
			</table>
		</td>
	</tr>

	</table>


	<table class="tablebg" width="100%" cellspacing="1">
	
		<tr>
			<th>Author</th>
			<th>Message</th>
		</tr>
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p161351"></a>
				<b class="postauthor">Friendly_Noob</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p161351">Couple of questions from a 6502 newb.</a></div><div style="float: right;"><a href="./viewtopic.php?p=161351#p161351"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sun Dec 27, 2015 5:50 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Dec 14, 2015 2:58 am<br /><b>Posts:</b> 20
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I'm taking first steps in 6502 assembly using <!-- m --><a class="postlink" href="http://patater.com/gbaguy/nesasm.htm">http://patater.com/gbaguy/nesasm.htm</a><!-- m --> and Nerdy Nights and there's a lot of things that confuse me. I need someone experienced who'd look at my code and tell me what I should optimize, what I should and shouldn't do. What I attempted to do is basically a moving sprite program, resembling movement style from Dragon Quest series. <br />First question: how to force sprite to move on an 8x8 grid? This is crucial to games like these, when you have to search on a certain tile to obtain an item or something. I can make a sprite move by 8 px, but it'll just jump by this number of pixels instead of moving smoothly.<br />Second: where should I store variables like main characters current position on map, level, hp, status etc.? I'm currently starting at location $29, saw this in Metroid's source.<br />Third: <!-- m --><a class="postlink" href="http://nintendoage.com/forum/messageview.cfm?catid=22&amp;threadid=7974">http://nintendoage.com/forum/messagevie ... eadid=7974</a><!-- m --> - when changing sprite's position SBC or ADC is used, depending on the direction. Before every SBC carry flag is set using SEC and before every ADC carry flag is cleared using CLC. Why?<br />Fourth: What does RTI exactly do? Should all of my code be placed before it or just the code I want to occur during vblank?</div>

					
						<br clear="all" /><br />

						<table class="tablebg" width="100%" cellspacing="1">
						<tr>
							<td class="row3"><b class="genmed">Attachments: </b></td>
						</tr>
						
							<tr>
								<td class="row2">
			<span class="genmed">
				<img src="./styles/subsilver2/imageset/icon_topic_attach.gif" width="14" height="18" alt="" title="" /> 
				<a href="./download/file.php?id=4762">wnk.rar</a> [3.51 KiB]
			</span><br />
			<span class="gensmall">Downloaded 198 times</span>
		

		<br />
	</td>
							</tr>
						
						</table>
					

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=7348"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p161352"></a>
				<b class="postauthor">dougeff</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p161352">Re: Couple of questions from a 6502 newb.</a></div><div style="float: right;"><a href="./viewtopic.php?p=161352#p161352"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sun Dec 27, 2015 7:15 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=7008_1483937093.png" width="86" height="90" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri May 08, 2015 7:17 pm<br /><b>Posts:</b> 2200<br /><b>Location:</b> DIGDUG
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">SEC, SBC...CLC, ADC...here's what they do...<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">lda #4<br />&nbsp; &nbsp;clc<br />&nbsp; &nbsp;adc #4 ;result A = 8<br /><br />&nbsp; &nbsp;lda #4<br />&nbsp; &nbsp;sec<br />&nbsp; &nbsp;adc #4 ;result A = 9<br /><br />&nbsp; &nbsp;lda #9<br />&nbsp; &nbsp;sec<br />&nbsp; &nbsp;sbc #4 ;result A = 5<br /><br />&nbsp; &nbsp;lda #9<br />&nbsp; &nbsp;clc<br />&nbsp; &nbsp;sbc #4 ;result A = 4</div><br /><br />They have this ability, so you can do math in numbers larger than 255. Lets say you want to add two 16bit numbers (2 bytes each). You CLC, then add the LOW BYTES. Then (without CLC) add the HIGH BYTES. Any overflow will be stored temporarily in the CARRY FLAG, adding 1 more to the HIGH BYTE.<br /><br />Now you want to subtract 2 16bit (2 byte) numbers...You SEC, subtract the LOW BYTES. Then, (without SEC) subtract the HIGH BYTES. If there was overflow on the first part, it will clear the CARRY FLAG, thus subtracting one more from the HIGH BYTE (It works like a borrow).<br /><br />-------------------------------------------------------<br />Now, to your code...<br /><br />Your startup code is putting #FE in the $300 page (as if that's going to be where sprites are going to be...it would put them off screen). But, you seem to be using the $200 page for sprites in the code.<br /><br />Cut the #FE stuff off that startup loop. Make a seperate BLANKSPRITES subroutine which puts #FE at the $200 page. Why separate subroutine? So you can call this anytime you want to clear the sprites off the screen.<br /><br />Second, you don't need to define every address the variables go to...<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">YACADIR = $29</div><br />could just as easily be...<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">.rsset $0 <br />YACADIR .RS 1</div><br /><br />And, the assembler itself will assign a location to the variable. But, that's up to you. If you prefer assigning them exact RAM locations, go ahead.<br /><br />Controller reads should be one routine that reads all the buttons and stores them at a RAM address, here's an example...<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">GetInput:<br />&nbsp; &nbsp;lda button<br />&nbsp; &nbsp;sta oldbutton<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;ldy #$01<br />&nbsp; &nbsp;sty $4016<br />&nbsp; &nbsp;dey<br />&nbsp; &nbsp;sty $4016<br />&nbsp; &nbsp;sty button<br />&nbsp; &nbsp;ldy #$08<br />GetInput2:<br />&nbsp; &nbsp;lda $4016<br />&nbsp; &nbsp;and #$03<br />&nbsp; &nbsp;cmp #$01<br />&nbsp; &nbsp;rol button<br />&nbsp; &nbsp;dey<br />&nbsp; &nbsp;bne GetInput2</div><br /><br />As to the moving like Dragon Warrior...that's a bit more complicated. I think the simple answer is...<br />1.Get Input for all buttons (as above)<br />2.If up is presses, start an automated sequence that will move the character up 1 pixel, repeat for 8 frames. (or 16 frames, really)<br />3.Etc. Down starts an auto-down sequence, L starts an auto-L sequence, R starts an auto-R sequence<br />4.Do NOT get new input until the auto-move is completed. (count down every frame, skip input if MoveCount not = 0)<br />5.Have a collision map, which has a byte for every 8x8 block on screen. (or really every 16x16 block, which is more standard on the NES.)<br />6.Everytime your auto-sequence wants to move, check the solidity of the block you are moving to, skip the move if solid<br /><br />-------<br />RTI means Return from Interrupt. You need it at the end of the NMI code (and at the end of the IRQ code). It functions similar to the RTS at the end of a JSR subroutine. It means 'go back to where we were before the interrupt'.<br /><br /><br />-------<br />Edit---actually, Dragon Warrior doesn't move the main character sprites at all, it shifts the screen scroll for movement. You would have to write new background tiles continually from a large array of backgrounds -- as you move.</div>

					
						<div class="postbody"><br />_________________<br /><a href="http://nesdoug.com" class="postlink">nesdoug.com</a> -- blog/tutorial on programming for the NES</div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=7008"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p161353"></a>
				<b class="postauthor">dougeff</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p161353">Re: Couple of questions from a 6502 newb.</a></div><div style="float: right;"><a href="./viewtopic.php?p=161353#p161353"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sun Dec 27, 2015 7:40 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=7008_1483937093.png" width="86" height="90" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri May 08, 2015 7:17 pm<br /><b>Posts:</b> 2200<br /><b>Location:</b> DIGDUG
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">And, you need to work on a metasprite movement system, which will move all your character's sprites as one contiguous block. The best would be to store the X and Y coordinates in the RAM, and recalculate the position of every sprite, every frame.</div>

					
						<div class="postbody"><br />_________________<br /><a href="http://nesdoug.com" class="postlink">nesdoug.com</a> -- blog/tutorial on programming for the NES</div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=7008"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p161357"></a>
				<b class="postauthor">tokumaru</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p161357">Re: Couple of questions from a 6502 newb.</a></div><div style="float: right;"><a href="./viewtopic.php?p=161357#p161357"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sun Dec 27, 2015 8:41 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=95.png" width="80" height="80" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sat Feb 12, 2005 9:43 pm<br /><b>Posts:</b> 10714<br /><b>Location:</b> Rio de Janeiro - Brazil
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">Friendly_Noob wrote:</div><div class="quotecontent">I'm taking first steps in 6502 assembly using <!-- m --><a class="postlink" href="http://patater.com/gbaguy/nesasm.htm">http://patater.com/gbaguy/nesasm.htm</a><!-- m --></div><br />GBAGuy's tutorials are notoriously bad... Some of the things he says are just plain wrong. My advice would be to stop reading them.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">and Nerdy Nights and there's a lot of things that confuse me.</div><br />Nerdy Nights is much better. There are some oddities here and there, but nothing game-breaking IIRC.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I need someone experienced who'd look at my code and tell me what I should optimize, what I should and shouldn't do.</div><br />Don't worry about optimization right know. Just make sure your code works correctly.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">First question: how to force sprite to move on an 8x8 grid? This is crucial to games like these, when you have to search on a certain tile to obtain an item or something. I can make a sprite move by 8 px, but it'll just jump by this number of pixels instead of moving smoothly.</div><br />Games are all about states and the small incremental updates that correspond to each state. Say, when the left button is pressed on the controller, instead of immediately changing the character's position, you change its state from &quot;idle&quot; to &quot;moving left&quot;. Every frame you check what the character's status is: if it's &quot;idle&quot;, don't do anything, if it's &quot;moving left&quot;, subtract 1 from its X coordinate, and so on. after moving, you have to check if the character is aligned to the grid, in which case you change its status back to &quot;idle&quot;. The pseudo-code goes something like this:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">;handle any movement associated with the current state<br />if status = &quot;moving up&quot;<br />&nbsp; &nbsp;playerY = playerY - 1<br />elseif status = &quot;moving down&quot;<br />&nbsp; &nbsp;playerY = playerY + 1<br />elseif status = &quot;moving left&quot;<br />&nbsp; &nbsp;playerX = playerX - 1<br />elseif status = &quot;moving right&quot;<br />&nbsp; &nbsp;playerX = playerX + 1<br />end if<br /><br />;stop moving if aligned to the 8x8 grid<br />if playerX AND %00000111 = 0<br />&nbsp; &nbsp;if playerY AND %00000111 = 0<br />&nbsp; &nbsp;&nbsp; &nbsp;status = &quot;idle&quot;<br />&nbsp; &nbsp;end if<br />end if<br /><br />;start moving only when idle<br />if status = &quot;idle&quot;<br />&nbsp; &nbsp;if &quot;up&quot; is pressed<br />&nbsp; &nbsp;&nbsp; &nbsp;status = &quot;moving up&quot;<br />&nbsp; &nbsp;elseif &quot;down&quot; is pressed<br />&nbsp; &nbsp;&nbsp; &nbsp;status = &quot;moving down&quot;<br />&nbsp; &nbsp;elseif &quot;left&quot; is pressed<br />&nbsp; &nbsp;&nbsp; &nbsp;status = &quot;moving left&quot;<br />&nbsp; &nbsp;elseif &quot;right&quot; is pressed<br />&nbsp; &nbsp;&nbsp; &nbsp;status = &quot;moving right&quot;<br />&nbsp; &nbsp;end if<br />end if</div><br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Second: where should I store variables like main characters current position on map, level, hp, status etc.?</div><br />Wherever there's space for them. I like to store most variables in zero page, because accessing them there is slightly faster (although if you're using NESASM, you have to prefix the addresses or variable names with &quot;&lt;&quot; so that the faster addressing is used, otherwise there's no speed improvement at all), and the rest of the memory (pages 3 and up, normally) for larger data structures, such as palettes, level maps, object states, and so on. I said pages 3 and up because page 1 always contains the stack (you can steal part of page 1 for other uses though) and page 2 is usually the OAM buffer.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I'm currently starting at location $29, saw this in Metroid's source.</div><br />Sounds pretty arbitrary. There's no reason for you to skip $00-$28... you can use whatever memory you want for your variables.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Before every SBC carry flag is set using SEC and before every ADC carry flag is cleared using CLC. Why?</div><br />The 6502 is an 8-bit CPU, meaning it can only do math 8-bits at a time. For it to be able to handle 16-bit (and larger) values, it needs the carry flag. The carry flag holds information about the result of the last mathematical operation you performed, which can be used to make decisions (&quot;is this number bigger than that number&quot; and things like that) or to propagate the operation to other bytes, allowing you to manipulate larger numbers.<br /><br />Whenever you use ADC, the CPU will add whatever value you're adding PLUS the carry flag. It works exactly like when you learned to add in school:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; 78<br />+ 15<br />----</div><br />First you add the units: 8 + 5 is 13, which is 2 digits, so you write the lower digit down and write the carry on top of the next space:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; 1<br />&nbsp; 78<br />+ 15<br />----<br />&nbsp; &nbsp;3</div><br />Now you add the tens, and add the carry as well: 7 + 1 + 1 = 9<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; 78<br />+ 15<br />----<br />&nbsp; 93</div><br />There you go. The 6502 always adds 2 values + the carry flag, allowing you to detect and propagate overflows to the next byte, much like you propagate them to the next digit adding on paper. The reason you need to clear the carry when starting an addition is because there isn't anything to propagate at the start, but the 6502 doesn't have an ADD (add without carry) instruction (some CPUs do), so you're forced to make sure the carry won't get in the way.<br /><br />Subtractions work in a similar way, but the carry flag works more like an &quot;imaginary value&quot; that may or may not be borrowed during a subtraction. It's like you're saying to the CPU: &quot;Here 6502, I'm leaving this flag set for you, just in case you need to borrow it&quot;. Then, once the subtraction is done, the value in the carry flag has the following meanings:<br /><br />0: there was an underflow, and the CPU need to borrow 1;<br />1: the carry is intact, so there was no underflow and the result of the subtraction is positive;<br /><br />And the 6502 interprets the carry flag like this on the next subtraction. If the carry is clear, it will know it has to subtract one extra unit, because of he borrow. To make sure there's no borrow at the beginning of a subtraction operation, you have to set the carry.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Fourth: What does RTI exactly do? Should all of my code be placed before it or just the code I want to occur during vblank?</div><br />That depends on how your program is organized. Nerdy Nights goes for a program structure that places everything in the NMI handler. The vblank stuff comes first, and then the game logic, but it's all part of the NMI handler, so the RTI is at the very end of the game loop. The other approaches are:<br /><br />Everything outside the NMI: The NMI doesn nothing more than set/increment a flag, and the main thread waits for this flag to change in order to detect the start of vblank. In this case, the only thing before the RTI is an instruction like <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">INC vbcounter</tt>, everything else is in the main thread.<br /><br />Game logic outside the NMI, video and audio updates inside the NMI: With this you actually have 2 threads running in parallel, with the main thread processing everything about the game and buffering video updates, while the NMI thread dumps these updates to the PPU.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=95"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p161417"></a>
				<b class="postauthor">Friendly_Noob</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p161417">Re: Couple of questions from a 6502 newb.</a></div><div style="float: right;"><a href="./viewtopic.php?p=161417#p161417"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Mon Dec 28, 2015 3:08 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Dec 14, 2015 2:58 am<br /><b>Posts:</b> 20
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">That's a lot of new info to digest, thanks. I'll try to fix the metasprite movement first. I'll just probably keep the character at the center of the screen and move background. This kind of movement is the reason why DQ characters are constantly moving their legs, right?<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">GBAGuy's tutorials are notoriously bad... Some of the things he says are just plain wrong. My advice would be to stop reading them.</div><br />What about this <!-- m --><a class="postlink" href="http://nintendoage.com/forum/messageview.cfm?catid=22&amp;threadid=33287">http://nintendoage.com/forum/messagevie ... adid=33287</a><!-- m --> ? There is a lot of stuff to read about the 6502 itself, but not really that much about applying it to the NES.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=7348"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p161440"></a>
				<b class="postauthor">Celius</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p161440">Re: Couple of questions from a 6502 newb.</a></div><div style="float: right;"><a href="./viewtopic.php?p=161440#p161440"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Mon Dec 28, 2015 4:11 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="http://www.freewebs.com/the_bott/Avatar3.JPG" width="100" height="79" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Jun 05, 2005 2:04 pm<br /><b>Posts:</b> 2149<br /><b>Location:</b> Minneapolis, Minnesota, United States
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">This kind of movement is the reason why DQ characters are constantly moving their legs, right?</div><br /><br />Actually, that shouldn't be a reason for it. You can keep the character in the center of the screen, and update the player to be still while idle, and animated while moving. My guess as to why they are always moving is to keep animation as simple as possible, and reduce complexity with the code.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=138"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p161444"></a>
				<b class="postauthor">tokumaru</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p161444">Re: Couple of questions from a 6502 newb.</a></div><div style="float: right;"><a href="./viewtopic.php?p=161444#p161444"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Mon Dec 28, 2015 5:18 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=95.png" width="80" height="80" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sat Feb 12, 2005 9:43 pm<br /><b>Posts:</b> 10714<br /><b>Location:</b> Rio de Janeiro - Brazil
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Yeah, if they're always animated, that's one less state to keep track of. That shouldn't have anything to do with the movement.<br /><br />Keeping the player always in the center doesn't really make the sprite code any simpler though... The sprite coordinates might be always the same (the player sprite, that is, because other sprites will still move around as the map scrolls), but the player object still has to move relative to the map.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=95"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p161483"></a>
				<b class="postauthor">Celius</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p161483">Re: Couple of questions from a 6502 newb.</a></div><div style="float: right;"><a href="./viewtopic.php?p=161483#p161483"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Dec 29, 2015 12:47 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="http://www.freewebs.com/the_bott/Avatar3.JPG" width="100" height="79" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Jun 05, 2005 2:04 pm<br /><b>Posts:</b> 2149<br /><b>Location:</b> Minneapolis, Minnesota, United States
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Keeping the player always in the center doesn't really make the sprite code any simpler though... The sprite coordinates might be always the same (the player sprite, that is, because other sprites will still move around as the map scrolls), but the player object still has to move relative to the map.</div><br /><br />Yes, and it's a good practice to not think of the player sprite as being much different just because it's always in the center of the screen. However all of the other objects are drawn, that's how the player sprite should be drawn.<br /><br />As dougeff mentioned earlier, a metasprite system is crucial. I don't think the concept of this is always made obvious. A lot of tutorials will teach you to move sprites around by manually changing the X/Y coordinates of a specific hardware sprite (for instance, INC $203 to move sprite #0 to the right). Believe me, this is not the way to go. When you start having objects moving partially off screen, more than 8 sprites on a scanline etc., things will get ugly really fast. <br /><br />The way most games do it is to have 16-bit &quot;map&quot; coordinates for every object, including the player and the camera. If you take the map coordinates of an object and subtract the camera coordinates, you'll be left with where that object should be drawn on screen (at least with the top-left corner of the object). Then you would have a routine that would place the individual hardware sprites into RAM using that pair of coordinates as a starting point.<br /><br />If you developed a system like this, the player's coordinates would change, but the game would be programmed so that the camera's coordinates change at the same time. The character's position relative to the camera would remain the same, and as a consequence, the player would always be redrawn in the middle of the screen.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=138"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p161485"></a>
				<b class="postauthor">tokumaru</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p161485">Re: Couple of questions from a 6502 newb.</a></div><div style="float: right;"><a href="./viewtopic.php?p=161485#p161485"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Dec 29, 2015 1:10 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=95.png" width="80" height="80" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sat Feb 12, 2005 9:43 pm<br /><b>Posts:</b> 10714<br /><b>Location:</b> Rio de Janeiro - Brazil
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Celius is right. The player being always centered should be a side effect of the camera moving exactly as much as the player every frame, meaning that the relative distance between them is always the same, causing the player to always show at the same place on screen.<br /><br />You will need a camera system because of the scrolling and all other objects that are not centered anyway, so it's actually less work to have the player use the same system as all other objects than to treat it differently (and write separate code for it) just because you know it will be centered all the time.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=95"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p161489"></a>
				<b class="postauthor">Celius</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p161489">Re: Couple of questions from a 6502 newb.</a></div><div style="float: right;"><a href="./viewtopic.php?p=161489#p161489"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Dec 29, 2015 1:39 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="http://www.freewebs.com/the_bott/Avatar3.JPG" width="100" height="79" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Jun 05, 2005 2:04 pm<br /><b>Posts:</b> 2149<br /><b>Location:</b> Minneapolis, Minnesota, United States
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent">The player being always centered should be a side effect of the camera moving exactly as much as the player every frame, meaning that the relative distance between them is always the same, causing the player to always show at the same place on screen.</div><br /><br />The great part of this is, if you develop a system like this and decide you don't want the player to always stay in the center, all you have to change is the camera movement (literally just change the code that updates the camera coordinates). Using a different system that just updates the sprites directly, you would have to do a considerable amount of re-working to get the player to be able to move around on the screen.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=138"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p161496"></a>
				<b class="postauthor">Friendly_Noob</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p161496">Re: Couple of questions from a 6502 newb.</a></div><div style="float: right;"><a href="./viewtopic.php?p=161496#p161496"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Dec 29, 2015 3:34 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Dec 14, 2015 2:58 am<br /><b>Posts:</b> 20
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Controller reads should be one routine that reads all the buttons and stores them at a RAM address</div><br />One ram address for all buttons (each byte representing pressed/not pressed state of the button) or each button - one ram address?<br />Also, since a lot of the code is copypasted, I'd like to ask about those two things:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">NMI:<br />&nbsp; LDA #$00<br />&nbsp; STA $2003&nbsp; &nbsp; &nbsp; &nbsp;; set the low byte (00) of the RAM address<br />&nbsp; LDA #$02<br />&nbsp; STA $4014&nbsp; &nbsp; &nbsp; &nbsp;; set the high byte (02) of the RAM address, start the transfer<br /><br /><br />LatchController:<br />&nbsp; LDA #$01<br />&nbsp; STA $4016<br />&nbsp; LDA #$00<br />&nbsp; STA $4016&nbsp; &nbsp; &nbsp; &nbsp;; tell both the controllers to latch buttons<br /></div></div>

					
							<br /><br />
							<span class="gensmall">Last edited by <a href="./memberlist.php?mode=viewprofile&amp;u=7348">Friendly_Noob</a> on Tue Dec 29, 2015 3:57 pm, edited 1 time in total.</span>
						<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=7348"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p161499"></a>
				<b class="postauthor" style="color: #FF3300">tepples</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p161499">Re: Couple of questions from a 6502 newb.</a></div><div style="float: right;"><a href="./viewtopic.php?p=161499#p161499"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Dec 29, 2015 3:52 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Sep 19, 2004 11:12 pm<br /><b>Posts:</b> 20409<br /><b>Location:</b> NE Indiana, USA (NTSC)
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I'm pretty sure most games read eight bits from each controller into one 8-bit byte.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=9"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p161505"></a>
				<b class="postauthor">tokumaru</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p161505">Re: Couple of questions from a 6502 newb.</a></div><div style="float: right;"><a href="./viewtopic.php?p=161505#p161505"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Dec 29, 2015 5:04 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=95.png" width="80" height="80" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sat Feb 12, 2005 9:43 pm<br /><b>Posts:</b> 10714<br /><b>Location:</b> Rio de Janeiro - Brazil
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">Friendly_Noob wrote:</div><div class="quotecontent">One ram address for all buttons (each byte representing pressed/not pressed state of the button) or each button - one ram address?</div><br />An NES controller has exactly 8 buttons, so it's very convenient to store the states of all of them in a single byte, 1 bit per button. Then you can use masks to check the buttons as needed, like this:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">BUTTON_A = %00000001<br />BUTTON_B = %00000010<br />BUTTON_SELECT = %00000100<br />BUTTON_START = %00001000<br />BUTTON_UP = %00010000<br />BUTTON_DOWN = %00100000<br />BUTTON_LEFT = %01000000<br />BUTTON_RIGHT = %10000000<br /><br />&nbsp; &nbsp;lda Buttons<br />&nbsp; &nbsp;and #BUTTON_A<br />&nbsp; &nbsp;beq Skip<br />&nbsp; &nbsp;;A is pressed<br />Skip:</div><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Also, since a lot of the code is copypasted, I'd like to ask about those two things:</div><br />What exactly are you asking? Do you want a general explanation?<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; LDA #$00<br />&nbsp; STA $2003&nbsp; &nbsp; &nbsp; &nbsp;; set the low byte (00) of the RAM address<br />&nbsp; LDA #$02<br />&nbsp; STA $4014&nbsp; &nbsp; &nbsp; &nbsp;; set the high byte (02) of the RAM address, start the transfer</div></div><br />This code is correct, but the comments are wrong. You can only DMA entire pages of memory, aligned to 256-byte boundaries, so you can't specify the low byte of the address. What the write to $2003 actually does is set the destination address in OAM (which is only 256 bytes). The NES periodically clears that address though, so it's somewhat redundant to clear it yourself. Nothing wrong with keeping things safe, though.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><div class="codetitle"><b>Code:</b></div><div class="codecontent">LatchController:<br />&nbsp; LDA #$01<br />&nbsp; STA $4016<br />&nbsp; LDA #$00<br />&nbsp; STA $4016&nbsp; &nbsp; &nbsp; &nbsp;; tell both the controllers to latch buttons</div></div><br />This is just how the controller works. There's a chip inside each controller that receives the state of all the buttons. When you write 1 to $4016, this chip allows the button states to come in, and when you write 0, it &quot;closes the gates&quot; and keeps the last states that came in. Then, reading from $4016/7 will return the state that was &quot;frozen&quot; inside the chip, one bit/button at a time.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=95"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p161547"></a>
				<b class="postauthor">Friendly_Noob</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p161547">Re: Couple of questions from a 6502 newb.</a></div><div style="float: right;"><a href="./viewtopic.php?p=161547#p161547"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Dec 30, 2015 12:17 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Dec 14, 2015 2:58 am<br /><b>Posts:</b> 20
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I feel like an idiot, I can't figure anything out myself. Dougeff, could you comment this code for me? From what I understand, GetInput2 is a loop checking $4016 8 times, because there are 8 buttons. Then depending on if the button is pressed or not 00000000 or 00000001 is ANDed with 00000011 ($03) so it's 00000000 or 00000001 again? Also, why should I store oldbutton?<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">GetInput:<br />&nbsp; &nbsp;lda button<br />&nbsp; &nbsp;sta oldbutton<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;ldy #$01<br />&nbsp; &nbsp;sty $4016<br />&nbsp; &nbsp;dey<br />&nbsp; &nbsp;sty $4016<br />&nbsp; &nbsp;sty button<br />&nbsp; &nbsp;ldy #$08<br />GetInput2:<br />&nbsp; &nbsp;lda $4016<br />&nbsp; &nbsp;and #$03<br />&nbsp; &nbsp;cmp #$01<br />&nbsp; &nbsp;rol button<br />&nbsp; &nbsp;dey<br />&nbsp; &nbsp;bne GetInput2</div></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=7348"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p161552"></a>
				<b class="postauthor" style="color: #FF3300">Memblers</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p161552">Re: Couple of questions from a 6502 newb.</a></div><div style="float: right;"><a href="./viewtopic.php?p=161552#p161552"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Dec 30, 2015 1:19 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td class="postdetails">Site Admin</td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=10.jpg" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Sep 20, 2004 6:04 am<br /><b>Posts:</b> 3541<br /><b>Location:</b> Indianapolis
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">That controller reading code is coping with a bunch of things in addition to the controller, which is why it seems more complicated than you might first expect.  $4016 also has &quot;open bus&quot; bits, Famicom microphone, Famicom expansion port controller, and Zapper bits.  NES/Famicom controller data is D0, and the Famicom expansion controller is on bit D1.  It's good to support Famicom fully, so that's why the AND #$03 is there.  The CMP #$01 will set the carry flag if D0 and/or D1 is set.  Then ROL button shifts the carry flag into the button variable.<br /><br />You want to save the previous controller state so you can check if the button was newly pressed or held down.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=10"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table width="100%" cellspacing="1" class="tablebg">
	<tr align="center">
		<td class="cat"><form name="viewtopic" method="post" action="./viewtopic.php?f=10&amp;t=13670"><span class="gensmall">Display posts from previous:</span> <select name="st" id="st"><option value="0" selected="selected">All posts</option><option value="1">1 day</option><option value="7">7 days</option><option value="14">2 weeks</option><option value="30">1 month</option><option value="90">3 months</option><option value="180">6 months</option><option value="365">1 year</option></select>&nbsp;<span class="gensmall">Sort by</span> <select name="sk" id="sk"><option value="a">Author</option><option value="t" selected="selected">Post time</option><option value="s">Subject</option></select> <select name="sd" id="sd"><option value="a" selected="selected">Ascending</option><option value="d">Descending</option></select>&nbsp;<input class="btnlite" type="submit" value="Go" name="sort" /></form></td>
	</tr>
	</table>
	

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=10"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=10&amp;t=13670"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>1</strong> of <strong>4</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 55 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"><b><a href="#" onclick="jumpto(); return false;" title="Click to jump to pageâ€¦">Go to page</a> <strong>1</strong><span class="page-sep">, </span><a href="./viewtopic.php?f=10&amp;t=13670&amp;start=15">2</a><span class="page-sep">, </span><a href="./viewtopic.php?f=10&amp;t=13670&amp;start=30">3</a><span class="page-sep">, </span><a href="./viewtopic.php?f=10&amp;t=13670&amp;start=45">4</a> &nbsp;<a href="./viewtopic.php?f=10&amp;t=13670&amp;start=15">Next</a></b></td>
		
	</tr>
	</table>

</div>

<div id="pagefooter"></div>

<br clear="all" />
<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=24">NES / Famicom</a> &#187; <a href="./viewforum.php?f=10">Newbie Help Center</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>
	<br clear="all" />

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat"><h4>Who is online</h4></td>
	</tr>
	<tr>
		<td class="row1"><p class="gensmall">Users browsing this forum: No registered users and 8 guests</p></td>
	</tr>
	</table>


<br clear="all" />

<table width="100%" cellspacing="1">
<tr>
	<td width="40%" valign="top" nowrap="nowrap" align="left"></td>
	<td align="right" valign="top" nowrap="nowrap"><span class="gensmall">You <strong>cannot</strong> post new topics in this forum<br />You <strong>cannot</strong> reply to topics in this forum<br />You <strong>cannot</strong> edit your posts in this forum<br />You <strong>cannot</strong> delete your posts in this forum<br />You <strong>cannot</strong> post attachments in this forum<br /></span></td>
</tr>
</table>

<br clear="all" />

<table width="100%" cellspacing="0">
<tr>
	<td><form method="get" name="search" action="./search.php"><span class="gensmall">Search for:</span> <input class="post" type="text" name="keywords" size="20" /> <input class="btnlite" type="submit" value="Go" /><input type="hidden" name="t" value="13670" />
<input type="hidden" name="sf" value="msgonly" />
</form></td>
	<td align="right">
	<form method="post" name="jumpbox" action="./viewforum.php" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	<table cellspacing="0" cellpadding="0" border="0">
	<tr>
		<td nowrap="nowrap"><span class="gensmall">Jump to:</span>&nbsp;<select name="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">

		
			<option value="-1">Select a forum</option>
		<option value="-1">------------------</option>
			<option value="24">NES / Famicom</option>
		
			<option value="2">&nbsp; &nbsp;NESdev</option>
		
			<option value="3">&nbsp; &nbsp;NESemdev</option>
		
			<option value="21">&nbsp; &nbsp;NES Graphics</option>
		
			<option value="6">&nbsp; &nbsp;NES Music</option>
		
			<option value="22">&nbsp; &nbsp;Homebrew Projects</option>
		
			<option value="34">&nbsp; &nbsp;&nbsp; &nbsp;2018 NESdev Competition</option>
		
			<option value="33">&nbsp; &nbsp;&nbsp; &nbsp;2017 NESdev Competition</option>
		
			<option value="32">&nbsp; &nbsp;&nbsp; &nbsp;2016 NESdev Competition</option>
		
			<option value="31">&nbsp; &nbsp;&nbsp; &nbsp;2014 NESdev Competition</option>
		
			<option value="30">&nbsp; &nbsp;&nbsp; &nbsp;2011 NESdev Competition</option>
		
			<option value="10" selected="selected">&nbsp; &nbsp;Newbie Help Center</option>
		
			<option value="9">&nbsp; &nbsp;NES Hardware and Flash Equipment</option>
		
			<option value="28">&nbsp; &nbsp;&nbsp; &nbsp;Reproduction</option>
		
			<option value="19">&nbsp; &nbsp;NESdev International</option>
		
			<option value="11">&nbsp; &nbsp;&nbsp; &nbsp;FCdev</option>
		
			<option value="18">&nbsp; &nbsp;&nbsp; &nbsp;NESdev China</option>
		
			<option value="27">&nbsp; &nbsp;&nbsp; &nbsp;NESdev Middle East</option>
		
			<option value="25">Other</option>
		
			<option value="5">&nbsp; &nbsp;General Stuff</option>
		
			<option value="4">&nbsp; &nbsp;Membler Industries</option>
		
			<option value="23">&nbsp; &nbsp;Other Retro Dev</option>
		
			<option value="12">&nbsp; &nbsp;&nbsp; &nbsp;SNESdev</option>
		
			<option value="20">&nbsp; &nbsp;&nbsp; &nbsp;GBDev</option>
		
			<option value="15">&nbsp; &nbsp;Test Forum</option>
		
			<option value="26">Site Issues</option>
		
			<option value="13">&nbsp; &nbsp;phpBB Issues</option>
		
			<option value="14">&nbsp; &nbsp;Web Issues</option>
		
			<option value="16">&nbsp; &nbsp;nesdevWiki</option>
		

		</select>&nbsp;<input class="btnlite" type="submit" value="Go" /></td>
	</tr>
	</table>

	</form>
</td>
</tr>
</table>


</div>


<div id="wrapfooter">
	
	<span class="copyright">Powered by <a href="http://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Group
	</span>
</div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-61452025-2', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>