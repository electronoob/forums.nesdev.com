<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Mapper recommendation?</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Mapper recommendation?</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=10&amp;t=8630">http://forums.nesdev.com/viewtopic.php?f=10&amp;t=8630</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>rizz1010</b> [ Fri Feb 17, 2012 4:07 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Mapper recommendation?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />With these needs, which mapper would you recommend:
<br />
<br />I think I'll be ok as far as graphics space, I simply need more space for code.
<br />
<br />I haven't looked at the process of making this into a physical cartridge, but when that day comes, would certain maps make this easier?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Fri Feb 17, 2012 4:25 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />How big is your code already? By "more space" do you mean like 128 KB or like 2 MB?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>3gengames</b> [ Fri Feb 17, 2012 4:31 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />CHR-RAM.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MottZilla</b> [ Fri Feb 17, 2012 5:24 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I recommend UNROM if NROM isn't enough. If UNROM isn't enough, it depends on what features you need what way you should go. All the mappers have their uses. There is no best mapper.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>rizz1010</b> [ Sat Feb 18, 2012 1:06 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I was using NROM, which looks like it won't quite cut it (my code is approaching $FD00 in the PRG.
<br />
<br />I would expect another 32KB would do it for the code.  I thought that even an extra 16KB would work, but with 32, I would be set.
<br />
<br />Tepples, hope to see you again this year at MGC.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>3gengames</b> [ Sat Feb 18, 2012 1:08 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Have you made a game before? Never seen you hang here. <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /> Wouldn't be the...lets guess....blow into cart alcohool game? <img src="./images/smilies/icon_razz.gif" alt=":P" title="Razz" /> X)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Sat Feb 18, 2012 4:08 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I second MottZilla's recommendation of UNROM. You lose about 4 to 6 KiB of PRG ROM off the bat compared to NROM because you have to copy or decompress the CHR data and write it to CHR RAM, but the 64, 128, or 256 KiB capacity of the PRG ROM makes up for that.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Sat Feb 18, 2012 4:15 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />UNROM is indeed the logical choice if you're reaching the limits of NROM. Since it uses CHR-RAM, the simplest thing to do would be to copy 8 KB of CHR data to the pattern tables right at the start of the program and never touch them again, so it will essentially feel like 8KB of CHR-ROM, like in NROM.
<br />
<br />As for the PRG, the last 16KB are always mapped to $C000-$FFFF. Your Reset, NMI and IRQ routines should be in this bank, so that they are always available to the CPU. You will probably have to rearrange the rest of your code a bit, putting in different 16KB banks parts of the program that don't need to be mapped at the same time (for example, music code and data is usually very independent from the rest of the program).
<br />
<br />For now, you could have a 64KB ROM with banks arranged like this:
<br />
<br />bank 0: 8KB of CHR and a routine to copy them to VRAM;
<br />bank 1: code independent from bank 2;
<br />bank 2: code independent from bank 1;
<br />bank 3 (fixed): routines pointed by the CPU vectors and code that needs access to the other banks.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MottZilla</b> [ Sat Feb 18, 2012 7:10 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />You could also keep all of your code in the fixed 16K bank and only access data and subroutines in the other banks. Many games function like this.
<br />
<br />UxROM really is a handy mapper as 256K should be enough for a lot of types of games. It all depends on the features you need of course. If you find there is something you can't do that you need to, then you might consider getting something more complex. But if you were using NROM, UxROM is perfect. You get both more Code/Data space AND could use more CHR space as you game is no longer limited to 8K of CHR.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Sun Feb 19, 2012 3:44 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Well, first I must say UNROM is NOT a mapper but a board, the mapper is mapper 2. (a mapper is a concept, not a PCB !!)
<br />
<br />The big difference is that UNROM boards require 128k PRG-ROM while mapper 2 can take any value, so it's more generic (but I'd recomand avoiding non-power-of-two values. Non power-of-two ROM sizes are feasible in hardware but it'd be complex to do, and emulation support is not guaranteed).
<br />
<br />If you need 64k of PRG-ROM you could go with mapper 2, as the other says, have 1 fixed bank and 3 bankswitchable banks. I also think mapper 2 supports 8kb of (fixed) CHR-ROM, while UNROM board obviously does not (that's the second reason I don't advice you to use "UNROM" because this is a board name that is too specific).
<br />
<br />Another better option (IMO) would be to use mapper 66, which allows you to have exactly two 32k PRG-ROM banks and one 8k CHR-ROM bank, as you said you wanted. Also, CHR-ROM support on this mapper is official, and not hacky as it is in mapper 2, so emulator support will be complete.
<br />
<br />Now if you want a cool/crazy option you could do like Dragon Quest, use mapper 3 and store mainly program data in the additional 3 CHR-ROM banks, however this is only if you feel like doing something experimental and funny (which I how I always feels haha). The reason this was used is that back in 1986 larger ROMs were very expensive, tended to become hot etc... so it was simpler to make a clever use of two smaller ROMs.
<br />
<br />If you need code to be present at all times in the ROM just put it at the same adress in both banks.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MottZilla</b> [ Sun Feb 19, 2012 11:04 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I consider UxROM is to be mapper. No one calls it "mapper 2" other than as the iNES implementation. You could call it 74*161/32 but that isn't as nice of a title.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Sun Feb 19, 2012 12:01 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">Well, first I must say UNROM is NOT a mapper but a board, the mapper is mapper 2. (a mapper is a concept, not a PCB !!)</div><br />I usually call it UxROM. To me, iNES numbers are just meant to be used in headers.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Another better option (IMO) would be to use mapper 66, which allows you to have exactly two 32k PRG-ROM</div>
<br />Working with switchable 32KB banks can be hard for a beginner though... Using trampoline routines and things like that is not so trivial. Having a fixed bank makes things easier.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>infiniteneslives</b> [ Sun Feb 19, 2012 1:06 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Sorry this just struck me as odd...
<br /><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">Well, first I must say UNROM is NOT a mapper but a board, the mapper is mapper 2. (a mapper is a concept, not a PCB !!)<br /></div><br /><br />You must be the only one that thinks of it like this... So if someone asked you which mapper you were using you'd respond "mapper 0" because NROM is technically a board???<br /><br />Even the god (wiki: <a href="http://wiki.nesdev.com/w/index.php/MMC" class="postlink">http://wiki.nesdev.com/w/index.php/MMC</a>) disagrees :<br />"A mapper is a piece of hardware soldered to a cartridge's printed circuit board that performs address decoding, bank switching, and possibly other tasks."<br /> <br />Including a list/links of "concepts" by providing their "boards" as yo see it?  Most people would say it's a list/link of *mappers* by *name*...<br /><br /><br />But as for the actual topic:<br /><div class="quotetitle">rizz1010 wrote:</div><div class="quotecontent">I haven't looked at the process of making this into a physical cartridge, but when that day comes, would certain maps make this easier?</div>
<br />Most of the discrete mappers are pretty simple to make/manufacture.  UxROM, AxROM, BNROM could be considered simpler because you would only have to program one chip compared to GNROM or similar.  However UxROM one more part (a '161 and '32 vice just the '161 like most others).  Keep in mind the UxROM is simpler to program for the reasons everyone is pointing out with the fixed bank.  Most other mappers don't have a fixed bank and would require slightly more complex code structure without that fixed bank.
<br />
<br />If you really conscious of manufacturing you could also look at cost comparison between CHR RAM vs ROM. and Memory sizes for PRG.  Maybe even look at part count and board size.  Either way though most of these shouldn't have too extreme of a cost difference.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>rizz1010</b> [ Sun Feb 19, 2012 10:04 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Thanks for the input everyone.  I'm leaning toward UNROM, and it appears to have a couple of great nesdev wiki pages for guidance.
<br />
<br />Tokumaru, I really like that idea with bank0 (for putting the chr into place, and then that bank goes away).  Thanks!
<br />
<br />Bregalad, I appreciate you pointing out that mapper 66 as well.  There were complexities mentioned, and I would have guessed that duplicate code in both banks would take care of these complexities (as you mentioned at the end of your post).  Either way, it appears I'm moving forward using UNROM.
<br />
<br />3gengames, I haven't been on the forums much lately.  The good news is that I haven't had many questions (I'm always grateful for the regulars who are quick to answer questions).  It was great to meet Memblers, Tepples &amp; Clueless last year at the Midwest Gaming Classic, and more great news - if all goes well, I plan to show my brand new game at this year's MGC which is happening in about a month.  It got started around September last year (I have a joint NES project that is currently on hold).  Hope I'll see some of you there - feel free to PM or just point out if you'll be there (I might only be there on Sunday though).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Mon Feb 20, 2012 2:14 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">You must be the only one that thinks of it like this... So if someone asked you which mapper you were using you'd respond "mapper 0" because NROM is technically a board???<br /></div><br />You guessed it.<br /><br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">"A mapper is a piece of hardware soldered to a cartridge's printed circuit board that performs address decoding, bank switching, and possibly other tasks."<br /></div>
<br />Yeah this makes the mapper either a hardware chip (like the MMC1) or a set of chips (for example HC161+HC32) hooked in a certain way, which are basically equivalent to a concept. (I think an electric schematic is a concept).
<br />
<br />Calling mapper 2 "UNROM" is definitely an abuse of language everyone on NESdev does (incluind possibly me too), but it remains an abuse of language.
<br />
<br />There is several different ways you can get the same mapper behavior. In the case of mapper 2 UNROM is only one of the many ways to get mappre 2 functionality. There is also UNROM-style 3rd party boards (Konami, etc...), UOROM, Camerica boards, and probably a lot of other stuff I forgot.
<br />Mapper 2 can also have 8k CHR-ROM, have 4-screen mirroring, have battery backed SRAM, have any size of PRG-ROM, all this the UNROM board can't, unless its hevily modified.
<br />
<br />Also mapper 2 is only one of the two mappers the UNROM board can implement, UNROM can also be mapper 180 (replace the '32 by a '08 and gate and the hardwired bank is at $8000-$bfff).
<br />
<br />This is why calling mapper 2 "UNROM" is clearly wrong - mapper 2 is not necessarly UNROM, and UNROM is not necessarly mapper 2.
<br />I don't think it's I who made this up it's just facts. I just pointed this abuse of language that's all. The name UNROM is just a random chain of characters Nintendo put on some boards, it doesn't have much meaning anyways.
<br />
<br />UxROM is slightly less wrong, but it implicitely exclude for example 64KB or 512 KB PRG sizes, or the additional features mentioned above, which are all possible with mapper 2.
<br />
<br />In summary I know this is a big mess but here are my $2 about this. Sorry for getting off topic.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>