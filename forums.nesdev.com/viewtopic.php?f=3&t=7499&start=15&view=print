<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Making New NES emulator (NESFaCE) - need help</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Making New NES emulator (NESFaCE) - need help</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=3&amp;t=7499">http://forums.nesdev.com/viewtopic.php?f=3&amp;t=7499</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>2</strong> of <strong>3</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>cartlemmy</b> [ Mon Feb 21, 2011 10:50 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Can you tell my why so many people want to develop emulators? There are already plenty of good emulators out there. I hear the "I want to get a better understanding of the inner-workings of the NES" reason many-a-times, but why not create a game to learn that? C'mon people lets make some cool home-brews. That includes you ME, get your azz in gear CARTLEMMY.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Mon Feb 21, 2011 10:57 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />You don't have to draw graphics or write music to make an emulator or certain development tools. (See previous <a href="http://nesdev.com/bbs/viewtopic.php?t=5927&amp;highlight=complexity" class="postlink">complexity thread</a>.)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Tue Feb 22, 2011 12:12 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">cartlemmy wrote:</div><div class="quotecontent">Can you tell my why so many people want to develop emulators? There are already plenty of good emulators out there. I hear the "I want to get a better understanding of the inner-workings of the NES" reason many-a-times, but why not create a game to learn that? C'mon people lets make some cool home-brews. That includes you ME, get your azz in gear CARTLEMMY.</div>
<br />The coolness factor. I think most people don't have much rational reasoning behind their decision to write an emulator. They have this idea in their head that writing an emulator is cool and they go with it. Personally I don't care about making one (although the idea pops in to my head every once in a while) since I don't see emulators as fascinating as I did many years ago. Nowadays I tend to be more selective about projects.
<br />
<br />Anyway I agree with you, I'd love to see more homebrew instead of crappy emulators.
<br />
<br />And OP, I'm sorry to say you're in way over your head.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Wkter</b> [ Tue Feb 22, 2011 1:33 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">cartlemmy wrote:</div><div class="quotecontent">Can you tell my why so many people want to develop emulators? There are already plenty of good emulators out there. I hear the "I want to get a better understanding of the inner-workings of the NES" reason many-a-times, but why not create a game to learn that? C'mon people lets make some cool home-brews. That includes you ME, get your azz in gear CARTLEMMY.</div>
<br />I don't write an NES emulator because I want a better understanding of the inner workings. I already have an understanding of the inner workings, but I have never written an emulator before, so that's my main reason. Not a very good reason, but then again, my goal isn't to implement 2 1/2 mappers, no sound, only predefined keyboard inputs and hope it's enough to take down Nestopia with it.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>koitsu</b> [ Tue Feb 22, 2011 1:43 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">thefox wrote:</div><div class="quotecontent"><div class="quotetitle">cartlemmy wrote:</div><div class="quotecontent">Can you tell my why so many people want to develop emulators? There are already plenty of good emulators out there. I hear the "I want to get a better understanding of the inner-workings of the NES" reason many-a-times, but why not create a game to learn that? C'mon people lets make some cool home-brews. That includes you ME, get your azz in gear CARTLEMMY.</div><br />The coolness factor. I think most people don't have much rational reasoning behind their decision to write an emulator. They have this idea in their head that writing an emulator is cool and they go with it.<br /><br />...<br /><br />And OP, I'm sorry to say you're in way over your head.</div>
<br />This.  Exactly.
<br />
<br />Not to mention, this is precisely why I put the bolded "Before considering developing your own NES emulator, ask yourself if your efforts may be better spent helping out those who already have emulators in development!" text on the Wiki page.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>cartlemmy</b> [ Tue Feb 22, 2011 9:11 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Ah-ha I think I understand now.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>6T4</b> [ Tue Feb 22, 2011 7:22 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Making New NES emulator (NESFaCE) - need help</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent">This is actually wrong... Games can write values larger than the number of CHR pages the game has, what will happen is that the CHR data will appear to repeat. For example, if a game has 4 CHR pages and the number 7 is written to the register, page 3 wil be mapped in, because page 4 is the same as page 0, page 5 is the same as page 1, and so on. So I think you should get rid of that IF and use <strong>byData MOD wNumCHRROMPages</strong> as the actual page that will be mapped in.</div>
<br />Thank you very much for pointing this out, as it something I had overlooked. However, I still need to figure out what to do about the different bank numbers and sizes as I mentioned before.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>6T4</b> [ Tue Feb 22, 2011 7:53 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Making New NES emulator (NESFaCE) - need help</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">6T4 wrote:</div><div class="quotecontent">However, I still need to figure out what to do about the different bank numbers and sizes as I mentioned before.</div>
<br />Update: I've figured this out and will be working on implementing support for many more mappers.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>6T4</b> [ Tue Feb 22, 2011 11:42 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Games larger than 128K</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Games larger than 128K aren't working in NEStreme/NESFaCE right now, and I'm not entirely sure why. Do I need something else in the mapper dlls, or is it in the main code somewhere?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>6T4</b> [ Sat Feb 26, 2011 8:45 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Making New NES emulator (NESFaCE) - need help</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent"> This is actually wrong... Games can write values larger than the number of CHR pages the game has, what will happen is that the CHR data will appear to repeat. For example, if a game has 4 CHR pages and the number 7 is written to the register, page 3 wil be mapped in, because page 4 is the same as page 0, page 5 is the same as page 1, and so on. So I think you should get rid of that IF and use <strong>byData MOD wNumCHRROMPages</strong> as the actual page that will be mapped in. </div>
<br />I would like some more information on this. It seems that this is done for PRG ROM too, but only in certain boards. However, I would like to know which ones use this CHR ROM mirroring and/or PRG ROM mirroring and which ones don't. I haven't found much information so far, so I would appreciate any guidance.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Sat Feb 26, 2011 9:18 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />As far as I know, <em>all</em> NES boards with ROM bankswitching use ROM mirroring, except for a few CNROM games where the CHR bank number was wired to ROM enable signals as a copy protection method.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>6T4</b> [ Sat Feb 26, 2011 9:24 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">As far as I know, <em>all</em> NES boards with ROM bankswitching use ROM mirroring, except for a few CNROM games where the CHR bank number was wired to ROM enable signals as a copy protection method.</div>
<br />Someone posted on this site that UOROM (mapper 2) doesn't use mirroring like UNROM (mapper 2) does; I'm wondering if that has anything to do with UOROM having 32K PRG ROM and UNROM having 16K PRG ROM.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Sat Feb 26, 2011 9:39 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">6T4 wrote:</div><div class="quotecontent">Someone posted on this site that UOROM (mapper 2) doesn't use mirroring like UNROM (mapper 2) does</div><br />Link please, so that I can understand the context.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I'm wondering if that has anything to do with UOROM having 32K PRG ROM and UNROM having 16K PRG ROM.</div>
<br />UOROM has 256 KiB PRG ROM in 16 KiB banks, with the last bank fixed into $C000. UNROM has 128 KiB PRG ROM in 16 KiB banks, with the last bank fixed into $C000. Are you thinking of AOROM?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>6T4</b> [ Sat Feb 26, 2011 9:49 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">Link please, so that I can understand the context.</div><br /><a href="http://nesdev.com/bbs/viewtopic.php?t=5437" class="postlink">topic 5437</a><br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">UOROM has 256 KiB PRG ROM in 16 KiB banks, with the last bank fixed into $C000. UNROM has 128 KiB PRG ROM in 16 KiB banks, with the last bank fixed into $C000. Are you thinking of AOROM?</div>
<br />Maybe I was thinking of AOROM; I guess I just meant that UOROM has twice as much PRG ROM as UNROM.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>6T4</b> [ Sat Feb 26, 2011 9:13 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Games larger than 128K</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">6T4 wrote:</div><div class="quotecontent">Games larger than 128K aren't working in NEStreme/NESFaCE right now, and I'm not entirely sure why. Do I need something else in the mapper dlls, or is it in the main code somewhere?</div>
<br />Okay, some games larger than 128K work, so maybe it's just certain boards. Hopefully this won't be as big of a problem as I thought it was.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>2</strong> of <strong>3</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>