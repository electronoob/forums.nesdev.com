<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="http://forums.nesdev.com/feed.php?f=3&amp;t=1618" />

<title>nesdev.com</title>
<subtitle>NES Development and Strangulation Records message boards</subtitle>
<link href="http://forums.nesdev.com/index.php" />
<updated>2008-05-13T09:43:08-07:00</updated>

<author><name><![CDATA[nesdev.com]]></name></author>
<id>http://forums.nesdev.com/feed.php?f=3&amp;t=1618</id>
<entry>
<author><name><![CDATA[WedNESday]]></name></author>
<updated>2008-05-13T09:43:08-07:00</updated>
<published>2008-05-13T09:43:08-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=1618&amp;p=33400#p33400</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=1618&amp;p=33400#p33400"/>
<title type="html"><![CDATA[Simple Question About the DirectX]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=1618&amp;p=33400#p33400"><![CDATA[
Sorry tepples, I did get what you meant in the first place. I know that the TV never displays the resolution at 512x480, but thats the power of emulation for you. Anyway, please let's not start a topic drift...<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=191">WedNESday</a> — Tue May 13, 2008 9:43 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2008-05-13T09:22:44-07:00</updated>
<published>2008-05-13T09:22:44-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=1618&amp;p=33398#p33398</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=1618&amp;p=33398#p33398"/>
<title type="html"><![CDATA[Simple Question About the DirectX]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=1618&amp;p=33398#p33398"><![CDATA[
<div class="quotetitle">WedNESday wrote:</div><div class="quotecontent"><br /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">If you use DirectDraw to blit a 256x240 pixel surface to a 586x480 pixel destination<br /></div><br />You mean 512x480.</div><br />What I mean is that pixels of the NES PPU are not square on NTSC or PAL. (See <a href="http://nesdev.com/bbs/viewtopic.php?p=24662#24662" class="postlink">further discussion</a>.)<br /><br />If you want an even crisper emulator look, try post-processing your rendered image with <a href="http://scale2x.sourceforge.net/" class="postlink">Scale2x</a> <img src="http://forums.nesdev.com/images/smilies/icon_wink.gif" alt=";-)" title="Wink" /><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Tue May 13, 2008 9:22 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[WedNESday]]></name></author>
<updated>2008-05-13T09:08:26-07:00</updated>
<published>2008-05-13T09:08:26-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=1618&amp;p=33397#p33397</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=1618&amp;p=33397#p33397"/>
<title type="html"><![CDATA[Simple Question About the DirectX]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=1618&amp;p=33397#p33397"><![CDATA[
<div class="quotetitle">tepples wrote:</div><div class="quotecontent"><br />If you use DirectDraw to blit a 256x240 pixel surface to a 586x480 pixel destination, is the result any more blurry than an NES console connected to a TV?<br /></div><br /><br />You mean 512x480. And yes, I do like the crisp 1:1 emulator look.  <img src="http://forums.nesdev.com/images/smilies/icon_lol.gif" alt=":lol:" title="Laughing" /> And no, I'm not converting to D3D/OpenGL/SDL.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=191">WedNESday</a> — Tue May 13, 2008 9:08 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[hap]]></name></author>
<updated>2008-05-13T08:20:32-07:00</updated>
<published>2008-05-13T08:20:32-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=1618&amp;p=33395#p33395</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=1618&amp;p=33395#p33395"/>
<title type="html"><![CDATA[Simple Question About the DirectX]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=1618&amp;p=33395#p33395"><![CDATA[
Maybe he likes the crisp 1:1 emulator look.<br /><br />I don't know how to turn that off with ddraw. Over here I use a d3d renderer by default, that does support turning on/off bilinear filtering.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=115">hap</a> — Tue May 13, 2008 8:20 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2008-05-13T07:42:01-07:00</updated>
<published>2008-05-13T07:42:01-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=1618&amp;p=33394#p33394</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=1618&amp;p=33394#p33394"/>
<title type="html"><![CDATA[Simple Question About the DirectX]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=1618&amp;p=33394#p33394"><![CDATA[
If you use DirectDraw to blit a 256x240 pixel surface to a 586x480 pixel destination, is the result any more blurry than an NES console connected to a TV?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Tue May 13, 2008 7:42 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[WedNESday]]></name></author>
<updated>2008-05-13T07:31:45-07:00</updated>
<published>2008-05-13T07:31:45-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=1618&amp;p=33393#p33393</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=1618&amp;p=33393#p33393"/>
<title type="html"><![CDATA[Simple Question About the DirectX]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=1618&amp;p=33393#p33393"><![CDATA[
*Bump*<br /><br />I'm having exactly the same problem as this guy. I have an offscreen surface of 256x240 big and the destination surface is 512x480 big. Unless I create the surface in system memory (which results in a huge cost for my emulator's efficiency), the result is a blurred (is it called nearest neighbour interpolation?) picture, just like his. How can I switch this feature off with DirectDraw?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=191">WedNESday</a> — Tue May 13, 2008 7:31 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[ershu]]></name></author>
<updated>2006-06-06T11:19:52-07:00</updated>
<published>2006-06-06T11:19:52-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=1618&amp;p=13889#p13889</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=1618&amp;p=13889#p13889"/>
<title type="html"><![CDATA[Simple Question About the DirectX]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=1618&amp;p=13889#p13889"><![CDATA[
I implement a software scale 2 filter and it looks great now.<br /><br />Thanks for everyone's advice~<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=584">ershu</a> — Tue Jun 06, 2006 11:19 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[ershu]]></name></author>
<updated>2006-06-06T09:33:50-07:00</updated>
<published>2006-06-06T09:33:50-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=1618&amp;p=13884#p13884</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=1618&amp;p=13884#p13884"/>
<title type="html"><![CDATA[Simple Question About the DirectX]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=1618&amp;p=13884#p13884"><![CDATA[
finally!!!! I find why!!!!<br />The problom is not about the source rect, but the destination !!!<br /><br />My old dest RECT was calculated as:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">RECT rect;<br />GetWindowRect&#40;m_hwnd,&amp;rect&#41;;   <br />rect.left   +=   m_GSM_CXBORDER;<br />rect.top    +=   m_GSM_CAPTION+m_GSM_CYBORDER+m_GSM_CYMENU;<br />rect.right  -=   m_GSM_CXBORDER;<br />rect.bottom -=   m_GSM_CYBORDER;</div><br /><br />Now I modify it to:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">RECT rectDst;<br />POINT pt;<br />rectDst.left = 0;<br />rectDst.top = 0;<br />rectDst.right = m_nScreenWidth;<br />rectDst.bottom = m_nScreenHeight;<br />pt.x = pt.y = 0;<br />ClientToScreen&#40;m_hwnd, &amp;pt&#41;;<br />OffsetRect&#40;&amp;rectDst, pt.x, pt.y&#41;;</div><br /><br />The two result is not the same! first one is not accurate! Now it works!<br /><!-- m --><a class="postlink" href="http://ershu.3q5.com/UUAuth/2006-6/67970237.bmp">http://ershu.3q5.com/UUAuth/2006-6/67970237.bmp</a><!-- m --><br /> <img src="http://forums.nesdev.com/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /> <br /><br />But if I want to implement scale 2 (512*480), using DX blt function to stretch it still look paintness.  Did everybody writes your own function to scale 2 ??<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=584">ershu</a> — Tue Jun 06, 2006 9:33 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2006-06-06T09:11:19-07:00</updated>
<published>2006-06-06T09:11:19-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=1618&amp;p=13882#p13882</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=1618&amp;p=13882#p13882"/>
<title type="html"><![CDATA[Simple Question About the DirectX]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=1618&amp;p=13882#p13882"><![CDATA[
<div class="quotetitle">ershu wrote:</div><div class="quotecontent"><br />I creat a 256*240 bytes buffer myself. And a 256*240 Back Surface. At end of every frame, I copy data from my buffer to Back suface, then use lpddSurMain-&gt;Blt to blt the rect {0,0,255,239} to screen.<br /></div><br />Does the problem disappear if you blit {0,0,256,240}?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Tue Jun 06, 2006 9:11 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[ershu]]></name></author>
<updated>2006-06-06T08:32:58-07:00</updated>
<published>2006-06-06T08:32:58-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=1618&amp;p=13880#p13880</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=1618&amp;p=13880#p13880"/>
<title type="html"><![CDATA[Simple Question About the DirectX]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=1618&amp;p=13880#p13880"><![CDATA[
The window is 256*240 exactly. See this Spy++ screenshot <br /><!-- m --><a class="postlink" href="http://ershu.3q5.com/UUAuth/2006-6/66141827.bmp">http://ershu.3q5.com/UUAuth/2006-6/66141827.bmp</a><!-- m --><br /><br />I creat a 256*240 bytes buffer myself. And a 256*240 Back Surface. At end of every frame, I copy data from my buffer to Back suface, then use lpddSurMain-&gt;Blt to blt the rect {0,0,255,239} to screen. <br /><br />My GB emulator has the same problem  <img src="http://forums.nesdev.com/images/smilies/icon_sad.gif" alt=":(" title="Sad" /> <br /><!-- m --><a class="postlink" href="http://ershu.3q5.com/UUAuth/2006-6/66215147.bmp">http://ershu.3q5.com/UUAuth/2006-6/66215147.bmp</a><!-- m --><br /><!-- m --><a class="postlink" href="http://ershu.3q5.com/UUAuth/2006-6/66564484.bmp">http://ershu.3q5.com/UUAuth/2006-6/66564484.bmp</a><!-- m --><br /><br />Why? When using SDL, my coping process is not modified at all. But it looks great!<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=584">ershu</a> — Tue Jun 06, 2006 8:32 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2006-06-06T07:17:40-07:00</updated>
<published>2006-06-06T07:17:40-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=1618&amp;p=13877#p13877</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=1618&amp;p=13877#p13877"/>
<title type="html"><![CDATA[Simple Question About the DirectX]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=1618&amp;p=13877#p13877"><![CDATA[
<em>(opens GIMP and measures key points)</em><br />It is being stretched. It looks like just over 254.5 horizontal pixels of the 256 are being displayed, stretching distances and triggering your video card's linear interpolation. The distance from the top of the M in MARIO to the top of the cracked blocks is also slightly greater than it should be: 193 pixels instead of the expected 192. Try loading up a ROM that just displays a grid so that you can use it for calibration.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Tue Jun 06, 2006 7:17 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Quietust]]></name></author>
<updated>2006-06-06T06:56:59-07:00</updated>
<published>2006-06-06T06:56:59-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=1618&amp;p=13875#p13875</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=1618&amp;p=13875#p13875"/>
<title type="html"><![CDATA[Simple Question About the DirectX]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=1618&amp;p=13875#p13875"><![CDATA[
<div class="quotetitle">WedNESday wrote:</div><div class="quotecontent"><br />That looks like Anti-Aliasing to me. Try creating the surface in system memory. It'll be slower, but it will solve the problem.<br /></div><br /><br />It shouldn't be necessary to create the surface in system memory - that usually only prevents it from being smoothed when <strong>stretching</strong>.<br /><br /><div class="quotetitle">WedNESday wrote:</div><div class="quotecontent"><br />Btw, you have a very bad dump of SMB (as opposed to a bad one).<br /></div><br /><br />To clarify, a proper dump of SMB1 should have on its titlescreen the "SUPER MARIO BROS." logo with "(C) 1985 NINTENDO" beneath it.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=7">Quietust</a> — Tue Jun 06, 2006 6:56 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[WedNESday]]></name></author>
<updated>2006-06-06T06:47:54-07:00</updated>
<published>2006-06-06T06:47:54-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=1618&amp;p=13874#p13874</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=1618&amp;p=13874#p13874"/>
<title type="html"><![CDATA[Simple Question About the DirectX]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=1618&amp;p=13874#p13874"><![CDATA[
That looks like Anti-Aliasing to me. Try creating the surface in system memory. It'll be slower, but it will solve the problem. Btw, you have a very bad dump of SMB (as opposed to a bad one).<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=191">WedNESday</a> — Tue Jun 06, 2006 6:47 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Quietust]]></name></author>
<updated>2006-06-06T06:35:50-07:00</updated>
<published>2006-06-06T06:35:50-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=1618&amp;p=13872#p13872</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=1618&amp;p=13872#p13872"/>
<title type="html"><![CDATA[Simple Question About the DirectX]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=1618&amp;p=13872#p13872"><![CDATA[
Did you set the correct surface and window sizes in DirectDraw/Direct3D?<br />My emulator uses DirectDraw 7.0 and does not experience the blurriness shown in the first screenshot (unless I stretch to 2X size, but that's normal).<br /><br />Are you rendering a 256x240 image at 100% size, or a 512x480 image at 50% size? If you are doing the latter, it is possible that DirectDraw/Direct3D is smoothing the image during resizing while SDL is not.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=7">Quietust</a> — Tue Jun 06, 2006 6:35 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2006-06-06T06:33:25-07:00</updated>
<published>2006-06-06T06:33:25-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=1618&amp;p=13871#p13871</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=1618&amp;p=13871#p13871"/>
<title type="html"><![CDATA[Simple Question About the DirectX]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=1618&amp;p=13871#p13871"><![CDATA[
It looks like you've got pixel interpolation turned on in your DirectX surface, and the window is not exactly 256x240 pixels in size.<br /><br />And please post .png files instead of .bmp files.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Tue Jun 06, 2006 6:33 am</p><hr />
]]></content>
</entry>
</feed>