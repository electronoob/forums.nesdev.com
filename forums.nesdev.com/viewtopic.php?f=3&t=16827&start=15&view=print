<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Mapper 133 (Jovial Race)</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Mapper 133 (Jovial Race)</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=3&amp;t=16827">http://forums.nesdev.com/viewtopic.php?f=3&amp;t=16827</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>2</strong> of <strong>2</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>NewRisingSun</b> [ Sat Dec 16, 2017 3:35 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Mapper 133 (Jovial Race)</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Here is my preliminary analysis.<br />Edit 1: Updated with krzysiobal's comment.<br /><strong>Edit 2: Updated with krzysiobal's final pinout, and analysis based on that.</strong><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">NTDEC8701&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;AX-24G<br />---------&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;------<br />Pin#&nbsp; &nbsp; Meaning&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Pin#&nbsp; &nbsp; Meaning<br />1&nbsp; &nbsp; &nbsp; &nbsp;PRG-A13&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1&nbsp; &nbsp; &nbsp; &nbsp;?<br />2&nbsp; &nbsp; &nbsp; &nbsp;PRG-A14&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2&nbsp; &nbsp; &nbsp; &nbsp;?<br />3&nbsp; &nbsp; &nbsp; &nbsp;PRG-A16&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;3&nbsp; &nbsp; &nbsp; &nbsp;?<br />4&nbsp; &nbsp; &nbsp; &nbsp;PRG-A15&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;4&nbsp; &nbsp; &nbsp; &nbsp;?<br />5&nbsp; &nbsp; &nbsp; &nbsp;CHR-A14&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;5&nbsp; &nbsp; &nbsp; &nbsp;to 15<br />6&nbsp; &nbsp; &nbsp; &nbsp;CHR-A11&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;6&nbsp; &nbsp; &nbsp; &nbsp;PRG-A15<br />7&nbsp; &nbsp; &nbsp; &nbsp;CHR-A13&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;7&nbsp; &nbsp; &nbsp; &nbsp;CHR-A14<br />8&nbsp; &nbsp; &nbsp; &nbsp;CHR-A12&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;8&nbsp; &nbsp; &nbsp; &nbsp;CHR-A13<br />9&nbsp; &nbsp; &nbsp; &nbsp;CPU-D2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 9&nbsp; &nbsp; &nbsp; &nbsp;CPU-D0<br />10&nbsp; &nbsp; &nbsp; CPU-D3&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 10&nbsp; &nbsp; &nbsp; CPU-D1<br />11&nbsp; &nbsp; &nbsp; CPU-D1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 11&nbsp; &nbsp; &nbsp; CPU-D2<br />12&nbsp; &nbsp; &nbsp; GND&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;12&nbsp; &nbsp; &nbsp; GND<br />13&nbsp; &nbsp; &nbsp; CHR-A15&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;13&nbsp; &nbsp; &nbsp; to 16<br />14&nbsp; &nbsp; &nbsp; CHR-A10&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;14&nbsp; &nbsp; &nbsp; ?<br />15&nbsp; &nbsp; &nbsp; PPU-A10&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;15&nbsp; &nbsp; &nbsp; to 5<br />16&nbsp; &nbsp; &nbsp; PPU-A11&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;16&nbsp; &nbsp; &nbsp; to 13<br />17&nbsp; &nbsp; &nbsp; PPU-A12&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;17&nbsp; &nbsp; &nbsp; Vcc<br />18&nbsp; &nbsp; &nbsp; CPU-D4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 18&nbsp; &nbsp; &nbsp; CPU-D3<br />19&nbsp; &nbsp; &nbsp; CPU-D5&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 19&nbsp; &nbsp; &nbsp; CPU-D4<br />20&nbsp; &nbsp; &nbsp; CPU-D0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 20&nbsp; &nbsp; &nbsp; CPU-D5<br />21&nbsp; &nbsp; &nbsp; CPU-R/W&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;21&nbsp; &nbsp; &nbsp; CPU-R/W<br />22&nbsp; &nbsp; &nbsp; M2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 22&nbsp; &nbsp; &nbsp; M2<br />23&nbsp; &nbsp; &nbsp; PRG-!OE&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;23&nbsp; &nbsp; &nbsp; PRG-!OE<br />24&nbsp; &nbsp; &nbsp; CPU-ROMSEL&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 24&nbsp; &nbsp; &nbsp; CPU-ROMSEL<br />25&nbsp; &nbsp; &nbsp; Vcc&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;25&nbsp; &nbsp; &nbsp; ?<br />26&nbsp; &nbsp; &nbsp; CPU-A0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 26&nbsp; &nbsp; &nbsp; CPU-A0<br />27&nbsp; &nbsp; &nbsp; CPU-A13&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;27&nbsp; &nbsp; &nbsp; CPU-A13<br />28&nbsp; &nbsp; &nbsp; CPU-A14&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;28&nbsp; &nbsp; &nbsp; CPU-A14</div>The IC pinouts are similar enough to conclude that the IC is the same, just connected differently. Let's start with CPU D0-D5:<div class="codetitle"><b>Code:</b></div><div class="codecontent">Jovial Race&nbsp; &nbsp; &nbsp;Normal<br />-----------&nbsp; &nbsp; &nbsp;------<br />D5&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; D0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />D2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; D1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />D0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; D2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />D1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; D3&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />D3&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; D4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />D4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; D5&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </div>Jovial Race writes $01,$04,$21,$24 to $8000. The NTDEC8701 thus sees the following register numbers:<div class="codetitle"><b>Code:</b></div><div class="codecontent">Jovial Race&nbsp; &nbsp; &nbsp;Normal<br />-----------&nbsp; &nbsp; &nbsp;------<br />$01&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$04<br />$04&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$02<br />$21&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$05<br />$24&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$03</div>So, Jovial Race only initializes the bank registers for PPU $1000-$1FFF, at least if PPU A12 were connected normally, and no PRG register. To make these bank registers affect the entire 8 KiB CHR-ROM range and not just $1000-$1FFF, <em>Jovial Race</em> connects the AX-24's PPU-A12 line (pin 17) to Vcc so that it is permanently &quot;1&quot;. What about the bank register values? <em>Jovial Race</em> writes:<div class="codetitle"><b>Code:</b></div><div class="codecontent">$10&nbsp; &nbsp; &nbsp;for 8 KiB CHR-ROM bank 0<br />$01&nbsp; &nbsp; &nbsp;for 8 KiB CHR-ROM bank 1<br />$1A&nbsp; &nbsp; &nbsp;for 8 KiB CHR-ROM bank 2<br />$0B&nbsp; &nbsp; &nbsp;for 8 KiB CHR-ROM bank 3<br />OR'd with $04 to choose 32 KiB PRG-ROM bank 1.</div>Which means that for the bank data that <em>Jovial Race</em> writes, the NTDEC8701 sees the following data:<div class="codetitle"><b>Code:</b></div><div class="codecontent">Jovial Race&nbsp; &nbsp; &nbsp;Normal<br />-----------&nbsp; &nbsp; &nbsp;------<br />$10&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$20&nbsp; &nbsp; &nbsp;for 8 KiB CHR-ROM bank 0<br />$01&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$04&nbsp; &nbsp; &nbsp;for 8 KiB CHR-ROM bank 1<br />$1A&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$38&nbsp; &nbsp; &nbsp;for 8 KiB CHR-ROM bank 2<br />$0B&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$1C&nbsp; &nbsp; &nbsp;for 8 KiB CHR-ROM bank 3<br />OR'd with:<br />$04&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$02&nbsp; &nbsp; &nbsp;and for 32 KiB PRG-ROM bank 1</div>Now, on the Namco 108/NTDEC8701, the several CHR bank register bits (as the Namco 108 sees them) become the following CHR address bits:<div class="codetitle"><b>Code:</b></div><div class="codecontent">$02&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Normally CHR A11, pin 6, which is PRG A15 on Jovial Race.<br />$04&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Normally CHR A12, pin 8, which is CHR A13 on Jovial Race.<br />$08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Normally CHR A13, pin 7, which is CHR A14 on Jovial Race.<br />$10&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Normally CHR A14, pin 5, which Jovial Race connects to PPU-A10 (pin 15).<br />$20&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Normally CHR A15, pin 13, which Jovial Race connects to PPU-A11 (pin 16).</div>As for the last two lines of the previous table, <em>Jovial Race</em>'s use of bits 3 and 4 (bits 4 and 5 from the IC's perspective) force the IC to think that any CHR-ROM access falls into the same 1 KiB region that is determined by the highest two bits of the bank register value (which ultimately become PPU-A10 and PPU-A11) and the permanently-high PPU-A12:<div class="codetitle"><b>Code:</b></div><div class="codecontent">8 KiB<br />CHR-ROM $8001&nbsp; &nbsp;IC&nbsp; &nbsp; &nbsp; CHR<br />bank&nbsp; &nbsp; bits&nbsp; &nbsp; bits&nbsp; &nbsp; range<br />------- -----&nbsp; &nbsp;-----&nbsp; &nbsp;-----<br />0&nbsp; &nbsp; &nbsp; &nbsp;$10&nbsp; &nbsp; &nbsp;$20&nbsp; &nbsp; &nbsp;$1800-$1BFF<br />1&nbsp; &nbsp; &nbsp; &nbsp;$00&nbsp; &nbsp; &nbsp;$00&nbsp; &nbsp; &nbsp;$1000-$13FF<br />2&nbsp; &nbsp; &nbsp; &nbsp;$18&nbsp; &nbsp; &nbsp;$30&nbsp; &nbsp; &nbsp;$1C00-$1FFF<br />3&nbsp; &nbsp; &nbsp; &nbsp;$08&nbsp; &nbsp; &nbsp;$10&nbsp; &nbsp; &nbsp;$1400-$17FF<br /><br />(only bits relevant for the CHR range shown)</div>If the four relevant bank registers are initialized to the same value, then the two highest bank register value bits become irrelevant (which is why our dumping script variant that leaves them at zero still works). If they are not all set to the same value however, then interesting things might occur, as writing to one bank register also changes which bank register is the relevant one. At this point, I think that this must be a copy-protection measure.<br /><br />To summarize: Everything checks out that <em>Jovial Race</em>'s AX-24G is a Namco-108-compatible NTDEC8701 connected to function like a simple GNROM-like latch. The reason for doing so must have been either that Joy Van had a surplus of these chips lying around in those early days, or as a  (rather ineffective) copy-protection measure.<br /><br />Thanks two million, krzysiobal and sdm! Comments and corrections welcome. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>krzysiobal</b> [ Sat Dec 16, 2017 3:51 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Mapper 133 (Jovial Race)</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />ok, after some talk with SDM:<br />pin4=PRG-A15, pin6=CHR A11

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>sdm</b> [ Sun Dec 17, 2017 4:42 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Mapper 133 (Jovial Race)</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />It's hard to check without removing the roms. I used a strong, spotlight LED to see the path shadows.<br /><br />NTDEC #15 = Famicom Conn. #53<br />NTDEC #16 = Famicom Conn. #54<br />NTDEC #03 = 74hc139 #02 (PRG A16? - because they are 2x PRG 27C512 MaskROM)<br />NTDEC #08 = hard to track, it goes under CHR ROM.<br />NTDEC #13 = (see picture, #13 to SW Select 5V (CHR 32KB or smaller)&lt;-&gt;CHR A15(CHR 64KB+) ?? or... as an option to control mirroring when CHR RAM is used?? (second switch - CIRAM A10 to NTDEC #13 (CRAM)&lt;-&gt;CHR A10 (CROM))<br /><br />Interesting, because the 206 mapper does not have support for CHR RAM. The possible PCB was also designed for a different mapper with CHR RAM (Maybe some simplified MMC3 clone?? Or NTDEC8701 has support for CHR RAM..).

		
			<br clear="all" /><br />

			<table class="tablebg" width="100%" cellspacing="1">
			<tr>
				<td><b class="genmed">Attachments: </b></td>
			</tr>
			
				<tr>
					<td>
			<a href="./download/file.php?id=11187&amp;mode=view"><img src="./download/file.php?id=11187&amp;t=1" alt="NTDECpin13.jpg" /></a><br />
			<span class="gensmall">NTDECpin13.jpg [ 362.41 KiB | Viewed 1396 times ]</span>
		

		<br />
	</td>
				</tr>
			
			</table>
		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>NewRisingSun</b> [ Sun Dec 17, 2017 6:49 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Mapper 133 (Jovial Race)</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />That leaves no pin for PPU-A12 (Famicom Conn. #55). One of these must be PPU-A12.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>krzysiobal</b> [ Sun Dec 17, 2017 9:01 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Mapper 133 (Jovial Race)</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Ok, I am almost sure that this is the final pinout:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">PRG-A13&nbsp; 1&nbsp; 28 CPU-A14<br />PRG-A14&nbsp; 2&nbsp; 27 CPU-A13<br />PRG-A16&nbsp; 3&nbsp; 26 CPU-A0<br />PRG-A15&nbsp; 4&nbsp; 25 VCC<br />CHR-A14&nbsp; 5&nbsp; 24 CPU-!ROMSEL<br />CHR-A11&nbsp; 6&nbsp; 23 PRG-!OE<br />CHR-A13&nbsp; 7&nbsp; 22 M2<br />CHR-A12&nbsp; 8&nbsp; 21 CPU-R/!W<br />CPU-D2&nbsp; &nbsp;9&nbsp; 20 CPU-D0<br />CPU-D3&nbsp; 10&nbsp; 19 CPU-D5<br />CPU-D1&nbsp; 11&nbsp; 18 CPU-D4<br />GND&nbsp; &nbsp; &nbsp;12&nbsp; 17 PPU-A12<br />CHR-A15 13&nbsp; 16 PPU-A11<br />CHR-A10 14&nbsp; 15 PPU-A10<br /></div><br /><br /><a href="https://obrazki.elektroda.pl/2060590700_1513527643.png" class="postlink"><img src="https://obrazki.elektroda.pl/2060590700_1513527643_thumb.jpg" alt="Image" /></a> <a href="https://obrazki.elektroda.pl/6108415300_1513527648.png" class="postlink"><img src="https://obrazki.elektroda.pl/6108415300_1513527648_thumb.jpg" alt="Image" /></a> <br /><br />Last thing that does not match is this connection - this solder jumper selects mirroring, but there is no way for these 2 connections to exist and i have no idea how they could route it any other way:<br /><br />Really no chance to take multimeter and check for continuity?<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">NTDEC #13 = (see picture, #13 to SW Select 5V (CHR 32KB or smaller)&lt;-&gt;CHR A15(CHR 64KB+) ?? or... as an option to control mirroring when CHR RAM is used?? (second switch - CIRAM A10 to NTDEC #13 (CRAM)&lt;-&gt;CHR A10 (CROM))<br /></div><br />NTDEC #13 = CHR-A15. This solder switch at bottom layer just selects what is CHR.PIN1 driven with - CHR-A15 or <br />+5V (for CHR-ROM smaller than 64 KB, PIN1 is VPP and it should be tied to VCC)<br /><br />This mapper does not support mirroring select and mirroring is hardwired with the solder jumper at top layer.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Interesting, because the 206 mapper does not have support for CHR RAM. The possible PCB was also designed for a different mapper with CHR RAM (Maybe some simplified MMC3 clone?? Or NTDEC8701 has support for CHR RAM..)<br /></div><br />CHR-RAM or CHR-ROM is not a matter of mapper support. Any mapper can be used with CHR-RAM or CHR-ROM, just place CHR-RAM in place of CHR-ROM. However, this PCB was not designed for CHR-RAM because PPU_!WR at pin header is not routed to anything.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>NewRisingSun</b> [ Sun Dec 17, 2017 10:40 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Mapper 133 (Jovial Race)</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Thanks again, everyone! I have updated my post with the final analysis, in which no more unresolved points remain. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br /><br />For what it's worth, attached find a Nintendulator source file (edit: slight simplifcation update) that implements the board's functionality as described. Again, since that early release of <em>Jovial Race</em> also has the $4120 compatibility write, there is no reason to actually include this in an emulator. I wrote it to verify that the described logic yields a working emulation, and it does. (Should any undumped Sachen cart turn up that also uses this board type, and the game does <em>not</em> have a $4120 compatibility write, <em>then</em> this source file will become relevant for emulator authors.)

		
			<br clear="all" /><br />

			<table class="tablebg" width="100%" cellspacing="1">
			<tr>
				<td><b class="genmed">Attachments: </b></td>
			</tr>
			
				<tr>
					<td>
			<span class="genmed">
				<img src="./styles/subsilver2/imageset/icon_topic_attach.gif" width="14" height="18" alt="" title="" /> 
				<a href="./download/file.php?id=11196">mapper133alt.cpp</a> [1.23 KiB]
			</span><br />
			<span class="gensmall">Downloaded 57 times</span>
		

		<br />
	</td>
				</tr>
			
			</table>
		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>sdm</b> [ Sun Dec 17, 2017 12:42 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Mapper 133 (Jovial Race)</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">krzysiobal wrote:</div><div class="quotecontent">CHR-RAM or CHR-ROM is not a matter of mapper support. Any mapper can be used with CHR-RAM or CHR-ROM, just place CHR-RAM in place of CHR-ROM. However, this PCB was not designed for CHR-RAM because PPU_!WR at pin header is not routed to anything.</div><br /><br />I was talking about controlling the mirroring by the mapper chip.<br /><br />I wonder why is this switch / jumper (CIRAM A10-&gt;#13/CHR A10) here if it does not use CHR RAM?

		
			<br clear="all" /><br />

			<table class="tablebg" width="100%" cellspacing="1">
			<tr>
				<td><b class="genmed">Attachments: </b></td>
			</tr>
			
				<tr>
					<td>
			<a href="./download/file.php?id=11192&amp;mode=view"><img src="./download/file.php?id=11192&amp;t=1" alt="PICT0015.JPG" /></a><br />
			<span class="gensmall">PICT0015.JPG [ 712.63 KiB | Viewed 1330 times ]</span>
		

		<br />
	</td>
				</tr>
			
				<tr>
					<td>
			<a href="./download/file.php?id=11191&amp;mode=view"><img src="./download/file.php?id=11191&amp;t=1" alt="PICT0016.JPG" /></a><br />
			<span class="gensmall">PICT0016.JPG [ 723.75 KiB | Viewed 1330 times ]</span>
		

		<br />
	</td>
				</tr>
			
			</table>
		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>krzysiobal</b> [ Sun Dec 17, 2017 1:51 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Mapper 133 (Jovial Race)</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Thanks for photo without chips.<br />This jumper selects betwen Vertical/Single Screen mirroring (this cartridge is hardwired to Vertical, but in case of single screen mirroring, CHR-A15 bit could be used to control screen mirroring (0/1).<br /><br />Because PPU A13 is not connected to this chip, it cannot distinguish between access to pattern table ($0000-$1fff) and nametable ($2000-2fff), so CHR-A15 (upper CHR bit):<br />* set for bank $0000-$07ff will also set nametable at $2000 and $2400<br />* set for bank $0800-$0fff will also set nametable at $2800 and $2c00

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Sun Dec 17, 2017 1:54 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Mapper 133 (Jovial Race)</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">sdm wrote:</div><div class="quotecontent">I wonder why is this switch / jumper (CIRAM A10-&gt;#13/CHR A10) here if it does not use CHR RAM?<br /></div><div class="quotetitle">krzysiobal wrote:</div><div class="quotecontent">This jumper selects betwen Vertical/Single Screen mirroring (this cartridge is hardwired to Vertical, but in case of single screen mirroring, CHR-A15 bit could be used to control screen mirroring (0/1).</div>So it's for making pirate copies of mapper 95's Dragon Buster...

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>NewRisingSun</b> [ Mon Dec 18, 2017 2:09 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Mapper 133 (Jovial Race)</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">nesdev wiki wrote:</div><div class="quotecontent">If this feedback path doesn't settle on one specific register, then the selected banks will rapidly switch between all the registers specified by the feedback path, and the 108 clone will get hot. </div>I wonder how this relates to the delay that we had to add to the dumping script after setting up the four registers.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>krzysiobal</b> [ Mon Dec 18, 2017 6:21 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Mapper 133 (Jovial Race)</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Isn't the delay caused by the PRG-A15 transistor inverting circuit, which needs time to went out of saturation state?<br />There is even no capacitor in series with base resistor that could speed that up.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Mon Dec 18, 2017 11:01 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Mapper 133 (Jovial Race)</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">NewRisingSun wrote:</div><div class="quotecontent">I wonder how this relates to the delay that we had to add to the dumping script after setting up the four registers.<br /></div>You always wrote the same value (0) into those two bits in all four registers, so that shouldn't be relevant.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>2</strong> of <strong>2</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>