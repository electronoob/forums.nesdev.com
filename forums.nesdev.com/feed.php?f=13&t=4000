<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="http://forums.nesdev.com/feed.php?f=13&amp;t=4000" />

<title>nesdev.com</title>
<subtitle>NES Development and Strangulation Records message boards</subtitle>
<link href="http://forums.nesdev.com/index.php" />
<updated>2008-05-12T01:55:55-07:00</updated>

<author><name><![CDATA[nesdev.com]]></name></author>
<id>http://forums.nesdev.com/feed.php?f=13&amp;t=4000</id>
<entry>
<author><name><![CDATA[koitsu]]></name></author>
<updated>2008-05-12T01:55:55-07:00</updated>
<published>2008-05-12T01:55:55-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4000&amp;p=33382#p33382</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4000&amp;p=33382#p33382"/>
<title type="html"><![CDATA[Why do we block Google?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4000&amp;p=33382#p33382"><![CDATA[
<div class="quotetitle">Xkeeper wrote:</div><div class="quotecontent"><br />fwiw, you could block certain pages that are known to eat bandwidth, like viewtopic.php?p=* (and other things, and only let it archive forums and threads.<br /></div><br /><br />That doesn't work in the long-term.  The way things are currently work fine, and Google should be caching the forums (tepples can verify the robots.txt is gone).  The amount of bandwidth this site gets is pretty astounding considering how "niche" it is.  People don't understand how expensive bandwidth is.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3">koitsu</a> — Mon May 12, 2008 1:55 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Xkeeper]]></name></author>
<updated>2008-05-06T19:40:28-07:00</updated>
<published>2008-05-06T19:40:28-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4000&amp;p=33293#p33293</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4000&amp;p=33293#p33293"/>
<title type="html"><![CDATA[Why do we block Google?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4000&amp;p=33293#p33293"><![CDATA[
fwiw, you could block certain pages that are known to eat bandwidth, like viewtopic.php?p=* (and other things, and only let it archive forums and threads.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3491">Xkeeper</a> — Tue May 06, 2008 7:40 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[koitsu]]></name></author>
<updated>2008-03-30T15:35:03-07:00</updated>
<published>2008-03-30T15:35:03-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4000&amp;p=32167#p32167</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4000&amp;p=32167#p32167"/>
<title type="html"><![CDATA[Why do we block Google?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4000&amp;p=32167#p32167"><![CDATA[
<div class="quotetitle">tepples wrote:</div><div class="quotecontent"><br />There are ways to automate turning the SQL into static data, and I know some boards do this for some sort of "lo-fi version" of each thread that gets sent to the search engines.<br /><br />But at this point, never mind.<br /></div><br /><br />Yep, I'm well aware that there's ways to do what you've described, but 1) I doubt the existing board software here has native capability for such (or if it does, in a way that can be done automatically on a nightly basis), 2) I'm unaware of any software that can scrape the SQL tables for an old phpBB forum and create static files for it all.  If you know of such software, awesome -- or if you feel like writing it, equally as awesome -- sounds like a good project for you to take on.  Pass the idea by Memblers.  He runs the site, I just run the server / network.  :)<br /><br />I would be more than happy to incorporate the data into the cronjob we have that makes the weekly ZIP (or even offer a separate ZIP file for just the board).<br /><br />The only reason I'm offering the weekly ZIP is because Memblers and I both felt it might keep people from downloading the entire sites' content on a regular basis.  It has helped -- there's even someone that mirrors that ZIP file on a weekly basis (they fetch it once a week a few hours after we automatically update it).  But sadly it doesn't stop people who use leech software (not the mention ones which forge their User-Agent!) against <!-- m --><a class="postlink" href="http://nesdev.com/">http://nesdev.com/</a><!-- m --> and then don't bother to look at it what the client is doing for 24+ hours (since they all get stuck in infinite loops once they hit the web boards).<br /><br />EDIT: I thought about this a little bit more.  I'm going to try an experiment for you, tepples.  I'm going to remove the robots.txt for the next 3-4 weeks and watch our bandwidth usage closely.  I put the robots.txt in place back in February of 2007, so it's possible Google and others have fixed their crawling software within the past year.  If things get bad, obviously I'll put it back, but I'm willing to try an experiment for now.<br /><br />Let me know how things look in a few days (I forget how often Google runs their scrapes).<br /><br />P.S. -- Looks like they finally stopped: <a href="http://jdc.parodius.com/lj/china_incident/dropped_packets_0330_1523.png" class="postlink">http://jdc.parodius.com/lj/china_incident/dropped_packets_0330_1523.png</a><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3">koitsu</a> — Sun Mar 30, 2008 3:35 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2008-03-30T05:08:26-07:00</updated>
<published>2008-03-30T05:08:26-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4000&amp;p=32154#p32154</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4000&amp;p=32154#p32154"/>
<title type="html"><![CDATA[Why do we block Google?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4000&amp;p=32154#p32154"><![CDATA[
There are ways to automate turning the SQL into static data, and I know some boards do this for some sort of "lo-fi version" of each thread that gets sent to the search engines.<br /><br />But at this point, never mind.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Sun Mar 30, 2008 5:08 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[koitsu]]></name></author>
<updated>2008-03-29T16:37:25-07:00</updated>
<published>2008-03-29T16:37:25-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4000&amp;p=32145#p32145</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4000&amp;p=32145#p32145"/>
<title type="html"><![CDATA[Why do we block Google?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4000&amp;p=32145#p32145"><![CDATA[
<div class="quotetitle">tepples wrote:</div><div class="quotecontent"><br /><div class="quotetitle">koitsu wrote:</div><div class="quotecontent">There's a **lot** of people who have done this over the years; it's why Memblers put the "Do not download full copies of the site through the webserver. Use the FTP mirror" note on the main page.  That ZIP file is updated weekly, and automatically.<br /></div><br />As far as I can tell, the forum is the most interesting part of the site, especially because the front page is years out of date. But I just downloaded all 70 MB of the site's archive over FTP five minutes ago, and a static copy of /bbs/ isn't in there.</div><br /><br />Correct, it's not there, because there's no easy way possible to archive that in a way that will be user-friendly, nor a way to easily automate the process.  The web board isn't stored in flat files, it's all SQL-based.  What exactly do you want me to do about it?<br /><br />If I remove robots.txt, are you willing to pay the 95th-percentile overusage fees from my co-location provider?  Because honestly that's the only way this is going to work in a way that makes you happy.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3">koitsu</a> — Sat Mar 29, 2008 4:37 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2008-03-29T13:36:15-07:00</updated>
<published>2008-03-29T13:36:15-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4000&amp;p=32141#p32141</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4000&amp;p=32141#p32141"/>
<title type="html"><![CDATA[Why do we block Google?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4000&amp;p=32141#p32141"><![CDATA[
<div class="quotetitle">koitsu wrote:</div><div class="quotecontent"><br />There's a **lot** of people who have done this over the years; it's why Memblers put the "Do not download full copies of the site through the webserver. Use the FTP mirror" note on the main page.  That ZIP file is updated weekly, and automatically.<br /></div><br />As far as I can tell, the forum is the most interesting part of the site, especially because the front page is years out of date. But I just downloaded all 70 MB of the site's archive over FTP five minutes ago, and a static copy of /bbs/ isn't in there.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Sat Mar 29, 2008 1:36 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[koitsu]]></name></author>
<updated>2008-03-29T13:28:59-07:00</updated>
<published>2008-03-29T13:28:59-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4000&amp;p=32140#p32140</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4000&amp;p=32140#p32140"/>
<title type="html"><![CDATA[Why do we block Google?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4000&amp;p=32140#p32140"><![CDATA[
<div class="quotetitle">MottZilla wrote:</div><div class="quotecontent"><br />What's the point of these people leeching? They just want to download the entire site for some reason? Just greedy/selfish people?<br /></div><br /><br />I don't know, you'd have to ask them.<br /><br />There's a **lot** of people who have done this over the years; it's why Memblers put the "Do not download full copies of the site through the webserver. Use the FTP mirror" note on the main page.  That ZIP file is updated weekly, and automatically.  I did it solely so people would stop leeching the site, but I guess that's wishful thinking on my part.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3">koitsu</a> — Sat Mar 29, 2008 1:28 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[MottZilla]]></name></author>
<updated>2008-03-29T13:08:11-07:00</updated>
<published>2008-03-29T13:08:11-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4000&amp;p=32137#p32137</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4000&amp;p=32137#p32137"/>
<title type="html"><![CDATA[Why do we block Google?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4000&amp;p=32137#p32137"><![CDATA[
What's the point of these people leeching? They just want to download the entire site for some reason? Just greedy/selfish people?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=1726">MottZilla</a> — Sat Mar 29, 2008 1:08 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[koitsu]]></name></author>
<updated>2008-03-29T09:47:10-07:00</updated>
<published>2008-03-29T09:47:10-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4000&amp;p=32131#p32131</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4000&amp;p=32131#p32131"/>
<title type="html"><![CDATA[Why do we block Google?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4000&amp;p=32131#p32131"><![CDATA[
<div class="quotetitle">blargg wrote:</div><div class="quotecontent"><br />Too bad there's no way to have something watch for excessive usage like this and simply shut down the entire site until a human can figure out what to block. Makes me angry hearing about it.<br /></div><br /><br />The part I'm still trying to figure out is how they managed to get that amount of network I/O out of us.<br /><br />The nesdev site is rate-limited to ~50KBytes/sec (shared across all visitors -- yes, that's why the site seems slow sometimes), which means technically it shouldn't have exceeded 384kbit/sec.  I'm thinking there's a bug in the bandwidth limiting module we use, and if that's the case, I have another I can try -- or I'll just end up sticking the site on it's own IP and use ALTQ in the network stack to do the rate-limiting.<br /><br />Alternatives I've come up with, none of which are very user-friendly:<br /><br />1) Use a module which limits the number of requests-per-second submit per IP address; if they exceed the limit, they're blocked for something like 5-10 minutes.  The problem with that method is that it can sometimes go awry (and I've seen it happen on sites I've visited), especially if someone loads different pages of the site in multiple tabs or windows.<br /><br />It also doesn't solve issues like what happened this morning, because the requests being made by the leechers still come in and hit the webserver, and it still has to spit back some brief HTML saying they've been blocked temporarily.  This doesn't stop the requests.<br /><br />2) Use a module which limits the total site bandwidth to X number of kilobytes per minute/hour/day/week/month.  If this number is exceeded, the site essentially shuts down hard until the limit is reset (by me).  You might've seen this on some web pages out there, where you get a brief HTML message saying "Bandwidth Exceeded".<br /><br />The problem with this is that all it takes is some prick downloading the entire site (which happens regularly) with wget or some *zilla downloader, and then the site goes offline for everyone until I get around to noticing or someone contacts me to reset the limit.<br /><br />There's really no decent solution to this problem, folks, at least not one that's ultimately user-friendly, while still being resource-friendly and won't financially screw me into oblivion.<br /><br />P.S. -- <a href="http://jdc.parodius.com/lj/china_incident/dropped_packets_0329_0950.png" class="postlink">http://jdc.parodius.com/lj/china_incident/dropped_packets_0329_0950.png</a> shows that the leechers *still* have not shut off their leeching programs.<br /><br />EDIT: I figured out how the leechers managed to get past the bandwidth limit.  The bandwidth limiting module we were using was setting the total amount of bandwidth per user to 384kbit, not for the entire site.  Thus, multiple simultaneously connections could indeed reach 2mbit.  For those who are technical, the module I was using was mod_bw.  The documentation for this module is badly written; once I went back and re-read the docs for the directive, I realised "Oh, so THAT'S what they mean... ugh."<br /><br />I've addressed this by switching to mod_cband, which lets you set a maximum bandwidth limit for a site as a total, not per-client.<br /><br />Also, looks like some of the leechers have finally noticed and stopped fetching data: <a href="http://jdc.parodius.com/lj/china_incident/dropped_packets_0329_1054.png" class="postlink">http://jdc.parodius.com/lj/china_incident/dropped_packets_0329_1054.png</a>.  Now all I'm left wondering is if they're just going to find other machines to do this from...<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3">koitsu</a> — Sat Mar 29, 2008 9:47 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[NotTheCommonDose]]></name></author>
<updated>2008-03-29T09:27:56-07:00</updated>
<published>2008-03-29T09:27:56-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4000&amp;p=32129#p32129</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4000&amp;p=32129#p32129"/>
<title type="html"><![CDATA[Why do we block Google?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4000&amp;p=32129#p32129"><![CDATA[
Yes.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=748">NotTheCommonDose</a> — Sat Mar 29, 2008 9:27 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Zepper]]></name></author>
<updated>2008-03-29T08:31:06-07:00</updated>
<published>2008-03-29T08:31:06-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4000&amp;p=32127#p32127</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4000&amp;p=32127#p32127"/>
<title type="html"><![CDATA[Why do we block Google?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4000&amp;p=32127#p32127"><![CDATA[
<div class="quotetitle">NotTheCommonDose wrote:</div><div class="quotecontent"><br />I fell every site on earth should be on Google always because everyone has the right to knowledge and information.<br /></div><br /><br />...and downloads? And leeching?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=39">Zepper</a> — Sat Mar 29, 2008 8:31 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[NotTheCommonDose]]></name></author>
<updated>2008-03-29T08:29:04-07:00</updated>
<published>2008-03-29T08:29:04-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4000&amp;p=32126#p32126</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4000&amp;p=32126#p32126"/>
<title type="html"><![CDATA[Why do we block Google?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4000&amp;p=32126#p32126"><![CDATA[
I fell every site on earth should be on Google always because everyone has the right to knowledge and information.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=748">NotTheCommonDose</a> — Sat Mar 29, 2008 8:29 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[blargg]]></name></author>
<updated>2008-03-29T07:11:53-07:00</updated>
<published>2008-03-29T07:11:53-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4000&amp;p=32125#p32125</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4000&amp;p=32125#p32125"/>
<title type="html"><![CDATA[Why do we block Google?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4000&amp;p=32125#p32125"><![CDATA[
Too bad there's no way to have something watch for excessive usage like this and simply shut down the entire site until a human can figure out what to block. Makes me angry hearing about it.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=17">blargg</a> — Sat Mar 29, 2008 7:11 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[koitsu]]></name></author>
<updated>2008-03-29T04:30:00-07:00</updated>
<published>2008-03-29T04:30:00-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4000&amp;p=32124#p32124</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4000&amp;p=32124#p32124"/>
<title type="html"><![CDATA[Why do we block Google?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4000&amp;p=32124#p32124"><![CDATA[
It isn't specific to this site, it's specific to all the sites on the Parodius Network.  It's a global robots.txt.<br /><br />I did this because archival bots -- including Googles -- gets stuck in infinite loops when fetching content from message boards, and have awful problems dealing with sites that have multiple Host entries which point to the same content (nesdev.com vs. nesdev.com, etc.).  The bandwidth usage is the main one.<br /><br />We just had this happen tonight with a bunch of Chinese IPs.  For the past 10 hours they've been pounding the nesdev site, and we've been spitting out up to 2mbit/sec worth of traffic for about 10 hours.  I would have noticed sooner except I was sleeping.  Did they honour robots.txt?  Nope.  It was a distributed leech session across multiple IPs within China, which means it was probably compromised machines being used to download content.<br /><br />This is very likely going to cost me hundreds of dollars in 95th percentile overusage payments with the co-location provider.<br /><br />EDIT: I've uploaded pictures of the incident tonight, to give you some idea what happens to the server, to the network, and to the firewall state tables when leeching or webcrawler bot software encounters message boards.  As you can see, I had to firewall off portions of China to alleviate the problem (using deny statements in Apache doesn't help -- they don't honour anything other than HTTP 404, so the only way to stop them is to block their packets).<br /><br /><a href="http://jdc.parodius.com/lj/china_incident/" class="postlink">http://jdc.parodius.com/lj/china_incident/</a><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3">koitsu</a> — Sat Mar 29, 2008 4:30 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[NotTheCommonDose]]></name></author>
<updated>2008-03-25T12:03:34-07:00</updated>
<published>2008-03-25T12:03:34-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4000&amp;p=32042#p32042</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4000&amp;p=32042#p32042"/>
<title type="html"><![CDATA[Why do we block Google?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4000&amp;p=32042#p32042"><![CDATA[
It would be nice if Google was able to find this place.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=748">NotTheCommonDose</a> — Tue Mar 25, 2008 12:03 pm</p><hr />
]]></content>
</entry>
</feed>