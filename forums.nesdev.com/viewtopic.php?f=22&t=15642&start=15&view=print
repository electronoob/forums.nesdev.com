<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - &quot;City Trouble&quot; by Den Kat Games</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">&quot;City Trouble&quot; by Den Kat Games</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=22&amp;t=15642">http://forums.nesdev.com/viewtopic.php?f=22&amp;t=15642</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>2</strong> of <strong>3</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>calima</b> [ Sun Sep 03, 2017 11:18 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: &quot;City Trouble&quot; by Den Kat Games</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />If you wrap it in ggvm like Owlia, the ROM can't be extracted from it.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>DRW</b> [ Sun Sep 03, 2017 11:31 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: &quot;City Trouble&quot; by Den Kat Games</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">maseter wrote:</div><div class="quotecontent">For example, i played the legends of owlia demo in an emulator, and bought the game on steam.</div><br />&quot;Legends of Owlia&quot; is a huge game, so a demo makes sense.<br />This one here is a small highscore game. Complexity-wise, it's comparable to &quot;Kung Fu&quot;. Demo versions don't make sense for these kind of games.<br /><br />If you want to know whether this kind of gameplay interests you, the following video should suffice:<br /><!-- w --><a class="postlink" href="http://www.youtube.com/watch?v=Eee0yurkIW4">www.youtube.com/watch?v=Eee0yurkIW4</a><!-- w --><br /><br /><div class="quotetitle">maseter wrote:</div><div class="quotecontent">And without a rom nobody can start working on a nude patch... <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /></div><br />If anybody's really that desperate to wank to a 16 x 36 pixel sprite, I guess he doesn't necessarily need the game. He can just as well alter the sprite in an image file.<br /><br />Here, have fun. <img src="./images/smilies/icon_mrgreen.gif" alt=":mrgreen:" title="Mr. Green" /><br /><div class="attachtitle">Attachment:</div><div class="attachcontent">
			<img src="./download/file.php?id=10030" alt="Amy.png" /><br />
			<span class="gensmall">Amy.png [ 1.4 KiB | Viewed 1663 times ]</span>
		

		<br />
	</div><br /><br /><div class="quotetitle">calima wrote:</div><div class="quotecontent">If you wrap it in ggvm like Owlia, the ROM can't be extracted from it.</div><br />This might be an option. I'd first have to check out how this works, though, since GradualGames said that customization is necessary.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Sun Sep 03, 2017 2:30 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: &quot;City Trouble&quot; by Den Kat Games</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The other way, because you wrote it in C, is to keep the game logic and write a new display engine that uses good old SDL.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>DRW</b> [ Sun Sep 03, 2017 3:01 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: &quot;City Trouble&quot; by Den Kat Games</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">The other way, because you wrote it in C, is to keep the game logic and write a new display engine that uses good old SDL.</div><br />Meh. That won't happen.<br /><br />I didn't do a clear separation of game logic vs. display logic simply because such a separation would take too much CPU time away in an NES game.<br /><br />For example, the current animation phase of a character is stored as a pointer that points to an array that has all the actual PPU tile numbers for drawing that character plus palette and size information.<br />The current animation phase in the game logic isn't just an ID which the drawing logic uses to find the drawing data in a lookup table. The current animation phase is an actual pointer to an array of NES-specific data with numbers that refer to pattern tables and palettes.<br /><br />How should I convert this to SDL?<br />Should I create the drawing logic as actually puzzling together 8x8 tiles and coloring them on the fly, even though in an SDL game, each character animation phase could be simply stored in a full bitmap file?<br />Or should I change the meta sprite definitions from a data array to an SDL_Surface (or whatever is used for that)? This way I would have to fiddle with actual variables in data structs that also store purely logic-based things.<br /><br />Same with the background: The way each slice of a house looks like is actually stored with the corresponding tile values.<br />And palette information is stored with the NES' specific layout of palette data where one byte stands for a 32x32 pixel area on the screen.<br />And for drawing tiles anywhere on the screen, like the title screen artwork, I use the first two bytes to actually specify the current drawing starting address of the PPU. I don't specify the x and y tile coordinate of a background tile, I specify the actual PPU address for it.<br /><br />In any case, porting the game to the PC would not be just cleanly switching out some of the low level files and keeping everything else the same. It would require manually editing stuff in several different files.<br />Or it would require the drawing logic to behave like the NES PPU.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Alp</b> [ Sun Sep 03, 2017 9:36 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: &quot;City Trouble&quot; by Den Kat Games</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">DRW wrote:</div><div class="quotecontent">If anybody's really that desperate to wank to a 16 x 36 pixel sprite, I guess he doesn't necessarily need the game. He can just as well alter the sprite in an image file.<br /><br />Here, have fun. <img src="./images/smilies/icon_mrgreen.gif" alt=":mrgreen:" title="Mr. Green" /></div><br />Well, if you insist! <img src="./images/smilies/icon_wink.gif" alt=":wink:" title="Wink" /><br /><br />I had a few minutes to kill before bed, so I roughed out a quick sex loop, in an approximation of your sprite style.<br />I was going to mock up a full scene, but ran out of time. It's also rough around the edges, but... meh.<br /><br />Here's an external link, to the GIF on Imgur: (NSFW!)<br /><a href="https://i.imgur.com/5Vvtnne.gif" class="postlink">https://i.imgur.com/5Vvtnne.gif</a><br /><br />Enjoy! <img src="./images/smilies/icon_razz.gif" alt=":P" title="Razz" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>DRW</b> [ Mon Sep 04, 2017 12:33 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: &quot;City Trouble&quot; by Den Kat Games</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I can't believe it. He actually did this.<br /><br />Don't let my graphics artist see this image.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Gilbert</b> [ Mon Sep 04, 2017 1:56 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: &quot;City Trouble&quot; by Den Kat Games</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Without the other elements, you may interpret the character as changing to a flesh coloured overall and banging her head though. May work as a head butt move.  <img src="./images/smilies/icon_rolleyes.gif" alt=":roll:" title="Rolling Eyes" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>DRW</b> [ Sun Sep 17, 2017 6:46 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: &quot;City Trouble&quot; by Den Kat Games</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I've got a question to the people who bought the game:<br /><br />Has anybody played the cartidge on an AVS? If yes, have you experienced the problem that you can start the game, but once the level starts, the character cannot be controlled?<br /><br />John Hancock made a video about our game:<br /><br /><!-- w --><a class="postlink" href="http://www.youtube.com/watch?v=13_lHMATrt8">www.youtube.com/watch?v=13_lHMATrt8</a><!-- w --><br /><br />And he experienced this very problem on the AVS.<br /><br />My graphics artist tried it on her AVS and there was no issue. And I have never seen anything like that on a real NES anyway.<br /><br />So, now I want to find out whether it's a compatibility issue with the AVS (maybe only for older revisions) or whether John got a faulty cartridge or whatever else is possible.<br /><br />Also, did anybody of you ever experience this issue on a real NES?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>dougeff</b> [ Sun Sep 17, 2017 9:38 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: &quot;City Trouble&quot; by Den Kat Games</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I don't have an AVS. But, logically... if this was a common problem, I would think you would have had complaints from more customers.<br /><br />I would have this person send it back to you, and then locate someone nearby who has an AVS. (If you're in Germany, I know at least 1 person there who has one)...and see if it's an AVS specific problem.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>DRW</b> [ Sun Sep 17, 2017 10:57 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: &quot;City Trouble&quot; by Den Kat Games</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />In the moment, my primary suspicion is AVS revisions.<br />John's AVS is from the first batch.<br />Both, my publisher and my graphics artist checked the game and didn't see the issue. My graphics artist's AVS is definitely from a later batch.<br /><br />I wrote a mail to bunnyboy about AVS revisions.<br />If he tells me that they improved the nine sprites overflow bit behavior, then this might be the solution because that's exactly the rarely-used, obscure feature that I need to do parallax scrolling, so that's probably where the game freezes if the feature isn't properly implemented in the console.<br />Since the music keeps playing (music update happens in every NMI, even if everything else in NMI is skipped because the game logic isn't ready yet), John probably thought the game didn't freeze and it's only the controls that don't work.<br /><br />If it was a cartridge problem (Pretty unlikely, why would faulty hardware produce section-specific input bugs?), I would simply let him send it back to the publisher and let the publisher test it.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Sun Sep 17, 2017 12:48 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: &quot;City Trouble&quot; by Den Kat Games</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Does the customer have a PowerPak? And are there up-to-date test ROMs for the sprite limit bit?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>DRW</b> [ Sun Sep 17, 2017 2:15 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: &quot;City Trouble&quot; by Den Kat Games</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I don't know whether he has a PowerPak.<br /><br />For the ROM, I could probably create one.<br /><br />The current thing that I asked him is whether he would be willing to update the firmware on his AVS.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>toggle switch</b> [ Sun Sep 17, 2017 3:07 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: &quot;City Trouble&quot; by Den Kat Games</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />if sprite overflow is the problem, perhaps he has the 16 sprite per scanline option selected?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>DRW</b> [ Sun Sep 17, 2017 3:17 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: &quot;City Trouble&quot; by Den Kat Games</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />But shouldn't the sprite overflow bit still be triggered at nine sprites, independent from how many sprites are actually capable to be shown on screen?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>DRW</b> [ Sun Sep 17, 2017 4:59 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: &quot;City Trouble&quot; by Den Kat Games</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Somebody just confirmed me that it's indeed the AVS 16 sprites option.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>2</strong> of <strong>3</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>