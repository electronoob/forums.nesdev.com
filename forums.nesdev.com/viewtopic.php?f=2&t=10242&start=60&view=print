<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - uc65, a Mid-Level Language Compiler READY FOR USE!</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">uc65, a Mid-Level Language Compiler READY FOR USE!</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=2&amp;t=10242">http://forums.nesdev.com/viewtopic.php?f=2&amp;t=10242</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>5</strong> of <strong>11</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>qbradq</b> [ Thu Oct 31, 2013 11:28 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: uc65, a Mid-Level Language Compiler  for the cc65 Toolch</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Necro-Post for great justice!<br /><br />I'm not dead yet! Due to issues at work I'm basically working double-time until the end of January to take up some slack, so I've not been able to do many side projects of late, and unfortunately uc65 hasn't come back to the top of the stack.<br /><br />All of my side work continues to be in the 6502 machine space. I've done some work on a prototype Apple II RPG using Integer BASIC as a glue language with assembly routines and learned a lot (hint: it's too slow). I'm now giving myself a proper education in digital logic design and synthesis, and working on a 6502 software-compatible soft processor.<br /><br />I've come to a kind of peace with my frustrations over the NES platform. Through my learnings about microprocessors, I've come to understand that the 6502 is a very special breed of MPU. It was designed to be coded in assembly. Higher-level languages were never considered at the hardware level, and as such the kind of higher-level languages you can create for it are either non-optimal as is the case with C or BASIC, or closely resemble assembly like uc65 does.<br /><br />I've also had to learn z/370 assembly for my professional life. I totally felt like a boss when I learned it in under a day thanks to my familiarity with the 6502 architecture <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /> That experience has given me a number of insights into the technologies of the late 1970's and the development practices that were common at the time.<br /><br />All of this has lead me to a new vision of the NES as a platform, one that I'm sure many of the more productive members of our community have shared for some time: The NES is what it is. Love it or hate it, but don't try to change it.<br /><br />I'll be sharing my other project when I'm ready to show it off, and I'm sure my next project will be NES-related, but I think the uc65 concept is misguided. It's better-guided that other high-level languages for the 6502, but that's a personal opinion <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>darkhog</b> [ Fri Nov 01, 2013 6:05 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: uc65, a Mid-Level Language Compiler  for the cc65 Toolch</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Suggestion: How about releasing IDE for uc65, when uc65.jar is executed without parameters? I've done Java programming in the past so I could make it (though no screen/chr editors). I am pretty well aquainted with Swing, so if you want help on that...

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Fri Nov 01, 2013 6:20 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: uc65, a Mid-Level Language Compiler  for the cc65 Toolch</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Better yet, figure out how to link it into an existing IDE like Eclipse or NetBeans.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>darkhog</b> [ Fri Nov 01, 2013 9:34 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: uc65, a Mid-Level Language Compiler  for the cc65 Toolch</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Eclipse/NetBeans aren't well-suited for such low-level languages. Better is to make new IDE, like Nesicide did (though linking it to NESICIDE would be easy, I think).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>infiniteneslives</b> [ Sat Nov 02, 2013 9:39 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: uc65, a Mid-Level Language Compiler  for the cc65 Toolch</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Brings me sorrow to hear this, but I understand your viewpoint on the matter.  Any thoughts to sharing sources so someone could attempt to pickup where they left off if they cared to?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>qbradq</b> [ Sun Nov 03, 2013 11:35 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: uc65, a Mid-Level Language Compiler  for the cc65 Toolch</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />uc65 has always been 100% open-source. The first post has links to the project page at Google Code, which hosts all of the source code for the compiler and documentation in an SVN repository. Each download .zip also contained a snapshot of the source code.<br /><br />I think the best way to get more out of a high-level language on the NES is to follow in the footsteps the SNES. Many titles for the SNES included co-processors on the cartridge to improve computational performance. Although most folks are familiar with the example of StarFox and the SuperFX chip, this practice was more common on high-end titles that some realize. Co-processors were used in titles such as Doom, Winter Gold, Super Mario World 2, Dungeon Master, Mega Man X2 and X3 and even the venerable Super Mario Kart.<br /><br />The example that really sticks in my mind is Super Mario RPG: Legend of the Seven Stars. It utilized the SA-1 enhancement chip, which is a 65816-variant microcontroller clocked at 10Mhz. I think something similar could be a good platform for NES development in higher-level languages with established toolchains.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>qbradq</b> [ Mon Nov 04, 2013 7:10 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: uc65, a Mid-Level Language Compiler  for the cc65 Toolch</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Right, so after thinking about writing a better glue language for my above-mentioned RPG project, I picked up uc65 again <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /> I still insist that the idea of attempting to make an efficient higher-level language on the 6502 is missing the point, but the idea of using uc65 as a more efficient glue language is looking very promising indeed.<br /><br />I've written a basic test ROM with the 0.4 release candidate. It's in subversion now. It displays a very basic star field with a small sprite controllable with the D-pad. There's a few assembly blocks thrown about to do some lower-level things like reading the controller port and initializing the PPU and RAM, but the higher-level constructs have really proven themselves to be valuable to me.<br /><br />Comparing the experience of writing this small program to the small programs I wrote in Integer BASIC, I'd have to say I found uc65 to be more palatable albeit less approachable.<br /><br />Two major parser defects related to subroutine definitions were discovered while working on the test program, so I'll be correcting those before doing any work on version 0.5. I'm not exactly sure how often I'll be working on uc65 until my workload eases, but I'll be keeping SVN updated.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Tue Nov 05, 2013 7:12 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: uc65, a Mid-Level Language Compiler  for the cc65 Toolch</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">qbradq wrote:</div><div class="quotecontent">the 6502 is a very special breed of MPU. It was designed to be coded in assembly. Higher-level languages were never considered at the hardware level, and as such the kind of higher-level languages you can create for it are either non-optimal as is the case with C or BASIC, or closely resemble assembly like uc65 does.</div><br />That or it just won't look like C or BASIC. David A. Wheeler, the fellow who <a href="http://www.dwheeler.com/trusting-trust/" class="postlink">defeated</a> Ken Thompson's <a href="http://c2.com/cgi/wiki?TheKenThompsonHack" class="postlink">trusting trust attack</a>, has made a <a href="http://www.dwheeler.com/6502/" class="postlink">list of specialized approaches to high(er) level language implementation</a>. You might want to consider some of these approaches if you haven't already.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>qbradq</b> [ Tue Nov 05, 2013 9:03 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: uc65, a Mid-Level Language Compiler  for the cc65 Toolch</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Thanks for the link Tepples! I did read a lot of David's papers during my first go at writing a compiled language for the 6502. This reading is what eventually lead me to the core technique used in uc65: stackless overlapping global memory allocation. It also inspired the idea of confining the language primitives to only those that could be efficiently implemented in hardware.<br /><br />I had never seen this paper until today though. Thanks for the link! I need to comb his site over a bit more carefully.<br /><br />Also updated the first post with the official binary release of version 0.4 with bug fixes and all, including an example program that does NES initialization, display and control. There's even a build script <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>qbradq</b> [ Sun Nov 10, 2013 3:15 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: uc65, a Mid-Level Language Compiler  for the cc65 Toolch</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I am proud to announce the availability of Release Candidate 1 for version 0.5 of uc65. I've added composite types (think C structs), arrays of composites, static data primitives, the Address data type and dereferencing (indirect addressing), self-assignment shorthand operators and a host of new optimization techniques to make these new features efficient.<br /><br />As always I have updated the first post with a new binary package. The project page also has the latest source code, documentation and binaries. If anyone is interested, please give it a try and let me know if you have any trouble, feedback or feature requests.<br /><br />At this point I have implemented every language feature that I had originally designed, as well as a few others that were added during development. There's a few other features on the maybe pile, but from a language standpoint it is now feature-complete! WOOT!<br /><br />I will be using the current version to make some test ROMs for my development flash cart. I hope to find any remaining defects during this phase. Following that I'll be working on release 0.6, which will implement features of the compiler to support large-scale development. These include features to support development across multiple source files, a build management system to automate target architecture and MMU selection and integration, and a set of standard libraries for the NES.<br /><br />After the completion of the 0.6 release candidate I plan to use the compiler to create my entry for the 2014 NESDev competition.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>infiniteneslives</b> [ Sun Nov 10, 2013 3:56 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: uc65, a Mid-Level Language Compiler  for the cc65 Toolch</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Most excellent news!  Glad to see things revived even better than before.  Earlier today I was trying to decide which route to go with my compo entry deciding between assembly and C.  With your decision to go with uc65 for your entry, I'm thinking I'll follow suit and go with uc65 as well. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>qbradq</b> [ Sun Nov 10, 2013 6:58 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: uc65, a Mid-Level Language Compiler  for the cc65 Toolch</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Wow, that's really encouraging to hear! Just keep in mind that as of now there's no support for multiple source files, and everything has to be defined before it's referenced. The 0.6 release will address these two pain points. I can't give any promises when that will come though due to the craziness of my work. I was blessed with a soft week last week <img src="./images/smilies/icon_wink.gif" alt=";)" title="Wink" /><br /><br />It's interesting how this project is coming along. My attitude toward the approach has done a 180, but it hasn't changed the requirements or the effectiveness of the solution <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>cpow</b> [ Sun Nov 10, 2013 9:20 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: uc65, a Mid-Level Language Compiler  for the cc65 Toolch</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">qbradq wrote:</div><div class="quotecontent">It's interesting how this project is coming along. My attitude toward the approach has done a 180, but it hasn't changed the requirements or the effectiveness of the solution <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /></div><br />Seems like it'd be easy to integrate into NESICIDE if it supports CC65 debuginfo.  I'm all for providing user alternatives...even if I prefer C or assembly at the moment.  Not that I've actually *produced* anything.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>darkhog</b> [ Mon Nov 11, 2013 4:56 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: uc65, a Mid-Level Language Compiler  for the cc65 Toolch</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Cool! After 0.6 will be done, maybe we could do community library that would allow less knowledgeable people make NES games? It'll be just bunch of assembly wrapped into functions like initializeRAM(), readControler1(int button), etc.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>qbradq</b> [ Mon Nov 11, 2013 5:44 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: uc65, a Mid-Level Language Compiler  for the cc65 Toolch</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">darkhog wrote:</div><div class="quotecontent">Cool! After 0.6 will be done, maybe we could do community library that would allow less knowledgeable people make NES games? It'll be just bunch of assembly wrapped into functions like initializeRAM(), readControler1(int button), etc.</div><br /><br />That's the idea, yes. You can do those things now without using assembly, but you still have to know the details of the hardware. The community would be able to produce libraries and application frameworks that abstract the user away from the more complex hardware details.<br /><br />Honestly though, cc65 is better suited for folks that don't want to get down into the assembly and hardware details. uc65 is more of a productivity suite for assembly hackers <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>5</strong> of <strong>11</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>