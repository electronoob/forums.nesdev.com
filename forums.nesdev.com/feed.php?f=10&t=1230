<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="http://forums.nesdev.com/feed.php?f=10&amp;t=1230" />

<title>nesdev.com</title>
<subtitle>NES Development and Strangulation Records message boards</subtitle>
<link href="http://forums.nesdev.com/index.php" />
<updated>2006-03-18T13:31:58-07:00</updated>

<author><name><![CDATA[nesdev.com]]></name></author>
<id>http://forums.nesdev.com/feed.php?f=10&amp;t=1230</id>
<entry>
<author><name><![CDATA[Bregalad]]></name></author>
<updated>2006-03-18T13:31:58-07:00</updated>
<published>2006-03-18T13:31:58-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=1230&amp;p=10929#p10929</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=1230&amp;p=10929#p10929"/>
<title type="html"><![CDATA[Collision aliasing?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=1230&amp;p=10929#p10929"><![CDATA[
I never played any Sonic game, so I cannot judge. I just don't like Mario Bross too much. Well, the game can be fun, but there is a lot of games that are way better on the NES (or SNES) like Contra, Megaman, Castlevania, Battletoads, ...<br />I don't know why everyone is so much stuck with Mario Bross.<br /><br />Platformers isn't my favourite genre tough, I like RPGs much better, but good platformers can be very fun too. A flaw in control is cataclismic for platformers, but isn't too bad on RPGs. However, a flaw in game design is fastly cataclismic in a RPG.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=38">Bregalad</a> — Sat Mar 18, 2006 1:31 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tokumaru]]></name></author>
<updated>2006-03-18T11:38:42-07:00</updated>
<published>2006-03-18T11:38:42-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=1230&amp;p=10927#p10927</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=1230&amp;p=10927#p10927"/>
<title type="html"><![CDATA[Collision aliasing?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=1230&amp;p=10927#p10927"><![CDATA[
Could you even *imagine* Sonic without acceleration?! That's one of the greatest platformers ever. And not hard to control once you are able to predict how the psysics will work. And you can get that by playing for a little while. Same with Mario, I guess.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=95">tokumaru</a> — Sat Mar 18, 2006 11:38 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Bregalad]]></name></author>
<updated>2006-03-18T11:05:17-07:00</updated>
<published>2006-03-18T11:05:17-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=1230&amp;p=10926#p10926</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=1230&amp;p=10926#p10926"/>
<title type="html"><![CDATA[Collision aliasing?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=1230&amp;p=10926#p10926"><![CDATA[
In a racing game it's another story. I mean in a platformer.<br />Yeah, X-axis acceleration. Of course, Y will need to varies in a parabolic form  when jumping. It would really really suck to jump lineary.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=38">Bregalad</a> — Sat Mar 18, 2006 11:05 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2006-03-18T09:33:28-07:00</updated>
<published>2006-03-18T09:33:28-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=1230&amp;p=10924#p10924</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=1230&amp;p=10924#p10924"/>
<title type="html"><![CDATA[Collision aliasing?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=1230&amp;p=10924#p10924"><![CDATA[
<a href="http://xlr8r.ytmnd.com" class="postlink">Acceleration</a> sucks? Tell that to any player of a racing game or the music game <em>Frequency</em> for PlayStation 2.<br /><br /><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent"><br />You'll want to control your player easily, so you'd want to know by advance what it will do, with precision.<br /></div><br />You know with precision that it will take Mario <em>n</em> meters to accelerate from a dead stop to within 10% of top speed.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />Acceleration breaks all the rules of evading projectiles, jump avoves holes, etc... I hate it so much !<br /></div><br />Just about every platform game uses acceleration in at least the Y coordinate of a jump.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Sat Mar 18, 2006 9:33 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Bregalad]]></name></author>
<updated>2006-03-18T04:06:24-07:00</updated>
<published>2006-03-18T04:06:24-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=1230&amp;p=10919#p10919</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=1230&amp;p=10919#p10919"/>
<title type="html"><![CDATA[Collision aliasing?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=1230&amp;p=10919#p10919"><![CDATA[
Acceleration suck. You'll want to control your player easily, so you'd want to know by advance what it will do, with precision. Acceleration breaks all the rules of evading projectiles, jump avoves holes, etc... I hate it so much !<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=38">Bregalad</a> — Sat Mar 18, 2006 4:06 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tokumaru]]></name></author>
<updated>2006-03-17T13:47:18-07:00</updated>
<published>2006-03-17T13:47:18-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=1230&amp;p=10914#p10914</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=1230&amp;p=10914#p10914"/>
<title type="html"><![CDATA[Collision aliasing?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=1230&amp;p=10914#p10914"><![CDATA[
I think SMB's physics are just fine. The whole thing feels very fluid to me. Bregalad, maybe you're too used to games with little/no physics such as RPG's? Those annoy me, but I'm sure you're OK with them. Taste can be very subjective.<br /><br />Even platformers, that I like so much, and many 16-bit games have no acceleration and such. I have always been a little bothered by this.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=95">tokumaru</a> — Fri Mar 17, 2006 1:47 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2006-03-17T13:38:06-07:00</updated>
<published>2006-03-17T13:38:06-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=1230&amp;p=10911#p10911</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=1230&amp;p=10911#p10911"/>
<title type="html"><![CDATA[Collision aliasing?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=1230&amp;p=10911#p10911"><![CDATA[
<div class="quotetitle">Bregalad wrote:</div><div class="quotecontent"><br />When you're [halfway] under a block [...] and when you jump, Mario kind of jump back when he jump. Jumping above the mentionned block become so much very hard !<br /></div><br />Then back away from the block before you jump on it. How would you jump on it in real life, provided that you had such strong legs?<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />Aother anoying thing in contol is variable player speed. Mario accelerate so much slowly, and take so much time to stop, it's horrible.<br /></div><br />Let's see you go out on the track, instantly accelerate to 1.5 pixels per frame or 5.6 meters per second or 12.5 miles per hour as fast as Mario does, and then stop on a dime. It's Luigi that has trouble stopping anyway.<br /><br />tokumaru: Are you trying to move that far in one frame? And why should tripping the player's foot on the corner of the block stop the player's horizontal movement dead? Shouldn't it cause the player to fall forward?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Fri Mar 17, 2006 1:38 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tokumaru]]></name></author>
<updated>2006-03-17T10:38:04-07:00</updated>
<published>2006-03-17T10:38:04-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=1230&amp;p=10909#p10909</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=1230&amp;p=10909#p10909"/>
<title type="html"><![CDATA[Collision aliasing?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=1230&amp;p=10909#p10909"><![CDATA[
I can see one problem with my method, though. Suppose the player is trying to move like this:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">P = one of the player's &quot;contact points&quot;<br />o = desired destination<br />S = solid block<br /><br />+------+------+<br />|      | o    |<br />|      |/     |<br />|      /      |<br />+-----/+------+<br />|    P |SSSSSS|<br />|      |SSSSSS|<br />|      |SSSSSS|<br />+------+------+</div><br /><br />And you'd first try to move in the X axis:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">+------+------+<br />|      | o    |<br />|      |      |<br />|      |      |<br />+------+------+<br />|    P---XSSSS|<br />|      |SSSSSS|<br />|      |SSSSSS|<br />+------+------+</div><br /><br />That would fail, as you'd be inside the block. The player would then be pushed back, and we'd check for the vertical movement:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">+------+------+<br />|     X| o    |<br />|     ||      |<br />|     ||      |<br />+-----|+------+<br />|     P|SSSSSS|<br />|      |SSSSSS|<br />|      |SSSSSS|<br />+------+------+</div><br /><br />This one is OK, so the player would end up here:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">+------+------+<br />|     P| o    |<br />|      |      |<br />|      |      |<br />+------+------+<br />|      |SSSSSS|<br />|      |SSSSSS|<br />|      |SSSSSS|<br />+------+------+</div><br />Instead of at the desired destination, wich would be perfectly possible. This is not such a big problem, and I doubt the player will notice any glitches. But I'm still trying to fix this anyway. If I had checked the axis in a different order (first Y and then X), the movement would work as expect. Maybe there is a way to decide what axis should be checked first, to avoid this problem. I'll think of something.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=95">tokumaru</a> — Fri Mar 17, 2006 10:38 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Bregalad]]></name></author>
<updated>2006-03-17T10:01:02-07:00</updated>
<published>2006-03-17T10:01:02-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=1230&amp;p=10907#p10907</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=1230&amp;p=10907#p10907"/>
<title type="html"><![CDATA[Collision aliasing?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=1230&amp;p=10907#p10907"><![CDATA[
<div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />I also don't. As I said, this step is performed before any rendering, so the person playing the game doesn't actually see any bouncing.<br /></div><br />Oh yes, it does !<br />When you're under a block like this :<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">+-------+++++++++<br />|       |++???+++<br />|       |+?+++?++<br />|       |++++?+++<br />|       |+++?++++<br />|       |++++++++<br />+-------++++?++++<br />|        P      +<br />|        l      +<br />|        a      +<br />|        y      +<br />|        e      +<br />|        r      +<br />+---------------+</div><br />and when you jump, Mario kind of jump back when he jump. Jumping above the mentionned block become so much very hard ! That's anoying. Aother anoying thing in contol is variable player speed. Mario accelerate so much slowly, and take so much time to stop, it's horrible.<br /><br />I'll try your reject technique someday. Since you apply it to both cordinates (as mario seems to don't), it won't cause problems. I think it is especially interesting for monster, that can have variable speeds.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=38">Bregalad</a> — Fri Mar 17, 2006 10:01 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tokumaru]]></name></author>
<updated>2006-03-16T14:08:25-07:00</updated>
<published>2006-03-16T14:08:25-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=1230&amp;p=10885#p10885</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=1230&amp;p=10885#p10885"/>
<title type="html"><![CDATA[Collision aliasing?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=1230&amp;p=10885#p10885"><![CDATA[
<div class="quotetitle">tepples wrote:</div><div class="quotecontent"><br /><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">If the player goes up, it is useless to check bottomleft and bottomright<br /></div><br />Unless the player is also changing in size (think crouching), or moving in two directions at once (diagonally). Things like this are what led to the Minus World glitch.</div><br />If you do it one axis at a time (as I do) it is safe to disregard the points at the opposite side.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />I don't see why. Can you sketch out a case where it is a problem in practice?<br /></div><br />I also don't. As I said, this step is performed before any rendering, so the person playing the game doesn't actually see any bouncing.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />EDIT : When the player is one pixel ahed of a solid block, and if it will be an odd frame so it moves two pixels, the collision check will fail, making it not move at all. But, the next frame will be an even one, and it will move of one pixel, and the collision check will sucess. So this don't create bugs. However, it wouldn't work if it was constantly moving of 2 pixels.<br /></div><br />What happens if you always cut velocity in half and try again?[/quote]<br />That's still a bunch of checks. If you hit a wall, there is no need to check other pixels. You know how thich the wall is. And can easily tell how far inside the wall the point is. It is trivial to push the player back only enough to have him just touch the wall.<br /><br />The problem is that not always preventing the problems is the best way. Many times it is better to let the problems happen, and then fix them.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=95">tokumaru</a> — Thu Mar 16, 2006 2:08 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2006-03-16T12:49:33-07:00</updated>
<published>2006-03-16T12:49:33-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=1230&amp;p=10878#p10878</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=1230&amp;p=10878#p10878"/>
<title type="html"><![CDATA[Collision aliasing?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=1230&amp;p=10878#p10878"><![CDATA[
<div class="quotetitle">Bregalad wrote:</div><div class="quotecontent"><br />If the player goes up, it is useless to check bottomleft and bottomright<br /></div><br />Unless the player is also changing in size (think crouching), or moving in two directions at once (diagonally). Things like this are what led to the Minus World glitch.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />[Wall-eject is] probably what I hate about Mario Bross. When you entnter in a wall, you look ejected from it. I just have that system, to time your jump and move straightly it just suck in my opinion.<br /></div><br />I don't see why. Can you sketch out a case where it is a problem in practice?<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />EDIT : When the player is one pixel ahed of a solid block, and if it will be an odd frame so it moves two pixels, the collision check will fail, making it not move at all. But, the next frame will be an even one, and it will move of one pixel, and the collision check will sucess. So this don't create bugs. However, it wouldn't work if it was constantly moving of 2 pixels.<br /></div><br />What happens if you always cut velocity in half and try again?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Thu Mar 16, 2006 12:49 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tokumaru]]></name></author>
<updated>2006-03-16T12:34:34-07:00</updated>
<published>2006-03-16T12:34:34-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=1230&amp;p=10876#p10876</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=1230&amp;p=10876#p10876"/>
<title type="html"><![CDATA[Collision aliasing?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=1230&amp;p=10876#p10876"><![CDATA[
<div class="quotetitle">Bregalad wrote:</div><div class="quotecontent"><br />Okay, to check on wich metatile the player is, you need to do a 4-bit shiftright (division by 16) division while checking block solidity. But I didn't understand what you were saying with the remainder. It would tell the distance between the wall and the player ? By how miracle ?<br /></div><br />The remainder are the bits you shifted out in the division. Instead of throwing them away, put them on another variable. Better yet, AND the player's coordinate with %00001111 to get the lower bits before you shift them off. Those 4 will tell you how far the player is in the block. Say we have a very smal level composed by 2 16x16 pixel blocks. The fist one is empty and the second is solid. The player is at position (8, 8) and tries to move 12 pixels to the right. That would place it at point (20, 8). You take the 20 and divide by 16, wich will result in 1, with 4 as remainder. Dividing the Y coordinate by 16 will result in 0. The position (1, 0) in the map is a solid block, meaning the player can not enter it. The number 4 (remainder) represents how many pixels in the block the player is. Since position 4 is the 5th pixel inside the solid block, if you subtract 5 from the player now you'll make sure it is as close to the solid block as possible, but remain at block (0, 0).<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />Also, the collision detection isn't that simple. For all stuff I check 4 points, topleft, topright, bottomleft and bottomright. All 4 have to collid nothing, else the collision fail. If the player goes up, it is useless to check bottomleft and bottomright, as it is useless to check bottomright and topright when going left. So this add a lot of simplicity when the player/monster is going to a single direciton at time.<br /></div><br />As you said, there is no need to check the top left or the bottom left points if you're moving right, it is a waste of time. A hit will never happen at the left if you're moving right. But yeah, my examples are a little simple. In a real case you'd do what I said to all points that need checking. So, when moving right and checking for problems in the X axis, you'll check if the topright or the bottomright points are inside a solid block. If either is, push the player back the ammount of pixels it's in (remainder + 1).<br /><br />Then you check the Y axis. If you moved down, check the bottom left and bottom righ points. If any of them is inside a solid block, push the player up.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />I use that trick for the player, but not for ennemies, because their AI is made in a way it was simpler to do so. Also, I move the player 2 pixels, then 1 pixels, then 2 again, etc.... When moving of 2 pixels, I don't check for collision for the first pixel, so it should work fine with 2 pixel precision.<br />When the player moves diagonal, I check for horizontal and vertical deplacement separately and it works fine.<br /></div><br />If your player moves so little at a time, why did you say you checked all the pixels from one point to the other?<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />Maybe for 4 it would be decent, but for 8 or 16 it would be undecent.<br /></div><br />The example I gave will work fine, as long as you move less or the same as the size of the blocks.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />That's probably what I hate about Mario Bross. When you entnter in a wall, you look ejected from it. I just have that system, to time your jump and move straightly it just suck in my opinion.<br />Also, the first MegaMan seems to push player and objects to the block to the right if he's in a solid block. It will ususally never happen, but glitches in the game make it happen.<br />When you kill a monster in a wall, if he throws an item, it will move to a block per frame.<br /></div><br />As far as I remember you don't actually <strong>see</strong> anything beeing pushed back, as this step should be done before rendering the sprites. At least in my engine, the player enters the wall and is pushed back all before rendering it's sprites, so you get the impression that it just stoped at the wall, no bouncing or anything.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=95">tokumaru</a> — Thu Mar 16, 2006 12:34 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tokumaru]]></name></author>
<updated>2006-03-16T11:51:23-07:00</updated>
<published>2006-03-16T11:51:23-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=1230&amp;p=10873#p10873</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=1230&amp;p=10873#p10873"/>
<title type="html"><![CDATA[Collision aliasing?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=1230&amp;p=10873#p10873"><![CDATA[
<div class="quotetitle">tepples wrote:</div><div class="quotecontent"><br /><em>Super Mario Bros.</em> uses a technique called wall-eject.<br /></div><br />Yeah, that's basically the idea of what I'm doing. But I do it once for each axis, or else glitches would be present. Like in the following case:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">       +------+<br />       |SOLID |<br />    P  |      |<br />     \ |      |<br />      \|      |<br />+------+------+<br />|SOLID |\<br />|      | \<br />|      |  X<br />|      |<br />+------+<br /></div><br />If the player moved so much at a time, and then you'd check for for a hit, there wouldn't be any and the player would be allowed to move like this, if it was fast enough. But if you check each axis at a time:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">       +------+<br />       |SOLID |<br />    P-----o   |<br />       |      |<br />       |      |<br />+------+------+<br />|SOLID |<br />|      |<br />|      |  X<br />|      |<br />+------+<br /></div><br />Just by checking the moviment in the X axis we see that the movement is not possible. So we put the player as close to the block as possible, and then try to move in the Y axis:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">       +------+<br />       |SOLID |<br />      P|      |<br />      ||      |<br />      ||      |<br />+-----|+------+<br />|SOLID||<br />|     ||<br />|     o|  X<br />|      |<br />+------+<br /></div><br />And we see it's not possible in the Y axis either, but we put it as close as possible:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">       +------+<br />       |SOLID |<br />       |      |<br />       |      |<br />      P|      |<br />+------+------+<br />|SOLID |<br />|      |<br />|      |  X<br />|      |<br />+------+<br /></div><br />And that is where the player should logically be after trying to go to point X.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />It can get away with this because nothing moves faster than 4 pixels per frame or so. Sonic, on the other hand...<br /></div><br />If sonic does not move more than the base unit in the level it can get away with it, in my opinion. In the Master System versions, Sonic never goes faster than 16 pixels in a frame, and the levels are based on 32x32-pixel blocks, so it's safe. The Genesis/Mega Drive levels are based on 16x16-pixel blocks, and I'd guess Sonic does move faster than that sometimes. I don't know how they handle that. Maybe checking a fer points along the way? I doubt they check all.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=95">tokumaru</a> — Thu Mar 16, 2006 11:51 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Bregalad]]></name></author>
<updated>2006-03-16T11:35:01-07:00</updated>
<published>2006-03-16T11:35:01-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=1230&amp;p=10871#p10871</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=1230&amp;p=10871#p10871"/>
<title type="html"><![CDATA[Collision aliasing?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=1230&amp;p=10871#p10871"><![CDATA[
Thanks for proprely splitting the thread, tepples.<br /><br />Tokumaru : I didn't fully understand what you're saying here.<br />Okay, to check on wich metatile the player is, you need to do a 4-bit shiftright (division by 16) division while checking block solidity. But I didn't understand what you were saying with the remainder. It would tell the distance between the wall and the player ? By how miracle ?<br />Also, the collision detection isn't that simple. For all stuff I check 4 points, topleft, topright, bottomleft and bottomright. All 4 have to collid nothing, else the collision fail.<br />If the player goes up, it is useless to check bottomleft and bottomright, as it is useless to check bottomright and topright when going left. So this add a lot of simplicity when the player/monster is going to a single direciton at time.<br />I use that trick for the player, but not for ennemies, because their AI is made in a way it was simpler to do so. Also, I move the player 2 pixels, then 1 pixels, then 2 again, etc.... When moving of 2 pixels, I don't check for collision for the first pixel, so it should work fine with 2 pixel precision.<br />When the player moves diagonal, I check for horizontal and vertical deplacement separately and it works fine.<br /><br />Maybe for 4 it would be decent, but for 8 or 16 it would be undecent.<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">Super Mario Bros. uses a technique called wall-eject. The cached decompressed map is read at points on the perimeter of a sprite, and the sprite is pushed in a direction based on which corners overlap something solid. It can get away with this because nothing moves faster than 4 pixels per frame or so.</div><br />That's probably what I hate about Mario Bross. When you entnter in a wall, you look ejected from it. I just have that system, to time your jump and move straightly it just suck in my opinion.<br />Also, the first MegaMan seems to push player and objects to the block to the right if he's in a solid block. It will ususally never happen, but glitches in the game make it happen.<br />When you kill a monster in a wall, if he throws an item, it will move to a block per frame.<br /><br />EDIT : When the player is one pixel ahed of a solid block, and if it will be an odd frame so it moves two pixels, the collision check will fail, making it not move at all. But, the next frame will be an even one, and it will move of one pixel, and the collision check will sucess. So this don't create bugs. However, it wouldn't work if it was constantly moving of 2 pixels.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=38">Bregalad</a> — Thu Mar 16, 2006 11:35 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2006-03-16T11:13:06-07:00</updated>
<published>2006-03-16T11:13:06-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=1230&amp;p=10869#p10869</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=1230&amp;p=10869#p10869"/>
<title type="html"><![CDATA[Collision aliasing?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=1230&amp;p=10869#p10869"><![CDATA[
<em>Super Mario Bros.</em> uses a technique called wall-eject. The cached decompressed map is read at points on the perimeter of a sprite, and the sprite is pushed in a direction based on which corners overlap something solid. It can get away with this because nothing moves faster than 4 pixels per frame or so. Sonic, on the other hand...<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Thu Mar 16, 2006 11:13 am</p><hr />
]]></content>
</entry>
</feed>