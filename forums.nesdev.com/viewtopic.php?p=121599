<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<link rel="icon" href="/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />

<title>nesdev.com &bull; View topic - spca65</title>

<link rel="alternate" type="application/atom+xml" title="Feed - nesdev.com" href="http://forums.nesdev.com/feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - News" href="http://forums.nesdev.com/feed.php?mode=news" /><link rel="alternate" type="application/atom+xml" title="Feed - All forums" href="http://forums.nesdev.com/feed.php?mode=forums" /><link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="http://forums.nesdev.com/feed.php?mode=topics" /><link rel="alternate" type="application/atom+xml" title="Feed - Active Topics" href="http://forums.nesdev.com/feed.php?mode=topics_active" /><link rel="alternate" type="application/atom+xml" title="Feed - Forum - SNESdev" href="http://forums.nesdev.com/feed.php?f=12" /><link rel="alternate" type="application/atom+xml" title="Feed - Topic - spca65" href="http://forums.nesdev.com/feed.php?f=12&amp;t=10730" />

<link rel="stylesheet" href="./style.php?id=1&amp;lang=en" type="text/css" />

<script type="text/javascript">
// <![CDATA[


function popup(url, width, height, name)
{
	if (!name)
	{
		name = '_popup';
	}

	window.open(url.replace(/&amp;/g, '&'), name, 'height=' + height + ',resizable=yes,scrollbars=yes,width=' + width);
	return false;
}

function jumpto()
{
	var page = prompt('Enter the page number you wish to go to:', '1');
	var per_page = '15';
	var base_url = './viewtopic.php?f=12&amp;t=10730';

	if (page !== null && !isNaN(page) && page == Math.floor(page) && page > 0)
	{
		if (base_url.indexOf('?') == -1)
		{
			document.location.href = base_url + '?start=' + ((page - 1) * per_page);
		}
		else
		{
			document.location.href = base_url.replace(/&amp;/g, '&') + '&start=' + ((page - 1) * per_page);
		}
	}
}

/**
* Find a member
*/
function find_username(url)
{
	popup(url, 760, 570, '_usersearch');
	return false;
}

/**
* Mark/unmark checklist
* id = ID of parent container, name = name prefix, state = state [true/false]
*/
function marklist(id, name, state)
{
	var parent = document.getElementById(id);
	if (!parent)
	{
		eval('parent = document.' + id);
	}

	if (!parent)
	{
		return;
	}

	var rb = parent.getElementsByTagName('input');
	
	for (var r = 0; r < rb.length; r++)
	{
		if (rb[r].name.substr(0, name.length) == name)
		{
			rb[r].checked = state;
		}
	}
}



// ]]>
</script>
</head>
<body class="ltr">

<a name="top"></a>

<div id="wrapheader">

	<div id="logodesc">
	</div>

	<div id="menubar">

		<table width="100%" cellspacing="0">
		<tr>
			<td rowspan="2"><a href="./index.php"><img src="./styles/subsilver2/imageset/site_logo.gif" alt="" title="" /></a></td>
			<td width="100%" align="center"><h1>nesdev.com</h1><span class="gen">NES Development and Strangulation Records message boards</span></td>
		</tr>
		<tr>
			<td align="center">
				<a href="./faq.php"><img src="./styles/prosilver/theme/images/icon_mini_faq.gif" width="12" height="13" alt="*" /> FAQ</a>
				&nbsp; &nbsp;<a href="./search.php"><img src="./styles/prosilver/theme/images/icon_mini_search.gif" width="12" height="13" alt="*" /> Search</a>
				<br />	
				 &nbsp;<a href="./ucp.php?mode=register"><img src="./styles/prosilver/theme/images/icon_mini_register.gif" width="12" height="13" alt="*" /> Register</a>
					&nbsp; &nbsp;<a href="./ucp.php?mode=login"><img src="./styles/prosilver/theme/images/icon_mini_login.gif" width="12" height="13" alt="*" /> Login</a>&nbsp;
			</td>
		</tr>
		</table>
	</div>

	<div id="datebar">
		<table width="100%" cellspacing="0">
		<tr>
			<td class="gensmall"></td>
			<td class="gensmall" align="right">It is currently Mon May 11, 2015 4:45 am<br /></td>
		</tr>
		</table>
	</div>

</div>

<div id="wrapcentre">

	
	<p class="searchbar">
		<span style="float: left;"><a href="./search.php?search_id=unanswered">View unanswered posts</a> | <a href="./search.php?search_id=active_topics">View active topics</a></span>
		
	</p>
	

	<br style="clear: both;" />

	<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=25">Other</a> &#187; <a href="./viewforum.php?f=12">SNESdev</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>

	<br />

<div id="pageheader">
	<h2><a class="titles" href="./viewtopic.php?f=12&amp;t=10730">spca65</a></h2>


	<p class="moderators">Moderator: <a href="./memberlist.php?mode=group&amp;g=320">Moderators</a></p>

</div>

<br clear="all" /><br />

<div id="pagecontent">

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=12"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=12&amp;t=10730"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>1</strong> of <strong>4</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 54 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"><b><a href="#" onclick="jumpto(); return false;" title="Click to jump to pageâ€¦">Go to page</a> <strong>1</strong><span class="page-sep">, </span><a href="./viewtopic.php?f=12&amp;t=10730&amp;start=15">2</a><span class="page-sep">, </span><a href="./viewtopic.php?f=12&amp;t=10730&amp;start=30">3</a><span class="page-sep">, </span><a href="./viewtopic.php?f=12&amp;t=10730&amp;start=45">4</a> &nbsp;<a href="./viewtopic.php?f=12&amp;t=10730&amp;start=15">Next</a></b></td>
		
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat">
			<table width="100%" cellspacing="0">
			<tr>
				<td class="nav" nowrap="nowrap">&nbsp;
				<a href="./viewtopic.php?f=12&amp;t=10730&amp;view=print" title="Print view">Print view</a>
				</td>
				<td class="nav" align="right" nowrap="nowrap"><a href="./viewtopic.php?f=12&amp;t=10730&amp;view=previous">Previous topic</a> | <a href="./viewtopic.php?f=12&amp;t=10730&amp;view=next">Next topic</a>&nbsp;</td>
			</tr>
			</table>
		</td>
	</tr>

	</table>


	<table class="tablebg" width="100%" cellspacing="1">
	
		<tr>
			<th>Author</th>
			<th>Message</th>
		</tr>
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p121571"></a>
				<b class="postauthor" style="color: #AA0000">tepples</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p121571">spca65</a></div><div style="float: right;"><a href="./viewtopic.php?p=121571#p121571"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Nov 26, 2013 3:10 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=9_1426464006.png" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Sep 19, 2004 11:12 pm<br /><b>Posts:</b> 13842<br /><b>Location:</b> NE Indiana, USA (NTSC)
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I'm trying to learn SNESdev. I've loaded palettes, tile data, and nametable data into VRAM, and scrolled the screen based on the controller. The next two things to attack are sprites and sound. Eventually I want to share the music sequence interpretation code between my NES and Super NES music engines, which probably means I should write the music engine in 6502 code and use <a href="http://wiki.superfamicom.org/snes/show/SPC700+Reference#opcode_matrix_by_jwdonal_17" class="postlink">SPC700 assembly with 6502-style mnemonics</a>. Ideally, the only code that would differ would be the instrument handling stuff. I <a href="http://forums.nesdev.com/viewtopic.php?f=2&amp;t=10701" class="postlink">reimplemented the 6502 instruction set with macros</a> as a proof of concept for eventually implementing the SPC700 instruction set with macros, but I ran into a snag: ca65 offers no way to test whether a label is zero page (<tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">.importzp</tt>) or not (<tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">.import</tt>). The new <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">.addrsize&#40;label&#41;</tt> function, <a href="http://forums.nesdev.com/viewtopic.php?p=121476#p121476" class="postlink">prototyped by Movax12 in a fork of the ca65 repo</a>, is one way to solve this.<br /><br />In #nesdev, another method was suggested: add support for SPC700-in-6502-drag directly to the <a href="https://github.com/oliverschmidt/cc65/blob/master/src/ca65/instr.c" class="postlink">instruction encoder of ca65</a>. This way we'd end up with a starting point to get away from WLA-DX and the like. But I imagine that even though this approach might work for SPC700, it might not work so well for far-less-6502-like coprocessors such as GBZ80 and Super FX. That's where macro packages come in.<br /><br /><div class="quotetitle">In <a href="http://forums.nesdev.com/viewtopic.php?p=121496#p121496" class="postlink">this post</a>, slobu wrote:</div><div class="quotecontent">Most experience newbies (ha!) start by hacking the provided examples and work there way towards original code.</div><br />Whether SPC700 is implemented as a macro package or as a modification to ca65 itself, testing it would need these deliverables:<br /><ul><li>A test case that exercises all instructions, with the source code and the expected binary. In the other thread I made such a test case for 6502 that has all instructions in opcode order, with the operand being a nibble-swapped version of the opcode, and I verified it by inspecting ca65's listing. For example, on 6502/65816, JMP $C4C4 would produce 4C C4 C4 in the listing's object code column. On SPC700, that line would be LSR $C4C4 instead. </li><li>A program that runs on a SPC700 that just plays a chord. This needs a bit of SPC700+DSP programming experience. </li><li>A program for the Super NES that loads this program and runs it. </li></ul></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=9"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p121576"></a>
				<b class="postauthor">blargg</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p121576">Re: spca65</a></div><div style="float: right;"><a href="./viewtopic.php?p=121576#p121576"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Nov 26, 2013 5:41 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=17.gif" width="60" height="69" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Sep 27, 2004 8:33 am<br /><b>Posts:</b> 3712<br /><b>Location:</b> Central Texas, USA
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I'm experimenting with SPC-700 on ca65 and have some thoughts on the syntax:<br />* By default, support only the standard syntax: !abs for absolute, dp for direct-page, [!abs+X], etc.<br />* Allow optional support for 65xx-style addressing in addition to ! for absolute: addr for dp/absolute, depending on type, &lt;addr for dp, abs,x for indexed, etc.<br />* Allow optional support for 65xx-style mnemonic aliases: jsr = call, rts = ret, etc.<br /><br />This allows current SPC-700 code to assemble with minimal changes, and for an incremental transition to more familiar addressing and mnemonics.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=17"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p121577"></a>
				<b class="postauthor">Movax12</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p121577">Re: spca65</a></div><div style="float: right;"><a href="./viewtopic.php?p=121577#p121577"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Nov 26, 2013 6:13 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=4680_1345480112.png" width="100" height="33" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Jan 02, 2011 11:50 am<br /><b>Posts:</b> 465
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I don't know much about SNES or SPC-700, so I don't know if this is exactly relevant, but where do the current ca65 standards for address sizes fit? There is, of course, the lowbyte operators <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">&lt;</tt> or <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">.lobyte&#40;&#41;</tt>, but ca65 also supports forced addressing modes with <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">z:</tt>, <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">a:</tt> and <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">f:</tt> preceding the operand. The former would work fine with the new <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">.addrsize&#40;&#41;</tt> function, but the latter would need to be scanned for in the macro code.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=4680"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p121581"></a>
				<b class="postauthor">blargg</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p121581">Re: spca65</a></div><div style="float: right;"><a href="./viewtopic.php?p=121581#p121581"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Nov 26, 2013 6:48 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=17.gif" width="60" height="69" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Sep 27, 2004 8:33 am<br /><b>Posts:</b> 3712<br /><b>Location:</b> Central Texas, USA
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">SPC-700 doesn't do anything implicitly:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">MOV A, #imm<br />MOV A, (X)<br />MOV A, (X)+<br />MOV A, dp<br />MOV A, dp+X<br />MOV A, !abs<br />MOV A, !abs+X<br />MOV A, !abs+Y<br />MOV A, &#91;dp+X&#93;<br />MOV A, &#91;dp&#93;+Y</div><br /><br />The syntax provides all the context necessary to determine the addressing mode. So no need that I can see for something like .addrsize.<br /><br />Given how close it is to 6502, it's slightly tedious to code on, where one has to put ! often, and remember call instead of jsr, ret instead of rts, etc. hence the motivation for supporting 65xx variations on these things.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=17"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p121583"></a>
				<b class="postauthor">nocash</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p121583">Re: spca65</a></div><div style="float: right;"><a href="./viewtopic.php?p=121583#p121583"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Nov 26, 2013 6:58 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Feb 24, 2012 12:09 pm<br /><b>Posts:</b> 383
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Maybe a bit off-topic concerning the syntax. But for a simple sound engine you can get around using SPC700 code at all. Instead you can tweak the SPC's built-in boot ROM to write samples to RAM, and to write values to the DSP chip's I/O ports (normally the boot ROM is intended for uploading custom program code, but you can also upload plain data and I/O port settings).<br />The SNES version at <!-- m --><a class="postlink" href="http://nocash.emubase.de/magicflr.htm">http://nocash.emubase.de/magicflr.htm</a><!-- m --> is using that trick. Of course, those per-I/O-port uploads are a bit inefficient, and  do take more cpu load on both processors as when running a real sound engine directly on the SPC700.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=5211"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p121584"></a>
				<b class="postauthor" style="color: #AA0000">tepples</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p121584">Re: spca65</a></div><div style="float: right;"><a href="./viewtopic.php?p=121584#p121584"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Nov 26, 2013 7:13 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=9_1426464006.png" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Sep 19, 2004 11:12 pm<br /><b>Posts:</b> 13842<br /><b>Location:</b> NE Indiana, USA (NTSC)
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">nocash wrote:</div><div class="quotecontent">But for a simple sound engine you can get around using SPC700 code at all.</div><br />Yeah, I saw <a href="http://wiki.superfamicom.org/snes/show/How+to+Write+to+DSP+Registers+Without+any+SPC-700+Code" class="postlink">blargg's IPL-only sound playback demo</a>, ran it in bsnes, modified it to play a chord, and ran it on my PowerPak. I'm just looking for something to build on, toward a few things that could prove useful to developers of games that demand more CPU time than a turn-based puzzle game:<br /><ul><li>Efficiency, so as not to require a lot of attention from the S-CPU. There's a <a href="http://forums.nesdev.com/viewtopic.php?f=5&amp;t=10721" class="postlink">topic going on about Super NES games running slower than NES versions of the same game</a>. </li><li>Ability to play the soundtrack in players supporting SPC700 save states (which coincidentally have the same file name suffix as Authenticode certificates) without having to lug around an entire SNES emulator. </li><li>Ability to write music engines in C or uc65. It's not like CPU time is at a premium given the amount of RAM it has and that it has 55% of the clock speed of an entire NES CPU. </li><li>Ability to write real-time synthesis engines in SPC700 assembly that output BRR. </li></ul></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=9"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p121593"></a>
				<b class="postauthor">doppelganger</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p121593">Re: spca65</a></div><div style="float: right;"><a href="./viewtopic.php?p=121593#p121593"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Nov 26, 2013 11:18 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Tue Apr 05, 2005 7:30 pm<br /><b>Posts:</b> 177
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">For me the problem isn't writing code for a different processor, or even a different syntax...it's finding samples to play on the APU.</div>

					
						<div class="postbody"><br />_________________<br />Be whatever the situation demands.</div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=119"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p121596"></a>
				<b class="postauthor">blargg</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p121596">Re: spca65</a></div><div style="float: right;"><a href="./viewtopic.php?p=121596#p121596"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Nov 27, 2013 12:35 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=17.gif" width="60" height="69" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Sep 27, 2004 8:33 am<br /><b>Posts:</b> 3712<br /><b>Location:</b> Central Texas, USA
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I've taken up spca65 and am most of the way through. I'm still not sure what syntax to use for the bit operations, as they vary so much between references. There are several instructions that reference bit numbers.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=17"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p121597"></a>
				<b class="postauthor">ARM9</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p121597">Re: spca65</a></div><div style="float: right;"><a href="./viewtopic.php?p=121597#p121597"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Nov 27, 2013 12:39 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Aug 11, 2013 6:07 am<br /><b>Posts:</b> 46
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">tepples wrote:</div><div class="quotecontent">This way we'd end up with a starting point to get away from WLA-DX and the like. But I imagine that even though this approach might work for SPC700, it might not work so well for far-less-6502-like coprocessors such as GBZ80 and Super FX. That's where macro packages come in.<br /></div><br />What's wrong with WLA? I haven't used the spc700 assembler yet but the 65816 one is pretty solid. I think the nwarp spc700 engine compiles with wla.<br /><br /><div class="quotetitle">tepples wrote:</div><div class="quotecontent"><ul><li>Ability to write music engines in C or uc65. It's not like CPU time is at a premium given the amount of RAM it has and that it has 55% of the clock speed of an entire NES CPU.</li></ul></div><br />Do you plan on retargeting cc65 to the spc700?<br /><br /><div class="quotetitle">doppelganger wrote:</div><div class="quotecontent">For me the problem isn't writing code for a different processor, or even a different syntax...it's finding samples to play on the APU.</div><br />I was dumping a bunch of samples from various snes games last week if you're interested.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=6115"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p121599"></a>
				<b class="postauthor">byuu</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p121599">Re: spca65</a></div><div style="float: right;"><a href="./viewtopic.php?p=121599#p121599"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Nov 27, 2013 3:04 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Mar 27, 2006 5:23 pm<br /><b>Posts:</b> 871
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I don't expect anyone to actually use it, but please take a look at bass v13:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">http://byuu.org/files/bass_v13.tar.xz</div><br /><br />If you go to arch/table/snes-smp.arch, it's my take on a 6502-syntax for the SPC700.<br /><br />In fact, it's small enough to paste the table here. I'll post it below.<br /><br />I'd be game to working with you guys to reach a consensus on the syntax (meaning changing mine.) I'd really like to avoid having multiple versions of this out there, as that would discourage its adoption.<br /><br />But it really is a magnificent fix. It's pretty clear that the SPC700 is about 85% directly compatible with the 6502.<br /><br />The main issues with this are: two-argument instructions (dp,imm), bit-syntax (addr.bit), new instructions (we'd usually want ora, but there's an or carry), more new instructions (mov1, etc.); the comma is particularly troublesome because 6502 uses it in place of + for addressing.<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">nop&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$00<br />brk&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$0f<br />rts&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$6f<br />rti&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$7f<br />xcn&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$9f<br />wai&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$ef<br />stp&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$ff<br /><br />clp&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$20<br />clc&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$60<br />cli&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$c0<br />clv&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$e0<br />sep&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$40<br />sec&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$80<br />sei&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$a0<br />cmc&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$ed<br /><br />php&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$0d<br />pha&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$2d<br />phx&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$4d<br />phy&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$6d<br />plp&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$8e<br />pla&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$ae<br />plx&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$ce<br />ply&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$ee<br /><br />inx&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$3d<br />iny&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$fc<br />dex&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$1d<br />dey&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$dc<br /><br />tax&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$5d<br />tay&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$fd<br />tsx&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$9d<br />txa&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$7d<br />txs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$bd<br />tya&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$dd<br /><br />mul&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$cf<br />div&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$9e<br /><br />das&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$be<br />daa&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$df<br /><br />jst *04&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;=a %0001<br />set *08:*03&nbsp; &nbsp; &nbsp; ;=b %00010 =a<br />clr *08:*03&nbsp; &nbsp; &nbsp; ;=b %10010 =a<br />bbs *08:*03=*08&nbsp; ;=b %00011 =a +3c<br />bbc *08:*03=*08&nbsp; ;=b %10011 =a +3c<br /><br />jmp (*16,x)&nbsp; &nbsp; &nbsp; ;$1f =a<br />jmp *16&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$5f =a<br />jsr *16&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$3f =a<br />jsp *08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$4f =a<br /><br />bne --y=*08&nbsp; &nbsp; &nbsp; ;$fe +2a<br />bne --*08=*08&nbsp; &nbsp; ;$6e =a +3b<br />bne *08,x=*08&nbsp; &nbsp; ;$de =a +3b<br />bne *08=*08&nbsp; &nbsp; &nbsp; ;$2e =a +3b<br /><br />bra *08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$2f +2a<br />bpl *08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$10 +2a<br />bmi *08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$30 +2a<br />bvc *08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$50 +2a<br />bvs *08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$70 +2a<br />bcc *08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$90 +2a<br />bcs *08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$b0 +2a<br />bne *08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$d0 +2a<br />beq *08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$f0 +2a<br /><br />tsb *16&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$0e =a<br />trb *16&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$4e =a<br /><br />inw *08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$3a =a<br />dew *08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$1a =a<br />adw *08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$7a =a<br />sbw *08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$9a =a<br />cpw *08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$5a =a<br />ldw *08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$ba =a<br />stw *08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$da =a<br /><br />orc !*13:*03&nbsp; &nbsp; &nbsp;;$2a ~b ~a<br />orc *13:*03&nbsp; &nbsp; &nbsp; ;$0a ~b ~a<br />and !*13:*03&nbsp; &nbsp; &nbsp;;$6a ~b ~a<br />and *13:*03&nbsp; &nbsp; &nbsp; ;$4a ~b ~a<br />eor *13:*03&nbsp; &nbsp; &nbsp; ;$8a ~b ~a<br />ldc *13:*03&nbsp; &nbsp; &nbsp; ;$aa ~b ~a<br />stc *13:*03&nbsp; &nbsp; &nbsp; ;$ca ~b ~a<br />not *13:*03&nbsp; &nbsp; &nbsp; ;$ea ~b ~a<br /><br />ora (x)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$06<br />orr (x)=(y)&nbsp; &nbsp; &nbsp; ;$19<br />ora (*08,x)&nbsp; &nbsp; &nbsp; ;$07 =a<br />ora (*08),y&nbsp; &nbsp; &nbsp; ;$17 =a<br />ora #*08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;;$08 =a<br />orr *08=#*08&nbsp; &nbsp; &nbsp;;$18 =b =a<br />ora *16,x&nbsp; &nbsp; &nbsp; &nbsp; ;$15 =a<br />ora *16,y&nbsp; &nbsp; &nbsp; &nbsp; ;$16 =a<br />ora *08,x&nbsp; &nbsp; &nbsp; &nbsp; ;$14 =a<br />orr *08=*08&nbsp; &nbsp; &nbsp; ;$09 =b =a<br />ora *16&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$05 =a<br />ora *08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$04 =a<br />//<br />ora.w *16,x&nbsp; &nbsp; &nbsp; ;$15 ~a<br />ora.b *08,x&nbsp; &nbsp; &nbsp; ;$14 ~a<br />ora.w *16&nbsp; &nbsp; &nbsp; &nbsp; ;$05 ~a<br />ora.b *08&nbsp; &nbsp; &nbsp; &nbsp; ;$04 ~a<br /><br />and (x)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$26<br />and (x)=(y)&nbsp; &nbsp; &nbsp; ;$39<br />and (*08,x)&nbsp; &nbsp; &nbsp; ;$27 =a<br />and (*08),y&nbsp; &nbsp; &nbsp; ;$37 =a<br />and #*08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;;$28 =a<br />and *08=#*08&nbsp; &nbsp; &nbsp;;$38 =b =a<br />and *16,x&nbsp; &nbsp; &nbsp; &nbsp; ;$35 =a<br />and *16,y&nbsp; &nbsp; &nbsp; &nbsp; ;$36 =a<br />and *08,x&nbsp; &nbsp; &nbsp; &nbsp; ;$34 =a<br />and *08=*08&nbsp; &nbsp; &nbsp; ;$29 =b =a<br />and *16&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$25 =a<br />and *08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$24 =a<br />//<br />and.w *16,x&nbsp; &nbsp; &nbsp; ;$35 ~a<br />and.b *08,x&nbsp; &nbsp; &nbsp; ;$34 ~a<br />and.w *16&nbsp; &nbsp; &nbsp; &nbsp; ;$25 ~a<br />and.b *08&nbsp; &nbsp; &nbsp; &nbsp; ;$24 ~a<br /><br />eor (x)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$46<br />eor (x)=(y)&nbsp; &nbsp; &nbsp; ;$59<br />eor (*08,x)&nbsp; &nbsp; &nbsp; ;$47 =a<br />eor (*08),y&nbsp; &nbsp; &nbsp; ;$57 =a<br />eor #*08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;;$48 =a<br />eor *08=#*08&nbsp; &nbsp; &nbsp;;$58 =b =a<br />eor *16,x&nbsp; &nbsp; &nbsp; &nbsp; ;$55 =a<br />eor *16,y&nbsp; &nbsp; &nbsp; &nbsp; ;$56 =a<br />eor *08,x&nbsp; &nbsp; &nbsp; &nbsp; ;$54 =a<br />eor *08=*08&nbsp; &nbsp; &nbsp; ;$49 =b =a<br />eor *16&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$45 =a<br />eor *08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$44 =a<br />//<br />eor.w *16,x&nbsp; &nbsp; &nbsp; ;$55 ~a<br />eor.b *08,x&nbsp; &nbsp; &nbsp; ;$54 ~a<br />eor.w *16&nbsp; &nbsp; &nbsp; &nbsp; ;$45 ~a<br />eor.b *08&nbsp; &nbsp; &nbsp; &nbsp; ;$44 ~a<br /><br />cmp (x)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$66<br />cmp (x)=(y)&nbsp; &nbsp; &nbsp; ;$79<br />cmp (*08,x)&nbsp; &nbsp; &nbsp; ;$67 =a<br />cmp (*08),y&nbsp; &nbsp; &nbsp; ;$77 =a<br />cmp #*08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;;$68 =a<br />cmp *08=#*08&nbsp; &nbsp; &nbsp;;$78 =b =a<br />cmp *16,x&nbsp; &nbsp; &nbsp; &nbsp; ;$75 =a<br />cmp *16,y&nbsp; &nbsp; &nbsp; &nbsp; ;$76 =a<br />cmp *08,x&nbsp; &nbsp; &nbsp; &nbsp; ;$74 =a<br />cmp *08=*08&nbsp; &nbsp; &nbsp; ;$69 =b =a<br />cmp *16&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$65 =a<br />cmp *08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$64 =a<br />//<br />cmp.w *16,x&nbsp; &nbsp; &nbsp; ;$75 ~a<br />cmp.b *08,x&nbsp; &nbsp; &nbsp; ;$74 ~a<br />cmp.w *16&nbsp; &nbsp; &nbsp; &nbsp; ;$65 ~a<br />cmp.b *08&nbsp; &nbsp; &nbsp; &nbsp; ;$64 ~a<br /><br />adc (x)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$86<br />adc (x)=(y)&nbsp; &nbsp; &nbsp; ;$99<br />adc (*08,x)&nbsp; &nbsp; &nbsp; ;$87 =a<br />adc (*08),y&nbsp; &nbsp; &nbsp; ;$97 =a<br />adc #*08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;;$88 =a<br />adc *08=#*08&nbsp; &nbsp; &nbsp;;$98 =b =a<br />adc *16,x&nbsp; &nbsp; &nbsp; &nbsp; ;$95 =a<br />adc *16,y&nbsp; &nbsp; &nbsp; &nbsp; ;$96 =a<br />adc *08,x&nbsp; &nbsp; &nbsp; &nbsp; ;$94 =a<br />adc *08=*08&nbsp; &nbsp; &nbsp; ;$89 =b =a<br />adc *16&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$85 =a<br />adc *08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$84 =a<br />//<br />adc.w *16,x&nbsp; &nbsp; &nbsp; ;$95 ~a<br />adc.b *08,x&nbsp; &nbsp; &nbsp; ;$94 ~a<br />adc.w *16&nbsp; &nbsp; &nbsp; &nbsp; ;$85 ~a<br />adc.b *08&nbsp; &nbsp; &nbsp; &nbsp; ;$84 ~a<br /><br />sbc (x)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$a6<br />sbc (x)=(y)&nbsp; &nbsp; &nbsp; ;$b9<br />sbc (*08,x)&nbsp; &nbsp; &nbsp; ;$a7 =a<br />sbc (*08),y&nbsp; &nbsp; &nbsp; ;$b7 =a<br />sbc #*08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;;$a8 =a<br />sbc *08=#*08&nbsp; &nbsp; &nbsp;;$b8 =b =a<br />sbc *16,x&nbsp; &nbsp; &nbsp; &nbsp; ;$b5 =a<br />sbc *16,y&nbsp; &nbsp; &nbsp; &nbsp; ;$b6 =a<br />sbc *08,x&nbsp; &nbsp; &nbsp; &nbsp; ;$b4 =a<br />sbc *08=*08&nbsp; &nbsp; &nbsp; ;$a9 =b =a<br />sbc *16&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$a5 =a<br />sbc *08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$a4 =a<br />//<br />sbc.w *16,x&nbsp; &nbsp; &nbsp; ;$b5 ~a<br />sbc.b *08,x&nbsp; &nbsp; &nbsp; ;$b4 ~a<br />sbc.w *16&nbsp; &nbsp; &nbsp; &nbsp; ;$a5 ~a<br />sbc.b *08&nbsp; &nbsp; &nbsp; &nbsp; ;$a4 ~a<br /><br />sta (x)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$c6<br />sta (x++)&nbsp; &nbsp; &nbsp; &nbsp; ;$af<br />sta (*08,x)&nbsp; &nbsp; &nbsp; ;$c7 =a<br />sta (*08),y&nbsp; &nbsp; &nbsp; ;$d7 =a<br />str *08=#*08&nbsp; &nbsp; &nbsp;;$8f =b =a<br />sta *16,x&nbsp; &nbsp; &nbsp; &nbsp; ;$d5 =a<br />sta *16,y&nbsp; &nbsp; &nbsp; &nbsp; ;$d6 =a<br />sta *08,x&nbsp; &nbsp; &nbsp; &nbsp; ;$d4 =a<br />str *08=*08&nbsp; &nbsp; &nbsp; ;$fa =b =a<br />sta *16&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$c5 =a<br />sta *08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$c4 =a<br />//<br />sta.w *16,x&nbsp; &nbsp; &nbsp; ;$d5 ~a<br />sta.b *08,x&nbsp; &nbsp; &nbsp; ;$d4 ~a<br />sta.w *16&nbsp; &nbsp; &nbsp; &nbsp; ;$c5 ~a<br />sta.b *08&nbsp; &nbsp; &nbsp; &nbsp; ;$c4 ~a<br /><br />lda (x)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$e6<br />lda (x++)&nbsp; &nbsp; &nbsp; &nbsp; ;$bf<br />lda (*08,x)&nbsp; &nbsp; &nbsp; ;$e7 =a<br />lda (*08),y&nbsp; &nbsp; &nbsp; ;$f7 =a<br />lda #*08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;;$e8 =a<br />lda *16,x&nbsp; &nbsp; &nbsp; &nbsp; ;$f5 =a<br />lda *16,y&nbsp; &nbsp; &nbsp; &nbsp; ;$f6 =a<br />lda *08,x&nbsp; &nbsp; &nbsp; &nbsp; ;$f4 =a<br />lda *16&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$e5 =a<br />lda *08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$e4 =a<br />//<br />lda.w *16,x&nbsp; &nbsp; &nbsp; ;$f5 ~a<br />lda.b *08,x&nbsp; &nbsp; &nbsp; ;$f4 ~a<br />lda.w *16&nbsp; &nbsp; &nbsp; &nbsp; ;$e5 ~a<br />lda.b *08&nbsp; &nbsp; &nbsp; &nbsp; ;$e4 ~a<br /><br />stx *08,y&nbsp; &nbsp; &nbsp; &nbsp; ;$d9 =a<br />stx *16&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$c9 =a<br />stx *08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$d8 =a<br />//<br />stx.w *16&nbsp; &nbsp; &nbsp; &nbsp; ;$c9 ~a<br />stx.b *08&nbsp; &nbsp; &nbsp; &nbsp; ;$d8 ~a<br /><br />sty *08,x&nbsp; &nbsp; &nbsp; &nbsp; ;$db =a<br />sty *16&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$cc =a<br />sty *08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$cb =a<br />//<br />sty.w *16&nbsp; &nbsp; &nbsp; &nbsp; ;$cc ~a<br />sty.b *08&nbsp; &nbsp; &nbsp; &nbsp; ;$cb ~a<br /><br />ldx #*08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;;$cd =a<br />ldx *08,y&nbsp; &nbsp; &nbsp; &nbsp; ;$f9 =a<br />ldx *16&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$e9 =a<br />ldx *08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$f8 =a<br />//<br />ldx.w *16&nbsp; &nbsp; &nbsp; &nbsp; ;$e9 ~a<br />ldx.b *08&nbsp; &nbsp; &nbsp; &nbsp; ;$f8 ~a<br /><br />ldy #*08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;;$8d =a<br />ldy *08,x&nbsp; &nbsp; &nbsp; &nbsp; ;$fb =a<br />ldy *16&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$ec =a<br />ldy *08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$eb =a<br />//<br />ldy.w *16&nbsp; &nbsp; &nbsp; &nbsp; ;$ec ~a<br />ldy.b *08&nbsp; &nbsp; &nbsp; &nbsp; ;$eb ~a<br /><br />cpx #*08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;;$c8 =a<br />cpx *16&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$1e =a<br />cpx *08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$3e =a<br />//<br />cpx.w *16&nbsp; &nbsp; &nbsp; &nbsp; ;$1e ~a<br />cpx.b *08&nbsp; &nbsp; &nbsp; &nbsp; ;$3e ~a<br /><br />cpy #*08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;;$ad =a<br />cpy *16&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$5e =a<br />cpy *08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$7e =a<br />//<br />cpy.w *16&nbsp; &nbsp; &nbsp; &nbsp; ;$5e ~a<br />cpy.b *08&nbsp; &nbsp; &nbsp; &nbsp; ;$7e ~a<br /><br />asl&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$1c<br />asl *08,x&nbsp; &nbsp; &nbsp; &nbsp; ;$1b =a<br />asl *16&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$0c =a<br />asl *08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$0b =a<br />//<br />asl.w *16&nbsp; &nbsp; &nbsp; &nbsp; ;$0c ~a<br />asl.b *08&nbsp; &nbsp; &nbsp; &nbsp; ;$0b ~a<br /><br />lsr&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$5c<br />lsr *08,x&nbsp; &nbsp; &nbsp; &nbsp; ;$5b =a<br />lsr *16&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$4c =a<br />lsr *08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$4b =a<br />//<br />lsr.w *16&nbsp; &nbsp; &nbsp; &nbsp; ;$4c ~a<br />lsr.b *08&nbsp; &nbsp; &nbsp; &nbsp; ;$4b ~a<br /><br />rol&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$3c<br />rol *08,x&nbsp; &nbsp; &nbsp; &nbsp; ;$3b =a<br />rol *16&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$2c =a<br />rol *08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$2b =a<br />//<br />rol.w *16&nbsp; &nbsp; &nbsp; &nbsp; ;$2c ~a<br />rol.b *08&nbsp; &nbsp; &nbsp; &nbsp; ;$2b ~a<br /><br />ror&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$7c<br />ror *08,x&nbsp; &nbsp; &nbsp; &nbsp; ;$7b =a<br />ror *16&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$6c =a<br />ror *08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$6b =a<br />//<br />ror.w *16&nbsp; &nbsp; &nbsp; &nbsp; ;$6c ~a<br />ror.b *08&nbsp; &nbsp; &nbsp; &nbsp; ;$6b ~a<br /><br />inc&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$bc<br />inc *08,x&nbsp; &nbsp; &nbsp; &nbsp; ;$bb =a<br />inc *16&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$ac =a<br />inc *08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$ab =a<br />//<br />inc.w *16&nbsp; &nbsp; &nbsp; &nbsp; ;$ac ~a<br />inc.b *08&nbsp; &nbsp; &nbsp; &nbsp; ;$ab ~a<br /><br />dec&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$9c<br />dec *08,x&nbsp; &nbsp; &nbsp; &nbsp; ;$9b =a<br />dec *16&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$8c =a<br />dec *08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;$8b =a<br />//<br />dec.w *16&nbsp; &nbsp; &nbsp; &nbsp; ;$8c ~a<br />dec.b *08&nbsp; &nbsp; &nbsp; &nbsp; ;$8b ~a</div></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=375"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p121603"></a>
				<b class="postauthor">Bregalad</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p121603">Re: spca65</a></div><div style="float: right;"><a href="./viewtopic.php?p=121603#p121603"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Nov 27, 2013 5:25 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=38.jpg" width="60" height="60" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Nov 12, 2004 2:49 pm<br /><b>Posts:</b> 6322<br /><b>Location:</b> Jongny, VD, Switzerland
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Just my $2, but I think the different syntax between SPC and 65xxx processors is a non-issue.<br />Bad programmers worries about the code, good programmers worries about data structures and algorithms.<br /><br />In other words, the syntax doesn't matter. You'll probably save time rewriting the engine for SPC from scratch because anyways it doesn't have exactly the same instruction set as any 65xxx processor, even if they share a similar architecture. The ability to move direct page between zero-page and one-page is very powerful too.<br />In my opinion it's worth optimizing the code so that it's faster and smaller on SPC, because smaller code means more code to store music, SFX, samples and echo buffer, and faster code means you can run the sound engine faster, updating vibratos and various effects more accurately in time.<br /><br />I think it's a great idea to use the same data structure to store music on NES and on the SNES (and other platforms as well). However, there is still major differences in hardware which will eventually be unavoidable to reflect in the software as well.<br /><br />For instance, arpeggio makes few sense on SNES, because you have enough channels to handles real chords. There is panning on SNES, and HW volume envelope handling. Drums are much simpler (just play a drum sample, no need to do tricks), etc, etc...</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=38"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p121613"></a>
				<b class="postauthor" style="color: #AA0000">tepples</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p121613">Re: spca65</a></div><div style="float: right;"><a href="./viewtopic.php?p=121613#p121613"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Nov 27, 2013 7:08 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=9_1426464006.png" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Sep 19, 2004 11:12 pm<br /><b>Posts:</b> 13842<br /><b>Location:</b> NE Indiana, USA (NTSC)
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">doppelganger wrote:</div><div class="quotecontent">For me the problem isn't writing code for a different processor, or even a different syntax...it's finding samples to play on the APU.</div><br />You can extract them from MODs and the like. If you want, I can post some of my own tracked music with samples short enough to fit in SPC memory.<br /><br /><div class="quotetitle">ARM9 wrote:</div><div class="quotecontent"><div class="quotetitle">tepples wrote:</div><div class="quotecontent">This way we'd end up with a starting point to get away from WLA-DX and the like.</div><br />What's wrong with WLA? I haven't used the spc700 assembler yet but the 65816 one is pretty solid. I think the nwarp spc700 engine compiles with wla.</div><br />For one thing, needing to install two assemblers. It's already painful enough to get collaborators to install Python for image conversion tools. Or should I switch the 65816 parts of my Super NES projects and the 6502 parts of the NES projects that share the same source code to WLA? For another, WLA uses the weird syntax, and my goal in this was to use 6502 syntax so that I can share code between NES and Super NES music engines.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Do you plan on retargeting cc65 to the spc700?</div><br />SPC700 in 6502 syntax would do this implicitly.<br /><br /><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">I think the different syntax between SPC and 65xxx processors is a non-issue.</div><br />The issue is the principle of not repeating yourself. (See articles at <a href="http://c2.com/cgi/wiki?DontRepeatYourself" class="postlink">WikiWikiWeb</a>, <a href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself" class="postlink">Wikipedia</a>, and <a href="http://programmer.97things.oreilly.com/wiki/index.php/Don%27t_Repeat_Yourself" class="postlink">O'Reilly's 97 Things Every Programmer Should Know</a>.) I want to write the music sequence interpretation code once and run it on both 6502 and SPC700 for the NES and Super NES versions of a single game. The only things that should differ between the two are 1. number of channels, 2. how instruments are played, and 3. how the music engine gets called.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">smaller code means more code to store music, SFX, samples and echo buffer</div><br />My NES music engine, including the sound effect and instrument code that would not be shared with the Super NES version, currently takes up less than 1400 bytes.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">arpeggio makes few sense on SNES, because you have enough channels to handles real chords.</div><br />True, and the (rewritten from scratch) instrument handler might treat arpeggio differently.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=9"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p121618"></a>
				<b class="postauthor">Hamtaro126</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p121618">Re: spca65</a></div><div style="float: right;"><a href="./viewtopic.php?p=121618#p121618"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Nov 27, 2013 7:33 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=287.png" width="92" height="77" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Thu Jan 19, 2006 5:08 pm<br /><b>Posts:</b> 671<br /><b>Location:</b> Shelton, Washington.
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">ARM9 wrote:</div><div class="quotecontent">What's wrong with WLA? I haven't used the spc700 assembler yet but the 65816 one is pretty solid. I think the nwarp spc700 engine compiles with wla.<br /></div><br />WLA has many problems with it, I do not like the syntax handling, a couple of examples: Linker Errata, and Index Instructions that add numbers with + do not work in any form<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">;example of label addition with instructions:<br />LDX #$00<br />LDA ThisData+$80,X<br />STA ThatData<br /></div></div>

					
						<div class="postbody"><br />_________________<br />AKA SmilyMZX/AtariHacker.</div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=287"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p121624"></a>
				<b class="postauthor">Bregalad</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p121624">Re: spca65</a></div><div style="float: right;"><a href="./viewtopic.php?p=121624#p121624"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Nov 27, 2013 8:25 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=38.jpg" width="60" height="60" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Nov 12, 2004 2:49 pm<br /><b>Posts:</b> 6322<br /><b>Location:</b> Jongny, VD, Switzerland
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Linker Errata, and Index Instructions that add numbers with + do not work in any form<br /></div><br />Huh ? it works perfectly fine.<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">What's wrong with WLA? </div><br />Well, while the 65xxx ports of WLA works great, the SPC700 port is terrible.<br />First you have to define ROM and RAM sections despite the fact that the SPC700 only has RAM (and a small IPL ROM that you can't program anyways). (the same problem arose when I wanted to program C64 apps with WLA)<br /><br />Then it will randomly generate garbage instead of the instructions you told it to generate. This can be a major pain when debugging your (correctly assembled) code is hard enough, considering the lack of step-by-step SPC700 debuggers.<br /><br />However, spcas by byuu works wonders for me.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">The issue is the principle of not repeating yourself. (See articles at WikiWikiWeb, Wikipedia, and O'Reilly's 97 Things Every Programmer Should Know.) I want to write the music sequence interpretation code once and run it on both 6502 and SPC700 for the NES and Super NES versions of a single game. The only things that should differ between the two are 1. number of channels, 2. how instruments are played, and 3. how the music engine gets called.<br /></div><br />Well, as you want, but in my honest opinion while the idea of sharing parts of the sound engines is great, the idea to not rewrite a completely different version for the other system is terrible.<br />There is going to either be a lot more differences than this or you're going to very seriously underuse the hardware of both systems. The &quot;dont repeat yourself&quot; thing don't apply in this case.<br />However, do as you wish I'm not there to dictate you what to do !</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=38"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p121625"></a>
				<b class="postauthor">ARM9</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p121625">Re: spca65</a></div><div style="float: right;"><a href="./viewtopic.php?p=121625#p121625"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Nov 27, 2013 9:18 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Aug 11, 2013 6:07 am<br /><b>Posts:</b> 46
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">Hamtaro126 wrote:</div><div class="quotecontent">WLA has many problems with it, I do not like the syntax handling</div><br />To each his own, I personally prefer the wla syntax over that of ca65.<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">a couple of examples: Linker Errata, and Index Instructions that add numbers with + do not work in any form<br /><br />;example of label addition with instructions:<br />LDX #$00<br />LDA ThisData+$80,X<br />STA ThatData<br /></div><br />Works fine for me. <img src="./images/smilies/icon_neutral.gif" alt=":|" title="Neutral" /> I've pretty much used every addressing mode for the 65816 by now and I can't remember any of them not working with wla. Neither have I had much trouble with the linker. I wish I could tell you what you're doing wrong, perhaps you're using a really old version?<br /><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">Well, while the 65xxx ports of WLA works great, the SPC700 port is terrible.<br />First you have to define ROM and RAM sections despite the fact that the SPC700 only has RAM (and a small IPL ROM that you can't program anyways). (the same problem arose when I wanted to program C64 apps with WLA)<br /><br />Then it will randomly generate garbage instead of the instructions you told it to generate. This can be a major pain when debugging your (correctly assembled) code is hard enough, considering the lack of step-by-step SPC700 debuggers.<br /></div><br />That's unfortunate, I'm going to start programming the spc700 soon enough so I think I'll give bass v13 a shot. The only emulator I know of that has spc700 debugging is no$sns, you can switch the view in one of the menus.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=6115"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table width="100%" cellspacing="1" class="tablebg">
	<tr align="center">
		<td class="cat"><form name="viewtopic" method="post" action="./viewtopic.php?f=12&amp;t=10730"><span class="gensmall">Display posts from previous:</span> <select name="st" id="st"><option value="0" selected="selected">All posts</option><option value="1">1 day</option><option value="7">7 days</option><option value="14">2 weeks</option><option value="30">1 month</option><option value="90">3 months</option><option value="180">6 months</option><option value="365">1 year</option></select>&nbsp;<span class="gensmall">Sort by</span> <select name="sk" id="sk"><option value="a">Author</option><option value="t" selected="selected">Post time</option><option value="s">Subject</option></select> <select name="sd" id="sd"><option value="a" selected="selected">Ascending</option><option value="d">Descending</option></select>&nbsp;<input class="btnlite" type="submit" value="Go" name="sort" /></form></td>
	</tr>
	</table>
	

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=12"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=12&amp;t=10730"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>1</strong> of <strong>4</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 54 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"><b><a href="#" onclick="jumpto(); return false;" title="Click to jump to pageâ€¦">Go to page</a> <strong>1</strong><span class="page-sep">, </span><a href="./viewtopic.php?f=12&amp;t=10730&amp;start=15">2</a><span class="page-sep">, </span><a href="./viewtopic.php?f=12&amp;t=10730&amp;start=30">3</a><span class="page-sep">, </span><a href="./viewtopic.php?f=12&amp;t=10730&amp;start=45">4</a> &nbsp;<a href="./viewtopic.php?f=12&amp;t=10730&amp;start=15">Next</a></b></td>
		
	</tr>
	</table>

</div>

<div id="pagefooter"></div>

<br clear="all" />
<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=25">Other</a> &#187; <a href="./viewforum.php?f=12">SNESdev</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>
	<br clear="all" />

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat"><h4>Who is online</h4></td>
	</tr>
	<tr>
		<td class="row1"><p class="gensmall">Users browsing this forum: <a href="./memberlist.php?mode=viewprofile&amp;u=4209">kogami</a> and 2 guests</p></td>
	</tr>
	</table>


<br clear="all" />

<table width="100%" cellspacing="1">
<tr>
	<td width="40%" valign="top" nowrap="nowrap" align="left"></td>
	<td align="right" valign="top" nowrap="nowrap"><span class="gensmall">You <strong>cannot</strong> post new topics in this forum<br />You <strong>cannot</strong> reply to topics in this forum<br />You <strong>cannot</strong> edit your posts in this forum<br />You <strong>cannot</strong> delete your posts in this forum<br />You <strong>cannot</strong> post attachments in this forum<br /></span></td>
</tr>
</table>

<br clear="all" />

<table width="100%" cellspacing="0">
<tr>
	<td><form method="get" name="search" action="./search.php"><span class="gensmall">Search for:</span> <input class="post" type="text" name="keywords" size="20" /> <input class="btnlite" type="submit" value="Go" /><input type="hidden" name="t" value="10730" />
<input type="hidden" name="sf" value="msgonly" />
</form></td>
	<td align="right">
	<form method="post" name="jumpbox" action="./viewforum.php" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	<table cellspacing="0" cellpadding="0" border="0">
	<tr>
		<td nowrap="nowrap"><span class="gensmall">Jump to:</span>&nbsp;<select name="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">

		
			<option value="-1">Select a forum</option>
		<option value="-1">------------------</option>
			<option value="24">NES / Famicom</option>
		
			<option value="2">&nbsp; &nbsp;NESdev</option>
		
			<option value="3">&nbsp; &nbsp;NESemdev</option>
		
			<option value="21">&nbsp; &nbsp;NES Graphics</option>
		
			<option value="6">&nbsp; &nbsp;NES Music</option>
		
			<option value="22">&nbsp; &nbsp;Homebrew Projects</option>
		
			<option value="10">&nbsp; &nbsp;Newbie Help Center</option>
		
			<option value="9">&nbsp; &nbsp;NES Hardware and Flash Equipment</option>
		
			<option value="28">&nbsp; &nbsp;Reproduction</option>
		
			<option value="11">&nbsp; &nbsp;FCdev</option>
		
			<option value="18">&nbsp; &nbsp;NESdev China</option>
		
			<option value="27">&nbsp; &nbsp;NESdev Middle East</option>
		
			<option value="19">&nbsp; &nbsp;NESdev International</option>
		
			<option value="25">Other</option>
		
			<option value="5">&nbsp; &nbsp;General Stuff</option>
		
			<option value="4">&nbsp; &nbsp;Membler Industries</option>
		
			<option value="12" selected="selected">&nbsp; &nbsp;SNESdev</option>
		
			<option value="20">&nbsp; &nbsp;GBDev</option>
		
			<option value="23">&nbsp; &nbsp;Other Retro Dev</option>
		
			<option value="15">&nbsp; &nbsp;Test Forum</option>
		
			<option value="26">Site Issues</option>
		
			<option value="13">&nbsp; &nbsp;phpBB Issues</option>
		
			<option value="14">&nbsp; &nbsp;Web Issues</option>
		
			<option value="16">&nbsp; &nbsp;nesdevWiki</option>
		

		</select>&nbsp;<input class="btnlite" type="submit" value="Go" /></td>
	</tr>
	</table>

	</form>
</td>
</tr>
</table>


</div>

<div id="wrapfooter">
	
	<span class="copyright">Powered by <a href="http://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Group
	</span>
</div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-61452025-2', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>