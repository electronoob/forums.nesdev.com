<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="http://forums.nesdev.com/feed.php?f=6&amp;t=8639" />

<title>nesdev.com</title>
<subtitle>NES Development and Strangulation Records message boards</subtitle>
<link href="http://forums.nesdev.com/index.php" />
<updated>2017-08-07T15:04:57-07:00</updated>

<author><name><![CDATA[nesdev.com]]></name></author>
<id>http://forums.nesdev.com/feed.php?f=6&amp;t=8639</id>
<entry>
<author><name><![CDATA[rainwarrior]]></name></author>
<updated>2013-02-04T09:36:08-07:00</updated>
<published>2013-02-04T09:36:08-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8639&amp;p=107363#p107363</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8639&amp;p=107363#p107363"/>
<title type="html"><![CDATA[Re: Famicom expansion hardware recordings]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8639&amp;p=107363#p107363"><![CDATA[
Added a recording of several carts at once to compare their audio level. See OP.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=5165">rainwarrior</a> — Mon Feb 04, 2013 9:36 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Jarhmander]]></name></author>
<updated>2012-05-22T17:38:58-07:00</updated>
<published>2012-05-22T17:38:58-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8639&amp;p=94313#p94313</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8639&amp;p=94313#p94313"/>
<title type="html"><![CDATA[Famicom expansion hardware recordings]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8639&amp;p=94313#p94313"><![CDATA[
Nice find!<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=336">Jarhmander</a> — Tue May 22, 2012 5:38 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[lidnariq]]></name></author>
<updated>2012-05-22T16:45:14-07:00</updated>
<published>2012-05-22T16:45:14-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8639&amp;p=94312#p94312</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8639&amp;p=94312#p94312"/>
<title type="html"><![CDATA[Famicom expansion hardware recordings]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8639&amp;p=94312#p94312"><![CDATA[
You're right; the self-biasing may not even cause it to be in the highest-slope region of the transfer function depending on the function's exact shape. In any case, <!-- m --><a class="postlink" href="http://www.fairchildsemi.com/an/AN/AN-88.pdf">http://www.fairchildsemi.com/an/AN/AN-88.pdf</a><!-- m --> describes the temperature dependence nicely.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3512">lidnariq</a> — Tue May 22, 2012 4:45 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Jarhmander]]></name></author>
<updated>2012-05-22T14:12:12-07:00</updated>
<published>2012-05-22T14:12:12-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8639&amp;p=94305#p94305</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8639&amp;p=94305#p94305"/>
<title type="html"><![CDATA[Famicom expansion hardware recordings]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8639&amp;p=94305#p94305"><![CDATA[
Highest possible gain? This resistor does negative feedback, which <em>reduces</em> the gain of any amplifier and help linearize output as well as extending the bandwidth of the amplifier and make the overall gain less affected by variations of the amplifier's gain. Of course, the amount of feedback seems low, so variations of the inverter's 'gain' could have noticeable effects on the overall gain.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=336">Jarhmander</a> — Tue May 22, 2012 2:12 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[lidnariq]]></name></author>
<updated>2012-05-22T13:43:37-07:00</updated>
<published>2012-05-22T13:43:37-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8639&amp;p=94299#p94299</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8639&amp;p=94299#p94299"/>
<title type="html"><![CDATA[Famicom expansion hardware recordings]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8639&amp;p=94299#p94299"><![CDATA[
<div class="quotetitle">rainwarrior wrote:</div><div class="quotecontent"><br />As I've been making these recordings I have noticed that volume levels vary over time as the machine/cartridge warms up, etc. so in addition to the difference between various models, you also have variation due to temperature on the same console. Precision simply isn't possible.<br /></div>Both the NES and Famicom use a 74-series inverter as an audio amplifier. (74'04 for the NES, 74'368 for the Famicom). They are wired (by R7 <a href="http://nesdev.com/Ntd_8bit.jpg" class="postlink">here</a>) to be functioning at their highest possible gain, but because these are digital logic parts, neither the voltage nor gain is characterized, let alone consistent. I'd expect a strong temperature dependence.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3512">lidnariq</a> — Tue May 22, 2012 1:43 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[rainwarrior]]></name></author>
<updated>2012-05-22T23:59:17-07:00</updated>
<published>2012-05-22T13:32:11-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8639&amp;p=94296#p94296</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8639&amp;p=94296#p94296"/>
<title type="html"><![CDATA[Famicom expansion hardware recordings]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8639&amp;p=94296#p94296"><![CDATA[
As I've been making these recordings I have noticed that volume levels vary over time as the machine/cartridge warms up, etc. so in addition to the difference between various models, you also have variation due to temperature on the same console. Precision simply isn't possible.<br /><br />This is what I think we're looking at in the differences between systems, in decreasing order of importance.<br /><br />1. The output chain after the cartridge generally contains some sort of lowpass filter, and possibly a highpass as well. This chain could include circuitry in the console (e.g. NES' mild lowpass) or in the television (RF demodulator, EQ, speaker). Some may include a significant highpass as well.<br /><br />2. The actual output volume of the 2A03 may be significantly different between types of Famicom, which could consistently affect 2A03/expansion volume balance for any particular model.<br /><br />3. The inaccuracy of resistors and other components in the cartridge and in the famicom will result in minor variations in volume balance from system to system, cart to cart, or time to time depending on temperature. This factor limits the precision with which we can measure the volume balance.<br /><br />4. Other factors in the input or output chain. Noise from the microphone circuit, environmental noise, bad wiring, etc. These I don't think are very significant in general, and aren't normally worth modelling.<br /><br />Factors 1 and 2 are already addressed fairly well by NSFPlay's settings, especially the "Easy Setup" menu which has some presets made by Brezza to simulate various models of Famicom. Factors 3 and 4 aren't really addressable, and are just an indication that there are limits to the precision in which system-to-system variation can be modelled.<br /><br /><br /><br />As for the output of an N163, the 8-channel recordings speak for themselves, I think. I just added <em>Erika to Satoru no Yumebouken</em> to the list of recordings. These are recordings coming right off the cartridge's audio out, so it's about as pure an example as you can get, I think. The device used to record them from there has its own lowpass/highpass filter out of necessity, but these have a fairly minor impact.<br /><br />On a television you have plenty of options to mitigate the aliasing issue for the two 8-channel games. RF demodulation generally includes a huge lowpass on the signal. Many TVs have a simple bass/treble adjustment that you can use to filter out most of the aliasing.<br /><br />The really interesting thing is we can see that we have the update rates correct by the spectrum graphs. The spectrum has a natural curve down to the nyquist frequency (around 7.5kHz), and then you see it curve back up with a mirror set of aliased frequencies back up to the update frequency (~15kHz), and above there is mirrors yet again but you're starting to fight the lowpass filter in the recording device itself at that point.<br /><br />NEZPlug++ does sound a little too harsh, I think, even against the relatively unfiltered output jrlepage and I have made recordings of, but it is at least getting the update rate correct. I'm still working out my own version of it, but I haven't quite nailed it down yet. I suspect there's some nonlinearity in its DAC as well that I will want to model.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=5165">rainwarrior</a> — Tue May 22, 2012 1:32 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[ionustron]]></name></author>
<updated>2012-05-21T12:03:13-07:00</updated>
<published>2012-05-21T12:03:13-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8639&amp;p=94190#p94190</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8639&amp;p=94190#p94190"/>
<title type="html"><![CDATA[Famicom expansion hardware recordings]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8639&amp;p=94190#p94190"><![CDATA[
<div class="quotetitle">jrlepage wrote:</div><div class="quotecontent"><br />Yeah.. But it's not as bad as NEZPlug++ or FamiTracker make it sound. At least, I didn't want to murder anything after a minute of listening to King of Kings on the real Famicom, unlike those two emulators...<br /></div><br /><br />Seems more possible between various models &amp; clones that the output can be stronger or weaker. Great.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4342">ionustron</a> — Mon May 21, 2012 12:03 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[rainwarrior]]></name></author>
<updated>2017-08-07T15:04:57-07:00</updated>
<published>2012-05-16T13:41:21-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8639&amp;p=93920#p93920</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8639&amp;p=93920#p93920"/>
<title type="html"><![CDATA[Famicom expansion hardware recordings]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8639&amp;p=93920#p93920"><![CDATA[
I've been getting around to testing out the VRC7.<br /><br />I made a test of the VRC7 patch set vs the one posted by quietust a long while ago:<br />vrc7_patch_test.flac (dropbox link removed, file lost)<br /><br />Patch set used:<br /><a href="http://nesdev.com/cgi-bin/wwwthreads/showpost.pl?Board=NESemdev&amp;Number=1440" class="postlink">http://nesdev.com/cgi-bin/wwwthreads/showpost.pl?Board=NESemdev&amp;Number=1440</a><br /><br />Each patch sounds 6 tones, each 2 seconds on, 1 second release, 1 second off.<br /><br />1. Hard patch, low pitch, sustained release<br />2. Custom patch, low pitch, sustained release<br />3. Hard patch, medium pitch, regular release<br />4. Custom patch, medium pitch, regular release<br />5. Hard patch, high pitch, regular release<br />6. Custom patch, high pitch, regular release<br /><br />After a full loop through all 15 at volume 0 (full volume) I run them again at volume 8 (low volume).<br /><br />As you can hear, it's actually a very good guess at the patch set. All the noticeable differences are rather minor ( e.g. release on patch 8 ). I'll work on hammering out these minor differences, then I'm going to try to write an emulator that actually sounds correct.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=5165">rainwarrior</a> — Wed May 16, 2012 1:41 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[jrlepage]]></name></author>
<updated>2012-05-15T23:53:17-07:00</updated>
<published>2012-05-15T23:53:17-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8639&amp;p=93892#p93892</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8639&amp;p=93892#p93892"/>
<title type="html"><![CDATA[Famicom expansion hardware recordings]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8639&amp;p=93892#p93892"><![CDATA[
Yeah.. But it's not as bad as NEZPlug++ or FamiTracker make it sound. At least, I didn't want to murder anything after a minute of listening to King of Kings on the real Famicom, unlike those two emulators...<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=5260">jrlepage</a> — Tue May 15, 2012 11:53 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[ionustron]]></name></author>
<updated>2012-05-15T20:35:06-07:00</updated>
<published>2012-05-15T20:35:06-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8639&amp;p=93886#p93886</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8639&amp;p=93886#p93886"/>
<title type="html"><![CDATA[Famicom expansion hardware recordings]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8639&amp;p=93886#p93886"><![CDATA[
Yep, that high pitch in King of Kings is definitely there. Bleh.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4342">ionustron</a> — Tue May 15, 2012 8:35 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[jrlepage]]></name></author>
<updated>2012-05-13T23:33:31-07:00</updated>
<published>2012-05-13T23:33:31-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8639&amp;p=93759#p93759</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8639&amp;p=93759#p93759"/>
<title type="html"><![CDATA[Famicom expansion hardware recordings]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8639&amp;p=93759#p93759"><![CDATA[
Here's some more recordings:<br /><br />Namco 163:<br />-<a href="http://www.mediafire.com/?ec47t4jajbb6ywl" class="postlink">King of Kings (8 channels)</a><br />-<a href="http://www.mediafire.com/?lwdf8bfaoguy7e3" class="postlink">Final Lap (4 channels)</a><br />-<a href="http://www.mediafire.com/?vby5zhhbhh3hmaq" class="postlink">Megami Tensei II (4 channels)</a><br /><br />VRC6:<br />-<a href="http://www.mediafire.com/?8aijas3l2yoli1t" class="postlink">Akumajou Densetsu</a><br /><br />All of these were recorded from an AV-modded Famicom (recorded from pin 46).<br /><br />I hope these will be useful to someone. I realise there isn't much need for a full recording of Akumajou Densetsu, but I was bored. <img src="http://forums.nesdev.com/images/smilies/icon_smile.gif" alt=":)" title="Smile" /> Also, the first two tracks were recorded from a different cart; I switched after those because the first one was giving me trouble. I didn't bother rerecording the first two, but found out after the fact that my two carts have different volume balance between VRC6 and 2A03... It's not very noticeable anyway.<br /><br />It's worth noting that the only NSF rip of King of Kings is missing the melody in the in-game track (the frequencies are updated but the volume stays at 0 throughout the entire track).<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=5260">jrlepage</a> — Sun May 13, 2012 11:33 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[rainwarrior]]></name></author>
<updated>2012-05-01T01:55:29-07:00</updated>
<published>2012-05-01T01:55:29-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8639&amp;p=93139#p93139</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8639&amp;p=93139#p93139"/>
<title type="html"><![CDATA[Famicom expansion hardware recordings]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8639&amp;p=93139#p93139"><![CDATA[
I've now got a Famicom running, and I have carts of all the expansions available to me now (no FDS at the moment, but that will change).<br /><br />I'll be posting reference recordings, and more information later, but for now I have some info on the 5B to share:<br /><br />Gimmick's 5B chip does indeed support the noise and envelope features of the YM2149F, and the envelope speed is as I expected. The envelope runs at exactly 1/16 the speed of the equivalent tone frequency (or an octave down in triangle mode). I'll share some code/ROMs/recordings later.<br /><br />So, this means: Nestopia is a pretty accurate reference for the 5B sound. NSFPlay/NSFPlug is also pretty good. Most other emulators don't implement the noise/envelope features, and a few (e.g. VirtuaNSF) play envelopes incorrectly at double speed.<br /><br /><br />Edit: I've posted a soundtrack recording and the test code to my OP.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=5165">rainwarrior</a> — Tue May 01, 2012 1:55 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[rainwarrior]]></name></author>
<updated>2012-04-06T11:02:45-07:00</updated>
<published>2012-04-06T11:02:45-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8639&amp;p=92218#p92218</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8639&amp;p=92218#p92218"/>
<title type="html"><![CDATA[Famicom expansion hardware recordings]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8639&amp;p=92218#p92218"><![CDATA[
Beginning to fill my own requests, I acquired a Lagrange Point cart and recorded its entire sound test on my audio-modded NES:<br /><br /><a href="http://rainwarrior.thenoos.net/projects/nes/lp_ref.zip" class="postlink">http://rainwarrior.thenoos.net/projects/nes/lp_ref.zip</a><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=5165">rainwarrior</a> — Fri Apr 06, 2012 11:02 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[rainwarrior]]></name></author>
<updated>2012-04-01T15:41:41-07:00</updated>
<published>2012-04-01T15:41:41-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8639&amp;p=92084#p92084</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8639&amp;p=92084#p92084"/>
<title type="html"><![CDATA[Famicom expansion hardware recordings]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8639&amp;p=92084#p92084"><![CDATA[
As I create test NSFs I will archive them at: <a href="http://rainwarrior.ca/projects/nsfplay/" class="postlink">http://rainwarrior.ca/projects/nsfplay/</a><br /><br />The current version contains a test for 5B and MMC5 PCM:<br /><a href="http://rainwarrior.ca/projects/nsfplay/bs_nsf_tests_10.zip" class="postlink">http://rainwarrior.ca/projects/nsfplay/bs_nsf_tests_10.zip</a><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=5165">rainwarrior</a> — Sun Apr 01, 2012 3:41 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[rainwarrior]]></name></author>
<updated>2012-03-17T00:05:11-07:00</updated>
<published>2012-03-17T00:05:11-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8639&amp;p=91420#p91420</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8639&amp;p=91420#p91420"/>
<title type="html"><![CDATA[Famicom expansion hardware recordings]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8639&amp;p=91420#p91420"><![CDATA[
Ah, I've discovered the problem. The NSFs are not compliant with the spec.<br /><br />The bankswitching bytes in the NSF header (70-77) are all 0. This means (according to the spec) that bankswitching is disabled.<br /><br />Just put 00 01 02 03 04 05 06 07 in there and it will work as intended.<br /><br /><a href="http://kevtris.org/nes/nsfspec.txt" class="postlink">http://kevtris.org/nes/nsfspec.txt</a><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=5165">rainwarrior</a> — Sat Mar 17, 2012 12:05 am</p><hr />
]]></content>
</entry>
</feed>