<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Upgrading to phpBB 3.x -- feedback needed</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Upgrading to phpBB 3.x -- feedback needed</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=13&amp;t=8430">http://forums.nesdev.com/viewtopic.php?f=13&amp;t=8430</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>koitsu</b> [ Tue Dec 20, 2011 4:18 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Upgrading to phpBB 3.x -- feedback needed</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />First and foremost: no, the forum isn't going to be upgraded unless folks (as a majority) are cool with it.
<br />
<br />Today I poked around with "migrating" the board to phpBB 3.0.9.  I did install it (but not at the /bbs/ URL), and even converted/imported all the existing forum posts into the new board version.  It worked, with only a couple errors (purely caused by old spammer posts).  Quite honestly I was impressed by the conversion; I really didn't think it'd work.
<br />
<br />There were a few oddities, such as &lt;br&gt; tags in some of the forum descriptions, and some other extremely minor stuff which I'm sure tepples and I could figure out.  I didn't test UTF-8 post support, but our existing UTF-8 posts looked correct.
<br />
<br />The newer software has some pretty decent/advanced anti-spam support, which I imagine would make a lot of people here happy.  However, folks reading this paragraph need to remember that a *lot* of the spam we get here is a result of humans -- literally Indians or Chinese creating accounts manually, not via software.  Captcha and captcha-equivalents can't solve that (but phpBB 3.x does support both kinds).
<br />
<br />Anyway -- the biggest problem I ran into was that the existing nesdev forum style (black background, orange cells/bars, etc.) wasn't migrated.  I tried to figure out how to manually create a new style (e.g. migrating it by hand), but was thwarted.  It seems the style stuff between 2.x and 3.x is significantly different, and that's understandable.  I have no problem spending the time to figure out how to get the existing nesdev forum style working in phpBB 3.x though (I tend to like dark backgrounds :-) ).
<br />
<br />Though, so far I'm not impressed with phpBB 3.x's style support -- for one, it prefers to store the CSS in the back-end database rather than as a file on the filesystem (someone obviously doesn't understand the performance implications of this, sigh), but it does offer the ability.
<br />
<br />All that said:
<br />
<br />How would folks feel about migrating to newer software?  Performance-wise it would be a big improvement, and from an administrative perspective it would be easier for me to manage (especially when dealing with spammers -- right now finding the IP of a spammer who creates an account but doesn't post anything is a serious pain in the ass).
<br />
<br />Alternately there's the possibility of upgrading the board from 2.0.21 to 2.0.23 -- which I tried as well, and it did not turn out well.  In fact, some of the PHP files for this forum are missing massive amounts of code (literally 40-50 lines in some files) for reasons I can't figure out, so I'm a little wary of going that route.  I guess I could install 2.0.23 fresh then import all the forum posts to that.
<br />
<br />Please discuss/provide feedback if you could.  Thanks everyone!

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Tue Dec 20, 2011 5:15 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I would like to see it updated to phpBB3, don't have much more to say. Just doesn't seem like there would be any downsides.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Kasumi</b> [ Tue Dec 20, 2011 5:37 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Since it makes things easier on you, if no posts are lost (seems they won't be) I'm cool with it as well.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Tue Dec 20, 2011 5:57 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Updates are usually good, I'm all for it.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Tue Dec 20, 2011 8:12 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Upgrading to phpBB 3.x -- feedback needed</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">koitsu wrote:</div><div class="quotecontent">Though, so far I'm not impressed with phpBB 3.x's style support -- for one, it prefers to store the CSS in the back-end database rather than as a file on the filesystem (someone obviously doesn't understand the performance implications of this, sigh), but it does offer the ability.</div><br />MediaWiki lets logged-in users edit their own CSS (e.g. User:Tepples/monobook.css), but Wikipedia doesn't have a performance problem. What's the underlying difference between a "file system" and a "database" anyway? They're both ways to store a collection of records.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">How would folks feel about migrating to newer software?</div><br />Go ahead.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">and from an administrative perspective it would be easier for me to manage</div><br />The permissions are slightly finer-grained too. phpBB 3 introduces a user level higher than moderator and lower than administrator called "global moderator" that can ban but can't do some other things that admins can do.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I guess I could install 2.0.23 fresh then import all the forum posts to that.</div>
<br />If you're going to that trouble, you might as well go to 3 because at least 3 is still supported with security updates.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>koitsu</b> [ Tue Dec 20, 2011 2:57 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Upgrading to phpBB 3.x -- feedback needed</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent"><div class="quotetitle">koitsu wrote:</div><div class="quotecontent">Though, so far I'm not impressed with phpBB 3.x's style support -- for one, it prefers to store the CSS in the back-end database rather than as a file on the filesystem (someone obviously doesn't understand the performance implications of this, sigh), but it does offer the ability.</div><br />MediaWiki lets logged-in users edit their own CSS (e.g. User:Tepples/monobook.css), but Wikipedia doesn't have a performance problem. What's the underlying difference between a "file system" and a "database" anyway? They're both ways to store a collection of records.</div>
<br />
<br />The underlying difference is that you can't use &lt;link rel="stylesheet" type="text/css" href="some/file.css" /&gt; when the CSS is stored in a database.
<br />
<br />Instead, it all has to be done in-line (e.g. &lt;style type="text/css"&gt;...&lt;/style&gt;), which is a waste of network traffic and resources on every single fetch that would return that content, rather than letting the user's web browser download some/file.css once and refer to it from the local browser's cache.  (Changes to the file are automatically handled given HTTP's caching semantics, things like ETag, etc. all help this work reliably -- this obviously can't happen with in-line CSS)
<br />
<br />And it's an even bigger waste of resources if the software, on an HTTP fetch, pulls the CSS from the database, sticks it in a temporary file on the filesystem, and then uses &lt;link&gt; to refer to that -- removing the file when it's done -- this also defeats the benefits of caching.  I've seen software out there do this and it baffles the mind; just another example of the horribly broken "shove EVERYTHING in a database" mentality.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Tue Dec 20, 2011 3:53 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Upgrading to phpBB 3.x -- feedback needed</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">koitsu wrote:</div><div class="quotecontent">The underlying difference is that you can't use &lt;link rel="stylesheet" type="text/css" href="some/file.css" /&gt; when the CSS is stored in a database.<br /><br />Instead, it all has to be done in-line (e.g. &lt;style type="text/css"&gt;...&lt;/style&gt;)</div>
<br />&lt;link rel="stylesheet" type="text/css" href="some/style_script.php?theme=prosilver" /&gt;
<br />and then style_script.php would calculate an ETag (based on last-modified date? SHA-1?) and other cache-related headers and spit out the style sheet.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Banshaku</b> [ Tue Dec 20, 2011 4:56 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Go ahead. The style should be able to be figured out with time.  I'm sure we can live with a different style for the transition phase.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dwedit</b> [ Tue Dec 20, 2011 5:32 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />How exactly do you stop Indian spammers anyway, besides blocking all IPs from India?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>koitsu</b> [ Tue Dec 20, 2011 8:57 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Dwedit wrote:</div><div class="quotecontent">How exactly do you stop Indian spammers anyway, besides blocking all IPs from India?</div>
<br />
<br />Given that they read English and *absolutely* read the forum posts, I'll discuss this with you privately.  :-)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>koitsu</b> [ Tue Dec 20, 2011 8:58 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Upgrading to phpBB 3.x -- feedback needed</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent"><div class="quotetitle">koitsu wrote:</div><div class="quotecontent">The underlying difference is that you can't use &lt;link rel="stylesheet" type="text/css" href="some/file.css" /&gt; when the CSS is stored in a database.<br /><br />Instead, it all has to be done in-line (e.g. &lt;style type="text/css"&gt;...&lt;/style&gt;)</div><br />&lt;link rel="stylesheet" type="text/css" href="some/style_script.php?theme=prosilver" /&gt;<br />and then style_script.php would calculate an ETag (based on last-modified date? SHA-1?) and other cache-related headers and spit out the style sheet.</div>
<br />
<br />It's too bad it isn't done this way.  That's a lot of work for something the webserver already does itself with flat files anyway... :-(

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Tue Dec 20, 2011 9:03 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />We should have NES-related questions during the subscription process.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Wed Dec 21, 2011 6:40 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Upgrading to phpBB 3.x -- feedback needed</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">koitsu wrote:</div><div class="quotecontent"><div class="quotetitle">tepples wrote:</div><div class="quotecontent">&lt;link rel="stylesheet" type="text/css" href="some/style_script.php?theme=prosilver" /&gt;<br />and then style_script.php would ca</div><br />It's too bad it isn't done this way.</div><br />It is in MediaWiki. (See <a href="http://wiki.nesdev.com/w/index.php?title=-&amp;action=raw&amp;gen=css" class="postlink">http://wiki.nesdev.com/w/index.php?title=-&amp;action=raw&amp;gen=css</a>.) Or does the architecture of phpBB 3 preclude this?<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">That's a lot of work for something the webserver already does itself with flat files anyway... <img src="./images/smilies/icon_sad.gif" alt=":-(" title="Sad" /></div>
<br />Three differences: <ol style="list-style-type: lower-alpha"><li>Again, what's the fundamental difference between a "flat file" and a "blob", or between a "file system" and a "database"? A file system is like a database in that the filename is a key and the data in a file is a value. </li><li>The web server doesn't know how to handle authentication and authorization to determine whether a particular user logged in through the phpBB session system is allowed to see a given flat file. That's why MediaWiki uses a <a href="http://www.mediawiki.org/wiki/Manual:Image_Authorization" class="postlink">PHP wrapper for images on private wikis</a>. </li><li>I think under some kinds of security policies implemented on web servers, which are analogous to <a href="http://en.wikipedia.org/wiki/Executable_space_protection" class="postlink">W^X policies within a process</a>, PHP scripts within the web root don't have the privileges to write to directories within the web root. Any dynamic content has to be either database-driven or changed through a separate CGI directory. </li></ol>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>3gengames</b> [ Wed Dec 21, 2011 1:36 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Sounds good to me, but do as you please Koitsu. <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Memblers</b> [ Wed Dec 21, 2011 3:59 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Upgrade sounds good to me.  If we can somehow keep the same color scheme that would be great though, so people know where they are.  Nothing is more bland that having 90% of the forums around using the same default color scheme (even though "our" color scheme <em>was</em> the default of a different forum software, heh).

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>