<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Newbie doubts or nes reproduction</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Newbie doubts or nes reproduction</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=10&amp;t=7041">http://forums.nesdev.com/viewtopic.php?f=10&amp;t=7041</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>5</strong> of <strong>6</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>3gengames</b> [ Tue Nov 09, 2010 6:17 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Well....only thing that could be bad now is the chip its self if you did everything right. You have any more by chance?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Memblers</b> [ Tue Nov 09, 2010 6:17 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />What is the part number of the RAM?  Often the part # has an L or LL at the end, which is the low-power version, for use with batteries.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>playfortoday</b> [ Tue Nov 09, 2010 6:21 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />the chip is:
<br />HM6264LP-70

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>blargg</b> [ Tue Nov 09, 2010 6:58 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">playfortoday wrote:</div><div class="quotecontent">anyway... battery 2,81V. from pin 14 to pin 28 1.38V</div>
<br />That doesn't look right. That's a 1.43V drop. I think maybe you put one of the diodes where a resistor should have gone, causing two diode drops from battery to memory.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>playfortoday</b> [ Wed Nov 10, 2010 3:19 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The game saves fine on two emulators so i don't think that's the issue.
<br />And i'm pretty sure i put the diode in the right direction. About the battery: i tried every combination possible (there are 3 solder pads on the back).
<br />I put two pictures:
<br /><a href="http://img199.imageshack.us/i/pict4284i.jpg/" class="postlink"><img src="http://img199.imageshack.us/img199/4552/pict4284i.th.jpg" alt="Image" /></a>
<br /><a href="http://img688.imageshack.us/i/pict4283t.jpg/" class="postlink"><img src="http://img688.imageshack.us/img688/7239/pict4283t.th.jpg" alt="Image" /></a>
<br />There are 2 wires floating (i tried to put a capacitor -the manual says it is not needed- but the removed it, i still have to desolder)
<br />About D2 (2nd diode) the pcb was already like that when i bought (wired i mean). I tried put a diode there too but it was unaffective. Now the pcb is a mess because i tried so many thing i can't even remember.
<br />and yeah i know i suck in soldering <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>3gengames</b> [ Wed Nov 10, 2010 4:51 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />On the directions from RetroUSB, it says you also need a Diode on D2. You just have a jumper. That might be a problem.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>playfortoday</b> [ Wed Nov 10, 2010 4:59 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />i don't want to be rude but
<br />
<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">About D2 (2nd diode) the pcb was already like that when i bought (wired i mean). I tried put a diode there too but it was unaffective</div>
<br /><img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />
<br />i just desoldered it after some try and put the wire back.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>playfortoday</b> [ Wed Nov 10, 2010 7:37 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Do you think i can do this:
<br />
<br /><img src="http://nintendoallstars.w.interia.pl/romlab/msram.gif" alt="Image" />
<br />
<br />maybe i can try with the diode and the resistor too at first... 
<br />I mean, maybe with this method i can be sure if the saving works, right?
<br />I don't think this will harm my cart... at least i hope so <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>3gengames</b> [ Wed Nov 10, 2010 9:03 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Ahhhh, didn't see that sentence. Okay well I think you should leave the diode there there. And for the Mobile SRAM, I am not sure. It might be just a bad trace in the board seeing as the board looks like everything is right, but I have no idea. Maybe use the meter to test all the little pads the battery goes on to make sure that they are what you think and do goto the SRAM's pin 28.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>blargg</b> [ Wed Nov 10, 2010 9:24 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Measure the voltage as it goes from the + terminal of the battery to RAM. You should see a ~0.7V drop after the diode, then no other significant drop to the RAM, unless your repro board for some reason puts <em>two</em> diodes in series. If you see a large voltage drop on the resistor, it means something is drawing excessive battery current.
<br />
<br />The usual arrangement is for the battery to go through a diode (to prevent back current), and a resistor (to prevent excessive current draw), to the RAM power, and for +5V to go through its own diode (also to prevent back current when the cartridge is out of the NES). That jumper is likely where the 5V diode goes. You put a jumper there when you don't have battery RAM, and a diode there when you do have a battery, at least for MMC1 boards. It's unlikely this works any differently.
<br />
<br />Also, don't just try random things. It leads to sloppyness and lack of careful observation, which are good ways to make no progress when debugging. The first thing I'd do is mark on the PCB the proper orientation of both diodes, so you won't ever put them in backwards. No sense in tempting problems; use whatever aids you can in reducing the chance for error.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>playfortoday</b> [ Wed Nov 10, 2010 1:02 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Measure the voltage as it goes from the + terminal of the battery to RAM. You should see a ~0.7V drop after the diode, then no other significant drop to the RAM, unless your repro board for some reason puts two diodes in series. If you see a large voltage drop on the resistor, it means something is drawing excessive battery current.</div><br /><br />There are not 2 diodes... i'll try later to see how much it drops<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"> The first thing I'd do is mark on the PCB the proper orientation of both diodes, so you won't ever put them in backwards. No sense in tempting problems; use whatever aids you can in reducing the chance for error.</div><br /><br />I'm sure i've oriented the diodes in the right way following the mmc1 manual.<br /><br />The guy from retrousb just wrote me this:<br /><br />Both diodes and the resistor are necessary.  One diode protects the battery, the other prevents the battery from powering the rest of the chips.  The resistor slows down the battery drain so it lasts longer.<br /><br />Additionally depending on which SRAM chip you have you may need to rewire the chip enable pins.  I think the board isn't wired correctly for an 8KB chip with two enables.<br />[/quote]

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>playfortoday</b> [ Wed Nov 10, 2010 2:33 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />for the record: i tried that mobile sram method. It does not work: the game freeze. <img src="./images/smilies/icon_sad.gif" alt=":(" title="Sad" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>3gengames</b> [ Wed Nov 10, 2010 3:53 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Wow, extremely strange. It could be that the chip is dead. Thats the only thing I can think of. 0_o Wow.....weird.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>playfortoday</b> [ Wed Nov 10, 2010 4:06 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Ok... i took a new mmc1 pcb. tried another game.
<br />Just to test i made Faria.
<br />IT WORKED. i REALLY don't know why THIS worked since i made the SAME things as the other board.
<br />A dead chip? Bad rom? don't know. :/
<br />ps:as always i thank you all.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>3gengames</b> [ Wed Nov 10, 2010 4:23 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Maybe the board was defective....? Wow, really strange. Glad you got it working though! How many more repros you plan on making now that you have it figured out? <img src="./images/smilies/icon_razz.gif" alt=":P" title="Razz" />

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>5</strong> of <strong>6</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>