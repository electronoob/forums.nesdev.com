<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Namcot 163/MMC5/Konami VRC6 Audio Level test program</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Namcot 163/MMC5/Konami VRC6 Audio Level test program</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=2&amp;t=16910">http://forums.nesdev.com/viewtopic.php?f=2&amp;t=16910</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>2</strong> of <strong>6</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>NewRisingSun</b> [ Mon Aug 06, 2018 9:38 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Namcot 163/MMC5/Konami VRC6 Audio Level test program</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Great Hierophant wrote:</div><div class="quotecontent">I would not trust the EverDrive's handling of any expansion audio levels in an HVC or a Twin, they'll sound too quiet.</div>What the hell are you talking about? I am not recording the games from the Everdrive N8, but entirely from the original cartridges. The Everdrive N8 is only used to load the test program into CPU memory.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Great Hierophant</b> [ Mon Aug 06, 2018 10:37 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Namcot 163/MMC5/Konami VRC6 Audio Level test program</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">NewRisingSun wrote:</div><div class="quotecontent"><div class="quotetitle">Great Hierophant wrote:</div><div class="quotecontent">I would not trust the EverDrive's handling of any expansion audio levels in an HVC or a Twin, they'll sound too quiet.</div>What the hell are you talking about? I am not recording the games from the Everdrive N8, but entirely from the original cartridges. The Everdrive N8 is only used to load the test program into CPU memory.</div><br /><br />I know that, I did something similar once with Chris Covell's TapeDump.  The sentence &quot;I would not trust the EverDrive's handling of any expansion audio levels in an HVC or a Twin, they'll sound too quiet&quot; really does not make sense in the context of this discussion and should not have been included.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Mon Aug 06, 2018 10:49 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Namcot 163/MMC5/Konami VRC6 Audio Level test program</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Great Hierophant wrote:</div><div class="quotecontent">While there is generally a linear relationship between the measured resistance of a cartridge and its relative volume level, the results are not always predictable<br /></div>My only guess is that there were (at least?) two production runs of the silicon dice for the 163. Between NewRisingSun's data here and the data I compiled <a href="https://wiki.nesdev.com/w/index.php/INES_Mapper_210" class="postlink">here</a>, we have several variations:<br />Final Lap has been found with both 4.7k and 15k resistors<br />Sangokushi (1) has been found with both 33k and 4.7k<br />King of Kings has been found with both 10k and 4.7k<br /><br />But ... man, what is going on with Namco Classic 2? Rainwarrior felt a good balance from that was roughly +15dB, not the +2dB measured here.<br /><br />Ignoring that, the volume range of a single voice seems to vary from +11dB (Rainwarrior's comment <a href="https://wiki.nesdev.com/w/index.php/Namco_163_audio#Mixing" class="postlink">here</a> of 3.6x on Final Lap) to +19.5dB (Sangokushi), how precise do we want to be?<br /><br />Is it worth trying to be more accurate than 3dB, given that there's clear mix variations? Just two submappers, one for +12dB and one for +18dB?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>NewRisingSun</b> [ Mon Aug 06, 2018 11:13 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Namcot 163/MMC5/Konami VRC6 Audio Level test program</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">rainwarrior wrote:</div><div class="quotecontent">MMC5 and VRC6 aren't really a problem in this respect, as I don't think there's ever been any mention of variation in levels from game to game like N163, just variation due to the tolerances of the components involved.</div>I would like to find out for sure though, which is why I will try to get the two other VRC6 games. The two MMC5 games' expansion sound volumes on the other hand are exactly identical. In fact, perhaps unsurprisingly, each MMC5 square wave channel seems to be almost exactly (+/- 1dB) as loud as the APU's on the Twin Famicom, even though both games were published when the GPM was already being produced. The DAC is a tiny bit louder --- writing the same value should make the MMC5's DAC sound 6 dB quieter than the APU because of the additional bit, but I measure it only being 4-5 dB quieter.<br /><br />I don't know what's going on with Namco Classic II. Instead of attenuating the APU, it seems to merely low-pass filter it, though I don't know enough about electronics to explain how an attenuator could by accident turn into an low-pass filter. I could try to acquire a second copy, though I don't exactly find the game worth it.<br /><br />I would be fine with just two submappers. Since nobody seems to be willing to ask the Mysterious Oracle of Kevtris directly what his proposed submapper #1 was for, I would venture the opinion that it was for games like Mindseeker that store save data in the N163's internal 128 bytes of chip RAM, eschewing WRAM. Since that information is expressed in the NES 2.0 header in its PRG-NVRAM field, submapper #1 should be deprecated. Also, I am not sure what the point of using submapper #9 instead of #2 is, given that no N129 game (of which I only know one, Namco Star Wars) uses expansion audio to begin with, and there is no description in what way the expansion audio is &quot;buggy&quot;.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Mon Aug 06, 2018 12:34 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Namcot 163/MMC5/Konami VRC6 Audio Level test program</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">NewRisingSun wrote:</div><div class="quotecontent">Also, I am not sure what the point of using submapper #9 instead of #2 is, given that no N129 game (of which I only know one, Namco Star Wars) uses expansion audio to begin with, <br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">there is no description in what way the expansion audio is &quot;buggy&quot;.<br /></div></div>Not well quantified. The only knowledge we have is Naruko's initial comment, and his <a href="https://forums.nesdev.com/viewtopic.php?f=11&amp;t=10051" class="postlink">subsequent recordings</a>.<br /><br />It sounds to me like there's some arithmetic error in how it does the lookup into the waveform: pitches are still usually correct.<br /><br />But you're right that it doesn't warrant a submapper.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>rainwarrior</b> [ Mon Aug 06, 2018 1:14 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Namcot 163/MMC5/Konami VRC6 Audio Level test program</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I'll record my own soon to add to the data.<br /><br />I'm not sure what I'd suggest for submappers, but now that some good measurements have been taken (thanks so much!) I'm going to implement a new NSFe packet for mixing specs. Had it planned for a long time, but now there's finally something to use it for that isn't just people complaining the Famitracker mix doesn't match NSFPlay. <img src="./images/smilies/icon_wink.gif" alt=";)" title="Wink" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>NewRisingSun</b> [ Mon Aug 06, 2018 1:22 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Namcot 163/MMC5/Konami VRC6 Audio Level test program</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />For what it's worth, here are PCB images of my strange-sounding Namco Classic II PCB. When I opened the cartridge shell, I found that for no apparent reason, there were two toothpicks attached to the inside of the cartridge shell with adhesive tape. I'm not kidding.

		
			<br clear="all" /><br />

			<table class="tablebg" width="100%" cellspacing="1">
			<tr>
				<td><b class="genmed">Attachments: </b></td>
			</tr>
			
				<tr>
					<td>
			<a href="./download/file.php?id=13243&amp;mode=view"><img src="./download/file.php?id=13243&amp;t=1" alt="NamcoClassic2-Front.jpg" /></a><br />
			<span class="gensmall">NamcoClassic2-Front.jpg [ 3.98 MiB | Viewed 218 times ]</span>
		

		<br />
	</td>
				</tr>
			
				<tr>
					<td>
			<a href="./download/file.php?id=13242&amp;mode=view"><img src="./download/file.php?id=13242&amp;t=1" alt="NamcoClassic2-Back.jpg" /></a><br />
			<span class="gensmall">NamcoClassic2-Back.jpg [ 1.45 MiB | Viewed 218 times ]</span>
		

		<br />
	</td>
				</tr>
			
			</table>
		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Mon Aug 06, 2018 1:28 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Namcot 163/MMC5/Konami VRC6 Audio Level test program</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Well, uh, this explains the lowpass filter you heard:

		
			<br clear="all" /><br />

			<table class="tablebg" width="100%" cellspacing="1">
			<tr>
				<td><b class="genmed">Attachments: </b></td>
			</tr>
			
				<tr>
					<td>
			<img src="./download/file.php?id=13244" alt="crop-NamcoClassic2-Front.jpg" /><br />
			<span class="gensmall">crop-NamcoClassic2-Front.jpg [ 40.21 KiB | Viewed 212 times ]</span>
		

		<br />
	</td>
				</tr>
			
			</table>
		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>NewRisingSun</b> [ Mon Aug 06, 2018 1:30 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Namcot 163/MMC5/Konami VRC6 Audio Level test program</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />But... why? No other game has this, though <a href="http://bootgod.dyndns.org:7777/profile.php?id=1835" class="postlink">Mappy Kids</a> has a weird thing (probably unrelated) that looks like a solder pad.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>rainwarrior</b> [ Mon Aug 06, 2018 1:33 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Namcot 163/MMC5/Konami VRC6 Audio Level test program</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />HA HA HA that's a good twist. :&gt;

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Mon Aug 06, 2018 1:59 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Namcot 163/MMC5/Konami VRC6 Audio Level test program</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">NewRisingSun wrote:</div><div class="quotecontent">though <a href="http://bootgod.dyndns.org:7777/profile.php?id=1835" class="postlink">Mappy Kids</a> has a weird thing (probably unrelated) that looks like a solder pad.<br /></div>That looks like a place to add the same lowpass filter.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>rainwarrior</b> [ Mon Aug 06, 2018 2:10 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Namcot 163/MMC5/Konami VRC6 Audio Level test program</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Maybe someone was using it for homebrew music, and modified it trying to get 8-channel to sound better?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>NewRisingSun</b> [ Mon Aug 06, 2018 2:30 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Namcot 163/MMC5/Konami VRC6 Audio Level test program</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I guess I need to get that second copy after all.<br /><br />But the LPF being optional and to be used for eight-channel music makes sense.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>B00daW</b> [ Mon Aug 06, 2018 6:24 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Namcot 163/MMC5/Konami VRC6 Audio Level test program</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I guess you can check Sean Riddle's webpage for M50805 levels for Family Aerobics Studio.  The Jaleco level test program could just probably swap through all the different mappings for the chip.<br /><br />You got source for these things? <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>rainwarrior</b> [ Mon Aug 06, 2018 6:54 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Namcot 163/MMC5/Konami VRC6 Audio Level test program</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I've recorded these with my (AV modded) Famicom vs. the carts I have:<br /><ul><li>MMC5 Just Breed</li><li> MMC5 Uchuu Keibitai SDF</li><li> VRC6 Esper Dream 2</li><li> N163 Rolling Thunder <em>- 16.9 dB</em></li><li> <em>N163 Erika to Satoru no Yumebouken - 18.9 dB</em></li></ul><br /><!-- m --><a class="postlink" href="https://www.dropbox.com/s/2um1i5kr6l2aemp/expaudio_testroms_rainwarrior_2018_08_06.zip?dl=0">https://www.dropbox.com/s/2um1i5kr6l2ae ... 6.zip?dl=0</a><!-- m --><br /><br /><s>I also have Erika to Satoru no Yumebouken, but hotswapping into it creates a horrible noise. Whatever your test does, I think it needs to do more thorough initialization of N163 &#40;with source code I could maybe tell you what&#41;.</s> Also, you have VRC6TESA.NES and VRC6TEST.NES but the VRC6a variant seems to be VRC6TEST and not VRC6TESA?<br /><br />Rough results: MMC5 is more or less the same volume as my APU, just inverted (as expected). VRC6 is close to APU (as expected), though slighlty quieter. Rolling Thunder N163 is 16.9 dB louder than APU. <em>Erika to Satoru no Yumebouken is 18.9 dB louder.</em><br /><br /><em>Edit: Updated with recording of Erika to Satoru no Yumebouken.</em>

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>2</strong> of <strong>6</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>