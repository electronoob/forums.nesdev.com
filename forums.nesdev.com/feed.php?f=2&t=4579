<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="http://forums.nesdev.com/feed.php?f=2&amp;t=4579" />

<title>nesdev.com</title>
<subtitle>NES Development and Strangulation Records message boards</subtitle>
<link href="http://forums.nesdev.com/index.php" />
<updated>2008-11-16T03:18:09-07:00</updated>

<author><name><![CDATA[nesdev.com]]></name></author>
<id>http://forums.nesdev.com/feed.php?f=2&amp;t=4579</id>
<entry>
<author><name><![CDATA[CrashTest]]></name></author>
<updated>2008-11-16T03:18:09-07:00</updated>
<published>2008-11-16T03:18:09-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4579&amp;p=40098#p40098</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4579&amp;p=40098#p40098"/>
<title type="html"><![CDATA[MMC3 bank switching?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4579&amp;p=40098#p40098"><![CDATA[
I see, makes sense now.  The chr select bit seems to be a 'state' and not part of the 'command'.   Thanks!<br /><br />Now I just have to think about tradeoffs between background animation and character animation.  I think I'll be doing 1k banks for sprites since my characters are 48 pixels high, and I'll need to change banks on the fly to animate the main character.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3653">CrashTest</a> — Sun Nov 16, 2008 3:18 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Bregalad]]></name></author>
<updated>2008-11-16T02:51:41-07:00</updated>
<published>2008-11-16T02:51:41-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4579&amp;p=40096#p40096</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4579&amp;p=40096#p40096"/>
<title type="html"><![CDATA[MMC3 bank switching?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4579&amp;p=40096#p40096"><![CDATA[
<div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />Any clues as to why this is? Are my docs wrong? Does CHR bank switching need to be done in vblank?<br /></div><br />No, but the MMC3 is hardwired to the 2k, 2k, 1k, 1k, 1k, 1k sheme and can't do anything else.<br />If you want all 1k sections you'll have to use another mapper.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=38">Bregalad</a> — Sun Nov 16, 2008 2:51 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[CrashTest]]></name></author>
<updated>2008-11-16T02:49:03-07:00</updated>
<published>2008-11-16T02:49:03-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4579&amp;p=40095#p40095</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4579&amp;p=40095#p40095"/>
<title type="html"><![CDATA[MMC3 bank switching?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4579&amp;p=40095#p40095"><![CDATA[
Have any of you guys been able to do 1k chr bank switching for both the characters and sprites (PPU $0000 - $1fff) using the MMC3 $8000, and $8001?<br /><br />From my experiments it seems that commands 2-5 seem to treat the address select bit (XOR w/ $1000) as always enabled so that I can only change the banks at $0000, $0400, $0800, $0c00.<br /><br />However, commands 0, and 1 (2k bank switching) seems to respect the address select bit (XOR w/ $1000).<br /><br />I'm seeing the same behavior in nestopia and nintendulator.<br /><br />Any clues as to why this is?  Are my docs wrong?  Does CHR bank switching need to be done in vblank?<br /><br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent"> +-------+   +------------------------------------------------------+<br /> ¦ $8000 +---¦ CPxxxNNN                                             ¦<br /> +-------+   ¦ ¦¦   +-+                                             ¦<br />             ¦ ¦¦    +--- Command Number                            ¦<br />             ¦ ¦¦          0 - Select 2 1K VROM pages at PPU $0000  ¦<br />             ¦ ¦¦          1 - Select 2 1K VROM pages at PPU $0800  ¦<br />             ¦ ¦¦          2 - Select 1K VROM page at PPU $1000     ¦<br />             ¦ ¦¦          3 - Select 1K VROM page at PPU $1400     ¦<br />             ¦ ¦¦          4 - Select 1K VROM page at PPU $1800     ¦<br />             ¦ ¦¦          5 - Select 1K VROM page at PPU $1C00     ¦<br />             ¦ ¦¦          6 - Select first switchable ROM page     ¦<br />             ¦ ¦¦          7 - Select second switchable ROM page    ¦<br />             ¦ ¦¦                                                   ¦<br />             ¦ ¦+-------- PRG Address Select                        ¦<br />             ¦ ¦           0 - Enable swapping for $8000 and $A000  ¦<br />             ¦ ¦           1 - Enable swapping for $A000 and $C000  ¦<br />             ¦ ¦                                                    ¦<br />             ¦ +--------- CHR Address Select                        ¦<br />             ¦             0 - Use normal address for commands 0-5  ¦<br />             ¦             1 - XOR command 0-5 address with $1000   ¦<br />             +------------------------------------------------------+<br /><br /> +-------+   +----------------------------------------------+<br /> ¦ $8001 +---¦ PPPPPPPP                                     ¦<br /> +-------+   ¦ +------+                                     ¦<br />             ¦    ¦                                         ¦<br />             ¦    ¦                                         ¦<br />             ¦    +------- Page Number for Command          ¦<br />             ¦              Activates the command number    ¦<br />             ¦              written to bits 0-2 of $8000    ¦<br />             +----------------------------------------------+<br /></div><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3653">CrashTest</a> — Sun Nov 16, 2008 2:49 am</p><hr />
]]></content>
</entry>
</feed>