<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<link rel="icon" href="/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />

<title>nesdev.com &bull; View topic - .db question</title>

<link rel="alternate" type="application/atom+xml" title="Feed - nesdev.com" href="http://forums.nesdev.com/feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - News" href="http://forums.nesdev.com/feed.php?mode=news" /><link rel="alternate" type="application/atom+xml" title="Feed - All forums" href="http://forums.nesdev.com/feed.php?mode=forums" /><link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="http://forums.nesdev.com/feed.php?mode=topics" /><link rel="alternate" type="application/atom+xml" title="Feed - Active Topics" href="http://forums.nesdev.com/feed.php?mode=topics_active" /><link rel="alternate" type="application/atom+xml" title="Feed - Forum - Newbie Help Center" href="http://forums.nesdev.com/feed.php?f=10" /><link rel="alternate" type="application/atom+xml" title="Feed - Topic - .db question" href="http://forums.nesdev.com/feed.php?f=10&amp;t=432" />

<link rel="stylesheet" href="./style.php?id=1&amp;lang=en" type="text/css" />

<script type="text/javascript">
// <![CDATA[


function popup(url, width, height, name)
{
	if (!name)
	{
		name = '_popup';
	}

	window.open(url.replace(/&amp;/g, '&'), name, 'height=' + height + ',resizable=yes,scrollbars=yes,width=' + width);
	return false;
}

function jumpto()
{
	var page = prompt('Enter the page number you wish to go to:', '1');
	var per_page = '';
	var base_url = '';

	if (page !== null && !isNaN(page) && page == Math.floor(page) && page > 0)
	{
		if (base_url.indexOf('?') == -1)
		{
			document.location.href = base_url + '?start=' + ((page - 1) * per_page);
		}
		else
		{
			document.location.href = base_url.replace(/&amp;/g, '&') + '&start=' + ((page - 1) * per_page);
		}
	}
}

/**
* Find a member
*/
function find_username(url)
{
	popup(url, 760, 570, '_usersearch');
	return false;
}

/**
* Mark/unmark checklist
* id = ID of parent container, name = name prefix, state = state [true/false]
*/
function marklist(id, name, state)
{
	var parent = document.getElementById(id);
	if (!parent)
	{
		eval('parent = document.' + id);
	}

	if (!parent)
	{
		return;
	}

	var rb = parent.getElementsByTagName('input');
	
	for (var r = 0; r < rb.length; r++)
	{
		if (rb[r].name.substr(0, name.length) == name)
		{
			rb[r].checked = state;
		}
	}
}



// ]]>
</script>
</head>
<body class="ltr">

<a name="top"></a>

<div id="wrapheader">

	<div id="logodesc">
	</div>

	<div id="menubar">

		<table width="100%" cellspacing="0">
		<tr>
			<td rowspan="2"><a href="./index.php"><img src="./styles/subsilver2/imageset/site_logo.gif" alt="" title="" /></a></td>
			<td width="100%" align="center"><h1>nesdev.com</h1><span class="gen">NES Development and Strangulation Records message boards</span></td>
		</tr>
		<tr>
			<td align="center">
				<a href="./faq.php"><img src="./styles/prosilver/theme/images/icon_mini_faq.gif" width="12" height="13" alt="*" /> FAQ</a>
				&nbsp; &nbsp;<a href="./search.php"><img src="./styles/prosilver/theme/images/icon_mini_search.gif" width="12" height="13" alt="*" /> Search</a>
				<br />	
				 &nbsp;<a href="./ucp.php?mode=register"><img src="./styles/prosilver/theme/images/icon_mini_register.gif" width="12" height="13" alt="*" /> Register</a>
					&nbsp; &nbsp;<a href="./ucp.php?mode=login"><img src="./styles/prosilver/theme/images/icon_mini_login.gif" width="12" height="13" alt="*" /> Login</a>&nbsp;
			</td>
		</tr>
		</table>
	</div>

	<div id="datebar">
		<table width="100%" cellspacing="0">
		<tr>
			<td class="gensmall"></td>
			<td class="gensmall" align="right">It is currently Thu Aug 30, 2012 1:38 pm<br /></td>
		</tr>
		</table>
	</div>

</div>

<div id="wrapcentre">

	
	<p class="searchbar">
		<span style="float: left;"><a href="./search.php?search_id=unanswered">View unanswered posts</a> | <a href="./search.php?search_id=active_topics">View active topics</a></span>
		
	</p>
	

	<br style="clear: both;" />

	<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=24">NES / Famicom</a> &#187; <a href="./viewforum.php?f=10">Newbie Help Center</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>

	<br />

<div id="pageheader">
	<h2><a class="titles" href="./viewtopic.php?f=10&amp;t=432">.db question</a></h2>


	<p class="moderators">Moderator: <a href="./memberlist.php?mode=group&amp;g=320">Moderators</a></p>

</div>

<br clear="all" /><br />

<div id="pagecontent">

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=10"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=10&amp;t=432"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>1</strong> of <strong>1</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 7 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"></td>
		
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat">
			<table width="100%" cellspacing="0">
			<tr>
				<td class="nav" nowrap="nowrap">&nbsp;
				<a href="./viewtopic.php?f=10&amp;t=432&amp;view=print" title="Print view">Print view</a>
				</td>
				<td class="nav" align="right" nowrap="nowrap"><a href="./viewtopic.php?f=10&amp;t=432&amp;view=previous">Previous topic</a> | <a href="./viewtopic.php?f=10&amp;t=432&amp;view=next">Next topic</a>&nbsp;</td>
			</tr>
			</table>
		</td>
	</tr>

	</table>


	<table class="tablebg" width="100%" cellspacing="1">
	
		<tr>
			<th>Author</th>
			<th>Message</th>
		</tr>
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p3042"></a>
				<b class="postauthor">Nathaniel</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p3042">.db question</a></div><div style="float: right;"><a href="./viewtopic.php?p=3042#p3042"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sun Jul 24, 2005 12:24 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td></td>
				</tr>
			
				</table>

				<span class="postdetails">
					
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I'm trying to understand why the following code doesn't work the way it is described to (this is slightly modified code from one of GBAGuy's tutorials). I'm trying to use variables to set the x and y position of my sprite, instead of immediate numbers (#50 and such). Here's what I'm doing:
<br />
<br />        .bank 0   ; bank 0 - our place for code.
<br />	.org $0000
<br />X_Pos:	.db	50
<br />Y_Pos:	.db	50
<br />	.org $8000  ; code starts at $8000
<br />Start:  (more code here)
<br />
<br />I'm setting X_Pos and Y_Pos to 50. Later in the code I'm setting the X and Y values with these labels:
<br />
<br />        lda Y_Pos  ; load Y value
<br />	sta $2004 ; store Y value
<br />	lda #$01  ; tile number 1
<br />	sta $2004 ; store tile number
<br />	lda #$00 ; no special junk
<br />	sta $2004 ; store special junk
<br />	lda X_Pos  ; load X value
<br />	sta $2004 ; store X value
<br />
<br />When I run this in FCEUltra or Nestopia, the sprite doesn't display at 50, 50 but 0,0 instead.
<br />
<br />Can someone tell me why this is happening? I used the debugger in FCEUltra, and it looks like the memory at $0000 and $0001 (x and y pos) doesn't get set to 50 like it's supposed to.
<br />
<br />Thanks in advance!
<br />
<br />Nathaniel
<br />
<br />Full code below:
<br />
<br />
<br />;;--- CODE START ---;;
<br />
<br />	; INES header stuff
<br />	.inesprg 1   ; 1 bank of code
<br />	.ineschr 1   ; 1 bank of spr/bkg data
<br />	.inesmir 1   ; something always 1
<br />	.inesmap 0   ; we use mapper 0
<br />
<br />	.bank 1   ; following goes in bank 1
<br />	.org $FFFA  ; start at $FFFA
<br />	.dw 0    ; dw stands for Define Word and we give 0 as address for NMI routine
<br />	.dw Start ; give address of start of our code for execution on reset of NES.
<br />	.dw 0   ; give 0 for address of VBlank interrupt handler, we tell PPU not to
<br />	; make an interrupt for VBlank.
<br />
<br />	.bank 0   ; bank 0 - our place for code.
<br />	.org $0000
<br />X_Pos:	.db	50
<br />Y_Pos:	.db	50
<br />	.org $8000  ; code starts at $8000
<br />Start:  
<br />	lda #%00001000  ; do the setup of PPU
<br />	sta $2000       ; that we
<br />	lda #%00011110  ; talked about
<br />	sta $2001       ; on a previous day
<br />
<br />	ldx #$00    ; clear X
<br />
<br />	lda #$3F    ; have $2006 tell
<br />	sta $2006   ; $2007 to start
<br />	lda #$00    ; at $3F00 (pallete).
<br />	sta $2006
<br />
<br />loadpal:                ; this is a freaky loop
<br />	lda tilepal, x  ; that gives 32 numbers
<br />	sta $2007       ; to $2007, ending when
<br />	inx             ; X is 32, meaning we
<br />	cpx #32         ; are done.
<br />	bne loadpal     ; if X isn't =32, goto "loadpal:" line.
<br />
<br />waitblank:         ; this is the wait for VBlank code from above
<br />	lda $2002  ; load A with value at location $2002
<br />	bpl waitblank  ; if bit 7 is not set (not VBlank) keep checking
<br />
<br />	lda #$00   ; these lines tell $2003
<br />	sta $2003  ; to tell
<br />	lda #$00   ; $2004 to start
<br />	sta $2003  ; at $0000.
<br />
<br />	lda Y_Pos  ; load Y value
<br />	sta $2004 ; store Y value
<br />	lda #$01  ; tile number 1
<br />	sta $2004 ; store tile number
<br />	lda #$00 ; no special junk
<br />	sta $2004 ; store special junk
<br />	lda X_Pos  ; load X value
<br />	sta $2004 ; store X value
<br />	; and yes, it MUST go in that order.
<br />
<br />infin:
<br />	jmp infin   ; JuMP to infin. note that this loop never ends. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />
<br />
<br />tilepal: .incbin "our.pal" ; include and label our pallete
<br />
<br />	.bank 2   ; switch to bank 2
<br />	.org $0000  ; start at $0000
<br />	.incbin "our.bkg"  ; empty background first
<br />	.incbin "our.spr"  ; our sprite pic data
<br />	; note these MUST be in that order.
<br />
<br />	;;--- WERE DONE / CODE END ---;;</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;&nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p3043"></a>
				<b class="postauthor">Bregalad</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p3043"></a></div><div style="float: right;"><a href="./viewtopic.php?p=3043#p3043"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sun Jul 24, 2005 12:48 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=38.jpg" width="60" height="60" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Nov 12, 2004 2:49 pm<br /><b>Posts:</b> 5143<br /><b>Location:</b> Jongny, VD, Switzerland
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">You MUST wait 2 VBlanks before doing anything with the PPU : First write #$00 to both $2000 and $2001 then check for two VBlanks via $2002.7
<br />Eventually, it's not good to write the sprite data trough $2004, use $4014 instead.</div>

					
						<div class="postbody"><br />_________________<br />Life is complex: it has both real and imaginary components.</div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=38"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p3044"></a>
				<b class="postauthor">Nathaniel</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p3044">.db question</a></div><div style="float: right;"><a href="./viewtopic.php?p=3044#p3044"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sun Jul 24, 2005 1:03 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td></td>
				</tr>
			
				</table>

				<span class="postdetails">
					
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">You MUST wait 2 VBlanks before doing anything with the PPU : First write #$00 to both $2000 and $2001 then check for two VBlanks via $2002.7<br />Eventually, it's not good to write the sprite data trough $2004, use $4014 instead.</div>
<br />
<br />Okay, so I have changed the code to the following:
<br />
<br />;;--- CODE START ---;;
<br />
<br />	; INES header stuff
<br />	.inesprg 1   ; 1 bank of code
<br />	.ineschr 1   ; 1 bank of spr/bkg data
<br />	.inesmir 1   ; something always 1
<br />	.inesmap 0   ; we use mapper 0
<br />
<br />	.bank 1   ; following goes in bank 1
<br />	.org $FFFA  ; start at $FFFA
<br />	.dw 0    ; dw stands for Define Word and we give 0 as address for NMI routine
<br />	.dw Start ; give address of start of our code for execution on reset of NES.
<br />	.dw 0   ; give 0 for address of VBlank interrupt handler, we tell PPU not to
<br />	; make an interrupt for VBlank.
<br />
<br />	.bank 0   ; bank 0 - our place for code.
<br />	.org $0000
<br />X_Pos:	.db	50
<br />Y_Pos:	.db	50
<br />	.org $8000  ; code starts at $8000
<br />Start:  
<br />	lda #%00000000  ; do the setup of PPU
<br />	sta $2000       ; that we
<br />	lda #%00000000  ; talked about
<br />	sta $2001       ; on a previous day
<br />	
<br />waitblank:         ; this is the wait for VBlank code from above
<br />	lda $2002  ; load A with value at location $2002
<br />	bpl waitblank  ; if bit 7 is not set (not VBlank) keep checking
<br />	
<br />waitblank2:
<br />	lda $2002  ; load A with value at location $2002
<br />	bpl waitblank2  ; if bit 7 is not set (not VBlank) keep checking
<br />	
<br />	lda #%00001000  ; do the setup of PPU
<br />	sta $2000       ; that we
<br />	lda #%00011110  ; talked about
<br />	sta $2001       ; on a previous day
<br />
<br />
<br />	ldx #$00    ; clear X
<br />
<br />	lda #$3F    ; have $2006 tell
<br />	sta $2006   ; $2007 to start
<br />	lda #$00    ; at $3F00 (pallete).
<br />	sta $2006
<br />
<br />loadpal:                ; this is a freaky loop
<br />	lda tilepal, x  ; that gives 32 numbers
<br />	sta $2007       ; to $2007, ending when
<br />	inx             ; X is 32, meaning we
<br />	cpx #32         ; are done.
<br />	bne loadpal     ; if X isn't =32, goto "loadpal:" line.
<br />	
<br />waitblank3:         ; this is the wait for VBlank code from above
<br />	lda $2002  ; load A with value at location $2002
<br />	bpl waitblank3  ; if bit 7 is not set (not VBlank) keep checking
<br />
<br />
<br />	lda #$00   ; these lines tell $2003
<br />	sta $2003  ; to tell
<br />	lda #$00   ; $2004 to start
<br />	sta $2003  ; at $0000.
<br />
<br />	lda Y_Pos  ; load Y value
<br />	sta $2004 ; store Y value
<br />	lda #$01  ; tile number 1
<br />	sta $2004 ; store tile number
<br />	lda #$00 ; no special junk
<br />	sta $2004 ; store special junk
<br />	lda X_Pos  ; load X value
<br />	sta $2004 ; store X value
<br />	; and yes, it MUST go in that order.
<br />
<br />infin:
<br />	jmp infin   ; JuMP to infin. note that this loop never ends. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />
<br />
<br />tilepal: .incbin "our.pal" ; include and label our pallete
<br />
<br />	.bank 2   ; switch to bank 2
<br />	.org $0000  ; start at $0000
<br />	.incbin "our.bkg"  ; empty background first
<br />	.incbin "our.spr"  ; our sprite pic data
<br />	; note these MUST be in that order.
<br />
<br />	;;--- WERE DONE / CODE END ---;;
<br />
<br />
<br />However, this makes no difference. The sprite still appears at 0, 0. The thing is, if I change:
<br />
<br />        lda Y_Pos  ; load Y value
<br />	sta $2004 ; store Y value
<br />	lda #$01  ; tile number 1
<br />	sta $2004 ; store tile number
<br />	lda #$00 ; no special junk
<br />	sta $2004 ; store special junk
<br />	lda X_Pos  ; load X value
<br />	sta $2004 ; store X value
<br />	; and yes, it MUST go in that order.
<br />
<br />To:
<br />
<br />        lda #50  ; load Y value
<br />	sta $2004 ; store Y value
<br />	lda #$01  ; tile number 1
<br />	sta $2004 ; store tile number
<br />	lda #$00 ; no special junk
<br />	sta $2004 ; store special junk
<br />	lda #50  ; load X value
<br />	sta $2004 ; store X value
<br />	; and yes, it MUST go in that order.
<br />
<br />then the code works perfectly, displaying the sprite at 50, 50 like it's supposed to. It's the variables that I'm setting up (X_Pos and Y_Pos) that aren't working (and don't work in the tutorial, either, hence the question). Another funny thing is if I change:
<br />
<br />        .bank 0   ; bank 0 - our place for code.
<br />	.org $0000
<br />X_Pos:	.db	50
<br />Y_Pos:	.db	50
<br />	.org $8000  ; code starts at $8000
<br />Start:  (more code here)
<br />
<br />To:
<br />
<br />        .bank 0   ; bank 0 - our place for code
<br />	.org $8000  ; code starts at $8000
<br />X_Pos:	.db	50
<br />Y_Pos:	.db	50
<br />Start:  (more code here)
<br />
<br />this works just fine as well, showing the sprite at 50, 50 when I use the variable names X_Pos and Y_Pos. Thing is, I shouldn't have to put my variable in my code space.
<br />
<br />I'm using NESASM to assemble this, if that makes any difference.
<br />
<br />Thanks again for the timely response!
<br />
<br />Nathaniel</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;&nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p3046"></a>
				<b class="postauthor">Celius</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p3046"></a></div><div style="float: right;"><a href="./viewtopic.php?p=3046#p3046"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sun Jul 24, 2005 1:29 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="http://www.freewebs.com/the_bott/Avatar3.JPG" width="100" height="79" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Jun 05, 2005 2:04 pm<br /><b>Posts:</b> 2019<br /><b>Location:</b> Minneapolis, Minnesota, United States
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I've been following GBA guy's tutorials since I started NES developement, and I've noticed he puts together unreliable, sloppy, messy code. Something with his code is always an unreliable system, and I know he's just explaining it to give you the general idea, but he needs to explain the stuff that is reliable on most emulators and whatnot. Ya know what I'm saying? like his horribly slapped together "easy large loads" where he sets up the PPU on the bottom? What is that? I just used the typical ppu set up with rewriting that code, and it worked fine. Maybe I just hate looking at his codes because I hate looking at commented code, because it's messy, and confusing. I don't even know why I'm talking, so I'm going to stop. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=138"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p3052"></a>
				<b class="postauthor">Disch</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p3052"></a></div><div style="float: right;"><a href="./viewtopic.php?p=3052#p3052"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sun Jul 24, 2005 3:47 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=33.png" width="65" height="75" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Wed Nov 10, 2004 6:47 pm<br /><b>Posts:</b> 1670
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Your variables are .org'd to be at $0000 -- that's RAM.  .db does not work for initializing RAM, you have to initialize it yourself through code.  .db will only store bytes in the binary (since RAM does not go in the binary, it looks like .db does nothing more than give you a label to reference your variables).
<br />
<br />If you keep your vars .org'd at $0000, you can put the following code in your reset vector to init them:
<br />
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">LDA #50<br />STA X_Pos<br />STA Y_Pos<br /></div></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=33"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p3115"></a>
				<b class="postauthor">Celius</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p3115"></a></div><div style="float: right;"><a href="./viewtopic.php?p=3115#p3115"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Jul 26, 2005 11:47 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="http://www.freewebs.com/the_bott/Avatar3.JPG" width="100" height="79" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Jun 05, 2005 2:04 pm<br /><b>Posts:</b> 2019<br /><b>Location:</b> Minneapolis, Minnesota, United States
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I'm sorry, did I read you correctly when you said $0000 was RAM? <img src="./images/smilies/icon_confused.gif" alt=":?" title="Confused" />  Doesn't RAM start a $0200?</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=138"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p3117"></a>
				<b class="postauthor" style="color: #AA0000">Quietust</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p3117"></a></div><div style="float: right;"><a href="./viewtopic.php?p=3117#p3117"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Jul 26, 2005 12:22 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=7.png" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Sep 19, 2004 10:59 pm<br /><b>Posts:</b> 1028
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">RAM exists at $0000-$1FFF, though only $0000-$07FF is unique data ($0800-$0FFF/$1000-$17FF/$1800-$1FFF are simply mirrors of $0000-$07FF). $0000-$00FF is <strong>zero page</strong> memory (instructions using zero page memory are both smaller and faster; also, zero page memory is the ONLY memory that can hold pointers to be used with the indirect addressing modes) and $0100-$01FF is the stack page (which you'll probably want to avoid using).</div>

					
						<div class="postbody"><br />_________________<br />Quietust, QMT Productions
<br />P.S. If you don't get this note, let me know and I'll write you another.</div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=7"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table width="100%" cellspacing="1" class="tablebg">
	<tr align="center">
		<td class="cat"><form name="viewtopic" method="post" action="./viewtopic.php?f=10&amp;t=432"><span class="gensmall">Display posts from previous:</span> <select name="st" id="st"><option value="0" selected="selected">All posts</option><option value="1">1 day</option><option value="7">7 days</option><option value="14">2 weeks</option><option value="30">1 month</option><option value="90">3 months</option><option value="180">6 months</option><option value="365">1 year</option></select>&nbsp;<span class="gensmall">Sort by</span> <select name="sk" id="sk"><option value="a">Author</option><option value="t" selected="selected">Post time</option><option value="s">Subject</option></select> <select name="sd" id="sd"><option value="a" selected="selected">Ascending</option><option value="d">Descending</option></select>&nbsp;<input class="btnlite" type="submit" value="Go" name="sort" /></form></td>
	</tr>
	</table>
	

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=10"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=10&amp;t=432"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>1</strong> of <strong>1</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 7 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"></td>
		
	</tr>
	</table>

</div>

<div id="pagefooter"></div>

<br clear="all" />
<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=24">NES / Famicom</a> &#187; <a href="./viewforum.php?f=10">Newbie Help Center</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>
	<br clear="all" />

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat"><h4>Who is online</h4></td>
	</tr>
	<tr>
		<td class="row1"><p class="gensmall">Users browsing this forum: No registered users and 1 guest</p></td>
	</tr>
	</table>


<br clear="all" />

<table width="100%" cellspacing="1">
<tr>
	<td width="40%" valign="top" nowrap="nowrap" align="left"></td>
	<td align="right" valign="top" nowrap="nowrap"><span class="gensmall">You <strong>cannot</strong> post new topics in this forum<br />You <strong>cannot</strong> reply to topics in this forum<br />You <strong>cannot</strong> edit your posts in this forum<br />You <strong>cannot</strong> delete your posts in this forum<br />You <strong>cannot</strong> post attachments in this forum<br /></span></td>
</tr>
</table>

<br clear="all" />

<table width="100%" cellspacing="0">
<tr>
	<td><form method="get" name="search" action="./search.php"><span class="gensmall">Search for:</span> <input class="post" type="text" name="keywords" size="20" /> <input class="btnlite" type="submit" value="Go" /><input type="hidden" name="t" value="432" />
<input type="hidden" name="sf" value="msgonly" />
</form></td>
	<td align="right">
	<form method="post" name="jumpbox" action="./viewforum.php" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	<table cellspacing="0" cellpadding="0" border="0">
	<tr>
		<td nowrap="nowrap"><span class="gensmall">Jump to:</span>&nbsp;<select name="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">

		
			<option value="-1">Select a forum</option>
		<option value="-1">------------------</option>
			<option value="24">NES / Famicom</option>
		
			<option value="2">&nbsp; &nbsp;NESdev</option>
		
			<option value="3">&nbsp; &nbsp;NESemdev</option>
		
			<option value="21">&nbsp; &nbsp;NES Graphics</option>
		
			<option value="6">&nbsp; &nbsp;NES Music</option>
		
			<option value="9">&nbsp; &nbsp;NES Hardware and Flash Equipment</option>
		
			<option value="22">&nbsp; &nbsp;Homebrew Projects</option>
		
			<option value="10" selected="selected">&nbsp; &nbsp;Newbie Help Center</option>
		
			<option value="11">&nbsp; &nbsp;FCdev</option>
		
			<option value="18">&nbsp; &nbsp;NESdev China</option>
		
			<option value="19">&nbsp; &nbsp;NESdev International</option>
		
			<option value="25">Other</option>
		
			<option value="5">&nbsp; &nbsp;General Stuff</option>
		
			<option value="4">&nbsp; &nbsp;Membler Industries</option>
		
			<option value="12">&nbsp; &nbsp;SNESdev</option>
		
			<option value="20">&nbsp; &nbsp;GBDev</option>
		
			<option value="23">&nbsp; &nbsp;Other Retro Dev</option>
		
			<option value="15">&nbsp; &nbsp;Test Forum</option>
		
			<option value="26">Site Issues</option>
		
			<option value="13">&nbsp; &nbsp;phpBB Issues</option>
		
			<option value="14">&nbsp; &nbsp;Web Issues</option>
		
			<option value="16">&nbsp; &nbsp;nesdevWiki</option>
		

		</select>&nbsp;<input class="btnlite" type="submit" value="Go" /></td>
	</tr>
	</table>

	</form>
</td>
</tr>
</table>


</div>

<div id="wrapfooter">
	
	<span class="copyright">Powered by <a href="http://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Group
	</span>
</div>

</body>
</html>