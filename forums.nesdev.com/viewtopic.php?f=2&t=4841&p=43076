<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<link rel="icon" href="/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />

<title>nesdev.com &bull; View topic - New pal only glitch?</title>

<link rel="alternate" type="application/atom+xml" title="Feed - nesdev.com" href="http://forums.nesdev.com/feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - News" href="http://forums.nesdev.com/feed.php?mode=news" /><link rel="alternate" type="application/atom+xml" title="Feed - All forums" href="http://forums.nesdev.com/feed.php?mode=forums" /><link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="http://forums.nesdev.com/feed.php?mode=topics" /><link rel="alternate" type="application/atom+xml" title="Feed - Active Topics" href="http://forums.nesdev.com/feed.php?mode=topics_active" /><link rel="alternate" type="application/atom+xml" title="Feed - Forum - NESdev" href="http://forums.nesdev.com/feed.php?f=2" /><link rel="alternate" type="application/atom+xml" title="Feed - Topic - New pal only glitch?" href="http://forums.nesdev.com/feed.php?f=2&amp;t=4841" />

<link rel="stylesheet" href="./style.php?id=1&amp;lang=en" type="text/css" />

<script type="text/javascript">
// <![CDATA[


function popup(url, width, height, name)
{
	if (!name)
	{
		name = '_popup';
	}

	window.open(url.replace(/&amp;/g, '&'), name, 'height=' + height + ',resizable=yes,scrollbars=yes,width=' + width);
	return false;
}

function jumpto()
{
	var page = prompt('Enter the page number you wish to go to:', '1');
	var per_page = '';
	var base_url = '';

	if (page !== null && !isNaN(page) && page == Math.floor(page) && page > 0)
	{
		if (base_url.indexOf('?') == -1)
		{
			document.location.href = base_url + '?start=' + ((page - 1) * per_page);
		}
		else
		{
			document.location.href = base_url.replace(/&amp;/g, '&') + '&start=' + ((page - 1) * per_page);
		}
	}
}

/**
* Find a member
*/
function find_username(url)
{
	popup(url, 760, 570, '_usersearch');
	return false;
}

/**
* Mark/unmark checklist
* id = ID of parent container, name = name prefix, state = state [true/false]
*/
function marklist(id, name, state)
{
	var parent = document.getElementById(id);
	if (!parent)
	{
		eval('parent = document.' + id);
	}

	if (!parent)
	{
		return;
	}

	var rb = parent.getElementsByTagName('input');
	
	for (var r = 0; r < rb.length; r++)
	{
		if (rb[r].name.substr(0, name.length) == name)
		{
			rb[r].checked = state;
		}
	}
}



// ]]>
</script>
</head>
<body class="ltr">

<a name="top"></a>

<div id="wrapheader">

	<div id="logodesc">
	</div>

	<div id="menubar">

		<table width="100%" cellspacing="0">
		<tr>
			<td rowspan="2"><a href="./index.php"><img src="./styles/subsilver2/imageset/site_logo.gif" alt="" title="" /></a></td>
			<td width="100%" align="center"><h1>nesdev.com</h1><span class="gen">NES Development and Strangulation Records message boards</span></td>
		</tr>
		<tr>
			<td align="center">
				<a href="./faq.php"><img src="./styles/prosilver/theme/images/icon_mini_faq.gif" width="12" height="13" alt="*" /> FAQ</a>
				&nbsp; &nbsp;<a href="./search.php"><img src="./styles/prosilver/theme/images/icon_mini_search.gif" width="12" height="13" alt="*" /> Search</a>
				<br />	
				 &nbsp;<a href="./ucp.php?mode=register"><img src="./styles/prosilver/theme/images/icon_mini_register.gif" width="12" height="13" alt="*" /> Register</a>
					&nbsp; &nbsp;<a href="./ucp.php?mode=login"><img src="./styles/prosilver/theme/images/icon_mini_login.gif" width="12" height="13" alt="*" /> Login</a>&nbsp;
			</td>
		</tr>
		</table>
	</div>

	<div id="datebar">
		<table width="100%" cellspacing="0">
		<tr>
			<td class="gensmall"></td>
			<td class="gensmall" align="right">It is currently Thu Aug 30, 2012 6:55 pm<br /></td>
		</tr>
		</table>
	</div>

</div>

<div id="wrapcentre">

	
	<p class="searchbar">
		<span style="float: left;"><a href="./search.php?search_id=unanswered">View unanswered posts</a> | <a href="./search.php?search_id=active_topics">View active topics</a></span>
		
	</p>
	

	<br style="clear: both;" />

	<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=24">NES / Famicom</a> &#187; <a href="./viewforum.php?f=2">NESdev</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>

	<br />

<div id="pageheader">
	<h2><a class="titles" href="./viewtopic.php?f=2&amp;t=4841">New pal only glitch?</a></h2>


	<p class="moderators">Moderator: <a href="./memberlist.php?mode=group&amp;g=320">Moderators</a></p>

</div>

<br clear="all" /><br />

<div id="pagecontent">

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=2"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=2&amp;t=4841"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>1</strong> of <strong>1</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 12 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"></td>
		
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat">
			<table width="100%" cellspacing="0">
			<tr>
				<td class="nav" nowrap="nowrap">&nbsp;
				<a href="./viewtopic.php?f=2&amp;t=4841&amp;view=print" title="Print view">Print view</a>
				</td>
				<td class="nav" align="right" nowrap="nowrap"><a href="./viewtopic.php?f=2&amp;t=4841&amp;view=previous">Previous topic</a> | <a href="./viewtopic.php?f=2&amp;t=4841&amp;view=next">Next topic</a>&nbsp;</td>
			</tr>
			</table>
		</td>
	</tr>

	</table>


	<table class="tablebg" width="100%" cellspacing="1">
	
		<tr>
			<th>Author</th>
			<th>Message</th>
		</tr>
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p43021"></a>
				<b class="postauthor">Jeroen</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p43021">New pal only glitch?</a></div><div style="float: right;"><a href="./viewtopic.php?p=43021#p43021"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sat Feb 07, 2009 1:17 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=3369.png" width="16" height="32" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Tue Jul 03, 2007 1:49 pm<br /><b>Posts:</b> 830
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">As I said in my pong thread:
<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Now more important. I played this on my famicom but took it to school today and played it on my pal nes. For some reason my pal nes the up button got shifted to start. A pal only glitch perhaps. I'd like to see if theres more info on this.</div>
<br />
<br />I doubt its the dmpc glitch since it doesnt happen on my famicom and I dont even have audio.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3369"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p43023"></a>
				<b class="postauthor">blargg</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p43023"></a></div><div style="float: right;"><a href="./viewtopic.php?p=43023#p43023"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sat Feb 07, 2009 2:00 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=17.gif" width="60" height="69" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Sep 27, 2004 8:33 am<br /><b>Posts:</b> 2802
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Can't help much without source code. Best to first try building a test program that just reads the controller and prints the byte returned, and see if that still exhibits the problem. If not, you know the cause is in your other code.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=17"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p43024"></a>
				<b class="postauthor">Jeroen</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p43024"></a></div><div style="float: right;"><a href="./viewtopic.php?p=43024#p43024"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sat Feb 07, 2009 2:06 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=3369.png" width="16" height="32" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Tue Jul 03, 2007 1:49 pm<br /><b>Posts:</b> 830
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">It's on my laptop. I"ll upload the code later. I used an inefficient way of reading the pads. But it works on ntsc machines so its really weird.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3369"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p43026"></a>
				<b class="postauthor">Dwedit</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p43026"></a></div><div style="float: right;"><a href="./viewtopic.php?p=43026#p43026"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sat Feb 07, 2009 2:30 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=53.png" width="68" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Nov 19, 2004 7:35 pm<br /><b>Posts:</b> 2546
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">PAL does have a slower CPU than NTSC, would that contribute at all?</div>

					
						<div class="postbody"><br />_________________<br />Here come the fortune cookies!  Here come the fortune cookies!  They're wearing paper hats!</div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=53"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p43027"></a>
				<b class="postauthor">Jeroen</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p43027"></a></div><div style="float: right;"><a href="./viewtopic.php?p=43027#p43027"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sat Feb 07, 2009 2:33 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=3369.png" width="16" height="32" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Tue Jul 03, 2007 1:49 pm<br /><b>Posts:</b> 830
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I dont see how......it reads the controller basicly by latching it.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3369"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p43029"></a>
				<b class="postauthor">Jeroen</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p43029"></a></div><div style="float: right;"><a href="./viewtopic.php?p=43029#p43029"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sat Feb 07, 2009 2:52 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=3369.png" width="16" height="32" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Tue Jul 03, 2007 1:49 pm<br /><b>Posts:</b> 830
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Ok this is fucked up. I did some more testing.
<br />first of all all controllers work on all units with other games like dpad hero.
<br />Heres all tests with my game:
<br />dogbone (famicom) on pal nes: works
<br />pal controller on pal nes: doesnt work (tried 2)
<br />
<br />pal controller on famicom: works
<br />dogbone controller on famicom works to.
<br />
<br />This is f-ed up</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3369"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p43050"></a>
				<b class="postauthor">Mednafen</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p43050"></a></div><div style="float: right;"><a href="./viewtopic.php?p=43050#p43050"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sat Feb 07, 2009 11:32 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Wed Sep 13, 2006 12:45 pm<br /><b>Posts:</b> 40
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Are you masking out open bus/gamepad unused bits?</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=1026"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p43066"></a>
				<b class="postauthor">Jeroen</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p43066"></a></div><div style="float: right;"><a href="./viewtopic.php?p=43066#p43066"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sun Feb 08, 2009 11:35 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=3369.png" width="16" height="32" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Tue Jul 03, 2007 1:49 pm<br /><b>Posts:</b> 830
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; &nbsp; &nbsp; &nbsp; .inesprg&nbsp; &nbsp; 1<br />&nbsp; &nbsp; &nbsp; &nbsp; .ineschr&nbsp; &nbsp; 1<br />&nbsp; &nbsp; &nbsp; &nbsp; .inesmir&nbsp; &nbsp; 1<br />&nbsp; &nbsp; &nbsp; &nbsp; .inesmap&nbsp; &nbsp; 0<br /><br />&nbsp; &nbsp;.org $8000<br />&nbsp; &nbsp;.bank 0<br /><br /><br />paddle_y = $0200<br />paddle_x = $0203<br />paddle2_y = $020c<br />paddle2_x = $020f<br />ball_y = $0218<br />ball_x = $021b<br />score_1 = $0221<br />score_2 = $021d<br />direction = $304<br /><br />reset:<br />&nbsp; &nbsp; sei&nbsp; &nbsp; &nbsp; &nbsp; ; ignore IRQs<br />&nbsp; &nbsp; cld&nbsp; &nbsp; &nbsp; &nbsp; ; disable decimal mode<br />&nbsp; &nbsp; ldx #$40<br />&nbsp; &nbsp; stx $4017&nbsp; ; disable APU frame IRQ<br />&nbsp; &nbsp; ldx #$ff<br />&nbsp; &nbsp; txs&nbsp; &nbsp; &nbsp; &nbsp; ; Set up stack<br />&nbsp; &nbsp; inx&nbsp; &nbsp; &nbsp; &nbsp; ; now X = 0<br />&nbsp; &nbsp; stx $2000&nbsp; ; disable NMI<br />&nbsp; &nbsp; stx $2001&nbsp; ; disable rendering<br />&nbsp; &nbsp; stx $4010&nbsp; ; disable DMC IRQs<br />&nbsp;<br />&nbsp; &nbsp; ; Optional &#40;omitted&#41;:<br />&nbsp; &nbsp; ; Set up mapper and jmp to further init code here.<br />&nbsp;<br />&nbsp; &nbsp; ; First of two waits for vertical blank to make sure that the<br />&nbsp; &nbsp; ; PPU has stabilized<br />vblankwait1:&nbsp; <br />&nbsp; &nbsp; bit $2002<br />&nbsp; &nbsp; bpl vblankwait1<br />&nbsp;<br />&nbsp; &nbsp; ; We now have about 30,000 cycles to burn before the PPU stabilizes.<br />&nbsp; &nbsp; ; Use it to clear RAM.&nbsp; X is still 0...<br />&nbsp; &nbsp; txa<br />clrmem:<br />&nbsp; &nbsp; sta $000,x<br />&nbsp; &nbsp; sta $100,x<br />&nbsp; &nbsp; sta $200,x<br />&nbsp; &nbsp; sta $300,x<br />&nbsp; &nbsp; sta $400,x<br />&nbsp; &nbsp; sta $500,x<br />&nbsp; &nbsp; sta $600,x<br />&nbsp; &nbsp; sta $700,x&nbsp; ; Remove this if you're storing reset-persistent data<br />&nbsp; &nbsp; inx<br />&nbsp; &nbsp; bne clrmem<br />&nbsp;<br />vblankwait2:<br />&nbsp; &nbsp; bit $2002<br />&nbsp; &nbsp; bpl vblankwait2<br /><br />ldpalletadr:<br />&nbsp; &nbsp;lda #$3F<br />&nbsp; &nbsp;sta $2006<br />&nbsp; &nbsp;lda #$10<br />&nbsp; &nbsp;sta $2006 <br />&nbsp; &nbsp;ldx #$00<br /><br />palletloop:<br />&nbsp; LDA palette, x&nbsp; &nbsp; &nbsp; &nbsp; ;load palette byte<br />&nbsp; STA $2007&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;;write to PPU<br />&nbsp; INX&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;;set index to next byte<br />&nbsp; CPX #$20&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; BNE palletloop&nbsp; ;if x = $20, 32 bytes copied, all done<br /><br />preploadscreen:<br />&nbsp; lda $2002<br />&nbsp; lda #$20<br />&nbsp; sta $2006<br />&nbsp; lda #$20<br />&nbsp; sta $2006<br />&nbsp; ldx #$00<br />&nbsp; lda #$01<br /><br />loadscreen:<br />&nbsp; sta $2007<br />&nbsp; inx<br />&nbsp; cpx #$20<br />&nbsp; bne loadscreen<br /><br />preloadscreen2:<br />&nbsp; lda $2002<br />&nbsp; lda #$23<br />&nbsp; sta $2006<br />&nbsp; lda #$00<br />&nbsp; sta $2006<br />&nbsp; ldx #$00<br />&nbsp; lda #$01<br /><br />loadscreen2:<br />&nbsp; sta $2007<br />&nbsp; inx<br />&nbsp; cpx #$20<br />&nbsp; bne loadscreen2<br />&nbsp;<br /><br />set2006:<br />&nbsp; lda #$00<br />&nbsp; sta $2006<br />&nbsp; sta $2006<br /><br />drawscore1:<br />&nbsp; &nbsp;lda #$c7<br />&nbsp; &nbsp;sta $021C<br />&nbsp; &nbsp;lda #$04<br />&nbsp; &nbsp;STA $021d<br />&nbsp; &nbsp;lda #$00<br />&nbsp; &nbsp;sta $021e<br />&nbsp; &nbsp;lda #$50<br />&nbsp; &nbsp;sta $021f<br /><br />drawscore2:<br />&nbsp; &nbsp;lda #$c7<br />&nbsp; &nbsp;sta $0220<br />&nbsp; &nbsp;lda #$04<br />&nbsp; &nbsp;STA $0221<br />&nbsp; &nbsp;lda #$00<br />&nbsp; &nbsp;sta $0222<br />&nbsp; &nbsp;lda #$A7<br />&nbsp; &nbsp;sta $0223<br />&nbsp; &nbsp;<br />drawpaddle:<br />&nbsp; &nbsp;lda #$48 ;first sprite<br />&nbsp; &nbsp;sta paddle_y ;store y position<br />&nbsp; &nbsp;lda #$03 <br />&nbsp; &nbsp;sta $0201 ;store sprite number<br />&nbsp; &nbsp;lda #%00000000<br />&nbsp; &nbsp;sta $0202 ;store no flipping ect.<br />&nbsp; &nbsp;lda #$08<br />&nbsp; &nbsp;sta paddle_x ;store x position<br />&nbsp; &nbsp;lda #$50 ;second sprite<br />&nbsp; &nbsp;sta $0204<br />&nbsp; &nbsp;lda #$01<br />&nbsp; &nbsp;sta $0205<br />&nbsp; &nbsp;lda #$00<br />&nbsp; &nbsp;sta $0206<br />&nbsp; &nbsp;lda #$08<br />&nbsp; &nbsp;sta $0207<br />&nbsp; &nbsp;lda #$58 ;third sprite<br />&nbsp; &nbsp;sta $0208<br />&nbsp; &nbsp;lda #$03<br />&nbsp; &nbsp;sta $0209<br />&nbsp; &nbsp;lda #%10000000<br />&nbsp; &nbsp;sta $020A<br />&nbsp; &nbsp;lda #$08<br />&nbsp; &nbsp;sta $020B ;end third sprite<br /><br />drawpaddle2:<br />&nbsp; &nbsp;lda #$48 ;first sprite<br />&nbsp; &nbsp;sta paddle2_y ;store y position<br />&nbsp; &nbsp;lda #$03 <br />&nbsp; &nbsp;sta $020d ;store sprite number<br />&nbsp; &nbsp;lda #$00<br />&nbsp; &nbsp;sta $020e ;store no flipping ect.<br />&nbsp; &nbsp;lda #$f0<br />&nbsp; &nbsp;sta paddle2_x ;store x position<br />&nbsp; &nbsp;lda #$50 ;second sprite<br />&nbsp; &nbsp;sta $0210<br />&nbsp; &nbsp;lda #$01<br />&nbsp; &nbsp;sta $0211<br />&nbsp; &nbsp;lda #$00<br />&nbsp; &nbsp;sta $0212<br />&nbsp; &nbsp;lda #$f0<br />&nbsp; &nbsp;sta $0213<br />&nbsp; &nbsp;lda #$58 ;third sprite<br />&nbsp; &nbsp;sta $0214<br />&nbsp; &nbsp;lda #$03<br />&nbsp; &nbsp;sta $0215<br />&nbsp; &nbsp;lda #%10000000<br />&nbsp; &nbsp;sta $0216<br />&nbsp; &nbsp;lda #$f0<br />&nbsp; &nbsp;sta $0217 ;end third sprite<br />&nbsp; &nbsp;lda #$02<br />&nbsp; &nbsp;sta $4014<br /><br />drawball: <br />&nbsp; &nbsp;lda #$50 ;sprite<br />&nbsp; &nbsp;sta ball_y ;store y position<br />&nbsp; &nbsp;lda #$02 <br />&nbsp; &nbsp;sta $0219 ;store sprite number<br />&nbsp; &nbsp;lda #$00<br />&nbsp; &nbsp;sta $021a ;store no flipping ect.<br />&nbsp; &nbsp;lda #$7b<br />&nbsp; &nbsp;sta ball_x ;store x position<br /><br />setbalv:<br />&nbsp; &nbsp;lda #$01<br />&nbsp; &nbsp;sta $301<br />&nbsp; &nbsp;lda #$02<br />&nbsp; &nbsp;sta $300<br /><br />generate:<br />&nbsp; &nbsp;lda #%10000000<br />&nbsp; &nbsp;sta $2000<br /><br />turnon:<br />&nbsp; &nbsp;lda #%00011110<br />&nbsp; &nbsp;sta $2001<br /><br />setscore:<br />&nbsp; &nbsp;lda #$04<br />&nbsp; &nbsp;sta score_1<br />&nbsp; &nbsp;sta score_2<br />&nbsp;<br />loop:<br />&nbsp;<br />&nbsp; &nbsp;jmp loop<br /><br />reverse:<br />&nbsp; &nbsp;Lda direction<br />&nbsp; &nbsp;eor #$00000001<br />&nbsp; &nbsp;sta direction<br />&nbsp; &nbsp;rts<br /><br />nmi:<br /><br />&nbsp; &nbsp;pha&nbsp; &nbsp; ; Push A on the stack &#40;which were the contents in A&#41;<br />&nbsp; &nbsp;txa&nbsp; &nbsp; ; transfer X to A<br />&nbsp; &nbsp;pha&nbsp; &nbsp; ; Push A on the stack &#40;which were the contents in X&#41;<br />&nbsp; &nbsp;tya&nbsp; &nbsp; ; transfer Y to A<br />&nbsp; &nbsp;pha&nbsp; &nbsp; ; Push A on the stack &#40;which were the contents in Y&#41;<br /><br /><br /><br />checkscore1:<br />&nbsp; &nbsp;ldx ball_x<br />&nbsp; &nbsp;cpx #$F7<br />&nbsp; &nbsp;bcc checkscore2<br />&nbsp; &nbsp;lda score_2<br />&nbsp; &nbsp;clc<br />&nbsp; &nbsp;cmp #$07<br />&nbsp; &nbsp;bne scorelol1<br />&nbsp; &nbsp;jmp reset<br /><br />scorelol1:<br />&nbsp; &nbsp;lda #$7b<br />&nbsp; &nbsp;sta ball_x<br />&nbsp; &nbsp;lda #$50<br />&nbsp; &nbsp;sta ball_y<br />&nbsp; &nbsp;ldx score_2<br />&nbsp; &nbsp;inx <br />&nbsp; &nbsp;stx score_2<br />&nbsp; &nbsp;jsr reverse<br />&nbsp; &nbsp;<br /><br />checkscore2:<br />&nbsp; &nbsp;ldx ball_x<br />&nbsp; &nbsp;cpx #$08<br />&nbsp; &nbsp;bcs checkdirection<br />&nbsp; &nbsp;lda score_1<br />&nbsp; &nbsp;clc<br />&nbsp; &nbsp;cmp #$07<br />&nbsp; &nbsp;bne scorelol2<br />&nbsp; &nbsp;jmp reset<br /><br />scorelol2:<br />&nbsp; &nbsp;lda #$7b<br />&nbsp; &nbsp;sta ball_x<br />&nbsp; &nbsp;lda #$50<br />&nbsp; &nbsp;sta ball_y<br />&nbsp; &nbsp;ldx score_1<br />&nbsp; &nbsp;inx <br />&nbsp; &nbsp;stx score_1<br />&nbsp; &nbsp;jsr reverse<br /><br /><br />checkdirection:<br />&nbsp; &nbsp;ldx direction<br />&nbsp; &nbsp;cpx #$00<br />&nbsp; &nbsp;bne checkballpaddle2<br /><br /><br />checkballpaddle1:<br />&nbsp; &nbsp;lda paddle2_x<br />&nbsp; &nbsp;clc<br />&nbsp; &nbsp;adc #$08<br />&nbsp; &nbsp;clc<br />&nbsp; &nbsp;cmp ball_x<br />&nbsp; &nbsp;bcc checkbounce&nbsp; &nbsp; &nbsp; &nbsp;;If the left edge of the enemy is farther than the Player's Right edge, there is could be no collision.<br /><br />&nbsp; &nbsp;lda ball_x<br />&nbsp; &nbsp;clc<br />&nbsp; &nbsp;adc #$08<br />&nbsp; &nbsp;clc<br />&nbsp; &nbsp;cmp paddle2_x<br />&nbsp; &nbsp;bcc checkbounce&nbsp; &nbsp; &nbsp; &nbsp;;If the Player's Left edge is beyond the enemy's right, there's no way there could be a collision.<br /><br />&nbsp; &nbsp;lda paddle2_y<br />&nbsp; &nbsp;clc<br />&nbsp; &nbsp;adc #$15<br />&nbsp; &nbsp;clc<br />&nbsp; &nbsp;cmp ball_y<br />&nbsp; &nbsp;bcc checkbounce&nbsp; &nbsp; &nbsp; &nbsp;;If the Player's Bottom Border is above the top of the enemy, there is no way for collision.<br /><br />&nbsp; &nbsp;lda ball_y<br />&nbsp; &nbsp;clc<br />&nbsp; &nbsp;adc #$08<br />&nbsp; &nbsp;clc<br />&nbsp; &nbsp;cmp paddle2_y<br />&nbsp; &nbsp;bcc checkbounce&nbsp; &nbsp; &nbsp; &nbsp;;If the player's Top edge is below &#40;Greater than&#41; the enemy's bottom edge, there can be no collision. <br /><br />reverseball:<br />&nbsp; &nbsp;jsr reverse<br /><br />checkballpaddle2:<br />&nbsp; &nbsp;lda paddle_x<br />&nbsp; &nbsp;clc<br />&nbsp; &nbsp;adc #$08<br />&nbsp; &nbsp;clc<br />&nbsp; &nbsp;cmp ball_x<br />&nbsp; &nbsp;bcc checkbounce&nbsp; &nbsp; &nbsp; &nbsp;;If the left edge of the enemy is farther than the Player's Right edge, there is could be no collision.<br /><br />&nbsp; &nbsp;lda ball_x<br />&nbsp; &nbsp;clc<br />&nbsp; &nbsp;adc #$08<br />&nbsp; &nbsp;clc<br />&nbsp; &nbsp;cmp paddle_x<br />&nbsp; &nbsp;bcc checkbounce&nbsp; &nbsp; &nbsp; &nbsp;;If the Player's Left edge is beyond the enemy's right, there's no way there could be a collision.<br /><br />&nbsp; &nbsp;lda paddle_y<br />&nbsp; &nbsp;clc<br />&nbsp; &nbsp;adc #$15<br />&nbsp; &nbsp;clc<br />&nbsp; &nbsp;cmp ball_y<br />&nbsp; &nbsp;bcc checkbounce&nbsp; &nbsp; &nbsp; &nbsp;;If the Player's Bottom Border is above the top of the enemy, there is no way for collision.<br /><br />&nbsp; &nbsp;lda ball_y<br />&nbsp; &nbsp;clc<br />&nbsp; &nbsp;adc #$08<br />&nbsp; &nbsp;clc<br />&nbsp; &nbsp;cmp paddle_y<br />&nbsp; &nbsp;bcc checkbounce&nbsp; &nbsp; &nbsp; &nbsp;;If the player's Top edge is below &#40;Greater than&#41; the enemy's bottom edge, there can be no collision.<br /><br />reverseball2:<br />&nbsp; &nbsp;jsr reverse<br />&nbsp;<br />checkbounce:<br />&nbsp; &nbsp;ldx ball_y<br />&nbsp; &nbsp;cpx #$10<br />&nbsp; &nbsp;beq checkbounce2<br /><br />reversey:<br />&nbsp; &nbsp;lda $303<br />&nbsp; &nbsp;eor #$00000001<br />&nbsp; &nbsp;sta $303<br /><br />checkbounce2:<br />&nbsp; &nbsp;ldx ball_y<br />&nbsp; &nbsp;cpx #$b8<br />&nbsp; &nbsp;beq updatebally1<br /><br />reversey2:<br />&nbsp; lda $303<br />&nbsp; eor #$00000001<br />&nbsp; sta $303<br /><br />updatebally1:<br />&nbsp; &nbsp;lda $303<br />&nbsp; &nbsp;and #$01<br />&nbsp; &nbsp;bne updatebally2<br />&nbsp; &nbsp;lda ball_y<br />&nbsp; &nbsp;clc<br />&nbsp; &nbsp;adc $300<br />&nbsp; &nbsp;sta ball_y<br />&nbsp; &nbsp;jmp updateballx1<br /><br />updatebally2:<br />&nbsp; &nbsp;lda ball_y<br />&nbsp; &nbsp;sec<br />&nbsp; &nbsp;sbc $300<br />&nbsp; &nbsp;sta ball_y<br /><br />updateballx1:<br />&nbsp; &nbsp;lda direction<br />&nbsp; &nbsp;and #%00000001<br />&nbsp; &nbsp;bne updateballx2<br />&nbsp; &nbsp;lda ball_x<br />&nbsp; &nbsp;clc<br />&nbsp; &nbsp;adc $301<br />&nbsp; &nbsp;sta ball_x<br />&nbsp; &nbsp;jmp check1<br /><br />updateballx2:<br />&nbsp; &nbsp;lda ball_x<br />&nbsp; &nbsp;sec<br />&nbsp; &nbsp;sbc $301<br />&nbsp; &nbsp;sta ball_x<br /><br /><br />checkcheck1:<br />&nbsp; &nbsp;ldx ball_x<br />&nbsp; &nbsp;cpx #$EF<br />&nbsp; &nbsp;bcc checkcheck2<br />&nbsp; &nbsp;jmp finish<br /><br />checkcheck2:<br />&nbsp; &nbsp;ldx ball_x<br />&nbsp; &nbsp;cpx #$10<br />&nbsp; &nbsp;bcs check1<br />&nbsp; &nbsp;jmp finish<br />&nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp;<br />check1:<br />&nbsp; &nbsp;ldx paddle_y ;see if paddle is at top<br />&nbsp; &nbsp;cpx #$10<br />&nbsp; &nbsp;beq check2<br />&nbsp; &nbsp;lda #$01 ; start latch<br />&nbsp; &nbsp;sta $4016<br />&nbsp; &nbsp;lda #$00<br />&nbsp; &nbsp;sta $4016 ;latch the controller<br />&nbsp; &nbsp;lda $4016<br />&nbsp; &nbsp;lda $4016<br />&nbsp; &nbsp;lda $4016<br />&nbsp; &nbsp;lda $4016 ;ignore everything till up and down<br />&nbsp; &nbsp;lda $4016<br />&nbsp; &nbsp;and #%00000001<br />&nbsp; &nbsp;beq check2 ;if up pressed go up<br />&nbsp; &nbsp;ldx paddle_y<br />&nbsp; &nbsp;dex<br />&nbsp; &nbsp;stx paddle_y ;first sprite<br />&nbsp; &nbsp;ldx $0204<br />&nbsp; &nbsp;dex <br />&nbsp; &nbsp;stx $0204 ;second<br />&nbsp; &nbsp;ldx $0208<br />&nbsp; &nbsp;dex<br />&nbsp; &nbsp;stx $0208 ;third<br />&nbsp; &nbsp;<br />check2:<br />&nbsp; &nbsp;ldx $0208 ;see if paddle is at bottom<br />&nbsp; &nbsp;cpx #$b8<br />&nbsp; &nbsp;beq check3<br />&nbsp; &nbsp;lda #$01 ; start latch<br />&nbsp; &nbsp;sta $4016<br />&nbsp; &nbsp;lda #$00<br />&nbsp; &nbsp;sta $4016 ;latch the controller<br />&nbsp; &nbsp;lda $4016<br />&nbsp; &nbsp;lda $4016<br />&nbsp; &nbsp;lda $4016<br />&nbsp; &nbsp;lda $4016 ;ignore everything till up and down<br />&nbsp; &nbsp;lda $4016<br />&nbsp; &nbsp;lda $4016<br />&nbsp; &nbsp;and #%00000001<br />&nbsp; &nbsp;beq check3 ;yaya<br />&nbsp; &nbsp;ldx paddle_y<br />&nbsp; &nbsp;inx<br />&nbsp; &nbsp;stx paddle_y ;first<br />&nbsp; &nbsp;ldx $0204<br />&nbsp; &nbsp;inx<br />&nbsp; &nbsp;stx $0204 ;second<br />&nbsp; &nbsp;ldx $0208<br />&nbsp; &nbsp;inx <br />&nbsp; &nbsp;stx $0208 ;third.<br /><br />check3:<br />&nbsp; &nbsp;ldx paddle2_y ;see if paddle is at top<br />&nbsp; &nbsp;cpx #$10<br />&nbsp; &nbsp;beq check4<br />&nbsp; &nbsp;lda #$01 ; start latch<br />&nbsp; &nbsp;sta $4016<br />&nbsp; &nbsp;lda #$00<br />&nbsp; &nbsp;sta $4016 ;latch the controller<br />&nbsp; &nbsp;lda $4017<br />&nbsp; &nbsp;lda $4017<br />&nbsp; &nbsp;lda $4017<br />&nbsp; &nbsp;lda $4017 ;ignore everything till up and down<br />&nbsp; &nbsp;lda $4017<br />&nbsp; &nbsp;and #%00000001<br />&nbsp; &nbsp;beq check4 ;if up pressed go up<br />&nbsp; &nbsp;ldx paddle2_y<br />&nbsp; &nbsp;dex<br />&nbsp; &nbsp;stx paddle2_y ;first sprite<br />&nbsp; &nbsp;ldx $0210<br />&nbsp; &nbsp;dex <br />&nbsp; &nbsp;stx $0210 ;second<br />&nbsp; &nbsp;ldx $0214<br />&nbsp; &nbsp;dex<br />&nbsp; &nbsp;stx $0214 ;third<br /><br />check4:<br />&nbsp; &nbsp;ldx $0214 ;see if paddle is at bottom<br />&nbsp; &nbsp;cpx #$b8<br />&nbsp; &nbsp;beq finish<br />&nbsp; &nbsp;lda #$01 ; start latch<br />&nbsp; &nbsp;sta $4016<br />&nbsp; &nbsp;lda #$00<br />&nbsp; &nbsp;sta $4016 ;latch the controller<br />&nbsp; &nbsp;lda $4017<br />&nbsp; &nbsp;lda $4017<br />&nbsp; &nbsp;lda $4017<br />&nbsp; &nbsp;lda $4017 ;ignore everything till up and down<br />&nbsp; &nbsp;lda $4017<br />&nbsp; &nbsp;lda $4017<br />&nbsp; &nbsp;and #%00000001<br />&nbsp; &nbsp;beq finish ;yaya<br />&nbsp; &nbsp;ldx paddle2_y<br />&nbsp; &nbsp;inx<br />&nbsp; &nbsp;stx paddle2_y ;first<br />&nbsp; &nbsp;ldx $0210<br />&nbsp; &nbsp;inx<br />&nbsp; &nbsp;stx $0210 ;second<br />&nbsp; &nbsp;ldx $0214<br />&nbsp; &nbsp;inx <br />&nbsp; &nbsp;stx $0214 ;third.<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;<br /><br />finish: <br />&nbsp; &nbsp;lda #$02<br />&nbsp; &nbsp;sta $4014<br />&nbsp; &nbsp;pla&nbsp; &nbsp; &nbsp;; Pull A off of the stack &#40;which were the contents in Y&#41;<br />&nbsp; &nbsp;tay&nbsp; &nbsp; &nbsp;; transfer A to Y<br />&nbsp; &nbsp;pla&nbsp; &nbsp; &nbsp;; Pull A off of the stack &#40;which were the contents in X&#41;<br />&nbsp; &nbsp;tax&nbsp; &nbsp; &nbsp;; transfer A to X<br />&nbsp; &nbsp;pla&nbsp; &nbsp; &nbsp;; Pull A off of the stack &#40;which were the contents in A&#41;<br />&nbsp; &nbsp;rti&nbsp; &nbsp; &nbsp;; return from NMI interrupt <br /><br /><br />&nbsp; &nbsp; &nbsp;<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; palette:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .db $0F,$30,$30,$30,&nbsp; &nbsp;$0F,$30,$30,$30,&nbsp; &nbsp;$0F,$30,$30,$30,&nbsp; &nbsp;$0F,$30,$30,$30<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .db $0F,$30,$30,$30,&nbsp; &nbsp;$0F,$30,$30,$30,&nbsp; &nbsp;$0F,$30,$30,$30,&nbsp; &nbsp;$0F,$30,$30,$30&nbsp; <br /><br />&nbsp; &nbsp; &nbsp; &nbsp;.bank 1<br />&nbsp; &nbsp;.org&nbsp; &nbsp;$FFFA<br />&nbsp; &nbsp;.dw&nbsp; &nbsp;&nbsp; &nbsp;nmi ;&#40;NMI_Routine&#41;<br />&nbsp; &nbsp;.dw&nbsp; &nbsp;&nbsp; &nbsp;reset ;&#40;Reset_Routine&#41;<br />&nbsp; &nbsp;.dw&nbsp; &nbsp;&nbsp; &nbsp;0 ;&#40;IRQ_Routine&#41;<br /><br />&nbsp; &nbsp; .bank 2<br />&nbsp; &nbsp; .org&nbsp; &nbsp; $0000<br />&nbsp; &nbsp; .incbin &quot;pong.chr&quot;&nbsp; ;gotta be 8192 bytes long</div>
<br />
<br />My code in its entirety.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3369"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p43072"></a>
				<b class="postauthor" style="color: #AA0000">Memblers</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p43072"></a></div><div style="float: right;"><a href="./viewtopic.php?p=43072#p43072"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sun Feb 08, 2009 12:55 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td class="postdetails">Site Admin</td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=10.jpg" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Sep 20, 2004 6:04 am<br /><b>Posts:</b> 2711<br /><b>Location:</b> Indianapolis
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Try adding a NOP between the consecutive $4016/$4017 reads.  I doubt that will fix it, but I don't know what else to suggest (unless the bug is somewhere else).</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=10"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p43073"></a>
				<b class="postauthor">Jeroen</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p43073"></a></div><div style="float: right;"><a href="./viewtopic.php?p=43073#p43073"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sun Feb 08, 2009 12:56 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=3369.png" width="16" height="32" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Tue Jul 03, 2007 1:49 pm<br /><b>Posts:</b> 830
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Kev told me pal pads are different. But I dont see why the pal pads would work on my famicom fine then.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3369"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p43075"></a>
				<b class="postauthor">blargg</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p43075"></a></div><div style="float: right;"><a href="./viewtopic.php?p=43075#p43075"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sun Feb 08, 2009 1:03 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=17.gif" width="60" height="69" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Sep 27, 2004 8:33 am<br /><b>Posts:</b> 2802
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Yeah, looks to be that it can't be read that quickly. Perhaps capacitance on the input. Any reason you aren't using a normal controller read loop?</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=17"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p43076"></a>
				<b class="postauthor">Jeroen</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p43076"></a></div><div style="float: right;"><a href="./viewtopic.php?p=43076#p43076"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sun Feb 08, 2009 1:07 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=3369.png" width="16" height="32" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Tue Jul 03, 2007 1:49 pm<br /><b>Posts:</b> 830
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">meh this was one of the first things I worked on. And it was when I first started nesdev. Thats the reason for the non standard controller read loop. However it might be good to make note of this.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3369"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table width="100%" cellspacing="1" class="tablebg">
	<tr align="center">
		<td class="cat"><form name="viewtopic" method="post" action="./viewtopic.php?f=2&amp;t=4841"><span class="gensmall">Display posts from previous:</span> <select name="st" id="st"><option value="0" selected="selected">All posts</option><option value="1">1 day</option><option value="7">7 days</option><option value="14">2 weeks</option><option value="30">1 month</option><option value="90">3 months</option><option value="180">6 months</option><option value="365">1 year</option></select>&nbsp;<span class="gensmall">Sort by</span> <select name="sk" id="sk"><option value="a">Author</option><option value="t" selected="selected">Post time</option><option value="s">Subject</option></select> <select name="sd" id="sd"><option value="a" selected="selected">Ascending</option><option value="d">Descending</option></select>&nbsp;<input class="btnlite" type="submit" value="Go" name="sort" /></form></td>
	</tr>
	</table>
	

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=2"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=2&amp;t=4841"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>1</strong> of <strong>1</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 12 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"></td>
		
	</tr>
	</table>

</div>

<div id="pagefooter"></div>

<br clear="all" />
<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=24">NES / Famicom</a> &#187; <a href="./viewforum.php?f=2">NESdev</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>
	<br clear="all" />

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat"><h4>Who is online</h4></td>
	</tr>
	<tr>
		<td class="row1"><p class="gensmall">Users browsing this forum: No registered users and 1 guest</p></td>
	</tr>
	</table>


<br clear="all" />

<table width="100%" cellspacing="1">
<tr>
	<td width="40%" valign="top" nowrap="nowrap" align="left"></td>
	<td align="right" valign="top" nowrap="nowrap"><span class="gensmall">You <strong>cannot</strong> post new topics in this forum<br />You <strong>cannot</strong> reply to topics in this forum<br />You <strong>cannot</strong> edit your posts in this forum<br />You <strong>cannot</strong> delete your posts in this forum<br />You <strong>cannot</strong> post attachments in this forum<br /></span></td>
</tr>
</table>

<br clear="all" />

<table width="100%" cellspacing="0">
<tr>
	<td><form method="get" name="search" action="./search.php"><span class="gensmall">Search for:</span> <input class="post" type="text" name="keywords" size="20" /> <input class="btnlite" type="submit" value="Go" /><input type="hidden" name="t" value="4841" />
<input type="hidden" name="sf" value="msgonly" />
</form></td>
	<td align="right">
	<form method="post" name="jumpbox" action="./viewforum.php" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	<table cellspacing="0" cellpadding="0" border="0">
	<tr>
		<td nowrap="nowrap"><span class="gensmall">Jump to:</span>&nbsp;<select name="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">

		
			<option value="-1">Select a forum</option>
		<option value="-1">------------------</option>
			<option value="24">NES / Famicom</option>
		
			<option value="2" selected="selected">&nbsp; &nbsp;NESdev</option>
		
			<option value="3">&nbsp; &nbsp;NESemdev</option>
		
			<option value="21">&nbsp; &nbsp;NES Graphics</option>
		
			<option value="6">&nbsp; &nbsp;NES Music</option>
		
			<option value="9">&nbsp; &nbsp;NES Hardware and Flash Equipment</option>
		
			<option value="22">&nbsp; &nbsp;Homebrew Projects</option>
		
			<option value="10">&nbsp; &nbsp;Newbie Help Center</option>
		
			<option value="11">&nbsp; &nbsp;FCdev</option>
		
			<option value="18">&nbsp; &nbsp;NESdev China</option>
		
			<option value="19">&nbsp; &nbsp;NESdev International</option>
		
			<option value="25">Other</option>
		
			<option value="5">&nbsp; &nbsp;General Stuff</option>
		
			<option value="4">&nbsp; &nbsp;Membler Industries</option>
		
			<option value="12">&nbsp; &nbsp;SNESdev</option>
		
			<option value="20">&nbsp; &nbsp;GBDev</option>
		
			<option value="23">&nbsp; &nbsp;Other Retro Dev</option>
		
			<option value="15">&nbsp; &nbsp;Test Forum</option>
		
			<option value="26">Site Issues</option>
		
			<option value="13">&nbsp; &nbsp;phpBB Issues</option>
		
			<option value="14">&nbsp; &nbsp;Web Issues</option>
		
			<option value="16">&nbsp; &nbsp;nesdevWiki</option>
		

		</select>&nbsp;<input class="btnlite" type="submit" value="Go" /></td>
	</tr>
	</table>

	</form>
</td>
</tr>
</table>


</div>

<div id="wrapfooter">
	
	<span class="copyright">Powered by <a href="http://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Group
	</span>
</div>

</body>
</html>