<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Flight Minigames (canceled)</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="https://forums.nesdev.com/">https://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Flight Minigames (canceled)</span><br /><span class="gensmall"><a href="https://forums.nesdev.com/viewtopic.php?f=31&amp;t=11137">https://forums.nesdev.com/viewtopic.php?f=31&amp;t=11137</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>JRoatch</b> [ Mon Mar 31, 2014 1:11 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Flight Minigames (canceled)</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Update: Unfortunately I've stopped working on this game. Attached is the last version of the source.<br /><br />Looking for a NES version of Flappy Bird?<br /><a href="http://slydogstudios.org/index.php/1k-series/" class="postlink">Flappy Block</a> from Sly Dog Studios <br /><a href="http://forums.nesdev.com/viewtopic.php?p=128632#p128632" class="postlink">Family Bird</a> from sayonari <br /><a href="http://forums.nesdev.com/viewtopic.php?f=22&amp;t=11425" class="postlink">&quot;flappy.nes&quot;</a> from Nioreh <br /><br />----<br />Flight Minigames is intended to be a collection of <s>8</s> 6 similar &quot;one button games&quot; for the <a href="http://forums.nesdev.com/viewtopic.php?t=8514" class="postlink">multicart project</a> where you control the vertical movement of the sprite to avoid obstacles approaching horizontally. Planned modes include clones of the mechanics of The <a href="http://www.helicoptergame.net" class="postlink">Helicopter Game</a>, Balloon Fight and Flappy Bird.<br /><br />The most important lesson I learned during competition period is that gradual <a href="https://en.wikipedia.org/wiki/Drag_%28physics%29" class="postlink">air resistance</a> feels much better then speed caps. Also fixed point numbers with more then <a href="https://en.wikipedia.org/wiki/Q_%28number_format%29" class="postlink">Q16.16</a> precision is overkill.<br /><br />I'm not sure what lesson I learned for v0.2, maybe that system stack can be used for saving bytes in ROM.<br /><br />List of things needed to be done has been moved into a TODO.txt file.

		
			<br clear="all" /><br />

			<table class="tablebg" width="100%" cellspacing="1">
			<tr>
				<td><b class="genmed">Attachments: </b></td>
			</tr>
			
				<tr>
					<td>
			<span class="gensmall"><b>File comment:</b> Flight Minigames v0.2 source</span><br />
		
			<span class="genmed">
				<img src="./styles/subsilver2/imageset/icon_topic_attach.gif" width="14" height="18" alt="" title="" /> 
				<a href="./download/file.php?id=1841">2014-05-29_flight-minigames-v0.2.zip</a> [70.6 KiB]
			</span><br />
			<span class="gensmall">Downloaded 341 times</span>
		

		<br />
	</td>
				</tr>
			
			</table>
		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Mon Mar 31, 2014 2:06 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Flight Minigames</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Balloon Fight uses a denominator of 256 (8 subpixel bits) for positions and velocities.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>JRoatch</b> [ Mon Mar 31, 2014 2:41 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Flight Minigames</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Right, G in Balloon Fight is $00.06 per ntsc frame (about 84.7px/s^2) with a speed cap of about 75.1px/s.<br /><br />I'm not sure exactly what's going on with the upward thrust, but looks like it either adds (on top of G) $00.12 per frame or $00.78 for a single flap.<br /><br />If only I was able to watch ram values for flappy bird.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>JRoatch</b> [ Fri Apr 18, 2014 8:35 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Flight Minigames</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />It's been awhile since I last posted but I got somebody with a copy of flappy bird on a rooted tablet to let me screen record some gameplay.<br /><br />After a bit of video frame slicing and counting pixels I came up with these numbers. Unlike other <a href="https://fnoschese.wordpress.com/2014/01/30/flappy-bird-when-reality-seems-unrealistic/" class="postlink">prior work by Frank Noschese</a>, I'm setting the width of the bird (from tail to beak) to 1 meter.<br /><br />Bird width: 1 m (reference meter)<br />Field height: 10.7872 m<br />Gravity: 29.9426 m/s^2<br />Speed after flap: 8.6320 m/s<br />Speed cap: 14.0957 m/s<br />Horizontal scroll: 3.5493 m/s<br /><br />Reading the linked article again, I somehow totally missed the video downloads before doing the experiments myself.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>NESHomebrew</b> [ Sat Apr 26, 2014 8:50 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Flight Minigames</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Do you have the most recent build? I think the one you linked too might be an older version.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>JRoatch</b> [ Sat Apr 26, 2014 12:11 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Flight Minigames</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The most recent published build is v0.1. Sorry if being under &quot;Older versions&quot; and with a label of &quot;incomplete&quot; is confusing. It should match the version I sent you last in email as they both should have a md5sum of 3f0d3ca924f8c1e2bcd20d1c7a2ca144.<br /><br />The progress of v0.2 (with 2 complete games) has been slow.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>NESHomebrew</b> [ Sat Apr 26, 2014 2:55 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Flight Minigames</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Ok, I just can't get to a menu like it shows in your screenshot at the top. I'm just trying to get some screenshots for the website.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>JRoatch</b> [ Thu May 08, 2014 9:09 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Flight Minigames</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I pretty much did nothing in the month of April, and it seems like the only thing I did this week was rewrite the core adder and converted all fixed point numbers from a 6 byte 16.32 format to a 4 byte 9.23 format.<br /><br />I want to ask for help, but it's hard to formulate how or what one can help with.<br /><br />Also this is probably the one piece of code that the cpu will spend a good bulk of it's time on.<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">;;<br />; multi purpose multi byte operation<br />; &#91;API sniped but will be described in full source&#93;<br />bignum_op:<br />-<br />&nbsp; lda (temp+0), y<br />&nbsp; eor temp+5&nbsp; &nbsp; ; a value of $ff will make this a subtraction<br />&nbsp; adc (temp+2), y<br />&nbsp; sta (temp+0), y<br />&nbsp; iny<br />&nbsp; dec temp+4<br />&nbsp; bne -<br />&nbsp; rts</div>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Movax12</b> [ Thu May 08, 2014 10:40 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Flight Minigames</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I think I am understanding your code. Maybe a bit faster, assuming temp+5 is either 0 or FFh<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; <br />&nbsp; ; is it negative?<br />&nbsp; bit temp+5<br />&nbsp; bpl positive<br />&nbsp; ; negative:<br />&nbsp; sec <br />&nbsp; ldx temp+4<br />-<br />&nbsp; lda (temp+0), y<br />&nbsp; sbc (temp+2), y<br />&nbsp; sta (temp+0), y<br />&nbsp; iny<br />&nbsp; dex<br />&nbsp; bne -<br />&nbsp; beq exit<br />positive:<br />&nbsp; clc<br />&nbsp; ldx temp+4<br />-<br />&nbsp; lda (temp+0), y<br />&nbsp; adc&nbsp; (temp+2), y<br />&nbsp; sta (temp+0), y<br />&nbsp; iny<br />&nbsp; dex<br />&nbsp; bne -<br />exit:<br />&nbsp; rts</div><br /><br />Store x back to temp+4 if needed.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>JRoatch</b> [ Thu May 08, 2014 10:52 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Flight Minigames</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I attempting to go the extreme side of the size/speed trade off, aiming for small size. So I thought it was cool when I saw a way to pack addition and subtraction in the same subroutine loop, and with the same loop I'm clearing bytes of memory, which would allow for copying bytes and negating.<br /><br />Maybe I just need to stop spending all my time on size optimization...

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Movax12</b> [ Thu May 08, 2014 11:26 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Flight Minigames</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Unless you are approaching the limits of your chosen mapper, personally wouldn't worry too much about size, unless that is part of the challenge. Even if you need some simple bankswitching, it's 2014; memory is relatively cheap. Also, regarding that routine - if your values are going to be multiples of two bytes always, you could partially unroll it into two lda/adc/sta steps.<br /><br />Edit: Maybe ignore that last part about unrolling more, may not work with this code.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>JRoatch</b> [ Thu May 08, 2014 1:59 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Flight Minigames</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />One thing I know I will have difficulty with, and have yet to address, is sound engine and musical composition.<br /><br />My first thought was to use famitone2 and place the entire famitone page in zeropage to reduce the opcode size (my target ROM size is 4 or 8 KiB). I also though about somehow using temple's sound engine, but I'm not clear about the pros and cons of each. In any-case I've got 128 zeropage bytes reserved for sound, and I hope I can get the music code and data to fit in the 2.5KiB ROM space left.<br /><br />Then of course I believe I lack the musical composition skills anyway.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Thu May 08, 2014 4:27 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Flight Minigames</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />My sound engine should comfortably fit into your ZP budget, and as for ROM, <a href="http://forums.nesdev.com/viewtopic.php?p=103761#p103761" class="postlink">this 3.8K NSF</a> containing the entire soundtrack of Concentration Room, Thwaite, Zap Ruder, and an old falling block game should show how ROM-efficient it can get while delivering competent triangle drums and semi-pitched hi-hats. If you want, I can package it with a manual, and I might even have time to compose some happy flappy tunes for you.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>JRoatch</b> [ Thu May 08, 2014 5:28 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Flight Minigames</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />A package with a manual would be nice, even if I ultimately don't use it. Just don't end up using up too much time meant for RHDE.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>JRoatch</b> [ Wed May 21, 2014 2:04 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Flight Minigames</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />So famitone2 may not be ideal to stuff entirely into zeropage. I just counted, according to the var definitions, the number of RAM bytes used for music and one sound effect stream. It's 140 bytes.<br />I don't know how the sound effect data is formated, but I think it's like a raw list of APU commands or something.<br /><br />I think should start looking into tepples sound engine. I believe it's pretty much music.s sound.s and musicseq.* in RHDE.<br /><br />I do like the 64 note range of famitone2 and my edit that allows different tempo and pitch setups. I'm hoping that would be easy to port over those features.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>