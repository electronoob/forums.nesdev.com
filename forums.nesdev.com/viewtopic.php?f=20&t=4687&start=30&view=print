<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - GameBoy Development?</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">GameBoy Development?</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=20&amp;t=4687">http://forums.nesdev.com/viewtopic.php?f=20&amp;t=4687</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>3</strong> of <strong>3</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Petruza</b> [ Mon Jan 19, 2009 8:13 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Wow the thread I started ended up creating a forum! I feel somewhat important.
<br />No, not really.
<br /> <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /> 
<br />But as soon as I finish my NES library I'll submerge in the GBdev world!  <img src="./images/smilies/icon_lol.gif" alt=":lol:" title="Laughing" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Celius</b> [ Mon Jan 19, 2009 12:02 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Petruza wrote:</div><div class="quotecontent">Wow the thread I started ended up creating a forum! I feel somewhat important.<br />No, not really.<br /> <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /> <br />But as soon as I finish my NES library I'll submerge in the GBdev world!  <img src="./images/smilies/icon_lol.gif" alt=":lol:" title="Laughing" /></div><br /><br /><div class="quotetitle">Celius wrote:</div><div class="quotecontent"> (From second post in thread)...Perhaps it'd be nice if a GBDev forum was opened up like the SNESDev forum here. </div>
<br />
<br />Oh, I think that was all my doing  <img src="./images/smilies/icon_cool.gif" alt="8)" title="Cool" />  <img src="./images/smilies/icon_lol.gif" alt=":lol:" title="Laughing" /> 
<br />
<br />Someday I'll move onto GBDev. I just can't dive into it right now, because I have too much going on. I'll port some of the NES games I make to GB/GBC when I finish them.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Mon Jan 19, 2009 12:25 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />It could be great if we could have a tool that would convert 6502 code to GB-Z80 codes automatically  <img src="./images/smilies/icon_wink.gif" alt=":wink:" title="Wink" /> 
<br />Of couse a lot of fixes would have to be done and all I/O routines would have to be fully rewritten (along with any routine where speed matters). But it could still save some work.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Celius</b> [ Mon Jan 19, 2009 1:24 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I don't know, I don't think I'd like to convert 6502 code automatically. Pretty much any straight conversion proves to make slow code, and I really want to be sure of every single instruction that I execute. Otherwise I feel cheap. And besides, I kind of like how working with the Z80 feels.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Petruza</b> [ Mon Jan 19, 2009 1:40 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Celius wrote:</div><div class="quotecontent">Oh, I think that was all my doing  <img src="./images/smilies/icon_cool.gif" alt="8)" title="Cool" />  <img src="./images/smilies/icon_lol.gif" alt=":lol:" title="Laughing" /> </div><br /><br />Damn. Ok I'll recognize 50% responsibility to you. Not more.  <img src="./images/smilies/icon_mad.gif" alt=":x" title="Mad" /><br /><br /><div class="quotetitle">Celius wrote:</div><div class="quotecontent">I'll port some of the NES games I make to GB/GBC when I finish them.</div>
<br />
<br />Which are? It would be great to have like a main list with each forum member and his games, available for download or in video demos, so everybody can appreciate the work of the others.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>blargg</b> [ Mon Jan 19, 2009 1:55 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Celius wrote:</div><div class="quotecontent">I don't know, I don't think I'd like to convert 6502 code automatically. Pretty much any straight conversion proves to make slow code</div><br />Because the GB-Z80 has many more registers. 6502 code will tend to push things on the stack or make use of zero-page, while GB-Z80 code will keep things in other registers. A translator will have a hard time doing this, since it can have a hard time knowing whether a zero-page value is just used as a temporary, or later read by the calling routine.<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">And besides, I kind of like how working with the Z80 feels.</div>
<br />Like working with the x86, unpleasant? You get more operations, but there are more obscure limitations, timing differences, and opcoding encoding inconsistencies. On the other hand, the GB-Z80 has lots more things directly supported:
<br />- Register-to-register operations, like A=A AND B
<br />- 16-bit arithmetic, like HL=HL+BC, DE=DE-1
<br />- 16-bit memory indexing using a register pair, and auto-increment/decrementing
<br />- Easy stack-local variables by being able to add signed 8-bit immediate to stack pointer, and load HL with stack pointer + signed 8-bit immediate
<br />- Push/pop any register pair
<br />- Set/reset bit in register/memory byte
<br />- Conditional call and return

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Celius</b> [ Mon Jan 19, 2009 3:08 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Petruza wrote:</div><div class="quotecontent"><div class="quotetitle">Celius wrote:</div><div class="quotecontent">Oh, I think that was all my doing  <img src="./images/smilies/icon_cool.gif" alt="8)" title="Cool" />  <img src="./images/smilies/icon_lol.gif" alt=":lol:" title="Laughing" /> </div><br /><br />Damn. Ok I'll recognize 50% responsibility to you. Not more.  <img src="./images/smilies/icon_mad.gif" alt=":x" title="Mad" /></div><br /><br />Are you sure? Not even 75%? Haha, just kidding.<br /><br /><div class="quotetitle">Petruza wrote:</div><div class="quotecontent">Which are? It would be great to have like a main list with each forum member and his games, available for download or in video demos, so everybody can appreciate the work of the others.</div><br /><br />I was going to update my site to have information about the games I'm working on. These are far from completion, and I'm more focusing on one in particular, which is a Castlevania spoof. My site doesn't have the information about it right now, because I'm in the middle of rearranging it. I'll try and get it up soon. I'll let you know when it's all updated.<br /><br /><div class="quotetitle">blargg wrote:</div><div class="quotecontent">Like working with the x86, unpleasant?</div>
<br />
<br />What do you mean by that? I've never worked with x86. The only assembly languages I've worked with are 6502, 65816, and GB-Z80. Oh, and when I said Z80 before I meant GB-Z80.
<br />
<br />I like how in GB-Z80 you kind of load-and-store in one line. But I suppose they are really more of statements like TAX or TAY when you say something like:
<br />
<br />ld a,h
<br />
<br />It was really easy to dive right into with this intuitive format.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Mon Jan 19, 2009 3:25 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />What makes me really complaining about the GB-Z80 is that there is no indexed adressing *at all* and I use it all the time on the 6502 so I'd have a really hard time to port code.
<br />
<br />The only way to acess an array is to use indirect adressing and you have only *one* indirect pointer to do that woks. So if you want to do such a smple thing as copy an array to another in reverse order, while it's very easy on the 6502, it would end up a headache on the GB-Z80.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>blargg</b> [ Mon Jan 19, 2009 4:29 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Maybe I'm missing something, but doesn't this do what you describe?
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; &nbsp; ; Copy 3 bytes from foo to bar, in reverse order<br />&nbsp; &nbsp; ld&nbsp; b,3<br />&nbsp; &nbsp; ld&nbsp; de,foo+3<br />&nbsp; &nbsp; ld&nbsp; hl,bar<br />-&nbsp; &nbsp;dec de<br />&nbsp; &nbsp; ld&nbsp; a,&#40;de&#41;<br />&nbsp; &nbsp; ld&nbsp; &#40;hl+&#41;,a<br />&nbsp; &nbsp; dec b<br />&nbsp; &nbsp; jr&nbsp; nz,-</div><br />Are you commenting on indexed addressing like the 6502's LDA table,X? The GB-Z80 equivalent is to either align the table to a 256-byte boundary and set the low byte to X,<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; &nbsp; .align 256 ; or whatever hell wla-dx uses<br />table:<br />&nbsp; &nbsp; ; ...<br /><br />&nbsp; &nbsp; ; l is set to index already<br />&nbsp; &nbsp; ld&nbsp; h,table&gt;&gt;8<br />&nbsp; &nbsp; ld&nbsp; a,&#40;hl&#41;</div><br />or add X to the address.<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp;; l is set to index already<br />&nbsp; &nbsp; ld&nbsp; h,0<br />&nbsp; &nbsp; ld&nbsp; bc,table<br />&nbsp; &nbsp; add hl,bc<br />&nbsp; &nbsp; ld&nbsp; a,&#40;hl&#41;</div>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tomaitheous</b> [ Mon Jan 19, 2009 4:32 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">The only way to acess an array is to use indirect adressing and you have only <span style="text-decoration: underline"><em><strong>*one*</strong></em></span> indirect pointer to do that woks. So if you want to do such a smple thing as copy an array to another in reverse order, while it's very easy on the 6502, it would end up a headache on the GB-Z80.<br /></div>
<br />
<br />
<br /> There's:
<br />
<br /> ld  a,(BC)
<br /> ldi (HL),a
<br /> inc BC
<br />
<br /> Edit: Blargg beat me to it.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Tue Jan 20, 2009 7:21 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Oh I didn't note the (BC) instruction. Well you are right guys it sounds like less an headache I originally tought. Still not as cool as the indexed, but workable. I would probably spend most of the time in my programm to load, store and add stuff to BC and HL.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tomaitheous</b> [ Tue Jan 20, 2009 3:31 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />LD A,(n16)    //n16= (16-bit addr)
<br />LD A,(r16)     //r16= (BC),(DE),(HL)
<br />LD (n16),A    //n16= (16-bit addr)
<br />LD (r16),A     //r16= (BC),(DE),(HL)
<br />
<br />Only LDI and LDD are restricted to HL.
<br />
<br /> The GBC cribsheet is your friend <img src="./images/smilies/icon_wink.gif" alt=";)" title="Wink" />

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>3</strong> of <strong>3</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>