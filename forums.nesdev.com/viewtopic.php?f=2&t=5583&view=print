<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Loading Code from CHR ROM</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Loading Code from CHR ROM</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=2&amp;t=5583">http://forums.nesdev.com/viewtopic.php?f=2&amp;t=5583</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MottZilla</b> [ Mon Sep 21, 2009 6:11 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Loading Code from CHR ROM</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I never thought anyone would be crazy enough to do this, but while messing around I found out that Bart Vs Space Mutants actually has code in the CHR-ROM which is copied into RAM. I noticed this when I was wanting to make a code to adjust how many hits you could take before dieing. I found out that the code is in CHR-ROM and therefore can't make a Game Genie code to do exactly what I wanted. I just wanted to share this oddity and ask if anyone else has heard of another game doing this or see some good reason why they might want to do it. I know some games do store overflowwed data in CHR-ROM like SMB1, but actual code seems funny to me. I know I've heard of self modifying code which could be useful I guess and in that case I guess it wouldn't matter if you stored it in CHR-ROM.
<br />
<br />Incase anyone here is interested in the codes I made here they are:
<br />
<br />Next Level on Death. 
<br />XVSTXIES + XVSTUIYE
<br />
<br />Infinite Lives
<br />...
<br />(wasn't working properly)
<br />
<br />If you use the Next Level on Death code, if you die on the final level, you lose. No idea if you can beat the final level and win with the code on or not. Infinite Lives seems to be the most useful code which strangely I couldn't find any such code for that before so I had to make it/find it.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Tue Sep 22, 2009 4:24 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I do that and I don't think it's that crazy if you're short on PRG-ROM and have some free CHR space. That is a consequence to the fact you have to make both ROMs a power of two in size.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Tue Sep 22, 2009 7:19 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I don't think that storing code in CHR-ROM is crazy, what is crazy is that the NES has only 2KB of RAM, so there isn't a lot of space for the code.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MottZilla</b> [ Tue Sep 22, 2009 11:06 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />But see that's why I think storing code in CHR-ROM is crazy, because you only have 2K of RAM to begin with and now you're going to start copying code into it? I mean I can understand I suppose in a big game you might not need alot of RAM at some parts and maybe it makes sense or something. I suppose the reason they did it had to be what you say with being short on PRG-ROM while having alot of extra CHR-ROM that they didn't want to go to waste.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Tue Sep 22, 2009 11:37 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />In a scrolling engine, there's usually a transfer buffer containing a block of data ready to be copied to a nametable. Such a buffer might be on the order of 128 bytes in an NTSC game. This area is in use only between when the main program decides to render graphics and when the vblank routine copies it into RAM. 
<br />
<br />If a program has a time during which no VRAM updates are expected, it can copy code from CHR ROM to the transfer buffer and run it. The developers of <em>Bart vs. the Space Mutants</em> (1991) were likely aware of Game Genie (released in Canada in 1990).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Tue Sep 22, 2009 12:17 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />If you're going to use self-modified code in RAM anyways, I see no reason not to store it's initial state in CHR-ROM instead of PRG-ROM. Self modified code can be much faster than if/else statement in some cases. I do that for sprite cycling, if I would be testing frame parity for each mazed sprite to know if I should move forward or backward in the buffer, I would loose a lot of CPU time each time, as opposed as just change a few instructions in RAM.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Tue Sep 22, 2009 12:48 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">If you're going to use self-modified code in RAM anyways, I see no reason not to store it's initial state in CHR-ROM instead of PRG-ROM.</div>
<br />Just make sure to load the code with video rendering and sample playback turned off.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MottZilla</b> [ Tue Sep 22, 2009 2:18 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">The developers of <em>Bart vs. the Space Mutants</em> (1991) were likely aware of Game Genie (released in Canada in 1990).</div>
<br />
<br />So you think they did it to be cruel bastards? I wouldn't put that past them. That could definitely be the case.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Zack S</b> [ Tue Sep 22, 2009 3:31 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Well if you're trying to get infinite lives on real hardware you could always do something like this:
<br />
<br /><a href="http://nesdev.com/bbs/viewtopic.php?t=1252" class="postlink">http://nesdev.com/bbs/viewtopic.php?t=1252</a>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MottZilla</b> [ Tue Sep 22, 2009 10:28 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />If I really want it I can just modify the CHR-ROM and use the PowerPAK. But the hope was to come up with a Game Genie code since it is the standard for NES cheat codes.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Mednafen</b> [ Wed Sep 23, 2009 3:32 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Have you tried GAXVKSVV + GAOTESVK ?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MottZilla</b> [ Wed Sep 23, 2009 10:50 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I have seen how you can make yourself have unlimited hits before but I wasn't interested in that other than for testing and exploring things. Being unkillable is far less interesting than just balancing the odds by giving you unlimited lives. I just don't understand how they figured you should have 3 lives and no continues for the entire game. It'd be different if the control scheme didn't suck. Atleast with unlimited lives you would be able to try again where you failed until you succeed.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Mednafen</b> [ Wed Sep 23, 2009 11:44 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />What problem did you have with your infinite lives code?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MottZilla</b> [ Wed Sep 23, 2009 12:26 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I got the effect of infinite lives but because I didn't pay attention the code actually had two effects atleast which gave you infinite lives but also made the "goal" count never go down.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Mednafen</b> [ Wed Sep 23, 2009 12:52 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />This is the best I could do:
<br />
<br />TAAVUS + TAPTES + ALAVVI
<br />
<br />It will make you lose a life in 4 hits instead of 2 hits.
<br />Leaving out ALAVVI will make you die in 5 hits, but it may have side effects, I couldn't follow all the game's insane code very well.
<br />
<br />This code group breaks the Bart-head hit counter.   I've not tested it thoroughly, either.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>