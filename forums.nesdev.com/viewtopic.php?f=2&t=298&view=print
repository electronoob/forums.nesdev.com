<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - How do I write to a cartridge</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">How do I write to a cartridge</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=2&amp;t=298">http://forums.nesdev.com/viewtopic.php?f=2&amp;t=298</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Nohimn</b> [ Tue Apr 26, 2005 7:30 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>How do I write to a cartridge</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Hello. I am completely new to this all, but have recently become very intested in the NES scene. I have been using google a lot to find what I know thus far, but so far I found a lot of information on dumping, but little on writing. What I have found, is very dense. Does anyone know one place I can go that can really just boil it all down a bit for me? Keep in mind, I am completely new to this all. Thanks in advanced.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>man with no account</b> [ Wed Jun 01, 2005 8:50 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />You'll need an EPROM burner.
<br />
<br />Also, check out this link:
<br />
<br /><!-- m --><a class="postlink" href="http://www.zyx.com/chrisc/solarwarscart.html">http://www.zyx.com/chrisc/solarwarscart.html</a><!-- m -->

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Memblers</b> [ Wed Jun 01, 2005 1:18 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Depends on what you want to rewrite it for.  Developing, or running older games?  If you want to reuse the older carts, you'll need one for each needed mapper type (and most of them need rewiring) and a chip programmer.
<br />
<br />I've developed an NES flash cart I call Squeedo.  It can be re-written while it's running in the NES, and it connects to a PC's serial port.  I'll be building a batch of them pretty soon.  It's good for development, but not as useful for running older stuff.  It can run Solar Wars though, heh.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>man with no account</b> [ Wed Jun 01, 2005 1:25 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Memblers wrote:</div><div class="quotecontent">Depends on what you want to rewrite it for.  Developing, or running older games?  If you want to reuse the older carts, you'll need one for each needed mapper type (and most of them need rewiring) and a chip programmer.<br /><br />I've developed an NES flash cart I call Squeedo.  It can be re-written while it's running in the NES, and it connects to a PC's serial port.  I'll be building a batch of them pretty soon.  It's good for development, but not as useful for running older stuff.  It can run Solar Wars though, heh.</div>
<br />
<br />Is this flash cart project available online or is it private domain?  <img src="./images/smilies/icon_confused.gif" alt=":?" title="Confused" /> Also, why it isn't "useful" for older games? Can you go a little further of maybe point to another thread?
<br />
<br />Thanks in advance!  <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Memblers</b> [ Wed Jun 01, 2005 6:52 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I haven't made a website for it yet, I still need to do that.  And write some docs.
<br />
<br />The main reason it won't work with older games is because the mirroring.  The cart disables the NES's 2kB internal VRAM, and replaces it with a full 4kB VRAM (usually called 4-screen mode).  This screws up the scrolling if a game relied on the RAM being mirrored.
<br />
<br />Also, the bankswitching is pretty coarse and simple.  PRG-ROM uses 32kB banks, and CHR and WRAM are both 8kB pages.
<br />
<br />More info is here:
<br /><a href="http://nesdev.com/bbs/viewtopic.php?t=15" class="postlink">http://nesdev.com/bbs/viewtopic.php?t=15</a>
<br />
<br />I'll post new pics in that thread tonight.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Jagasian</b> [ Wed Jun 01, 2005 7:54 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Memblers,
<br />
<br />Would it be possible to write a small ROM for squeedo that could be used to dump a game cart's SRAM and ROMs by swapping between Squeedo and the game cart to be dumped over and over again?  Each time the game cart is inserted, the running program copies a little more of the ROM into the NES's RAM, and once the RAM is filled, Squeedo is inserted to copy that data to Squeedo.  Repeat until fully dumped.  Sure it is a total hack, but it would be an interesting trick.  Of course, a different version of the small NES program would have to be written for each mapper... like the CopyNES plugins.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Memblers</b> [ Thu Jun 02, 2005 5:05 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Jagasian wrote:</div><div class="quotecontent">Would it be possible to write a small ROM for squeedo that could be used to dump a game cart's SRAM and ROMs by swapping between Squeedo and the game cart to be dumped over and over again?<br /></div>
<br />
<br />Yeah, it may be possible.  Sounds like a lot of work to dump like that, though.  NES only has 2kB of RAM, so even dumping the smallest (24kB) NES cart this way would require swapping carts over 12 times.  A much better solution would be if I make more NES controller port versions of my serial adapters (I suppose I could, if people actually want to use them - I offered them before), that way you only need to swap carts once, since the COM port would always be available.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>man with no account</b> [ Thu Jun 02, 2005 5:17 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Memblers wrote:</div><div class="quotecontent">I haven't made a website for it yet, I still need to do that.  And write some docs.<br /><br />The main reason it won't work with older games is because the mirroring.  The cart disables the NES's 2kB internal VRAM, and replaces it with a full 4kB VRAM (usually called 4-screen mode).  This screws up the scrolling if a game relied on the RAM being mirrored.<br /><br />Also, the bankswitching is pretty coarse and simple.  PRG-ROM uses 32kB banks, and CHR and WRAM are both 8kB pages.<br /><br />More info is here:<br /><a href="http://nesdev.com/bbs/viewtopic.php?t=15" class="postlink">http://nesdev.com/bbs/viewtopic.php?t=15</a><br /><br />I'll post new pics in that thread tonight.</div>
<br />
<br />Thank you very much for your care. This is an awesome community!   <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /> 
<br />
<br />I'll check this link ASAP

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Jagasian</b> [ Thu Jun 02, 2005 6:49 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Memblers wrote:</div><div class="quotecontent"><div class="quotetitle">Jagasian wrote:</div><div class="quotecontent">Would it be possible to write a small ROM for squeedo that could be used to dump a game cart's SRAM and ROMs by swapping between Squeedo and the game cart to be dumped over and over again?<br /></div><br /><br />Yeah, it may be possible.  Sounds like a lot of work to dump like that, though.  NES only has 2kB of RAM, so even dumping the smallest (24kB) NES cart this way would require swapping carts over 12 times.  A much better solution would be if I make more NES controller port versions of my serial adapters (I suppose I could, if people actually want to use them - I offered them before), that way you only need to swap carts once, since the COM port would always be available.</div>
<br />
<br />I must have missed the offer.  Got a link, or can you repost the offer?  I think that it would be a worthwhile official extension to Squeedo: package it with a controller port cable and NES program plugins for dumping/writing cart ROMs, SRAM, and GAR SRAM.  Though that would put your Squeedo in direct competition with the CopyNES <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />
<br />
<br />Did you ever try making a NES to NES controller port cable, so that two NES's could talk?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Memblers</b> [ Thu Jun 02, 2005 8:10 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />It was on the old forum, and since I don't have a website for it either I guess not many have seen it, heheh.
<br /><a href="http://nesdev.com/cgi-bin/wwwthreads/showpost.pl?Board=hardware&amp;Number=617&amp;page=&amp;view=&amp;mode=threaded&amp;sb=#Post617" class="postlink">http://nesdev.com/cgi-bin/wwwthreads/showpost.pl?Board=hardware&amp;Number=617&amp;page=&amp;view=&amp;mode=threaded&amp;sb=#Post617</a>
<br />I'd sell one I suppose for not more than $15.  But also it needs a dev cart to function anyways.
<br />
<br />It don't think it can compete with CopyNES though.  I certainly wouldn't advise hot-swapping game action replay prototypes and stuff like that, heheh.  It's seems pretty likely that SRAM data on games too could be corrupted (the "hold reset when shutting down" type of thing).  And getting bad dumps would be annoying, but maybe not as bad on a top-loader.
<br />
<br /><div class="quotetitle">Jagasian wrote:</div><div class="quotecontent">Did you ever try making a NES to NES controller port cable, so that two NES's could talk?</div>
<br />
<br />That would work, I believe Codemasters did something similar to that when they were testing Micro Machines.  Even simply using 2 plugs cross-wired would work, but poses problems for the software (since they'd need to be sycned or always polling the port).  I haven't tried it myself, but now that I got a 2nd NES I should give it a shot sometime.
<br />
<br />What'd be even better is 2 NES's with 2 Squeedo carts.  Since it uses the PIC's hardware UART, it takes up none of the NES's cpu time.  And it should be able to work over the internet.  <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Jagasian</b> [ Thu Jun 02, 2005 8:43 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Memblers wrote:</div><div class="quotecontent">What'd be even better is 2 NES's with 2 Squeedo carts.  Since it uses the PIC's hardware UART, it takes up none of the NES's cpu time.  And it should be able to work over the internet.  <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /></div>
<br />
<br />I was just thinking about a local setup, with two NES systems networked.  Imagine a new Contra where one player didn't kill his buddy when he jumped up to the next platform too quickly (like the 3rd level in the original Contra).  Of course, if two NES's can network locally via a Squeedo to Squeedo link, and the game wasn't extremely latency sensitive, then I guess you are right in that you could proxy the data over the internet.  The key thing will be getting all home-brewers to use Squeedo as their development cart.
<br />
<br />I guess I will wait until I can buy the controller-port serial cable along with a Squeedo.  Have you finilized the Squeedo design yet?  I saw that you changed to a much smaller PCB.  Also, I thought that some PICs had native USB support (those Retropad USB NES controller adapters use a PIC as the main and only IC).  Since you are using one of the more capable PICs, why not just go with a USB interface on the Squeedo?
<br />
<br />Also, how are all of those Atari hardware homebrewers getting plastic cart cases made so inexpensively, such as the Krokcart?  Will Squeedo have a plastic case with a non-hacky hole for its serial interface?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Memblers</b> [ Thu Jun 02, 2005 10:17 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I went with RS232 instead of USB because it's a lot simpler, no special drivers or software is needed.  Just a standard terminal program with XMODEM, at the very least.  It'd be possible to make a USB adapter for the rev1 Squeedo with the current PIC, but the USB transceiver chip itself costs $5 or so, and it needs more components still.
<br />
<br />Any 5V circuit can hook up to the rev1 Squeedo, it supplies 4 I/Os plus VCC/GND.  The rev2 (smaller) Squeedo I/Os are RS232-level off the board instead of 5V, that's the main difference.  I also need to do testing with the address latch on the rev2 design.  But the rev1 design is stable and finalized.
<br />
<br />I posted new pics in the hardware forum.
<br />
<br />For the Atari carts, most of them are just using recycled cases.  The newer cases aren't too cheap.  Someone either payed big bucks, or did a lot of work creating a mold for them.  That's the big cost with making cases.
<br />
<br />I've designed my cart in way that I can produce as many of them as needed, but there are no plans for custom cases.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Thu Jun 02, 2005 10:49 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Given the Rare-style bankswitching, I'm not so sure about Squeedo's compatibility with DMC sounds in a game larger than 32 KB.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Memblers</b> [ Thu Jun 02, 2005 2:42 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">Given the Rare-style bankswitching, I'm not so sure about Squeedo's compatibility with DMC sounds in a game larger than 32 KB.</div>
<br />
<br />The $C000-$FFFF region can be mirrored by the loader program (in the cart BIOS).  I'll have it do that automatically depending on the iNES header, I suppose for mapper #2.  That way you'd be able to bankswitch up to 224kB PRG with a fixed bank for DPCM samples.
<br />
<br />Since there's 32kB of RAM, one thing I plan on doing in my game is storing only compressed data in most banks.  So that would mean no sample playing during loading.  But I could always use $4011 instead, heheh.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Guest</b> [ Wed Jun 08, 2005 10:34 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />memblers Hello!
<br />I havea question to you
<br />
<br />would you be able to sell me a cartridge that plays rom from pc to the real nintendo??
<br />
<br />is it complicated to do &amp; to put a rom inside the cart?
<br />i wanna play megaman &amp; other games.
<br />
<br />how much does this Squeedo Sell for??$$$
<br />tell me 
<br />
<br />thanks my friend!!!

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>