<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Has anyone released a multidirectional scrolling demo?</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Has anyone released a multidirectional scrolling demo?</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=2&amp;t=9468">http://forums.nesdev.com/viewtopic.php?f=2&amp;t=9468</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>3</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Arkonviox</b> [ Thu Nov 08, 2012 10:19 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Has anyone released a multidirectional scrolling demo?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Has anyone released a multidrectional scrolling demo with source code? I've seen the one on the main nesdev website but it doesn't seem to take into account metatiles. I've seen there are a lot of members here who have made a multidirectional scroller but have not released the source code. Any suggestions would be greatly appreciated, thank you.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dwedit</b> [ Thu Nov 08, 2012 11:49 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Has anyone released a multidirectional scrolling demo?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Here's my abandoned game.

		
			<br clear="all" /><br />

			<table class="tablebg" width="100%" cellspacing="1">
			<tr>
				<td><b class="genmed">Attachments: </b></td>
			</tr>
			
				<tr>
					<td>
			<span class="genmed">
				<img src="./styles/subsilver2/imageset/icon_topic_attach.gif" width="14" height="18" alt="" title="" /> 
				<a href="./download/file.php?id=154">source_11_22_2010.7z</a> [52.51 KiB]
			</span><br />
			<span class="gensmall">Downloaded 135 times</span>
		

		<br />
	</td>
				</tr>
			
			</table>
		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>cpow</b> [ Fri Nov 09, 2012 6:25 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Has anyone released a multidirectional scrolling demo?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Dwedit wrote:</div><div class="quotecontent">Here's my abandoned game.</div><br />Abandoned?  Looks like it could be a great game!  Do you mind if I try to make a NESICIDE template out of it?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>slobu</b> [ Fri Nov 09, 2012 8:19 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Has anyone released a multidirectional scrolling demo?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">cpow wrote:</div><div class="quotecontent"><div class="quotetitle">Dwedit wrote:</div><div class="quotecontent">Here's my abandoned game.</div><br />Abandoned?  Looks like it could be a great game!  Do you mind if I try to make a NESICIDE template out of it?</div><br /><br />I'd just be happy with a working Hello World template.  <!-- l --><a class="postlink-local" href="http://forums.nesdev.com/viewtopic.php?f=2&amp;t=9306#p99490">viewtopic.php?f=2&amp;t=9306#p99490</a><!-- l --><br />But, everyone dreams of making a 4 way scrolling game <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />  Is asm source actually easy to turn back into C equivalents?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Hamtaro126</b> [ Fri Nov 09, 2012 8:22 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Has anyone released a multidirectional scrolling demo?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">slobu wrote:</div><div class="quotecontent">I'd just be happy with a basic Hello World template.  But, everyone dreams of making a 4 way scrolling game <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />  Is asm source actually easy to turn back into C equivalents?</div><br /><br />You have to redo everything by hand, C and ASM are totally different languages, C compilation to ASM is possible, but not the other way around!

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Fri Nov 09, 2012 8:32 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Has anyone released a multidirectional scrolling demo?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Well I made several demos but none of them seems to be fully working !<br /><br />I had one of them which used 1 screen mirroring, used raw nametable data, and that had vertical update hidden by a dummy status bar, and it also used the Wizard &amp; Warriors way of having a sprite zero hit for the status bar which I think is pretty cool. Unfortunately I lost this one at a computer crash and I had no backup of it.<br /><br />I had made a second one which is entirely based on 2x2 metatiles (or 16x16 pixels metatiles if you prefer). It works pretty well and I made it's update logic quite robust, but it sometimes glitches if you combine horizontal and vertical scrolling at the same time. I'm not even sure why, but both works perfectly when used separately. It looks quite ugly as I did a random generated maps, with many grass tiles and other random tiles here and here. It's quite funny to see actually.<br /><br />In an attempt to recreate something like the 1st demo, I made a 3rd one which I was making single-screen mirroring and this time without a status bar. My goal was to show how to cleverly minimize the attributes clashes at the screen's edge. However I made it only horizontal scrolling and never implemented the vertical part. However it's logic is rock-solid, and could definitely be used in a game.<br /><br />Tell me if you're interested in the 2nd or the 3rd one.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>cpow</b> [ Fri Nov 09, 2012 9:23 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Has anyone released a multidirectional scrolling demo?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">slobu wrote:</div><div class="quotecontent"><div class="quotetitle">cpow wrote:</div><div class="quotecontent"><div class="quotetitle">Dwedit wrote:</div><div class="quotecontent">Here's my abandoned game.</div><br />Abandoned?  Looks like it could be a great game!  Do you mind if I try to make a NESICIDE template out of it?</div><br /><br />I'd just be happy with a working Hello World template.  <!-- l --><a class="postlink-local" href="http://forums.nesdev.com/viewtopic.php?f=2&amp;t=9306#p99490">viewtopic.php?f=2&amp;t=9306#p99490</a><!-- l --><br />But, everyone dreams of making a 4 way scrolling game <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />  Is asm source actually easy to turn back into C equivalents?</div><br />slobu: did you miss <a href="http://forums.nesdev.com/viewtopic.php?f=3&amp;t=9275&amp;start=0#p99643" class="postlink">this post</a>?  Hello World template has been working [for me].

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>slobu</b> [ Fri Nov 09, 2012 11:23 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Has anyone released a multidirectional scrolling demo?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Thanks for the response cpow.  Um, The NROM template seems to create an assembly project and not a C project.  Also, the Hello World project in C still doesn't work - but compiles just fine from the command line.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Shiru</b> [ Fri Nov 09, 2012 12:46 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Has anyone released a multidirectional scrolling demo?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Hamtaro126 wrote:</div><div class="quotecontent">C compilation to ASM is possible, but not the other way around!</div><br />Why is that? You can easily make an assembler tool that would compile ASM to C, no problem at all. But it would be really inefficient, as C would be then compiled back to ASM, with a major overhead.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>cpow</b> [ Fri Nov 09, 2012 1:17 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Has anyone released a multidirectional scrolling demo?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">slobu wrote:</div><div class="quotecontent">Thanks for the response cpow.  Um, The NROM template seems to create an assembly project and not a C project.  Also, the Hello World project in C still doesn't work - but compiles just fine from the command line.</div><br />You're correct.  My NROM Template is an assembly &quot;Hello World&quot;.  What C &quot;Hello World&quot; are you referring to?  I guess I could add one pretty easily.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>slobu</b> [ Fri Nov 09, 2012 3:00 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Has anyone released a multidirectional scrolling demo?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />There's a Hello World example here:<br /><!-- m --><a class="postlink" href="http://rpgmaker.net/tutorials/227/">http://rpgmaker.net/tutorials/227/</a><!-- m -->

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>strat</b> [ Sat Nov 10, 2012 2:13 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Has anyone released a multidirectional scrolling demo?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Hamtaro126 wrote:</div><div class="quotecontent"><div class="quotetitle">slobu wrote:</div><div class="quotecontent">I'd just be happy with a basic Hello World template.  But, everyone dreams of making a 4 way scrolling game <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />  Is asm source actually easy to turn back into C equivalents?</div><br /><br />You have to redo everything by hand, C and ASM are totally different languages, C compilation to ASM is possible, but not the other way around!</div><br /><br />Decompilers exist and there is a decompiler for 6502.<br /><!-- m --><a class="postlink" href="http://6502.emulinks.de/blog/">http://6502.emulinks.de/blog/</a><!-- m --><br /><br />You need Python 3.0 to try it out.  Not sure how sound it is.  I tried it with the reset vector for SMB:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">ldy #ColdBootOffset&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;load default cold boot pointer<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ldx #$05&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;;this is where we check for a warm boot<br />WBootCheck:&nbsp; lda TopScoreDisplay,x&nbsp; &nbsp; &nbsp; &nbsp; ;check each score digit in the top score<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;cmp #10&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;to see if we have a valid digit<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;bcs ColdBoot&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;;if not, give up and proceed with cold boot<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;dex&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;bpl WBootCheck<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;lda WarmBootValidation&nbsp; &nbsp; &nbsp; &nbsp;;second checkpoint, check to see if <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;cmp #$a5&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;;another location has a specific value<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;bne ColdBoot&nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ldy #WarmBootOffset&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;if passed both, load warm boot pointer<br />ColdBoot:&nbsp; &nbsp; jsr InitializeMemory&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;;clear memory using pointer in Y<br /></div><br /><br />It outputs this mess which omits the first y load and includes code below the ColdBoot label:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">x = 5;<br />&nbsp; &nbsp; do {<br />&nbsp; &nbsp; &nbsp; &nbsp; a = arr_07d7&#91;x&#93;;<br />&nbsp; &nbsp; &nbsp; &nbsp; if (a &gt;= 10) {<br />label_003b:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; fun_90cc();<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; outb(0x4011, a);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mem_0770 = a;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mem_07ff = 165;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mem_07a7 = 165;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; outb(0x4015, 0xf);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; outb(0x2001, 0x6);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; fun_8220();<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; fun_8e19();<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mem_0774 = mem_0774 + 1;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; fun_8eed();<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; __illegal(0xf); /* XXX: unimplemented illegal opcode */<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; &nbsp; x = x - 1;<br />&nbsp; &nbsp; } while (x &lt; 128);<br />&nbsp; &nbsp; a = mem_07ff;<br />&nbsp; &nbsp; goto label_003b;<br /></div><br /><br />Here's a decompilation of that loop I made by hand:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">y = #ColdBootOffset<br />x = 5<br /><br />do {<br />&nbsp; &nbsp;a = TopScoreDisplay&#91;x&#93;<br />&nbsp; &nbsp;x = x - 1<br />&nbsp; &nbsp;if (a &lt; 10) {&nbsp; &nbsp;&nbsp; &nbsp;<br />&nbsp; &nbsp;&nbsp; &nbsp;if (x &gt;= 128) {<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if (0xA5 == WarmBootValidation) {<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;y = #WarmBootOffset<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;}<br />&nbsp; &nbsp;&nbsp; &nbsp;}<br />&nbsp; &nbsp;}<br />} while (x &lt; 128)<br /><br />InitializeMemory()<br /></div><br /><br />This command line got the above output in case someone wants to look at it.  At a glance, it only decompiles snippets of code and stops when it hits an illegal instruction.  Not sure if it can decompile a whole binary, but the -help is pretty vague on that score.<br /><br />python3 decomp.py -o 0 -e 10 smb.nes &gt; smb.c<br /><br />Edit:  His own example of disassembling the smb reset vector actually works; I had some difficulty figuring out the command line outside of the binaries included with the decompiler, so whatever.<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">y = 254;<br />&nbsp; &nbsp; x = 5;<br />&nbsp; &nbsp; do {<br />&nbsp; &nbsp; &nbsp; &nbsp; if (arr_07d7&#91;x&#93; &gt;= 10) {<br />label_802b:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; a = fun_90cc(y);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; outb(0x4011, a);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mem_0770 = a;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mem_07ff = 165;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mem_07a7 = 165;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; outb(0x4015, 0xf);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; outb(0x2001, 0x6);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; fun_8220();<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; fun_8e19();<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mem_0774 = mem_0774 + 1;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; fun_8eed(mem_0778 | 128);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for (;;);<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; &nbsp; x = x - 1;<br />&nbsp; &nbsp; } while (x &lt; 128);<br />&nbsp; &nbsp; if (mem_07ff == 165) {<br />&nbsp; &nbsp; &nbsp; &nbsp; y = 214;<br />&nbsp; &nbsp; }<br />&nbsp; &nbsp; goto label_802b;<br /></div>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Movax12</b> [ Sat Nov 10, 2012 3:50 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Has anyone released a multidirectional scrolling demo?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I see slobu is looking for some kind of highlevel language solution to coding for NES.<br /><br />How about this syntax?<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">.proc reset<br /><br />&nbsp; &nbsp;sei&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;; pretty standard 6502 type init here<br />&nbsp; &nbsp;cld<br />&nbsp; &nbsp;lda #%00010000&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ; init PPU control register 1 <br />&nbsp; &nbsp;sta PPU_CTRL<br />&nbsp; &nbsp;ldx #$ff&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; reset stack pointer<br />&nbsp; &nbsp;txs<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;repeat<br />&nbsp; &nbsp;until lda PPU_STATUS == bit7 <br />&nbsp; &nbsp;<br />&nbsp; &nbsp;repeat<br />&nbsp; &nbsp;until lda PPU_STATUS == bit7 <br /><br />&nbsp; &nbsp;ldy #ColdBootOffset&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;; load default cold boot pointer<br />&nbsp; &nbsp;ldx #$05&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; this is where we check for a warm boot<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;repeat<br />&nbsp; &nbsp;&nbsp; lda TopScoreDisplay,x&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp; ; check each score digit in the top score<br />&nbsp; &nbsp;&nbsp; if&nbsp; &#91; a &gt;= #10 &#93; goto coldboot&nbsp; &nbsp; ; to see if we have a valid digit&nbsp; &nbsp;<br />&nbsp; &nbsp;until dex == negative&nbsp; &nbsp;<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;if &#91; WarmBootValidation = #$a5 &#93;&nbsp; &nbsp;&nbsp; &nbsp;; second checkpoint, check to see if&nbsp; another location has a specific value<br />&nbsp; &nbsp;&nbsp; &nbsp;ldy #WarmBootOffset&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;;&nbsp; if passed both, load warm boot pointer<br />&nbsp; &nbsp;endif<br /><br />&nbsp; &nbsp;coldboot:<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;jsr InitializeMemory&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; ; clear memory using pointer in Y<br />; etc ...<br /></div>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Arkonviox</b> [ Sun Nov 11, 2012 7:02 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Has anyone released a multidirectional scrolling demo?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I've managed to get multidirectional scrolling working without flaws (at least any that I know of). The only problem is it doesn't update and attribute table and only displays 4 colors. It was a nightmare just getting it to work correctly. It might be hard to understand since I don't comment. When it's perfected I'll try to make a turtorial on how to use it. However, matrix is used for setting up the world map, table is used for extracting metatiles and cell extracts tiles from the metatiles. I had problems getting it to work on both directions at once but got past it. I'm just taking a break, after 3 months of attempts and finally getting the scrolling working I'm burned out, but once the attribute table is able to update it will be easy sailing from there. Right now I don't want to look at it, the Y coordinate translations killed me, but in the end it was an easy solution, but not easy to make work.<br /><br />The metatiles are 4x4 tiles in size or 32pixels by 32pixels.<br /><br />Here is a youtube vid showing it in action, I was curious if there were any other samples since I could use some tips on optimization. Also I don't see ppl bringing up asking about it too often, I figured a new topic would break that ice. <br /><br /><!-- m --><a class="postlink" href="https://www.youtube.com/watch?v=A7gbYDjL1lk&amp;list=UUitVFaRCUD0yHXFFUgAZEHA&amp;index=1&amp;feature=plcp">https://www.youtube.com/watch?v=A7gbYDj ... ature=plcp</a><!-- m -->

		
			<br clear="all" /><br />

			<table class="tablebg" width="100%" cellspacing="1">
			<tr>
				<td><b class="genmed">Attachments: </b></td>
			</tr>
			
				<tr>
					<td>
			<span class="genmed">
				<img src="./styles/subsilver2/imageset/icon_topic_attach.gif" width="14" height="18" alt="" title="" /> 
				<a href="./download/file.php?id=164">matrix.nes-1104201201a.zip</a> [16.68 KiB]
			</span><br />
			<span class="gensmall">Downloaded 61 times</span>
		

		<br />
	</td>
				</tr>
			
			</table>
		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>slobu</b> [ Mon Nov 12, 2012 6:49 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Has anyone released a multidirectional scrolling demo?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />@Movax12:  Thanks for that example!  Code like that brings me closer to understanding assembly.  Kind of like watching a foreign movie and reading the translated dialogue at the same time.<br /><br />My intention was to see if cpow would be inclined to make a NROM Hello World template for a C project.   Beginners are used to robust GUI development environments like NESICIDE.  I'd hope in the future one would start with &quot;Hello World&quot; in C and work through the examples up to a multidirection scrolling example.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>3</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>