<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - To Byuu, About BSNES (BankSwitching related)</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">To Byuu, About BSNES (BankSwitching related)</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=12&amp;t=9130">http://forums.nesdev.com/viewtopic.php?f=12&amp;t=9130</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>2</strong> of <strong>2</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Shiru</b> [ Mon Jul 30, 2012 7:11 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">MottZilla wrote:</div><div class="quotecontent">Also, making a SNES multi-cart would probably be pretty easy. It's not like there is alot to it.</div>
<br />Would be interesting to hear how exactly it could be done for stand alone games that weren't initially developed to be in a multicart, use Lo/Hi ROM, and potentially can't be modified by various reasons.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Hamtaro126</b> [ Mon Jul 30, 2012 8:38 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />When porting, It's essential to use banks. But for some NES games, It is needed period.
<br />
<br />Like I said, The reason Hebereke MMC5 is dropped is because of mapper specific stuff, leading into corruption. Things can't be done without lots of help. a bad mess is in the rom even if I do it from scratch, when I switch banks, It freezes!

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MottZilla</b> [ Tue Jul 31, 2012 1:41 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />If you mix LoROM and HiROM mapping games on the same cart that complicates the design since now you need to switch alot of signals I believe, or atleast some. It also gets more complex if you need SRAM. But for regular ROM only games, particularly if they are the same size, it's not really any different from say CNROM or AxROM NES mappers. You just make a mapper for the SNES cart. It can and has been done by pirates.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Shiru</b> [ Tue Jul 31, 2012 2:08 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I know that it was done by pirates, that's the reason why I said that having a standart would be nice - what the pirates did is not really reusable or helpful, as it is not emulated, and not even completely reversed. Their solution, however, allowed to mix games of different size and Lo/Hi ROM mappings.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>mic_</b> [ Wed Aug 01, 2012 12:59 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">When porting, It's essential to use banks. But for some NES games, It is needed period. </div>
<br />
<br />I don't see how this is the case.
<br />Bankswitching is a means of addressing more data than you can fit in the CPU's address space at any given time, which on the NES is a fairly small amount. On the SNES you can address any byte in the game at any given time, and if you don't want to use absolute long addressing for performance/size concerns you can get away with using absolute addressing a lot of the time if you just organize your code and data properly.
<br />
<br />The concept of porting (at least between systems from before the cross-platform API era) is that you should break dependencies to the original target system's hardware and find ways of implementing the same behavior using the new target system's hardware. If that means that you have to completely rewrite some parts of the code and/or reorganize the code and data, then that's what you need to do. Saying that you require NES-style bankswitching on the SNES to be able to port an NES game is a bit like saying that you also require an NES PPU because the attribute table data can't be used by the SNES PPUs.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Wed Aug 01, 2012 7:10 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">mic_ wrote:</div><div class="quotecontent">Bankswitching is a means of addressing more data than you can fit in the CPU's address space at any given time, which on the NES is a fairly small amount. On the SNES you can address any byte in the game at any given time</div><br />Most of the time this is true. Exceptions I can think of include the following:<br /><ul><li>Vector pulls (always from $00/FFE0 to $00/FFFF) </li><li>Direct page in ROM </li><li>PLA from stack in ROM </li></ul>I don't know whether or not direct page in ROM or PLA from stack in ROM are used in actual games, but games certainly use vector pulls because they use interrupts. My NES multicart engine runs multiple NROM games by switching the entire $8000-$FFFF bank, which also switches the IRQ and NMI vectors. How should the vectors be switched on a Super NES if I don't know in advance what RAM the games aren't going to be using?<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">If that means that you have to completely rewrite some parts of the code and/or reorganize the code and data, then that's what you need to do.</div>
<br />I have had someone recently ask me through private messages on this forum how to make a multicart of entries to a Super NES game competition. Reorganizing the code and data isn't possible if the entries aren't distributed as source code, or if the maintainer is too occupied with other projects to do such reorganization.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>mic_</b> [ Wed Aug 01, 2012 7:39 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Sure, but I was referring to the process of porting an NES game to the SNES, which was mentioned in this thread. A multicart with SNES games is a different matter - if all else failed it could probably be done with some custom hardware (design your own mapper chip).
<br />
<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">or if the maintainer is too occupied with other projects to do such reorganization</div>
<br />Then the maintainer should focus on getting those other projects finished and come back to this one when he/she can dedicate the necessary time to it. <img src="./images/smilies/icon_razz.gif" alt=":P" title="Razz" />

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>2</strong> of <strong>2</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>