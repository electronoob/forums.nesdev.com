<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Convert IPS patch for (J) release to (E) possible?</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Convert IPS patch for (J) release to (E) possible?</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=10&amp;t=8407">http://forums.nesdev.com/viewtopic.php?f=10&amp;t=8407</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>jpx72</b> [ Tue Dec 13, 2011 1:56 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Convert IPS patch for (J) release to (E) possible?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Hi!
<br />Is there a possibility to somehow convert these Rockman (J) 1 and 2 patches :
<br /><!-- m --><a class="postlink" href="http://www.romhacking.net/hacks/862/">http://www.romhacking.net/hacks/862/</a><!-- m -->
<br /><!-- m --><a class="postlink" href="http://www.romhacking.net/hacks/863/">http://www.romhacking.net/hacks/863/</a><!-- m -->
<br />to work with the European (PAL) versions of Megaman 1 and 2?
<br />Thanks for the answer!

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Jeroen</b> [ Tue Dec 13, 2011 3:02 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Iirc European megaman 1 and 2 were not pal optimized (aka identical to the american roms).
<br />However if you want to do this badly what you need to do is find out what the ips patches change. Then find out where that lives in the European roms and change it there instead.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>jpx72</b> [ Tue Dec 13, 2011 3:12 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Yes I'm aware of the wrong optimisation in those games, but I am used to the speed from my childhood since I was born in Europe, so I like that.
<br />
<br />To the other part of your answer - may I ask somebody for help with that? Finding the mechanics of those patches and translate them to European Roms?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Tue Dec 13, 2011 4:48 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I think Mega Man 1 and 2 were among the first (E) games to have PAL fixed music - even if this glitched up their sound effects.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>jpx72</b> [ Tue Dec 20, 2011 12:43 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Bumping on this one again! <img src="./images/smilies/icon_rolleyes.gif" alt=":roll:" title="Rolling Eyes" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Tue Dec 20, 2011 2:10 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I forgot to mention it wasn't possible to easily port a patch from one version of the ROM to another.
<br />Because even if most of the data is the same in ROMs, it is located elsewhere (I haven't checked but it's very likely the case). So you'd have to realocate hundreds of pointers.
<br />Not that this is not possible, but it's no trivial work.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Tue Dec 20, 2011 5:46 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />You'll probably have to compare the original ROM to the hacked MMC3 one to see what has changed. Hopefully not much (the patches are fairly small), just code related to bankswitching, mirroring and such. Then you'd look for the same code in the (E) ROM and hack it the same way.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Kasumi</b> [ Tue Dec 20, 2011 5:51 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />There's a really slick program called <a href="http://www.scootersoftware.com/" class="postlink">Beyond Compare</a> that does a really excellent job of finding similarities and differences in files. I use it when I dabble in rom hacking.
<br />
<br />You can check the original (J) rom to the PAL rom, to see how much you'll have to change in the patch. If the data that is to be patched is the same code but in a different place, beyond compare will find it. And then it is (possibly) easy. (But probably not)
<br />
<br />I may try to do this after I get some sleep (like... right now). But if it looks like tons of work, you're on your own. You're on your own for testing either way.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>jpx72</b> [ Tue Dec 20, 2011 5:59 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Thanks guys for all your answers! 
<br />I knew that it won't be an easy task, and for somebody like me it's not even possible, I would need to learn at least something about programming. And I don't even know where to start. I read somewhere that a file can be "translated" to code and then edited, but that's all from me.... I can compare two files in hexeditor but I can only notice the differences, I can't do anything about them. I compared (J) and (E) roms but there seem to be so much differences....

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Kasumi</b> [ Tue Dec 20, 2011 6:38 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />So... I didn't go to bed yet.  <img src="./images/smilies/icon_confused.gif" alt=":?" title="Confused" /> 
<br />
<br />The number of changes between the (J) and (E) rom doesn't really matter as much as if the areas that the patch actually touches are changed.
<br />
<br />I did a quick check on Rockman 2/Megaman 2.
<br />
<br />And... it seems like all the parts of the rom the (J) patch touches are identical (even in the exact same place) in the (E) rom. Except for the changes near the very end of rom.
<br />
<br />But... even assuming those were the same, that doesn't necessarily mean that the patch doesn't jmp to a location in the (J) rom that has moved in the (E) rom. At that point, I have to find where it wants to jmp, then search the byte string of where it wants to jmp in the (E) rom and update the address.
<br />
<br />I'll see if I can get a little further, but I really am sleeping now.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>TKO</b> [ Tue Dec 20, 2011 11:09 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I want to know as well kinda want to play Roll-Chan.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>jpx72</b> [ Wed Dec 21, 2011 10:42 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Kasumi wrote:</div><div class="quotecontent">I'll see if I can get a little further</div>
<br />Thank you, it would be really great if you can find yourself a bit time for that!

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Kasumi</b> [ Thu Dec 22, 2011 2:33 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Here's a Megaman 2 (E) MMC3 IPS patch: <!-- m --><a class="postlink" href="http://www.mediafire.com/?z1bm3esxc6eatfb">http://www.mediafire.com/?z1bm3esxc6eatfb</a><!-- m -->
<br />
<br />It's barely tested, and if you encounter any problems... tough luck. I wouldn't even begin to know how to fix them.
<br />
<br />Just for the record, I was wrong. I wasn't looking very closely at Beyond Compare, so it turns out a lot of things were in VERY slightly different places. That didn't make it anymore difficult, though. Just saying in case anyone else wants to do the same thing for no reason. <img src="./images/smilies/icon_lol.gif" alt=":lol:" title="Laughing" /> I wouldn't want my previous post to mislead them. 
<br />
<br />I will not be doing Megaman 1 anytime soon, if ever. This took a couple hours. It's fun for the challenge the first time, but doing the exact same thing again is just work. Especially since... the whole thing seems useless to me. They can already be played. Maybe when I learn more about bankswitching, I can do Megaman since I'll know what I'm looking at. I've never even worked with bankswitching in homebrew, let alone rom hacking. Since what was in the patch worked, I used it. But bankswitching might as well be magic to me.
<br />
<br />I should have asked you before: What <em>was</em> the point of doing this? Planning an (E) multicart or something?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>jpx72</b> [ Thu Dec 22, 2011 3:47 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Thank you so much for all the work! I'm testing it now and it seems okay, but I want to test it more. 
<br />My primary goal is indeed planting Megaman 1 and 2 in the Rockman6-in-1 multicart (check this topic: <!-- m --><a class="postlink" href="http://nesdev.com/bbs/viewtopic.php?t=8426">http://nesdev.com/bbs/viewtopic.php?t=8426</a><!-- m --> ). I have succesfully exchanged Rockman 3,4,5 with Megaman (E) 3,4,5 and inserted the Megaman 6 (U) instead of Rockman 6 too (since there is no Megaman 6 for PAL). I changed the ROM header to PAL and now I'm missing only Megaman 1 and 2 (E) to have complete Megaman6in-1(E). Well now I'm missing only Megaman 1!!! Fantastic! 
<br />After hat I'm planning to create such a multicart, that is, when I succesfully find out the hardware part that is being examined in the topic I posted.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Thu Dec 22, 2011 5:49 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Isn't Megaman 3 (E) the one with lots of bad screen splitting? Like, with parts that jump like crazy?

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>