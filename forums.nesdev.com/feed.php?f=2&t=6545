<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="http://forums.nesdev.com/feed.php?f=2&amp;t=6545" />

<title>nesdev.com</title>
<subtitle>NES Development and Strangulation Records message boards</subtitle>
<link href="http://forums.nesdev.com/index.php" />
<updated>2010-10-12T15:57:54-07:00</updated>

<author><name><![CDATA[nesdev.com]]></name></author>
<id>http://forums.nesdev.com/feed.php?f=2&amp;t=6545</id>
<entry>
<author><name><![CDATA[tokumaru]]></name></author>
<updated>2010-10-12T15:57:54-07:00</updated>
<published>2010-10-12T15:57:54-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6545&amp;p=68545#p68545</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6545&amp;p=68545#p68545"/>
<title type="html"><![CDATA[asm6 assumes little-endian host [not anymore!]]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6545&amp;p=68545#p68545"><![CDATA[
I meant the official ASM6, the one maintained by loopy.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=95">tokumaru</a> — Tue Oct 12, 2010 3:57 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[doppelganger]]></name></author>
<updated>2010-10-12T15:46:24-07:00</updated>
<published>2010-10-12T15:46:24-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6545&amp;p=68542#p68542</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6545&amp;p=68542#p68542"/>
<title type="html"><![CDATA[asm6 assumes little-endian host [not anymore!]]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6545&amp;p=68542#p68542"><![CDATA[
We don't have an "official" assembler.  Yet.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=119">doppelganger</a> — Tue Oct 12, 2010 3:46 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tokumaru]]></name></author>
<updated>2010-10-07T08:27:56-07:00</updated>
<published>2010-10-07T08:27:56-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6545&amp;p=68251#p68251</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6545&amp;p=68251#p68251"/>
<title type="html"><![CDATA[asm6 assumes little-endian host [not anymore!]]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6545&amp;p=68251#p68251"><![CDATA[
Ah, it's great to see the official assembler being updated! =)<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=95">tokumaru</a> — Thu Oct 07, 2010 8:27 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[loopy]]></name></author>
<updated>2010-10-06T22:30:28-07:00</updated>
<published>2010-10-06T22:30:28-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6545&amp;p=68232#p68232</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6545&amp;p=68232#p68232"/>
<title type="html"><![CDATA[asm6 assumes little-endian host [not anymore!]]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6545&amp;p=68232#p68232"><![CDATA[
<div class="quotetitle">Dwedit wrote:</div><div class="quotecontent"><br />How about the changes here?<br /><!-- m --><a class="postlink" href="http://nesdev.com/bbs/viewtopic.php?p=67686#67686">http://nesdev.com/bbs/viewtopi ... 7686#67686</a><!-- m --><br /></div><br />Yes, that too. <img src="http://forums.nesdev.com/images/smilies/icon_razz.gif" alt=":P" title="Razz" /><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4">loopy</a> — Wed Oct 06, 2010 10:30 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[blargg]]></name></author>
<updated>2010-10-06T17:49:38-07:00</updated>
<published>2010-10-06T17:49:38-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6545&amp;p=68219#p68219</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6545&amp;p=68219#p68219"/>
<title type="html"><![CDATA[asm6 assumes little-endian host [not anymore!]]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6545&amp;p=68219#p68219"><![CDATA[
Maybe we should start a thread to bring together any modifications people have made, and cover any additional things to put into the main code (like the changes I mentioned I have in my private copy)?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=17">blargg</a> — Wed Oct 06, 2010 5:49 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Dwedit]]></name></author>
<updated>2010-10-06T16:47:55-07:00</updated>
<published>2010-10-06T16:47:55-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6545&amp;p=68212#p68212</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6545&amp;p=68212#p68212"/>
<title type="html"><![CDATA[asm6 assumes little-endian host [not anymore!]]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6545&amp;p=68212#p68212"><![CDATA[
How about the changes here?<br /><!-- m --><a class="postlink" href="http://nesdev.com/bbs/viewtopic.php?p=67686#67686">http://nesdev.com/bbs/viewtopi ... 7686#67686</a><!-- m --><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=53">Dwedit</a> — Wed Oct 06, 2010 4:47 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[loopy]]></name></author>
<updated>2010-10-06T16:36:24-07:00</updated>
<published>2010-10-06T16:36:24-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6545&amp;p=68210#p68210</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6545&amp;p=68210#p68210"/>
<title type="html"><![CDATA[asm6 assumes little-endian host [not anymore!]]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6545&amp;p=68210#p68210"><![CDATA[
Cool.  I'll look it over and add your changes to the main code.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4">loopy</a> — Wed Oct 06, 2010 4:36 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[blargg]]></name></author>
<updated>2010-10-06T14:08:51-07:00</updated>
<published>2010-10-06T14:08:51-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6545&amp;p=68201#p68201</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6545&amp;p=68201#p68201"/>
<title type="html"><![CDATA[asm6 assumes little-endian host [not anymore!]]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6545&amp;p=68201#p68201"><![CDATA[
I revisited asm6 and I believe I've got it working for big-endian. I've assembled a number of programs and they seem to work. I've made minimal modifictions, and included the original source I started with to make it easy to determine the changes.<br /><br /><a href="http://blargg.parodius.com/nes-code/asm6-big-endian.zip" class="postlink">asm6-big-endian.zip</a><br /><br />When I was trying out asm6, I noticed several other more minor problems. I've currently fixed them in my own copy; is anyone else interested in these?<br /><br />* Return an error status when it's not successful, so that a script won't keep running.<br />* Support quiet mode that doesn't print status messages, only errors, so that successful run prints nothing.<br />* Print errors to stderr.<br />* Check for write errors rather than ignoring (the final fwrite and fclose don't check).<br />* "wt" is not a valid file mode (there is no "t" modes; text is the absence of "b")<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=17">blargg</a> — Wed Oct 06, 2010 2:08 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[blargg]]></name></author>
<updated>2010-07-03T07:56:08-07:00</updated>
<published>2010-07-03T07:56:08-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6545&amp;p=63615#p63615</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6545&amp;p=63615#p63615"/>
<title type="html"><![CDATA[asm6 assumes little-endian host [not anymore!]]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6545&amp;p=63615#p63615"><![CDATA[
Indeed <img src="http://forums.nesdev.com/images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br /><br />Given that you can do the stupid int i=i there's no way you wouldn't be able to do void* p=&amp;p.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=17">blargg</a> — Sat Jul 03, 2010 7:56 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[byuu]]></name></author>
<updated>2010-07-02T13:34:24-07:00</updated>
<published>2010-07-02T13:34:24-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6545&amp;p=63601#p63601</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6545&amp;p=63601#p63601"/>
<title type="html"><![CDATA[asm6 assumes little-endian host [not anymore!]]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6545&amp;p=63601#p63601"><![CDATA[
<div class="quotetitle">tepples wrote:</div><div class="quotecontent"><br />Some<br /></div><br /><br /><div class="quotetitle">blargg wrote:</div><div class="quotecontent"><br />static void* true_ptr = &amp;true_ptr;<br /></div><br /><br />Ah, I wasn't sure you could reference a variable you were defining for the first time like that. True = &amp;False is such a lovely juxtaposition, though.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=375">byuu</a> — Fri Jul 02, 2010 1:34 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2010-07-01T04:51:57-07:00</updated>
<published>2010-07-01T04:51:57-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6545&amp;p=63528#p63528</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6545&amp;p=63528#p63528"/>
<title type="html"><![CDATA[asm6 assumes little-endian host [not anymore!]]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6545&amp;p=63528#p63528"><![CDATA[
<div class="quotetitle">byuu wrote:</div><div class="quotecontent"><br />Hmm, there's a one in four billion chance that malloc could return an address of one.<br /></div><br />Some platforms' ABIs specify that malloc() can't ever return a 1 in the three low order bits. For example, glibc <a href="http://www.delorie.com/gnu/docs/glibc/libc_31.html" class="postlink">guarantees 8-byte alignment</a>. And with int being at least 2 bytes long on CHAR_BIT==8 machines like those that run the vast majority of emulators, I'd wager that every platform worth caring about aligns all pointers from malloc() to two bytes.<br /><br />Yes, I just assumed that CHAR_BIT==8, but I can document that assumption in a compile-time assertion: code that results in declaring a negative-size array if it is false.<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">extern int CTASSERT_eight_bit_bytes&#91;&#40;CHAR_BIT == 8&#41; ? 1 : -1&#93;;</div><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Thu Jul 01, 2010 4:51 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[blargg]]></name></author>
<updated>2010-07-01T04:35:29-07:00</updated>
<published>2010-07-01T04:35:29-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6545&amp;p=63527#p63527</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6545&amp;p=63527#p63527"/>
<title type="html"><![CDATA[asm6 assumes little-endian host [not anymore!]]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6545&amp;p=63527#p63527"><![CDATA[
intptr_t just complicates it. Use void* and it works much more smoothly (in C, due to implicit void* conversion), and fully portably:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">static void* false_ptr = NULL;<br />static void* true_ptr = &amp;true_ptr;<br />static void* po_ptr = &amp;po_ptr;<br /><br />const char* ptr;<br />ptr = false_ptr;<br />assert&#40; !ptr &#41;;<br /><br />ptr = true_ptr;<br />assert&#40; ptr &amp;&amp; ptr == true_ptr &#41;;<br /><br />ptr = &quot;str&quot;;<br />assert&#40; ptr != false_ptr &amp;&amp; ptr != true_ptr &#41;;</div><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=17">blargg</a> — Thu Jul 01, 2010 4:35 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[byuu]]></name></author>
<updated>2010-06-30T21:10:32-07:00</updated>
<published>2010-06-30T21:10:32-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6545&amp;p=63518#p63518</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6545&amp;p=63518#p63518"/>
<title type="html"><![CDATA[asm6 assumes little-endian host [not anymore!]]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6545&amp;p=63518#p63518"><![CDATA[
<div class="quotetitle">blargg wrote:</div><div class="quotecontent"><br />Just hope your platform's malloc never returns (char*)1 as a valid memory block...<br /></div><br /><br />You know the sad part is that, thanks to programming and/or emulation, I actually <em>would</em> worry about exactly that. "Hmm, there's a one in four billion chance that malloc could return an address of one. Meh, unacceptable. The risks are just too great."<br /><br />You have to wonder about what kind of effects such a perfectionist mentality has on the rest of our lives :P<br /><br />So, workaround time:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">static const intptr_t False = NULL;<br />static const intptr_t True = &amp;False;</div><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=375">byuu</a> — Wed Jun 30, 2010 9:10 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[blargg]]></name></author>
<updated>2010-06-30T12:03:41-07:00</updated>
<published>2010-06-30T12:03:41-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6545&amp;p=63511#p63511</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6545&amp;p=63511#p63511"/>
<title type="html"><![CDATA[asm6 assumes little-endian host [not anymore!]]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6545&amp;p=63511#p63511"><![CDATA[
Dynamic typing takes all the fun out of it. It's more fun if you are able to pack a type field into a char*, without using any more bits than normal. Just hope your platform's malloc never returns (char*)1 as a valid memory block...<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=17">blargg</a> — Wed Jun 30, 2010 12:03 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2010-06-30T05:33:44-07:00</updated>
<published>2010-06-30T05:33:44-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6545&amp;p=63501#p63501</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6545&amp;p=63501#p63501"/>
<title type="html"><![CDATA[asm6 assumes little-endian host [not anymore!]]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6545&amp;p=63501#p63501"><![CDATA[
<div class="quotetitle">blargg wrote:</div><div class="quotecontent"><br />The only downside is viewing in hex, but that is easily remedied by displaying from right-to-left.<br /></div><br />But then that would take the "om" out of "homebrew".<br /><br />But seriously, this sort of union-between-pointers-and-result-codes reminds me of techniques used in dynamically typed languages such as PHP and Python. If I were writing an assembler today, I'd probably do it in Python.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Wed Jun 30, 2010 5:33 am</p><hr />
]]></content>
</entry>
</feed>