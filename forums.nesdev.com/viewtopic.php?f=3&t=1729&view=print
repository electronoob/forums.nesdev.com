<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Front Far East copier</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Front Far East copier</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=3&amp;t=1729">http://forums.nesdev.com/viewtopic.php?f=3&amp;t=1729</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>kyuusaku</b> [ Fri Jun 30, 2006 7:01 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The socalled "FFE" mappers are 6 and 17, all the others are duplicates of legitimate mappers (ie GNROM) which happen to be "modes" of the "FFE" copier.
<br />
<br />F6XXX means a 6 disk game or 3M game, it is not a specific bankswitching type; all 2M or greater FFE games use mapper 6 or mapper 17 (which should be treated as a single mapper) except for UOROM games.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>-_pentium5.1_-</b> [ Fri Jun 30, 2006 7:14 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Oops, I stand corrected - I know next to nothing about FFE's NES copiers. So do the codes F4xxx and F3xxx have the same derivation as F6xxx?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>kyuusaku</b> [ Fri Jun 30, 2006 8:07 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Yes, F4XXX means 2M, F3XXX means 1M PRG/256K CHR (nearly all 3 disk games are unhacked GNROM).
<br />
<br />Only 2M-16k switch at $8000 mapper 6 games are somewhat emulated anyway so it's not like any of this matters, this was never properly implemented--obviously because Marat didn't understand the header, which configured the unit and would have allowed for there to only be one FFE "mapper".

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>-_pentium5.1_-</b> [ Sat Jul 01, 2006 1:00 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />For the safety of n00bs who would otherwise d/l bad ROMs, would it be a good idea for emulator authors to drop emulation of the FFE mappers right away? Or is there some objection to this (i.e., does someone want more accurate emulation of "<em>the</em> FFE mapper")?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Sat Jul 01, 2006 1:14 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I don't know about iNES, but UNIF should define a board type for each kind of copier hardware, where the PRG and CHR are as expected and a third chunk specifies the copier configuration, such as the fusemap for a cart with a CPLD mapper or the header for the FFE copier. Does anybody own that kind of copier? If so, what is the writing on the circuit board?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>kyuusaku</b> [ Sat Jul 01, 2006 8:17 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">-_pentium5.1_- wrote:</div><div class="quotecontent">would it be a good idea for emulator authors to drop emulation of the FFE mappers right away?</div><br />Not really, either way it doesn't accomplish anything, nobody plays Super Magic Card ("FFE") images anyway.<br /><br /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">Does anybody own that kind of copier? If so, what is the writing on the circuit board?</div>
<br />I own one. Why writing on the circuit board?
<br />
<br />Basically the copier is built upon it's predecessors, all logical clones of Bung units:
<br />
<br />First generation plays only CNROM, UN/UOROM, GNROM so there's no need for it to be emulated.
<br />
<br />Second generation plays the above but extends CNROM to add UOROM bankswitching on D2-D5 and "CNROM" CRAM bankswitching to UOROM D4-D5. This is more or less mapper 6, there are 4 banks of 8k CRAM. The entire game, CHR and all, is banked in the CPU space.
<br />
<br />Third generation is the same as above but has a "4M mode" (4x6 bit register file) which adds 8k swapping at $8000,$A000,$C000,$E000 by writing the bank&lt;&lt;2 ala second generation.
<br />
<br />Fourth generation (Super Magic Card) has the above and the addition of actual CHR ROM emulation, 8-bit/1MB PRG addressing, and an IRQ counter. This mode is covered completely by mapper 17.
<br />
<br />There should be 3 mappers in all:
<br />
<br />-Second generation type A (perhaps with fourth generation IRQ and CHR registers, some images hackishly mixed modes)
<br />-Second generation type B (also with fourth generation registers)
<br />-Third generation and  fourth generation, many fourth generation hacks use bank&lt;&lt;2 switching for whatever reason. The presense of CHR ROM would determine whether or not the unit is in the third or fourth generation mode for CHR.
<br />
<br />That would cover nearly all the hacked Front Fareast (one word) images. There really is no place for hacks like Y's which are UOROM with GD mirroring heh (BTW, that is where the Final Fantasy UOROMs came from--Bung)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Sat Jul 01, 2006 8:33 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">kyuusaku wrote:</div><div class="quotecontent">Why writing on the circuit board? </div><br />In general, that's where the UNIF "board names" come from.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">extends CNROM to add UOROM bankswitching on D2-D5 and "CNROM" CRAM bankswitching to UOROM D4-D5. This is more or less mapper 6, there are 4 banks of 8k CRAM.</div>
<br />So BNROM is to UNROM as Color Dreams is to this, right? Doesn't Squeedo do something like this, U*ROM style PRG switching plus 8 KB CHR RAM switching out of 32 KB?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>kyuusaku</b> [ Sat Jul 01, 2006 8:46 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I see, the copier doesn't have a board name in that sense, it's nothing like a cartridge. I would just call it SMC-801 after it's model number but that's deceiving as the previous models are incorporated into the design and they really aren't FFE's work at all. Because the unit has so many things unemulated it doesn't make sense for any emulator support except for the 3 memory models (which should be recognized as "poison" mappers since there are no original images)
<br />
<br /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">So BNROM is to UNROM as Color Dreams is to this, right? Doesn't Squeedo do something like this, U*ROM style PRG switching plus 8 KB CHR RAM switching out of 32 KB?</div>
<br />Heh, you've lost me
<br />
<br />------PP 32k vs ----PPPP 16k
<br />CCCCPPPP 32k vs -PPPPCC 16k or -CCPPPP 16k ?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>-_pentium5.1_-</b> [ Mon Jul 03, 2006 12:42 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">kyuusaku wrote:</div><div class="quotecontent">...nobody plays Super Magic Card ("FFE") images anyway.</div><br /><em>Proper</em> users don't. N00bs might. Shouldn't emulators at least display a warning of some sort?<br /><div class="quotetitle">kyuusaku wrote:</div><div class="quotecontent">Because the unit has so many things unemulated it doesn't make sense for any emulator support except for the 3 memory models (which should be recognized as "poison" mappers since there are no original images)</div>
<br />Isn't this further justification for speedy deprecation of the FFE mappers?
<br />
<br />Maybe the information that is known so far should go on NESdevWiki? (Sorry, I have neither enough experience with NES technical stuff nor with MediaWiki sites to do it myself.)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>oRBIT2002</b> [ Mon Jul 03, 2006 10:39 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />kyuusaku, so you've got an old Famicom copier? That's cool. What can you do with it? Does it come with a 3.5" floppy or similar?
<br />Can you post pictures?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>kyuusaku</b> [ Wed Jul 05, 2006 8:38 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />As far as I know I own every revision of every Famicom copier (except for the Dr PC Jr which arguably isn't a copier.) I won't post pictures (they can be found elsewhere) but I can talk a little about them. 
<br />
<br />They hijack the system around when the Nintendo header loads in the FDS BIOS (they all load game images from 2.8" disks.) They <strong>cannot</strong> backup games, their GUI is a simple "Insert Disk A,B,C,D [sic]" prompt. After loading the disks, the game starts.
<br />
<br />The games are organized into FDS blocks, there is a block for the copier header (generally two bytes which configure the mode), a block for a "trainer" if present, then the blocks for program ROM followed by character ROM.
<br />
<br />The earliest units could only play these modes (which were 99% of the games in 1987):
<br />
<br />--PPPPCC (extended CNROM)
<br />----PPPP (UOROM)
<br />--CCPPPP (reverse mode 1)
<br />--CC--PP (GNROM)
<br />
<br />Then support was added for trained games to support MMC1 and other 3rd party hardware. As I said earlier another mode was added which made $8000/A000/C000/E000 banks swappable.
<br />
<br />Until 1989, all units were logical clones of Bung's Game Doctor line (74 series/SPLD) with either original or hacked BIOS, in 1989 proprietary ASIC units came out. Each company (there are really only 3: Bung, Venus and Front Fareast) had their own style of PHI2 IRQ counter and included character ROM emulation with 1k switching instead of using CNROM style CRAM bankswitching.
<br />
<br />The Super Magic Card ("FFE") is an exception in that it comes with built in 3.5" support and PC link and a GUI to manage files on the disk. The basic "FFE" image format (512b header) is:
<br />
<br />first 8 bytes - legacy copier header block
<br />ID bytes - AAh BBh
<br />rest - 00h
<br />followed by PRG then CHR ROM.
<br />
<br />The earliest (1M) units use the FDS RAM adapter to decode $6000-7FFF, this means of course the area is volatile and saves aren't kept. Units by Front Fareast decode WRAM to a local SRAM and is retained by the unit's power supply or battery pack. Starting with the ASIC units the copiers had either a real time save addon device (Venus units) or it built in (Bung/Front Fareast) operated by a pushbutton (Venus/Front Fareast) or a button sequence (Bung). Bung's technology for real time save is used in the Game Action Replay (which was developed by the man behind all Bung products)
<br />
<br />Basically all you can do with FC copiers is playback games (which you would have had to hack yourself or purchase illegally from a vendor.) Because earlier units had to make due with 4x8k SRAM banks, trainers often had to turn off rendering, transfer character data from CPU RAM to CRAM by way of $2007 and resume. This causes the screen to flicker of course, in games that bankswitch often, this flicker can be REALLY annoying. Should a trainer make the game logic spill into another frame, this causes slowdown as well.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Wed Jul 05, 2006 10:18 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">kyuusaku wrote:</div><div class="quotecontent">The Super Magic Card ("FFE") is an exception in that it comes with built in 3.5" support and PC link and a GUI to manage files on the disk. The basic "FFE" image format (512b header) is:<br /><br />first 8 bytes - legacy copier header block<br />ID bytes - AAh BBh<br />rest - 00h</div><br />Would proper iNES support for Super Magic Card images put the 512-byte FFE header in the "trainer" section?<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Basically all you can do with FC copiers is playback games (which you would have had to hack yourself or purchase illegally from a vendor.)</div>
<br />Does your use of "hack" include the <a href="http://www.catb.org/jargon/html/H/hack.html" class="postlink">classic jargon senses</a>? If so, then the SMC might be useful for homebrew, and it might be useful for emulation even if only as a quick spot-check before running a nightly build on Famicom/NES hardware.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>kyuusaku</b> [ Wed Jul 05, 2006 10:51 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I don't think there can be such a thing as proper iNES support, proper support would be to get rid of the iNES header and use normal SMC images. The trainer section of iNES is necessary if you're going to use the FFE images.
<br />Trainers are code loaded into $7000 before the game starts, they usually just contain a few bankswitching routines. To "train" a game, you generally replace a STA $E000 with JSR $7018 where $7018 is a routine to preform that specific bankswitch.
<br />
<br />I meant hack as in modify the game to use trainer routines or directly access the unit's bankswitch registers instead of say MMC1's.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Wed Jul 05, 2006 11:01 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">kyuusaku wrote:</div><div class="quotecontent">proper support would be to get rid of the iNES header and use normal SMC images.</div>
<br />But aren't "normal SMC images" associated to a Super NES emulator on most users' computers? The situation resembles that of .bin, which can be either a common extension for a Sega Genesis uninterleaved ROM or a deprecated extension for a GBA ROM.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>kyuusaku</b> [ Wed Jul 05, 2006 11:18 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />They probably are but there's no reason why Magic Card images couldn't be ".ffe" (which I've seen people use back when un-iNESed images were still available) or something entirely new. People could also rename their .SMC ROMs to .SWC (it supersedes .SMC) and associate all SMC to a NES emulator.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>