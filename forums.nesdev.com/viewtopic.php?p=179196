<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<link rel="icon" href="/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />

<title>nesdev.com &bull; View topic - NES version of Balloon Fight resets on a VS red tent, why?</title>

<link rel="alternate" type="application/atom+xml" title="Feed - nesdev.com" href="https://forums.nesdev.com/feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - News" href="https://forums.nesdev.com/feed.php?mode=news" /><link rel="alternate" type="application/atom+xml" title="Feed - All forums" href="https://forums.nesdev.com/feed.php?mode=forums" /><link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="https://forums.nesdev.com/feed.php?mode=topics" /><link rel="alternate" type="application/atom+xml" title="Feed - Active Topics" href="https://forums.nesdev.com/feed.php?mode=topics_active" /><link rel="alternate" type="application/atom+xml" title="Feed - Forum - NESdev" href="https://forums.nesdev.com/feed.php?f=2" /><link rel="alternate" type="application/atom+xml" title="Feed - Topic - NES version of Balloon Fight resets on a VS red tent, why?" href="https://forums.nesdev.com/feed.php?f=2&amp;t=14792" />

<link rel="stylesheet" href="./style.php?id=1&amp;lang=en" type="text/css" />

<script type="text/javascript">
// <![CDATA[


function popup(url, width, height, name)
{
	if (!name)
	{
		name = '_popup';
	}

	window.open(url.replace(/&amp;/g, '&'), name, 'height=' + height + ',resizable=yes,scrollbars=yes,width=' + width);
	return false;
}

function jumpto()
{
	var page = prompt('Enter the page number you wish to go to:', '1');
	var per_page = '15';
	var base_url = './viewtopic.php?f=2&amp;t=14792';

	if (page !== null && !isNaN(page) && page == Math.floor(page) && page > 0)
	{
		if (base_url.indexOf('?') == -1)
		{
			document.location.href = base_url + '?start=' + ((page - 1) * per_page);
		}
		else
		{
			document.location.href = base_url.replace(/&amp;/g, '&') + '&start=' + ((page - 1) * per_page);
		}
	}
}

/**
* Find a member
*/
function find_username(url)
{
	popup(url, 760, 570, '_usersearch');
	return false;
}

/**
* Mark/unmark checklist
* id = ID of parent container, name = name prefix, state = state [true/false]
*/
function marklist(id, name, state)
{
	var parent = document.getElementById(id);
	if (!parent)
	{
		eval('parent = document.' + id);
	}

	if (!parent)
	{
		return;
	}

	var rb = parent.getElementsByTagName('input');
	
	for (var r = 0; r < rb.length; r++)
	{
		if (rb[r].name.substr(0, name.length) == name)
		{
			rb[r].checked = state;
		}
	}
}



// ]]>
</script>
</head>
<body class="ltr">

<a name="top"></a>

<div id="wrapheader">

	<div id="logodesc">
	</div>

	<div id="menubar">

		<table width="100%" cellspacing="0">
		<tr>
			<td rowspan="2"><a href="./index.php"><img src="./styles/subsilver2/imageset/site_logo.gif" alt="" title="" /></a></td>
			<td width="100%" align="center"><h1>nesdev.com</h1><span class="gen">NES Development and Strangulation Records message boards</span></td>
		</tr>
		<tr>
			<td align="center">
				<!--<div style="float: right;">
					<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
					<input type="hidden" name="cmd" value="_s-xclick">
					<input type="hidden" name="hosted_button_id" value="X2HM4WNR5YT8S">
					<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
					<img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
					</form>
				</div>-->
				<a href="./faq.php"><img src="./styles/prosilver/theme/images/icon_mini_faq.gif" width="12" height="13" alt="*" /> FAQ</a>
				&nbsp; &nbsp;<a href="./search.php"><img src="./styles/prosilver/theme/images/icon_mini_search.gif" width="12" height="13" alt="*" /> Search</a>
				<br />	
				 &nbsp;<a href="./ucp.php?mode=minion"><img src="./styles/prosilver/theme/images/icon_mini_register.gif" width="12" height="13" alt="*" /> Register</a>
					&nbsp; &nbsp;<a href="./ucp.php?mode=login"><img src="./styles/prosilver/theme/images/icon_mini_login.gif" width="12" height="13" alt="*" /> Login</a>&nbsp;
			</td>
		</tr>
		</table>
	</div>

	<div id="datebar">
		<table width="100%" cellspacing="0">
		<tr>
			<td class="gensmall"></td>
			<td class="gensmall" align="right">It is currently Thu Mar 21, 2019 12:35 am<br /></td>
		</tr>
		</table>
	</div>

</div>

<div id="wrapcentre">

	
	<p class="searchbar">
		<span style="float: left;"><a href="./search.php?search_id=unanswered">View unanswered posts</a> | <a href="./search.php?search_id=active_topics">View active topics</a></span>
		
	</p>
	

	<br style="clear: both;" />

	<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=24">NES / Famicom</a> &#187; <a href="./viewforum.php?f=2">NESdev</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>

	<br />
	

					<center>
					<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- NesDev Forums -->
					<ins class="adsbygoogle"
						 style="display:block"
						 data-ad-client="ca-pub-7801010229099644"
						 data-ad-slot="7979066809"
						 data-ad-format="auto"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>
					</center>
	<br />


<div id="pageheader">
	<h2><a class="titles" href="./viewtopic.php?f=2&amp;t=14792">NES version of Balloon Fight resets on a VS red tent, why?</a></h2>


	<p class="moderators">Moderator: <a href="./memberlist.php?mode=group&amp;g=320">Moderators</a></p>

</div>

<br clear="all" /><br />

<div id="pagecontent">

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=2"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=2&amp;t=14792"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>1</strong> of <strong>4</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 52 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"><b><a href="#" onclick="jumpto(); return false;" title="Click to jump to pageâ€¦">Go to page</a> <strong>1</strong><span class="page-sep">, </span><a href="./viewtopic.php?f=2&amp;t=14792&amp;start=15">2</a><span class="page-sep">, </span><a href="./viewtopic.php?f=2&amp;t=14792&amp;start=30">3</a><span class="page-sep">, </span><a href="./viewtopic.php?f=2&amp;t=14792&amp;start=45">4</a> &nbsp;<a href="./viewtopic.php?f=2&amp;t=14792&amp;start=15">Next</a></b></td>
		
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat">
			<table width="100%" cellspacing="0">
			<tr>
				<td class="nav" nowrap="nowrap">&nbsp;
				<a href="./viewtopic.php?f=2&amp;t=14792&amp;view=print" title="Print view">Print view</a>
				</td>
				<td class="nav" align="right" nowrap="nowrap"><a href="./viewtopic.php?f=2&amp;t=14792&amp;view=previous">Previous topic</a> | <a href="./viewtopic.php?f=2&amp;t=14792&amp;view=next">Next topic</a>&nbsp;</td>
			</tr>
			</table>
		</td>
	</tr>

	</table>


	<table class="tablebg" width="100%" cellspacing="1">
	
		<tr>
			<th>Author</th>
			<th>Message</th>
		</tr>
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p179029"></a>
				<b class="postauthor">lupin3rd</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p179029">NES version of Balloon Fight resets on a VS red tent, why?</a></div><div style="float: right;"><a href="./viewtopic.php?p=179029#p179029"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Sep 06, 2016 5:42 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=7802_1473205909.png" width="75" height="75" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Tue Sep 06, 2016 4:34 pm<br /><b>Posts:</b> 55<br /><b>Location:</b> Evansville, IN
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Over the Labor Day weekend, I decided I wanted to convert some of my favorite NES games to the VS system.  So like any other self-respecting nerd, I downloaded the Balloon Fight (USA) NES ROM, stripped the NES header off of it, split it into the PRG and CHR ROMs, burned them onto (3) 2764 chips, installed them in my red tent with a 2C03 PPU, and voila!  I'm playing Balloon Fight.  Players 1 and 2 are swapped, and I have to press 3P for Start, but I can play the 1P game as long as I want -- but if I play 2P Battle Mode, the ROM resets after one of the player dies (or at least I think that's the pattern).<br /><br /><em>So here is the burning question:</em><br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Does anyone know of a specific reason why the reset would happen during a 2-player game?  I know the registers are swapped for player controls from the NES, but would this have anything to do with something I read elsewhere on this board about needing to read from $4017 (I think that was the location) at least once every second?</div><br /><br />Or, if nobody knows the reason why it would happen, can anyone suggest a good investigative tactic to pinpoint the issue?  I've considered bundling the ROMs up into a .ZIP and trying to debug the behavior with an emulator, but I'm not sure if the emulators out there would definitely reproduce the issue, so tips on doing that would be appreciated as well.<br /><br />I'm not above modifying the ROM, if I can pinpoint with a debugger what code causes the issue.<br /><br /><span style="text-decoration: underline">The Why:</span><br /><br />So Balloon Fight is a readily available game for the VS system, <em>so why would I bother</em>?  Well, it's a 12-ROM game that requires using both sides of the red tent, with the only payoff being that each player can have their own screen.  In my opinion, that's a serious design flaw and makes owning Balloon Fight on the red tent a tragedy, as it leaves the other side unavailable for something that 2 other people could be playing.<br /><br /><a href="http://imgur.com/a/0LjTB" class="postlink">Pic of title screen</a></div>

					
						<div class="postbody"><br />_________________<br />&quot;Can I keep his head for a souvenir?&quot; -Max</div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=7802"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p179030"></a>
				<b class="postauthor">lidnariq</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p179030">Re: NES version of Balloon Fight resets on a VS red tent, wh</a></div><div style="float: right;"><a href="./viewtopic.php?p=179030#p179030"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Sep 06, 2016 5:50 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_online.gif" alt="Online" title="Online" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Apr 13, 2008 11:12 am<br /><b>Posts:</b> 8172<br /><b>Location:</b> Seattle
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">lupin3rd wrote:</div><div class="quotecontent">if I play 2P Battle Mode, the ROM resets after one of the player dies (or at least I think that's the pattern).<br /></div>After <em>either</em> player dies? Or is it always after player 2 (i.e. what the Vs. System calls player 1) dies?<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I read elsewhere on this board about needing to read from $4017 (I think that was the location) at least once every second?<br /></div>That's my best guess.<br /><br />I assume the ROMs were in the &quot;slave&quot; slot ?<br /><br /><br />You should be able to get away with putting the NES Balloon Fight ROMs in the &quot;master&quot; slot and some actually-intended-for-the-Vs-System game into the &quot;slave&quot; slot, since the watchdog only cares about the slave CPU.<br /><br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">trying to debug the behavior with an emulator, but I'm not sure if the emulators out there would definitely reproduce the issue, so tips on doing that would be appreciated as well.<br /></div>Unfortunately, I don't think any emulators implement the watchdog timer.<br /><br />However, you should be able to use any ordinary emulator-with-debugger to check if the game stopped reading from $4017 after the relevant player died.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">So Balloon Fight is a readily available game for the VS system, <em>so why would I bother</em>?<br /></div>I suppose you don't mind the game not requiring credits either?</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3512"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p179033"></a>
				<b class="postauthor">lupin3rd</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p179033">Re: NES version of Balloon Fight resets on a VS red tent, wh</a></div><div style="float: right;"><a href="./viewtopic.php?p=179033#p179033"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Sep 06, 2016 6:11 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=7802_1473205909.png" width="75" height="75" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Tue Sep 06, 2016 4:34 pm<br /><b>Posts:</b> 55<br /><b>Location:</b> Evansville, IN
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I assume the ROMs were in the &quot;slave&quot; slot ?</div><br />Actually, they were on the slave side of the board... Hmm... (Runs out to garage to try swapping sides)<br /><br />HOLY COW.  That worked!  Any idea what the technical reason is behind it?  I'm just wondering if there's any type of modification I could do to the ROM image to keep that from happening if I wanted to run a different NES game on the slave side...<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I suppose you don't mind the game not requiring credits either?</div><br />Nope, not at all.  This is purely a convenience for myself, friends, and family. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />  Hey, I really appreciate that suggestion about trying it out on the master side!</div>

					
						<div class="postbody"><br />_________________<br />&quot;Can I keep his head for a souvenir?&quot; -Max</div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=7802"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p179036"></a>
				<b class="postauthor" style="color: #FF3300">tepples</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p179036">Re: NES version of Balloon Fight resets on a VS red tent, wh</a></div><div style="float: right;"><a href="./viewtopic.php?p=179036#p179036"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Sep 06, 2016 6:30 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Sep 19, 2004 11:12 pm<br /><b>Posts:</b> 21206<br /><b>Location:</b> NE Indiana, USA (NTSC)
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">First thing to try is <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">BIT $4017</tt> somewhere in the NMI handler. It might be tough if <em>Balloon Fight</em> is tightly packed though.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=9"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p179042"></a>
				<b class="postauthor">lidnariq</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p179042">Re: NES version of Balloon Fight resets on a VS red tent, wh</a></div><div style="float: right;"><a href="./viewtopic.php?p=179042#p179042"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Sep 06, 2016 6:50 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_online.gif" alt="Online" title="Online" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Apr 13, 2008 11:12 am<br /><b>Posts:</b> 8172<br /><b>Location:</b> Seattle
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">So, yeah, it worked because the watchdog timer <em>only</em> watches the &quot;slave&quot; CPU, and not the &quot;master&quot; CPU.<br /><br />Theoretically, the game in the &quot;slave&quot; slot should make sure that the &quot;master&quot; CPU hasn't crashed (by making sure that the &quot;master&quot; CPU gives RAM / asserts IRQ on the slave occasionally) and intentionally fail the watchdog if so. But I can't imagine any games actually do that, other than the explicitly two-screen games.<br /><br /><br />It shouldn't be too hard to inject the necessary extra reads from $4017 in an Not-for-Vs-System game; it's very rudimentary ROM hacking, but specifics really want a bit of comfort with 6502 assembly.<br /><br /><br />On an entirely unrelated note, would you be willing to run the <a href="http://forums.nesdev.com/viewtopic.php?p=127592#p127592" class="postlink">Vs. System characterization ROM</a> I wrote? We do already have data from Memblers's Vs. System, but it'd be nice to get a second data point at all.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3512"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p179050"></a>
				<b class="postauthor">lupin3rd</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p179050">Re: NES version of Balloon Fight resets on a VS red tent, wh</a></div><div style="float: right;"><a href="./viewtopic.php?p=179050#p179050"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Sep 06, 2016 8:36 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=7802_1473205909.png" width="75" height="75" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Tue Sep 06, 2016 4:34 pm<br /><b>Posts:</b> 55<br /><b>Location:</b> Evansville, IN
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">On an entirely unrelated note, would you be willing to run the <a href="http://forums.nesdev.com/viewtopic.php?p=127592#p127592" class="postlink">Vs. System characterization ROM</a> I wrote? We do already have data from Memblers's Vs. System, but it'd be nice to get a second data point at all.</div><br />Hey, that sounds like fun!  I read the whole thread you linked me to, but I'm not sure what objectives we're testing here.<br /><br />I have several revisions of the VS board, but I think only 2 of them are currently working correctly.  That may help identify any potential issues as well.  I downloaded the file and extracted it, but I might need a little more information about what's going on in there.  (Didn't see a README file in the archive)<br /><br />Just throw me a hint about what to do with the files.  Am I just using my own copy of SMB ROMs, and then burning and subbing in the CHR file in this archive?  You can PM me if you want to take the conversation out of this thread, but I'm turning in for tonight.</div>

					
						<div class="postbody"><br />_________________<br />&quot;Can I keep his head for a souvenir?&quot; -Max</div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=7802"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p179051"></a>
				<b class="postauthor">lidnariq</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p179051">Re: NES version of Balloon Fight resets on a VS red tent, wh</a></div><div style="float: right;"><a href="./viewtopic.php?p=179051#p179051"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Sep 06, 2016 8:54 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_online.gif" alt="Online" title="Online" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Apr 13, 2008 11:12 am<br /><b>Posts:</b> 8172<br /><b>Location:</b> Seattle
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">If you already have a Vs. SMB ROM set around, you can just use its CHR (i.e. use it for ROM 2A or 8A).<br /><br />If you <em>don't</em> have a Vs. SMB, then ... uh. The contents of the 768-byte CHR file are the minimal <a href="https://en.wikipedia.org/wiki/Intellectual_property_protection_of_typefaces#United_States" class="postlink">font-only copyright-not-infringing subset</a> of the SMB CHR, and you could either program it in a 4 KiB ROM ... or just extract the CHR from the bundled NES ROM and program that into a 8 KiB ROM. Or I could quickly spin up another build for whatever CHR you already have programmed (just tell me what game)<br /><br />Program the &quot;e000.bin&quot; file and run it in 1A or 6A.<br /><br />The tests worth repeating are:<br />â€¢ &quot;watchdog timeout&quot; (only when running from &quot;slave&quot; CPU; this test should fail when running on the &quot;master&quot; CPU)<br />â€¢ &quot;coindrop duration&quot; (both CPUs)<br />â€¢ &quot;coin counter speed&quot; (both CPUs)<br />and, because I added this after Membler's test, the &quot;2002 readback&quot; and &quot;dipswitches&quot; values at the bottom of the main screen</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3512"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p179083"></a>
				<b class="postauthor">lupin3rd</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p179083">Re: NES version of Balloon Fight resets on a VS red tent, wh</a></div><div style="float: right;"><a href="./viewtopic.php?p=179083#p179083"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Sep 07, 2016 8:29 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=7802_1473205909.png" width="75" height="75" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Tue Sep 06, 2016 4:34 pm<br /><b>Posts:</b> 55<br /><b>Location:</b> Evansville, IN
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">lidnariq wrote:</div><div class="quotecontent">If you already have a Vs. SMB ROM set around, you can just use its CHR (i.e. use it for ROM 2A or 8A).</div><br />Yeah, I probably have 2 sets, so no worries there.  Sounds easy enough.  So am I understanding correctly, that this is basically a tool to test/time some behavior on the hardware?  Is there any reason to run the tests on both sides, or does it really only make sense to run it on one side?  If that's the case, should it be the master or slave side?<br /><br />My apologies for all the questions, but I'm a bit of a stranger on this forum, so I don't have a lot of knowledge about everyone's projects or really any context about what's happening around here. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />  I am super stoked to help out with this testing, though.  I think I'm using the MDS-04-CPU board, but I think I also have an -05 and an -02, just not sure which ones are working currently.  Results may vary slightly on the revisions I'm sure.</div>

					
						<div class="postbody"><br />_________________<br />&quot;Can I keep his head for a souvenir?&quot; -Max</div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=7802"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p179107"></a>
				<b class="postauthor">lidnariq</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p179107">Re: NES version of Balloon Fight resets on a VS red tent, wh</a></div><div style="float: right;"><a href="./viewtopic.php?p=179107#p179107"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Sep 07, 2016 11:53 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_online.gif" alt="Online" title="Online" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Apr 13, 2008 11:12 am<br /><b>Posts:</b> 8172<br /><b>Location:</b> Seattle
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">lupin3rd wrote:</div><div class="quotecontent">this is basically a tool to test/time some behavior on the hardware?<br /></div>By now, yes. The other lines in the test framework were originally verifying some weirder things that I wasn't certain about from the <a href="http://nesdev.com/VSSCHEM.pdf" class="postlink">schematic</a>.<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Is there any reason to run the tests on both sides, or does it really only make sense to run it on one side?  If that's the case, should it be the master or slave side?<br /></div>Slave side is necessary to test the watchdog timeout; testing the other properties on the master side would just get another round of duplication.<br /><br />All the coin counter and coin drop tests are actually testing properties of the cabinet... but since the Vs. System isn't JAMMA that's still related.<br /><br /><br />One (minor) reason to test on both sides is that I very recently just noticed that there's theoretically one bit (in the &quot;dipswitches&quot; value) that should differ when running on the &quot;master&quot; and &quot;slave&quot; sides, and verification would be nice.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">My apologies for all the questions<br /></div>Perfectly fine!<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Results may vary slightly on the revisions I'm sure.<br /></div>AFAIK, the &quot;dipswitches&quot; value and the watchdog timeout are the only places I'd expect variation across mainboard versions.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3512"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p179196"></a>
				<b class="postauthor">lupin3rd</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p179196">Re: NES version of Balloon Fight resets on a VS red tent, wh</a></div><div style="float: right;"><a href="./viewtopic.php?p=179196#p179196"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Sep 08, 2016 5:33 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=7802_1473205909.png" width="75" height="75" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Tue Sep 06, 2016 4:34 pm<br /><b>Posts:</b> 55<br /><b>Location:</b> Evansville, IN
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Here's the results of my tests.  I'm not sure if I was comprehensive enough, or if my captions to these photos make sense.  Ultimately, we ran the tests on the Slave side first, and then the master side.  The only weird anomalies were that none of the coin counter operations worked as expected, we never even saw the counter move; also, the test suite wouldn't run if switch 8 on bank 1 was in the off position.<br /><br /><a href="https://imgur.com/a/xS6CL" class="postlink">Album of test results</a></div>

					
						<div class="postbody"><br />_________________<br />&quot;Can I keep his head for a souvenir?&quot; -Max</div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=7802"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p179197"></a>
				<b class="postauthor">lidnariq</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p179197">Re: NES version of Balloon Fight resets on a VS red tent, wh</a></div><div style="float: right;"><a href="./viewtopic.php?p=179197#p179197"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Sep 08, 2016 6:24 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_online.gif" alt="Online" title="Online" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Apr 13, 2008 11:12 am<br /><b>Posts:</b> 8172<br /><b>Location:</b> Seattle
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I think that covered everything? Thank you! It's good to know that your machine's coin drops are a little faster than Memblers's.<br /><br />That DIP switch behavior ... The characterization ROM doesn't do anything with the DIP switches except print the value to the screen there. The number in that last photo only indicates all DIP switches are ON... could something else be wrong?<br /><br />Also, in what order do the pictures of the slave side DIPs go? Is that <!-- m --><a class="postlink" href="https://i.imgur.com/eEvZjPV.jpg">https://i.imgur.com/eEvZjPV.jpg</a><!-- m --> â†” <!-- m --><a class="postlink" href="https://i.imgur.com/33LEHbm.jpg">https://i.imgur.com/33LEHbm.jpg</a><!-- m -->  and <!-- m --><a class="postlink" href="https://i.imgur.com/mDWg5AR.jpg">https://i.imgur.com/mDWg5AR.jpg</a><!-- m --> â†” <!-- m --><a class="postlink" href="https://i.imgur.com/mDWg5AR.jpg">https://i.imgur.com/mDWg5AR.jpg</a><!-- m --> ... or vice versa?<br /><br /><br />I have to admit I'm confused about the coin counter. I'm certain I didn't change any of that from the previous version I'd asked Memblers to run. (I assume it worked on the games you had?)<br /><br />Transcribing contents of photos:<br /><blockquote style="margin-left: 1%; padding-left: 1%; border-left: 3px solid #555577;">
â€¢ Slave Side: 2002 READBACK IS 00 1F / DIPSWITCHES ARE 80 00 / RP2C04-0004<br />â€¢ Slave Side: Watchdog 043227 [ â‰ˆ 1.24s ]<br />â€¢ Slave Side: Coin Drop 1E6E 1A64 [ â‰ˆ 48.3ms 41.9ms ]<br />â€¢ Slave Side: Shared memory test [ RAM always enabled as expected ]<br />â€¢ Dips Both Banks Off<br />â€¢ Slave Side Dips: $98 $FC [ when a DIP switch is &quot;on&quot; it shorts the pin to ground, corresponding to logic 1 thanks to 74LS240 ]<br />â€¢ Dips All On<br />â€¢ Master Side: Watchdog did not occur [as expected]<br />â€¢ Master Side: Shared memory test: as expected &#40;$4016.1 clear disables master&#39;s access to RAM; $4016.1 set enables it; there&#39;s 2 KiB of it and it&#39;s mirrored in a 8KiB window&#41;<br />â€¢ Master: Dips all off except bank 1, switch 8: Test PRG wouldn&#39;t boot without it set<br />â€¢ Master Dips: 18 FC / RC2C03
</blockquote></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3512"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p179199"></a>
				<b class="postauthor">lupin3rd</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p179199">Re: NES version of Balloon Fight resets on a VS red tent, wh</a></div><div style="float: right;"><a href="./viewtopic.php?p=179199#p179199"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Sep 08, 2016 6:49 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=7802_1473205909.png" width="75" height="75" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Tue Sep 06, 2016 4:34 pm<br /><b>Posts:</b> 55<br /><b>Location:</b> Evansville, IN
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Okay, so maybe a little clarification is in order.  The test ran fine on the slave side regardless of dip switch status.  It was only after moving to the master side that it suddenly took issue with switch 8 in bank 1.  <strong>Disclaimer:</strong> I was lazy, so I left my quirky NES Balloon Fight in the system (but on the slave side) during the characterization test on the Master side.  In hindsight, this was probably a bad idea.<br /><br />Question: There are 2 different types of CPUs in my collection of VS hardware.  A 2A03 and 2A04.  My understanding is that the 2A04 is for use on the master side, when only one game is installed on the board (in the slave side).  So is this a dummy CPU?  For my tests, I had a 2A03 on both sides... should I have had a 2A04 on the master side?<br /><br />I can run more tests for you, if you like.  I'm not above shooting video either, so the order of steps and results makes more sense.  I had not tried dropping coins into my machine since I had owned it, and the coin mechs were slightly bent.  I couldn't even run the test because the switches would get stuck in the closed position.  After fixing the bends, the switches would spring back correctly.<br /><br />My friend Brian came over, and he's been hanging around reading this page and its contents for the last 10 years or more -- he was stoked to help too.  If you add new tests or want me to try running it on my other working board, I can do that too.  Also, if you prefer that I run a real VS game on the opposite side (or no game), then I can oblige those requests as well. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /></div>

					
						<div class="postbody"><br />_________________<br />&quot;Can I keep his head for a souvenir?&quot; -Max</div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=7802"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p179203"></a>
				<b class="postauthor" style="color: #FF3300">tepples</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p179203">Re: NES version of Balloon Fight resets on a VS red tent, wh</a></div><div style="float: right;"><a href="./viewtopic.php?p=179203#p179203"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Sep 08, 2016 7:19 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Sep 19, 2004 11:12 pm<br /><b>Posts:</b> 21206<br /><b>Location:</b> NE Indiana, USA (NTSC)
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">2A04 just allows the other side to take control of the shared RAM, I think. That's why you can't run two Vs. SMB: it needs the RAM to cache things, probably level data or something read out of CHR ROM.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=9"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p179206"></a>
				<b class="postauthor">lidnariq</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p179206">Re: NES version of Balloon Fight resets on a VS red tent, wh</a></div><div style="float: right;"><a href="./viewtopic.php?p=179206#p179206"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Sep 08, 2016 8:02 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_online.gif" alt="Online" title="Online" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Apr 13, 2008 11:12 am<br /><b>Posts:</b> 8172<br /><b>Location:</b> Seattle
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">lupin3rd wrote:</div><div class="quotecontent">It was only after moving to the master side that it suddenly took issue with switch 8 in bank 1.<br /></div>To make sure I understand: DIP switch bank 1 is the bank for the master CPU, and DIP switch bank 2 is for the slave CPU?<br /><br />So theoretically, whatever is in the master CPU shouldn't be able to care about what's going on in bank 2, and vice versa?<br /><br />What's confusing me is the bit where your picture in the album ( <!-- m --><a class="postlink" href="https://imgur.com/KlZBirb">https://imgur.com/KlZBirb</a><!-- m --> ) shows DIP switches 1-7 as OFF, but the value on-screen ( <!-- m --><a class="postlink" href="https://imgur.com/V45mBgb">https://imgur.com/V45mBgb</a><!-- m --> ) shows all DIP switches as ON. Hence asking about temporal order. And also asking if anything's seemed suspicious when games are run on the master side of this specific board.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I left my quirky NES Balloon Fight in the system (but on the slave side) during the characterization test on the Master side.<br /></div>I would have assumed that would have caused the system to reboot every... oh, right, it only fails the watchdog after a 2 player game when the first player dies. Right. Ok. No, I don't think that should change things.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">My understanding is that the 2A04 is for use on the master side, when only one game is installed on the board (in the slave side).  So is this a dummy CPU?<br /></div>As far as we know, the 2A04 is &quot;just&quot; a jumper between pin 20 and pin 38, causing the shared RAM to always be granted to the &quot;slave&quot; CPU. (For example, Vs. SMB relies on having access to that extra 2 KiB of RAM, but its documentation also says several other gamesâ€”but not allâ€”are sufficiently equivalent to the 2A04)<br /><br />If you're willing to sit down with a multimeter and see if that is true, that would be helpful! (And maybe see if any other pins are shorted, too?)<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I can run more tests for you, if you like.  I'm not above shooting video either, so the order of steps and results makes more sense.  I had not tried dropping coins into my machine since I had owned it, and the coin mechs were slightly bent.  I couldn't even run the test because the switches would get stuck in the closed position.  After fixing the bends, the switches would spring back correctly.<br /></div>Well, thefox wrote <a href="http://forums.nesdev.com/viewtopic.php?p=98169#p98169" class="postlink">this test</a> that detects the not-missing PPU pixel on the 2C03. I guess it would be nice to verify the same is true on the 2C04... except that it's no longer accessible <img src="./images/smilies/icon_sad.gif" alt=":(" title="Sad" /><br /><br />There's a few other things mentioned on the wiki <a href="http://wiki.nesdev.com/w/index.php/Clock_rate" class="postlink">here</a> that we don't know, but determining them might require writing some more tests. (And possibly adjusting the CRT image position, but we'll try to work around that)<br /><br />If we do write some tests, do you have any of the Vs. System daughtercards that add a more complicated memory manager hardware (e.g. 108 or VRC or MMC1)? And/or have you modified your mainboard to support Vs. Gumshoe?<br /><br />[From other thread] Oh, you have the UNROM daughterboard. Could you try tepples's <a href="http://forums.nesdev.com/viewtopic.php?p=176676#p176676" class="postlink">test suite</a>? A lot of the tests won't be relevant on a SD CRT, or sensible on a RGB PPU, but a few (like the &quot;overscan&quot; test) would be nice to have data from.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3512"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p179209"></a>
				<b class="postauthor">thefox</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p179209">Re: NES version of Balloon Fight resets on a VS red tent, wh</a></div><div style="float: right;"><a href="./viewtopic.php?p=179209#p179209"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Sep 08, 2016 9:44 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=80.png" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Jan 03, 2005 10:36 am<br /><b>Posts:</b> 3141<br /><b>Location:</b> Tampere, Finland
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">lidnariq wrote:</div><div class="quotecontent">Well, thefox wrote <a href="http://forums.nesdev.com/viewtopic.php?p=98169#p98169" class="postlink">this test</a> that detects the not-missing PPU pixel on the 2C03. I guess it would be nice to verify the same is true on the 2C04... except that it's no longer accessible <img src="./images/smilies/icon_sad.gif" alt=":(" title="Sad" /></div><br />I can rehost the test, but I guess it would be better if somebody rewrote it altogether to be more robust and to provide a non-boolean result. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /> I guess it might work best if it tracked the number of VBLs with NMI during the delay loop, and also measured the time to the last VBL after the delay loop exits.<br /><br />(Or maybe that nocash test that he posted further down is sufficient, I'm not exactly sure what it's measuring.)</div>

					
						<div class="postbody"><br />_________________<br /><span style="font-size: 85%; line-height: normal">Download STREEMERZ for NES from <a href="http://www.fauxgame.com" class="postlink">fauxgame.com</a>! â€” Some other stuff I've done: <a href="https://fo.aspekt.fi/" class="postlink">fo.aspekt.fi</a></span></div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=80"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table width="100%" cellspacing="1" class="tablebg">
	<tr align="center">
		<td class="cat"><form name="viewtopic" method="post" action="./viewtopic.php?f=2&amp;t=14792"><span class="gensmall">Display posts from previous:</span> <select name="st" id="st"><option value="0" selected="selected">All posts</option><option value="1">1 day</option><option value="7">7 days</option><option value="14">2 weeks</option><option value="30">1 month</option><option value="90">3 months</option><option value="180">6 months</option><option value="365">1 year</option></select>&nbsp;<span class="gensmall">Sort by</span> <select name="sk" id="sk"><option value="a">Author</option><option value="t" selected="selected">Post time</option><option value="s">Subject</option></select> <select name="sd" id="sd"><option value="a" selected="selected">Ascending</option><option value="d">Descending</option></select>&nbsp;<input class="btnlite" type="submit" value="Go" name="sort" /></form></td>
	</tr>
	</table>
	

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=2"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=2&amp;t=14792"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>1</strong> of <strong>4</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 52 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"><b><a href="#" onclick="jumpto(); return false;" title="Click to jump to pageâ€¦">Go to page</a> <strong>1</strong><span class="page-sep">, </span><a href="./viewtopic.php?f=2&amp;t=14792&amp;start=15">2</a><span class="page-sep">, </span><a href="./viewtopic.php?f=2&amp;t=14792&amp;start=30">3</a><span class="page-sep">, </span><a href="./viewtopic.php?f=2&amp;t=14792&amp;start=45">4</a> &nbsp;<a href="./viewtopic.php?f=2&amp;t=14792&amp;start=15">Next</a></b></td>
		
	</tr>
	</table>

</div>

<div id="pagefooter"></div>

<br clear="all" />
<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=24">NES / Famicom</a> &#187; <a href="./viewforum.php?f=2">NESdev</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>
	<br clear="all" />

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat"><h4>Who is online</h4></td>
	</tr>
	<tr>
		<td class="row1"><p class="gensmall">Users browsing this forum: <span style="color: #9E8DA7;" class="username-coloured">Google Adsense [Bot]</span> and 5 guests</p></td>
	</tr>
	</table>


<br clear="all" />

<table width="100%" cellspacing="1">
<tr>
	<td width="40%" valign="top" nowrap="nowrap" align="left"></td>
	<td align="right" valign="top" nowrap="nowrap"><span class="gensmall">You <strong>cannot</strong> post new topics in this forum<br />You <strong>cannot</strong> reply to topics in this forum<br />You <strong>cannot</strong> edit your posts in this forum<br />You <strong>cannot</strong> delete your posts in this forum<br />You <strong>cannot</strong> post attachments in this forum<br /></span></td>
</tr>
</table>

<br clear="all" />

<table width="100%" cellspacing="0">
<tr>
	<td><form method="get" name="search" action="./search.php"><span class="gensmall">Search for:</span> <input class="post" type="text" name="keywords" size="20" /> <input class="btnlite" type="submit" value="Go" /><input type="hidden" name="t" value="14792" />
<input type="hidden" name="sf" value="msgonly" />
</form></td>
	<td align="right">
	<form method="post" name="jumpbox" action="./viewforum.php" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	<table cellspacing="0" cellpadding="0" border="0">
	<tr>
		<td nowrap="nowrap"><span class="gensmall">Jump to:</span>&nbsp;<select name="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">

		
			<option value="-1">Select a forum</option>
		<option value="-1">------------------</option>
			<option value="24">NES / Famicom</option>
		
			<option value="2" selected="selected">&nbsp; &nbsp;NESdev</option>
		
			<option value="3">&nbsp; &nbsp;NESemdev</option>
		
			<option value="21">&nbsp; &nbsp;NES Graphics</option>
		
			<option value="6">&nbsp; &nbsp;NES Music</option>
		
			<option value="22">&nbsp; &nbsp;Homebrew Projects</option>
		
			<option value="34">&nbsp; &nbsp;&nbsp; &nbsp;2018 NESdev Competition</option>
		
			<option value="33">&nbsp; &nbsp;&nbsp; &nbsp;2017 NESdev Competition</option>
		
			<option value="32">&nbsp; &nbsp;&nbsp; &nbsp;2016 NESdev Competition</option>
		
			<option value="31">&nbsp; &nbsp;&nbsp; &nbsp;2014 NESdev Competition</option>
		
			<option value="30">&nbsp; &nbsp;&nbsp; &nbsp;2011 NESdev Competition</option>
		
			<option value="10">&nbsp; &nbsp;Newbie Help Center</option>
		
			<option value="9">&nbsp; &nbsp;NES Hardware and Flash Equipment</option>
		
			<option value="28">&nbsp; &nbsp;&nbsp; &nbsp;Reproduction</option>
		
			<option value="19">&nbsp; &nbsp;NESdev International</option>
		
			<option value="11">&nbsp; &nbsp;&nbsp; &nbsp;FCdev</option>
		
			<option value="18">&nbsp; &nbsp;&nbsp; &nbsp;NESdev China</option>
		
			<option value="27">&nbsp; &nbsp;&nbsp; &nbsp;NESdev Middle East</option>
		
			<option value="25">Other</option>
		
			<option value="5">&nbsp; &nbsp;General Stuff</option>
		
			<option value="4">&nbsp; &nbsp;Membler Industries</option>
		
			<option value="23">&nbsp; &nbsp;Other Retro Dev</option>
		
			<option value="12">&nbsp; &nbsp;&nbsp; &nbsp;SNESdev</option>
		
			<option value="20">&nbsp; &nbsp;&nbsp; &nbsp;GBDev</option>
		
			<option value="15">&nbsp; &nbsp;Test Forum</option>
		
			<option value="26">Site Issues</option>
		
			<option value="13">&nbsp; &nbsp;phpBB Issues</option>
		
			<option value="14">&nbsp; &nbsp;Web Issues</option>
		
			<option value="16">&nbsp; &nbsp;nesdevWiki</option>
		

		</select>&nbsp;<input class="btnlite" type="submit" value="Go" /></td>
	</tr>
	</table>

	</form>
</td>
</tr>
</table>


</div>


<div id="wrapfooter">
	
	<span class="copyright">Powered by <a href="http://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Group
	</span>
</div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-61452025-2', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>