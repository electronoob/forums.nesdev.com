<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - PowerPak save state mappers</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">PowerPak save state mappers</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=9&amp;t=6024">http://forums.nesdev.com/viewtopic.php?f=9&amp;t=6024</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>2</strong> of <strong>5</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>bucky o'hare</b> [ Tue Apr 13, 2010 11:16 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I haven't gotten to try this yet, but it sounds awesome and thanks very much in advance!  <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /> 
<br />
<br />Just a thought - NTRQ requires button commands that involve holding down select, and it'd sure be a pain to have to swap the save state mapper on and off the CF card each time you wanted to play a game or use NTRQ. There are also some games with soundtests that require holding down select. Possibly some games that require a select + a /b command for gameplay as well.
<br />
<br />Would it make more sense to move such a save / load command over to the 2nd controller port to reduce the likelihood of such an issue?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Tue Apr 13, 2010 12:22 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">bucky o'hare wrote:</div><div class="quotecontent">I haven't gotten to try this yet, but it sounds awesome and thanks very much in advance!  <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /> <br /><br />Just a thought - NTRQ requires button commands that involve holding down select, and it'd sure be a pain to have to swap the save state mapper on and off the CF card each time you wanted to play a game or use NTRQ. There are also some games with soundtests that require holding down select. Possibly some games that require a select + a /b command for gameplay as well.<br /><br />Would it make more sense to move such a save / load command over to the 2nd controller port to reduce the likelihood of such an issue?</div>
<br />Yeah I've been thinking about this. I might make the keycombo configurable.
<br />
<br />Can't really move it to 2nd controller though because not all games read the 2nd controller and it's required for this method to work.
<br />
<br />I've been pretty busy lately with other stuff but I'll try to release the rest of the mappers (AxROM, MMC1, etc) ASAP. Thanks to loopy+bunnyboy I should be able to add MMC3 support too.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>bucky o'hare</b> [ Tue Apr 13, 2010 12:44 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Ah, gotcha! Well for the time being it sounds like you've picked the best keycombo possible.
<br />
<br />edit:
<br />Would it be possible to make it so that maybe it works from both controller ports? That way if the game doesn't read the 2nd controller, you can still just use the first, but if it can, have it work on the 2nd as well as a back up / just-in-case sort of thing...

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Tue Apr 13, 2010 3:09 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">bucky o'hare wrote:</div><div class="quotecontent">Ah, gotcha! Well for the time being it sounds like you've picked the best keycombo possible.<br /><br />edit:<br />Would it be possible to make it so that maybe it works from both controller ports? That way if the game doesn't read the 2nd controller, you can still just use the first, but if it can, have it work on the 2nd as well as a back up / just-in-case sort of thing...</div>
<br />Yeah that would work. And it'd also allow player 2 to save in multi player games. But as said I'll probably make this stuff configurable.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Fri Jul 16, 2010 8:20 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">thefox wrote:</div><div class="quotecontent"><div class="quotetitle">ccovell wrote:</div><div class="quotecontent">Hey, I just tried out these mappers on my Famicom (Titler) and although the game saving/restarting works great, the palettes get all screwed up on restarting.  Also, 3rd-party controllers are unusable.  Has anyone else had palette glitching with these mappers?</div><br />Hmm that's strange, I've never had any problems with palette. I've seen some other problems, like the status bar doesn't work right in Castlevania for a brief moment after loading and sometimes CHR-RAM wouldn't load correctly in Darkwing Duck. Also in Dragon's Lair sprites would get corrupted. I haven't looked further in to these problems yet.</div>
<br />Hmm could it be that reading the palette doesn't work at all in Famicoms? I think blargg said somewhere that OAM reading through $2003/$2004 doesn't work so maybe it's the same for palette. If this is the case I would need to catch all $2006/$2007 writes to keep track of palette state.
<br />
<br />Still haven't found the time to put together a release of the other mappers... sorry everybody. My PowerPak is currently not working and I need to fix it before I can do anything about this.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Sun Oct 24, 2010 2:52 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I finally found the willpower to do something about this again. So the following mappers (seemingly) work now: NROM, CNROM, UxROM, AxROM, MMC1, MMC3. I'll put together a beta release soon.
<br />
<br />MMC1 and MMC3 are still missing some features, like WRAM protection, but it's not a big deal for most games. I'll also move the save state data to the upper 16K of the 32K total so games can use the lower bank without interference.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Live_Steam_Mad</b> [ Fri Oct 29, 2010 4:06 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Hi, has anyone tried using this new save states feature on an RGB modded NES using this NES Powerpak (I assume that we are talking about the NES version Powerpak here) ? 
<br />
<br />An RGB modded NES uses the RP2C03B PPU which is in a socket in the PCB of the Playchoice 10 arcade board from Nintendo. Or an RC2C03x from Vs. Tennis or Vs. Duck Hunt chip set.
<br />
<br />The Famicom titler uses the RC2C05-99 PPU.
<br />
<br />The NTSC NES uses RP2C02x, the PAL NES uses the RP2C07x. These two are composite only PPU's.
<br />
<br />The RGB palette is different from the composite palette, which may explain the palette corruption?
<br />
<br />Appologies if I can't spell palet...
<br />
<br />I have the PC10 PPU and the USA NES is in the mail (I am in England) so I will be doing the conversion shortly as quite a few others have done ;-
<br />
<br /><a href="http://nfggames.com/forum2/index.php?topic=1592.0" class="postlink">http://nfggames.com/forum2/index.php?topic=1592.0</a>
<br />
<br />Cheers,
<br />
<br />Alistair G.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Fri Oct 29, 2010 4:13 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Live_Steam_Mad wrote:</div><div class="quotecontent">The RGB palette is different from the composite palette, which may explain the palette corruption?</div>
<br />Nope, that doesn't explain it. The palette is read from PPU just like they game wrote it there. So it doesn't matter what order the palette is in. And as I understand it, the differences between the normal and RGB palette are pretty minor.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Live_Steam_Mad</b> [ Sun Nov 07, 2010 2:04 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Has TSROM been implemented yet? As then Super Mario Bros 2 and Super Mario Bros 3 would work. So far I assume that Super Mario Bros 1 works since you have implemented NROM. 
<br />
<br />How about SNROM (Legend of Zelda 1) ?
<br />
<br />Cheers,
<br />
<br />Alistair G.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>3gengames</b> [ Sun Nov 07, 2010 2:30 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Well it probably works as there's 95% compatibility or something like that.  And MMC3 works okay (Not 100% yet I guess) but well enough to run most games so yes it's probably implemented. Pretty much every iconic game is.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Live_Steam_Mad</b> [ Sun Nov 07, 2010 2:53 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Sounds encouraging! 
<br />
<br />Can some kind soul please tell me if they have actually tested saving state in SMB1, SMB2, and SMB3 and Zelda 1, on the NES Powerpak ?
<br />
<br />Cheers,
<br />
<br />Alistair G.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>3gengames</b> [ Sun Nov 07, 2010 2:56 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />If it didn't run all those games, I'd be suprised, since those are the games most played I guess.
<br />
<br />
<br />SOOOOO....
<br />
<br />Here's a list of incompatibles: <!-- m --><a class="postlink" href="http://www.nintendoage.com/forum/messageview.cfm?catid=5&amp;threadid=28507">http://www.nintendoage.com/forum/messag ... adid=28507</a><!-- m -->

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Live_Steam_Mad</b> [ Sun Nov 07, 2010 3:22 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Err I think we have our wires crossed 65024U, I do not mean what games work on the NES Powerpak.
<br />
<br />Instead I meant what games have SAVE STATE working on the NES Powerpak due to thefox (a Tamiya fan?! LOL) implementing their mappers.
<br />
<br />I do not mean what games work that have a save feature in them already (like Zelda).
<br />
<br />I meant that in order to enable save states on games that DO NOT have native support for save games normally, the game mapper for that game has to be individually implemented starting from scratch, which is what thefox is doing.
<br />
<br />Otherwise I would have to buy a Game Action Replay for NES... and I'd rather just use the Powerpak and have save states working for most games.
<br />
<br />Saved States is NOT an advertised feature of the NES Powerpak and is not supported by the NES Powerpak out of the box without this "mod".
<br />
<br />At least that's my understanding so far.
<br />
<br />BTW I have now got the RGB PPU and both types (precision and normal) of sockets for the RGB mod to my USA NES, next up is getting a desoldering iron to remove the composite PPU. Can't wait to see RGB on it via RGB to VGA converter on a nice crisp 20" monitor and use the Powerpak and have a ton of games on it and be able to use the original hardware and original controllers. So cool.
<br />
<br />Cheers,
<br />
<br />Alistair G.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>3gengames</b> [ Sun Nov 07, 2010 5:11 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Playchoice down!  <img src="./images/smilies/icon_sad.gif" alt=":(" title="Sad" /> 
<br />
<br />
<br />But anyway, I don't know what the compatibility of save states is.....-waits for answer- Sorry I misunderstood the question.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Sun Nov 07, 2010 5:17 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Live_Steam_Mad wrote:</div><div class="quotecontent">Has TSROM been implemented yet? As then Super Mario Bros 2 and Super Mario Bros 3 would work. So far I assume that Super Mario Bros 1 works since you have implemented NROM. <br /><br />How about SNROM (Legend of Zelda 1) ?</div><br />Yes, MMC3 and MMC1 are both implemented currently.<br /><br /><div class="quotetitle">Live_Steam_Mad wrote:</div><div class="quotecontent">Can some kind soul please tell me if they have actually tested saving state in SMB1, SMB2, and SMB3 and Zelda 1, on the NES Powerpak ?</div>
<br />Yes, I have and they work. But haven't released the missing mappers yet, so only SMB1 works with the released mappers. I will release a beta of the rest of the mappers probably next week.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>2</strong> of <strong>5</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>