<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - NESDEV1 Community Development Board, Initial Planning</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">NESDEV1 Community Development Board, Initial Planning</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=9&amp;t=7656">http://forums.nesdev.com/viewtopic.php?f=9&amp;t=7656</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>7</strong> of <strong>14</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>qbradq</b> [ Wed Apr 27, 2011 4:35 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I mean it is using 20% more now <img src="./images/smilies/icon_redface.gif" alt=":oops:" title="Embarassed" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>3gengames</b> [ Wed Apr 27, 2011 6:15 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Wow, so much for optimization!  <img src="./images/smilies/icon_rolleyes.gif" alt=":roll:" title="Rolling Eyes" />  <img src="./images/smilies/icon_redface.gif" alt=":oops:" title="Embarassed" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Banshaku</b> [ Thu Apr 28, 2011 6:47 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />@qbradq:
<br />
<br />Since I love sarcasm (and I hope you won't take it the wrong way) and just want to tease you a little bit:
<br />
<br />"Welcome to nesdev! Were we talk more about our projects than actually doing them."
<br />
<br />After reading that thread I see that we are debating again on the subject instead of really moving forward. In the last 3 years I have seen that numerous time (collaborative fighting game anyone?) and nothing move  usually die, period.
<br />
<br />My advice would be that before talking more about it you should figure out what you really want to do and in the limit of your own knowledge. From what I read, you may not even know how to design it properly so are you sure that you can attain your goal?
<br />
<br />Many people (myself included I guess) I set the bar too high for many projects and they don't go forward. The only thing that happened is talks, and talks, and talks etc.  This thread seems to be going that way.  It's not the first time we have a talk about the subject.
<br />
<br />I hope you won't take my criticism (if that's the proper way to say in english) too hard and maybe actually it would help you see what can you achieve and the moment and if it's worth going forward. The initial idea already went from an FM7 something to another sunsoft board so who say that it may not change again?  
<br />
<br />If the board change again then I guess this thread will lose credibility with time. This is what I'm afraid could happen.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Fri Apr 29, 2011 1:39 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"> If the board change again then I guess this thread will lose credibility with time. This is what I'm afraid could happen.</div>
<br />For me this credibility was lost when the autor claimed to do something that is 100% compatible with existing emulators, but allows for 512k PRG-RAM and 2048k PRG-ROM.
<br />
<br />I mean both the "super powerful new mapper" and the "compatible with existing stuff" mapper would be vaild and honorable routes. Something in-between, probably not.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>3gengames</b> [ Fri Apr 29, 2011 4:27 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent"><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"> If the board change again then I guess this thread will lose credibility with time. This is what I'm afraid could happen.</div><br />For me this credibility was lost when the autor claimed to do something that is 100% compatible with existing emulators, but allows for 512k PRG-RAM and 2048k PRG-ROM.<br /><br />I mean both the "super powerful new mapper" and the "compatible with existing stuff" mapper would be vaild and honorable routes. Something in-between, probably not.</div>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>qbradq</b> [ Fri Apr 29, 2011 5:31 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I have learned a lot with this project. I have learned that:
<br />
<br />1. Emulator implementations of iNES mapper descriptions vary quite a bit
<br />2. Verilog is easy
<br />3. Efficient Verilog and hardware fitting is hard
<br />4. The current technical requirements I have stated are outside of my range
<br />5. No community help is forthcoming at this time
<br />
<br />Given the above this project is dead. Not a suprise, I know <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" />
<br />
<br />I still think my objective, to provide an easy entrance to hardware testing on NES and clones, is a sound one. I will continue to pursue this goal with my MMC1 development board tutorial on the wiki. I've just got to get that danged Willem programmer figured out.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>socram8888</b> [ Sat Apr 30, 2011 1:07 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I don't know why do you want to use a very complex mapper. This is a NES, not a Nintendo 64. NES programmers didn't have these complex mappers; they had to exploit NES features to the limit.
<br />
<br />Personally, I think you should go for a simple mapper using CHR-RAM and 74xx chips for mapping and IRQing, because they're very cheap and they're available everywhere
<br />
<br />You can do this using:
<br />An octal latch to store bank number (eg. 74HC373)
<br />Two 8-bit presettable counters for the IRQ, and a D latch and AND gates if you want to be able to disable it (eg. 74F269)
<br />Some NAND/NOR gates to prevent bus conflicts and map IRQ and bank select on the bus (eg. 74HC00, 74HC02...)
<br />
<br />Or even better: the 6502 needs ~4 clocks for each command, and a PIC needs only 1 clock for each instruction. I'm pretty sure it's possible to use a PIC or an AVR to do these stuff without having to use expensives CPLDs or FPGAs

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Sat Apr 30, 2011 1:14 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />But how much would your proposal cost for parts, soldering, and PCB space?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>3gengames</b> [ Sat Apr 30, 2011 1:20 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />And pics you can clock to what, 40MHz? If you could get that on a NES board [A pic clocked fast enough to process writes] I think that'd be the way to go now that you say that.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>socram8888</b> [ Sat Apr 30, 2011 1:29 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The problem is the IRQ counter: I've found some chips but none is available on Digikey (also, they're marked as "discontinued")  <img src="./images/smilies/icon_sad.gif" alt=":(" title="Sad" />
<br />
<br />Also I've found a problem with the PIC: there is no SYS_CLK on the cart edge (damn Nintendo, why didn't they put this signal there?). Anyway, there's still a 4MHz on the NES from the CIC
<br />
<br />This was just an idea. Maybe going for the initial PAL/GAL/CPLD idea is a better way...

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Sat Apr 30, 2011 1:35 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Yes there is a clock signal, it's called M2.
<br />The CIC lines aren't reliable as they doesn't exist on toploaders nor famicoms.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>socram8888</b> [ Sat Apr 30, 2011 1:47 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">3gengames wrote:</div><div class="quotecontent">And pics you can clock to what, 40MHz? If you could get that on a NES board [A pic clocked fast enough to process writes] I think that'd be the way to go now that you say that.</div>
<br />A 8-bit PIC can go as fast as 80MHz, so there's no problem
<br />
<br />Here's a list with many powerful 8-bit with many I/O pins: <!-- m --><a class="postlink" href="http://www.microchip.com/ParamChartSearch/chart.aspx?branchID=1002&amp;mid=10&amp;lang=en&amp;pageId=74">http://www.microchip.com/ParamChartSear ... &amp;pageId=74</a><!-- m -->

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>3gengames</b> [ Sat Apr 30, 2011 1:57 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">socram8888 wrote:</div><div class="quotecontent"><div class="quotetitle">3gengames wrote:</div><div class="quotecontent">And pics you can clock to what, 40MHz? If you could get that on a NES board [A pic clocked fast enough to process writes] I think that'd be the way to go now that you say that.</div><br />A 8-bit PIC can go as fast as 80MHz, so there's no problem</div>
<br />
<br />Woah, crazy. Should be enough time to calculate everything in between NES clocks. Has anyone ever done this with a PIC? Could you tie the NES's clock to the PIC and get everything down in the PIC within 1 NES clock? If so, this might be crazy enough to work....

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>socram8888</b> [ Sat Apr 30, 2011 2:19 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />There are many 8-bit PICs in the mid-range (less than 5$ in Digikey for a single piece) that has ~20 I/O pins and can work as fast as 32MHz using its internall oscillator (no need for an additional external oscillator)
<br />
<br />Syncronizing the PIC with the NES is as easy as wait the M2 to go up, then do whatever do you need
<br />
<br />These PICs also have internal EEPROM. Just some bytes, but enough to store a game savestate or the configuration for an application
<br />
<br />Others have many useful features like a USART (for debugging, for example), a SPI interface (you can interface a SD card with this!), many individual timers (like IRQs), ...

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>qbradq</b> [ Sat Apr 30, 2011 3:23 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I didn't know PICs had single-cycle opperations. AVR's do, and they are dirt cheap.
<br />
<br />My first thought was to use an AVR for the mapper, but even at 20 MHZ using only single-cycle opperations there in barelly enough time to implement UNROM.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>7</strong> of <strong>14</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>