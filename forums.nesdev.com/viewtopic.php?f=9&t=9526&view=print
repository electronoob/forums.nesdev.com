<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Problem with Akumajo Densetsu eproms on real cart</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Problem with Akumajo Densetsu eproms on real cart</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=9&amp;t=9526">http://forums.nesdev.com/viewtopic.php?f=9&amp;t=9526</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>keropi</b> [ Tue Nov 27, 2012 12:02 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Problem with Akumajo Densetsu eproms on real cart</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Hello!<br /><br />I have decided to put the English translation of Akumajo Densetsu on my real cart and I followed the tutorial <a href="http://www.callanbrown.com/index.php?option=com_content&amp;view=article&amp;id=74:castlevania-iii-with-full-famicom-sound&amp;catid=36:home-console-projects&amp;Itemid=62" class="postlink">here</a> .<br /><br />I had no problems removing the old mask roms and soldering the new eproms.<br />I have triple-verified the 2 eproms: AMD 27C010 -120DC and TMS JL 27C020-15<br /><br />The problem I have is that after an initial ~30mins gameplay the screen just went black. Reseting did not help , I had to remove the cartridge and insert it after a while. Then it booted again for ~10 seconds then it went to black screen again... the longer you leave it outside the longer you might use it , a classic symptom I guess.<br />Nothing burned and the famicom works fine. And the cart works for a while provided you leave it alone...<br />I have no idea why this happens, could it be that my eproms are crap? Already made a Gargoyle's Quest II translation cart with the 27C010 eproms, it runs perfect (used this tutorial <a href="http://www.callanbrown.com/index.php?option=com_content&amp;view=article&amp;id=62&amp;Itemid=69" class="postlink">here</a> )<br /><br />Here are some pics of my work on the cart, there are no burned traces or anything suspicious  <img src="./images/smilies/icon_neutral.gif" alt=":|" title="Neutral" /> <br /><br /><img src="http://i125.photobucket.com/albums/p55/restqp/famicom%20eprom%20translations/IMG01177-20121127-1051.jpg" alt="Image" /><br /><br />mask roms removed: <br /><img src="http://i125.photobucket.com/albums/p55/restqp/famicom%20eprom%20translations/IMG01182-20121127-1353.jpg" alt="Image" /><br /><br />eprom work:<br /><img src="http://i125.photobucket.com/albums/p55/restqp/famicom%20eprom%20translations/IMG01184-20121127-1508.jpg" alt="Image" /><br /><br /><img src="http://i125.photobucket.com/albums/p55/restqp/famicom%20eprom%20translations/IMG01185-20121127-1508.jpg" alt="Image" /><br /><br /><img src="http://i125.photobucket.com/albums/p55/restqp/famicom%20eprom%20translations/IMG01188-20121127-1537.jpg" alt="Image" /><br /><br />and the back with the eproms soldered:<br /><img src="http://i125.photobucket.com/albums/p55/restqp/famicom%20eprom%20translations/IMG01189-20121127-1538.jpg" alt="Image" /><br /><br />and here it is working for the little time it does:<br /><a href="http://s125.photobucket.com/albums/p55/restqp/famicom%20eprom%20translations/?action=view&amp;current=IMG01195-20121127-1545.jpg" class="postlink"><img src="http://i125.photobucket.com/albums/p55/restqp/famicom%20eprom%20translations/th_IMG01195-20121127-1545.jpg" alt="Image" /></a>  <a href="http://s125.photobucket.com/albums/p55/restqp/famicom%20eprom%20translations/?action=view&amp;current=IMG01192-20121127-1544.jpg" class="postlink"><img src="http://i125.photobucket.com/albums/p55/restqp/famicom%20eprom%20translations/th_IMG01192-20121127-1544.jpg" alt="Image" /></a><br /><br />Any ideas of what to check? Any help is welcome, thanks in advance!  <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>drk421</b> [ Tue Nov 27, 2012 12:16 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Problem with Akumajo Densetsu eproms on real cart</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Are any of the pins left floating? (not connected to anything)<br />That can cause problems. If they're floating, tie them to +5V or GND based on what your EPROM spec sheet tells you. (Usually PGM is tied to +5V).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>keropi</b> [ Tue Nov 27, 2012 12:23 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Problem with Akumajo Densetsu eproms on real cart</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">drk421 wrote:</div><div class="quotecontent">Are any of the pins left floating? (not connected to anything)<br />That can cause problems. If they're floating, tie them to +5V or GND based on what your EPROM spec sheet tells you. (Usually PGM is tied to +5V).</div><br /><br />There is one floating pin on the 27C010 , pin1 that according to the <a href="http://www.datasheetarchive.com/dataframe.php?file=DSA-5308.pdf&amp;dir=Datasheets-1&amp;part=Am27C010#" class="postlink">datasheet</a> is &quot;VPP = Program Voltage Input&quot; , everything else is connected...<br /><br />The guide also tells to connect pins 30+31+32 together as to get Vcc to pin32 (there are no holes on the pcb for pins 1,2 and 31,32) <br />So pin 30 that is N/C to the datasheet actually gets power and via connection pin32 gets power too. But pin31 is &quot;Program Enable Input&quot; and gets the same 5v... could that be the problem on the specific eprom I am using and after some time the eprom goes to write mode or something?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>drk421</b> [ Tue Nov 27, 2012 12:42 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Problem with Akumajo Densetsu eproms on real cart</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">keropi wrote:</div><div class="quotecontent"><div class="quotetitle">drk421 wrote:</div><div class="quotecontent">Are any of the pins left floating? (not connected to anything)<br />That can cause problems. If they're floating, tie them to +5V or GND based on what your EPROM spec sheet tells you. (Usually PGM is tied to +5V).</div><br /><br />There is one floating pin on the 27C010 , pin1 that according to the <a href="http://www.datasheetarchive.com/dataframe.php?file=DSA-5308.pdf&amp;dir=Datasheets-1&amp;part=Am27C010#" class="postlink">datasheet</a> is &quot;VPP = Program Voltage Input&quot; , everything else is connected...<br /><br />The guide also tells to connect pins 30+31+32 together as to get Vcc to pin32 (there are no holes on the pcb for pins 1,2 and 31,32) <br />So pin 30 that is N/C to the datasheet actually gets power and via connection pin32 gets power too. But pin31 is &quot;Program Enable Input&quot; and gets the same 5v... could that be the problem on the specific eprom I am using and after some time the eprom goes to write mode or something?</div><br /><br />You should tie all pins that &quot;don't care&quot; (like pin 1) to +5V or GND, but don't leave them floating.<br />See if that fixes your lockups.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>keropi</b> [ Tue Nov 27, 2012 12:48 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Problem with Akumajo Densetsu eproms on real cart</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I'll try it, what's the suggestion for pin1? GND?<br />TIA!

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>infiniteneslives</b> [ Tue Nov 27, 2012 9:57 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Problem with Akumajo Densetsu eproms on real cart</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Some EPROMs (namely Texas inst) *REQUIRE* pin 1 (Vpp) to be tied to Vcc for reading.  I'd just tie it to Vcc reguardless, but the real answer is hidden in the truth table of the datasheet of your EPROMs.<br /><br />One other thing I've seen that I'm not quite sure actually happened or not to me recently is early on 'bit rot' of EPROMs.  Not sure if it had something to do with them being freshly erased or what.  But I'm pretty sure I've properly programmed EPROMs before including the verify step, but then ~30 mins later I try to verify it was programmed properly and there is a bad bit in the EPROM.  Obviously I can't be sure as to what your problem is but if you've exhausted all ideas and don't have a means to dump the cart you can remove the PRG EPROM and try again.  Don't bother with the CHR ROM, it can't really cause a problem like this, it'd only show up as visual 'glitches' if there was a CHR issue.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>keropi</b> [ Wed Nov 28, 2012 2:06 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Problem with Akumajo Densetsu eproms on real cart</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Well I have checked the soldered TMS27C020 eprom: Vpp + PGM + Vcc are all connected to the +5v line <br />I have found the <a href="http://pdf1.alldatasheet.com/datasheet-pdf/view/116027/TI/TMS27C020-15JL.html" class="postlink">datasheet</a> and the way they are connected atm seems fine to me:<br /><br /><img src="http://i45.tinypic.com/2m5gq5i.jpg" alt="Image" /><br /><br />I am all out of ideas atm regarding the 27C020 part...<br /><br />I will try now and remove pin30 of 27C010 and get it out of the equation (maybe it does not like +5v) and connect the floating Vpp pin to VCC, since it's datasheet recommends it (though floating pin1 works just fine on the Gargoyle's Quest eproms... and I've been playing it lots... maybe the KONAMI board is different in that aspect)<br /><br />edit: cross-checked pinouts of the original mask rom and the 27C020 , they match.<br />I also made some work on the 27C010: removed pin 30 that is N/C , and soldered Vcc in all 3 pins: Vcc + PGM + Vpp as per datasheet... it did not improve though...<br />It could be the case that the TI 27C020 is not playing well?<br /><br />edit2: I have replaced the 27C020 with another one (same model/specs) and this time it seems to work fine... I am now at 1.5hrs and the game still runs.<br />I also tested the old eprom on the programmer, it's data is OK. Maybe it's not a good part in regards or access speed , or it just develops errors after some time of usage.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>l_oliveira</b> [ Wed Nov 28, 2012 6:18 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Problem with Akumajo Densetsu eproms on real cart</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Eproms get slightly slower after a erasure/programming cycle.  That's how EPROMS die out.<br /><br />If you're buying them on EBAY from Chinese dealers there's a good chance you're being sold EPROMS that not only are very old but also have gone through several reprogram cycles. Sometimes they get so slow they're not usable for something like the NES/Famicom even.<br /><br />Keep that in mind when working such projects.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>keropi</b> [ Wed Nov 28, 2012 6:30 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Problem with Akumajo Densetsu eproms on real cart</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />yeah l_oliveira , that's what I found out too... I got them from eBay/china, they were advertised as &quot;new&quot; ... here is the <a href="http://www.ebay.com/itm/320987011651?ssPageName=STRK:MEWNX:IT&amp;_trksid=p3984.m1439.l2649" class="postlink">eBay BIN sale</a> ... <br />I am happy at least one works fine, as I only needed one  <img src="./images/smilies/icon_lol.gif" alt=":lol:" title="Laughing" />  thanks to my &quot;ocd&quot; I always get double of what I need, this time it payed out  <img src="./images/smilies/icon_mrgreen.gif" alt=":mrgreen:" title="Mr. Green" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>l_oliveira</b> [ Wed Nov 28, 2012 6:41 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Problem with Akumajo Densetsu eproms on real cart</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Also, I forgot to mention, a good way to achieve more speed from a EPROM is tie down it's /CE pin (chip enable) to GND and use /OE (Output enable) instead to enable reads from it. That way you save the time the chip wastes while going back from/to low power mode.<br /><br />That would probably fix your issue with that particular EPROM chip.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>keropi</b> [ Wed Nov 28, 2012 6:43 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Problem with Akumajo Densetsu eproms on real cart</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">l_oliveira wrote:</div><div class="quotecontent">Also, I forgot to mention, a good way to achieve more speed from a EPROM is tie down it's /CE pin (chip enable) to GND and use /OE (Output enable) instead to enable reads from it. That way you save the time the chip wastes while going back from/to low power mode.<br /><br />That would probably fix your issue with that particular EPROM chip.</div><br /><br />by &quot;use /OE (Output enable) instead&quot; I gather you mean give it Vcc, right?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>l_oliveira</b> [ Wed Nov 28, 2012 6:49 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Problem with Akumajo Densetsu eproms on real cart</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">keropi wrote:</div><div class="quotecontent"><div class="quotetitle">l_oliveira wrote:</div><div class="quotecontent">Also, I forgot to mention, a good way to achieve more speed from a EPROM is tie down it's /CE pin (chip enable) to GND and use /OE (Output enable) instead to enable reads from it. That way you save the time the chip wastes while going back from/to low power mode.<br /><br />That would probably fix your issue with that particular EPROM chip.</div><br /><br />by &quot;use /OE (Output enable) instead&quot; I gather you mean give it Vcc, right?</div><br /><br /><br />No, you take the pin 22 to GND and connect pin 24 to the trace that go to pin 22 to it.  Well you could use the multitester to check if the cartridge isn't already desgined like that. Because the 32 pin ROM has /CE and /OE. The 28 pin ROM has only one enable pin.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>keropi</b> [ Wed Nov 28, 2012 7:04 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Problem with Akumajo Densetsu eproms on real cart</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">l_oliveira wrote:</div><div class="quotecontent">No, you take the pin 22 to GND and connect pin 24 to the trace that go to pin 22 to it.  Well you could use the multitester to check if the cartridge isn't already desgined like that. Because the 32 pin ROM has /CE and /OE. The 28 pin ROM has only one enable pin.</div><br /><br />ah, thanks for that, I got it  <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /> <br /><br />ps.<br />I'm gonna add my OT question at this post, because the earlier one got buried since you answered at the same time as my edit  <img src="./images/smilies/icon_mrgreen.gif" alt=":mrgreen:" title="Mr. Green" /> <br /><em>Is there a reason why everyone is using UV erasable eproms? Aren't Electrically erasable eproms better? or they aren't compatible? I have read on the internets that electrical ones last longer that the uv ones, isn't it a better thing?</em>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>l_oliveira</b> [ Wed Nov 28, 2012 7:09 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Problem with Akumajo Densetsu eproms on real cart</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">keropi wrote:</div><div class="quotecontent"><div class="quotetitle">l_oliveira wrote:</div><div class="quotecontent">No, you take the pin 22 to GND and connect pin 24 to the trace that go to pin 22 to it.  Well you could use the multitester to check if the cartridge isn't already desgined like that. Because the 32 pin ROM has /CE and /OE. The 28 pin ROM has only one enable pin.</div><br /><br />ah, thanks for that, I got it  <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /> <br /><br />ps.<br />I'm gonna add my OT question at this post, because the earlier one got buried since you answered at the same time as my edit  <img src="./images/smilies/icon_mrgreen.gif" alt=":mrgreen:" title="Mr. Green" /> <br /><em>Is there a reason why everyone is using UV erasable eproms? Aren't Electrically erasable eproms better? or they aren't compatible? I have read on the internets that electrical ones last longer that the uv ones, isn't it a better thing?</em></div><br /><br />I do prefer FLASH myself but they're more expensive... Probably because they're easier to deal with.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>keropi</b> [ Wed Nov 28, 2012 7:59 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Problem with Akumajo Densetsu eproms on real cart</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />so I could have just used flash roms for my 2 projects... I'll keep that in mind for the next ones, thanks!  <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>