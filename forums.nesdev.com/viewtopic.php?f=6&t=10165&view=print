<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - FamiTracker 0.3.8 beta</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">FamiTracker 0.3.8 beta</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=6&amp;t=10165">http://forums.nesdev.com/viewtopic.php?f=6&amp;t=10165</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>mikejmoffitt</b> [ Wed Jun 12, 2013 7:54 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>FamiTracker 0.3.8 beta</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Does anyone have the old Beta, the first to add the Namco 163 audio? I'm looking for the version that first had it, before the time-sharing sound was implemented that makes the 163 sound nasty.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dwedit</b> [ Wed Jun 12, 2013 9:08 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: FamiTracker 0.3.8 beta</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />In version 0.4.1 and earlier, you could force N163 to not use the time sharing system by a registry tweak:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&#91;HKEY_CURRENT_USER\Software\FamiTracker\Emulation&#93;<br />&quot;Linear Namco mixing&quot;=dword:00000001</div><br /><br />We all know that the real hardware sounds just as bad as the time sharing system, but using 6 or fewer channels is a good compromise.  Except people keep making all these epic songs with too many channels, so they sound crappy.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>mikejmoffitt</b> [ Wed Jun 12, 2013 9:38 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: FamiTracker 0.3.8 beta</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Dwedit wrote:</div><div class="quotecontent">In version 0.4.1 and earlier, you could force N163 to not use the time sharing system by a registry tweak:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&#91;HKEY_CURRENT_USER\Software\FamiTracker\Emulation&#93;<br />&quot;Linear Namco mixing&quot;=dword:00000001</div><br /><br />We all know that the real hardware sounds just as bad as the time sharing system, but using 6 or fewer channels is a good compromise.  Except people keep making all these epic songs with too many channels, so they sound crappy.</div><br />Ah, neat. Thanks, that'll do the trick just fine.<br /><br />I already made all my tracks with 4 or less channels, but it still does not sound very good. I will see if this sounds much better using 0.4.1.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>CKY-2K/Clay Man</b> [ Sun Jun 16, 2013 2:10 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: FamiTracker 0.3.8 beta</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />That's what causes the nasty sounding harmonics in a &gt;6 channel setting?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dwedit</b> [ Sun Jun 16, 2013 9:53 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: FamiTracker 0.3.8 beta</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />What causes the nasty sound is the way they did the mixing.  Instead of adding the volume levels together, it just plays the volume level of each channel in a sequence.  This is not all that unusual to do, even the SNES does that as well, but you need to do it really fast so that the artifacts are outside of the range of human hearing.  The Namco chip doesn't do it fast enough when it's using 7 or 8 channels, but does when it's using fewer channels.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Sun Jun 16, 2013 10:35 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: FamiTracker 0.3.8 beta</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />You mean the SNES is &quot;multiplexing&quot; the outpout of every of the 8 channels in time, and that filtering of the output makes the average of it ? Interesting.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Sun Jun 16, 2013 10:45 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: FamiTracker 0.3.8 beta</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I don't think the Super NES does it because if it were true, mixing more than one sound into the echo buffer would fail, and I don't know how the <a href="http://www.alpha-ii.com/Info/snes-spdif.html" class="postlink">S/PDIF mod</a> would work. But based on how I remember the description of the Ensoniq DOC in the Apple IIGS Hardware Reference, it appears the DOC uses the N163 style multiplexer method. (Incidentally, the DOC is where I first learned of the delayed-by-one-byte memory readback that I would later come to learn is used in the NES PPU's VRAM interface.)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Sun Jun 16, 2013 10:50 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: FamiTracker 0.3.8 beta</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />To give a few more details: The N163 always produces audio at 120kHz. Always. But it's only a 4 bit Ã— 4 bit multiplying DAC, not enough to play more than one channel with volume control at a time. So it rotates amongst the enabled channels.<br /><br />At 1-4 channels, this time-division multiplexing is assuredly ultrasonic to all humans of all ages regardless of anything else. But 5-8 channels will produce switching noise at 24kHz (audible to very young children), 20kHz (audible to teenagers), 17kHz (audible to people who haven't been damaging their hearing with loud music), and 15kHz (audible to many). Due to the vagaries of how this works, it effectively modulates the intended audio content at the switching noise frequency, so a 1kHz sine wave used in a 8 channel context will produce sine waves at 1, 14, and 16 kHz.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>ionustron</b> [ Sat Jun 22, 2013 8:45 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: FamiTracker 0.3.8 beta</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />As someone who does not understand the hardware or assembly side of things (yea I know,) thank you for putting that into easier terms.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>mikejmoffitt</b> [ Mon Jul 08, 2013 10:14 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: FamiTracker 0.3.8 beta</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Having poked around the latest Famitracker source, it appears the control variable for switching on and off the time-share mixing is still in place. When I am home and have time to fight with it, I can see about changing it and compiling it.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>