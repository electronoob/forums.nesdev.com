<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<link rel="icon" href="/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />

<title>nesdev.com &bull; View topic - Game Doctor SF3 - BIOS Exploit</title>

<link rel="alternate" type="application/atom+xml" title="Feed - nesdev.com" href="http://forums.nesdev.com/feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - News" href="http://forums.nesdev.com/feed.php?mode=news" /><link rel="alternate" type="application/atom+xml" title="Feed - All forums" href="http://forums.nesdev.com/feed.php?mode=forums" /><link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="http://forums.nesdev.com/feed.php?mode=topics" /><link rel="alternate" type="application/atom+xml" title="Feed - Active Topics" href="http://forums.nesdev.com/feed.php?mode=topics_active" /><link rel="alternate" type="application/atom+xml" title="Feed - Forum - SNESdev" href="http://forums.nesdev.com/feed.php?f=12" /><link rel="alternate" type="application/atom+xml" title="Feed - Topic - Game Doctor SF3 - BIOS Exploit" href="http://forums.nesdev.com/feed.php?f=12&amp;t=4198" />

<link rel="stylesheet" href="./style.php?id=1&amp;lang=en" type="text/css" />

<script type="text/javascript">
// <![CDATA[


function popup(url, width, height, name)
{
	if (!name)
	{
		name = '_popup';
	}

	window.open(url.replace(/&amp;/g, '&'), name, 'height=' + height + ',resizable=yes,scrollbars=yes,width=' + width);
	return false;
}

function jumpto()
{
	var page = prompt('Enter the page number you wish to go to:', '1');
	var per_page = '';
	var base_url = '';

	if (page !== null && !isNaN(page) && page == Math.floor(page) && page > 0)
	{
		if (base_url.indexOf('?') == -1)
		{
			document.location.href = base_url + '?start=' + ((page - 1) * per_page);
		}
		else
		{
			document.location.href = base_url.replace(/&amp;/g, '&') + '&start=' + ((page - 1) * per_page);
		}
	}
}

/**
* Find a member
*/
function find_username(url)
{
	popup(url, 760, 570, '_usersearch');
	return false;
}

/**
* Mark/unmark checklist
* id = ID of parent container, name = name prefix, state = state [true/false]
*/
function marklist(id, name, state)
{
	var parent = document.getElementById(id);
	if (!parent)
	{
		eval('parent = document.' + id);
	}

	if (!parent)
	{
		return;
	}

	var rb = parent.getElementsByTagName('input');
	
	for (var r = 0; r < rb.length; r++)
	{
		if (rb[r].name.substr(0, name.length) == name)
		{
			rb[r].checked = state;
		}
	}
}



// ]]>
</script>
</head>
<body class="ltr">

<a name="top"></a>

<div id="wrapheader">

	<div id="logodesc">
	</div>

	<div id="menubar">

		<table width="100%" cellspacing="0">
		<tr>
			<td rowspan="2"><a href="./index.php"><img src="./styles/subsilver2/imageset/site_logo.gif" alt="" title="" /></a></td>
			<td width="100%" align="center"><h1>nesdev.com</h1><span class="gen">NES Development and Strangulation Records message boards</span></td>
		</tr>
		<tr>
			<td align="center">
				<a href="./faq.php"><img src="./styles/prosilver/theme/images/icon_mini_faq.gif" width="12" height="13" alt="*" /> FAQ</a>
				&nbsp; &nbsp;<a href="./search.php"><img src="./styles/prosilver/theme/images/icon_mini_search.gif" width="12" height="13" alt="*" /> Search</a>
				<br />	
				 &nbsp;<a href="./ucp.php?mode=register"><img src="./styles/prosilver/theme/images/icon_mini_register.gif" width="12" height="13" alt="*" /> Register</a>
					&nbsp; &nbsp;<a href="./ucp.php?mode=login"><img src="./styles/prosilver/theme/images/icon_mini_login.gif" width="12" height="13" alt="*" /> Login</a>&nbsp;
			</td>
		</tr>
		</table>
	</div>

	<div id="datebar">
		<table width="100%" cellspacing="0">
		<tr>
			<td class="gensmall"></td>
			<td class="gensmall" align="right">It is currently Thu Aug 30, 2012 6:24 pm<br /></td>
		</tr>
		</table>
	</div>

</div>

<div id="wrapcentre">

	
	<p class="searchbar">
		<span style="float: left;"><a href="./search.php?search_id=unanswered">View unanswered posts</a> | <a href="./search.php?search_id=active_topics">View active topics</a></span>
		
	</p>
	

	<br style="clear: both;" />

	<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=25">Other</a> &#187; <a href="./viewforum.php?f=12">SNESdev</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>

	<br />

<div id="pageheader">
	<h2><a class="titles" href="./viewtopic.php?f=12&amp;t=4198">Game Doctor SF3 - BIOS Exploit</a></h2>


	<p class="moderators">Moderator: <a href="./memberlist.php?mode=group&amp;g=320">Moderators</a></p>

</div>

<br clear="all" /><br />

<div id="pagecontent">

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=12"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=12&amp;t=4198"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>1</strong> of <strong>1</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 9 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"></td>
		
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat">
			<table width="100%" cellspacing="0">
			<tr>
				<td class="nav" nowrap="nowrap">&nbsp;
				<a href="./viewtopic.php?f=12&amp;t=4198&amp;view=print" title="Print view">Print view</a>
				</td>
				<td class="nav" align="right" nowrap="nowrap"><a href="./viewtopic.php?f=12&amp;t=4198&amp;view=previous">Previous topic</a> | <a href="./viewtopic.php?f=12&amp;t=4198&amp;view=next">Next topic</a>&nbsp;</td>
			</tr>
			</table>
		</td>
	</tr>

	</table>


	<table class="tablebg" width="100%" cellspacing="1">
	
		<tr>
			<th>Author</th>
			<th>Message</th>
		</tr>
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p34569"></a>
				<b class="postauthor">neviksti</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p34569">Game Doctor SF3 - BIOS Exploit</a></div><div style="float: right;"><a href="./viewtopic.php?p=34569#p34569"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Jul 01, 2008 1:43 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Thu Jun 22, 2006 11:39 pm<br /><b>Posts:</b> 205
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I finally found out how to trick the SF3 into letting a program running on the copier have access to all the copier memory and registers.  The SF7 "super mode" injected code directly by injecting a brk statement, and then switching the memory mapping to "bios mode" temporarily.  Instead the SF3 inserts code at every NMI.
<br />
<br />I tried my trick from before of setting the stack to a carefully chosen invalid location and it didn't work.  Also I read the NMI vector and nothing happenned.  So how does it know when to switch to bios mode?
<br />
<br />Well it is amazingly specific.  It looks to see 4 decreasing accesses to $00:0000-1FFF and <em>then</em> the NMI vector.  Normal code running on the processor can't cause this to happen, only an interrupt.
<br />
<br />However, a carefully chosen sequence of DMA can do it.  Run this code (obviously best done from RAM) and you'll switch to "BIOS" mode.
<br />
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; &nbsp;LDY #$3e90<br />&nbsp; &nbsp;STY $4300&nbsp; &nbsp;&nbsp; &nbsp;; &#40;B&#41; PPU -&gt; &#40;A&#41; CPU, auto decrement, read 1 reg, $213e &#40;ppu status flag&#41;<br />&nbsp; &nbsp;LDY #$1F00<br />&nbsp; &nbsp;STY $4302&nbsp; &nbsp;&nbsp; &nbsp;; &#40;A&#41; offset<br />&nbsp; &nbsp;LDY #$0004<br />&nbsp; &nbsp;STY $4305&nbsp; &nbsp;&nbsp; &nbsp;; number of bytes to transfer<br />&nbsp; &nbsp;LDA #$00<br />&nbsp; &nbsp;STA $4304&nbsp; &nbsp;&nbsp; &nbsp;; bank address = $00<br /><br />&nbsp; &nbsp;LDY #$3e00<br />&nbsp; &nbsp;STY $4310&nbsp; &nbsp;&nbsp; &nbsp;; &#40;A&#41; CPU -&gt; &#40;B&#41; PPU, auto increment, write 1 reg, $213e &#40;ppu status flag&#41;<br />&nbsp; &nbsp;LDY #$FFEA<br />&nbsp; &nbsp;STY $4312&nbsp; &nbsp;&nbsp; &nbsp;; &#40;A&#41; offset &#40;native mode NMI vector&#41;<br />&nbsp; &nbsp;LDY #$0002<br />&nbsp; &nbsp;STY $4315&nbsp; &nbsp;&nbsp; &nbsp;; number of bytes to transfer<br />&nbsp; &nbsp;LDA #$00<br />&nbsp; &nbsp;STA $4314&nbsp; &nbsp;&nbsp; &nbsp;; bank address = $00<br /><br />&nbsp; &nbsp;LDA #$03<br />&nbsp; &nbsp;STA $420B&nbsp; &nbsp;&nbsp; &nbsp;;start DMA transfer<br /></div>
<br />
<br />I haven't looked around much yet.  But here's first impressions:
<br />bank $00:
<br />..$8000-$8FFF appears to be the copier registers for $40 then repeated constantly.
<br />..$9000-$FFFF ROM
<br />bank $01-03: ROM
<br />bank $04: ?? some memory
<br />bank $05: ?? same memory as $04 ??
<br />bank $06: probably copier SRAM
<br />bank $07: probably DRAM
<br />
<br />Everything else seems unmapped.
<br />Some registers probably control mapping in of the external cartridge for dumping reasons.
<br />
<br />EDIT:  Here's an example of the exploit with a memory viewer, so you can play with the copier registers.  Let me know what you find out.
<br />
<br /><!-- m --><a class="postlink" href="http://neviksti.com/SNES/SF2exp3">http://neviksti.com/SNES/SF2exp3</a><!-- m --></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=716"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p34586"></a>
				<b class="postauthor" style="color: #AA0000">tepples</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p34586">Re: Game Doctor SF3 - BIOS Exploit</a></div><div style="float: right;"><a href="./viewtopic.php?p=34586#p34586"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Jul 01, 2008 2:49 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="http://pineight.com/nes/terrible/PSRFX.png" width="100" height="56" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Sep 19, 2004 11:12 pm<br /><b>Posts:</b> 9048<br /><b>Location:</b> NE Indiana, USA (NTSC)
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">neviksti wrote:</div><div class="quotecontent">So how does it know when to switch to bios mode?<br /><br />Well it is amazingly specific.  It looks to see 4 decreasing accesses to $00:0000-1FFF and <em>then</em> the NMI vector.</div>
<br />I seem to remember some topic on this board about ways to expand interrupt handling on the NES in which someone suggested something similar. Can anyone dig it up?</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=9"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p34603"></a>
				<b class="postauthor">kammedo</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p34603"></a></div><div style="float: right;"><a href="./viewtopic.php?p=34603#p34603"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Jul 03, 2008 2:53 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Wed May 28, 2008 5:43 am<br /><b>Posts:</b> 57
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Do you still have the information about the GDSF7 exploit?
<br />It would be intresting and helpfull to have it..</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3536"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p34617"></a>
				<b class="postauthor">neviksti</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p34617"></a></div><div style="float: right;"><a href="./viewtopic.php?p=34617#p34617"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Jul 03, 2008 11:45 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Thu Jun 22, 2006 11:39 pm<br /><b>Posts:</b> 205
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Sure I guess.
<br />Here's a chunk from the SF7 code which explains everything
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">exploit_setup:<br />&nbsp; &nbsp;; exploit code will actually be run from WRAM<br />&nbsp; &nbsp;; to get a &quot;real time save&quot; routine to initiate, we need to:<br />&nbsp; &nbsp;;&nbsp; &nbsp; &nbsp;1&#93; ..wait..<br />&nbsp; &nbsp;;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;It appears that there is some kind of timer in the SF7.<br />&nbsp; &nbsp;;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;It only allows the copier to interrupt the flow of code roughly<br />&nbsp; &nbsp;;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;once per VBlank.&nbsp; _Also_, it requires a little time before the<br />&nbsp; &nbsp;;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;very first &quot;saver routine&quot; interrupt.&nbsp; This confused me quite<br />&nbsp; &nbsp;;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;a bit at first because removing code that didn't seem to matter<br />&nbsp; &nbsp;;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;would cause the exploit to fail.&nbsp; Just keep it in mind.<br />&nbsp; &nbsp;;&nbsp; &nbsp; &nbsp;2a&#93; write #$01 to $4016<br />&nbsp; &nbsp;;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;or<br />&nbsp; &nbsp;;&nbsp; &nbsp; &nbsp;2b&#93; read $4219<br /><br />&nbsp; &nbsp;;move code to WRAM<br />&nbsp; &nbsp;ldx #ExploitCode<br />&nbsp; &nbsp;ldy #$0000<br />-&nbsp; &nbsp;lda.w $8000,X&nbsp; &nbsp;&nbsp; &nbsp;;Address adjusted<br />&nbsp; &nbsp;sta.w $0000,Y<br />&nbsp; &nbsp;inx<br />&nbsp; &nbsp;iny<br />&nbsp; &nbsp;cpx #ExploitCodeEnd<br />&nbsp; &nbsp;bne -<br /><br /><br />&nbsp; &nbsp;;----- try to goto $00:0001<br />&nbsp; &nbsp;ldx #$B030&nbsp; &nbsp;;Setup the stack to a carefully chosen &quot;invalid&quot; value<br />&nbsp; &nbsp;txs<br /><br />&nbsp; &nbsp;lda #$01<br />&nbsp; &nbsp;sta $4016&nbsp; &nbsp;;dummy write to trigger a SF7 &quot;save state feature routine&quot; <br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;;&nbsp; &nbsp;the invalid stack makes the bank value wrong &#40;code does a PHA / PLB&#41;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;;&nbsp; &nbsp;so joypad is read incorrectly &#40;accessing ROM instead of SF7 RAM&#41;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;;&nbsp; &nbsp;it thinks the user requested something &#40;regardless of actual joypad presses&#41;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;;&nbsp; &nbsp;it starts into some routines, at the first return it &quot;pulls&quot; the<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;;&nbsp; &nbsp; &nbsp; return address from ROM because of where the stack is pointed<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;;&nbsp; &nbsp;thus, it ends up at our code in WRAM<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;;&nbsp; &nbsp; &nbsp;&#40;if you don't trick the SF7 joypad read, it will return to the wrong place<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;;&nbsp; &nbsp; &nbsp; due to the incorrect stack ... but it will return in cartridge mode&#41;<br /><br />&nbsp; &nbsp;;jmp.l $000001 ;--test in emulators<br /></div>
<br />
<br />NOTE: I am really not sure if the execution is redirected to $00:0000 or $00:0001 as the code comments claim.  I always set many instructions at the beginning of $0000 to NOP just in case.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=716"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p34619"></a>
				<b class="postauthor">kammedo</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p34619"></a></div><div style="float: right;"><a href="./viewtopic.php?p=34619#p34619"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Jul 04, 2008 1:05 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Wed May 28, 2008 5:43 am<br /><b>Posts:</b> 57
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">neviksti wrote:</div><div class="quotecontent">Sure I guess.<br />Here's a chunk from the SF7 code which explains everything<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">exploit_setup:<br />&nbsp; &nbsp;; exploit code will actually be run from WRAM<br />&nbsp; &nbsp;; to get a &quot;real time save&quot; routine to initiate, we need to:<br />&nbsp; &nbsp;;&nbsp; &nbsp; &nbsp;1&#93; ..wait..<br />&nbsp; &nbsp;;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;It appears that there is some kind of timer in the SF7.<br />&nbsp; &nbsp;;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;It only allows the copier to interrupt the flow of code roughly<br />&nbsp; &nbsp;;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;once per VBlank.&nbsp; _Also_, it requires a little time before the<br />&nbsp; &nbsp;;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;very first &quot;saver routine&quot; interrupt.&nbsp; This confused me quite<br />&nbsp; &nbsp;;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;a bit at first because removing code that didn't seem to matter<br />&nbsp; &nbsp;;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;would cause the exploit to fail.&nbsp; Just keep it in mind.<br />&nbsp; &nbsp;;&nbsp; &nbsp; &nbsp;2a&#93; write #$01 to $4016<br />&nbsp; &nbsp;;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;or<br />&nbsp; &nbsp;;&nbsp; &nbsp; &nbsp;2b&#93; read $4219<br /><br />&nbsp; &nbsp;;move code to WRAM<br />&nbsp; &nbsp;ldx #ExploitCode<br />&nbsp; &nbsp;ldy #$0000<br />-&nbsp; &nbsp;lda.w $8000,X&nbsp; &nbsp;&nbsp; &nbsp;;Address adjusted<br />&nbsp; &nbsp;sta.w $0000,Y<br />&nbsp; &nbsp;inx<br />&nbsp; &nbsp;iny<br />&nbsp; &nbsp;cpx #ExploitCodeEnd<br />&nbsp; &nbsp;bne -<br /><br /><br />&nbsp; &nbsp;;----- try to goto $00:0001<br />&nbsp; &nbsp;ldx #$B030&nbsp; &nbsp;;Setup the stack to a carefully chosen &quot;invalid&quot; value<br />&nbsp; &nbsp;txs<br /><br />&nbsp; &nbsp;lda #$01<br />&nbsp; &nbsp;sta $4016&nbsp; &nbsp;;dummy write to trigger a SF7 &quot;save state feature routine&quot; <br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;;&nbsp; &nbsp;the invalid stack makes the bank value wrong &#40;code does a PHA / PLB&#41;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;;&nbsp; &nbsp;so joypad is read incorrectly &#40;accessing ROM instead of SF7 RAM&#41;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;;&nbsp; &nbsp;it thinks the user requested something &#40;regardless of actual joypad presses&#41;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;;&nbsp; &nbsp;it starts into some routines, at the first return it &quot;pulls&quot; the<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;;&nbsp; &nbsp; &nbsp; return address from ROM because of where the stack is pointed<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;;&nbsp; &nbsp;thus, it ends up at our code in WRAM<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;;&nbsp; &nbsp; &nbsp;&#40;if you don't trick the SF7 joypad read, it will return to the wrong place<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;;&nbsp; &nbsp; &nbsp; due to the incorrect stack ... but it will return in cartridge mode&#41;<br /><br />&nbsp; &nbsp;;jmp.l $000001 ;--test in emulators<br /></div><br /><br />NOTE: I am really not sure if the execution is redirected to $00:0000 or $00:0001 as the code comments claim.  I always set many instructions at the beginning of $0000 to NOP just in case.</div>
<br />
<br />Oh, good old stack manipulations <img src="./images/smilies/icon_wink.gif" alt=";)" title="Wink" />
<br />Thanks neviksti, I'll try to see if this can get the setup running. We definitely need to talk more about the GDSF7, I would be intrested in exploring more of its internals! I don't know if you remember, but I emailed you about that as well.
<br />
<br />EDIT : so I guess the way of working is something like that :
<br />
<br />a) you trigger a pad crossing
<br />b) on the VBlank, the GDSF7 checks the pads and does a PLB from the stack, but being the stack pointed to *your* position, it pops *your* address from it and consequently jumps to your location.
<br />
<br />Correct?
<br />
<br />EDIT 2 : 
<br />
<br />suppose I get the reset vector of FEoEZ (which is easy) and set up a program to switch there - should work, shouldnt it?</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3536"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p34621"></a>
				<b class="postauthor">neviksti</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p34621"></a></div><div style="float: right;"><a href="./viewtopic.php?p=34621#p34621"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Jul 04, 2008 1:31 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Thu Jun 22, 2006 11:39 pm<br /><b>Posts:</b> 205
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">kammedo wrote:</div><div class="quotecontent">Thanks neviksti, I'll try to see if this can get the setup running.</div><br />?? What exactly is wrong with your setup?  I don't see how this would help fix anything.<br /><br /><div class="quotetitle">kammedo wrote:</div><div class="quotecontent">EDIT : so I guess the way of working is something like that :<br /><br />a) you trigger a pad crossing<br />b) on the VBlank, the GDSF7 checks the pads and does a PLB from the stack, but being the stack pointed to *your* position, it pops *your* address from it and consequently jumps to your location.<br /><br />Correct?</div><br />I'm not sure what you mean by "a)", and as for "b" vblank is not involved (nmi is not even activated here) and the order you wrote is not quite right.<br /><br />When SF7 sees the joypads being read, it literally inserts code by replying to the next opcode requests with a BRK command... at this point it is in "bios mode".  So the interrupt vector is taken from the bios code and the interrupt code in the bios is executed.  One of the first things it does is lda #$06 / pha / plb  in order to make the databank $06 which is the copier's SRAM.  It doesn't want to mess with any of the SNES memory so as not to mess with the running game it interrupted... therefore it uses its SRAM for everything -&gt; including where it stores the joypad data it reads in.  It then checks the stored joypad data, but since it isn't actually reading RAM, it doesn't get the joypad data but some data in the ROM.  It so happens this causes it to execute some routine.  To return from the routine it tries to execute RTS, and this pulls an address from the "stack" (actually data in the ROM) and ends up transferring execution to my code in RAM.<br /><br />Make sense?<br /><br /><br />EDIT:<br /><div class="quotetitle">kammedo wrote:</div><div class="quotecontent">EDIT 2 : <br /><br />suppose I get the reset vector of FEoEZ (which is easy) and set up a program to switch there - should work, shouldnt it?</div>
<br />I'm sorry.  I'm not understanding what you are trying to do at all.
<br />
<br />The exploit is not needed to do any of the SPC7110 dumping.  All the dumps so far were done on the SF3 before I figured out this exploit.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=716"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p34623"></a>
				<b class="postauthor">kammedo</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p34623"></a></div><div style="float: right;"><a href="./viewtopic.php?p=34623#p34623"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Jul 04, 2008 1:43 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Wed May 28, 2008 5:43 am<br /><b>Posts:</b> 57
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">neviksti wrote:</div><div class="quotecontent">When SF7 sees the joypads being read, it literally inserts code by replying to the next opcode requests with a BRK command... at this point it is in "bios mode".  So the interrupt vector is taken from the bios code and the interrupt code in the bios is executed.  One of the first things it does is lda #$06 / pha / plb  in order to make the databank $06 which is the copier's SRAM.  It doesn't want to mess with any of the SNES memory so as not to mess with the running game it interrupted... therefore it uses its SRAM for everything -&gt; including where it stores the joypad data it reads in.  It then checks the stored joypad data, but since it isn't actually reading RAM, it doesn't get the joypad data but some data in the ROM.  It so happens this causes it to execute some routine.  To return from the routine it tries to execute RTS, and this pulls an address from the "stack" (actually data in the ROM) and ends up transferring execution to my code in RAM.<br /></div>
<br />
<br />Sure, clear as the sky.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3536"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p34630"></a>
				<b class="postauthor">blargg</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p34630"></a></div><div style="float: right;"><a href="./viewtopic.php?p=34630#p34630"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Jul 04, 2008 11:19 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=17.gif" width="60" height="69" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Sep 27, 2004 8:33 am<br /><b>Posts:</b> 2802
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">neviksti wrote:</div><div class="quotecontent">One of the first things it does is lda #$06 / pha / plb  in order to make the databank $06 which is the copier's SRAM.  It doesn't want to mess with any of the SNES memory so as not to mess with the running game it interrupted...</div>
<br />(tangent) Doesn't the PHA modify RAM in the SNES in a way that the game could be affected by?</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=17"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p34632"></a>
				<b class="postauthor">neviksti</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p34632"></a></div><div style="float: right;"><a href="./viewtopic.php?p=34632#p34632"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Jul 04, 2008 12:28 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Thu Jun 22, 2006 11:39 pm<br /><b>Posts:</b> 205
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">blargg wrote:</div><div class="quotecontent">(tangent) Doesn't the PHA modify RAM in the SNES in a way that the game could be affected by?</div>
<br />Yes it is possible to detect, however I don't know of any instruction that changes the databank except PLB.
<br />
<br />The only way they could have fixed it would be to map some SRAM into bank 0 and use that for their temporary stack.  The copier already has the capability to do this, so it could indeed be avoided.  But the assumption that there is room on the stack is a reasonable assumption... rarely if ever would a programmer store data literally right below the stack.
<br />
<br />EDIT: Just remembered, MVN and MVP also affect the databank register.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=716"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table width="100%" cellspacing="1" class="tablebg">
	<tr align="center">
		<td class="cat"><form name="viewtopic" method="post" action="./viewtopic.php?f=12&amp;t=4198"><span class="gensmall">Display posts from previous:</span> <select name="st" id="st"><option value="0" selected="selected">All posts</option><option value="1">1 day</option><option value="7">7 days</option><option value="14">2 weeks</option><option value="30">1 month</option><option value="90">3 months</option><option value="180">6 months</option><option value="365">1 year</option></select>&nbsp;<span class="gensmall">Sort by</span> <select name="sk" id="sk"><option value="a">Author</option><option value="t" selected="selected">Post time</option><option value="s">Subject</option></select> <select name="sd" id="sd"><option value="a" selected="selected">Ascending</option><option value="d">Descending</option></select>&nbsp;<input class="btnlite" type="submit" value="Go" name="sort" /></form></td>
	</tr>
	</table>
	

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=12"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=12&amp;t=4198"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>1</strong> of <strong>1</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 9 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"></td>
		
	</tr>
	</table>

</div>

<div id="pagefooter"></div>

<br clear="all" />
<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=25">Other</a> &#187; <a href="./viewforum.php?f=12">SNESdev</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>
	<br clear="all" />

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat"><h4>Who is online</h4></td>
	</tr>
	<tr>
		<td class="row1"><p class="gensmall">Users browsing this forum: No registered users and 1 guest</p></td>
	</tr>
	</table>


<br clear="all" />

<table width="100%" cellspacing="1">
<tr>
	<td width="40%" valign="top" nowrap="nowrap" align="left"></td>
	<td align="right" valign="top" nowrap="nowrap"><span class="gensmall">You <strong>cannot</strong> post new topics in this forum<br />You <strong>cannot</strong> reply to topics in this forum<br />You <strong>cannot</strong> edit your posts in this forum<br />You <strong>cannot</strong> delete your posts in this forum<br />You <strong>cannot</strong> post attachments in this forum<br /></span></td>
</tr>
</table>

<br clear="all" />

<table width="100%" cellspacing="0">
<tr>
	<td><form method="get" name="search" action="./search.php"><span class="gensmall">Search for:</span> <input class="post" type="text" name="keywords" size="20" /> <input class="btnlite" type="submit" value="Go" /><input type="hidden" name="t" value="4198" />
<input type="hidden" name="sf" value="msgonly" />
</form></td>
	<td align="right">
	<form method="post" name="jumpbox" action="./viewforum.php" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	<table cellspacing="0" cellpadding="0" border="0">
	<tr>
		<td nowrap="nowrap"><span class="gensmall">Jump to:</span>&nbsp;<select name="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">

		
			<option value="-1">Select a forum</option>
		<option value="-1">------------------</option>
			<option value="24">NES / Famicom</option>
		
			<option value="2">&nbsp; &nbsp;NESdev</option>
		
			<option value="3">&nbsp; &nbsp;NESemdev</option>
		
			<option value="21">&nbsp; &nbsp;NES Graphics</option>
		
			<option value="6">&nbsp; &nbsp;NES Music</option>
		
			<option value="9">&nbsp; &nbsp;NES Hardware and Flash Equipment</option>
		
			<option value="22">&nbsp; &nbsp;Homebrew Projects</option>
		
			<option value="10">&nbsp; &nbsp;Newbie Help Center</option>
		
			<option value="11">&nbsp; &nbsp;FCdev</option>
		
			<option value="18">&nbsp; &nbsp;NESdev China</option>
		
			<option value="19">&nbsp; &nbsp;NESdev International</option>
		
			<option value="25">Other</option>
		
			<option value="5">&nbsp; &nbsp;General Stuff</option>
		
			<option value="4">&nbsp; &nbsp;Membler Industries</option>
		
			<option value="12" selected="selected">&nbsp; &nbsp;SNESdev</option>
		
			<option value="20">&nbsp; &nbsp;GBDev</option>
		
			<option value="23">&nbsp; &nbsp;Other Retro Dev</option>
		
			<option value="15">&nbsp; &nbsp;Test Forum</option>
		
			<option value="26">Site Issues</option>
		
			<option value="13">&nbsp; &nbsp;phpBB Issues</option>
		
			<option value="14">&nbsp; &nbsp;Web Issues</option>
		
			<option value="16">&nbsp; &nbsp;nesdevWiki</option>
		

		</select>&nbsp;<input class="btnlite" type="submit" value="Go" /></td>
	</tr>
	</table>

	</form>
</td>
</tr>
</table>


</div>

<div id="wrapfooter">
	
	<span class="copyright">Powered by <a href="http://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Group
	</span>
</div>

</body>
</html>