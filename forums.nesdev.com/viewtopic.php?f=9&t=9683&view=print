<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - 1989 famicom with true rgb, s-video, stereo sound</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">1989 famicom with true rgb, s-video, stereo sound</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=9&amp;t=9683">http://forums.nesdev.com/viewtopic.php?f=9&amp;t=9683</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>3</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Drakon</b> [ Tue Jan 08, 2013 8:40 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>1989 famicom with true rgb, s-video, stereo sound</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Basically this's all stuff I've done before but for the first time with an original famicom.<br /><br />Early pics:<br /><br /><img src="http://imgboot.com/images/Drakon/rgbfamicomclose.jpg" alt="Image" /><br /><br /><img src="http://imgboot.com/images/Drakon/rgbfamicom.jpg" alt="Image" /><br /><br />Mostly finished video:<br /><br /><a href="http://www.youtube.com/watch?v=RdB36eghRJc&amp;feature=youtu.be" class="postlink">http://www.youtube.com/watch?v=RdB36eghRJc&amp;feature=youtu.be</a><br /><br />What's left to do: Build all the external ports and jacks into a project box.<br /><br />Why I built this: I had the parts laying around and I thought it would be fun!<br /><br />Specs:<br /><br />This started out as an official nintendo 1989 famicom that I recently managed to repair (some random trace got damaged).<br /><br />This system using an official nintendo rgb chip and produces almost completely jailbar free true rgb, s-video, and stereo sound with proper mixing and amping.<br /><br />S-video is generated by a sony cxa2075 video encoder which produces the sharpest looking s-video I've ever seen, also I really like the colour encoding of the cxa2075.<br /><br />I built a small circuit that divides the system master clock down to be able to drive the video encoder which removes colour bleeding over s-video.<br /><br />You can realtime switch between the default and upgraded audio circuits using a hardware switch I installed.<br /><br />I hardwired nes controller ports into the headers of where the famicom controllers normally connect, here's the schematic:<br /><br /><img src="http://imgboot.com/images/Drakon/famicomtonescontrollerportwiring.jpg" alt="Image" /><br /><br />P4 is player one and P5 is player two.  Just do the same thing for p5 to wire up the second player controller (ignore the mic pin for nes controller port wiring). This nes controller port wiring is 100% compatible with all games, some people wired up nes controller ports to the famicom expansion port but that doesn't work with some games (mario 2 us).  My wiring works with everything and you no longer need to live with stupid hardwired famicom controllers where the cord comes out the side of the controller instead of the top like it should.<br /><br />The 74ls373n has been removed with a precision socket installed so I dropped in a 74hc373 to get the powerpak running with the rgb setup.  Thanks to acem77 for making this discovery.  The playchoice pcb uses the 74hc373, that's where the nes compatible rgb chip comes from so I guess it's just something the rgb ppu needs.<br /><br />The rf box has been removed and I have the system running using just a power jack, 7805 regulator, small heatsink, and a fuse.  The 7805 and heatsink are bolted near the front of the case to make room for the added circuitry at the back.<br /><br />What I learned from building this:<br /><br />I learned a lot about the famicom pcb and how it's wired.  The edge of the pcb is 5v so be careful not to think it's ground like most consoles.  The connector for the rf box is interesting, one pin is the 5v fed from the regulator, the other pin is the 5v feeding back into the rf box circuit after you connect it using the power switch.<br /><br />Adding distance between the ppu and the video encoder adds jailbars.  Adding 5 or so inches of distance for the rgb to travel before hitting the video encoder added really big jailbars.  Potentially this's a universal jailbar fix across all models of the nes / famicom which is fantastic news!  Having the ppu signals fed into the video encoder at point blank range completely fixed the jailbars on this system.  This's an awesome discovery!  Unfortunately this means that getting rid of jailbars in some pcb revisions means relocating the entire ppu socket to get all this custom circuitry to fit like I had to do with this system.<br /><br />This particular famicom (something-something-gpm-02) has a very similar audio circuit to the av famicom.  The only difference is there's a little more low pass filtering with this model producing more bass and a little more muffle.<br /><br />The famicom case has literally no extra space inside to fit any extra stuff which is why all the added ports and whatnot are hanging out the back.<br /><br />Would I do this again?:  Probably not unless someone is willing to pay a small fortune or if I somehow kill my system (it has a fuse so if something shorts it's easy to fix).  I had to relocate the entire ppu socket to the back by wiring up 40 ide wires, I had to do so much extra work that it would be cheaper just buying an av famicom.<br /><br />Was it fun making this?: F#ck yes!  The results were fantastic, I learned so much about these systems and getting rid of jailbars and other video interference from doing this, wiring the nes controller ports worked out great too.  The audio circuit on this kit I use sounds great with this pcb model, hopefully someday I can rework the av famicom audio circuit so I can re-create it on any model of the nes / famicom.  I honestly didn't expect this to turn out so nicely.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Tue Jan 08, 2013 9:02 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: 1989 famicom with true rgb, s-video, stereo sound</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I think this was pointed out already, but any NES or Famicom cannot have any kind of &quot;stereo sound&quot; and never will. The console was designed to be mono. Separating bass and trebles and send each one to each speaker is NOT &quot;true stereo sound&quot;.<br /><br />RGB and S-video can be a nice to have though, even if I don't personally care.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dwedit</b> [ Tue Jan 08, 2013 10:05 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: 1989 famicom with true rgb, s-video, stereo sound</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The two NES controller ports support 4 player games, right?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Tue Jan 08, 2013 10:38 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: 1989 famicom with true rgb, s-video, stereo sound</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />For a device with NES controller ports, you'd need a Four Score. It works by sending the first 8 bits from controller 1 or 2 on D0, then the first 8 bits from controller 3 or 4 on D0, then a signature byte on D0. I don't see any reason why it wouldn't work, as it just uses the clock, D0 out, and D0 in wires, unlike the Famicom expansion controllers that use D1 in. However, you would have to use games compatible with the Four Score; Japanese versions of 4-player games might assume Famicom expansion controllers.<br /><br />As for comparisons between the Four Score and stereo sound, the SPI-like bit-serial protocol allows the program to tell the difference between the controllers through the sequence: it's always 1, then 3, then signature on $4016, or 2, then 4, then signature on $4017. Audio, on the other hand, is summed before being sent to the APU's audio output pins.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>mikejmoffitt</b> [ Tue Jan 08, 2013 10:41 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: 1989 famicom with true rgb, s-video, stereo sound</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">I think this was pointed out already, but any NES or Famicom cannot have any kind of &quot;stereo sound&quot; and never will. The console was designed to be mono. Separating bass and trebles and send each one to each speaker is NOT &quot;true stereo sound&quot;.</div><br />This... &quot;Stereo&quot; in this scenario is anything but an upgrade.<br />Otherwise, good work on the video encoding.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Drakon</b> [ Tue Jan 08, 2013 1:05 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: 1989 famicom with true rgb, s-video, stereo sound</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">mikejmoffitt wrote:</div><div class="quotecontent"><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">I think this was pointed out already, but any NES or Famicom cannot have any kind of &quot;stereo sound&quot; and never will. The console was designed to be mono. Separating bass and trebles and send each one to each speaker is NOT &quot;true stereo sound&quot;.</div><br />This... &quot;Stereo&quot; in this scenario is anything but an upgrade.<br />Otherwise, good work on the video encoding.</div><br /><br />Haha thanks.  I set my amp to mono so I don't get any stereo separation.  I just like the circuit because it balances everything great including carts with audio chips.  I havn't tested it with any peripherals just regular nes controllers.<br /><br />*edit*<br /><br />pic of the pcb:<br /><br /><img src="http://imgboot.com/images/Drakon/famicomawesomepcb.jpg" alt="Image" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>koitsu</b> [ Tue Jan 08, 2013 2:05 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: 1989 famicom with true rgb, s-video, stereo sound</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Drakon wrote:</div><div class="quotecontent"><div class="quotetitle">mikejmoffitt wrote:</div><div class="quotecontent"><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">I think this was pointed out already, but any NES or Famicom cannot have any kind of &quot;stereo sound&quot; and never will. The console was designed to be mono. Separating bass and trebles and send each one to each speaker is NOT &quot;true stereo sound&quot;.</div><br />This... &quot;Stereo&quot; in this scenario is anything but an upgrade.<br />Otherwise, good work on the video encoding.</div><br /><br />Haha thanks.  I set my amp to mono so I don't get any stereo separation.  I just like the circuit because it balances everything great including carts with audio chips.</div><br />No, it doesn't &quot;balance everything great&quot;.  I will repeat the same thing that has already been said by others: <strong>you do not get stereo, or anything even close to it, with this modification</strong>.  Instead, what you get is crap-sounding audio where both square channels come out either the left or right speaker (your choice), and the triangle/noise/PCM channel comes out the other (<a href="http://wiki.nesdev.com/w/index.php/CPU_pin_out_and_signal_description" class="postlink">see pins AD1 and AD2</a>).  The end result is crap; it sounds absolutely awful solely because all the audio on NES/Famicom games was mixed/intended to be heard in mono.  The composers/musicians actually sequenced and designed their music with that in mind.  Honest.<br /><br />As far as expansion/audio chips (as in VRC6, etc.) go -- those output all their audio <strong>to a single pin</strong> (<a href="http://wiki.nesdev.com/w/index.php/Cartridge_connector" class="postlink">see pin 45</a>).  No resistor array possible (for &quot;splitting&quot; frequency ranges) will turn that into stereo -- all it will put out is &quot;split&quot; audio which has the same problem as I mentioned above.<br /><br />The video modifications you've done are really great though, as others have also said.  Kudos!

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>blargg</b> [ Tue Jan 08, 2013 2:51 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: 1989 famicom with true rgb, s-video, stereo sound</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Yeah, this stereo mod is in the realm of <em>enhancements</em>, things which bring out some quality at a cost to others, and are subjectively either improvements or detriments. The stereo mod is interesting because it's able to recover some information that is otherwise lost in the mono output, that of separating the channels into two sets. It reminds me of the old 4-channel mods on Amiga computers, where each side had two channels, totally separated. It's unnatural sounding. A stereo mod that mostly mixed them, with only slight separation, might be more pleasing. One thing I noticed is that if you tap into the separate channel groups, you must attenuate one, otherwise it's a lot louder than it should be. The mono mixdown in the NES does this (look at the differing resistors used for the two groups).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>koitsu</b> [ Tue Jan 08, 2013 3:41 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: 1989 famicom with true rgb, s-video, stereo sound</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Haha, original 4-channel Amiga MODs (i.e. &quot;M.K.&quot; format), which also had the <a href="http://www.textfiles.com/programming/FORMATS/mod-form.txt" class="postlink">awesome design</a> of the individual channels being set to L/R/R/L.  I still want to know what the reason for that is, in other words, why LRRL and not LRLR.  I'd love to ask Karsten Obarski or Michael Kleps what the reasoning was.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Drakon</b> [ Tue Jan 08, 2013 4:34 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: 1989 famicom with true rgb, s-video, stereo sound</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I wasn't talking about stereo separation I meant bass, treble, and mixing of the audio in certain carts.  I already said I play with my amp set to mono I don't experience any stereo separation.  It's really easy just to set your amp to mono if you don't like it.  And thanks for the compliment!  I wish I knew more about designing audio circuits, I've gotten s-video pretty perfected in every console, now I gotta learn how to design audio stuff for my favourite consoles.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Drakon</b> [ Wed Jan 09, 2013 4:20 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: 1989 famicom with true rgb, s-video, stereo sound</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Done:<br /><br /><img src="http://imgboot.com/images/Drakon/famicomofdoompcbbottom.jpg" alt="Image" /><br /><br />video:<br /><br /><a href="http://www.youtube.com/watch?v=wkdapA2xx0o&amp;feature=youtu.be" class="postlink">http://www.youtube.com/watch?v=wkdapA2xx0o&amp;feature=youtu.be</a>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>ccovell</b> [ Wed Jan 09, 2013 6:09 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: 1989 famicom with true rgb, s-video, stereo sound</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Good stuff!  It's a Famicom choo-choo train!

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Thu Jan 10, 2013 1:12 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: 1989 famicom with true rgb, s-video, stereo sound</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Two thoughts: 1- it's really sad that you can't genlock your camera to the FC; I find the rolling bars distracting. <br />2- That's an awful lot of hot glue inside—if anything ever goes wrong it'll be hard to fix it.<br /><br />Where does the expansion audio go in the dual mono mix?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Drakon</b> [ Thu Jan 10, 2013 6:29 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: 1989 famicom with true rgb, s-video, stereo sound</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">lidnariq wrote:</div><div class="quotecontent">Two thoughts: 1- it's really sad that you can't genlock your camera to the FC; I find the rolling bars distracting. <br />2- That's an awful lot of hot glue inside—if anything ever goes wrong it'll be hard to fix it.<br /><br />Where does the expansion audio go in the dual mono mix?</div><br /><br />Sorry about the camera I don't think it has that setting.  The glue is very easy to get off I've fixed many things with just as much hot glue.  Actually I had something break because it wasn't glued into place, so I repaired it, glued it, and now it's fine.<br /><br />With the dual audio circuit the expansion audio pins (45 and 46) are disconnected from the famicom pcb and routed into the audio circuit.  The audio circuit is a couple of opamps, a virtual ground, some inductors, and a network of resistors and caps.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>mikejmoffitt</b> [ Thu Jan 10, 2013 7:03 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: 1989 famicom with true rgb, s-video, stereo sound</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Hot glue is great because it does a good job of holding projects together, but if you need to do work a little isopropyl alcohol will do the job to remove it.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>3</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>