<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - NESASM .db rows limited to 24 bytes per line. Why?</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">NESASM .db rows limited to 24 bytes per line. Why?</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=10&amp;t=4812">http://forums.nesdev.com/viewtopic.php?f=10&amp;t=4812</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>GradualGames</b> [ Sat Jan 31, 2009 11:24 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>NESASM .db rows limited to 24 bytes per line. Why?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I found out my problem with my nametable loading wrong---apparently NESASM ignores anything after the 24th entry on any .db row. P65 does not, so it loaded my nametable fine. Has anyone else encountered this limitation of NESASM? I've looked at the available documentation for NESASM and there doesn't appear to be any mention of this limitation.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Celius</b> [ Sat Jan 31, 2009 11:39 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I remember some limitation with the .db statements per line, but I didn't remember that it was 24 bytes. Are your .db statements spilling into the next row of characters in the asm file? Like:
<br />
<br />.db blah, blah blah,
<br />blah, blah
<br />
<br />Because I remember that causing problems. Though I would always make sure every line had a .db no matter what assembler I was using.
<br />
<br />Personally, I would stay away from defining raw tile data with .db statements, especially if it's 1024 bytes. Tepples' name table editor or NSA on the main page will allow you to arrange tiles intuitively with a mouse rather than by typing in boring hex values. Then you can just do a simple .incbin "file.nam" and all is well.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>GradualGames</b> [ Sat Jan 31, 2009 11:49 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />So, the NESASM authors were lazy and restricted the line width to something like 80 characters? Haha, that's amusing. 
<br />
<br />I'm not typing them in---it is generated by a graphics editor program I've been working on over the last few months. After I made the observation, I changed the line width to be shorter, and nesasm stopped ignoring parts of my name table =) Works perfect now.
<br />
<br />I'm aware of incbin, but I thought it would be fun to have my graphics editor generate assembler output as well.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Celius</b> [ Sun Feb 01, 2009 12:03 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Oh, I understand why you'd want a program to output .db statements. It's a lot easier to edit values with them. And plus, you can arrange them like:
<br />
<br />.db $32,$66
<br />.db $44
<br />.db $2F, $3F, $90
<br />
<br />So it's not like it is in a hex editor where it's just a sea of hex digits. I made a program a while back that output .db statements which held results of math functions for my sound engine. This may have been because I don't quite have the knowledge to make programs that save data to files (I'm pretty much a noob when it comes to file interaction).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>dXtr</b> [ Mon Feb 02, 2009 4:51 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">ZomCoder wrote:</div><div class="quotecontent">I'm not typing them in---it is generated by a graphics editor program I've been working on over the last few months.</div>
<br />
<br />Why not make the editor output the data as binary instead? Iirc. nesasm has a .incbin command for including binary files, this would probably also speed up the assemble stage as it wouldn't have to parse all the .db lines.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>beneficii</b> [ Wed Feb 04, 2009 4:26 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />NESASM is retarded.  Get ASM6 instead:
<br />
<br /><!-- m --><a class="postlink" href="http://home.comcast.net/~olimar/NES/">http://home.comcast.net/~olimar/NES/</a><!-- m -->

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>noattack</b> [ Wed Feb 04, 2009 5:40 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I agree.  I'm actually in the process of converting the NESASM tutorials from nintendoage.com into ASM6 format.  It's actually not a terribly difficult process and it eliminates a lot of the headaches and limitations of NESASM.
<br />
<br />See this thread for reference:  <a href="http://nesdev.com/bbs/viewtopic.php?t=4822" class="postlink">http://nesdev.com/bbs/viewtopic.php?t=4822</a>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>GradualGames</b> [ Sat Feb 07, 2009 11:35 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Thanks for the advice. I've converted my experiment from nesasm now to asm6. It seems to be far less finicky than nesasm.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>blargg</b> [ Sat Feb 07, 2009 11:48 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">beneficii wrote:</div><div class="quotecontent">NESASM is retarded.  Get ASM6 instead:</div>
<br />Using a DOS/Windows-only assembler for tutorials is retarded. Use ca65 instead.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Roth</b> [ Sat Feb 07, 2009 2:37 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">beneficii wrote:</div><div class="quotecontent">NESASM is retarded.</div>
<br />
<br />I used to be anti-NESASM. I still don't use it (sticking with CA65), but I've seen some really cool projects be completed with it. I see no reason to hate on it honestly, because it's still usable. There are just a few things to keep in mind when dealing with it (i.e. db limitation). I mean, I find it harder to set up for a project with ca65, but I'm more comfortable using it at this point now, so it's kinda like The Facts of Life... you take the good, you take the bad  ; )

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>beneficii</b> [ Sat Feb 07, 2009 4:44 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">blargg wrote:</div><div class="quotecontent"><div class="quotetitle">beneficii wrote:</div><div class="quotecontent">NESASM is retarded.  Get ASM6 instead:</div><br />Using a DOS/Windows-only assembler for tutorials is retarded. Use ca65 instead.</div>
<br />
<br />Actually, ASM6 is very easy to adapt for other operating systems.  I in fact use a Mac OS X as my primary computer, but have adapted ASM6 to work in it.  I sent loopy a copy of the new source code, which allows ASM6 to work on both little-endian systems (such as DOS/Windows) and big-endian systems (Mac OS X).  Here is the source:
<br />
<br /><!-- m --><a class="postlink" href="http://sm2.beneficii.net/asm6.c">http://sm2.beneficii.net/asm6.c</a><!-- m -->
<br />
<br />On Mac OS X, you can just make a Standard Tool on XCode and put this source in and hit compile.  With this source, my (partially completed) SMB2J project assembles just fine.  Other things that fit within the ASM6 syntax assemble fine too.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>beneficii</b> [ Sat Feb 07, 2009 4:49 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Roth wrote:</div><div class="quotecontent"><div class="quotetitle">beneficii wrote:</div><div class="quotecontent">NESASM is retarded.</div><br /><br />I used to be anti-NESASM. I still don't use it (sticking with CA65), but I've seen some really cool projects be completed with it. I see no reason to hate on it honestly, because it's still usable. There are just a few things to keep in mind when dealing with it (i.e. db limitation). I mean, I find it harder to set up for a project with ca65, but I'm more comfortable using it at this point now, so it's kinda like The Facts of Life... you take the good, you take the bad  ; )</div>
<br />
<br />That's true.  I don't like CA65, just because it's difficult to set up.  Also, CA65 doesn't seem to work too well with FDS games, which have their own file systmes.  (I actually originally tried to use CA65 for the SMB2J disassembly before ASM6, but found there wasn't any real good way of setting the disassembly up so that it could be assembled to be just like the original game.)
<br />
<br />If the projects are small, NESASM works.  (My BKG homebrew, which was written with NESASM in mind, case in point.)  But I find that ASM6 works just as well, while keeping the simplicity of NESASM, and it works better on larger projects and different types of projects, including FDS games.
<br />
<br />The Facts of Life are true though. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>loopy</b> [ Sat Feb 07, 2009 6:00 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">beneficii wrote:</div><div class="quotecontent"><div class="quotetitle">blargg wrote:</div><div class="quotecontent"><div class="quotetitle">beneficii wrote:</div><div class="quotecontent">NESASM is retarded.  Get ASM6 instead:</div><br />Using a DOS/Windows-only assembler for tutorials is retarded. Use ca65 instead.</div><br /><br />Actually, ASM6 is very easy to adapt for other operating systems.  I in fact use a Mac OS X as my primary computer, but have adapted ASM6 to work in it.  I sent loopy a copy of the new source code, which allows ASM6 to work on both little-endian systems (such as DOS/Windows) and big-endian systems (Mac OS X).  Here is the source:<br /><br /><!-- m --><a class="postlink" href="http://sm2.beneficii.net/asm6.c">http://sm2.beneficii.net/asm6.c</a><!-- m --><br /><br />On Mac OS X, you can just make a Standard Tool on XCode and put this source in and hit compile.  With this source, my (partially completed) SMB2J project assembles just fine.  Other things that fit within the ASM6 syntax assemble fine too.</div>
<br />It's been used on linux systems as well.  It should compile without any modifications.  The source is included in the asm6 zipfile.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>noattack</b> [ Sun Feb 08, 2009 2:53 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">beneficii wrote:</div><div class="quotecontent"><br />Actually, ASM6 is very easy to adapt for other operating systems.  I in fact use a Mac OS X as my primary computer, but have adapted ASM6 to work in it.  I sent loopy a copy of the new source code, which allows ASM6 to work on both little-endian systems (such as DOS/Windows) and big-endian systems (Mac OS X).  Here is the source:<br /><br /><!-- m --><a class="postlink" href="http://sm2.beneficii.net/asm6.c">http://sm2.beneficii.net/asm6.c</a><!-- m --><br /><br />On Mac OS X, you can just make a Standard Tool on XCode and put this source in and hit compile.  With this source, my (partially completed) SMB2J project assembles just fine.  Other things that fit within the ASM6 syntax assemble fine too.</div>
<br />
<br />beneficii, forgive me if this is a dumb question, but i'm intrigued at the prospect of ridding my macbook of windows, since it's there solely for the sake of NESdev.
<br />
<br />does compiling the above source create a mac version of asm6 that i can use in the unix command line, or does the source need to be compiled each time i need to assemble my nes code?  i hope that question makes sense...
<br />
<br />i'm also interested to know what other mac-specific tools you use for development.  any notable tile editors, coding environments, etc?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>beneficii</b> [ Sun Feb 08, 2009 3:15 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">noattack wrote:</div><div class="quotecontent">beneficii, forgive me if this is a dumb question, but i'm intrigued at the prospect of ridding my macbook of windows, since it's there solely for the sake of NESdev.</div><br /><br />You might still want to keep Windows.  Though you can do some stuff on the Mac OS X, it seems that there aren't really any good emulators with debuggers on the Mac.  There's FCEUX, but it is only command line, and I haven't figured out how to configure input on it, so that I can actually play a game.  Perhaps others around here know of some really good emulators?<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">does compiling the above source create a mac version of asm6 that i can use in the unix command line, or does the source need to be compiled each time i need to assemble my nes code?  i hope that question makes sense...</div><br /><br />Yes, you can use it in terminal.  Just make sure that asm6 is in the directory that you're at, then use "./asm6 [options]".  No you do not need to compile it again and again; just once to get the binary.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">i'm also interested to know what other mac-specific tools you use for development.  any notable tile editors, coding environments, etc?</div>
<br />
<br />I use XCode, which you can get free if you register at Apple.  My focus has been largely the disassembly, so I have not made major use of tile editors.  With a quick search I found this:
<br />
<br /><!-- m --><a class="postlink" href="http://homepage.mac.com/squirrel2/nes_chr/">http://homepage.mac.com/squirrel2/nes_chr/</a><!-- m -->
<br />
<br />I think there's lately been a movement afoot to get hacking capabilities on the Mac, though.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>