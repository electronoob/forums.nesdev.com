<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Now what?</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Now what?</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=10&amp;t=10303">http://forums.nesdev.com/viewtopic.php?f=10&amp;t=10303</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Six</b> [ Sun Jul 21, 2013 10:51 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Now what?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Alright, so I've figured out how to set up Asm6, and I've started learning 6502.<br /><br />But I can't figure out how to make anything happen.<br /><br />I understand that doing something like<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">LDA #$1A<br /></div><br />loads 26 (Assuming I understand hexcode) into the accumulator.<br /><br />However, what's the next step?<br /><br />How do I go from something simple like this, to actually making some form of a game?<br /><br />I've heard something about headers, but I'm really confused by them. Whenever I write a short piece of code, compile it, and then try and emulate it, it either says &quot;Invalid File&quot; or &quot;Corrupt File&quot;.<br /><br />What's the correct header for Asm6? (Is there even one?) What emulator is compatible with Asm6? (Right now, I'm using Nestopia.)<br /><br />Basically, all I want to do is be able to see something on the screen, so I'll know that what I'm doing is right.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Nioreh</b> [ Sun Jul 21, 2013 10:52 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Now what?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Check out the Nerdy Nights tutorials:<br /><br /><!-- m --><a class="postlink" href="http://www.nintendoage.com/pub/faq/NA/nerdy_nights_out.html">http://www.nintendoage.com/pub/faq/NA/n ... s_out.html</a><!-- m -->

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Six</b> [ Sun Jul 21, 2013 12:01 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Now what?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Nioreh wrote:</div><div class="quotecontent">Check out the Nerdy Nights tutorials:<br /><br /><!-- m --><a class="postlink" href="http://www.nintendoage.com/pub/faq/NA/nerdy_nights_out.html">http://www.nintendoage.com/pub/faq/NA/n ... s_out.html</a><!-- m --></div><br />The only problem is they use nesasm, which I've heard is horrible.<br /><br />I tried to use their code in Asm6, and it didn't work.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>zzo38</b> [ Sun Jul 21, 2013 12:04 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Now what?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Six wrote:</div><div class="quotecontent"><div class="quotetitle">Nioreh wrote:</div><div class="quotecontent">Check out the Nerdy Nights tutorials:<br /><br /><!-- m --><a class="postlink" href="http://www.nintendoage.com/pub/faq/NA/nerdy_nights_out.html">http://www.nintendoage.com/pub/faq/NA/n ... s_out.html</a><!-- m --></div><br />The only problem is they use nesasm, which I've heard is horrible.<br /><br />I tried to use it in Asm6, and it didn't work.</div>I happen to like NESASM (or actually Unofficial MagicKit, which is a variant of NESASM), but it uses nonstandard syntax. ASM6 uses the standard syntax, which some people prefer.<br /><br />If you are creating a proper iNES file, then it should work in any emulator and with any assembler (although the way to create the iNES header differs depending on what assembler you use).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Movax12</b> [ Sun Jul 21, 2013 12:44 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Now what?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Six wrote:</div><div class="quotecontent">The only problem is they use nesasm, which I've heard is horrible.<br /><br />I tried to use their code in Asm6, and it didn't work.</div><br /><br />It might be a good idea to take the time to learn what is different (between Asm6 and NESASM), and translate the code to Asm6 syntax as you go over some of the tutorials. This would help you learn more about what is at the assembler level when writing code. If you understand the Asm6 directives and syntax, it shouldn't prove to be overly difficult.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>rainwarrior</b> [ Sun Jul 21, 2013 1:12 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Now what?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I don't think NESASM is horrible at all, it's just limited compared to something like the cc65 toolchain. It's fine for learning on.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>zzo38</b> [ Sun Jul 21, 2013 1:35 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Now what?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">rainwarrior wrote:</div><div class="quotecontent">I don't think NESASM is horrible at all, it's just limited compared to something like the cc65 toolchain. It's fine for learning on.</div>I agree that NESASM isn't horrible at all (unless you prefer standard syntax; I happen to prefer the nonstandard syntax though). Actually, Unofficial MagicKit (the variant of NESASM) can do a large number of things (NES 2.0 headers, postprocessors, more powerful macros, etc) although cc65 would probably be much better if you want linking and those kind of things.<br /><br /><div class="quotetitle">Movax12 wrote:</div><div class="quotecontent">It might be a good idea to take the time to learn what is different (between Asm6 and NESASM), and translate the code to Asm6 syntax as you go over some of the tutorials. This would help you learn more about what is at the assembler level when writing code. If you understand the Asm6 directives and syntax, it shouldn't prove to be overly difficult.</div>This is good idea. If you learn ASM6 then you can write the similar codes using it.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Six</b> [ Sun Jul 21, 2013 1:38 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Now what?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />So I guess my real question is what do headers do? Do you need one in order to be able to emulate it?<br /><br />How exactly would I go about making one?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>zzo38</b> [ Sun Jul 21, 2013 1:53 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Now what?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Six wrote:</div><div class="quotecontent">So I guess my real question is what do headers do? Do you need one in order to be able to emulate it?<br /><br />How exactly would I go about making one?</div>The iNES header specifies the mapper in use (if you don't need any fancy features you can use NROM, which is mapper number 0), the amount of ROM and RAM, the nametable mirroring (you can probably ignore it if you aren't using scrolling), and sometimes a few other things (such as whether or not it uses battery RAM). It is documented in NESdev wiki.<br /><br />You do need a header, since most emulators require it so it can know what mapper it is and so on (otherwise it wouldn't have any way to know). If you just want to put the file into a ROM cartridge, then a header won't be necessary if you are building the cartridge yourself, although usually you would want to make it run in an emulator too, so you do need a header.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Sun Jul 21, 2013 1:55 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Now what?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />A header tells the emulator how big the PRG ROM and CHR ROM are and what other components are on the Game Pak's circuit board. How you create a header depends on the assembler.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Six</b> [ Sun Jul 21, 2013 1:57 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Now what?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">A header tells the emulator how big the PRG ROM and CHR ROM are and what other components are on the Game Pak's circuit board. How you create a header depends on the assembler.</div><br />Would you know what it is with Asm6?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>koitsu</b> [ Sun Jul 21, 2013 2:12 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Now what?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />asm6 has no support for the NES file format; it's a generic 6502 assembler.<br /><br />You get to make the <a href="http://wiki.nesdev.com/w/index.php/INES" class="postlink">16-byte header</a> yourself in a hex editor.  It's not hard.<br /><br />Assuming you're using Windows: you then combine the two files -- the header and the assembled code (usually resulting in a .bin or .o file) by using <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">copy /b header.bin+code.bin game.nes</tt>.  You then load <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">game.nes</tt> in an emulator.  It's that easy.<br /><br />P.S. -- In your first post you asked &quot;What emulator is compatible with Asm6?&quot; -- this question means nothing.  asm6 is a 6502 assembler; it has no relation to emulators.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Six</b> [ Sun Jul 21, 2013 2:30 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Now what?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">koitsu wrote:</div><div class="quotecontent">asm6 has no support for the NES file format; it's a generic 6502 assembler.<br /><br />You get to make the <a href="http://wiki.nesdev.com/w/index.php/INES" class="postlink">16-byte header</a> yourself in a hex editor.  It's not hard.<br /></div><br />It's been assembling into a .nes file. Should it not be?<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Assuming you're using Windows: you then combine the two files -- the header and the assembled code (usually resulting in a .bin or .o file) by using <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">copy /b header.bin+code.bin game.nes</tt>.  You then load <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">game.nes</tt> in an emulator.  It's that easy.<br /></div><br />I'm a little confused. Should the actual source code (Before being combined with the header) be saved as an .nes file,  or .bin?<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">P.S. -- In your first post you asked &quot;What emulator is compatible with Asm6?&quot; -- this question means nothing.  asm6 is a 6502 assembler; it has no relation to emulators.<br /></div><br />I only asked that because I thought the errors I was getting were because of how my code was being assembled.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Sun Jul 21, 2013 2:49 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Now what?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Six wrote:</div><div class="quotecontent">How do I go from something simple like this, to actually making some form of a game?</div><br />It seems you have 2 separate things to learn: 6502 assembly and game programming. 6502 assembly is just a language, a way for you to communicate with the system and tell it what to do. Knowing *what* to tell the system is what game programming is all about.<br /><br />If you think about it, the ultimate goal of a game program is to put objects in the correct positions, select the correct animation frames, control the number of lives a character has... it's all numbers. In order to calculate all those numbers, you have to simulate the game world as best as possible: you have to model everything that exists in the game world, storing their attributes in RAM. An enemy for example, needs a position (X and Y coordinates), health points, direction of movement, among other things. So, when you have every active game entity mapped in RAM, you need to make them &quot;live&quot;. This is accomplished by processing a step for every object each frame. Every frame you have to loop through all of the objects and calculate what they'll do next - very small actions, like moving one pixel forward or initiating a a jump. At 60 frames per section, these small actions create the animations you see while playing.<br /><br />The actions of the player are usually dictated by the data you read from the controller, along with whatever external forces you have acting upon him. For example, if gravity is pushing the player down, there are certain things he can't do even if the commands are given through the controller. You have to manually check for all of these exceptions, so you need to have a lot of attention to detail in order to foresee all these possible situations. Other objects are controlled by the external forces, and their own AI routines. AI routines are groups of rules that dictate how objects behave... whether they walk from side to side or follow the player, when to jump, and so on.<br /><br />This is the most basic breakdown I can make of how a game works. Once you success in displaying simple objects on the screen, hopefully you'll realize that in order to control them and give them life you'll have to simulate them at a deeper level, in addition to worrying about their visual appearance.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Whenever I write a short piece of code, compile it, and then try and emulate it, it either says &quot;Invalid File&quot; or &quot;Corrupt File&quot;.</div><br />There might be some inconsistency between the information contained in the header and the rest of the ROM file. For example, if the header says that there are 2 PRG-ROM banks, you need to have 32KB of PRG-ROM... anything different than that and the emulator gets confused, and can't do anything other than declare the ROM corrupt.<br /><br />Since you're beginning, I assume you're trying to make the simplest ROM possible: 16KB of PRG-ROM + 8KB or CHR-ROM, so the ROM file should be 16 bytes (header) + 16384 bytes (CHR-ROM) + 8192 bytes (PRG-ROM) = 24592 bytes. In windows, to see the exact sizes of the files in bytes, right-click them and select &quot;Properties&quot; (ignore &quot;Size on disk&quot;, you want &quot;Size&quot;). 32KB of PRG-ROM is also common for beginners, in which case the file should be 40976 bytes.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">What's the correct header for Asm6? (Is there even one?)</div><br />My <a href="http://forums.nesdev.com/viewtopic.php?p=58138#p58138" class="postlink">ASM6 templates</a> generate the header in a very straightforward way, with .db statements before the start of the program.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">What emulator is compatible with Asm6? (Right now, I'm using Nestopia.)</div><br />There's no such thing. No matter the assembler you use, the result SHOULD be an 100% valid NES program, capable of running on an actual NES console or any emulator that faithfully recreates that console.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dwedit</b> [ Sun Jul 21, 2013 2:57 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Now what?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />ASM6 lets you output the NES header manually as bytes.<br /><br />.db &quot;NES&quot;,$1A<br />.db 2,1,0,0,0,0,0,0,0,0,0,0<br />.org $8000<br />;code goes here

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>