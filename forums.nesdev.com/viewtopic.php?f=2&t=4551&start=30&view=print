<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - NES Dev Collaborative Fighting Game</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">NES Dev Collaborative Fighting Game</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=2&amp;t=4551">http://forums.nesdev.com/viewtopic.php?f=2&amp;t=4551</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>3</strong> of <strong>9</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>SecretServiceDude</b> [ Thu Nov 13, 2008 10:02 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent"><div class="quotetitle">SecretServiceDude wrote:</div><div class="quotecontent">I'd recommend the <em>Street Fighter 2</em> method, where holding the direction opposite your facing direction invokes a guard. Or hold down + back for a crouching guard.</div><br />And then the other player can spam weak punch to prevent you from backing up.</div>
<br />I don't recall that ever being a problem in <em>Street Fighter 2</em>. I think the guard only gets activated if the other player is within attacking range.
<br />
<br />In either case, nothing prevents the player from jumping backwards as a means of backing up.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Thu Nov 13, 2008 11:08 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Then how are throws done? I could never pull off throws in SF2 on my Super NES. In the game I play more often, throw is guard+attack or attack+special.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>SecretServiceDude</b> [ Thu Nov 13, 2008 7:48 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">Then how are throws done? I could never pull off throws in SF2 on my Super NES. In the game I play more often, throw is guard+attack or attack+special.</div>
<br />In SF2, throws are usually done by pressing the punch button <em>while</em> holding either forward (to throw the opponent forward) or back (to throw the opponent backward). But you have to be right up against the opponent; if you're separated by more than a small distance, you'll throw a punch instead.
<br />
<br />Some of the characters (e.g. Ryu and Ken) have alternate throws that are performed the same way, but with the kick button instead.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Roth</b> [ Fri Nov 14, 2008 9:40 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />How complicated is it to make an entire character out of background and allow for regular movement that doesn't look different from a character that is all sprites?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Fri Nov 14, 2008 9:47 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />You can allow for full movement through scrolling, but you're limited to 16x16 pixel color areas.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Fri Nov 14, 2008 9:53 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />This isn't complicated, but just that background only allows 16x16 color definitions and doesn't allow any flipping, tiles have to be aligned on a 8x8 gird too. Using only sprites it's possible to cheat and using misaligned tiles to optimize tile usage, but that won't be possible in that case.
<br />If we don't want to store each character two times in the CHRROM, it'd be good to have the one watching in one direction always BG and the one watching in the other direction always a sprite (using horizontal flipping). 
<br />
<br />Also it'd be good to have some way of uploading the BG character in nametable in a single VBlank, maybe 2 if this simplifies things (split top/bottom, but that will introduce some minor artifacts I guess).
<br />
<br />That way, when a character jumps over another, they imediately switch the direction they're watching (as in SF2) and the BG character and sprite characters immediately get swapped.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Roth</b> [ Fri Nov 14, 2008 11:13 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Does this mean that every character would also require having all background tiles for all the fighting scenes in their 4k chunk of space? If so, wouldn't this severly limit how many scenes we could have, and/or how many moves the characters themselves could perform? Forgive me if these aren't the best questions, but I'm trying to get some sort of planning in my head for how data would be set up.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Fri Nov 14, 2008 11:20 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Yes, but thanks to CHRROM you can switch different banks in that 4kb at different times so this is really not a big deal.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Fri Nov 14, 2008 2:30 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">If we don't want to store each character two times in the CHRROM, it'd be good to have the one watching in one direction always BG and the one watching in the other direction always a sprite (using horizontal flipping).</div><br />This is a very good idea! There is simply no extra ROM cost then.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Also it'd be good to have some way of uploading the BG character in nametable in a single VBlank, maybe 2 if this simplifies things (split top/bottom, but that will introduce some minor artifacts I guess).</div><br />With optimized code, it's probably possible to do it in 1 VBlank, since there is not much else going on. The scrolling is just horizontal, and depending on the nature of the background, VRAM updates might not even be necessary. Sprite DMA is required, as are occasional palette updates.<br /><br />But even if for some reason it has to be done every 2 VBlanks, since there are 2 name tables it's possible to draw the new tiles to the half that is not on screen, and only show it when the fighter is complete. Double buffering, essentially. Note that this wouldn't even make the game any less smooth, because the fighter can still be moved around, only it's animations will be restricted to 30FPS, which is still more than the typical animation.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">That way, when a character jumps over another, they imediately switch the direction they're watching (as in SF2) and the BG character and sprite characters immediately get swapped.</div>
<br />Right. and with priority control it's possible to maintain one in front of the other consistently even when they switch sides, so that a person playing the game will have no way to tell what's happening. Most fighting games have the players always facing each other, which is a requirement for this trick to work.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Fri Nov 14, 2008 2:37 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">But even if for some reason it has to be done every 2 VBlanks, since there are 2 name tables it's possible to draw the new tiles to the half that is not on screen, and only show it when the fighter is complete. Double buffering, essentially. Note that this wouldn't even make the game any less smooth, because the fighter can still be moved around, only it's animations will be restricted to 30FPS, which is still more than the typical animation. </div><br />Yes, but you'd want to be sure the fighter is never partially outside of the screen to do this. Using the normal method (only one image in one nametable) allow the character to be partially outside of the screen, there will be proper blank data from the other nametable. This is not a big issue tough as we'd hardly want to do that. What you describe is probably the way to do it in fact.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">With optimized code, it's probably possible to do it in 1 VBlank, since there is not much else going on. The scrolling is just horizontal, and depending on the nature of the background, VRAM updates might not even be necessary. Sprite DMA is required, as are occasional palette updates. </div>
<br />Yes, SpriteDMA+Palette is compulory (palette updates will probably be needed instantly when player switch their directions), and only minor nametable updates like score and lifebar will be intervealed with the heavy BG fighter nametable updates. The playfield would probably never change, exept for maybe some palette effects or tileset effects if CHRROM allows it.
<br />
<br />EDIT : About priorities, in SF2 it seems the attacker is always in front and the guy being attacked behind. In that case, the sprite has to set it's "behind BG" flag if being attacked, and clear it otherwise. That should fix the priority problem.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Wed Nov 19, 2008 12:41 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Okay now let's start something serious before this threads vanishes, ok ? I guess everyone comes with pretty good ideas so it'd be a shame to just let this project being forgetten forever.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Memblers</b> [ Wed Nov 19, 2008 2:51 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">Yes, but thanks to CHRROM you can switch different banks in that 4kb at different times so this is really not a big deal.</div>
<br />
<br />We've got 2 midframe scroll points (3 with a status bar), where we can also swap BG/SPR tile usage.  If 2 players + level fit in 8kB, you could get by with 8kB CHR-RAM.  Having the upper part of the screen at $0000 and the lower part at $1000, background tile usage could be divided somewhat equally.
<br />
<br />I think the game is more likely to get done if we have a limited amount of graphics that we can easily fill up.  Because not everyone will want to work on character design for months.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Celius</b> [ Wed Nov 19, 2008 4:44 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />How are we going to count to these scroll points? Will we use something like MMC3 or MMC5's scanline counter? I suppose we shouldn't use MMC3 if we want to take sprites from both tables and use 8x16 sprites.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Memblers</b> [ Wed Nov 19, 2008 5:21 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Celius wrote:</div><div class="quotecontent">How are we going to count to these scroll points? Will we use something like MMC3 or MMC5's scanline counter? I suppose we shouldn't use MMC3 if we want to take sprites from both tables and use 8x16 sprites.</div>
<br />
<br />Sprite #0 hit, followed by timed code.  Status info would need to be sprites, then.  We'd be using a lot of CPU time with delays, but I think there would be plenty to burn.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Wed Nov 19, 2008 5:45 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Memblers wrote:</div><div class="quotecontent">Sprite #0 hit, followed by timed code.</div><br />What time would there be to update the game logic? Only after the background player is finished? That's too little.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Status info would need to be sprites, then.</div>
<br />Say bye bye to the horizontal health bars...! I hope this game gets something more original then.
<br />
<br />Also, there are the parallax effects at the top to consider. If the end of VBlank can be detected (when the sprite hit flag clears), the status bar and the background at the top could have as many raster effects as necessary with the use of timed code.
<br />
<br />In fact, if CHR-RAM is used, you might just as well get rid of the whole background player thing, because if all the graphics have to fit in just 8KB, you can bet these sprites will be really small! The whole point of the background player is the possibility of large fighters.
<br />
<br />IMO, what we've discussed so far is not a simple UNROM project. A fighting game with large fighters and lots of parallax effects is just not suited for UNROM. Not saying UNROM isn't a valid choice for a good game, but what we've discussed so far and UNROM games are very different things, just keep that in mind if you take that route.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>3</strong> of <strong>9</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>