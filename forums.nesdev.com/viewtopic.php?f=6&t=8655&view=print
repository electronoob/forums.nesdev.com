<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Portable NSF/MP3 player</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Portable NSF/MP3 player</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=6&amp;t=8655">http://forums.nesdev.com/viewtopic.php?f=6&amp;t=8655</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>keipa_glows</b> [ Sat Feb 25, 2012 4:20 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Portable NSF/MP3 player</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Hello there guys! Recently, i've become interested in making of portable nsf\mp3 player, due to my own interest in NES music and science project in the institute i have to do. I want to tell you about what i've found so far on this subject, and would like to hear any suggestions and advices you can help with!
<br />
<br />First of all ideas was to made NSF player using existing open source libraries, or even whole open source NSF player. But problem is, most of NSF players i've found requieres around 166-500 MHz CPUs, so bassicaly it would be hard to run on something like Atmel's microcontrollers, on which i was going to made this project. Also i've found this thread:
<br />
<br /><!-- m --><a class="postlink" href="http://nesdev.com/bbs/viewtopic.php?p=7946&amp;sid=bf6246bece41e7daec5130a75f285283">http://nesdev.com/bbs/viewtopi ... a75f285283</a><!-- m -->
<br />
<br />But as far as i can see, nothing came out from there. It's just noone really needs device like this nowdays, just amateurs-enthusiasts like me. So if anyone can help with some information about existing NSF player on microcontroller, let me know!
<br />
<br />Second idea was to write my own NES APU emulator and use it in player, but this seems like a very time consuming activity. But hey, i've found some guy who made NSF player on TurboGrafix 16, and this is just incredible. It's quite possible to code it not harsh on CPUs frequency i guess.. So again, if there's some article about writing your own NSF player, let me know!

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>keipa_glows</b> [ Sat Feb 25, 2012 4:27 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />There was also an idea to build whole project around MP2520F signal processor, which seems like a legitimately good idea, since it's already powerful enough. On the other hand it's not that smart to make portable player on MP2520F, since there are existing devices that can do the same. Idea behind using Atmel's microcontrollers is neat, and cheaper i guess, hm..

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Shiru</b> [ Sat Feb 25, 2012 5:01 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />TG16 has CPU that is compatible with NES but few times faster.
<br />
<br />What exactly the Atmel MCUs you intend to use? AVRs? In case of AVR 8-bit I'd say you would need two MCUs to get good sound quality - one would emulate CPU and other would emulate sound. In this case you probably will be able to write everything in C.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>keipa_glows</b> [ Sat Feb 25, 2012 6:42 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Yeah, it makes sense, otherwise emulating NES on TG16 would be quite a task.
<br />
<br />I was thinking of mega family, but there are others like xmega and UC3, which is 32 bit, and runs on 60 MHz, but this is all AVRs, anyways.. I haven't thought about using two of them, thanks for idea! I wonder if they "fast enough" for "separate" emulation, mm. I should have done more coding to know that..

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Shiru</b> [ Sat Feb 25, 2012 7:04 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />It is 100% known that a Mega is fast enough to emulate 8080 and run simple video generation simlutaneosly (<a href="http://pmd85.topindex.sk/" class="postlink">PMD85</a> emulator[/url]. It is 100% known that an (overclocked) Mega is capable to emulate <a href="http://www.swinkels.tvtom.pl/swinsid/" class="postlink">SID</a> to some extent with extra features, or emulate AY-3-8910 (many projects), or play some chiptunes while doing a lot of other stuff (<a href="http://www.linusakesson.net/scene/craft/" class="postlink">Craft</a>, <a href="http://belogic.com/uzebox/index.asp" class="postlink">Uzebox</a>). So I think it is pretty safe to state that a NSF player is doable with two Megas programmed in C. With a single AVR - it may be doable if everything is programmed in assembly, although I have doubts about sound quality.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>keipa_glows</b> [ Sat Feb 25, 2012 9:43 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Thank you Shiru! Interesting projects, haven't seen any of them. Now i'm sure to work on AVRs!

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Shiru</b> [ Sat Feb 25, 2012 10:02 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Also, you can get some nice results at early stage if you emulate sound part first and use register write logs to test it. You can create such log by modifying an existing NSF player or emulator code.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Sat Feb 25, 2012 7:37 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />There's the <a href="http://nesdev.com/bbs/viewtopic.php?p=73476#73476" class="postlink">NSF emulator for PIC18</a> at 16MIPS, and <a href="http://www.rockbox.org/wiki/SoundCodecNSF" class="postlink">RockBox</a> has had NSF support for a while now; it seems to require a ~30MHz ARM.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>keipa_glows</b> [ Sun Feb 26, 2012 7:32 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Interesting, i was thinking about using RockBox.. Thanks for advices guys!

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>