<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - 8x16 and whatever else unreg wants to know</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">8x16 and whatever else unreg wants to know</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=10&amp;t=7451">http://forums.nesdev.com/viewtopic.php?f=10&amp;t=7451</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>37</strong> of <strong>83</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>unregistered</b> [ Wed May 23, 2012 3:57 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Shiru wrote:</div><div class="quotecontent">Learn to trace in an emulator debugger, it'll help you a lot to figure out problems like this. It is difficult for other people to help you fix large chunks of the code, because they don't have information that you have (what it is, what it should do, how it should work etc).</div>
<br />Ok, I understand that now. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />  Thank you!

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>unregistered</b> [ Fri May 25, 2012 12:33 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />When I open our game's nes file with FCEUX   I am awarded with 
<br /><div class="quotetitle">...an 'FCEUX Error' message pops up and wrote:</div><div class="quotecontent"><span style="color: red">Error opening Game Genie ROM image!</span></div>
<br /> What does that mean?  <img src="./images/smilies/icon_confused.gif" alt=":?" title="Confused" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Fri May 25, 2012 1:00 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Does it say that even if you turn off cheating?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>unregistered</b> [ Fri May 25, 2012 2:12 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">Does it say that even if you turn off cheating?</div>
<br />Cheating?! <img src="./images/smilies/icon_eek.gif" alt=":shock:" title="Shocked" />  Um, how can I turn off cheating? <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Kasumi</b> [ Fri May 25, 2012 2:18 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Config, uncheck game genie.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>unregistered</b> [ Fri May 25, 2012 2:36 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Ah, thank you Kasumi. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />
<br />
<br /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">Does it say that even if you turn off cheating?</div>No it doesn't say anything now that cheating is off.  Thank you for asking that. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />  It's not a horrible gray screen creater.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>unregistered</b> [ Fri May 25, 2012 3:33 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Kasumi wrote:</div><div class="quotecontent"><div class="quotetitle">unregistered wrote:</div><div class="quotecontent">This section of code I posted is my new code.  I dont think its ever been run... I do expect the pc to reach it... i think Going to look now.</div><br />Keep in mind, you never have to guess. You can put a breakpoint for that range.<br /><br />But as for the problem, and there's not much to go on. I would just go through and put breakpoints for ranges of all the routines.<br /><br />reset:<br />Otherstuff1:;Maybe checking the joypad?<br />Otherstuff2:<br />Otherstuff3:;Maybe updating tiles?<br />Otherstuff4:;Maybe updating the sprites?<br />Otherstuff5:<br />end;<br /><br />Start at Otherstuff3. If that breakpoint hits, make one for end. If that doesn't hit, make one back at Otherstuff4. If it hits, try Otherstuff5. If it hits, step through it and find out why end never runs. If all the sections of your code are hit like you expect, you have to do a more indepth check in order. Put a breakpoint directly after all the routines that were recently changed. <br /><br />For instance, right now, it seems like no tiles are being written to $2007 at all. (Either that, or your palettes are all gray for some reason.) Put a breakpoint directly after your tile update routine, and look in RAM for the proper values. If that works, check why those values are never being written in the NMI.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">The recent changes have been the new code I've posted. I don't remember what was where when... In my coding process so far I try to write the code first... then I play debug... then I run it when it can be run. That's the best I can do right now... I think.<br /></div><br />Do you keep a changelog, or backups? If so, I'd start to. Even something simple like this is good.<br />Version 1:<br />Added animations.<br />Add movement.<br />Version 2: <br />Added horizontal scrolling.<br />Added 16bit movement for sprites.<br /><br />I backup my entire source folder for every major change, and keep track of changes. This allows you to only check what was changed when you have an issue. "It was working. I added X, and changed Y. Now it's not. The problem is probably in X or Y, so I'll look at their logic." This also means if you REALLY screw up, you can just copy over the last backup.<br /><br />Also, never write super large portions of code without checking them. For an example of something you've done before (tile updating), you could write something that gets the two right most 8x8 tile numbers of a known 16x16 metatile and writes them to ram. Run it, and check to see the write values are written to RAM. Then you write something that writes a whole known column of the tiles to RAM. If it doesn't work, or breaks your program you know exactly what to check. Then, you make your NMI write the tiles to $2007. Then you make it so can write a column at X position. If you write a single routine that does the equivalent of all that without checking any of it, you're in REALLY deep. Especially if you have to rewrite it ALL instead of just fix it.<br /><br />And if you have no idea what was changed, you basically have to check the entire program.<br /><br />So I guess those were debugging tips, because I have no idea about the actual problem with the information given. It's time to get your hands dirty!  <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /></div><br />Kasumi, <strong>thank you so much</strong> for all these incredible debugging tips!! <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" />  It really helps me to learn at debugging!  So far I've determined that the function runs fully twice. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /> I'm going to try keeping the changelog you suggested with version numbers.  And I'm going to save a copy of this once the Gray Screen goes away. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br /><br /><div class="quotetitle">tepples wrote:</div><div class="quotecontent"><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Then, you make your NMI write the tiles to $2007. Then you make it so can write a column at X position. If you write a single routine that does the equivalent of all that without checking any of it, you're in REALLY deep. Especially if you have to rewrite it ALL instead of just fix it.</div><br />And once you do get it correct, you can make an automated test suite that plugs in a few numbers, calls the subroutine, and compares its output to what was expected.</div>
<br />Thanks tepples! <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" />  Maybe I will try that.  <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>unregistered</b> [ Sat May 26, 2012 5:09 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">the <a href="http://wiki.nesdev.com/w/index.php/PPU" class="postlink">nesdev wiki</a> wrote:</div><div class="quotecontent"> The NTSC video signal is made up of 262 scanlines, and 20 of those are spent in vblank state. After the program has received an NMI, it has about 2270 cycles to update the palette, sprites, and nametables as necessary before rendering begins. </div>
<br />
<br />So does that mean I might be messing something up because at the start of <span style="color: yellow">screeeens</span> I turn rendering off and then right before the end I turn rendering on again.?  <span style="color: cyan">Could those actions cause the gray screen?</span>  <img src="./images/smilies/icon_question.gif" alt=":?:" title="Question" />   Maybe I spend more than 2270 cycles... I don't understand...  <img src="./images/smilies/icon_confused.gif" alt=":?" title="Confused" />   I've followed the program... it keeps on running... the only thing  in  my infinite MainLoop is something that reacts to input... <strong>that's why my song plays when I press select</strong>.  I just figured this out!  <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Shiru</b> [ Sat May 26, 2012 5:12 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />If you don't fit the VBlank time with VRAM access, program won't crash, it will just show jumpy or messy screen.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Kasumi</b> [ Sat May 26, 2012 6:11 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I've taken a hard look at what you've posted, and I don't see anything I think would cause your problem. In fact, the logic of it shows some really creative thinking. But I'm assuming lots of things based on how I'd organize this.
<br />
<br />Can you describe the general structure of your program? Where is the routine you posted? Above your main loop? In your NMI? What does your NMI currently DO? How about your main loop? How about before that? No need to post code, just give a description what they currently do.
<br />
<br />Or just log the entire game from the beginning, and compare it with your source code. Compare what's happening with what you expect.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>unregistered</b> [ Sat May 26, 2012 6:40 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Shiru wrote:</div><div class="quotecontent">If you don't fit the VBlank time with VRAM access, program won't crash, it will just show jumpy or messy screen.</div><br />Ok that's good to know. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />  My program doesn't crash... I want it to though.  Thank you Shiru. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />  My music keeps on playing!!  <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" />  <br /><br /><div class="quotetitle">Kasumi wrote:</div><div class="quotecontent">I've taken a hard look at what you've posted, and I don't see anything I think would cause your problem. In fact, the logic of it shows some really creative thinking.</div>  
<br />Wow, thank you... gosh... really creative thinking... you are so kind! <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" />  Thank you for all of your help... I'm going to finish this reply soon. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>unregistered</b> [ Sun May 27, 2012 1:57 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle"><span style="color: green">Kasumi</span> wrote:</div><div class="quotecontent">Can you describe the general structure of your program?</div><br />I could try, I think...  Um, well so far it's not a very big program... at $C000 it starts with the 'reset' code.  That code ends at $C058.  After that the MainLoop starts and it runs react_to_input which basicly covers reading the controller... then it <br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">0C05A 58&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;cli<br />0C05B&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;;----------------------------END OF RESET-----------<br /><br />-----------------------<br />0C05B&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;; Transfer control to the GAME LOGIC routines.<br />0C05B&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />0C05B&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />0C05B&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;initialize the flag to &quot;false&quot; <br />0C05B A9 00&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; lda #$00 <br />0C05D 85 1F&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; sta FrameReady <br />0C05F&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />0C05F&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;MainLoop: <br />0C05F&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />0C05F&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;DO THE GAME LOGIC HERE &#40;i.e. movement, collisions, etc.&#41; <br />0C05F 20 DA C0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; jsr react_to_input<br />0C062&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />0C062&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;;indicate that the frame calculations are done <br />0C062 C6 1F&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;dec FrameReady <br />0C064&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />0C064&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;WaitForUpdates: <br />0C064&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />0C064&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;wait for the flag to change <br />0C064 24 1F&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bit FrameReady <br />0C066 30 FC&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bmi WaitForUpdates <br />0C068&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />0C068 4C 5F C0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; jmp MainLoop<br /></div><br />That's pretty much it.<br /><br /><div class="quotetitle"><span style="color: green">Kasumi</span> wrote:</div><div class="quotecontent"> Where is the routine you posted? Above your main loop? In your NMI?</div>  The better <span style="color: orange">see:</span> routine I posted is in a file called <span style="color: yellow">...screeeens.asm</span>. It is called twice toward the end of the reset code inside an <span style="color: cyan">init nametables</span> so yes it runs above my MainLoop. Not in my NMI, I don't think.<br /><br /><div class="quotetitle"><span style="color: green">Kasumi</span> wrote:</div><div class="quotecontent">What does your NMI currently DO?</div>My NMI?  Guess you mean my <span style="color: orange">vblank:</span> routine.  Currently it <span style="color: red">1.)</span> preforms some video updates and then <span style="color: red">2.)</span> it runs FamiToneUpdate (sound) and then <span style="color: red">3.)</span> it quits.  <br /><br /><div class="quotetitle"><span style="color: green">Kasumi</span> wrote:</div><div class="quotecontent">How about your main loop?  How about before that?</div>I posted code for my MainLoop above because I can't describe the end of it <img src="./images/smilies/icon_sad.gif" alt=":(" title="Sad" />...   Before my MainLoop I set a variable to 0... and right before that is my reset code.<br /><br /><div class="quotetitle"><span style="color: green">Kasumi</span> wrote:</div><div class="quotecontent">Or just log the entire game from the beginning, and compare it with your source code. Compare what's happening with what you expect.</div> Could I press the Next button with the keyboard some how?  Cause then it would be easier to make it through the long loops.  Just hold down the button... then it'd go pretty fast, I think. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />  Or maybe I could somehow make it not run loops?  <img src="./images/smilies/icon_confused.gif" alt=":?" title="Confused" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Sun May 27, 2012 5:35 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">unregistered wrote:</div><div class="quotecontent">Or maybe I could somehow make it not run loops?  <img src="./images/smilies/icon_confused.gif" alt=":?" title="Confused" /></div>
<br />Make a breakpoint for the address right after the loop, then press "run".

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Shiru</b> [ Sun May 27, 2012 5:57 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />When it is too difficult to find where to put a breakpoint from a debugger, you can put 'stop' code into the program, i.e. label: jmp label - so the program gets into an infinite loop after reaching that point, allowing you to examine system state. You can then resume execution by setting PC past the loop from the debugger.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Sun May 27, 2012 6:12 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />That's a good idea Shiru, the only problem I see with it is that interrupts (NMIs and IRQs) might still mess up the system state. Personally, I always use writes to $FF as breakpoint triggers, so all I have to do is "sta $ff" at the point I want to debug.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>37</strong> of <strong>83</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>