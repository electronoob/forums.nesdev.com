<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Get here DMC samples (4) from the Kirby's Adventure NSF</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Get here DMC samples (4) from the Kirby's Adventure NSF</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=6&amp;t=1213">http://forums.nesdev.com/viewtopic.php?f=6&amp;t=1213</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Jarhmander</b> [ Sun Mar 12, 2006 12:38 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Get here DMC samples (4) from the Kirby's Adventure NSF</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><a href="http://rapidshare.de/files/15292383/KIRBY.ZIP.html" class="postlink">http://rapidshare.de/files/15292383/KIRBY.ZIP.html</a>
<br />
<br />A RapidShare link. It *would* be nice if they can be hosted directly on that server...
<br />
<br />Edit:<a href="http://www.savefile.com/files3.php?fid=9256897" class="postlink">http://www.savefile.com/files3.php?fid=9256897</a> New link, direct download.
<br />
<br />Well it is a long story... Because I discovered that there is <span style="text-decoration: underline">no</span> program to rip DMC samples from NSFs, I decided to rip myself those DMC samples... Because I know nothing of programming, I had to use an Hex editor (yep, really, believe it or not) to rip them from the original NSF (see below the full history), and because I thought that maybe some people here would like to have them, I decided to post that topic. Cute story &lt;3 ^^ . Maybe later I'd rip DMC samples from Super Mario 3 ...
<br />
<br />Oh — and enjoy using FamiTracker! <a href="http://user.tninet.se/~zxy965r/ft/" class="postlink">http://user.tninet.se/~zxy965r/ft/</a>
<br />
<br />—<span style="text-decoration: underline">How I did</span>—
<br />
<br />At the begin, I thought, "Oh, Gosh, how can I do?" and I quickly put a pencil in my eye and I cried. After I ate that eye I thought that it is impossible, because I hadn't 2 eyes. Then I discovered Famitracker. A day I e-mailed its programmer, for suggestions for his beta, and I asked a question, which is how dmc samples works. That cool guy gave me a good short n' smart explanation and everything became clear (or maybe I just stopped taking drugs o_O) so I thought, "OMG, a #@$% crappy DPCM is so dumb.". And then I thought, "According to that stupid format, which is 1-bit delta, and of the nature of the NES, it is impossible that the sound is compressed, or altered into the NSF. So it is certain that the sample is somewhere on that file as-is". Then I used CutKiller to cut the NSF into small pieces of 3 kb and using FamiTracker, I listened to all parts of the NSF into the DPCM channel and OMG I discovered that the samples were located at about the last 2 kb of the NSF. So using G-NSF I opened the NSF, went to track 13 (Boss music) and Muted all but the DPCM channel, and exported a WAV file. Then I used the Wave Editor under FL Studio to look at each sounds, I seeked on the Hex editor on the last 2 kb when and where the sound start/stop by reading the bits and understanding how the sound progress, I cut 4 pieces with a scalpel in that big hex string and Wow! Now I have 4 Kirby DMCs and my eye came back! and If you think that my method sucks and is imprecise, remember that I almost lost an eye by trying this way, and I'm also an evil smart guy (sometimes even geeky) , just listen to the sample on a good NSF compsing tool (e.g.: Famitracker) and you'll see the perfect sound I made, and if you dare laught at my work Chuck Norris will round-house kick you into another dimension.
<br />
<br />~J-@D!~

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Quietust</b> [ Sun Mar 12, 2006 12:53 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />You know, you could have saved yourself a <strong>lot</strong> of trouble by just patching an emulator or NSF player to dump the PCM samples during playback.
<br />
<br />Given the restriction of only dumping each PCM sample once, and logging the frequency each sample is played at, I reckon I could probably hack my own emulator to dump samples in 8-bit RAW format in about 15 minutes. After that, it would only be a matter of importing the raw data into one's favourite audio editor and exporting it as a WAV file.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Sun Mar 12, 2006 12:38 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Thanks for giving me an excuse to put <a href="http://www.pineight.com/nes/#18" class="postlink">my own DPCM ripper</a> on my NES page. It works on any .nes or .nsf file by playing the whole thing as a DPCM sample and recording the output in an 8-bit PCM WAVE file.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Jarhmander</b> [ Sun Mar 12, 2006 3:27 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><img src="./images/smilies/icon_question.gif" alt=":?:" title="Question" />  I think you don't understand.... this is the 4 DMC file (1-bit delta PCMs) of the game (to use with any NES music composing tool)... not WAV files! And your DPCM ripper seems not to work very well, since it plays at slow speed all the NSF.
<br />
<br />Quiestust, what you said seems interesting, but I didn't understand all your idea... Can you explain more?...

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Jarhmander</b> [ Tue Mar 14, 2006 1:51 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />..-_-.. Zzz Zzz Zzz...

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Tue Mar 14, 2006 2:09 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">~J-@D!~ wrote:</div><div class="quotecontent">:?:  I think you don't understand.... this is the 4 DMC file (1-bit delta PCMs) of the game (to use with any NES music composing tool)... not WAV files!</div><br />This tool makes the DPCM easier to find in your manual method, replacing the cutkiller and famitracker steps. You can decode to .wav, find the appropriate sample offsets using any wave editor such as Audacity, and then rip the DPCM bitstreams manually with a hex editor.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">And your DPCM ripper seems not to work very well, since it plays at slow speed all the NSF.</div>
<br />It rips them at 16800 Hz, which is close to the 16884 Hz speed of DPCM playback rate $C. I'm guessing that drum samples may be played at $E or $F; any wave editor can change the playback rate. A fully automatic DPCM ripper, based on the source code of an NES emulator, would emulate the .nsf and log the starting values of $4010-$4013 of all DPCM playback requests.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Jarhmander</b> [ Tue Mar 14, 2006 5:59 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />^^ exact — and I know some1 who think he could do that (by hacking a NSF player.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Jarhmander</b> [ Thu Mar 16, 2006 9:05 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Oh — That player now exist, and I use it! It rips DMCs very well!

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>cartridge</b> [ Thu Mar 16, 2006 10:58 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>The Player (jsr, I mean... his player... nevermind)</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Yeah, that player is unstoppable... I think that it does about everything, except that if ya play The Legend of Zelda (from '87... the first one) there is a strange instrument lurking in the dpcm section... and the dmc finder, well, can't figure it out. I also posted this at 2a03, for some of their expertise on the subject. Now, at the start is a "horn" followed by a "bell." This happens for the intro/title song, and the end credits song there is the "bell" again. Strange huh? I wonder if it is a dmc or not? (curious much)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Jarhmander</b> [ Fri Mar 17, 2006 1:22 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />cartridge: lol ^^ it's because they are not DPCMs, it's the FDS extension! =D

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>cartridge</b> [ Fri Mar 17, 2006 3:05 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><img src="./images/smilies/icon_eek.gif" alt=":shock:" title="Shocked" />  Wow! Well, they were convincing... right?  <img src="./images/smilies/icon_question.gif" alt=":?:" title="Question" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Jarhmander</b> [ Fri Mar 17, 2006 10:40 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />For sure ^^

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>2wm</b> [ Thu Mar 23, 2006 2:25 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />the bell and horn sounds in legend of zelda are on the FDS (famicom disk system) channel. if you have the famicom version of the zelda nsf (zelda no densetsu) and you look at the keyboard in nsfplay you'll notice activity on the FDS channel.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>2wm</b> [ Thu Mar 23, 2006 2:26 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />drrr...need to read all the posts before i reply.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>