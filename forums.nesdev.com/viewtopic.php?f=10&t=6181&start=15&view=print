<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Help! Specific questions on scrolling, nametables, mirroring</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Help! Specific questions on scrolling, nametables, mirroring</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=10&amp;t=6181">http://forums.nesdev.com/viewtopic.php?f=10&amp;t=6181</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>2</strong> of <strong>2</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Wed Mar 17, 2010 11:59 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">Well, the only reason it looks so horrible is because they handled it in a bad way. Most games went the way to show all glitches on one side, and no on the other side, which makes it very noticeable - you can have glitches on both sides but on a twice smaller window.</div><br />On NTSC, the NES picture is centered a couple pixels to the right. Hiding the leftmost 8 pixels makes this even more pronounced. Artifacts at the far right are much more likely to be chopped off by a CRT TV than artifacts at the far left.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">does someone know a game which have a large easily bi-directional scrollable map so I can use savestate data from it to create a demo ?</div>
<br />Must it be homebrew, or is Super Mario Bros. 3 OK?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dafydd</b> [ Wed Mar 17, 2010 12:14 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Thanks for all the input, guys, though I have to admit you are a little over my head right now... haha <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />
<br />
<br />Shame there's no diagonal mirroring mode, so that 2000 is in 200C and 2004 is in 2008. I'm using a PowerPak, so I can use a mapper if I want to, I just wanted to know how to do this stuff without "cheating", if you know what I mean.
<br />
<br />I agree glitches are a little annoying, but I don't know if it's worth sacrificing lots of pixels in any direction just to get rid of them. Anyway, I guess I should just get my hands dirty and try what you suggested and see what I like better.
<br />
<br />I'm considering making a very simple, non-real-time PPU simulator that just lets you poke around with the values, bit by bit, and see what happens. You know, for educational purpuses. I think something like that would have helped save me a lot of misery plowing through endless txt files riddled with mind-boggling ascii art.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Wed Mar 17, 2010 12:21 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Dafydd wrote:</div><div class="quotecontent">Shame there's no diagonal mirroring mode, so that 2000 is in 200C and 2004 is in 2008.</div>
<br />Diagonal mirroring exists on a couple mappers, one of them being <a href="http://wiki.nesdev.com/w/index.php/INES_Mapper_118" class="postlink">T*SROM</a>. MMC5 has it as well.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dafydd</b> [ Wed Mar 17, 2010 12:47 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Oh. Ok, well, I meant as an original setting. You wouldn't need any extra memory to pull it off, nor any mapper to change the mirror setting while the game is running. Well, you do, since it's not one of the original settings, but it COULD have been.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Wed Mar 17, 2010 1:04 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />"Original settings" were implemented by wiring PPU A10 or PPU A11 directly to CIRAM A10. Diagonal mirroring would have needed to go through an XOR gate, which increases the parts count.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Wed Mar 17, 2010 1:50 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Must it be homebrew, or is Super Mario Bros. 3 OK?</div><br />Well it don't have to be homebrew, but I wanted it to be at least 2x2 screens wide - SMB3 is less than 2 screen height. Otherwise yeah it would be all right.<br /><br />And it's fun you mention diagonal mirroring, because I wonder if it has ever be used. I think it would remove glitches if you scroll only one direction at a time, but true multi-directional scrolling would be even more of a headache.<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">On NTSC, the NES picture is centered a couple pixels to the right. Hiding the leftmost 8 pixels makes this even more pronounced. Artifacts at the far right are much more likely to be chopped off by a CRT TV than artifacts at the far left.</div>
<br />Well it is why I have 4 "wrong color" pixels at the right and 3 at the left  <img src="./images/smilies/icon_wink.gif" alt=":wink:" title="Wink" /> 
<br />Because emulators show all pixels left &amp; right I can't really rely on clipping here. But it's true most games with horizontal scrolling glitches looks better on TVs (which crop some pixels) than emulator (which show everything).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Wed Mar 17, 2010 2:57 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">And it's fun you mention diagonal mirroring, because I wonder if it has ever be used. I think it would remove glitches if you scroll only one direction at a time, but true multi-directional scrolling would be even more of a headache.</div>
<br />With diagonal mirroring, multi-directional scrolling would only result in glitches at the 4 corners of the screen, much better than a whole row or column.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dafydd</b> [ Wed Mar 17, 2010 6:18 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Sure, true multi-directional scrolling would be even more difficult, but scrolling only in one direction at a time (as in Mega Man) though switching while the game is running, would have been possible without a mapper then. Forget it, there are mappers to solve it, I just thought it was weird they didn't have it as a stock setting.
<br />
<br />Speaking of SMB3, how does it use the MMC3 to keep 4 nametables in memory? Or doesn't it?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Wed Mar 17, 2010 6:20 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Apart from vertical levels (e.g. world 7), SMB3 uses horizontal mirroring, and the levels are 54*8 pixels tall.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Wed Mar 17, 2010 7:35 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Dafydd wrote:</div><div class="quotecontent">Speaking of SMB3, how does it use the MMC3 to keep 4 nametables in memory? Or doesn't it?</div>
<br />Very few games actually have 4 name tables (i.e. 4-screen mirroring), and no, SMB3 isn't among them. A search on <a href="http://bootgod.dyndns.org:7777/" class="postlink">bootgod's database</a> returns only 4 games. Most games with multi-directional scrolling make do with 2 name tables only. Some try harder than others to hide the scrolling glitches caused by that.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Disch</b> [ Wed Mar 17, 2010 9:50 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />4 games?  I can only think of 3.  What's the 4th one?
<br />
<br />- Gauntlet
<br />- Rad Racer 2
<br />- Napoleon Senki (or whatever it's called)
<br />- ???
<br />
<br />(I didn't see how to search bootgod's site by mirroring mode  =P)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Wed Mar 17, 2010 10:19 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />For some reason there are two versions of Gauntlet, so yeah, it's 3 games. To search by mirroring you can go to the "PCB / Hardware" tab, there's a mirroring field there.
<br />
<br />EDIT: I know of one unlicensed game that uses 4-screen mirroring though: Jurassic Boy 2. The widely distributed ROM doesn't have the mirroring set correctly, and that's why the background gets all corrupted (like in <a href="http://www.youtube.com/watch?v=UpXRs-2Bc_Q" class="postlink">this video</a>), but once you set it to 4-screen it works correctly (as seen in <a href="http://www.youtube.com/watch?v=vzSxUzLlFdk" class="postlink">this video</a>).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Sat Mar 20, 2010 1:55 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I'm not sure "most games did it the other way". Earlier games seemed to favor vertical mirroring, but later in the console's life, several high profile games, including SMB3, Kirby and Mega Man games, decided to use horizontal mirroring and deal with attribute glitches at the sides of the screen. I find that horrible, I'd never accept that in a game of mine.</div>
<br />Do you find glitches horrible in <a href="http://jonathan.microclub.ch/dummy/multiscroll.nes" class="postlink">this demo</a> as well ? I bet someone who don't know they exist and that plays on a real TV will not ever notice them.
<br />I'm going to try to make it a multi-directional scroller, but as I said above it becomes a headache as soon as you mix both directions, even if you don't have to decode metatiles or compressed maps.
<br />
<br />PS : If someone have a request of a map to test my engine, please go away (but it should be easy to scroll trough the map freely so I can take savestates).

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>2</strong> of <strong>2</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>