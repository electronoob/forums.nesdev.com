<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<link rel="icon" href="/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />

<title>nesdev.com &bull; View topic - Right to left language?</title>

<link rel="alternate" type="application/atom+xml" title="Feed - nesdev.com" href="http://forums.nesdev.com/feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - News" href="http://forums.nesdev.com/feed.php?mode=news" /><link rel="alternate" type="application/atom+xml" title="Feed - All forums" href="http://forums.nesdev.com/feed.php?mode=forums" /><link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="http://forums.nesdev.com/feed.php?mode=topics" /><link rel="alternate" type="application/atom+xml" title="Feed - Active Topics" href="http://forums.nesdev.com/feed.php?mode=topics_active" /><link rel="alternate" type="application/atom+xml" title="Feed - Forum - Newbie Help Center" href="http://forums.nesdev.com/feed.php?f=10" /><link rel="alternate" type="application/atom+xml" title="Feed - Topic - Right to left language?" href="http://forums.nesdev.com/feed.php?f=10&amp;t=6270" />

<link rel="stylesheet" href="./style.php?id=1&amp;lang=en" type="text/css" />

<script type="text/javascript">
// <![CDATA[


function popup(url, width, height, name)
{
	if (!name)
	{
		name = '_popup';
	}

	window.open(url.replace(/&amp;/g, '&'), name, 'height=' + height + ',resizable=yes,scrollbars=yes,width=' + width);
	return false;
}

function jumpto()
{
	var page = prompt('Enter the page number you wish to go to:', '1');
	var per_page = '';
	var base_url = '';

	if (page !== null && !isNaN(page) && page == Math.floor(page) && page > 0)
	{
		if (base_url.indexOf('?') == -1)
		{
			document.location.href = base_url + '?start=' + ((page - 1) * per_page);
		}
		else
		{
			document.location.href = base_url.replace(/&amp;/g, '&') + '&start=' + ((page - 1) * per_page);
		}
	}
}

/**
* Find a member
*/
function find_username(url)
{
	popup(url, 760, 570, '_usersearch');
	return false;
}

/**
* Mark/unmark checklist
* id = ID of parent container, name = name prefix, state = state [true/false]
*/
function marklist(id, name, state)
{
	var parent = document.getElementById(id);
	if (!parent)
	{
		eval('parent = document.' + id);
	}

	if (!parent)
	{
		return;
	}

	var rb = parent.getElementsByTagName('input');
	
	for (var r = 0; r < rb.length; r++)
	{
		if (rb[r].name.substr(0, name.length) == name)
		{
			rb[r].checked = state;
		}
	}
}



// ]]>
</script>
</head>
<body class="ltr">

<a name="top"></a>

<div id="wrapheader">

	<div id="logodesc">
	</div>

	<div id="menubar">

		<table width="100%" cellspacing="0">
		<tr>
			<td rowspan="2"><a href="./index.php"><img src="./styles/subsilver2/imageset/site_logo.gif" alt="" title="" /></a></td>
			<td width="100%" align="center"><h1>nesdev.com</h1><span class="gen">NES Development and Strangulation Records message boards</span></td>
		</tr>
		<tr>
			<td align="center">
				<a href="./faq.php"><img src="./styles/prosilver/theme/images/icon_mini_faq.gif" width="12" height="13" alt="*" /> FAQ</a>
				&nbsp; &nbsp;<a href="./search.php"><img src="./styles/prosilver/theme/images/icon_mini_search.gif" width="12" height="13" alt="*" /> Search</a>
				<br />	
				 &nbsp;<a href="./ucp.php?mode=register"><img src="./styles/prosilver/theme/images/icon_mini_register.gif" width="12" height="13" alt="*" /> Register</a>
					&nbsp; &nbsp;<a href="./ucp.php?mode=login"><img src="./styles/prosilver/theme/images/icon_mini_login.gif" width="12" height="13" alt="*" /> Login</a>&nbsp;
			</td>
		</tr>
		</table>
	</div>

	<div id="datebar">
		<table width="100%" cellspacing="0">
		<tr>
			<td class="gensmall"></td>
			<td class="gensmall" align="right">It is currently Sun Sep 21, 2014 8:06 am<br /></td>
		</tr>
		</table>
	</div>

</div>

<div id="wrapcentre">

	
	<p class="searchbar">
		<span style="float: left;"><a href="./search.php?search_id=unanswered">View unanswered posts</a> | <a href="./search.php?search_id=active_topics">View active topics</a></span>
		
	</p>
	

	<br style="clear: both;" />

	<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=24">NES / Famicom</a> &#187; <a href="./viewforum.php?f=10">Newbie Help Center</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>

	<br />

<div id="pageheader">
	<h2><a class="titles" href="./viewtopic.php?f=10&amp;t=6270">Right to left language?</a></h2>


	<p class="moderators">Moderator: <a href="./memberlist.php?mode=group&amp;g=320">Moderators</a></p>

</div>

<br clear="all" /><br />

<div id="pagecontent">

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=10"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=10&amp;t=6270"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>1</strong> of <strong>1</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 13 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"></td>
		
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat">
			<table width="100%" cellspacing="0">
			<tr>
				<td class="nav" nowrap="nowrap">&nbsp;
				<a href="./viewtopic.php?f=10&amp;t=6270&amp;view=print" title="Print view">Print view</a>
				</td>
				<td class="nav" align="right" nowrap="nowrap"><a href="./viewtopic.php?f=10&amp;t=6270&amp;view=previous">Previous topic</a> | <a href="./viewtopic.php?f=10&amp;t=6270&amp;view=next">Next topic</a>&nbsp;</td>
			</tr>
			</table>
		</td>
	</tr>

	</table>


	<table class="tablebg" width="100%" cellspacing="1">
	
		<tr>
			<th>Author</th>
			<th>Message</th>
		</tr>
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p59773"></a>
				<b class="postauthor">FARID</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p59773">Right to left language?</a></div><div style="float: right;"><a href="./viewtopic.php?p=59773#p59773"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Apr 07, 2010 1:36 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=4330.png" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Wed Apr 07, 2010 1:14 am<br /><b>Posts:</b> 328<br /><b>Location:</b> Iran
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">How can I make a NES ROM to support right to left language? 
<br />I don't have any problem for translating fixed text on the screen but texts which gradually appear from left to right, are really hard to translate. 
<br />Captain Tsubasa Arabic translation is a good example for this matter. 
<br />I guess I have to do it in assembly 6502 but I don't have any idea how to do it.
<br />I appreciate anyone who can help me. 
<br />
<br />Also some other nice people guide me but I really need some more help : 
<br />
<br /><a href="http://www.romhacking.net/forum/index.php/topic,10389.0.html" class="postlink">http://www.romhacking.net/forum/index.php/topic,10389.0.html</a></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=4330"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p59775"></a>
				<b class="postauthor">Rid</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p59775"></a></div><div style="float: right;"><a href="./viewtopic.php?p=59775#p59775"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Apr 07, 2010 2:47 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=3907.png" width="76" height="74" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun May 10, 2009 4:06 am<br /><b>Posts:</b> 66
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Hello FARID.
<br />
<br />Your question is quite weird. I mean, the way the text is displayed on the screen has no incidence on the way it is stored in the ROM.
<br />
<br />Did you find the address of the text? You should use relative search tools to begin. And if it doesn't work, maybe you should look at debug tools such those which FCEUXD SP features...</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3907"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p59776"></a>
				<b class="postauthor">67726e</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p59776"></a></div><div style="float: right;"><a href="./viewtopic.php?p=59776#p59776"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Apr 07, 2010 3:35 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=4326.png" width="100" height="30" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sat Apr 03, 2010 5:45 pm<br /><b>Posts:</b> 129<br /><b>Location:</b> South Carolina
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Are you talking about making your own ROM or modding an existing game?</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=4326"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p59777"></a>
				<b class="postauthor">Rid</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p59777"></a></div><div style="float: right;"><a href="./viewtopic.php?p=59777#p59777"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Apr 07, 2010 4:39 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=3907.png" width="76" height="74" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun May 10, 2009 4:06 am<br /><b>Posts:</b> 66
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">He says he wants to translate Captain Tsubasa into Arabic.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3907"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p59784"></a>
				<b class="postauthor" style="color: #AA0000">tepples</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p59784"></a></div><div style="float: right;"><a href="./viewtopic.php?p=59784#p59784"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Apr 07, 2010 6:40 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Sep 19, 2004 11:12 pm<br /><b>Posts:</b> 12425<br /><b>Location:</b> NE Indiana, USA (NTSC)
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">There are three ways to print from right to left:<ol style="list-style-type: lower-alpha"><li>Store entire lines of text in visual order. This might work for something like Super Mario Bros. </li><li>Store text in logical order and copy it to VRAM backwards, starting from the last character in a string and using a 'dex/bpl' loop. </li><li>If your game prints text to the screen a character at a time, like in many cut scenes, print it at descending VRAM addresses on each row. </li></ol>
<br />This would suffice for Hebrew, but Arabic has the complication of connected glyphs.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=9"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p59793"></a>
				<b class="postauthor" style="color: #AA0000">Memblers</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p59793"></a></div><div style="float: right;"><a href="./viewtopic.php?p=59793#p59793"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Apr 07, 2010 12:10 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td class="postdetails">Site Admin</td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=10.jpg" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Sep 20, 2004 6:04 am<br /><b>Posts:</b> 2865<br /><b>Location:</b> Indianapolis
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">The VRAM address normally auto-increments, so you definitely will have to change the code in the game, possibly in several locations.  You won't be able to make it the same size or smaller as the original, so you probably will have to find or make some free space in the ROM (in the same bank, in RAM, anywhere possible).
<br />
<br />You could start by finding the text data that you want to print reversed in ROM - you need to convert that to the address space as the NES CPU sees it.  Basically, remove 16 byte iNES header, and divide it into bank size and locate the address within that bank.  Once you have the address you can use a debugger to set a breakpoint when that address is read.  If the debugger stopped on an LDA instruction, then you've probably found the first part of it.
<br />
<br />At that point it probably will not write it to $2007 - instead it may do an STA $xxxx,y somewhere into RAM (as a buffer).  Now you could put a breakpoint on the address of the buffer, and find out where it's reading that followed by an STA $2007.  Then scroll backwards to the previous code, you should see it write to $2006 twice, to set the VRAM address.  And right there you may have found the code that you need to change.  If not, put a breakpoint on whatever RAM location it read the VRAM address from, I doubt you would have to trace it back any further than that, but you never know until you try it.
<br />
<br />You'll have to replace the code that sets the VRAM address in that particular case, and hopefully that's all.  Just make sure you've found the right case, where it's for text only and not any other kind of PPU data.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=10"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p59794"></a>
				<b class="postauthor">FARID</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p59794"></a></div><div style="float: right;"><a href="./viewtopic.php?p=59794#p59794"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Apr 07, 2010 12:29 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=4330.png" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Wed Apr 07, 2010 1:14 am<br /><b>Posts:</b> 328<br /><b>Location:</b> Iran
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Let me explain more :
<br />
<br />I want to translate a nes game (Kunio Kun no Nekketsu Soccer League.nes) from Japanese to Persian. As I said, I can translate every text in it, by using FCEUX and Tile Layer Pro. I made some progress in it :
<br />
<br /><img src="http://up.iranblog.com/Files/a64b6119b8e244b790f3.png" alt="Image" />
<br />
<br /><img src="http://up.iranblog.com/37262/1268477142.png" alt="Image" />
<br />
<br /><img src="http://up.iranblog.com/37262/1268417489.png" alt="Image" />
<br />
<br /><img src="http://up.iranblog.com/37262/1268458059.png" alt="Image" />
<br />
<br /><img src="http://up.iranblog.com/Files/856b1ecdf7fd4c69875d.png" alt="Image" />
<br />
<br />
<br />Even I can translate text which appear gradually from left to right. But guess what! Persian language is written from right to left so my text appears in a reverse order and it is really unpleasant!
<br />
<br />
<br />On the other hand I am not the first person who want to find a way for this matter, I mean about ten years ago someone (must be a skillful one!) solved this problem, and he translated Captain Tsubasa from Japanese to Arabic :
<br />
<br />Text is appearing gradually from left to right :
<br />
<br /><img src="http://up.iranblog.com/Files/37223e946c664e1ebc09.png" alt="Image" />
<br />
<br />Text is appearing gradually from right to left :
<br />
<br /><img src="http://up.iranblog.com/Files/c85c91e127ff4ce68332.png" alt="Image" />
<br />
<br />But unfortunately I couldn't find him to ask my question! 
<br />
<br />To be honest, I didn't read the rules of this forum, am I permitted to link to a nes game or not? Also I have it's IPS patch.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=4330"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p59795"></a>
				<b class="postauthor">FARID</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p59795"></a></div><div style="float: right;"><a href="./viewtopic.php?p=59795#p59795"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Apr 07, 2010 12:40 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=4330.png" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Wed Apr 07, 2010 1:14 am<br /><b>Posts:</b> 328<br /><b>Location:</b> Iran
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">Memblers wrote:</div><div class="quotecontent">The VRAM address normally auto-increments, so you definitely will have to change the code in the game, possibly in several locations.  You won't be able to make it the same size or smaller as the original, so you probably will have to find or make some free space in the ROM (in the same bank, in RAM, anywhere possible).<br /><br />You could start by finding the text data that you want to print reversed in ROM - you need to convert that to the address space as the NES CPU sees it.  Basically, remove 16 byte iNES header, and divide it into bank size and locate the address within that bank.  Once you have the address you can use a debugger to set a breakpoint when that address is read.  If the debugger stopped on an LDA instruction, then you've probably found the first part of it.<br /><br />At that point it probably will not write it to $2007 - instead it may do an STA $xxxx,y somewhere into RAM (as a buffer).  Now you could put a breakpoint on the address of the buffer, and find out where it's reading that followed by an STA $2007.  Then scroll backwards to the previous code, you should see it write to $2006 twice, to set the VRAM address.  And right there you may have found the code that you need to change.  If not, put a breakpoint on whatever RAM location it read the VRAM address from, I doubt you would have to trace it back any further than that, but you never know until you try it.<br /><br />You'll have to replace the code that sets the VRAM address in that particular case, and hopefully that's all.  Just make sure you've found the right case, where it's for text only and not any other kind of PPU data.</div>
<br />
<br />Thanks man, you really deserve to be an admin!
<br />
<br />Can you look at the following link and make a tutorial with an example for your explanations? Use any nes game you want and please don't forget to add some pictures. I am not in a hurry so you can write it any time that you are free.
<br />
<br /><a href="http://www.romhacking.net/forum/index.php/topic,10389.msg156524.html#msg156524" class="postlink">http://www.romhacking.net/forum/index.php/topic,10389.msg156524.html#msg156524</a></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=4330"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p59797"></a>
				<b class="postauthor">Dwedit</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p59797"></a></div><div style="float: right;"><a href="./viewtopic.php?p=59797#p59797"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Apr 07, 2010 2:01 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=53.png" width="68" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Nov 19, 2004 7:35 pm<br /><b>Posts:</b> 3090
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Note: I'm typing this as I go, so apologies for total lack of clarity.
<br />
<br />I'll do Dragon Warrior 1 as en example.  Every game does things differently!
<br />
<br />The first message the king tells you is stored at address B13E in NES memory.
<br />Set a data breakpoint for there.
<br />
<br />
<br />
<br />After stepping through some code, we find something relevant:
<br />
<br />01:B653:AE 0D 65  LDX $650D
<br />01:B656:9D 14 65  STA $6514,X @ $6514
<br />01:B659:EE 0D 65  INC $650D
<br />
<br />It's loading an index for the text buffer, storing the text character it read, and increments the pointer.
<br />
<br />Then later on:
<br />
<br />01:B5C1:AE B4 64  LDX $64B4
<br />01:B5C4:BD 14 65  LDA $6514,X @ $6514 = #$50
<br />01:B5C7:EE B4 64  INC $64B4
<br />
<br />It's reading from that buffer, and incrementing some other pointer.  Maybe there's two parts so it can output longer strings like character names...
<br />
<br />01:B5EB:AE 0D 65  LDX $650D = #$00
<br />01:B5EE:BD 14 65  LDA $6514,X @ $6514 = #$50
<br />01:B5F1:EE 0D 65  INC $650D = #$00
<br />
<br />Later on it does some more stuff involving reading the text from the buffer...
<br />
<br />01:BA01:9D 7C 65  STA $657C,X @ $657C = #$5F
<br />
<br />Now it's storing the character into yet another buffer...
<br />
<br />03:C6AC:9D 00 03  STA $0300,X @ $0302 = #$44
<br />
<br />This one looks like it might be the one where it goes into some kind of buffer for PPU display?
<br />
<br />Here we go, finally some meat:
<br />
<br />03:FE98:BD 00 03  LDA $0300,X @ $0300 = #$22
<br />03:FE9B:8D 06 20  STA $2006 = #$00
<br />03:FE9E:BD 01 03  LDA $0301,X @ $0301 = #$65
<br />03:FEA1:8D 06 20  STA $2006 = #$00
<br />03:FEA4:BD 02 03  LDA $0302,X @ $0302 = #$50
<br />03:FEA7:8D 07 20  STA $2007 = #$00
<br />03:FEAA:E8        INX
<br />03:FEAB:E8        INX
<br />03:FEAC:E8        INX
<br />
<br />This code that runs inside vblank takes a character PPU address, then writes the character.
<br />
<br />So it looks like in this case you want to find where it's messing with bytes 300 and 301, then change the code so it decreases the address instead of increase the address, then you also want it to reset to the right margin instead of the left margin.
<br />
<br />
<br />
<br />
<br />
<br />======================
<br />EXPLANATION OF WHAT I'M DOING
<br />======================
<br />
<br />
<br />
<br />
<br />
<br />Basically, you follow your text character through its journey through the NES game's code.
<br />
<br />Here, I'll demonstrate:
<br />
<br />03:FD2F:B1 30     LDA ($30),Y @ $B13E = #$50
<br />
<br />It loads the first text character here...
<br />
<br />03:FD31:85 37     STA $0037 = #$02
<br />
<br />Then stores it into address $37.  Now we need to watch $37.  Set a data breakpoint for reads and writes to $37.
<br />
<br />03:FD33:68        PLA
<br />
<br />Next instruction is PLA.  It pops A off the stack.  We no longer need to watch register A at this point since it no longer contains our text character.
<br />
<br />Now we wait for the game to access $37
<br />
<br />03:FD37:A5 37     LDA $0037 = #$50
<br />
<br />Now step for a while and see what it does with register A...
<br />
<br />01:B64E:A2 01     LDX #$01
<br />01:B650:8E 0A 65  STX $650A = #$01
<br />01:B653:AE 0D 65  LDX $650D = #$00
<br />01:B656:9D 14 65  STA $6514,X @ $6514 = #$50
<br />01:B659:EE 0D 65  INC $650D = #$00
<br />
<br />It stores A into a buffer starting at 6514.  Set a breakpoint for that now.  Keep stepping and watching register A, but now we also need to watch 6514.
<br />
<br />Eventually we reach
<br />01:B679:A9 02     LDA #$02
<br />and now we can stop watching A.  Run until it accesses 6514 or 37
<br />
<br />03:FD1C:85 37     STA $0037 = #$50
<br />It just replaced 37 with something else, we no longer care about 37.  Stop watching that.
<br />
<br />01:B5BC:A9 00     LDA #$00
<br />01:B5BE:8D B4 64  STA $64B4 = #$00
<br />01:B5C1:AE B4 64  LDX $64B4 = #$00
<br />01:B5C4:BD 14 65  LDA $6514,X @ $6514 = #$50
<br />01:B5C7:EE B4 64  INC $64B4 = #$00
<br />
<br />Now it's reading 6514 for some reason.  Watch where A goes...
<br />
<br />We later see it loop through to there again and discard A, so let's keep running ahead (watching 6514)
<br />
<br />01:B5E6:A2 00     LDX #$00
<br />01:B5E8:8E 0D 65  STX $650D = #$00
<br />01:B5EB:AE 0D 65  LDX $650D = #$00
<br />01:B5EE:BD 14 65  LDA $6514,X @ $6514 = #$50
<br />01:B5F1:EE 0D 65  INC $650D = #$00
<br />
<br />We see it read 6514 here.  Let's keep watching where A goes...
<br />
<br />01:B5F8:48        PHA
<br />
<br />Now it pushed A onto the stack.  Keep running until we hit PLA, (the Step Out feature of a debugger helps here, you skip the unnecessary code and keep reaching your breakpoints) Looks like this particular stack push we don't really need to watch though.
<br />
<br />01:B9C7:48        PHA
<br />
<br />Another PHA...
<br />
<br />01:B9C8:A5 D2     LDA $00D2 = #$00
<br />
<br />Now A is gone, keep running it until it hits the PLA and gets the character back...
<br />
<br />01:B9D8:68        PLA
<br />
<br />Now A is the text character again...
<br />
<br />01:B9F5:48        PHA
<br />
<br />another pha...
<br />
<br />01:B9FC:68        PLA
<br />
<br />the corresponding PLA...
<br />
<br />01:BA01:9D 7C 65  STA $657C,X @ $657C = #$5F
<br />01:BA04:85 08     STA $0008 = #$5F
<br />
<br />Now it's storing it into a buffer, and 08.  Watch 657C and 08.
<br />
<br />
<br />03:C69C:A6 04     LDX $0004 = #$00
<br />03:C69E:A5 0B     LDA $000B = #$22
<br />03:C6A0:9D 00 03  STA $0300,X @ $0300
<br />03:C6A3:E8        INX
<br />03:C6A4:A5 0A     LDA $000A = #$65
<br />03:C6A6:9D 00 03  STA $0300,X @ $0301
<br />03:C6A9:E8        INX
<br />03:C6AA:A5 08     LDA $0008 = #$50
<br />03:C6AC:9D 00 03  STA $0300,X @ $0302 = #$44
<br />03:C6AF:E8        INX
<br />03:C6B0:E6 03     INC $0003 = #$00
<br />03:C6B2:86 04     STX $0004 = #$00
<br />
<br />This code reads 08, and stores it into 302.  For this game, 302 is the text data it will write to the screen during vblank, and 300 is the PPU address it writes it to.
<br />
<br />Looks like we may need to watch 0A and 0B, since it has to do with the PPU address, they get copied to 301 and 300.
<br />
<br />
<br />03:FE98:BD 00 03  LDA $0300,X @ $0300 = #$22
<br />03:FE9B:8D 06 20  STA $2006 = #$00
<br />03:FE9E:BD 01 03  LDA $0301,X @ $0301 = #$65
<br />03:FEA1:8D 06 20  STA $2006 = #$00
<br />03:FEA4:BD 02 03  LDA $0302,X @ $0302 = #$50
<br />03:FEA7:8D 07 20  STA $2007 = #$00
<br />03:FEAA:E8        INX
<br />03:FEAB:E8        INX
<br />03:FEAC:E8        INX
<br />03:FEAD:E4 04     CPX $0004 = #$03
<br />03:FEAF:D0 E7     BNE $FE98
<br />
<br />So yeah, here's that VBLANK code again.  this code runs during vblank and draws the character to the screen.
<br />
<br />
<br />
<br />=============
<br />SO NOW WHAT?
<br />=============
<br />
<br />Find out how the game calculates what PPU address to write text to.  Then hack it so it goes right to left instead of left to right.
<br />You need to change an increment somewhere into a decrement.
<br />Then change the code for when it resets to the left margin to instead set to the right margin.
<br />
<br />Obviously every game does things differently.  Dragon Warrior wasn't too bad to follow and see where the text character goes once its been read.</div>

					
						<div class="postbody"><br />_________________<br />Here come the fortune cookies!  Here come the fortune cookies!  They're wearing paper hats!</div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=53"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p60796"></a>
				<b class="postauthor">FARID</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p60796"></a></div><div style="float: right;"><a href="./viewtopic.php?p=60796#p60796"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Mon May 03, 2010 8:50 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=4330.png" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Wed Apr 07, 2010 1:14 am<br /><b>Posts:</b> 328<br /><b>Location:</b> Iran
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Ok I made some progress. Here is my report :
<br />
<br />Finding the correct breakpoint address was really difficult but after reading KingMike's DTE document and some trial and error I could find it.
<br />
<br />I want to change these two lines which are appearing from left to right.
<br />
<br /><img src="http://up.iranblog.com/Files/593632ed518146bcb28a.png" alt="Image" />
<br />
<br />
<br />By setting a breakpoint for B18F Debugger stops at here :
<br />
<br /><img src="http://up.iranblog.com/Files/b0a4640f178144599014.PNG" alt="Image" />
<br />
<br />By stepping over, the following code comes up :
<br />
<br />00:AFA6:B1 32     LDA ($32),Y @ $B18F = #$EA
<br />00:AFA8:D0 0A     BNE $AFB4
<br />00:AFB4:10 07     BPL $AFBD
<br />00:AFB6:C9 F0     CMP #$F0
<br />00:AFB8:90 1C     BCC $AFD6
<br />00:AFD6:85 2A     STA $002A = #$00
<br />00:AFD8:A9 FF     LDA #$FF
<br />00:AFDA:85 29     STA $0029 = #$FF
<br />00:AFDC:A5 2A     LDA $002A = #$EA
<br />00:AFDE:8D B9 06  STA $06B9 = #$FF
<br />00:AFE1:A5 29     LDA $0029 = #$FF
<br />00:AFE3:8D 96 06  STA $0696 = #$FF
<br />00:AFE6:4C 23 B0  JMP $B023
<br />00:B023:A9 01     LDA #$01
<br />00:B025:8D 95 06  STA $0695 = #$1B
<br />00:B028:8D B8 06  STA $06B8 = #$1B
<br />00:B02B:AD 08 06  LDA $0608 = #$02
<br />00:B02E:8D 94 06  STA $0694 = #$42
<br />00:B031:18        CLC
<br /><span style="color: red">00:B032:69 20     ADC #$20</span>
<br />00:B034:8D B7 06  STA $06B7 = #$62
<br />00:B037:08        PHP
<br />00:B038:AD 07 06  LDA $0607 = #$23
<br />00:B03B:8D 93 06  STA $0693 = #$FF
<br />00:B03E:28        PLP
<br />00:B03F:69 00     ADC #$00
<br />00:B041:8D B6 06  STA $06B6 = #$FF
<br /><span style="color: red">00:B044:EE 08 06  INC $0608 = #$02</span>
<br />00:B047:D0 03     BNE $B04C
<br />00:B04C:AD B9 06  LDA $06B9 = #$EA
<br />00:B04F:C9 FF     CMP #$FF
<br />00:B051:F0 05     BEQ $B058
<br />00:B053:A9 35     LDA #$35
<br />00:B055:20 02 C0  JSR $C002
<br />00:B058:60        RTS
<br />07:C323:4C 68 C3  JMP $C368
<br />07:C368:68        PLA
<br />07:C369:20 D3 EE  JSR $EED3
<br />07:C36C:60        RTS
<br />05:A2E0:AD 05 06  LDA $0605 = #$80
<br />05:A2E3:30 03     BMI $A2E8
<br />05:A2E8:A2 00     LDX #$00
<br />05:A2EA:20 94 91  JSR $9194
<br />05:A2ED:20 65 C0  JSR $C065
<br />05:A2F0:20 14 80  JSR $8014
<br />05:A2F3:20 5C C0  JSR $C05C
<br />05:A2F6:60        RTS
<br />05:80C4:4C 7A 80  JMP $807A
<br />05:807A:60        RTS
<br />07:C362:68        PLA
<br />07:C363:85 F7     STA $00F7 = #$80
<br />07:C365:68        PLA
<br />07:C366:A5 F6     LDA $00F6 = #$0C
<br />07:C368:68        PLA
<br />07:C369:20 D3 EE  JSR $EED3
<br />07:C36C:60        RTS
<br />07:C4BA:4C C3 C4  JMP $C4C3
<br />07:C4C3:A5 51     LDA $0051 = #$00
<br />07:C4C5:C5 51     CMP $0051 = #$00
<br />07:C4C7:F0 FC     BEQ $C4C5
<br />07:C4C5:C5 51     CMP $0051 = #$00
<br />07:C4C7:F0 FC     BEQ $C4C5
<br />07:C4C5:C5 51     CMP $0051 = #$00
<br />07:C4C7:F0 FC     BEQ $C4C5
<br />
<br />And finally it loops at C4C5 and C4C7! Without printing any character!
<br />
<br />Anyway as you said I changed 
<br />
<br />EE 08 06  INC $0608
<br />To 
<br />CE 08 06  DEC $0608
<br />
<br />And 
<br />69 20     ADC #$20
<br />To
<br />69 19     ADC #$19
<br />
<br />Now the text (throughout the game) appears from right to left.
<br />Also I can adjust it's alignment by changing the operand of ADC. 
<br />
<br />But as you can see in the picture just two characters of the first line print and the rest become hidden!
<br />
<br /><img src="http://up.iranblog.com/Files/c4c757a1dca747cab8f1.png" alt="Image" />
<br />
<br />The second line is ok.
<br />
<br />Now what can I do about it?</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=4330"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p60825"></a>
				<b class="postauthor">jstout</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p60825"></a></div><div style="float: right;"><a href="./viewtopic.php?p=60825#p60825"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Mon May 03, 2010 12:08 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Aug 03, 2008 10:56 am<br /><b>Posts:</b> 12
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Changing: 69 20 ADC #$20 To 69 19 ADC #$19 is wrong.  The #$20 allows for the " to be placed directly above the letters.
<br />
<br />Using your code above, you know that the PPU Address is being set by $607 and $608.  You need to adjust the starting PPU Address for the text, so set a breakpoint for a write to $607 and $608 then you'll get:
<br />
<br />00:B0AC:AD 18 B1  LDA $B118 = #$02
<br />00:B0AF:8D 08 06  STA $0608 = #$46
<br />00:B0B2:AD 19 B1  LDA $B119 = #$23
<br />00:B0B5:8D 07 06  STA $0607 = #$23
<br />
<br />Changing $B118 (x3128) to #$1B gets the results that you are desiring.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3601"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p60861"></a>
				<b class="postauthor">FARID</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p60861"></a></div><div style="float: right;"><a href="./viewtopic.php?p=60861#p60861"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Mon May 03, 2010 8:35 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=4330.png" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Wed Apr 07, 2010 1:14 am<br /><b>Posts:</b> 328<br /><b>Location:</b> Iran
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">jstout wrote:</div><div class="quotecontent">Changing: 69 20 ADC #$20 To 69 19 ADC #$19 is wrong.  The #$20 allows for the " to be placed directly above the letters.<br /><br />Using your code above, you know that the PPU Address is being set by $607 and $608.  You need to adjust the starting PPU Address for the text, so set a breakpoint for a write to $607 and $608 then you'll get:<br /><br />00:B0AC:AD 18 B1  LDA $B118 = #$02<br />00:B0AF:8D 08 06  STA $0608 = #$<span style="color: red">46</span><br />00:B0B2:AD 19 B1  LDA $B119 = #$23<br />00:B0B5:8D 07 06  STA $0607 = #$23<br /><br />Changing $B118 (x3128) to #$1B gets the results that you are desiring.</div>
<br />
<br />Thank you very very ... much!  <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" />  It really worked!
<br />
<br />I set a breakpoint for a read to $B118 :
<br />
<br />00:B0AC:AD 18 B1  LDA $B118 = #$02
<br />00:B0AF:8D 08 06  STA $0608 = #$<span style="color: red">29</span>
<br />00:B0B2:AD 19 B1  LDA $B119 = #$23
<br />00:B0B5:8D 07 06  STA $0607 = #$23
<br />
<br /> <img src="./images/smilies/icon_question.gif" alt=":?:" title="Question" />  Why the second line is different from yours?
<br />Even if I set a write breakpoint to $0608 it returns :
<br />
<br />00:B0AF:8D 08 06  STA $0608 = #$<span style="color: red">29</span>
<br />
<br />Anyway as you said I changed :
<br />
<br />AD 18 B1  LDA $B118
<br />To
<br />A9 1B     LDA #$1B
<br />EA        NOP
<br />
<br />But nothing special happened! Later debugger stopped at :
<br />
<br />00:AF1F:AD 18 B1  LDA $B118 = #$02
<br />
<br />And I changed it to
<br />
<br />00:AF1F:A9 1B     LDA #$1B
<br />00:AF21:EA        NOP
<br />
<br />Now the text appears from right to left :
<br />
<br /><img src="http://up.iranblog.com/Files/1e7cbfa832a440818839.png" alt="Image" />
<br />
<br />And now some real questions :  <img src="./images/smilies/icon_redface.gif" alt=":oops:" title="Embarassed" /> 
<br />
<br /> <img src="./images/smilies/icon_question.gif" alt=":?:" title="Question" />  Can you tell me how did you realize that, I must set a write breakpoint to $0607 and change B118?
<br />
<br /> <img src="./images/smilies/icon_question.gif" alt=":?:" title="Question" />  What do you mean by (x3128) in your last sentence?
<br />
<br /> <img src="./images/smilies/icon_question.gif" alt=":?:" title="Question" />  In some places after appearing text, some characters are left on the screen! How can I solve it?
<br />
<br /><img src="http://up.iranblog.com/Files/b60d13f83a744f7a9458.png" alt="Image" />
<br />
<br /><img src="http://up.iranblog.com/Files/5784abc1a79f4f36a6ca.png" alt="Image" /></div>

					
							<br /><br />
							<span class="gensmall">Last edited by <a href="./memberlist.php?mode=viewprofile&amp;u=4330">FARID</a> on Mon May 03, 2010 9:19 pm, edited 2 times in total.</span>
						<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=4330"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p60862"></a>
				<b class="postauthor">Dwedit</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p60862"></a></div><div style="float: right;"><a href="./viewtopic.php?p=60862#p60862"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Mon May 03, 2010 8:49 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=53.png" width="68" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Nov 19, 2004 7:35 pm<br /><b>Posts:</b> 3090
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Characters aren't mirrored, just the order is reversed.</div>

					
						<div class="postbody"><br />_________________<br />Here come the fortune cookies!  Here come the fortune cookies!  They're wearing paper hats!</div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=53"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table width="100%" cellspacing="1" class="tablebg">
	<tr align="center">
		<td class="cat"><form name="viewtopic" method="post" action="./viewtopic.php?f=10&amp;t=6270"><span class="gensmall">Display posts from previous:</span> <select name="st" id="st"><option value="0" selected="selected">All posts</option><option value="1">1 day</option><option value="7">7 days</option><option value="14">2 weeks</option><option value="30">1 month</option><option value="90">3 months</option><option value="180">6 months</option><option value="365">1 year</option></select>&nbsp;<span class="gensmall">Sort by</span> <select name="sk" id="sk"><option value="a">Author</option><option value="t" selected="selected">Post time</option><option value="s">Subject</option></select> <select name="sd" id="sd"><option value="a" selected="selected">Ascending</option><option value="d">Descending</option></select>&nbsp;<input class="btnlite" type="submit" value="Go" name="sort" /></form></td>
	</tr>
	</table>
	

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=10"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=10&amp;t=6270"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>1</strong> of <strong>1</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 13 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"></td>
		
	</tr>
	</table>

</div>

<div id="pagefooter"></div>

<br clear="all" />
<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=24">NES / Famicom</a> &#187; <a href="./viewforum.php?f=10">Newbie Help Center</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>
	<br clear="all" />

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat"><h4>Who is online</h4></td>
	</tr>
	<tr>
		<td class="row1"><p class="gensmall">Users browsing this forum: No registered users and 1 guest</p></td>
	</tr>
	</table>


<br clear="all" />

<table width="100%" cellspacing="1">
<tr>
	<td width="40%" valign="top" nowrap="nowrap" align="left"></td>
	<td align="right" valign="top" nowrap="nowrap"><span class="gensmall">You <strong>cannot</strong> post new topics in this forum<br />You <strong>cannot</strong> reply to topics in this forum<br />You <strong>cannot</strong> edit your posts in this forum<br />You <strong>cannot</strong> delete your posts in this forum<br />You <strong>cannot</strong> post attachments in this forum<br /></span></td>
</tr>
</table>

<br clear="all" />

<table width="100%" cellspacing="0">
<tr>
	<td><form method="get" name="search" action="./search.php"><span class="gensmall">Search for:</span> <input class="post" type="text" name="keywords" size="20" /> <input class="btnlite" type="submit" value="Go" /><input type="hidden" name="t" value="6270" />
<input type="hidden" name="sf" value="msgonly" />
</form></td>
	<td align="right">
	<form method="post" name="jumpbox" action="./viewforum.php" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	<table cellspacing="0" cellpadding="0" border="0">
	<tr>
		<td nowrap="nowrap"><span class="gensmall">Jump to:</span>&nbsp;<select name="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">

		
			<option value="-1">Select a forum</option>
		<option value="-1">------------------</option>
			<option value="24">NES / Famicom</option>
		
			<option value="2">&nbsp; &nbsp;NESdev</option>
		
			<option value="3">&nbsp; &nbsp;NESemdev</option>
		
			<option value="21">&nbsp; &nbsp;NES Graphics</option>
		
			<option value="6">&nbsp; &nbsp;NES Music</option>
		
			<option value="9">&nbsp; &nbsp;NES Hardware and Flash Equipment</option>
		
			<option value="22">&nbsp; &nbsp;Homebrew Projects</option>
		
			<option value="10" selected="selected">&nbsp; &nbsp;Newbie Help Center</option>
		
			<option value="11">&nbsp; &nbsp;FCdev</option>
		
			<option value="18">&nbsp; &nbsp;NESdev China</option>
		
			<option value="27">&nbsp; &nbsp;NESdev Middle East</option>
		
			<option value="19">&nbsp; &nbsp;NESdev International</option>
		
			<option value="25">Other</option>
		
			<option value="5">&nbsp; &nbsp;General Stuff</option>
		
			<option value="4">&nbsp; &nbsp;Membler Industries</option>
		
			<option value="12">&nbsp; &nbsp;SNESdev</option>
		
			<option value="20">&nbsp; &nbsp;GBDev</option>
		
			<option value="23">&nbsp; &nbsp;Other Retro Dev</option>
		
			<option value="15">&nbsp; &nbsp;Test Forum</option>
		
			<option value="26">Site Issues</option>
		
			<option value="13">&nbsp; &nbsp;phpBB Issues</option>
		
			<option value="14">&nbsp; &nbsp;Web Issues</option>
		
			<option value="16">&nbsp; &nbsp;nesdevWiki</option>
		

		</select>&nbsp;<input class="btnlite" type="submit" value="Go" /></td>
	</tr>
	</table>

	</form>
</td>
</tr>
</table>


</div>

<div id="wrapfooter">
	
	<span class="copyright">Powered by <a href="http://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Group
	</span>
</div>

</body>
</html>