<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="http://forums.nesdev.com/feed.php?f=12&amp;t=6553" />

<title>nesdev.com</title>
<subtitle>NES Development and Strangulation Records message boards</subtitle>
<link href="http://forums.nesdev.com/index.php" />
<updated>2010-12-08T16:04:16-07:00</updated>

<author><name><![CDATA[nesdev.com]]></name></author>
<id>http://forums.nesdev.com/feed.php?f=12&amp;t=6553</id>
<entry>
<author><name><![CDATA[mic_]]></name></author>
<updated>2010-10-23T01:05:40-07:00</updated>
<published>2010-10-23T01:05:40-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6553&amp;p=69032#p69032</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6553&amp;p=69032#p69032"/>
<title type="html"><![CDATA[VGM playback on the SPC]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6553&amp;p=69032#p69032"><![CDATA[
I've released the source code for my music disk (you can download it <a href="http://jiggawatt.org/badc0de/t700c-src.zip" class="postlink">here</a>). Included is the UI code, as well as the VGM playback code for the SPC. The VGM packer is also included in the archive, so it's possible to replace the songs.<br /><br />This code wasn't originally meant to be released, so it's not pretty to look at. At least I've cleaned it up a little bit.<br /><br />The graphical glitches that orwannon reported have been fixed AFAICT, as well as a couple of other minor UI bugs.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=1181">mic_</a> — Sat Oct 23, 2010 1:05 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[mic_]]></name></author>
<updated>2010-07-20T11:39:10-07:00</updated>
<published>2010-07-20T11:39:10-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6553&amp;p=64517#p64517</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6553&amp;p=64517#p64517"/>
<title type="html"><![CDATA[VGM playback on the SPC]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6553&amp;p=64517#p64517"><![CDATA[
I just tried it in BSNES.. in NTSC mode I can replicate it if I press X &amp; Y repeatedly in fairly quick succession. In PAL mode I wasn't able to replicate it.<br /><br />I guess I'm pretty tight on vblank time in NTSC mode. Perhaps I should do the volume bar update to RAM instead and DMA the new data to VRAM during the next vblank, like I do with the song list.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=1181">mic_</a> — Tue Jul 20, 2010 11:39 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[orwannon]]></name></author>
<updated>2010-07-20T11:24:27-07:00</updated>
<published>2010-07-20T11:24:27-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6553&amp;p=64514#p64514</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6553&amp;p=64514#p64514"/>
<title type="html"><![CDATA[VGM playback on the SPC]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6553&amp;p=64514#p64514"><![CDATA[
I tried it under 60 Hz only (NTSC SNES &amp; bsnes) but will try again in PAL mode. <img src="http://forums.nesdev.com/images/smilies/icon_smile.gif" alt=":)" title="Smile" /><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3828">orwannon</a> — Tue Jul 20, 2010 11:24 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[mic_]]></name></author>
<updated>2010-07-20T08:19:41-07:00</updated>
<published>2010-07-20T08:19:41-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6553&amp;p=64506#p64506</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6553&amp;p=64506#p64506"/>
<title type="html"><![CDATA[VGM playback on the SPC]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6553&amp;p=64506#p64506"><![CDATA[
Huh.. is that PAL or NTSC?  I've tested it mainly on a PAL SNES / BSNES with PAL emulation. Never noticed any graphical glitches.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=1181">mic_</a> — Tue Jul 20, 2010 8:19 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[orwannon]]></name></author>
<updated>2010-07-20T05:37:58-07:00</updated>
<published>2010-07-20T05:37:58-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6553&amp;p=64503#p64503</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6553&amp;p=64503#p64503"/>
<title type="html"><![CDATA[VGM playback on the SPC]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6553&amp;p=64503#p64503"><![CDATA[
<div class="quotetitle">mic_ wrote:</div><div class="quotecontent"><br /><a href="http://jiggawatt.org/badc0de/mic-t700c.zip" class="postlink">Here's</a> my little continuation of this project.<br /><br /> Use a real SNES or BSNES to run it, other emulators will likely mess the sound up.<br /></div><br />Works great! Enabling/disabling channels a lot will cause graphical glitches, however. Screenshots made with bsnes (on the real hardware w/ PowerPak, the glitches were worse).<br /><br /><img src="http://img94.imageshack.us/img94/57/glitch1.gif" alt="Image" /><br /><br /><img src="http://img8.imageshack.us/img8/2558/glitch2.gif" alt="Image" /><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3828">orwannon</a> — Tue Jul 20, 2010 5:37 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[mic_]]></name></author>
<updated>2010-07-16T04:19:59-07:00</updated>
<published>2010-07-16T04:19:59-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6553&amp;p=64333#p64333</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6553&amp;p=64333#p64333"/>
<title type="html"><![CDATA[VGM playback on the SPC]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6553&amp;p=64333#p64333"><![CDATA[
<div class="quotetitle">Memblers wrote:</div><div class="quotecontent"><br />I could be remembering wrong, but I think YM format had saved all the registers for each update, instead of doing the time-delta/address/data type thing that I imagine most logged formats would do.  In that case, a simple RLE stream for each register would probably work out pretty well.<br /></div><br />Sounds reasonable. I haven't looked at any YM files to see how often they typically change the register values. The fact that you've got 10 different envelope shapes and an adjustable envelope speed means that you might have to waste a bit of memory on samples if you want them to sound good. And I don't know how the "special effects" in v6 of the YM format works (e.g. "SID-voice" and "Sync-buzzer") or how common their use is.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />POKEY with SAP format is a cool idea too.  Actually I've been wondering lately how I can make some looped POKEY and 2600 waveforms for my wavetable synth.<br /></div><br />I started writing a music playback engine for the Atari XE/XL earlier this year, but I haven't finished it yet. POKEY has some quirky features, like the ability to combine channels to get higher precision, and the whole distortion control which I haven't looked too closely on.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=1181">mic_</a> — Fri Jul 16, 2010 4:19 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Memblers]]></name></author>
<updated>2010-07-15T20:34:10-07:00</updated>
<published>2010-07-15T20:34:10-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6553&amp;p=64318#p64318</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6553&amp;p=64318#p64318"/>
<title type="html"><![CDATA[VGM playback on the SPC]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6553&amp;p=64318#p64318"><![CDATA[
I could be remembering wrong, but I think YM format had saved all the registers for each update, instead of doing the time-delta/address/data type thing that I imagine most logged formats would do.  In that case, a simple RLE stream for each register would probably work out pretty well.<br /><br />POKEY with SAP format is a cool idea too.  Actually I've been wondering lately how I can make some looped POKEY and 2600 waveforms for my wavetable synth.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=10">Memblers</a> — Thu Jul 15, 2010 8:34 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[mic_]]></name></author>
<updated>2010-07-14T21:43:40-07:00</updated>
<published>2010-07-14T21:43:40-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6553&amp;p=64246#p64246</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6553&amp;p=64246#p64246"/>
<title type="html"><![CDATA[VGM playback on the SPC]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6553&amp;p=64246#p64246"><![CDATA[
<div class="quotetitle">Memblers wrote:</div><div class="quotecontent"><br />I remember a long time ago I had looked at .YM files (from Atari ST) and was curious about playing them on the SPC.  But it uses some kind of compression, and bigger than SNES RAM without it, so I didn't try it.<br /></div><br />Yeah, I've thought about YM too. They use LZH IIRC. Perhaps they can be compressed in some other way that's easier to unpack, like I did with the VGM files in my player. And/or you could stream the data from ROM if you don't need to do anything else on the S-CPU.<br /><br />Another possibility would be SAP (Atari XL/XE music, for the POKEY chip). It's an executable format, but it's a 6502-based system. And the files are usually tiny.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=1181">mic_</a> — Wed Jul 14, 2010 9:43 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Memblers]]></name></author>
<updated>2010-07-14T19:17:29-07:00</updated>
<published>2010-07-14T19:17:29-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6553&amp;p=64234#p64234</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6553&amp;p=64234#p64234"/>
<title type="html"><![CDATA[VGM playback on the SPC]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6553&amp;p=64234#p64234"><![CDATA[
That's really cool.  I've only tried it on ZSNES so far, though.<br /><br />I remember a long time ago I had looked at .YM files (from Atari ST) and was curious about playing them on the SPC.  But it uses some kind of compression, and bigger than SNES RAM without it, so I didn't try it.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=10">Memblers</a> — Wed Jul 14, 2010 7:17 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[KungFuFurby]]></name></author>
<updated>2010-12-08T16:04:16-07:00</updated>
<published>2010-07-14T19:15:13-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6553&amp;p=64233#p64233</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6553&amp;p=64233#p64233"/>
<title type="html"><![CDATA[VGM playback on the SPC]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6553&amp;p=64233#p64233"><![CDATA[
Made a SPC set of all of the included tunes. Trackcount is 32 tunes... that should be the correct number of tracks. Nice work! ^_^<br /><br /><a href="http://dl.dropbox.com/u/3011358/micVGMPlayerSPCs.rar" class="postlink">Download collection</a><br /><br />Edit: Oops! I missed one track. The file has been updated to reflect this.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3572">KungFuFurby</a> — Wed Jul 14, 2010 7:15 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[mic_]]></name></author>
<updated>2010-07-14T04:27:29-07:00</updated>
<published>2010-07-14T04:27:29-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6553&amp;p=64189#p64189</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6553&amp;p=64189#p64189"/>
<title type="html"><![CDATA[VGM playback on the SPC]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6553&amp;p=64189#p64189"><![CDATA[
Right.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />0x24 - Unknown command<br /></div><br />When repeat mode is disabled in the GUI I want to know from the playback driver when the song has looped (which it does by modifying the value on port0), so that I can stop it and load the next song. When repeat is enabled I tell the playback driver to not send any such notifications. Command 0x24 toggles a flag in the playback driver which determines if it should send loop notifications or not.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=1181">mic_</a> — Wed Jul 14, 2010 4:27 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[caitsith2]]></name></author>
<updated>2010-07-14T03:58:47-07:00</updated>
<published>2010-07-14T03:58:47-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6553&amp;p=64186#p64186</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6553&amp;p=64186#p64186"/>
<title type="html"><![CDATA[VGM playback on the SPC]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6553&amp;p=64186#p64186"><![CDATA[
As usual, Had to rip an SPC and try to figure out what commands drive it.<br /><br />Command goes on Port 1, and issuing that command, goes onto port 0.<br /><br />If a command is valid,  what is written to port 0, is echoed back, otherwise it is not echoed back.  Regardless of whether the value is echoed back, next command to be issued has to have a new value written to port 0.<br /><br />Valid Commands are<br /><br />0x21 - Restart Playback of current song<br />0x22 - Pause / Resume playback<br />0x23 - Stop Playback, and start standard IPL loader.  New song is loaded using standard IPL protocol.<br />0x24 - Unknown command<br />0x30-0x3F - Set master Volume<br />0x40 - Toggle Tone Channel 1<br />0x41 - Toggle Tone Channel 2<br />0x43 - Toggle Tone Channel 3<br />0x44 - Toggle Noise Channel<br />0x45-0x4F - no known effect, but is treated as valid.<br /><br />Port 2 and 3 contains the 4 channel visualizers, one channel per nybble.  In terms of the driver, Port 2-3 are never written to, only read from,  except when using the IPL loader.<br /><br />When a new song is to be loaded,  IPL load song to 0x1700, max size 0xE8C0.  When done, IPL jump to 0x0300.  Issue command 0x21,  new song starts playing.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3535">caitsith2</a> — Wed Jul 14, 2010 3:58 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[mic_]]></name></author>
<updated>2010-07-14T00:23:29-07:00</updated>
<published>2010-07-14T00:23:29-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6553&amp;p=64181#p64181</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6553&amp;p=64181#p64181"/>
<title type="html"><![CDATA[VGM playback on the SPC]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6553&amp;p=64181#p64181"><![CDATA[
<a href="http://jiggawatt.org/badc0de/mic-t700c.zip" class="postlink">Here's</a> my little continuation of this project.<br /><br /><img src="http://jiggawatt.org/badc0de/t700c-screen03.png" alt="Image" /><br /><br /> Use a real SNES or BSNES to run it, other emulators will likely mess the sound up.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=1181">mic_</a> — Wed Jul 14, 2010 12:23 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[mic_]]></name></author>
<updated>2010-07-08T23:36:07-07:00</updated>
<published>2010-07-08T23:36:07-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6553&amp;p=63926#p63926</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6553&amp;p=63926#p63926"/>
<title type="html"><![CDATA[VGM playback on the SPC]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6553&amp;p=63926#p63926"><![CDATA[
Actually it's 4.0. Or even 8.0 for really low frequency waves (like "periodic noise" driven by tone2).<br />But the increased accuracy in the frequency table seems to more than make up for it, since it sounds better now (IMO).<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=1181">mic_</a> — Thu Jul 08, 2010 11:36 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[blargg]]></name></author>
<updated>2010-07-08T09:49:41-07:00</updated>
<published>2010-07-08T09:49:41-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6553&amp;p=63899#p63899</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6553&amp;p=63899#p63899"/>
<title type="html"><![CDATA[VGM playback on the SPC]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6553&amp;p=63899#p63899"><![CDATA[
I found that using a rate of more than around 1.5 results in noticeable aliasing. Surely 3.5 results in lots.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=17">blargg</a> — Thu Jul 08, 2010 9:49 am</p><hr />
]]></content>
</entry>
</feed>