<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Why is programming taking so dang long for me nowadays?</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Why is programming taking so dang long for me nowadays?</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=5&amp;t=16851">http://forums.nesdev.com/viewtopic.php?f=5&amp;t=16851</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>4</strong> of <strong>5</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>TOUKO</b> [ Mon Jan 15, 2018 1:50 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Why is programming taking so dang long for me nowadays?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Why is programming taking so dang long for me nowadays?</div><br />Because you're alone,no deadlines, a project can become boring as time passes and if you want to make it best as possible, it takes time,you can add if you're like me,E.G to go in a endless optimisation you are not close to finish something easily .  <img src="./images/smilies/icon_wink.gif" alt=":wink:" title="Wink" /><br /><br />I also think an original project is way more difficult(and long) to do alone rather than an adaptation.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>psycopathicteen</b> [ Fri Jan 19, 2018 12:16 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Why is programming taking so dang long for me nowadays?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I just thought of another factor.<br /><br />The more code you write, the more memory you use, and the more memory you use the more bank switching you need, and the more bank switching you do, the more complicated your code is, and the more complicated your code is, the more memory it takes up, and the more memory it takes up, the more you need bank switching.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>calima</b> [ Fri Jan 19, 2018 1:10 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Why is programming taking so dang long for me nowadays?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />-&gt; set up trampolines -&gt; bankswitching is no longer complicated -&gt; cycle broken

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>gauauu</b> [ Fri Jan 19, 2018 1:21 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Why is programming taking so dang long for me nowadays?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">calima wrote:</div><div class="quotecontent">-&gt; set up trampolines -&gt; bankswitching is no longer complicated -&gt; cycle broken</div><br /><br />Even with trampolines, bankswitching still makes things a bit more complicated. You have to pay attention to whether a given routine or bit of data is in your current bank.  Calling a trampoline'd routine is easy, but remembering whether you have to avoid a function that has no trampoline is more mental load.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>psycopathicteen</b> [ Fri Jan 19, 2018 1:39 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Why is programming taking so dang long for me nowadays?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />How would a trampoline code work in an SNES game?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>calima</b> [ Sat Jan 20, 2018 2:35 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Why is programming taking so dang long for me nowadays?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">gauauu wrote:</div><div class="quotecontent">Even with trampolines, bankswitching still makes things a bit more complicated. You have to pay attention to whether a given routine or bit of data is in your current bank.  Calling a trampoline'd routine is easy, but remembering whether you have to avoid a function that has no trampoline is more mental load.</div><br />Sure, but those are easily handled. Put all data a function accesses in the same file, and file-level organization now takes care of that mental load. You don't need to care about not going through a trampoline, that's needless micro-optimization until proven otherwise. Make it so that all functions are either in a common bank or trampolined, and nothing to remember.<br /><br />As for SNES details, I'm not a SNES coder (yet), but if you look up my cc65 trampoline thread, RainWarrior's NES implementation may give some ideas.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>psycopathicteen</b> [ Sat Jan 20, 2018 12:47 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Why is programming taking so dang long for me nowadays?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I just moved my background tile maps to another bank,  and that seemed to work.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Oziphantom</b> [ Sun Jan 21, 2018 2:28 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Why is programming taking so dang long for me nowadays?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">psycopathicteen wrote:</div><div class="quotecontent">How would a trampoline code work in an SNES game?</div><br /><br />It wouldn't; there is 0 need for a trampoline on a 65816, unless you are dealing with a system that has more than 16MB and hence has &quot;banks&quot; as well. I'm sure there is some mapper system that could allow you to get into such a position if you really wanted to where you would need one, but its an edge of an edge on a vertex case <img src="./images/smilies/icon_wink.gif" alt=";)" title="Wink" /><br /><br />But it speaks more to the general issues of complexity. Code is a Complex task that descends into Chaotic over time, so you need to spend a lot of time to &quot;burn off the entropy&quot; and get it back to Complex. You know those refactor periods where you rewrite a whole system or 6 over 3 weeks and then get it to the point it looks 100% the same as did before. <br />When you first add features, you can just hammer them in, as the goes on, you spend more time lookup existing code, making sure you havn't already made code to do a thing, make sure you don't accidentally trash something, make sure it works in all cases the game can present etc. The &quot;checklist&quot; for each new thing gets longer each time you add a new thing.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>calima</b> [ Sun Jan 21, 2018 2:55 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Why is programming taking so dang long for me nowadays?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />What of the data bank and program bank then? You can avoid the data bank by always using long loads, but you can't avoid the program bank. Not having to think about what jump is long and what jump is short is one of the key points of trampolines. edit: Always using long jumps and long loads is certainly possible, but I would think a trampoline design would be faster.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Oziphantom</b> [ Sun Jan 21, 2018 3:49 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Why is programming taking so dang long for me nowadays?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />If something is long or short - mostly the assemblers job. Working out an address based upon data bank, also the assemblers job. <br />Yes you will need to think, do I want this function to RTS or RTL, you could use a trampoline to do a conversion for you, but that is more a VECTOR table rather than a trampoline. <br />Bank 03<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">jLMyFunc <br />&nbsp; &nbsp; jsr myFunc<br />&nbsp; &nbsp; rtl<br /><br />myFunc<br />&nbsp; &nbsp; stuff<br />&nbsp; &nbsp; rts</div><br /><br />So if you are in Bank 02 you would do <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">jsl jLMyFunc</tt>  and if you are in Bank 03 you would do <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">jsr myFunc</tt> not really a trampoline as you don't jump out and then bank in.<br />JSL takes 1 clock more than JSR<br />RTL takes the same number of cycles as RTS<br />The trampoline method eats 12 extra clocks. So if you rarely use the function out of bank, sure JUMP Vector it. If you use it 50/50 then always JSL and take the 1 clock hit. <br />However most of the time you can just JSR/RTS and let the assembler handle the JSL/R RTS/L conversion for you, I would think. On a SNES 32K banks are large, that is a whole C64 or NES game in one shot, In days of yore each bank would have been a &quot;system&quot; and had a VECTOR entry table so you could just assemble each ROM 1 by 1 and not have to sit through the whole lot each time. These days you can one shot the whole ROM and let the assembler handle it.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>TOUKO</b> [ Sun Jan 21, 2018 6:55 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Why is programming taking so dang long for me nowadays?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">psycopathicteen wrote:</div><div class="quotecontent">I just thought of another factor.<br /><br />The more code you write, the more memory you use, and the more memory you use the more bank switching you need, and the more bank switching you do, the more complicated your code is, and the more complicated your code is, the more memory it takes up, and the more memory it takes up, the more you need bank switching.</div><br /> <img src="./images/smilies/icon_lol.gif" alt=":lol:" title="Laughing" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>psycopathicteen</b> [ Tue Jan 23, 2018 1:08 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Why is programming taking so dang long for me nowadays?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I was thinking today, if Super Mario Bros was able to fit in 32kB, I should be able to fit the game engine code within 32kB too.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>TOUKO</b> [ Wed Jan 24, 2018 1:28 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Why is programming taking so dang long for me nowadays?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">psycopathicteen wrote:</div><div class="quotecontent">I was thinking today, if Super Mario Bros was able to fit in 32kB, I should be able to fit the game engine code within 32kB too.</div><br />For 65xxx 32 kB represent a lot of space for code, so i'll say yes you can easily .<br />I think the good things to do is to take the game engine and all the main code in permanent mapped banks if possible, and the other stuffs (intro, menu,game over, datas ,etc ..)  on classic banks which can be mapped at any times.<br />i don't know if this help for snes ,but i use that scheme for PCE,but it's probably more easy as PCE banks are 8kB .

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>93143</b> [ Wed Jan 24, 2018 3:04 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Why is programming taking so dang long for me nowadays?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Why 32 kB?  I can't think of a reason not to put the program bank in a HiROM region, so you can have 64 kB of solid code with no long jumps if you want.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>psycopathicteen</b> [ Wed Jan 24, 2018 9:19 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Why is programming taking so dang long for me nowadays?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />If a routine uses a small LUT, I would like to keep it in the same bank as the routine, and be able to access it with short absolute addressing.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>4</strong> of <strong>5</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>