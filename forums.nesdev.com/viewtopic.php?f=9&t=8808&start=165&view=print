<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - MMC1,2,3,4/Sunsoft-5B reproduction circuit boards. INL-ROM</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">MMC1,2,3,4/Sunsoft-5B reproduction circuit boards. INL-ROM</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=9&amp;t=8808">http://forums.nesdev.com/viewtopic.php?f=9&amp;t=8808</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>12</strong> of <strong>14</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>yogi</b> [ Tue Feb 18, 2014 1:37 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MMC1,2,3,4/Sunsoft-5B reproduction circuit boards. INL-R</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />@ Ladnariq  Glad we're 'Good'.<br /> My main direction with the YM2413 was motivated by the similarity with VRC7 and the fact that INL had interest in a VRC repo board. Fitting a CPLD with the FM core is a task and in a hope to see a FM cart, this chip seemed the closest fit to the direction INL was going. <br />  You are right that there can/would be Op Error and some confusion as to the two FM expansions using the same mapper but again one is a very close subset of the other. Just some reassigning of instrument names and adding support for the increased channel count, but I could be over simplifying things.<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"> so a game that fit on a 360K floppy is still comparable to a 256 KiB NES game </div><br />Point taken. But I will point to the 8bit ISA bus speed as a factor also. Don't remember the historic specs but 4-8MHz springs to mind, which is a factor of ~4-6 improvement in though-put compared to the NES. <br />  How much this will impact things, can only guess. Just by my gut, seems like some of the signature sound of Adlib music will be lost to some extent.   <br /> <div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"> And why should FamiTracker support the OPLL instead? It's not like either was ever used during the FC's commercial life. If you want a general purpose retro softsynth, Deflemask and many other retro trackers are out there. </div> <br />  This I can't really agree with. If a tool supports VRC7 then it supports a sub set of the YM2413. In fact I'm guessing that some of the framework for VRC7 FM emus were adapted from existing YM2413 code (Konami was producing games on the MSX (YM2413 sound) before Nintendo). It's a far closer match than an OPL2 IMO. There's much to say about all the great softs out there but as good as their emus are, there is a 'need' to hear it on real silicon. <br />  Good info on the DAC, there may be hope for a replacement. I'm just going by the similar OPL3 and the MBFM hardware design. Just seems like the Yamaha OPLs and DACs are a 'hand and glove' design <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br />  @ rainwarrior<br />In regards to<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"> instrument patches aren't really a significant burden on data size compared to pattern data. OPL2 wouldn't even create significantly more patch data, there's only about 1 more byte of data (extra waveform selection, and an output level control for the carrier). The 14 patches you get &quot;for free&quot; with the VRC7 are worth 112 bytes, if you're using all of them. </div><br />  I'll take your judgement as well as Tepples' on this. It just seems that comparing the restricted OPLL to the OPL2 is difficult. The OPL2 is completely configurable where as the OPLL was, by design, minimized for ease of use. Or was it only cost savings? To me the OPLL looks more like it was trimmed to fit into the PSG model of sound production. <br />  The OPLL saw far more use on smaller, slower systems where as the more complex chips were on faster machines, just cost? I don't know but I don't mind having several option in my 'stable' <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br />  Not married to the YM2413, just thought it fit better with an NES without major changes. But looks like there is interest and support for a really out of the box expansion.  'More FM for the World' <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Tue Feb 18, 2014 1:58 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MMC1,2,3,4/Sunsoft-5B reproduction circuit boards. INL-R</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">yogi wrote:</div><div class="quotecontent">But I will point to the 8bit ISA bus speed as a factor also. Don't remember the historic specs but 4-8MHz springs to mind, which is a factor of ~4-6 improvement in though-put compared to the NES. </div><br />You fell for the MHz myth. The 6502 does much more in each cycle than an 8088 does; I direct you to any Spectrum vs. C64 flame war. On how many of those cycles is the PC actually transferring data?<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">The OPL2 is completely configurable where as the OPLL was, by design, minimized for ease of use. Or was it only cost savings?</div><br />It might have been cost savings. Consider the APU in the 2A03: cost of ROM vs. RAM, no fine-grained period control for noise and DMC, no destination address for DMA, etc.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Tue Feb 18, 2014 2:02 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MMC1,2,3,4/Sunsoft-5B reproduction circuit boards. INL-R</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">yogi wrote:</div><div class="quotecontent">It just seems that comparing the restricted OPLL to the OPL2 is difficult. The OPL2 is completely configurable where as the OPLL was, by design, minimized for ease of use. Or was it only cost savings? To me the OPLL looks more like it was trimmed to fit into the PSG model of sound production. <br /></div>Definitely cost savings; 1kbit of RAM is significantly more expensive than the corresponding 1kbit of ROM and 200 bits of RAM. Also, the integration of the substantially cheaper (multiplexing) DAC, rather than using an adder and a separate discrete one.<br /><br />Honestly, the complexity of configuring a OPL2 voice is equivalent to configuring the OPLL's custom patch (registers 0-7) and the channel configuration registers (0x10, 0x20, 0x30). Then duplicate that once for each of the 9 channels in the OPL2.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>rainwarrior</b> [ Tue Feb 18, 2014 2:19 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MMC1,2,3,4/Sunsoft-5B reproduction circuit boards. INL-R</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Also, on most frames you don't need to configure anything. The tendancy is to use the same patch on a single channel for lengthy stretches. CPU usage for controlling FM chips under typical usage is far less than the with the macro-driven approach typical for 2A03 where every frame requires an update.<br /><br /><br />Yogi, the VRC7 code in Famitracker (and several other things that support VRC7) is a commonly available YM2413 emulation written by Mitsutaka Okazaki in 2001, simply with the custom patch set put in. It's not custom written for Famitracker at all, just a drop-in solution, really. This is why it'd actually be pretty easy to drop-in an OPL2 emulator in its place. Not a lot of code is needed to interface with this kinda thing, just a few lines to initialize and recieve the emulated sound, and another few lines to map the 2A03 CPU writes to the registers of the OPL emulation.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>infiniteneslives</b> [ Tue Feb 18, 2014 3:59 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MMC1,2,3,4/Sunsoft-5B reproduction circuit boards. INL-R</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">infiniteneslives wrote:</div><div class="quotecontent">The VRC7 method of interfacing with a YM2413 (OPLL) does seem a little cumbersome.</div><br /><br />Well I think I only really looked at the vrc7 audio wiki to come to that conclusion.  Looking over things again, it's uber simple to configure the CPLD to interface with the OPLL.  The only real difference in the interface comapared to the VRC7 would be the wait.  You wouldn't have the wait restriction with my implementation, writes could be back to back successive.<br /><br />It's literally just one logic function:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">If CPU A14-12==0b001 &amp; PRG/CE==0 &amp; PRGR/W==0 &amp; CPU A4==1<br />&nbsp; &nbsp;Take OPLL pins /CS and /WE low<br />else<br />&nbsp; &nbsp;Take em high.<br /></div><br />The A0 pin would get connected directly to CPU A5 and that's pretty much it.<br /><br />Just need a good solution for mixing the melody and rhythm together, perhaps the same mixing circuit I have for the AY-3-8910 would suffice?<br /><br />I'd probably interface the OP2 the same way and tie the /RD pin high.  One other support peice the OP2 needs in comparison to the OPLL besides a DAC is an input clock, but that's not a big deal.  The OP2 also has the benefit of /IRQ generation which might be handy.<br /><br />FWIW I picked up a few YM3812's and YM3014's for playing around with as well.<br /><br />The best platform/mapper for this I don't feel is something like a VRC7.  Afterall we're not after the PRG/CHR bankswitching or counter.  Just the sound for the purposes of this right now.  In that light I'd say it better belongs on my stripped down NSF mapper.  The VRC7's port choice of $9010/9030 is convenient in the fact that it doesn't conflict with many other common mapper ports.  So with this you could fairly easily tack on any OP to any common mapper if you really wanted to.<br /><br />This setup on the NSF mapper wouldn't be a VRC7 variant.  It'd just be an extension of the NSF mapper which currently doesn't  have definitions for the OPLL or OPL2.  It just uses the same port locations because it's convenient.  So that might make some people happy as well.  You pick and define your OP, the port definitions are the same.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>yogi</b> [ Tue Feb 18, 2014 4:05 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MMC1,2,3,4/Sunsoft-5B reproduction circuit boards. INL-R</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">You fell for the MHz myth. The 6502 does much more in each cycle than an 8088 does; I direct you to any Spectrum vs. C64 flame war. On how many of those cycles is the PC actually transferring data?</div><br /><br /><img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /> I guess a lot of my concerns stem from my background with the Atari 800. 6502 processing is effectively within the VBlank period and halted during GITA access. Not a problem on the NES if I understand.<br /><div class="quotetitle">Lidnariq wrote:</div><div class="quotecontent"> Definitely cost savings; 1kbit of RAM is significantly more expensive than the corresponding 1kbit of ROM and 200 bits of RAM. Also, the integration of the substantially cheaper (multiplexing) DAC, rather than using an adder and a separate discrete one. </div><br /><br />All good points; I'm sure I've glossed over a lot of factors and money usually trumps other concerns in business. <br /><br /><div class="quotetitle">Lidnariq wrote:</div><div class="quotecontent"> Honestly, the complexity of configuring a OPL2 voice is equivalent to configuring the OPLL's custom patch (registers 0-7) and the channel configuration registers (0x10, 0x20, 0x30). Then duplicate that once for each of the 9 channels in the OPL2. </div><br /><div class="quotetitle">rainwarrior wrote:</div><div class="quotecontent">Also, on most frames you don't need to configure anything. The tendancy is to use the same patch on a single channel for lengthy stretches. CPU usage for controlling FM chips under typical usage is far less than the with the macro-driven approach typical for 2A03 where every frame requires an update. </div><br />Well, I'll bow to your collective opinion. I don't necessarily love the OPLL (I've been a sucker for OPL3 music for a long time) and if you all feel an OPL2 wouldn't be a dog, cool. <br /> What are your feelings with the YM2612, Sega Gen FM? 6 voices vs the 9 on the OPL2. Build in DAC, some homebrew tools &amp; Sega community development. Seems same price on Ebay, $3-$10 and would eat less board space. Thought?<br />Yogi

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>yogi</b> [ Tue Feb 18, 2014 5:20 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MMC1,2,3,4/Sunsoft-5B reproduction circuit boards. INL-R</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />@infiniteneslives Don't know if you need any of this?<br />Here is an Arduino shield w/YM2413 that may assist with the output mixing<br /><!-- m --><a class="postlink" href="http://htlab.net/products/electronics/ym2413-shield-1/">http://htlab.net/products/electronics/ym2413-shield-1/</a><!-- m --><br />and <br /><!-- m --><a class="postlink" href="http://htlab.net/wp-content/uploads/2012/12/YM2413_Shield_Ver_1.0.pdf">http://htlab.net/wp-content/uploads/201 ... er_1.0.pdf</a><!-- m --><br />Looks like a basic opamp mixer. Using a quad but could just as well use a dual opamp.<br />As well as this<br /><!-- m --><a class="postlink" href="http://etim.net.au/smsfm/smsfm.html">http://etim.net.au/smsfm/smsfm.html</a><!-- m --><br />Master system FM mod

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>infiniteneslives</b> [ Tue Feb 18, 2014 9:58 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MMC1,2,3,4/Sunsoft-5B reproduction circuit boards. INL-R</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">yogi wrote:</div><div class="quotecontent">@infiniteneslives Don't know if you need any of this?</div><br />Thanks, this does help out.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">http://htlab.net/wp-content/uploads/2012/12/YM2413_Shield_Ver_1.0.pdf Looks like a basic opamp mixer. Using a quad but could just as well use a dual opamp.</div>Looks like they did do the mixing with resistors similar to how I was thinking, and a coupling capacitor into the amp stage.  Correct me if I'm wrong, but those opamps don't have much todo with mixing, they're solely amplifying.  Assuming the output strength of the OPL's is comparable to the YM2149, they will need some amplification though.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">What are your feelings with the YM2612, Sega Gen FM? 6 voices vs the 9 on the OPL2. Build in DAC, some homebrew tools &amp; Sega community development. Seems same price on Ebay, $3-$10 and would eat less board space. Thought?</div>  Well considering things in the scope of a NSF board, and not some variant of the VRC7 mapper, I think there's room for pretty much anything of this sort.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">One other support peice the OP2 needs in comparison to the OPLL besides a DAC is an input clock, but that's not a big deal.</div>This isn't exactly accurate.  The YM2413 has a built in oscillator, so it only needs an external crystal.  The OPL2 and YM2612 need an external oscillator.  Sourcing the exact xtal for the OPLL was no prob.  I found what I believe is close enough to exact for the OPL2 with 3.579545Mhz.  Finding a 7.67Mhz oscillator for the YM2612 on the other hand... Best I can do with digikey is a 7.5Mhz with a lead date of Apr-22nd, and it running w/3.3v supply...  <img src="./images/smilies/icon_sad.gif" alt=":(" title="Sad" /><br /><br />Having just dealt with sourcing the components for everything the OPLL is the clear winner of the three in this front.  They're all pretty comparable on ebay for the actual chip.<br />YM2412: readily available xtal, No DAC, op needs mixed if you want the rhythm.<br />YM3812: readily available oscillator, needs external DAC YM3014 or similar (costs more than synth), no mixing needed.<br />YM2612: oscillator hard to find, No DAC, needs mixed if you want left and right channels together.<br /><br />I didn't bother acquiring the YM2612 like I did the other two, mostly due to not wanting to deal with the oscillator issues.  Maybe I'll consider it come April..  The YM3812 isn't too bad really, it is a little more expensive, but the added cost also buys more capability.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Tue Feb 18, 2014 10:28 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MMC1,2,3,4/Sunsoft-5B reproduction circuit boards. INL-R</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Is it possible to create a phase locked loop or something that multiplies M2 by 2 to get 3.58 MHz or by 4 to get 7.16 MHz?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Tue Feb 18, 2014 10:59 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MMC1,2,3,4/Sunsoft-5B reproduction circuit boards. INL-R</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">infiniteneslives wrote:</div><div class="quotecontent">Finding a 7.67Mhz oscillator for the YM2612 on the other hand... Best I can do with digikey is a 7.5Mhz with a lead date of Apr-22nd, and it running w/3.3v supply...  <img src="./images/smilies/icon_sad.gif" alt=":(" title="Sad" /><br /></div>Apparently the 7.67MHz of the Genesis is supposed to be NTSC×15÷7. (bluh). Obviously a PLL could be used, but that would hurt.<br /><br />You can get 15.36MHz xtals pretty easily, and apparently US patent #4980655 (long expired) details a method for using a 74HC74 to both drive a crystal and divide its output by 2. That gets you to within 2 cents of correct, too. And it looks like the 74HC74 shouldn't have any problems at those frequencies.<br /><br />(Unfortunately, the 74'4060, almost explicitly designed for this task, doesn't have a divider output smaller than ÷16)<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">YM3812: readily available oscillator, needs external DAC YM3014 or similar (costs more than synth), no mixing needed.<br /></div>Hm. The complexity of translating the bitstream to ordinary I²S is definitely within the range of the least CPLD, if not just a microcontroller. And the cheapest I²S DAC I can find is also about a dollar.<br /><br />Then again, new old stock or working pulls of the YMF262 (OPL3) are also about the same cost as the YM3812 on ebay, and <em>its</em> DAC looks to be usually cheaper than the OPL3.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>yogi</b> [ Wed Feb 19, 2014 12:06 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MMC1,2,3,4/Sunsoft-5B reproduction circuit boards. INL-R</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">infiniteneslives wrote:</div><div class="quotecontent">Thanks, this does help out. </div><br />well I've been searching and have some links for OPL2 designs also.<br />A DIY Adlib card<br /><!-- m --><a class="postlink" href="http://www.malinov.com/Home/sergeys-projects/isa-opl2-card">http://www.malinov.com/Home/sergeys-pro ... -opl2-card</a><!-- m --><br />A midi synth<br /><!-- m --><a class="postlink" href="http://kikyoya.files.wordpress.com/2013/10/fm3812sch.png?w=465&amp;h=303">http://kikyoya.files.wordpress.com/2013 ... =465&amp;h=303</a><!-- m --><br />The C64 Sound Expander<br /><!-- m --><a class="postlink" href="http://kikyoya.files.wordpress.com/2013/10/fm3812sch.png?w=465&amp;h=303">http://kikyoya.files.wordpress.com/2013 ... =465&amp;h=303</a><!-- m --><br />Yamaha Datasheets attached<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Looks like they did do the mixing with resistors similar to how I was thinking, and a coupling capacitor into the amp stage.  Correct me if I'm wrong, but those opamps don't have much todo with mixing, they're solely amplifying.  Assuming the output strength of the OPL's is comparable to the YM2149, they will need some amplification though. </div><br />The RCs on each pin are low pass filters, just prior to the mixing Rs. The first stage is summing for the mix and the second is a buffer. Must have the summing for the mix and isolation; could may be do without the buffer amp but there isn't much point, not saving any pins with a single opamp package.<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"> The OPL2 and YM2612 need an external oscillator.  Sourcing the exact xtal for the OPLL was no prob.  I found what I believe is close enough to exact for the OPL2 with 3.579545Mhz.  Finding a 7.67Mhz oscillator for the YM2612 on the other hand... Best I can do with digikey is a 7.5Mhz with a lead date of Apr-22nd, and it running w/3.3v supply...  <img src="./images/smilies/icon_sad.gif" alt=":(" title="Sad" /> </div><br />  If there's room, could build a xtal osc with a Schmidt Trig inverted, but it adds a 14p package. I'll look into this.<br />  An added note for the OPL2, it needs a buffer amp on the DAC's output and another amp for the DAC's sample/hold section as per the DS.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"> Having just dealt with sourcing the components for everything the OPLL is the clear winner of the three in this front.  They're all pretty comparable on ebay for the actual chip.<br />YM2412: readily available xtal, No DAC, op needs mixed if you want the rhythm.<br />YM3812: readily available oscillator, needs external DAC YM3014 or similar (costs more than synth), no mixing needed.<br />YM2612: oscillator hard to find, No DAC, needs mixed if you want left and right channels together.<br /><br />I didn't bother acquiring the YM2612 like I did the other two, mostly due to not wanting to deal with the oscillator issues.  Maybe I'll consider it come April..  The YM3812 isn't too bad really, it is a little more expensive, but the added cost also buys more capability.</div><br />  Another option for OPL2 parts could be finding a SB or SB2 card at a good price. If snagged at $10 that would be comparable to the HK chips, and no worries about clones/fakes, just have to be concerned with IF IT WORKS <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /> (so may be it's the same as the HK chips?!?!)<br /> Yea, If you want to drop the 2612 that's cool, I'm feeling much better about the OPL2. I ran across the C64 Sound Expansion; uses a OPL (1) and the favored mod was to drop in a OPL2. So, for me, it's kind of a proof of concept 6502 wise. This was the first application I've seen using the OPL2 on a 8bitter, I guess the cost was the main stumbling block BITD.<br />Thanks for your great work,<br />Yogi

		
			<br clear="all" /><br />

			<table class="tablebg" width="100%" cellspacing="1">
			<tr>
				<td><b class="genmed">Attachments: </b></td>
			</tr>
			
				<tr>
					<td>
			<span class="genmed">
				<img src="./styles/subsilver2/imageset/icon_topic_attach.gif" width="14" height="18" alt="" title="" /> 
				<a href="./download/file.php?id=1230">YM3812.pdf</a> [274.11 KiB]
			</span><br />
			<span class="gensmall">Downloaded 16 times</span>
		

		<br />
	</td>
				</tr>
			
				<tr>
					<td>
			<span class="genmed">
				<img src="./styles/subsilver2/imageset/icon_topic_attach.gif" width="14" height="18" alt="" title="" /> 
				<a href="./download/file.php?id=1229">YM3014B.pdf</a> [175.03 KiB]
			</span><br />
			<span class="gensmall">Downloaded 15 times</span>
		

		<br />
	</td>
				</tr>
			
			</table>
		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Wed Feb 19, 2014 1:03 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MMC1,2,3,4/Sunsoft-5B reproduction circuit boards. INL-R</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">Is it possible to create a phase locked loop or something that multiplies M2 by 2 to get 3.58 MHz or by 4 to get 7.16 MHz?<br /></div>This is a bit of a tangent, but it should be able to devise a simple multiplying PLL using a 74HC4046 (VCO will PLL) and a divider of some sort (e.g. 74HC4059, 74'393, &amp;c). The original CD4046 isn't very useful: it's only viable up to 1.5-2MHz. But this later 74 series version of it claims to be good for up to 17MHz.<br /><br />Fixed odd multiples are more easily done using an LC tank and a few inverters.<br /><br />Anyway, 2×NTSC colorburst is 14/15 of the Genesis's nominal frequency, so things will be off by 120 cents.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Wed Feb 19, 2014 9:08 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MMC1,2,3,4/Sunsoft-5B reproduction circuit boards. INL-R</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />All that means is that playback code will need an Amiga tuning table instead of the one for the Genesis. The NTSC and PAL Amiga computers have CPUs clocked at what amounts to four times M2 on the Famicom and Dendy respectively.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>yogi</b> [ Wed Feb 19, 2014 2:15 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MMC1,2,3,4/Sunsoft-5B reproduction circuit boards. INL-R</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="attachtitle">Attachment:</div><div class="attachcontent">
			<img src="./download/file.php?id=1232" alt="3_5MHz Pierce Osc.png" /><br />
			<span class="gensmall">3_5MHz Pierce Osc.png [ 6.13 KiB | Viewed 464 times ]</span>
		

		<br />
	</div><br />OK so here is a simple Pierce Osc @3.579545. My Xtal is 3579.454KHz<br />I used 4.7M instead of 1M @ R1<br />1.8K instead 2.2K @R2<br />C1=C2=22pf<br />and a 74hct14<br />One could delete the second inverter gate butit's nice as a buffer. <br />There is a ton of examples on the net but this was a help with the theroy<br /><!-- m --><a class="postlink" href="http://www.mpdigest.com/issue/articles/2008/mar/crystek/default.asp">http://www.mpdigest.com/issue/articles/ ... efault.asp</a><!-- m --><br />Started up first try; DMM reading 3.581MHz but I couldn't put it on a scope to test further <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br />Yogi

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>yogi</b> [ Wed Feb 19, 2014 2:58 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MMC1,2,3,4/Sunsoft-5B reproduction circuit boards. INL-R</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">lidnariq wrote:</div><div class="quotecontent">You can get 15.36MHz xtals pretty easily, and apparently US patent #4980655 (long expired) details a method for using a 74HC74 to both drive a crystal and divide its output by 2. That gets you to within 2 cents of correct, too. And it looks like the 74HC74 shouldn't have any problems at those frequencies.</div><br />Good call, do you have a link to it? Search on Patent Office site only turns up an Expiration notice.<br />Depending on the costs could just use a xtal osc can into the FF also (so a quick search is not promising for can osc). About the same board real estate.<br />Yogi

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>12</strong> of <strong>14</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>