<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Vigilante [port SMS]</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Vigilante [port SMS]</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=22&amp;t=14387">http://forums.nesdev.com/viewtopic.php?f=22&amp;t=14387</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Diskover</b> [ Sat Jun 11, 2016 5:30 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Vigilante [port SMS]</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I remember small, under the building where he lived was a bar that had the arcade machine Vigilante Irem company. I left enough money in this game. Years later, when I finally had a NES I started buying magazines in video games and I could see the analysis that made the Vigilante video game Sega Master System.<br />I was very angry that did not exist a version of the NES Vigilante, so good ... why not do it yourself?<br /><br />With what little I've learned in cc65, I could recreate some level 1 of this game, based on the version of SMS.<br /><br />What do you think?<br /><br /><img src="http://i14.photobucket.com/albums/a305/diskover/Vigilante%20201606111419387_zpsynwv0mdm.png" alt="Image" /> <img src="http://i14.photobucket.com/albums/a305/diskover/Vigilante%20201606111419433_zpsi6p9jtwg.png" alt="Image" /> <img src="http://i14.photobucket.com/albums/a305/diskover/Vigilante%20201606111419474_zps23dqnxkx.png" alt="Image" /> <img src="http://i14.photobucket.com/albums/a305/diskover/Vigilante%20201606111420071_zpsa62qfexi.png" alt="Image" /><br /><br />Rom demo: <!-- m --><a class="postlink" href="https://dl.dropboxusercontent.com/u/31966385/NES%20demos/Vigilante%20alpha%201.0%20%28demo%29.nes">https://dl.dropboxusercontent.com/u/319 ... emo%29.nes</a><!-- m -->

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>na_th_an</b> [ Sat Jun 11, 2016 5:46 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Vigilante [port SMS]</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />It look gorgeous. Awesome graphics.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Banshaku</b> [ Sat Jun 11, 2016 7:42 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Vigilante [port SMS]</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Looks great. I love that game. Can't wait to see the result!<br /><br />edit:<br /><br />Tested it on Nintendulator and it doesn't work. You should check your code since it may be an indication that it will not work on the real thing.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Diskover</b> [ Sat Jun 11, 2016 8:26 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Vigilante [port SMS]</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Banshaku wrote:</div><div class="quotecontent">Looks great. I love that game. Can't wait to see the result!<br /><br />edit:<br /><br />Tested it on Nintendulator and it doesn't work. You should check your code since it may be an indication that it will not work on the real thing.</div><br /><br />In a real NES if it works<br /><br /><img src="http://i14.photobucket.com/albums/a305/diskover/IMG_20160611_172120_zps8vnze8b1.jpg" alt="Image" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>darryl.revok</b> [ Sat Jun 11, 2016 9:35 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Vigilante [port SMS]</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />It freezes also on my EverDrive in my NES Toploader.<br /><br />Is there perhaps a reason that the ROM is currently PAL exclusive?<br /><br />The first background displays, but I also get two garbage tiles in the status bar. No buttons do anything.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Sat Jun 11, 2016 9:59 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Vigilante [port SMS]</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Diskover wrote:</div><div class="quotecontent">In a real NES if it works</div><br />Are you using a PowerPak or an EverDrive? Those cartridges tend to hide initialization issues that games might have, because they initialize the system before transferring control to the game.<br /><br />As for the game itself, I never really played on the SMS, but your graphics look pretty good. Will give the ROM a try when I can.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Sat Jun 11, 2016 10:01 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Vigilante [port SMS]</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />In Nintendulator DX, there's no missing initialization, but it does spin forever on a sprite 0 hit that doesn't happen.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Sat Jun 11, 2016 10:19 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Vigilante [port SMS]</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />It's doing OAM DMA outside vblank, with rendering enabled. (Based on NDX, starts at scanline 260, ends at scanline 3.) Write that enables rendering ($2001 &lt;= $1E) at $C552, earlier on the same scanline 260.<br /><br />EDIT: I'm guessing that on real hardware the sprite 0 ends up surviving that, but on Nintendulator the corruption behaves somewhat differently, overwriting sprite 0.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Diskover</b> [ Sat Jun 11, 2016 12:15 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Vigilante [port SMS]</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">darryl.revok wrote:</div><div class="quotecontent">It freezes also on my EverDrive in my NES Toploader.<br /><br />Is there perhaps a reason that the ROM is currently PAL exclusive?<br /><br />The first background displays, but I also get two garbage tiles in the status bar. No buttons do anything.</div><br /><br /><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent"><div class="quotetitle">Diskover wrote:</div><div class="quotecontent">In a real NES if it works</div><br />Are you using a PowerPak or an EverDrive? Those cartridges tend to hide initialization issues that games might have, because they initialize the system before transferring control to the game.<br /><br />As for the game itself, I never really played on the SMS, but your graphics look pretty good. Will give the ROM a try when I can.</div><br /><br /><div class="quotetitle">thefox wrote:</div><div class="quotecontent">It's doing OAM DMA outside vblank, with rendering enabled. (Based on NDX, starts at scanline 260, ends at scanline 3.) Write that enables rendering ($2001 &lt;= $1E) at $C552, earlier on the same scanline 260.<br /><br />EDIT: I'm guessing that on real hardware the sprite 0 ends up surviving that, but on Nintendulator the corruption behaves somewhat differently, overwriting sprite 0.</div><br /><br />How weird. I am using a Chinese version to try and not give me any errors  <img src="./images/smilies/icon_confused.gif" alt=":?" title="Confused" /> <br /><br /><img src="http://i14.photobucket.com/albums/a305/diskover/IMG_20160611_210752_zpsnoscoble.jpg" alt="Image" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Sat Jun 11, 2016 12:43 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Vigilante [port SMS]</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />It looks like the <a href="http://www.aliexpress.com/store/product/Free-shipping-8bit-nes-game-card/1907668_32453969153.html" class="postlink">Jack DIY</a> NES flashcart is an EverDrive N8 clone... so maybe there's a difference if the console instead?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Sat Jun 11, 2016 12:44 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Vigilante [port SMS]</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />It's a bug in your program. The fact that it happens to work on hardware doesn't mean that your program is well-behaved.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Diskover</b> [ Sat Jun 11, 2016 12:48 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Vigilante [port SMS]</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">thefox wrote:</div><div class="quotecontent">It's a bug in your program. The fact that it happens to work on hardware doesn't mean that your program is well-behaved.</div><br /><br />Okay. I intend to pass it to a UNROM (for I stay out of space) and change various things, to see if it clears.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Sat Jun 11, 2016 12:51 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Vigilante [port SMS]</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />From what I understand of your comments, the sprite DMA is spilling outside of vblank on NTSC, but not on PAL, which has a longer vblank, so maybe the game's working only on PAL machines (or emulators in PAL mode).<br /><br />But that still conflicts with the fact that OAM DMA should happen during the first 20 scanlines of vblank on PAL consoles, so maybe even on PAL this isn't exactly stable.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Diskover</b> [ Sat Jun 11, 2016 1:10 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Vigilante [port SMS]</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent">From what I understand of your comments, the sprite DMA is spilling outside of vblank on NTSC, but not on PAL, which has a longer vblank, so maybe the game's working only on PAL machines (or emulators in PAL mode).<br /><br />But that still conflicts with the fact that OAM DMA should happen during the first 20 scanlines of vblank on PAL consoles, so maybe even on PAL this isn't exactly stable.</div><br /><br />I have no idea, it can be.<br /><br />Testing with VirtuaNES or FCEU works without problem, in both NTSC and PAL. <img src="./images/smilies/icon_confused.gif" alt=":?" title="Confused" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>dougeff</b> [ Sat Jun 11, 2016 1:38 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Vigilante [port SMS]</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Do not trust VirtuaNES nor FCEU for accuracy. (I prefer Nintendulator for accuracy).<br /><br />Maybe put sprite DMA earlier in your list of to-do's during v-blank.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>