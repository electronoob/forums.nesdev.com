<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="http://forums.nesdev.com/feed.php?f=12&amp;t=15857" />

<title>nesdev.com</title>
<subtitle>NES Development and Strangulation Records message boards</subtitle>
<link href="http://forums.nesdev.com/index.php" />
<updated>2017-06-02T00:09:36-07:00</updated>

<author><name><![CDATA[nesdev.com]]></name></author>
<id>http://forums.nesdev.com/feed.php?f=12&amp;t=15857</id>
<entry>
<author><name><![CDATA[Peperocket]]></name></author>
<updated>2017-06-02T00:09:36-07:00</updated>
<published>2017-06-02T00:09:36-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=15857&amp;p=197185#p197185</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=15857&amp;p=197185#p197185"/>
<title type="html"><![CDATA[Re: Super NES EMULATOR SE dev question]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=15857&amp;p=197185#p197185"><![CDATA[
If someone need something I've, please contact me.<br /><br />I'm still looking for all Graphics and Sound software for Emulator SE/ IS Character or IS Sound.<br /><br />For information, ISAS and ISLK works with Super FX and SPC700 code, just put the good ISSND or ISSFX pseudo instruction in it.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=8097">Peperocket</a> — Fri Jun 02, 2017 12:09 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Peperocket]]></name></author>
<updated>2017-06-01T23:59:57-07:00</updated>
<published>2017-06-01T23:59:57-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=15857&amp;p=197183#p197183</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=15857&amp;p=197183#p197183"/>
<title type="html"><![CDATA[Re: Super NES EMULATOR SE dev question]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=15857&amp;p=197183#p197183"><![CDATA[
Sure, we are talking about Intelligent System assembler/linker/debugger manual not the common snes one.<br /><br />It's very usefull if you want to code with it.<br /><br />I send you a MP for a link.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=8097">Peperocket</a> — Thu Jun 01, 2017 11:59 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Doriphor]]></name></author>
<updated>2017-06-01T10:31:36-07:00</updated>
<published>2017-06-01T10:31:36-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=15857&amp;p=197127#p197127</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=15857&amp;p=197127#p197127"/>
<title type="html"><![CDATA[Re: Super NES EMULATOR SE dev question]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=15857&amp;p=197127#p197127"><![CDATA[
<div class="quotetitle">Peperocket wrote:</div><div class="quotecontent"><br />I can provide the Assembler/Linker/Debugger english version manual if needed.<br /></div><br /><br />Is what I was interested in, since, as far as I know, there are only Japanese manuals out there but, like I said, if Peperocket is uncomfortable about this, I wouldn't want to pressure them into anything. I could just write my own compiler/assembler/linker in the worst case.<br /><br />I'm just really interested in the historical background of these old pieces of software, and I believe that preservation is very important. (The fact that there are still no copies of the SNES dev software on the internet I incredibly sad to me)<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=8499">Doriphor</a> — Thu Jun 01, 2017 10:31 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[lidnariq]]></name></author>
<updated>2017-06-01T10:22:52-07:00</updated>
<published>2017-06-01T10:22:52-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=15857&amp;p=197124#p197124</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=15857&amp;p=197124#p197124"/>
<title type="html"><![CDATA[Re: Super NES EMULATOR SE dev question]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=15857&amp;p=197124#p197124"><![CDATA[
At least, in the past, there was one takedown request for the SNES dev manuals, and Koitsu has been justifiably jumpy ever since.<br /><br />If that's what you're talking about. They're really east to search google for.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3512">lidnariq</a> — Thu Jun 01, 2017 10:22 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Doriphor]]></name></author>
<updated>2017-06-01T09:22:29-07:00</updated>
<published>2017-06-01T09:22:29-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=15857&amp;p=197115#p197115</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=15857&amp;p=197115#p197115"/>
<title type="html"><![CDATA[Re: Super NES EMULATOR SE dev question]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=15857&amp;p=197115#p197115"><![CDATA[
<div class="quotetitle">Peperocket wrote:</div><div class="quotecontent"><br />Hello,<br /><br />Because Nintendo legal issue, I don't know if I can attached the manual here.<br /><br />Is it possible?<br /></div><br /><br />I honestly don't know myself. All I know, is that Nintendo doesn't seem to have bothered about all the other VUE Debugger floppies that have been released in the past.<br /><br />If you feel uncomfortable about this, I completely understand!<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=8499">Doriphor</a> — Thu Jun 01, 2017 9:22 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Peperocket]]></name></author>
<updated>2017-06-01T02:09:09-07:00</updated>
<published>2017-06-01T02:09:09-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=15857&amp;p=197084#p197084</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=15857&amp;p=197084#p197084"/>
<title type="html"><![CDATA[Re: Super NES EMULATOR SE dev question]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=15857&amp;p=197084#p197084"><![CDATA[
Hello,<br /><br />Because Nintendo legal issue, I don't know if I can attached the manual here.<br /><br />Is it possible?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=8097">Peperocket</a> — Thu Jun 01, 2017 2:09 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Doriphor]]></name></author>
<updated>2017-05-29T13:28:04-07:00</updated>
<published>2017-05-29T13:28:04-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=15857&amp;p=196898#p196898</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=15857&amp;p=196898#p196898"/>
<title type="html"><![CDATA[Re: Super NES EMULATOR SE dev question]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=15857&amp;p=196898#p196898"><![CDATA[
I've been trying to setup the tool chain for SNES programming, and I'd love the manuals in English! (Also a manual for VUCC would be nice, if possible...)<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=8499">Doriphor</a> — Mon May 29, 2017 1:28 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Peperocket]]></name></author>
<updated>2017-04-30T10:54:15-07:00</updated>
<published>2017-04-30T10:54:15-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=15857&amp;p=194657#p194657</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=15857&amp;p=194657#p194657"/>
<title type="html"><![CDATA[Re: Super NES EMULATOR SE dev question]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=15857&amp;p=194657#p194657"><![CDATA[
Hello all!<br /><br />After changing header adress to $7FB0 and mode 20, rom works on my sd2snes.<br /><br />I don't understand why mode 21 doesn't work however ...<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=8097">Peperocket</a> — Sun Apr 30, 2017 10:54 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[ikari_01]]></name></author>
<updated>2017-04-29T23:30:21-07:00</updated>
<published>2017-04-29T23:30:21-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=15857&amp;p=194635#p194635</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=15857&amp;p=194635#p194635"/>
<title type="html"><![CDATA[Re: Super NES EMULATOR SE dev question]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=15857&amp;p=194635#p194635"><![CDATA[
True, I only fall back to the header location if the header data is found to be unusable (invalid map mode byte). I guess I could add in another little plausibility check to match the map byte against the header location.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3966">ikari_01</a> — Sat Apr 29, 2017 11:30 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[UnDisbeliever]]></name></author>
<updated>2017-04-29T23:08:03-07:00</updated>
<published>2017-04-29T23:08:03-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=15857&amp;p=194632#p194632</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=15857&amp;p=194632#p194632"/>
<title type="html"><![CDATA[Re: Super NES EMULATOR SE dev question]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=15857&amp;p=194632#p194632"><![CDATA[
<div class="quotetitle">Peperocket wrote:</div><div class="quotecontent"><br />I attached the updated code and ISX/ROM files. Could you confirm it works on your QUICKDEV?<br /></div>The updated PROG.ROM works perfectly on my Quickdev16.<br /><br /><br /><div class="quotetitle">ikari_01 wrote:</div><div class="quotecontent"><br />HEAD.S specifies Mode 21 (HiROM) but the ROM is only half a bank in size and expects to be loaded from $8000....<br /></div><br />I looked at the SD2SNES source code and discovered that SD2SNES uses the map mode byte from the ROM Header to determine which memory map to use.<br /><br />I did not notice the incorrect header because bsnes/higan/snes9x uses the location of the header in the ROM file to determine the memory map.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=6909">UnDisbeliever</a> — Sat Apr 29, 2017 11:08 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[ikari_01]]></name></author>
<updated>2017-04-29T18:37:30-07:00</updated>
<published>2017-04-29T18:37:30-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=15857&amp;p=194623#p194623</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=15857&amp;p=194623#p194623"/>
<title type="html"><![CDATA[Re: Super NES EMULATOR SE dev question]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=15857&amp;p=194623#p194623"><![CDATA[
HEAD.S specifies Mode 21 (HiROM) but the ROM is only half a bank in size and expects to be loaded from $8000. Try changing <div class="codetitle"><b>Code:</b></div><div class="codecontent">      db      MODE_21                                         ; D5 - map mode<br /></div><br />to<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">      db      MODE_20                                         ; D5 - map mode<br /></div><br />in HEAD.S.<br /><br />Edit: still doesn't work, it gets stuck at the white screen... I shall take a closer look.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3966">ikari_01</a> — Sat Apr 29, 2017 6:37 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Nicole]]></name></author>
<updated>2017-04-29T17:05:47-07:00</updated>
<published>2017-04-29T17:05:47-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=15857&amp;p=194622#p194622</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=15857&amp;p=194622#p194622"/>
<title type="html"><![CDATA[Re: Super NES EMULATOR SE dev question]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=15857&amp;p=194622#p194622"><![CDATA[
Your ROM file does seem fine, though the header claims the ROM is 256 KB when it's actually 32 KB, and the checksums haven't been set.<br /><br />My guess is that the ROM size is the problem, and it should be zero-padded out to 256 KB. I don't own a SD2SNES, but at least on the Super EverDrive, I've had problems with ROMs that were too small in the past.<br /><br />Correct checksums would also be nice, but I can't imagine it's the problem here. So many ROM hacks and homebrew games don't bother, so I doubt the SD2SNES would check them, and the SNES itself doesn't care about the header at all besides the vectors.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=7476">Nicole</a> — Sat Apr 29, 2017 5:05 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Peperocket]]></name></author>
<updated>2017-04-29T15:09:05-07:00</updated>
<published>2017-04-29T15:09:05-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=15857&amp;p=194615#p194615</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=15857&amp;p=194615#p194615"/>
<title type="html"><![CDATA[Re: Super NES EMULATOR SE dev question]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=15857&amp;p=194615#p194615"><![CDATA[
Thank you for these clear explanation. I tried to convert once again ISX file to ROM/SFC but it always fail running on my SD2SNES.<br /><br />I attached the updated code and ISX/ROM files. Could you confirm it works on your QUICKDEV?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=8097">Peperocket</a> — Sat Apr 29, 2017 3:09 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[UnDisbeliever]]></name></author>
<updated>2017-04-29T10:45:01-07:00</updated>
<published>2017-04-29T10:45:01-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=15857&amp;p=194594#p194594</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=15857&amp;p=194594#p194594"/>
<title type="html"><![CDATA[Re: Super NES EMULATOR SE dev question]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=15857&amp;p=194594#p194594"><![CDATA[
<div class="quotetitle">Peperocket wrote:</div><div class="quotecontent"><br />I don't understand the second point however. Could you explain?<br /></div>When down is pressed it loads green into CGDATA (at color 0) and the Accumulator is set to 3. The Accumulator (3) is then bit tested with JOYH_LEFT (2), which always passes, so blue is also loaded into CGDATA (at colour 1).<br /><br />To fix this you need to add an exit branch to each direction test after setting CGDATA. To demonstrate:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">Up:<br />    bit #JOYH_UP                                    ; on compare bit a bit avec haut<br />    beq Down                                                ; si non egal, passe au prochain boutton<br />   <br />    ; Set color 0 of palette 0 to red<br />    lda #%00011111<br />    sta CGDATA<br />    lda #%00000000<br />    sta CGDATA<br /><br />    bra EndJoypadTest<br /><br />Down:<br />; ...<br />; Add `bra EndJoypadTest` to Down and Left tests<br />; ...<br /><br />NotRight:<br />EndJoypadTest:<br /></div><br /><br /><div class="quotetitle">Peperocket wrote:</div><div class="quotecontent"><br />Great, thank you! What is the assembler/linker you use?<br /></div>No problem. I've used both ca65/ld65 and byuu's bass assembler for my SNESdev projects.<br /><br /><div class="quotetitle">Peperocket wrote:</div><div class="quotecontent"><br />If you use Intelligent System stuff, how do you generate a usable snes rom because I would like put my works on a flash card because I only output ISX files from Linker?<br /></div>I just used iscv.exe to convert PROG.ISX to PROG.ROM, renamed PROG.ROM to PROG.SFC and it worked fine on my Quickdev16. I don't see why it shouldn't work on a flash cart.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=6909">UnDisbeliever</a> — Sat Apr 29, 2017 10:45 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Peperocket]]></name></author>
<updated>2017-04-29T05:40:47-07:00</updated>
<published>2017-04-29T05:40:47-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=15857&amp;p=194580#p194580</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=15857&amp;p=194580#p194580"/>
<title type="html"><![CDATA[Re: Super NES EMULATOR SE dev question]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=15857&amp;p=194580#p194580"><![CDATA[
Hello,<br /><br />Thank you for your answer.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />Tracing the code through bsnes-plus I discovered your NMI routine is broken. The two and NMITIMEN_JOY_ENABLE lines should be and #NMITIMEN_JOY_ENABLE. The code worked on your system because memory address $000001 had bits 7, 6 or 0 set. If all those bits were clear then NMI would never end.<br /></div><br /><br />What a stupid error!<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />1) Your storing and retrieving JOYH from JoypadLo, not JoypadHi.<br /><br />2) The mainloop is setting CGRAM colour 1 to Blue when down is pressed.<br /><br />3) You should remove the # from the following line:<br />Code:<br />    lda #RDNMI<br /></div><br /><br />You right. I don't understand the second point however. Could you explain?<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />4) Your register push/pop code for NMI is incomplete. It only works because your used an 8 bit accumulator and never touched bits 8-15 of A in the program.<br /><br />The following code correctly saves the CPU state, resets DB/DP to 0, and restores the CPU state for an Interrupt Service Routine. We do not need to push/pop the P register, as the 65816 will push P to the stack when an interrupt is triggered.<br />Code:<br />NMI:<br />; save CPU state<br />    rep     #$30<br />on16i<br />on16a<br />    pha<br />    phx<br />    phy<br />    phd<br />    phb<br /><br />; set DB to 0<br />    phk<br />    plb<br /><br />; set DP to 0<br />    lda   #0<br />    tcd<br /><br /><br />; set a/x size<br />; code goes here<br /><br /><br />; restore CPU state<br />    rep     #$30<br />on16i<br />on16a<br />    plb<br />    pld<br />    ply<br />    plx<br />    pla<br /><br />    rti<br /></div><br /><br />Great, thank you! What is the assembler/linker you use? If you use Intelligent System stuff, how do you generate a usable snes rom because I would like put my works on a flash card because I only output ISX files from Linker?<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />Only bits 0, 6, 7 of register $4212 are set/cleared, the unmaped bits will contain the previous value of the data bus. See <!-- m --><a class="postlink" href="https://wiki.superfamicom.org/snes/show/Open+Bus">https://wiki.superfamicom.org/snes/show/Open+Bus</a><!-- m --> for more details<br /></div><br /><br />Ohhh ... I understand now ...<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />EDIT: Removed clear decimal flag code from NMI ISR. The 65816 clears the decimal flag when an interrupt is triggered.<br /></div><br /><br />Right, I read this yesterday.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=8097">Peperocket</a> — Sat Apr 29, 2017 5:40 am</p><hr />
]]></content>
</entry>
</feed>