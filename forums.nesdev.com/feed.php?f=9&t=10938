<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="http://forums.nesdev.com/feed.php?f=9&amp;t=10938" />

<title>nesdev.com</title>
<subtitle>NES Development and Strangulation Records message boards</subtitle>
<link href="http://forums.nesdev.com/index.php" />
<updated>2014-02-25T00:49:35-07:00</updated>

<author><name><![CDATA[nesdev.com]]></name></author>
<id>http://forums.nesdev.com/feed.php?f=9&amp;t=10938</id>
<entry>
<author><name><![CDATA[FARID]]></name></author>
<updated>2014-02-25T00:49:35-07:00</updated>
<published>2014-02-25T00:49:35-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=10938&amp;p=126089#p126089</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=10938&amp;p=126089#p126089"/>
<title type="html"><![CDATA[Re: Dumping 7 in 1 by Kazzo]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=10938&amp;p=126089#p126089"><![CDATA[
<div class="quotetitle">krzysiobal wrote:</div><div class="quotecontent"><br />Pin 21 of Atmega (PD7, OC2) is not connected to anything so it would be better to use this pin as M2 output, because it is connected as output pin of timer 2 in atmega, so you could generate by hardware 2 MHz on this line regardless what the cpu is doing currently (processing usb, doing ppu cycle)<br /></div><br /><br />Thanks!<br />Does it need a new firmware?<br />What about Pin22? <br />Should I connect all three Pin22, Pin21 and M2 together?<br />Or Disconnect M2 from Pin22 and then connect it to Pin21?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4330">FARID</a> — Tue Feb 25, 2014 12:49 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[zxbdragon]]></name></author>
<updated>2014-02-24T20:56:11-07:00</updated>
<published>2014-02-24T20:56:11-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=10938&amp;p=126086#p126086</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=10938&amp;p=126086#p126086"/>
<title type="html"><![CDATA[Re: Dumping 7 in 1 by Kazzo]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=10938&amp;p=126086#p126086"><![CDATA[
dumped easy,to write MAPPER trouble<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=5124">zxbdragon</a> — Mon Feb 24, 2014 8:56 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[krzysiobal]]></name></author>
<updated>2014-02-24T18:27:34-07:00</updated>
<published>2014-02-24T18:27:34-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=10938&amp;p=126080#p126080</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=10938&amp;p=126080#p126080"/>
<title type="html"><![CDATA[Re: Dumping 7 in 1 by Kazzo]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=10938&amp;p=126080#p126080"><![CDATA[
Pin 21 of Atmega (PD7, OC2) is not connected to anything so it would be better to use this pin as M2 output, because it is connected as output pin of timer 2 in atmega, so you could generate by hardware 2 MHz on this line regardless what the cpu is doing currently (processing usb, doing ppu cycle)<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4898">krzysiobal</a> — Mon Feb 24, 2014 6:27 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[FARID]]></name></author>
<updated>2014-02-24T12:24:33-07:00</updated>
<published>2014-02-24T12:24:33-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=10938&amp;p=126063#p126063</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=10938&amp;p=126063#p126063"/>
<title type="html"><![CDATA[Re: Dumping 7 in 1 by Kazzo]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=10938&amp;p=126063#p126063"><![CDATA[
@ krzysiobal<br />Thanks for the help<br />Please keep in mind that I have a full dump of the cartridge<br />I read PRG and CHR directly by using willem programmer<br />I just want to find a universal fix for this version of Kazzo so that anyone else who has this version of kazzo can use it too<br />I wish naruko could take care of it ...<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4330">FARID</a> — Mon Feb 24, 2014 12:24 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[krzysiobal]]></name></author>
<updated>2014-02-24T11:28:49-07:00</updated>
<published>2014-02-24T11:28:49-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=10938&amp;p=126060#p126060</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=10938&amp;p=126060#p126060"/>
<title type="html"><![CDATA[Re: Dumping 7 in 1 by Kazzo]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=10938&amp;p=126060#p126060"><![CDATA[
But if you find out that there are sram/registers mapped at $6000-$7fff, you still have chance to dump it.<br /><br />If your dumper has common cpu address &amp; data lines with ppu address &amp; data lines (like mine), then <br />1. apply constant m2 clock while you are not simulating cpu read/write cycle<br />2. you should dump prg without problems, as every read/writecycle will be with m2 clock<br />3. during duping chr, set prg r/!w to high to simulate cpu read cycle and output on the cpu address pins that are not used for ppu address pins bits so that the mapper circuit will think you cpu read cycle goes to $0000-$5fff<br /><br />for example, in my circuit cpu d0-d7 is common with ppu d0-d7, but also cpu a0-a13 is common with ppu a0-13.<br />cpu a14 and cpu !romsel are not common with ppu lines, so if there will be 01 on them, the mapper will thing the prg address is 00XXXXXXXXXXXXXX that is the first 16 kB of address space, which is mapped for  ram inside console &amp; ppu.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4898">krzysiobal</a> — Mon Feb 24, 2014 11:28 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[krzysiobal]]></name></author>
<updated>2014-02-24T01:09:00-07:00</updated>
<published>2014-02-24T01:09:00-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=10938&amp;p=126028#p126028</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=10938&amp;p=126028#p126028"/>
<title type="html"><![CDATA[Re: Dumping 7 in 1 by Kazzo]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=10938&amp;p=126028#p126028"><![CDATA[
To be honest, this schematics has at least one bug. AREF line on Atmega SHOULD NOT be connected to VCC, it should  be unconnected, otherwise you're asking for  shortcircuit if you enable reference voltage on this pin via registers.<br /><br />If you're dumping multicarts, don't worry about bus conflicts with constant M2 clock. Many (all?) of them don't have extra sram at 6000-7fff, so the m2 line is used only for the purpose of detecting reset. !ROMSEL is used for decoding prg read/writes at 8000-ffff.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4898">krzysiobal</a> — Mon Feb 24, 2014 1:09 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[HardWareMan]]></name></author>
<updated>2014-02-24T00:13:45-07:00</updated>
<published>2014-02-24T00:13:45-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=10938&amp;p=126027#p126027</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=10938&amp;p=126027#p126027"/>
<title type="html"><![CDATA[Re: Dumping 7 in 1 by Kazzo]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=10938&amp;p=126027#p126027"><![CDATA[
Important warning when you playing with M2 signal: you *must* sync your bus activity with M2 to avoid bus conflicts or something burn out.<br /><br />Just remember that M2=1 is for active state and direction depend on R/W. When you don't use cartrige bus you can set controller data port to input mode and set R/W to 1. Dummy reads will happen. If you using common data bus for PRG and CHR you must place CHR portion into save PRG address range, f.e. 0000-1FFF.<br /><br />If your controller pretty fast, you can make M2 by it using timer interrupt routine. Then you can emulate true reset (M2=1 on reset, thats true). Or you can use external generator and use controller pin for sync with it.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=2016">HardWareMan</a> — Mon Feb 24, 2014 12:13 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[FARID]]></name></author>
<updated>2014-02-23T22:35:48-07:00</updated>
<published>2014-02-23T22:35:48-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=10938&amp;p=126023#p126023</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=10938&amp;p=126023#p126023"/>
<title type="html"><![CDATA[Re: Dumping 7 in 1 by Kazzo]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=10938&amp;p=126023#p126023"><![CDATA[
<div class="quotetitle">krzysiobal wrote:</div><div class="quotecontent"><br />Look here:<br /><!-- l --><a class="postlink-local" href="http://forums.nesdev.com/viewtopic.php?f=9&amp;t=11038">viewtopic.php?f=9&amp;t=11038</a><!-- l --><br /><br />I succesfully dumped a multicart with reset circuit when I applied constant clock on M2 at about 2 MHz.<br />Before that I wasnt able to dump it - aftery writing to bank change register, reading from cpu address space returned always the same data. Thats too bad that yours kazzo with so many chips is not able to maintain M2 all the time <img src="http://forums.nesdev.com/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /><br /></div><br /><br />Any idea how can I fix it?<br />Does it need hardware design or new firmware or maybe both of them!?<br />By the way my home made Kazzo (PCB 1.x.) has ATMEGA16A<br />And Phi2 [M2] is connected to its pin22, also pin21 is NC<br />I made it by using these info : <a href="http://sourceforge.jp/frs/redir.php?m=jaist&amp;f=%2Funagi%2F46303%2Fkazzo_0.1.3.zip" class="postlink">kazzo_0.1.3.zip</a><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4330">FARID</a> — Sun Feb 23, 2014 10:35 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[krzysiobal]]></name></author>
<updated>2014-02-23T16:14:13-07:00</updated>
<published>2014-02-23T16:14:13-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=10938&amp;p=125999#p125999</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=10938&amp;p=125999#p125999"/>
<title type="html"><![CDATA[Re: Dumping 7 in 1 by Kazzo]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=10938&amp;p=125999#p125999"><![CDATA[
Look here:<br /><!-- l --><a class="postlink-local" href="http://forums.nesdev.com/viewtopic.php?f=9&amp;t=11038">viewtopic.php?f=9&amp;t=11038</a><!-- l --><br /><br />I succesfully dumped a multicart with reset circuit when I applied constant clock on M2 at about 2 MHz.<br />Before that I wasnt able to dump it - aftery writing to bank change register, reading from cpu address space returned always the same data. Thats too bad that yours kazzo with so many chips is not able to maintain M2 all the time <img src="http://forums.nesdev.com/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4898">krzysiobal</a> — Sun Feb 23, 2014 4:14 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[lidnariq]]></name></author>
<updated>2014-02-22T02:02:11-07:00</updated>
<published>2014-02-22T02:02:11-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=10938&amp;p=125862#p125862</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=10938&amp;p=125862#p125862"/>
<title type="html"><![CDATA[Re: Dumping 7 in 1 by Kazzo]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=10938&amp;p=125862#p125862"><![CDATA[
Oh ... no; sorry. The same M2 both prevents the register from clearing itself and also is used by the MMC1 to decode writes to the &quot;RAM&quot; banking register <img src="http://forums.nesdev.com/images/smilies/icon_sad.gif" alt=":(" title="Sad" /><br /><br />What kind of speeds does the Kazzo manage? You might need an entirely different firmware to keep M2 from being low except for during multicart banking writes.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3512">lidnariq</a> — Sat Feb 22, 2014 2:02 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[FARID]]></name></author>
<updated>2014-02-22T00:17:43-07:00</updated>
<published>2014-02-22T00:17:43-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=10938&amp;p=125856#p125856</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=10938&amp;p=125856#p125856"/>
<title type="html"><![CDATA[Re: Dumping 7 in 1 by Kazzo]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=10938&amp;p=125856#p125856"><![CDATA[
So I should tie Phi2 to 5v manually and then work on the dump script?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4330">FARID</a> — Sat Feb 22, 2014 12:17 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[lidnariq]]></name></author>
<updated>2014-02-21T15:08:24-07:00</updated>
<published>2014-02-21T15:08:24-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=10938&amp;p=125841#p125841</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=10938&amp;p=125841#p125841"/>
<title type="html"><![CDATA[Re: Dumping 7 in 1 by Kazzo]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=10938&amp;p=125841#p125841"><![CDATA[
The boards that use a M2-based reset can usually be coerced to not reset themselves if you can keep M2 high.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3512">lidnariq</a> — Fri Feb 21, 2014 3:08 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[byemu]]></name></author>
<updated>2014-02-21T01:06:19-07:00</updated>
<published>2014-02-21T01:06:19-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=10938&amp;p=125801#p125801</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=10938&amp;p=125801#p125801"/>
<title type="html"><![CDATA[Re: Dumping 7 in 1 by Kazzo]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=10938&amp;p=125801#p125801"><![CDATA[
most of the multi-carts are <a href="http://forums.nesdev.com/viewtopic.php?p=99137#p99137" class="postlink">using the phi2 sign to reset</a> to main menu！<br />so you need keep the waveform on the phi2 to dump the carts！<br />kazzo can't keep the waveform on phi2！<br />so it is can not full dump your cart!<br /><br />maybe you can use a script(matched) dump one game on this cartridge!<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4997">byemu</a> — Fri Feb 21, 2014 1:06 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[FARID]]></name></author>
<updated>2014-01-26T12:30:43-07:00</updated>
<published>2014-01-26T12:30:43-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=10938&amp;p=124541#p124541</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=10938&amp;p=124541#p124541"/>
<title type="html"><![CDATA[Re: Dumping 7 in 1 by Kazzo]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=10938&amp;p=124541#p124541"><![CDATA[
According to the real registers I used this :<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">cpu_write(d, 0x8330, 0x00);<br />cpu_write(d, 0x8237, 0xFE);<br />cpu_write(d, 0x8650, 0x06);<br />cpu_write(d, 0x834F, 0x00);<br />cpu_write(d, 0x8550, 0x07);<br />cpu_write(d, 0x8543, 0x01);<br />cpu_write(d, 0xA117, 0x80);<br />cpu_write(d, 0x6220, 0xEA);<br /></div><br /><br />Still it doesn't work on Kazzo, but it works on emu and debugger and switches the banks exactly on writing 0xEA to 0x6220<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4330">FARID</a> — Sun Jan 26, 2014 12:30 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[lidnariq]]></name></author>
<updated>2014-01-26T12:27:30-07:00</updated>
<published>2014-01-26T12:27:30-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=10938&amp;p=124540#p124540</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=10938&amp;p=124540#p124540"/>
<title type="html"><![CDATA[Re: Dumping 7 in 1 by Kazzo]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=10938&amp;p=124540#p124540"><![CDATA[
There's this weird thing on <a href="http://wiki.nesdev.com/w/index.php/INES_Mapper_014" class="postlink">mapper 14</a> where there's an extra weird register placed on top of one of the mirrors of $A001. Maybe they're actually writing to $A113 and $A117 intentionally, rather than one of the lower mirrors?<br /><br />Also, I'm not entirely certain there isn't something weird with Kazzo's writes, because years ago <a href="http://forums.nesdev.com/viewtopic.php?p=105129#p105129" class="postlink">byemu reported some weirdness</a> with one of the Sunsoft 5's registers, but we've seen no corroboration.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3512">lidnariq</a> — Sun Jan 26, 2014 12:27 pm</p><hr />
]]></content>
</entry>
</feed>