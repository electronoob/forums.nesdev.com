<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="http://forums.nesdev.com/feed.php?f=3&amp;t=8686" />

<title>nesdev.com</title>
<subtitle>NES Development and Strangulation Records message boards</subtitle>
<link href="http://forums.nesdev.com/index.php" />
<updated>2012-03-06T02:24:13-07:00</updated>

<author><name><![CDATA[nesdev.com]]></name></author>
<id>http://forums.nesdev.com/feed.php?f=3&amp;t=8686</id>
<entry>
<author><name><![CDATA[miker00lz]]></name></author>
<updated>2012-03-06T02:24:13-07:00</updated>
<published>2012-03-06T02:24:13-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8686&amp;p=91004#p91004</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8686&amp;p=91004#p91004"/>
<title type="html"><![CDATA[wrong background color in some games]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8686&amp;p=91004#p91004"><![CDATA[
of course, dumb mistake. thanks. i did know that, i swear.  <img src="http://forums.nesdev.com/images/smilies/icon_lol.gif" alt=":lol:" title="Laughing" /><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4572">miker00lz</a> — Tue Mar 06, 2012 2:24 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Dwedit]]></name></author>
<updated>2012-03-06T02:14:44-07:00</updated>
<published>2012-03-06T02:14:44-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8686&amp;p=91003#p91003</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8686&amp;p=91003#p91003"/>
<title type="html"><![CDATA[wrong background color in some games]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8686&amp;p=91003#p91003"><![CDATA[
Shouldn't that be 3F?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=53">Dwedit</a> — Tue Mar 06, 2012 2:14 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[miker00lz]]></name></author>
<updated>2012-03-06T02:09:39-07:00</updated>
<published>2012-03-06T02:09:39-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8686&amp;p=91002#p91002</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8686&amp;p=91002#p91002"/>
<title type="html"><![CDATA[wrong background color in some games]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8686&amp;p=91002#p91002"><![CDATA[
fixed it! in case anybody else runs into this problem, these games were writing palette indexes greater than 63 into the palette RAM. when rendering, i have it AND the palette index with $7F. looks perfect.<br /><br /><img src="http://rubbermallet.org/moarnes-punchout-bg-fixed.png" alt="Image" /><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4572">miker00lz</a> — Tue Mar 06, 2012 2:09 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[miker00lz]]></name></author>
<updated>2012-03-05T22:16:46-07:00</updated>
<published>2012-03-05T22:16:46-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8686&amp;p=90996#p90996</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8686&amp;p=90996#p90996"/>
<title type="html"><![CDATA[wrong background color in some games]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8686&amp;p=90996#p90996"><![CDATA[
<div class="quotetitle">tokumaru wrote:</div><div class="quotecontent"><br />The mirroring looks correct to me... are you applying the same rules for writing as well? When $3F10 is written to, $3F00 is overwritten.<br /></div><br /><br />yep, the code is the same in both the read and write functions.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4572">miker00lz</a> — Mon Mar 05, 2012 10:16 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tokumaru]]></name></author>
<updated>2012-03-05T22:14:34-07:00</updated>
<published>2012-03-05T22:14:34-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8686&amp;p=90995#p90995</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8686&amp;p=90995#p90995"/>
<title type="html"><![CDATA[wrong background color in some games]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8686&amp;p=90995#p90995"><![CDATA[
The mirroring looks correct to me... are you applying the same rules for writing as well? When $3F10 is written to, $3F00 is overwritten.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=95">tokumaru</a> — Mon Mar 05, 2012 10:14 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[miker00lz]]></name></author>
<updated>2012-03-05T21:56:35-07:00</updated>
<published>2012-03-05T21:56:35-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8686&amp;p=90994#p90994</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8686&amp;p=90994#p90994"/>
<title type="html"><![CDATA[wrong background color in some games]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8686&amp;p=90994#p90994"><![CDATA[
the vast majority of games have the correct background color in my emu, but a few like startropics and punchout show the wrong color. the background color should always use the color specified in $3F00, correct? this is what punchout looks like:<br /><br /><img src="http://rubbermallet.org/moarnes-punchout-bg.png" alt="Image" /><br /><br />has anybody else had this sort of a bug before? is my palette mirroring code correct? i handle it like this:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">   if &#40;addr&gt;=0x3F00&#41; addr = 0x3F00 | &#40;addr &amp; 0x1F&#41;;<br />   if &#40;addr==0x3F10&#41; addr = 0x3F00;<br />   if &#40;addr==0x3F14&#41; addr = 0x3F04;<br />   if &#40;addr==0x3F18&#41; addr = 0x3F08;<br />   if &#40;addr==0x3F1C&#41; addr = 0x3F0C;</div><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4572">miker00lz</a> — Mon Mar 05, 2012 9:56 pm</p><hr />
]]></content>
</entry>
</feed>