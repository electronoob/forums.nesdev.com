<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="http://forums.nesdev.com/feed.php?f=5&amp;t=11872" />

<title>nesdev.com</title>
<subtitle>NES Development and Strangulation Records message boards</subtitle>
<link href="http://forums.nesdev.com/index.php" />
<updated>2015-01-14T14:58:33-07:00</updated>

<author><name><![CDATA[nesdev.com]]></name></author>
<id>http://forums.nesdev.com/feed.php?f=5&amp;t=11872</id>
<entry>
<author><name><![CDATA[koitsu]]></name></author>
<updated>2015-01-14T14:58:33-07:00</updated>
<published>2015-01-14T14:58:33-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=11872&amp;p=139240#p139240</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=11872&amp;p=139240#p139240"/>
<title type="html"><![CDATA[Re: Dumping stats in Madden 97/98 SNES]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=11872&amp;p=139240#p139240"><![CDATA[
You could send him/her a PM (by default this usually Emails the person to inform them they have a PM) and see if they respond.  We (forum admins, etc.) do not &quot;track&quot; users or disclose information about who they are, etc..<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3">koitsu</a> — Wed Jan 14, 2015 2:58 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[FinalZero]]></name></author>
<updated>2015-01-14T02:38:24-07:00</updated>
<published>2015-01-14T02:38:24-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=11872&amp;p=139215#p139215</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=11872&amp;p=139215#p139215"/>
<title type="html"><![CDATA[Re: Dumping stats in Madden 97/98 SNES]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=11872&amp;p=139215#p139215"><![CDATA[
It's 3 months, but I'm still interested in an answer. Does anybody know who this mystery &quot;BearsNBoltz&quot; is? It looks as if he joined just to post that, and then left without ever waiting for an response:<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />Joined:Thu Oct 16, 2014 8:08 pm<br />Last visited:Fri Oct 17, 2014 12:53 am<br /></div><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4131">FinalZero</a> — Wed Jan 14, 2015 2:38 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[FinalZero]]></name></author>
<updated>2014-11-08T17:36:08-07:00</updated>
<published>2014-11-08T17:36:08-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=11872&amp;p=136203#p136203</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=11872&amp;p=136203#p136203"/>
<title type="html"><![CDATA[Re: Dumping stats in Madden 97/98 SNES]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=11872&amp;p=136203#p136203"><![CDATA[
BearsNBoltz, I'd still like know your secrets! Please reply! Knowledge yearns to be shared, not hoarded!<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4131">FinalZero</a> — Sat Nov 08, 2014 5:36 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[FinalZero]]></name></author>
<updated>2014-10-26T08:08:06-07:00</updated>
<published>2014-10-26T08:08:06-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=11872&amp;p=135575#p135575</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=11872&amp;p=135575#p135575"/>
<title type="html"><![CDATA[Re: Dumping stats in Madden 97/98 SNES]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=11872&amp;p=135575#p135575"><![CDATA[
Yes! Please reveal your secret knowledge!<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4131">FinalZero</a> — Sun Oct 26, 2014 8:08 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[BearsNBoltz]]></name></author>
<updated>2014-10-16T22:10:20-07:00</updated>
<published>2014-10-16T22:10:20-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=11872&amp;p=135168#p135168</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=11872&amp;p=135168#p135168"/>
<title type="html"><![CDATA[Dumping stats in Madden 97/98 SNES]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=11872&amp;p=135168#p135168"><![CDATA[
You mean like this? <img src="http://forums.nesdev.com/images/smilies/icon_smile.gif" alt=":)" title="Smile" /><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=6729">BearsNBoltz</a> — Thu Oct 16, 2014 10:10 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[FinalZero]]></name></author>
<updated>2014-10-04T22:24:47-07:00</updated>
<published>2014-10-04T22:24:47-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=11872&amp;p=134623#p134623</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=11872&amp;p=134623#p134623"/>
<title type="html"><![CDATA[Re: Dumping stats in Madden 97/98 SNES]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=11872&amp;p=134623#p134623"><![CDATA[
Well, an hour later, I still can't find it. There are 26 letters in the alphabet, and 2**5 == 32, so there should be 6 (== (32 - 26)) combinations of letters to check for. Yet I find nothing when I search for each. =/<br /><br />(Maybe I should check for XOR'd combinations?)<br /><br />Edit: Wow, my excel clone doesn't have a bitxor function. *sigh* time to fire up python and make a script.<br />Edit2: It looks like even excel proper didn't have bitxor until the 2013 version. I'm amazed.<br />Edit3: Searching for xor'd combinations yields nothing either.<br />Edit4: Thinking about stats more, they actually probably are 4-bit values. Testing it some, the smallest value  is actually 30. There are conveniently 15 multiples of 5 in 30-100. (I also note that the create-a-player 100-yard dash (the trial that determines speed) is very difficult. I don't think I ever got above 30 (the lowest possible value) as a kid.)<br />Edit5: Btw, can you ask him how trades between teams were recorded? And how they simulated games?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4131">FinalZero</a> — Sat Oct 04, 2014 10:24 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[koitsu]]></name></author>
<updated>2014-10-04T21:08:06-07:00</updated>
<published>2014-10-04T21:08:06-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=11872&amp;p=134621#p134621</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=11872&amp;p=134621#p134621"/>
<title type="html"><![CDATA[Re: Dumping stats in Madden 97/98 SNES]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=11872&amp;p=134621#p134621"><![CDATA[
You're welcome.  :-)  Now I wish I had these kind of inner-company contacts at ChunSoft, because I'd kill to have an hour conversation with those who worked on Otogirisou.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3">koitsu</a> — Sat Oct 04, 2014 9:08 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[FinalZero]]></name></author>
<updated>2014-10-04T21:04:37-07:00</updated>
<published>2014-10-04T21:04:37-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=11872&amp;p=134620#p134620</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=11872&amp;p=134620#p134620"/>
<title type="html"><![CDATA[Re: Dumping stats in Madden 97/98 SNES]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=11872&amp;p=134620#p134620"><![CDATA[
<div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />So there you go -- not encrypted, but just compressed. Compression methodology unknown, but makes sense given that the ROM space is pretty much 100% used. Attributes being bitfields is a little vague, but chances are it's probably something like 4 bits per attribute (so values 0-15), or maybe more than that, but how those affect the mathematical calculations is unknown too.<br /></div><br />Thank you very much! With that in mind, I should be able to find it easily. The attributes are probably at least 5 bits each too, because 2**5 == 32, and 2**4 == 16. There's 21 possible states (because each stat is 0-100 and a multiple of 5).<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4131">FinalZero</a> — Sat Oct 04, 2014 9:04 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[koitsu]]></name></author>
<updated>2014-10-04T20:50:50-07:00</updated>
<published>2014-10-04T20:50:50-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=11872&amp;p=134618#p134618</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=11872&amp;p=134618#p134618"/>
<title type="html"><![CDATA[Re: Dumping stats in Madden 97/98 SNES]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=11872&amp;p=134618#p134618"><![CDATA[
Well you're in luck -- the guy I asked responded:<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />All the text (which I think includes the names) was in a 5-bit compressed form in the ROMs. Attributes were bitfields, IIRC.  The created players in battery RAM were in a slightly more accessible form, I think.<br /></div><br />So there you go -- not encrypted, but just compressed.  Compression methodology unknown, but makes sense given that the ROM space is pretty much 100% used.  Attributes being bitfields is a little vague, but chances are it's probably something like 4 bits per attribute (so values 0-15), or maybe more than that, but how those affect the mathematical calculations is unknown too.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3">koitsu</a> — Sat Oct 04, 2014 8:50 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[koitsu]]></name></author>
<updated>2014-10-04T20:31:39-07:00</updated>
<published>2014-10-04T20:31:39-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=11872&amp;p=134617#p134617</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=11872&amp;p=134617#p134617"/>
<title type="html"><![CDATA[Re: Dumping stats in Madden 97/98 SNES]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=11872&amp;p=134617#p134617"><![CDATA[
Regarding use of XOR for simple encryption: because it's easy to implement, very light on the CPU (hardly any time needed), and keeps people from screwing around with the ROM (piracy, spin-offs, etc.).  There was a lot of focus on this, including anti-piracy measures, in later SNES game generations.  I would expect no different from the Tiburon guys, given that some of their programmers also worked on ClayFighter, which had anti-piracy measures in it (if I remember right, if a specific copier is detected, it issues commands to the copier to format the floppy disk that's inserted).  All the guys I know are old Apple IIGS guys, which is how and where I know the from, and they used similar methodologies in anything they did on the IIGS.<br /><br />No idea about the text stuff -- like I said, everything is speculation until someone actually starts working it out + reverse-engineering it.  But go ahead and look in SRAM, you'll see what I'm talking about (and if you need name references, go see GameFAQs' entry for it, under Game Credits.  Some of the names there are wrong though (for example the main audio engineer was Ian Schmid, not Brian Schmidt (he was some other audio dude unrelated to all that)), but the surnames are right.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3">koitsu</a> — Sat Oct 04, 2014 8:31 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[FinalZero]]></name></author>
<updated>2014-10-04T20:27:55-07:00</updated>
<published>2014-10-04T20:27:55-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=11872&amp;p=134616#p134616</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=11872&amp;p=134616#p134616"/>
<title type="html"><![CDATA[Re: Dumping stats in Madden 97/98 SNES]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=11872&amp;p=134616#p134616"><![CDATA[
<div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />Given what I know of the Tiburon guys, I'd be willing to bet money the strings aren't in pure ASCII -- they're going to be either offset by some value or XOR'd (cheap encryption), and possibly the graphics are the same; I'm absolutely certain there is no &quot;multi-byte encoding&quot; (this is a classic console, not a PC with Unicode).<br /></div><br />(1) The game does store some strings as ASCII, but not the players' names.<br />(2) When I did a relative search, it found nothing, so they can't simply be offset.<br />(3) Maybe they were XOR'd, I'll search. If they were XOR'd, I don't understand why they thought they needed encryption.<br />(4) I mis-spoke when I said &quot;multi-byte encoding&quot;. I meant &quot;multi-character encoding&quot;. That is, a byte may stand for 2 characters instead of only 1. It'd give easy compression for a game with lots of text.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4131">FinalZero</a> — Sat Oct 04, 2014 8:27 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[koitsu]]></name></author>
<updated>2014-10-04T20:18:52-07:00</updated>
<published>2014-10-04T20:18:52-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=11872&amp;p=134614#p134614</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=11872&amp;p=134614#p134614"/>
<title type="html"><![CDATA[Re: Dumping stats in Madden 97/98 SNES]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=11872&amp;p=134614#p134614"><![CDATA[
Screwed around with this tonight, and sent some of the Tiburon guys some notes asking for advice.  No promise they'll respond (well one probably will, but I bet the response will be &quot;not sure, I just did the sound engine, sorry&quot;).<br /><br />Madden 97 (and probably 98) is mode 21 (hirom).  What makes this game a bit tedious to try and reverse-engineer is the fact that it uses mode 7 exclusively.  Even more annoying/complex is the fact that the game uses SRAM (8KBytes worth).<br /><br />Given what I know of the Tiburon guys, I'd be willing to bet money the strings aren't in pure ASCII -- they're going to be either offset by some value or XOR'd (cheap encryption), and possibly the graphics are the same; I'm absolutely certain there is no &quot;multi-byte encoding&quot; (this is a classic console, not a PC with Unicode).<br /><br />The tiles used for text display on the &quot;Records&quot; screen (which uses mode 1) are 2bpp, on BG3 with priority bit set.  That's probably the easiest place to use for reverse-engineering, because the actual game itself uses mode 7, so reverse-engineering from text there is tedious as hell given how the graphics work.  It also makes heavy use of HDMA.<br /><br />I can find some of the on-screen character records/strings in bank $7e/7f workram (when things are displayed), particularly $7e, so that's a place to start with, but workram is heavily used by this game (no surprise).<br /><br />Doesn't help that the string search function in NO$SNS causes the emulator to go into an infinite loop (hence crash), not to mention whatever &quot;internal stats&quot; does in NO$SNS outright crashes it.  I'll poke around in SNES9x + debugger later, but gut feeling is that it might require a combination of NO$SNS and SNES9x debugger to figure all this out.<br /><br />I don't have any familiarity with the game (nor do I particularly like sports games in general, especially American football) so I'm just tinkering around.  Figuring all this out might be easier through save states, but only if *everything* ends up in RAM (I'd be inclined to think it'd be a mix of RAM and ROM through indirect addressing).<br /><br />On the bright side: it does look like some of the &quot;record statistics&quot; are consistent upon game start (on a fresh load), so that's something to key off of.<br /><br />Edit: looks like some player names/etc. are stored in SRAM in ASCII, probably along with specific stats.  The names that show up in there by default are names of those involved in the game's development (I recognise a good number of the surnames ;-) ).  But obviously the ROM has the same data somewhere, along with the rest of the teams' players, just encoded in some manner like I said above.  I don't know if this game lets you make your own players, but if it does, it may be possible to set up a breakpoint somehow on SRAM writes and work it backwards from there.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3">koitsu</a> — Sat Oct 04, 2014 8:18 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2014-10-04T19:00:14-07:00</updated>
<published>2014-10-04T19:00:14-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=11872&amp;p=134611#p134611</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=11872&amp;p=134611#p134611"/>
<title type="html"><![CDATA[Re: Dumping stats in Madden 97/98 SNES]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=11872&amp;p=134611#p134611"><![CDATA[
Assuming your ROM has a valid internal header and no floppy copier header:<br />$20 or $30 at $7FD5 means LoROM (32K banks), and $21 or $31 at $FFD5 means HiROM (64K banks). Add $200 for a floppy copier header.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Sat Oct 04, 2014 7:00 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[FinalZero]]></name></author>
<updated>2014-10-04T17:23:34-07:00</updated>
<published>2014-10-04T17:23:34-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=11872&amp;p=134610#p134610</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=11872&amp;p=134610#p134610"/>
<title type="html"><![CDATA[Re: Dumping stats in Madden 97/98 SNES]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=11872&amp;p=134610#p134610"><![CDATA[
<div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />ROM in the Super NES usually appears mirrored several times. For example, HiROM appears at both $C00000-$FFFFFF and $400000-$7DFFFF, and the second half of each 64K bank appears at $008000-$3FFFFF and $808000-$BFFFFF.<br /></div><br />Ah, okay. How do I tell what's in HiROM though?<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />And no, I usually communicate with them on Twitter unless there's something more long-winded has to be discussed.<br /></div><br />Well, if you're willing, could you ask them how they stored a player's names and stats in Madden 97/98? If I know that, I can probably find it in the rom without trying to use a debugger.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4131">FinalZero</a> — Sat Oct 04, 2014 5:23 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[koitsu]]></name></author>
<updated>2014-10-04T16:01:22-07:00</updated>
<published>2014-10-04T16:01:22-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=11872&amp;p=134607#p134607</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=11872&amp;p=134607#p134607"/>
<title type="html"><![CDATA[Re: Dumping stats in Madden 97/98 SNES]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=11872&amp;p=134607#p134607"><![CDATA[
<div class="quotetitle">FinalZero wrote:</div><div class="quotecontent"><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">If you get exceedingly/stupidly stuck, let me know and I can ask one of the guys who programmed/worked on those games. He probably remembers shit like that after all these years.<br /></div><br />(1) I doubt that the same guys still work at EA after 16 years.<br />(2) Do you mean you'd talk to them in person somehow, or send them an email?<br /></div><br />They've worked all over the place (Tiburon, EA, Firaxis, etc.), and one even has his own company.  That has zero bearing on anything; how much they remember from then is a different question, but it's often surprising how much &quot;sticks&quot; when it's something you're working on day in and day out for a year plus.  A couple are dudes I grew up around from the Apple II scene, who ended up working at EA and did many of the Madden games (particularly SNES).  And no, I usually communicate with them on Twitter unless there's something more long-winded has to be discussed.  I'm sure you could dig them up if you wanted, there are tons of game sites that list off their names in the credits + you can Google.  :)<br /><br />I'd suggest trying to find someone with an original copy of the game who still has the manual.  Would be willing to bet the acronyms are documented/explained there.  Possibly ask on GameFAQs' boards/forums for the game.  I think you might be surprised.  :)<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3">koitsu</a> — Sat Oct 04, 2014 4:01 pm</p><hr />
]]></content>
</entry>
</feed>