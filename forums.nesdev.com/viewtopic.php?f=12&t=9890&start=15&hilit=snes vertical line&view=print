<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Has anyone solved the cause of the vertical bar on SNES's</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Has anyone solved the cause of the vertical bar on SNES's</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=12&amp;t=9890">http://forums.nesdev.com/viewtopic.php?f=12&amp;t=9890</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>2</strong> of <strong>8</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>giles</b> [ Wed Mar 06, 2013 10:49 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Has anyone solved the cause of the <span class="posthilit">vertical</span> bar on <span class="posthilit">SNES</span>'</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I have noticed this with my <span class="posthilit">SNES</span>. It is rather apparent on solid color screens.  It's less noticeable with brighter colors.<br /><br />I used my roommate's Commodore 1702 monitor.  I used the original AC adapter and a cheap made in China &quot;AD-DC Universal Adapter for Nintendo, Sega MD-II and Super Nintendo.&quot;<br /><br />I do not recall seeing this bar in the 90's but it may have been less pronounced, I may have been less observant or a little of both.<br /><br />(edited for worse grammar and to add the AC adapter info.)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>TmEE</b> [ Wed Mar 06, 2013 11:51 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Has anyone solved the cause of the <span class="posthilit">vertical</span> bar on <span class="posthilit">SNES</span>'</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I hooked my scope up and took a look and there's about 100mV of noise on the power rail (!) and it dips to 50mV in the middle of each scanline. I'll see what a capacitor does here.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>mikejmoffitt</b> [ Wed Mar 06, 2013 3:13 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Has anyone solved the cause of the <span class="posthilit">vertical</span> bar on <span class="posthilit">SNES</span>'</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">TmEE wrote:</div><div class="quotecontent">I hooked my scope up and took a look and there's about 100mV of noise on the power rail (!) and it dips to 50mV in the middle of each scanline. I'll see what a capacitor does here.</div><br /><br />I should mention that my modified <span class="posthilit">SNES</span> that runs off of a very stable USB phone charger block had the <span class="posthilit">line</span> be VERY much reduced after power supply replacement.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Pasky</b> [ Wed Mar 06, 2013 4:07 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Has anyone solved the cause of the <span class="posthilit">vertical</span> bar on <span class="posthilit">SNES</span>'</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">TmEE wrote:</div><div class="quotecontent">I hooked my scope up and took a look and there's about 100mV of noise on the power rail (!) and it dips to 50mV in the middle of each scanline. I'll see what a capacitor does here.</div><br /><br />I'm really curious of the results.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>mikejmoffitt</b> [ Wed Mar 06, 2013 7:01 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Has anyone solved the cause of the <span class="posthilit">vertical</span> bar on <span class="posthilit">SNES</span>'</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Pasky wrote:</div><div class="quotecontent"><div class="quotetitle">TmEE wrote:</div><div class="quotecontent">I hooked my scope up and took a look and there's about 100mV of noise on the power rail (!) and it dips to 50mV in the middle of each scanline. I'll see what a capacitor does here.</div><br /><br />I'm really curious of the results.</div><br /><br />I threw a 1500uF capacitor on PPU2's VCC on Pin 94, which is supposed to be related to the DAC functionality and found no change. From talking with TmEE possibly many small capacitors on all power pins of the PPU chips may be needed?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Pasky</b> [ Wed Mar 06, 2013 8:28 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Has anyone solved the cause of the <span class="posthilit">vertical</span> bar on <span class="posthilit">SNES</span>'</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Hmmm powerdraw must be the issue.  I recently component modded my <span class="posthilit">SNES</span> about a month ago and while capturing my <span class="posthilit">SNES</span> via capture card (and I notice it on my tv) I have a few more <span class="posthilit">vertical</span> lines, maybe because the amp I use (<!-- m --><a class="postlink" href="http://www.mouser.com/ProductDetail/Texas-Instruments/THS7314DR/?qs=sGAEpiMZZMvIGAkyPb0MlIeUTv1s%252bybZ">http://www.mouser.com/ProductDetail/Tex ... 1s%252bybZ</a><!-- m -->) draws from the a 5v power source?<br /><br />I never noticed these before I added component out:<br /><br /><!-- m --><a class="postlink" href="http://snag.gy/g83ai.jpg">http://snag.gy/g83ai.jpg</a><!-- m --><br /><br />Notice the <span class="posthilit">vertical</span> bands (thick lines) going down the screen and the very prominent yellow band smack in the center.  Before this mod there was only the center one.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>blargg</b> [ Wed Mar 06, 2013 9:33 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Has anyone solved the cause of the <span class="posthilit">vertical</span> bar on <span class="posthilit">SNES</span>'</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />ESR is probably why it's sometimes recommended to put a big electrolytic and some small disc capacitors, because the latter (I guess) have lower ESR and can thus deliver current more quickly. And yeah, I think you'd want the cap near the video circuit, not the DRAM, though I see the logic for putting it near the DRAM and stopping the droop on everything.<br /><br />Also, are the large caps before or after the regulator? I'd think they were before it, and thus not the place you'd want to put larger ones. I have no idea which side they're on.<br /><br />Interesting idea about bypassing the whole mess, and also eliminating a major heat source from inside the console as well.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>TmEE</b> [ Thu Mar 07, 2013 9:44 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Has anyone solved the cause of the <span class="posthilit">vertical</span> bar on <span class="posthilit">SNES</span>'</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The big problem on <span class="posthilit">SNES</span> is that there really are very few power supply bypass capacitors. Good practices are 1 e-cap per chip and one ceramic per every power pin. That really is not the case in <span class="posthilit">SNES</span> and it would explain all the noise in the power rail. On MD you barely get any fluctuation in the rails, but these are all full of capacitors too...

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>3gengames</b> [ Sun Mar 10, 2013 3:22 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Has anyone solved the cause of the <span class="posthilit">vertical</span> bar on <span class="posthilit">SNES</span>'</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Anyone add a few more caps elsewhere and get a more stabilized supply current?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>TmEE</b> [ Sun Mar 10, 2013 11:52 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Has anyone solved the cause of the <span class="posthilit">vertical</span> bar on <span class="posthilit">SNES</span>'</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I am not doing anything until I beat Flashback, its been sitting at the last stage for 2 days now... I have not had time to play (I am aware about passwords).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>mikejmoffitt</b> [ Sun Mar 10, 2013 4:15 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Has anyone solved the cause of the <span class="posthilit">vertical</span> bar on <span class="posthilit">SNES</span>'</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">3gengames wrote:</div><div class="quotecontent">Anyone add a few more caps elsewhere and get a more stabilized supply current?</div><br />When I get really bored I'll just begin throwing caps everywhere.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>TmEE</b> [ Sun Mar 10, 2013 11:00 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Has anyone solved the cause of the <span class="posthilit">vertical</span> bar on <span class="posthilit">SNES</span>'</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />This lowered noise from 100mV to about 20mV :<br /><!-- m --><a class="postlink" href="http://www.tmeeco.eu/BitShit/ThisDidNotHelpMuch.jpg">http://www.tmeeco.eu/BitShit/ThisDidNotHelpMuch.jpg</a><!-- m --><br /><br />This is what one <span class="posthilit">line</span> of video looks like in the power rail :<br /><!-- m --><a class="postlink" href="http://www.tmeeco.eu/BitShit/OneLineOfNoise.jpg">http://www.tmeeco.eu/BitShit/OneLineOfNoise.jpg</a><!-- m --><br />Lots of high freq noise, need a bunch or ceramic caps on the rails... I'll report back sometime later when I experiment more around it.<br /><br />I think I know what the problem is, the vias are too shit... At the 7805 there is no noise, going a bit further still nothing... going through some vias, all hell breaks loose. Gonna add some wires for extra juice, lets see what happens....<br />Adding couple of wires did not much, noise got lower but only a little.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>blargg</b> [ Mon Mar 11, 2013 11:13 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Has anyone solved the cause of the <span class="posthilit">vertical</span> bar on <span class="posthilit">SNES</span>'</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I like the model number on your 'scope. Have you tried ceramic capacitors instead of electrolytics?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>TmEE</b> [ Tue Mar 12, 2013 1:48 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Has anyone solved the cause of the <span class="posthilit">vertical</span> bar on <span class="posthilit">SNES</span>'</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I added a bunch of these too but they did not do much, effect was quite minimal. I think least hassle is to add a second voltage regulator for analog bits, just like in MD1.<br />EDIT: I took another look now... the caps definitely helped, the dip now seen only during VBL not in the middle of <span class="posthilit">line</span>. I cannot see the <span class="posthilit">vertical</span> bar at all anymore either.<br />Now to see if it is because of the caps or because of the extra VCC wires...<br />EDIT2 : I removed the VCC lines, and the bar is back. The vias are to blame afterall.<br /><br />I got the scope in exchange for a repair of one car computer, the &quot;6502&quot; came as a surprise to me too haha

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Pasky</b> [ Tue Mar 12, 2013 5:45 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Has anyone solved the cause of the <span class="posthilit">vertical</span> bar on <span class="posthilit">SNES</span>'</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Could you explain in detail where you added the extra wires?  Keep in mind I'm no hardware engineer <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />.  I'd like to test myself and verify.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>2</strong> of <strong>8</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>