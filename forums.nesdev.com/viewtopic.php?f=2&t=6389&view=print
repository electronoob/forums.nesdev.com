<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Music engines?</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Music engines?</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=2&amp;t=6389">http://forums.nesdev.com/viewtopic.php?f=2&amp;t=6389</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dwedit</b> [ Sat May 15, 2010 10:22 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Music engines?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />What music/sound effect engines are out there?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Roth</b> [ Sat May 15, 2010 11:39 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Drag's is the best.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dwedit</b> [ Sun May 16, 2010 12:12 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Link?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Drag</b> [ Sun May 16, 2010 11:54 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />No link because the public version isn't finished yet. D:
<br />
<br />I'm hoping to get it finished over this summer, since I have 80% less college to worry about. <img src="./images/smilies/icon_razz.gif" alt=":P" title="Razz" />
<br />
<br />In the meantime, I'm pretty sure there are alternatives coming up if I don't finish mine timely enough.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>UncleSporky</b> [ Sun May 16, 2010 12:04 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Do you have any details, or even tentative information for us?  Memory usage, features, limitations?  I'm curious now. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Drag</b> [ Sun May 16, 2010 12:42 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Here are some statistics for the code as it is this exact moment:
<br />
<br />Features:
<br />* Running Note Lengths
<br />* Rests / Do Nothing
<br />* Note Precut
<br />* Volume Envelopes
<br />* Jumps
<br />* Repeats
<br />* JSR/RTS
<br />* Prioritized Sound Effects
<br />* DMC Support
<br />* "Sound Effect Mode" for Music Tracks
<br />* Track Volume Scaling
<br />* Detune
<br />* Pitch Bend
<br />* Pitch Envelopes
<br />
<br />Memory usage:
<br />- 18 bytes per channel
<br />--- 8 channels (4 being for music, 4 being for sound effects)
<br />- 8 more bytes for the engine itself
<br />--- 5 of those bytes being in zeropage.
<br />= 152 (0x98) bytes of ram necessary for the engine.
<br />
<br />Limitations:
<br />- Code is written for DASM, so to use another compiler, you need to resyntax the code.
<br />- No editor; you write the music data by hand. (Not too unruly in my opinion)
<br />
<br /><a href="http://drag.wootest.net/misc/dnsf2_enginetest3.nsf" class="postlink">Here's what it sounds like.</a> (These songs aren't supposed to be particularly good or catchy, they're literally just me testing features)
<br />
<br />Right now, the code is in alpha stage, so once I finish up a documentation, it'll be ready for a public beta.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Sun May 16, 2010 12:46 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Wow it looks/sounds really good ! You have all my congratulations.
<br />
<br />I have my own sound engine but it's private (and anyway it's kind of optimized for my game). I plan to do a more general purpose sound engine tough.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dwedit</b> [ Sun May 16, 2010 12:58 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />How can I make the Famitracker to Dragnsf converter when everything is private?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>CKY-2K/Clay Man</b> [ Sun May 16, 2010 4:26 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Digging the Treasure Master triangle wave drums

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Drag</b> [ Mon May 17, 2010 6:22 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Thanks for the comments, everyone. <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" />
<br />
<br /><div class="quotetitle">Dwedit wrote:</div><div class="quotecontent">How can I make the Famitracker to Dragnsf converter when everything is private?</div>
<br />Honestly, I'd prefer if people didn't rely on [favorite tracker]-to-DNSF converters. In reality, they should be using their favorite tracker (or midi composing program, or whatever) to prototype the songs, and then based off of the sheet music, that's where they create the data for DNSF to use.
<br />
<br />The main reason I'm pointing this out is because I don't want people to be disappointed when DNSF doesn't perfectly replicate (or even support) some of the features in Famitracker, because that was never the intention in the first place.
<br />
<br />DNSF is DNSF, not "Diet Famitracker", right? <img src="./images/smilies/icon_razz.gif" alt=":P" title="Razz" />
<br />
<br />and don't worry, DNSF will be public once I move it to public beta. Right now, it's still a private alpha, because I need tidy it up still, which includes writing some form of manual for it. <img src="./images/smilies/icon_razz.gif" alt=":P" title="Razz" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>bucky o'hare</b> [ Mon May 17, 2010 6:55 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Dwedit wrote:</div><div class="quotecontent">What music/sound effect engines are out there?</div><br /><div class="quotetitle">Roth wrote:</div><div class="quotecontent">Drag's is the best.</div>
<br />
<br />I'm one of those stuck-on-famitracker guys so my knowledge is certainly limited here, but I'd like to bring up Nijuu-
<br /><!-- m --><a class="postlink" href="http://dutycyclegenerator.com/nijuu/nijuu.html">http://dutycyclegenerator.com/nijuu/nijuu.html</a><!-- m -->
<br />
<br />To my understanding it's a resource hog, so you probably don't want it for a game or demo with lots of other stuff going on. I'm lead to believe though that it's a complete beast when you try and focus more solely on the sound capabilities of the NES. From a chiptune perspective, this is a non-famitracker engine that really catches my interest. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /> Of course "best" depends on your needs though.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Tue May 18, 2010 7:44 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Drag wrote:</div><div class="quotecontent">Honestly, I'd prefer if people didn't rely on [favorite tracker]-to-DNSF converters. In reality, they should be using their favorite tracker (or midi composing program, or whatever) to prototype the songs, and then based off of the sheet music, that's where they create the data for DNSF to use.</div>
<br />That would require 1. a way to export Famitracker modules to LilyPond format (to generate the sheet music) and 2. somebody creating a specialized editor for the data for DNSF to use. People who adopt DNSF for their game projects will have a hard time attracting talented composers without computer programming experience if the only editor for DNSF music is Notepad.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MetalSlime</b> [ Tue May 18, 2010 9:08 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent"><div class="quotetitle">Drag wrote:</div><div class="quotecontent">Honestly, I'd prefer if people didn't rely on [favorite tracker]-to-DNSF converters. In reality, they should be using their favorite tracker (or midi composing program, or whatever) to prototype the songs, and then based off of the sheet music, that's where they create the data for DNSF to use.</div><br />That would require 1. a way to export Famitracker modules to LilyPond format (to generate the sheet music) and 2. somebody creating a specialized editor for the data for DNSF to use. People who adopt DNSF for their game projects will have a hard time attracting talented composers without computer programming experience if the only editor for DNSF music is Notepad.</div>
<br />
<br />I imagine the musician would prototype a song in FamiTracker/whatever and send the file to the programmer.  The programmer would open the file and type the song up in DNSF format in a text editor.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Drag</b> [ Tue May 18, 2010 11:24 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">MetalSlime wrote:</div><div class="quotecontent"><div class="quotetitle">tepples wrote:</div><div class="quotecontent"><div class="quotetitle">Drag wrote:</div><div class="quotecontent">Honestly, I'd prefer if people didn't rely on [favorite tracker]-to-DNSF converters. In reality, they should be using their favorite tracker (or midi composing program, or whatever) to prototype the songs, and then based off of the sheet music, that's where they create the data for DNSF to use.</div><br />That would require 1. a way to export Famitracker modules to LilyPond format (to generate the sheet music) and 2. somebody creating a specialized editor for the data for DNSF to use. People who adopt DNSF for their game projects will have a hard time attracting talented composers without computer programming experience if the only editor for DNSF music is Notepad.</div><br /><br />I imagine the musician would prototype a song in FamiTracker/whatever and send the file to the programmer.  The programmer would open the file and type the song up in DNSF format in a text editor.</div>
<br />
<br />Not necessarily *actual* sheet music, I'm just simply talking about the notes and such. All trackers give you a display which shows you what and where the notes are. Based on that information, you can ready some DNSF music.
<br />
<br />In due time, I may get an editor thrown together, since DNSF's general music format isn't solely for NSFs, but also for a couple of other music-related softwares that I've been working on over the years. However, that's not one of my top priorities. Either way, the music format should be easy enough for *anybody* understand, since it's like this:
<br />
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">E4 01 C5 32 52 72 82 A2 03 23 FF<br /><br />E4 01 = Use volume envelope 01.<br />C5 = Set the note length to 6 'ticks'. &#40;C0 being 1 tick, C1 being 2 ticks, etc.&#41;<br />32 52 72 82 A2 03 23 = Notes; &#91;Semitone&#93;&#91;Octave&#93;. Semitone starts with A and ends on G.<br />This particular string of notes is C2 D2 E2 F2 G2 A3 B3, which is just a regular scale.<br />FF = End of track &#40;stop playing&#41;.<br /></div>
<br />
<br />The only tricky thing is the fact that "Semitone 0" is an A, rather than a C. I know that goes against every musical teaching in the world (octaves now increment on As instead of Cs), but it was in the interests of efficiency which lead to this decision.
<br />
<br />In the end, if you're comfortable with hexadecimal, you should be fine. <img src="./images/smilies/icon_razz.gif" alt=":P" title="Razz" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Tue May 18, 2010 12:07 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />That looks like coding in machine language. I'm guessing the "assembly language" for this would look a lot like MML. Oh, and I should work on the assembler for my own music engine when I get time; currently, it's just a bunch of constants in ca65 .byt directives.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>