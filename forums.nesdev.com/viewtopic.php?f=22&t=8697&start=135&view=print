<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Streemerz NES port</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Streemerz NES port</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=22&amp;t=8697">http://forums.nesdev.com/viewtopic.php?f=22&amp;t=8697</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>10</strong> of <strong>12</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dwedit</b> [ Thu Oct 11, 2012 3:32 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Streemerz NES port</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />How many &quot;illegal&quot; instructions is this game using?  So far I've seen CB, B3, and 8F.  Now I need to emulate these.<br />Edit: Also need to fix the sound.  Even though I should be emulating the sweep properly, I force the sound to play for one complete period before the frequency can change, so I'll need to find a way to change this.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Thu Oct 11, 2012 3:45 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Streemerz NES port</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Dwedit wrote:</div><div class="quotecontent">How many &quot;illegal&quot; instructions is this game using?  So far I've seen CB, B3, and 8F.  Now I need to emulate these.</div><br />Those should be all, I think. Only the sound engine uses them, so you shouldn't have to play it too long to find all the places where they're used.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Denine</b> [ Thu Oct 11, 2012 4:45 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Streemerz NES port</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Good game. Never played original, though.<br />Man, I liked the theme of last stage  <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />  Nice touch.<br />Too bad the whole game was sooo short!  <img src="./images/smilies/icon_sad.gif" alt=":(" title="Sad" /> <br /><br /><div class="quotetitle">Banshaku wrote:</div><div class="quotecontent">I was going to suggest that you improve the soundtrack to make it sounds better.. ^_^;;</div><br />Maybe this game need a &quot;NES Improvement mode&quot;?  <img src="./images/smilies/icon_lol.gif" alt=":lol:" title="Laughing" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>slobu</b> [ Thu Oct 11, 2012 11:12 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Streemerz NES port</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Seems to work on the stock emulator for the Dingoo.  Freakin' AWESOME!!!!!!!!!!!<br /><br />I know I posted some pretty sappy words of encouragement earlier but I stand behind them.  This gives me hope for my projects.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Thu Oct 11, 2012 3:01 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Streemerz NES port</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />This kicks @$$.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Banshaku</b> [ Thu Oct 11, 2012 5:00 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Streemerz NES port</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I don't have much time to play games except for the train so I had to use some savestate to finish it unfortunately (and avoid repeating the difficult part). I really wanted to see the entire content so this was the only way.<br /><br />I like it. Some spot were very infuriating but I guess it is normal for this genre. I'm not good for those type of games anymore, especially with the crappy controller on the psp. ^_^;;;<br /><br />Congratulation again!<br /><br />p.s. you should make a &quot;broken music mode&quot; that sound like the broken emulation thing. And I found one possible typo at the end, maybe it was intentional. I won't mention on the forum, just in case it's an intentional joke.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dwedit</b> [ Thu Oct 11, 2012 5:40 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Streemerz NES port</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I thought I was going to have to redo parts of my sound code, but nope, I was just getting a completely different kind of broken sound because I had bugs in my AXS #nn instruction.  Frequency sweep tricks works fine.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Thu Oct 11, 2012 7:38 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Streemerz NES port</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Do the &quot;illegal&quot; opcodes make such a significant difference for the sound engine or are they used just because?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dwedit</b> [ Thu Oct 11, 2012 7:54 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Streemerz NES port</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I just noticed that this game perfectly adjusts itself for PAL mode.  Sound pitch is perfect, and gameplay and movement speed seems to be virtually the same.  Edit: Dendy mode too!

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Fri Oct 12, 2012 12:33 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Streemerz NES port</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Banshaku wrote:</div><div class="quotecontent">And I found one possible typo at the end, maybe it was intentional. I won't mention on the forum, just in case it's an intentional joke.</div><br />I left all the typos from the original alone, since I wasn't sure which ones were intentional and which ones were not (except for the very obvious intentional ones).<br /><br /><div class="quotetitle">Dwedit wrote:</div><div class="quotecontent">I thought I was going to have to redo parts of my sound code, but nope, I was just getting a completely different kind of broken sound because I had bugs in my AXS #nn instruction.  Frequency sweep tricks works fine.</div><br />Hmm, I wonder if something like this was causing the sound bugging in other emulators (nnnesterJ at least) as well, I didn't actually check if it was the sweep trick. Oh well.<br /><br /><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent">Do the &quot;illegal&quot; opcodes make such a significant difference for the sound engine or are they used just because?</div><br />Mostly just because. There was a time when I wanted to learn what the different illegal opcodes do, and the only way to do that was to apply them. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dwedit</b> [ Fri Oct 12, 2012 1:11 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Streemerz NES port</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Just a typo in my code that caused the AXS instruction to give very wrong results.  The glitches were nothing at all like the other emulators.  Sounded mostly like silence, clicks, noise, and low notes that followed the tempo of the song.  Sometimes the game even rebooted.<br />Had nothing at all to do with the sweep trick, or problems that other emulators faced.<br />After I fixed the AXS bug, the music was perfect, and no more bugs.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Fri Oct 12, 2012 1:29 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Streemerz NES port</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Dwedit wrote:</div><div class="quotecontent">Just a typo in my code that caused the AXS instruction to give very wrong results.  The glitches were nothing at all like the other emulators.  Sounded mostly like silence, clicks, noise, and low notes that followed the tempo of the song.  Sometimes the game even rebooted.<br />Had nothing at all to do with the sweep trick, or problems that other emulators faced.<br />After I fixed the AXS bug, the music was perfect, and no more bugs.</div><br /><s>Is this in PocketNES, BTW, or some other emulator?</s><br /><br />EDIT: Found out by myself (the answer is yes), the game works great in the latest version of PocketNES with VBA-M. Very nice!

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dwedit</b> [ Fri Oct 12, 2012 1:59 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Streemerz NES port</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Yep, it's in PocketNES.  I just released a new version that supports the game.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bananmos</b> [ Sun Oct 14, 2012 4:19 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Streemerz NES port</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Speaking of the music/sound effects I must add I'm quite impressed with how good and true to the original it sounds... while converting graphics is fairly straightforward, actually converting the Flash version to true NES sounds must have taken a lot of polishing, so congrats again on that <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Wed Oct 24, 2012 6:25 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Streemerz NES port</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Bananmos wrote:</div><div class="quotecontent">Ahh... I didn't realize you were using scrolling for this one - <strong>I just assumed you were doing the boxes like the pause box in Megaman1, rounding it's coordinates to the next tile boundary to center it on screen</strong>.</div><br />You know, in hindsight I probably should have done this.<br /><br />Maybe I'll change it for a new version so I can move the box down. It's not a trivial change though because all of the code assume that the textbox is at $2000 in the nametables, but at least I could get rid of the sprite 0 hit... I'd also have to fix all of the dialogue because there'd be less horizontal space.<br /><br />I'm also considering scrolling the map down on NTSC ever so slightly (3 pixels seems to be the best) to make sure at least couple of pixels are visible on top and bottom when a display crops the top 16 pixels and bottom 10 pixels. If the croppings are more extreme than that, there's not much I can do.<br /><br />Here's how the current version would handle 16-10 cropping:<br /><div class="attachtitle">Attachment:</div><div class="attachcontent">
			<a href="./download/file.php?id=105&amp;mode=view"><img src="./download/file.php?id=105&amp;t=1" alt="crop-1.png" /></a><br />
			<span class="gensmall">crop-1.png [ 12.02 KiB | Viewed 1250 times ]</span>
		

		<br />
	</div><br />Here's how it would look after scrolling down 3 pixels: <span style="font-size: 85%; line-height: normal">(Actually this mockup isn't 100% correct, the bottom 3 pixels of the map would show in place of the top 3 pixels in this case, unless the bottom tile row is cleared.)</span><br /><div class="attachtitle">Attachment:</div><div class="attachcontent">
			<a href="./download/file.php?id=104&amp;mode=view"><img src="./download/file.php?id=104&amp;t=1" alt="crop-2.png" /></a><br />
			<span class="gensmall">crop-2.png [ 12.01 KiB | Viewed 1250 times ]</span>
		

		<br />
	</div>

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>10</strong> of <strong>12</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>