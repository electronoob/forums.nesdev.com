<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - How well can Metal Slug backgrounds be recreated with tiles?</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">How well can Metal Slug backgrounds be recreated with tiles?</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=23&amp;t=17374">http://forums.nesdev.com/viewtopic.php?f=23&amp;t=17374</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>2</strong> of <strong>8</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>TOUKO</b> [ Thu May 24, 2018 12:56 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: How well can Metal Slug backgrounds be recreated with ti</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />i agree it's really strange .

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>psycopathicteen</b> [ Thu May 24, 2018 2:06 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: How well can Metal Slug backgrounds be recreated with ti</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">93143 wrote:</div><div class="quotecontent"><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Yeah, sorry, I was just taking some random data I had easily on hand and was vaguely related.</div><br />Still interesting.  That sample pack sounds pretty egregious, more so than I expected...  does the game even use all of the samples?  Maybe there's some truth to the idea that Neo Geo developers deliberately wasted space so they could advertise bigger MEGA numbers...</div><br /><br />The Neo Geo's YM2610 sound chip was designed to waste space.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>TmEE</b> [ Thu May 24, 2018 2:54 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: How well can Metal Slug backgrounds be recreated with ti</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />You could maybe say that only if it used uncompressed samples. You could also say similar stuff about how NES uses graphics ROMs disallowing compression with most mappers (and on NG there's no mapper with graphics RAM that I know of, only ROMs).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>93143</b> [ Thu May 24, 2018 3:14 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: How well can Metal Slug backgrounds be recreated with ti</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">TOUKO wrote:</div><div class="quotecontent">This is why a good conversion on a 16 bit system is not really possible without losing tons of details,and the charm of those games .</div><br />I'm not convinced of this.  Particularly since most of the game runs at 30 fps, with (IIRC) only a few BG tile animations running at 60...  The obvious factor preventing a faithful Metal Slug port on 16-bit systems was ROM size - even with an S-DD1 you'd be hard-pressed to jam even the first game into a Super Mario 64-sized cart, and I can certainly imagine a would-be porting studio taking one look at the number on the original game's cartridge sleeve and noping out - but that's not a fundamental issue with either the SNES or the Mega Drive.<br /><br />(I can't help but think about the N64, and how it got essentially no 2D pixel art games despite being capable of blitting opaque unscaled sprites at 250 megapixels per second...)<br /><br />...<br /><br /><strong>@psycopathicteen:</strong> What was the reason for your question?  Have you analyzed the game for VRAM and/or DMA usage and determined that it won't fit?  Or is it a ROM space issue?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>psycopathicteen</b> [ Thu May 24, 2018 3:46 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: How well can Metal Slug backgrounds be recreated with ti</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I'm curious how Metal Slug would look like squeezed down to 32 or 48 megabits.<br /><br /><div class="quotetitle">TmEE wrote:</div><div class="quotecontent">You could maybe say that only if it used uncompressed samples. You could also say similar stuff about how NES uses graphics ROMs disallowing compression with most mappers (and on NG there's no mapper with graphics RAM that I know of, only ROMs).</div><br /><br />Most sample based sound chips are capable of pitch scaling, without recording every single note.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Thu May 24, 2018 3:57 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: How well can Metal Slug backgrounds be recreated with ti</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I've tended to refer to one sample per pitch as the &quot;Mellotron&quot; pattern. There are valid reasons to use it even without hardware limits like that of the NES or Neo Geo sample unit. One is that an instrument may have greatly differing tonalities in the high or low pitches.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>TmEE</b> [ Thu May 24, 2018 4:07 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: How well can Metal Slug backgrounds be recreated with ti</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />YM2610 is a version of YM2608 with the internal sample ROM replaced with external one. Internal sounds of 2608 do not have any freq scaling capability. You're supposed to play SFX and whatnot on those channels and that's what most games do. There aren't a whole lot of games that use all the channels for music.<br /><br />Stuff like piano scales really badly, you need at least one sample for every octave to get any decent results and most pro gear actually does use one sample every few notes or even for every note as fas as pianos go.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>93143</b> [ Thu May 24, 2018 5:04 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: How well can Metal Slug backgrounds be recreated with ti</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">I've tended to refer to one sample per pitch as the &quot;Mellotron&quot; pattern. There are valid reasons to use it even without hardware limits like that of the NES or Neo Geo sample unit. One is that an instrument may have greatly differing tonalities in the high or low pitches.</div><br />As long as you've got as much memory as you want, yes.  Multisampling is an extremely common technique, but even fairly modern sound sets don't always sample every single note.<br /><br />You can absolutely go nuts with multisampling if you want realism at any cost.  Modern grand piano sample sets can be several gigabytes, for instance, because they have samples for every note at multiple key velocities, sometimes both with and without the sustain pedal, as well as stuff like release samples.  Maybe even multiple samples per note per velocity, so as to randomize or round-robin the samples and avoid the dreaded &quot;machine-gun effect&quot; of absolutely identical samples playing in tight sequence.  I casually searched just now and found a 67 GB grand piano set with 66,000 samples.<br /><br />But if you care about storage requirements <em>at all</em>, the Mellotron pattern is the first thing to go - stretching a piano sample across five octaves sounds terrible, but stretching it a few semitones can be undetectable in a mix.  And I suspect that a fair number of the instruments in Metal Slug were sampled from a synth module that used moderate stretching (and looping); it's very likely that the game uses a good bit more memory than the original synth did for these instruments.<br /><br />The only thing I can think of at the moment for which I'd insist on the Mellotron pattern if possible is distorted rhythm guitar - there are types of lead guitar that can survive extensive repitching, but for your typical low/mid-range powerchords the fixed frequency profile is as important to the sound as the pitch-dependent component, so a stretch of even one semitone sounds clearly fake.  On the other hand, repitched rhythm guitar samples are almost a separate instrument at this point, considering how common they were in '90s videogame soundtracks...

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>psycopathicteen</b> [ Thu May 24, 2018 9:18 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: How well can Metal Slug backgrounds be recreated with ti</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Oh yeah, I find the machine gun effect annoying with guitar samples.  How do some SNES games avoid that?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Drew Sebastino</b> [ Fri May 25, 2018 8:59 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: How well can Metal Slug backgrounds be recreated with ti</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I had never heard of multiple sound samples being used for different notes of one instrument. You said that the grand piano was most affected; do you have a good comparison between a synth that is using one sample and changing the pitch vs one that isn't?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>rainwarrior</b> [ Fri May 25, 2018 11:32 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: How well can Metal Slug backgrounds be recreated with ti</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Espozo wrote:</div><div class="quotecontent">I had never heard of multiple sound samples being used for different notes of one instrument.</div><br />It's usually called &quot;multisample&quot;, but it might have other names. It's actually the reason why XM and IT formats have a separate collection of &quot;samples&quot; and &quot;instruments&quot;, i.e. the instruments reference many samples. Interestingly, even Famitracker has this feature, where the instrument maps DPCM samples to keys.<br /><br />There's another dimension of this called &quot;multitimbral&quot; where you play multiple samples per note, e.g. you could blend between a &quot;soft&quot; and &quot;hard&quot; version of an instrument depending on how fast you press the key, which could have more expressive variation of the sound than just changing the volume, like you would without this feature.<br /><br /><div class="quotetitle">Espozo wrote:</div><div class="quotecontent">do you have a good comparison between a synth that is using one sample and changing the pitch vs one that isn't?</div><br />Piano samples are mentioned often because the disparity between a real piano and a sample pitch up or down gets very strong rather quickly, and pianos have a very large range for an instrument so there is something real to compare against, too. Pianos also have a separate set of strings and hammer for each note, designed and adjusted to give a good tone across the whole range (e.g. thicker/fewer strings on the bass, softer hammers on the treble), so it's a bit removed from the ideal thing that a samplerate change could replicate where each successive pitch should be identical components just scaled smaller.<br /><br />All samples when pitched lower than their recorded frequency will start to have audibly missing high frequency components (i.e. sound too &quot;dull&quot;) and at the same time have their envelopes lengthened (sound too &quot;long&quot; or &quot;slow&quot;). Conversely, when pitched higher, there is proportionately too strong a high frequency component compared to a natural instrument's pitch change, aliasing problems tend to build up in the high frequencies, and the envelopes become shortened too.<br /><br />For a piano sample taken too far you get a very tinny short tink for high notes, and a very dull booooong for low notes. Everything is out of proportion. In reality the low pitches on a piano do have a longer envelope, but not THAT long, and high pitches do have a shorter one (but not THAT short), so you'll actually see this accounted for in synthesized approaches. Yamaha's FM synthesizers have &quot;keyboard rate scaling&quot; to adjust the speed of envelopes across the range of the keyboard, and &quot;keyboard level scaling&quot; to similarly adjust the timbral effect across the range (dampening high frequencies for high notes to keep them from sounding unnaturally harsh).<br /><br />I can't point to a good example of how it sounds bad, because usually composers just avoid playing that piano outside its range, because it tends to sound <em>bad</em>. Maybe just find <a href="https://modarchive.org/index.php?request=view_by_moduleid&amp;query=129252" class="postlink">a random MOD with piano samples</a>, open it up in <a href="https://openmpt.org/" class="postlink">OpenMPT</a> or some other tracker and try for yourself how the individual samples sound when play them in different ranges. (This particular MOD has one &quot;bass&quot; piano sample, and one mid-range sample, and avoids going very high. You can easily hear the harsh tone of its higher notes though, and in general how various notes sound too bright or too dull.)<br /><br />I always thought the <a href="https://www.youtube.com/watch?v=KJyHPr8vCwM" class="postlink">game over screen from Super R-Type</a> had a really fun use of a piano sample. It is used over a wide range, but outside a small range it sounds very unlike a piano. At some point it does interesting pitch sweeps in the low range that might as well be a sine wave. It also seems to avoid going very high in pitch, maybe to avoid it standing out too harshly compared to its fairly dull sound in the range it's mostly used.<br /><br /><div class="quotetitle">psycopathicteen wrote:</div><div class="quotecontent">The Neo Geo's YM2610 sound chip was designed to waste space.</div><br />It's designed to play sound effects and drums. Wasting space to use those sound effects for music was someone else's goal. ;P They might have considered it putting that space <em>to good use</em> rather than wastage. The only wasted space is empty.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Fri May 25, 2018 12:36 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: How well can Metal Slug backgrounds be recreated with ti</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">rainwarrior wrote:</div><div class="quotecontent">The only wasted space is empty.<br /></div>Right. Cart costs for the Neo Geo were almost a non-issue. A game had every reason to use all 32 MiB addressable by the YM2610, and basically no reason to not.<br /><br />... ok, that's not quite true, because SNK did actually make <a href="https://wiki.neogeodev.org/index.php?title=PCM" class="postlink">a special mapper IC that allowed all 7 voices to address the same ROM instead of having two disjoint memories</a>. I'm having difficulty finding historical prices to support my argument, though.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>93143</b> [ Fri May 25, 2018 1:53 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: How well can Metal Slug backgrounds be recreated with ti</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">psycopathicteen wrote:</div><div class="quotecontent">Oh yeah, I find the machine gun effect annoying with guitar samples.  How do some SNES games avoid that?</div><br />Hard to say without examples.<br /><br />It's possible to modify the volume and/or note length per-note to produce a musical pattern and break up the sameness.  Adding a bit of looseness to the timing can help too, but it can easily backfire if you're not careful/musical about it.  If you've got a separate attack sample (like the lead guitars in Rock 'n' Roll Racing seem to), or even a sufficiently long and distinct attack section of the main sample, you can do quite a bit to introduce variation (pitch, volume, volume profile, length) because the attack is a large part of the perceived timbre.  Proper phrasing - following a volume profile over multiple notes - can help with some instruments.<br /><br />Also, in my experience, some samples just don't sound as bad as others when repeated.  For example, samples with long, pronounced attacks can sound really bad when repeated, because the attack is a significant portion - sometimes all - of the note.<br /><br />Speed matters.  Timpani rolls in real life are nowhere near as fast as some people seem to think they are...<br /><br />Which reminds me - the machine-gun effect with percussive samples can be much worse when you use only a single channel, because the sample has to be abruptly cut off right before retriggering.  Some SNES music devotes multiple channels to one percussive instrument, so the decay tail can continue into the next note, which tends to sound far more natural.<br /><br />With something like a wind instrument, that can only produce one sound at a time, you can emulate legato playing by just changing the pitch with the sample running, rather than having to restart and getting a gap and another attack.  Guitar hammer-ons can be dealt with this way too.  Unfortunately, some instruments like violins that would otherwise be ideal candidates for this technique sound fake if you use the same sample over a significant pitch range - but then, violins tend to sound fake regardless unless you use large samples or sophisticated synthesis techniques...

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>TOUKO</b> [ Sat May 26, 2018 1:52 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: How well can Metal Slug backgrounds be recreated with ti</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Look at the PSX version :<br /><!-- m --><a class="postlink" href="https://www.youtube.com/watch?v=qHl5JkMDWv8">https://www.youtube.com/watch?v=qHl5JkMDWv8</a><!-- m --><br /><br />And the NG version:<br /><!-- m --><a class="postlink" href="https://www.youtube.com/watch?v=Yp8IK-uKNxs">https://www.youtube.com/watch?v=Yp8IK-uKNxs</a><!-- m --><br /><br />And make your hown conclusions .

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>93143</b> [ Sat May 26, 2018 2:51 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: How well can Metal Slug backgrounds be recreated with ti</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The main difference I see (other than the loading pauses) is in the smoothness of the animation.  I'm not sure what's driving it, but remember that the PSX didn't have full access to much more than a couple megabytes of data at a time without going through the painfully slow CD-ROM interface.  My understanding is that the Saturn version was much better, partly because it employed a RAM expansion.<br /><br />By contrast, a SNES with an S-DD1 can access anything in the cartridge at the speed of DMA with basically no latency, so the only limits would be DMA bandwidth and VRAM space (assuming sufficient CPU power).  The SNES has enough VRAM to cover the whole screen in unique 4bpp tiles twice, with enough space left over for two double-wide tilemaps, and enough DMA bandwidth to replace all of VRAM in six frames at 30 fps.  This may not be enough (I haven't tried), but the PSX version is limited by different factors and therefore doesn't really prove much.<br /><br />It may be necessary to do tricks with the sprite palettes, but again, that's not something you could infer from the PlayStation version.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>2</strong> of <strong>8</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>