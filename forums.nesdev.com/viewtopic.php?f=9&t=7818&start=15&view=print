<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Rewriting Famicom Disks today</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Rewriting Famicom Disks today</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=9&amp;t=7818">http://forums.nesdev.com/viewtopic.php?f=9&amp;t=7818</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>2</strong> of <strong>2</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>ccovell</b> [ Sun Jun 05, 2011 5:39 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />FDSLoader also has trouble running on computers that are too fast; anything above 600 mhz might not work at all.  You'll just need to wait until someone makes a USB FDSLoader somehow, or purchase an old Pentium 1 desktop or laptop just for FDS reading/writing.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Sun Jun 05, 2011 7:50 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />OK so that's exactly what I said first, you need a <strong>terricily old</strong> PC with parallel port.
<br />(someone said the PC didn't have to be old but needed the parallel port, but that seems wrong).
<br />
<br />However I guess it's possible to find those terrifily old PCs for free (or for a terrificly low price) from some company that doesn't need them anymore, it's just that it'd be unpractical to waste this space in my home just for that (I already guess my mom would be angry to have YET one more old computer in the house haha).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>kyuusaku</b> [ Sun Jun 05, 2011 10:02 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Is there a lot of interest in this? I started a USB read-only "FDS Loader" for someone but haven't had a lot of motivation to work on it. It's actually much harder than it sounds with a 12 MIPs MCU due to the high bit rate and necessity to service the USB hardware.
<br />
<br />Another method I've toyed with is the controller-serial port idea. I think this is probably the best way to do it in general, but it won't give you a low level dump of the disk suitable for preservation like a "FDS Loader" type device.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MottZilla</b> [ Sun Jun 05, 2011 10:30 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">Well, the more I think about it the more I'm confused. I mean, f*** attaching disks to the NES sounds so amazingly cool, why do it have to be so complicated ?!? Damn you Nintendo ! Supposedly they gave up FDS because pirates could create disks too easily, well I wonder how comes the pirates were able to produce disks that much easily. Making a cartridge sure sounds a lot simpler to me !</div>
<br />
<br />The disks are just standard 2.8 inch Quick Disks in a modified shell with the word NINTENDO imprinted in it. Pirates could easily get a factory to produce these disks themselves and then get machines setup to read back the data on one disk and duplicate it onto others.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Sun Jun 05, 2011 10:43 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Is there a lot of interest in this? I started a USB read-only "FDS Loader" for someone but haven't had a lot of motivation to work on it. It's actually much harder than it sounds with a 12 MIPs MCU due to the high bit rate and necessity to service the USB hardware.</div><br />Yes, there is interest in this. But why read-only ?<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">The disks are just standard 2.8 inch Quick Disks in a modified shell with the word NINTENDO imprinted in it.</div><br />Standard is a big word if those disk were ever used only on two devices : Some kind of typewriter and the FDS.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Such timing would probably have to run at a kernel level, and that would involve buying a certificate so that you can sign your driver in a way that Windows Vista 64-bit and Windows 7 64-bit will accept it.</div>
<br />I bring this up a bit late, but what about Linux ?
<br />(PS : I still use 32-bit versions of Linux and Windows, not that it matters anyway)
<br />If my calculation are right, a disc which is 64kB is read in approximately 6 seconds, that makes 10.9 kilobytes/s or 87.3 kilobits/s.
<br />So the signals transfers should be only several faster than digial audio (44.1 kHz) which doesn't sound like a big deal for a Gigaherz capable PC.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MottZilla</b> [ Sun Jun 05, 2011 2:04 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Read-Only maybe because he doesn't want to support people trying to sell bootleg disks? Just a guess.
<br />
<br />Quick Disks were using in MIDI Keyboards I think, as well as word processors. While I agree they aren't standard like 3.5" Floppys, they still were used beyond the FDS alone.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Sun Jun 05, 2011 3:24 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">Standard is a big word if those disk were ever used only on two devices : Some kind of typewriter and the FDS.</div><br />Not only those. <a href="http://www.dragonwiki.com/wiki/index.php?title=Dragon_QD" class="postlink">Eurohard Dragon QD</a> used them; as did several MIDI keyboards according to <a href="http://en.wikipedia.org/wiki/History_of_the_floppy_disk#Mitsumi.27s_.22Quick_Disk.22_3-inch_floppies" class="postlink">this Wikipedia article</a>.<br /><br />Wikipedia lists a data rate of 101.6 kbps but a capacity of 50 KiB. I don't know if the FDS spins the disk slower than QD formats used with computers, if the FDS uses less framing, if it makes the tracks tighter, or what.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I bring this up a bit late, but what about Linux ?</div>
<br />That'd be fine for people who already use Linux. But if you aren't among them, it could involve a lot of rebooting, especially if a distribution doesn't recognize your computer's WLAN card.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>kyuusaku</b> [ Sun Jun 05, 2011 5:53 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">Yes, there is interest in this. But why read-only ?</div>
<br />Detecting bits is much easier on a MCU than streaming them over USB (not enough RAM to buffer them.) Also the goal of the project is to archive unadulterated disks. Writing them can be done through software.
<br />
<br />I don't think Linux has the necessary low-latency for another FDS Loader.
<br />
<br />Abusing a soundcard for FDS purposes is an interesting idea. It might be a possibility at 192 kHz. An obstacle might be that DAC/ADC are delta sigma now and could be too noisy even after passive filtering, particularly when capturing.
<br />
<br />The bit rate according to Brad Taylor is 96.4 kHz. I haven't measured it exactly yet (I detect bits with a counter/threshold scheme) but I suspect it's an integer division from 21.477272 MHz.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>TmEE</b> [ Thu Jun 09, 2011 8:25 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />While the sound cards do 192KHz, the filters on the card kill off anything above 16...20KHz... Removal of filters will help with that, and if not you got a crappy card where the driver makes you think the card is good while in reality it is not :/

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>qbradq</b> [ Thu Jun 09, 2011 8:34 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Linux supports real-time user processes if the kernel is configured to do so. But yea, your average Ubuntu install probably won't.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Xious</b> [ Fri Jul 08, 2011 10:16 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />@ Bregalad: For C54 disks, try a Catweasel PCI. It may even be possible to adapt it to the Mitsumi disk format and use FDS or QD mechs on it, but I've never given it any thought until now. 
<br />
<br />For information on backup and writing of FDS disks, check out Eric's [url]FamicomDiskSystem.com[/url].
<br />
<br />
<br />Sorry I haven.t popped in for a while... Busy times and the like, mostly spent writing and HW design. Nothing amazing or brilliant yet: My creative abilities are stumbling around to match my state of depression. I'll read-over this thread and modify my post with any annotations that I feel are applicable.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>rbudrick</b> [ Fri Sep 23, 2011 3:49 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Some Amstrad computers and some other European computers used QDs, usually as an add-on.  The Sharp MX 700, iirc, used one as an add-on, and the Mz-1500 had it built in.  People have been known to dump FDS disks with the MZ-1500, but I've never figured out exactly how...possibly just the copying disk that is included with the MZ, but I dunno.  I believe people jacked their FDS drive into the drive input on the MZ.  I wish I knew.
<br />
<br />The MSX also had an add-on QD drive.  I've got one of them.
<br />
<br />-Rob

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Mon Sep 26, 2011 11:58 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Cool I wonder how complicated it is to dump or rewrite discs with those...
<br />You know the disc might be the same mechanically but be formated in another way.
<br />
<br />Yet I'm pretty sure this should be the easiest way, at worse you can modify the drivers in assembly to match FDS formatting, which is probably easier than highacking the real FDS drive communication with Linux, which sounds complicated, especially considering there is more security inside the FDS drive itself.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>rbudrick</b> [ Fri Oct 07, 2011 12:38 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I've got an MZ-1500 and a QD for the MSX...there's a disk copying QD that came with the MZ, but I don't think I have a similar disk for the MSX drive.
<br />
<br />I've had a feeling that it may be as simple as unplugging the 12-pin  connector from the MZ's built-in QD drive and connecting the FDS drive's internal 12-pin drive cable to it...it might just work with no modification, but I dunno.
<br />
<br />-Rob

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>RGB_Gamer</b> [ Sun Oct 09, 2011 11:52 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />its just easier to find say, on ebay, some fds disks rather than quickdisks (I actually have about 20 of those) and rewrite them yourselves. Now as far as rewriting fds disks, it is best to just use an old school PC that's from the early to mid 90's or so. I got a cheap pentium laptop specifically for this purpose, and it was only 40 bucks. Luckily for me, I have a custom made fdsloadr cable that connects the fds drive to my parallel port that writes. fds images to disk.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>2</strong> of <strong>2</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>