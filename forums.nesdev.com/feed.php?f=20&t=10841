<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="http://forums.nesdev.com/feed.php?f=20&amp;t=10841" />

<title>nesdev.com</title>
<subtitle>NES Development and Strangulation Records message boards</subtitle>
<link href="http://forums.nesdev.com/index.php" />
<updated>2016-01-05T23:05:25-07:00</updated>

<author><name><![CDATA[nesdev.com]]></name></author>
<id>http://forums.nesdev.com/feed.php?f=20&amp;t=10841</id>
<entry>
<author><name><![CDATA[nitro2k01]]></name></author>
<updated>2016-01-05T23:05:25-07:00</updated>
<published>2016-01-05T23:05:25-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=10841&amp;p=161993#p161993</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=10841&amp;p=161993#p161993"/>
<title type="html"><![CDATA[Re: Gameboy SRAM Copier]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=10841&amp;p=161993#p161993"><![CDATA[
<div class="quotetitle">Dwedit wrote:</div><div class="quotecontent"><br />You can stick in a GB cartridge while running a multiboot mode program with all interrupts disabled, and it will reboot into GB mode and run the game (Warning, inserting GB cartridges into a running system may corrupt the saved game).  No ARM code or GBA BIOS code is responsible for it switching modes.<br /></div><br />As I noted, though, simply flicking the switch with a screwdriver or similar, without any cartridge insertion or removal, will <em>not</em> cause a reboot/mode switch. This means that the switch is not capable of switching modes in itself, after power on. Any mode switch occurring post boot must then be caused either by bus activity, or power glitches.<br /><br />And regardless, what you said does not contradict what I said, since it could still be the case that <em>any</em> CPU reset, even /reset line in GBC mode, starts in ARM mode and then goes through the check in the BIOS. However (again) those few frames of a fully white screen are consistent with what the BIOS does.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4548">nitro2k01</a> — Tue Jan 05, 2016 11:05 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2016-01-04T18:43:02-07:00</updated>
<published>2016-01-04T18:43:02-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=10841&amp;p=161908#p161908</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=10841&amp;p=161908#p161908"/>
<title type="html"><![CDATA[Re: Gameboy SRAM Copier]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=10841&amp;p=161908#p161908"><![CDATA[
It might be related to interrupts or power sags. With respect to power sags, I've seen the NES CPU freeze when I connect or disconnect a controller.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Mon Jan 04, 2016 6:43 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Dwedit]]></name></author>
<updated>2016-01-04T16:30:08-07:00</updated>
<published>2016-01-04T16:30:08-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=10841&amp;p=161897#p161897</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=10841&amp;p=161897#p161897"/>
<title type="html"><![CDATA[Re: Gameboy SRAM Copier]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=10841&amp;p=161897#p161897"><![CDATA[
Sounds like that may be a software thing, I've never seen a GBA reboot from having a GBA cartridge inserted in there.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=53">Dwedit</a> — Mon Jan 04, 2016 4:30 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2016-01-04T15:54:42-07:00</updated>
<published>2016-01-04T15:54:42-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=10841&amp;p=161892#p161892</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=10841&amp;p=161892#p161892"/>
<title type="html"><![CDATA[Re: Gameboy SRAM Copier]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=10841&amp;p=161892#p161892"><![CDATA[
Sometimes inserting a GBA cart during multiboot play will cause the GBA to reboot into GBA mode, show the intro animation, and start the game. And if it reboots, it'll check the switch again.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Mon Jan 04, 2016 3:54 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Dwedit]]></name></author>
<updated>2016-01-04T14:41:03-07:00</updated>
<published>2016-01-04T14:41:03-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=10841&amp;p=161888#p161888</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=10841&amp;p=161888#p161888"/>
<title type="html"><![CDATA[Re: Gameboy SRAM Copier]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=10841&amp;p=161888#p161888"><![CDATA[
You can stick in a GB cartridge while running a multiboot mode program with all interrupts disabled, and it will reboot into GB mode and run the game (Warning, inserting GB cartridges into a running system may corrupt the saved game).  No ARM code or GBA BIOS code is responsible for it switching modes.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=53">Dwedit</a> — Mon Jan 04, 2016 2:41 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[nitro2k01]]></name></author>
<updated>2015-12-31T10:31:00-07:00</updated>
<published>2015-12-31T10:31:00-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=10841&amp;p=161616#p161616</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=10841&amp;p=161616#p161616"/>
<title type="html"><![CDATA[Re: Gameboy SRAM Copier]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=10841&amp;p=161616#p161616"><![CDATA[
<div class="quotetitle">Dwedit wrote:</div><div class="quotecontent"><br />None of it ever runs, because the switch is immediate.  GBA code never gets to see a GBC cartridge.<br /></div>What makes you think the switch is immediate? Like I said, when I was debugging that code path in the GBA BIOS, I noticed that it showed a white screen for maybe 3 frames before setting up the letterbox video mode. That was what led me to look at the boot process on hardware and it seems that it, too, shows a white screen for x frames, which I had never thought about before that. This is at least an indication that the BIOS code is running.<br />Of course, GBA code never gets to access the actual GBC cartridge, only the switch state, but that's all it needs.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4548">nitro2k01</a> — Thu Dec 31, 2015 10:31 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Dwedit]]></name></author>
<updated>2015-12-19T19:19:51-07:00</updated>
<published>2015-12-19T19:19:51-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=10841&amp;p=160953#p160953</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=10841&amp;p=160953#p160953"/>
<title type="html"><![CDATA[Re: Gameboy SRAM Copier]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=10841&amp;p=160953#p160953"><![CDATA[
Yes, there is all that stuff in the BIOS that is polling for a GBC cartridge bit in a register somewhere, then it sets a certain video mode and fades the screen into that mode.<br />None of it ever runs, because the switch is immediate.  GBA code never gets to see a GBC cartridge.<br /><br />Then if you glitch from GBA into GBC mode, it can't read the cartridges, so it can't do anything useful.<br /><br />They probably tried to make it work in software, failed, then gave up and used the switch.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=53">Dwedit</a> — Sat Dec 19, 2015 7:19 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[nitro2k01]]></name></author>
<updated>2015-12-19T02:59:47-07:00</updated>
<published>2015-12-19T02:59:47-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=10841&amp;p=160899#p160899</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=10841&amp;p=160899#p160899"/>
<title type="html"><![CDATA[Re: Gameboy SRAM Copier]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=10841&amp;p=160899#p160899"><![CDATA[
I remember going through the BIOS looking for references to writes to the GB mode switch bit (bit 3 of DISPCNT) and found code that checks for something (don't remember exactly what) then sets up the frame around the GB screen, and then enters GBC mode. When singlestepping this code, I noticed something. This code waited one or a couple of frames before setting up VRAM and entering GBC mode, at which point the screen is white. You can observe what is probably this code in action if you turn a GBA off and on quickly before the dirt lines disappear. The screen is forced to be fully white for a short period of time. I should probably revisit this and document this code. <br /><br />It would be strange if the code for setting up a border around the GB screen was there in the BIOS if there was a completely different mechanism all in hardware. I seem to remember that someone played around with manually entering GBC mode from a GBA program (wasn't that you even, dwedit?) to make it do rotations and other weird stuff when you changed aspect ratio with L and R.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4548">nitro2k01</a> — Sat Dec 19, 2015 2:59 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Dwedit]]></name></author>
<updated>2015-12-12T19:40:18-07:00</updated>
<published>2015-12-12T19:40:18-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=10841&amp;p=160572#p160572</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=10841&amp;p=160572#p160572"/>
<title type="html"><![CDATA[Re: Gameboy SRAM Copier]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=10841&amp;p=160572#p160572"><![CDATA[
As far as I know, the switch is much lower-level than what you described, the GBA BIOS doesn't even get a chance to see it.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=53">Dwedit</a> — Sat Dec 12, 2015 7:40 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[nitro2k01]]></name></author>
<updated>2015-12-11T01:01:10-07:00</updated>
<published>2015-12-11T01:01:10-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=10841&amp;p=160488#p160488</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=10841&amp;p=160488#p160488"/>
<title type="html"><![CDATA[Re: Gameboy SRAM Copier]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=10841&amp;p=160488#p160488"><![CDATA[
<div class="quotetitle">mikejmoffitt wrote:</div><div class="quotecontent"><br />This isn't really correct. The GBA, GBASP, and Game Boy Player have a physical switch in the cartridge slot to detect a GBA vs GBC/DMG game. Changing it will cause a reset and mode switch. If you were to force the switch down, then you may have no issues.<br /></div>I will have to counter that with another &quot;this isn't really correct&quot;. Try it yourself. Ejecting a GB cart from a GBA will mostly not create a reset, but will stay in GB mode. Changing the state of the switch itself will not cause a reset however. Try doing it manually with a screwdriver after removing a cart (either GB or GBA) and see for yourself. <img src="http://forums.nesdev.com/images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br />What will usually cause a reset is <em>inserting</em> a cart.<br /><br />What the switch will do under the hood as far as I understand is:<br />1) Change the system voltage.<br />2) Change a bit in a register somewhere. (iirc)<br />3) Trigger the FIQ (fast IRQ) which may or may not be handled by the running program. <br />4) Change the GBA BIOS behavior to switch into GBC, detected using 2.<br />So, in effect when a cartridge insertion resets the GBA, something on the cartridge bus must be causing the actual reset, while the BIOS then decides to enter or not enter GBC mode using its usual method, based on the switch position.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4548">nitro2k01</a> — Fri Dec 11, 2015 1:01 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[mikejmoffitt]]></name></author>
<updated>2015-11-16T21:46:24-07:00</updated>
<published>2015-11-16T21:46:24-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=10841&amp;p=159268#p159268</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=10841&amp;p=159268#p159268"/>
<title type="html"><![CDATA[Re: Gameboy SRAM Copier]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=10841&amp;p=159268#p159268"><![CDATA[
<div class="quotetitle">Lupus wrote:</div><div class="quotecontent"><br /><div class="quotetitle">Dwedit wrote:</div><div class="quotecontent">Seems like the exact opposite of the GBA, where you can plug and unplug cartridges any time you want with no ill effects.<br /></div><br />The GBA SP crashes as well if you plug in an Everdrive GB during normal operation. This comes down to the internal circuit not beeing designed for hot plugging and I would assume any device from that era will crash (maybe even custom retro builds). The Super Gameboy kept running for the most part but you can see a short flicker on the screen if you re-insert the flashcard (probably due to the same reason). The Gamecube thingy can detect if you remove the cardridge and will raise an error with no chance to switch cardridges like you would need in order to use this tool.<br /><br />And I would also like to add that pluggin in a regular GBC power supply might do the job as well.</div><br />This isn't really correct. The GBA, GBASP, and Game Boy Player have a physical switch in the cartridge slot to detect a GBA vs GBC/DMG game. Changing it will cause a reset and mode switch. If you were to force the switch down, then you may have no issues.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=5314">mikejmoffitt</a> — Mon Nov 16, 2015 9:46 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[lidnariq]]></name></author>
<updated>2015-11-16T13:43:37-07:00</updated>
<published>2015-11-16T13:43:37-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=10841&amp;p=159234#p159234</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=10841&amp;p=159234#p159234"/>
<title type="html"><![CDATA[Re: Gameboy SRAM Copier]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=10841&amp;p=159234#p159234"><![CDATA[
<div class="quotetitle">Lupus wrote:</div><div class="quotecontent"><br />This comes down to the internal circuit not being designed for hot plugging<br /></div>That might be true for the SP, but it's definitely not true for the original GBA.<br /><br />1- cartridge Vcc and Gnd are longer contacts than others. (Standard hotplug configuration.)<br />2- The hardware has a &quot;cartridge inserted&quot; interrupt.<br />3- the bypass capacitance on a GBA cart is only about 1.5µF, much smaller than the hundreds of µF on the mainboard<br /><br />The thing about hot plugging is that you'll <em>always</em> be able to apply more load than it can support.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3512">lidnariq</a> — Mon Nov 16, 2015 1:43 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Lupus]]></name></author>
<updated>2015-11-16T09:41:36-07:00</updated>
<published>2015-11-16T09:41:36-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=10841&amp;p=159227#p159227</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=10841&amp;p=159227#p159227"/>
<title type="html"><![CDATA[Re: Gameboy SRAM Copier]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=10841&amp;p=159227#p159227"><![CDATA[
<div class="quotetitle">Dwedit wrote:</div><div class="quotecontent"><br />Seems like the exact opposite of the GBA, where you can plug and unplug cartridges any time you want with no ill effects.<br /></div><br />The GBA SP crashes as well if you plug in an Everdrive GB during normal operation. This comes down to the internal circuit not beeing designed for hot plugging and I would assume any device from that era will crash (maybe even custom retro builds). The Super Gameboy kept running for the most part but you can see a short flicker on the screen if you re-insert the flashcard (probably due to the same reason). The Gamecube thingy can detect if you remove the cardridge and will raise an error with no chance to switch cardridges like you would need in order to use this tool.<br /><br />And I would also like to add that pluggin in a regular GBC power supply might do the job as well.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=7306">Lupus</a> — Mon Nov 16, 2015 9:41 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Dwedit]]></name></author>
<updated>2015-11-15T07:17:17-07:00</updated>
<published>2015-11-15T07:17:17-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=10841&amp;p=159189#p159189</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=10841&amp;p=159189#p159189"/>
<title type="html"><![CDATA[Re: Gameboy SRAM Copier]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=10841&amp;p=159189#p159189"><![CDATA[
Seems like the exact opposite of the GBA, where you can plug and unplug cartridges any time you want with no ill effects.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=53">Dwedit</a> — Sun Nov 15, 2015 7:17 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Drenn]]></name></author>
<updated>2015-11-14T14:12:54-07:00</updated>
<published>2015-11-14T14:12:54-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=10841&amp;p=159123#p159123</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=10841&amp;p=159123#p159123"/>
<title type="html"><![CDATA[Re: Gameboy SRAM Copier]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=10841&amp;p=159123#p159123"><![CDATA[
<div class="quotetitle">Lupus wrote:</div><div class="quotecontent"><br />Frist of all I want to apologize for digging out such an old thread but I think this information might be usefull for other people since this thread was the only one I found using google about this specific topic.<br /><br />This little tool did exactly what I wanted it to do. About the resets. The resets are not caused by the reset line glitching out (I tried putting tape over it). The problem is that some cardridges have parts that require a lot of power to start up (includig capacitors) and thous will drain the 5V line if plugged into the gameboy. During normal startup this isn't an issue since the gameboy cpu is also starting up. But if you plug these cardridges in while the gameboy is already running the voltage drops too low for the cpu to remain stable and the whole thing crashes. After the power goes back to 5V the cpu is restarting (looking like it was reset).<br /><br />I don't think most people want to mess with their hardware but if you want to, here is how you can still use this tool in order to backup your gameboy savegames to a flashcard. Keep in mind that you can break your gameboy, cardridge and any other device included in the process if you don't know what you're doing. So in order to stabilize the power line you need to power the gameboy from an external source (since batteries can't handle the sudden voltage drop). I did a little misstake there by not realising that one of my cables was broken so my first attempt didn't work. I was trying to hook a power supply to the battery tray. This might work, but I don't know. The way I did it was by soldering 2 wires to my flashcard so I could access the 5V and GND line while the flashcard was plugged in. I used one of these more expensive power supplies that let's you adjust the voltage as you desire. Then I proceeded as normal, started the SRAM dumper, removed the flashcard (which at this point was still powered externally), put my old game cartridge into the gameboy, copied the SRAM into the gameboys RAM, removed the game cardridge and carefully put the flashcard back in place and copied the RAM back into the SRAM of my flashcard. This worked first try. If you happen to have a game that crashes your gameboy you might need two power supplies.<br /><br />Just an additional note about removing flashcards. I don't know how each flashcard works but you might even need to keep the flashcard powered (as it did) while it's removed since it contains a little cpu that keeps track of the flashcards state and might not allow you to write to the flashcards SRAM if the flashcard gets reinserted since it assumes no game is running and thous SRAM access is not required.<br /><br />I don't recommend you doing this if you don't feel confident about working with running circuits and soldering. Connecting the wrong things or using the wrong voltage by even a tiny bit will almost certainly kill your flashcard and gameboy.<br /><br /><br />You might as well just buy a cardridge reader but I didn't want to spend money on this for just one game. Thanks for this great tool and I hope this post will help some people in the future.<br /></div><br />I'm glad you found it helpful. Personally I'm a hardware noob and prefer to stay in the safe realm of software. One last observation I don't think I've mentioned in this thread, is that it doesn't seem to work on gameboy advance models. Without any hardware mods, the only way I can use this is to copy save data from my computer to a cartridge, using a gameboy color. Still helpful, but I'd need to make a link cable solution to make the other direction of transfer work.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=6321">Drenn</a> — Sat Nov 14, 2015 2:12 pm</p><hr />
]]></content>
</entry>
</feed>