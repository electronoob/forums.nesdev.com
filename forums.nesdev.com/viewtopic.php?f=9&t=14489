<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<link rel="icon" href="/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />

<title>nesdev.com &bull; View topic - Emulating the MMC1 with a set of 5 (or 3) PAL22V10</title>

<link rel="alternate" type="application/atom+xml" title="Feed - nesdev.com" href="http://forums.nesdev.com/feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - News" href="http://forums.nesdev.com/feed.php?mode=news" /><link rel="alternate" type="application/atom+xml" title="Feed - All forums" href="http://forums.nesdev.com/feed.php?mode=forums" /><link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="http://forums.nesdev.com/feed.php?mode=topics" /><link rel="alternate" type="application/atom+xml" title="Feed - Active Topics" href="http://forums.nesdev.com/feed.php?mode=topics_active" /><link rel="alternate" type="application/atom+xml" title="Feed - Forum - NES Hardware and Flash Equipment" href="http://forums.nesdev.com/feed.php?f=9" /><link rel="alternate" type="application/atom+xml" title="Feed - Topic - Emulating the MMC1 with a set of 5 (or 3) PAL22V10" href="http://forums.nesdev.com/feed.php?f=9&amp;t=14489" />

<link rel="stylesheet" href="./style.php?id=1&amp;lang=en" type="text/css" />

<script type="text/javascript">
// <![CDATA[


function popup(url, width, height, name)
{
	if (!name)
	{
		name = '_popup';
	}

	window.open(url.replace(/&amp;/g, '&'), name, 'height=' + height + ',resizable=yes,scrollbars=yes,width=' + width);
	return false;
}

function jumpto()
{
	var page = prompt('Enter the page number you wish to go to:', '1');
	var per_page = '15';
	var base_url = './viewtopic.php?f=9&amp;t=14489';

	if (page !== null && !isNaN(page) && page == Math.floor(page) && page > 0)
	{
		if (base_url.indexOf('?') == -1)
		{
			document.location.href = base_url + '?start=' + ((page - 1) * per_page);
		}
		else
		{
			document.location.href = base_url.replace(/&amp;/g, '&') + '&start=' + ((page - 1) * per_page);
		}
	}
}

/**
* Find a member
*/
function find_username(url)
{
	popup(url, 760, 570, '_usersearch');
	return false;
}

/**
* Mark/unmark checklist
* id = ID of parent container, name = name prefix, state = state [true/false]
*/
function marklist(id, name, state)
{
	var parent = document.getElementById(id);
	if (!parent)
	{
		eval('parent = document.' + id);
	}

	if (!parent)
	{
		return;
	}

	var rb = parent.getElementsByTagName('input');
	
	for (var r = 0; r < rb.length; r++)
	{
		if (rb[r].name.substr(0, name.length) == name)
		{
			rb[r].checked = state;
		}
	}
}



	/**
	* Play quicktime file by determining it's width/height
	* from the displayed rectangle area
	*
	* Only defined if there is a file block present.
	*/
	function play_qt_file(obj)
	{
		var rectangle = obj.GetRectangle();

		if (rectangle)
		{
			rectangle = rectangle.split(',')
			var x1 = parseInt(rectangle[0]);
			var x2 = parseInt(rectangle[2]);
			var y1 = parseInt(rectangle[1]);
			var y2 = parseInt(rectangle[3]);

			var width = (x1 < 0) ? (x1 * -1) + x2 : x2 - x1;
			var height = (y1 < 0) ? (y1 * -1) + y2 : y2 - y1;
		}
		else
		{
			var width = 200;
			var height = 0;
		}

		obj.width = width;
		obj.height = height + 16;

		obj.SetControllerVisible(true);

		obj.Play();
	}


// ]]>
</script>
</head>
<body class="ltr">

<a name="top"></a>

<div id="wrapheader">

	<div id="logodesc">
	</div>

	<div id="menubar">

		<table width="100%" cellspacing="0">
		<tr>
			<td rowspan="2"><a href="./index.php"><img src="./styles/subsilver2/imageset/site_logo.gif" alt="" title="" /></a></td>
			<td width="100%" align="center"><h1>nesdev.com</h1><span class="gen">NES Development and Strangulation Records message boards</span></td>
		</tr>
		<tr>
			<td align="center">
				<!--<div style="float: right;">
					<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
					<input type="hidden" name="cmd" value="_s-xclick">
					<input type="hidden" name="hosted_button_id" value="X2HM4WNR5YT8S">
					<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
					<img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
					</form>
				</div>-->
				<a href="./faq.php"><img src="./styles/prosilver/theme/images/icon_mini_faq.gif" width="12" height="13" alt="*" /> FAQ</a>
				&nbsp; &nbsp;<a href="./search.php"><img src="./styles/prosilver/theme/images/icon_mini_search.gif" width="12" height="13" alt="*" /> Search</a>
				<br />	
				 &nbsp;<a href="./ucp.php?mode=minion"><img src="./styles/prosilver/theme/images/icon_mini_register.gif" width="12" height="13" alt="*" /> Register</a>
					&nbsp; &nbsp;<a href="./ucp.php?mode=login"><img src="./styles/prosilver/theme/images/icon_mini_login.gif" width="12" height="13" alt="*" /> Login</a>&nbsp;
			</td>
		</tr>
		</table>
	</div>

	<div id="datebar">
		<table width="100%" cellspacing="0">
		<tr>
			<td class="gensmall"></td>
			<td class="gensmall" align="right">It is currently Fri Aug 17, 2018 2:26 am<br /></td>
		</tr>
		</table>
	</div>

</div>

<div id="wrapcentre">

	
	<p class="searchbar">
		<span style="float: left;"><a href="./search.php?search_id=unanswered">View unanswered posts</a> | <a href="./search.php?search_id=active_topics">View active topics</a></span>
		
	</p>
	

	<br style="clear: both;" />

	<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=24">NES / Famicom</a> &#187; <a href="./viewforum.php?f=9">NES Hardware and Flash Equipment</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>

	<br />
	

					<center>
					<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- NesDev Forums -->
					<ins class="adsbygoogle"
						 style="display:block"
						 data-ad-client="ca-pub-7801010229099644"
						 data-ad-slot="7979066809"
						 data-ad-format="auto"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>
					</center>
	<br />


<div id="pageheader">
	<h2><a class="titles" href="./viewtopic.php?f=9&amp;t=14489">Emulating the MMC1 with a set of 5 (or 3) PAL22V10</a></h2>


	<p class="moderators">Moderators: <a href="./memberlist.php?mode=viewprofile&amp;u=3466">B00daW</a>, <a href="./memberlist.php?mode=group&amp;g=320">Moderators</a></p>

</div>

<br clear="all" /><br />

<div id="pagecontent">

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=9"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=9&amp;t=14489"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>1</strong> of <strong>2</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 29 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"><b><a href="#" onclick="jumpto(); return false;" title="Click to jump to page…">Go to page</a> <strong>1</strong><span class="page-sep">, </span><a href="./viewtopic.php?f=9&amp;t=14489&amp;start=15">2</a> &nbsp;<a href="./viewtopic.php?f=9&amp;t=14489&amp;start=15">Next</a></b></td>
		
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat">
			<table width="100%" cellspacing="0">
			<tr>
				<td class="nav" nowrap="nowrap">&nbsp;
				<a href="./viewtopic.php?f=9&amp;t=14489&amp;view=print" title="Print view">Print view</a>
				</td>
				<td class="nav" align="right" nowrap="nowrap"><a href="./viewtopic.php?f=9&amp;t=14489&amp;view=previous">Previous topic</a> | <a href="./viewtopic.php?f=9&amp;t=14489&amp;view=next">Next topic</a>&nbsp;</td>
			</tr>
			</table>
		</td>
	</tr>

	</table>


	<table class="tablebg" width="100%" cellspacing="1">
	
		<tr>
			<th>Author</th>
			<th>Message</th>
		</tr>
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p174755"></a>
				<b class="postauthor">Bregalad</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p174755">Emulating the MMC1 with a set of 5 (or 3) PAL22V10</a></div><div style="float: right;"><a href="./viewtopic.php?p=174755#p174755"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Mon Jul 04, 2016 12:12 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=38_1485425698.png" width="100" height="94" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Nov 12, 2004 2:49 pm<br /><b>Posts:</b> 7470<br /><b>Location:</b> Chexbres, VD, Switzerland
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">So, I know CPLD are available, but it's complicated to use, requires the usagae of advanced software whose maitaining is in itself a problem, and there is no widely accepted chip that has guaranteed posterity (actually no electronic chip ever does, but heh, some more than others).<br /><br />The PAL22V10 on the other hand is simple and extremely versatile. It also is 5V TTL compatible, however it comes with limitations, there can not be more than 10 flip-flops per chip. There cannot be more than 22 inputs and 10 outputs, and if a flip-flop is used in any output then every output must be a flip-flop, i.e. a whole chip is either combinational or synchronous as a whole. (*) Back when I wrote <a href="http://forums.nesdev.com/viewtopic.php?f=9&amp;t=2935&amp;hilit=PAL22V10" class="postlink">this topic</a>, I knew squat about PALs, but now that I actually know them (at least better) I think it is possible to emulate the MMC1 perfectly with 4 PAL22V10 chips, and it does not require any other chips (exept maybe a SRAM backup specialized circuit).<br /><br />The MMC1 needs 4 registers of 5-bits, so this takes up 2 chips (sequential). It also need output logic (combinational) and the 5-bit shift register (sequential). So a full MMC1 will take up 4 chips, if I am not mistaken. It might be possible to use other chips instead for parts of this, but since you have to buy PAL22V10s anyway, it's simpler to use them exclusively and not use any chip of the 74 series for instance.<br /><br />In the case of a CHR-RAM board such as a SGROM or SNROM clone, the 2 middle MMC1 registers becomes useless if CHR-RAM bankswitching is not used (which is only the case in Romancia), and as such a chip can be removed, the MMC1 can be emulated with only 3 PAL 22V10 chips.<br /><br />If it is somehow acceptable that writes to the shift register actually writes to the register directly, then the input shift register chip can be ruled out. This means a MMC1 in 3 chips for CHR-ROM, or 2 chips for CHR-RAM.<br /><br />So it is probably possible to get a MMC1 with a relatively low number of relatively highly available chips, after all. That gus in the thread I linked to who says it needed &quot;dozen&quot; of PAL22V10 chips was definitely wrong.<br /><br />EDIT: So there is it finally, the shema/diagram of what I mean. It takes one more chip than expected, so 5 PAL22V10s for a full MMC1! I am 90% sure this is technically feasible, however I might have messed up.<br /><br />The function of the chips are as following:<br /><ul><li>IC1 = Shift register. PAL is in sequential mode</li><li>IC2 = Register 0 and 3. PAL is in sequential mode</li><li>IC3 = Register 1 and 2 . PAL is in sequential mode (note, they are in this order because it's more practical for the schematic, but they could be made to be 0, 1, 2, 3 easily if required).</li><li>IC4 = Output logic for control signals and PRG-ROM higher adresses. PAL is in combinational mode.</li><li>IC5 = Output logic for higher CHR-ROM adresses (this is essentially a multiplexer that implement 4k bankswitching) PAL is in combinational mode.</li></ul>When CHR-banking is not used, IC3 and IC5 can be removed completely, and we gat a 3-chip MMC1. If CHR-ROM is used, but only 8k bankswitching is needed, then IC5 can be removed, and we get a 4-chip MMC1. If less PRG and CHR ROM are on board, it might become possible to combine IC4 and IC5. If the shift register can be bypassed (i.e. grabage values in the registers are tolerable during the 5-write sequence), then IC1 can be removed.<br /><br />A major issue is that the state at reset is not defined, therefore any bank can be mapped to the RESET/NMI/IRQ vector.<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp;PPU A10 -----------------------------------------------------------------------------------------------+<br />&nbsp;PPU A11 ----------------------------------------------------------------------------------------------+|<br />&nbsp;PPU A12 ---------------------------------------------------------------------------------------------+||<br />&nbsp; &nbsp; &nbsp; &nbsp; +----------------------------------------------------+&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |||<br />&nbsp; &nbsp; &nbsp; &nbsp; |&nbsp; &nbsp; IC1 PAL22V10&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |&nbsp; &nbsp; &nbsp; &nbsp; IC2 PAL22V10&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |||&nbsp; &nbsp; &nbsp;IC4 PAL22V10<br />&nbsp; &nbsp; &nbsp; &nbsp; |&nbsp; &nbsp;.`````\/`````.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|&nbsp; &nbsp; &nbsp; &nbsp;.`````\/`````.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|||&nbsp; &nbsp; .`````\/`````.<br />&nbsp; M2 ---+---|&gt; CLK/IN1&nbsp; &nbsp;|&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;+-------|&gt; CLK/IN1&nbsp; &nbsp;|&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;||+----| IN1&nbsp; &nbsp; &nbsp; &nbsp; |<br />&nbsp; (unused) -| IN2&nbsp; &nbsp; IO1 |---&gt; Parallel out D0 --------+-----|-------| IN2&nbsp; &nbsp; IO1 |--&gt;(reg3 D0) ---.&nbsp; |+-----| IN2&nbsp; &nbsp; IO1 |---&gt; CIRAM A10<br />&nbsp; /ROMSEL&nbsp; -| IN3&nbsp; &nbsp; IO2 |---&gt; Parallel out D1 --------|+----|-------| IN3&nbsp; &nbsp; IO2 |--&gt;(reg3 D1) ---.`-|------| IN2&nbsp; &nbsp; IO2 |---&gt; PRG /CE<br />&nbsp; CPU R/W&nbsp; -| IN4&nbsp; &nbsp; IO3 |---&gt; Parallel out D2 --------||+---|-------| IN4&nbsp; &nbsp; IO3 |--&gt;(reg3 D2) ---.`-|------| IN2&nbsp; &nbsp; IO3 |---&gt; WRAM CE<br />&nbsp; CPU D0&nbsp; &nbsp;-| IN5&nbsp; &nbsp; IO4 |---&gt; Parallel out D3 --------|||+--|-------| IN5&nbsp; &nbsp; IO4 |--&gt;(reg3 D3) ---.`-|------| IN2&nbsp; &nbsp; IO4 |---&gt; PRG A14<br />&nbsp; CPU D7&nbsp; &nbsp;-| IN6&nbsp; &nbsp; IO5 |---&gt; Parallel out D4 --------||||+-|-------| IN6&nbsp; &nbsp; IO5 |--&gt;(reg3 D4) ---.`-|------| IN2&nbsp; &nbsp; IO5 |---&gt; PRG A15<br />&nbsp; (unused) x| IN7&nbsp; &nbsp; IO6 |---x Ctr D0 (internal only)&nbsp; ||||| |&nbsp; &nbsp; +--| IN7&nbsp; &nbsp; IO6 |--&gt;(reg0 D0) ---.`-|------| IN2&nbsp; &nbsp; IO6 |---&gt; PRG A16<br />&nbsp; (unused) x| IN8&nbsp; &nbsp; IO7 |---x Ctr D1 (internal only)&nbsp; ||||| |&nbsp; +-|--| IN8&nbsp; &nbsp; IO7 |--&gt;(reg0 D1) ---.`-|------| IN2&nbsp; &nbsp; IO7 |---&gt; PRG A17<br />&nbsp; (unused) x| IN9&nbsp; &nbsp; IO8 |---x Ctr D2 (internal only)&nbsp; ||||| |&nbsp; |+|--| IN9&nbsp; &nbsp; IO8 |--&gt;(reg0 D2) ---.`-|------| IN2&nbsp; &nbsp; IO8 |&lt;--- /ROMSEL<br />&nbsp; (unused) x| IN10&nbsp; &nbsp;IO9 |---- Parallel load enable ---|||||-|--|||--| IN10&nbsp; &nbsp;IO9 |--&gt;(reg0 D3) ---.`-|------| IN2&nbsp; &nbsp; IO9 |&lt;--- CPU A13<br />&nbsp; (unused) x| IN11&nbsp; IO10 |---x (unused)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ||||| |&nbsp; ||| x| IN11&nbsp; IO10 |--&gt;(reg0 D4) --+ `-|------| IN2&nbsp; &nbsp;IO10 |&lt;--- CPU A14<br />&nbsp; (unused) x| IN12&nbsp; &nbsp; &nbsp; &nbsp;|&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;||||| |&nbsp; ||| x| IN12&nbsp; &nbsp; &nbsp; &nbsp;|&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|CPU|R/W --| IN2&nbsp; &nbsp; &nbsp; &nbsp; |<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; `............`&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;||||| |&nbsp; |||&nbsp; `............`&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|&nbsp; &nbsp;|&nbsp; &nbsp; &nbsp; `............`<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;||||| |&nbsp; |||&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|&nbsp; &nbsp;|&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;||||| |&nbsp; |||&nbsp; &nbsp;IC3 PAL22V10&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |&nbsp; &nbsp;|&nbsp; &nbsp; &nbsp; &nbsp;IC5 PAL22V10<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;||||| |&nbsp; |||&nbsp; .`````\/`````.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|&nbsp; &nbsp;|&nbsp; &nbsp; &nbsp; .`````\/`````.<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;||||| +--|||--|&gt; CLK/IN1&nbsp; &nbsp;|&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|&nbsp; &nbsp;+------| IN1&nbsp; &nbsp; &nbsp; &nbsp; |<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;+||||----|||--| IN2&nbsp; &nbsp; IO1 |--&gt;(reg1 D0) --|----------| IN2&nbsp; &nbsp; IO1 |--&gt; CHR A12<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; +|||----|||--| IN3&nbsp; &nbsp; IO2 |--&gt;(reg1 D1) --|----------| IN3&nbsp; &nbsp; IO2 |--&gt; CHR A13<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;+||----|||--| IN4&nbsp; &nbsp; IO3 |--&gt;(reg1 D2) --|----------| IN4&nbsp; &nbsp; IO3 |--&gt; CHR A14<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; +|----|||--| IN5&nbsp; &nbsp; IO4 |--&gt;(reg1 D3) --|----------| IN5&nbsp; &nbsp; IO4 |--&gt; CHR A15<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;+----|||--| IN6&nbsp; &nbsp; IO5 |--&gt;(reg1 D4) --|----------| IN6&nbsp; &nbsp; IO5 |--&gt; CHR A16<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ||+--| IN7&nbsp; &nbsp; IO6 |--&gt;(reg2 D0) --|----------| IN7&nbsp; &nbsp; IO6 |--x (unused)<br />&nbsp; &nbsp;CPU A14 -----------------------------------------------------|+---| IN8&nbsp; &nbsp; IO7 |--&gt;(reg2 D1) --|----------| IN8&nbsp; &nbsp; IO7 |--x (unused)<br />&nbsp; &nbsp;CPU A13 -----------------------------------------------------+----| IN9&nbsp; &nbsp; IO8 |--&gt;(reg2 D2) --|----------| IN9&nbsp; &nbsp; IO8 |--x (unused)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(unused) x| IN10&nbsp; &nbsp;IO9 |--&gt;(reg2 D3) --|----------| IN10&nbsp; &nbsp;IO9 |--x (unused)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(unused) x| IN11&nbsp; IO10 |--&gt;(reg2 D4) --|----------| IN11&nbsp; IO10 |--x (unused)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(unused) x| IN12&nbsp; &nbsp; &nbsp; &nbsp;|&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;+----------| IN12&nbsp; &nbsp; &nbsp; &nbsp;|<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;`............`&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; `............`<br /></div></div>

					
							<br /><br />
							<span class="gensmall">Last edited by <a href="./memberlist.php?mode=viewprofile&amp;u=38">Bregalad</a> on Fri Mar 24, 2017 7:25 am, edited 1 time in total.</span>
						<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=38"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p174825"></a>
				<b class="postauthor">FARID</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p174825">Re: Emulating the MMC1 with a set of 5 (or 3) PAL22V10</a></div><div style="float: right;"><a href="./viewtopic.php?p=174825#p174825"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Jul 06, 2016 4:32 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=4330.png" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Wed Apr 07, 2010 1:14 am<br /><b>Posts:</b> 484<br /><b>Location:</b> Iran
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Have you seen this one :</div>

					
						<br clear="all" /><br />

						<table class="tablebg" width="100%" cellspacing="1">
						<tr>
							<td class="row3"><b class="genmed">Attachments: </b></td>
						</tr>
						
							<tr>
								<td class="row2">
			<span class="genmed">
				<img src="./styles/subsilver2/imageset/icon_topic_attach.gif" width="14" height="18" alt="" title="" /> 
				<a href="./download/file.php?id=6172">Back_Scan.zip</a> [2.33 MiB]
			</span><br />
			<span class="gensmall">Downloaded 99 times</span>
		

		<br />
	</td>
							</tr>
						
							<tr>
								<td class="row1">
			<a href="./download/file.php?id=6171&amp;mode=view"><img src="./download/file.php?id=6171&amp;t=1" alt="Front_Scan.jpg" /></a><br />
			<span class="gensmall">Front_Scan.jpg [ 2.22 MiB | Viewed 4038 times ]</span>
		

		<br />
	</td>
							</tr>
						
							<tr>
								<td class="row2">
			<a href="./download/file.php?id=6170&amp;mode=view"><img src="./download/file.php?id=6170&amp;t=1" alt="Front.JPG" /></a><br />
			<span class="gensmall">Front.JPG [ 1.83 MiB | Viewed 4039 times ]</span>
		

		<br />
	</td>
							</tr>
						
						</table>
					

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=4330"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p174839"></a>
				<b class="postauthor">lidnariq</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p174839">Re: Emulating the MMC1 with a set of 5 (or 3) PAL22V10</a></div><div style="float: right;"><a href="./viewtopic.php?p=174839#p174839"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Jul 06, 2016 1:15 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Apr 13, 2008 11:12 am<br /><b>Posts:</b> 7391<br /><b>Location:</b> Seattle
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Farid, that PCB is only approximately 67% of an MMC1. (Sadly.) It only supports H/V mirroring, it only supports 16+16F PRG banking (and as a result it ignores writes with D7 set), it doesn't support 8K CHR banking, and it doesn't deserialize the register writes.<br /><br />There's a weird trace that shouldn't be there, also:<div class="attachtitle">Attachment:</div><div class="attachcontent">
			<a href="./download/file.php?id=6179&amp;mode=view"><img src="./download/file.php?id=6179&amp;t=1" alt="tj05-error.jpg" /></a><br />
			<span class="gensmall">tj05-error.jpg [ 28.6 KiB | Viewed 3996 times ]</span>
		

		<br />
	</div><br /><br />CHR banking will do something wrong unless <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">$A000 &amp; 8</tt> is the same as <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">$C000 &amp; 4</tt>.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3512"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p174842"></a>
				<b class="postauthor">Bregalad</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p174842">Re: Emulating the MMC1 with a set of 5 (or 3) PAL22V10</a></div><div style="float: right;"><a href="./viewtopic.php?p=174842#p174842"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Jul 06, 2016 1:42 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=38_1485425698.png" width="100" height="94" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Nov 12, 2004 2:49 pm<br /><b>Posts:</b> 7470<br /><b>Location:</b> Chexbres, VD, Switzerland
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Not mentionning it is a lot more chips (9 instead of 5).<br /><br />Apparently PAL22V10 are limited in the sense that funtions can only be made by selecting I think 4 or 5 of the 22 available inputs, I am not sure whether a MMC1 implementation like the one I showed respect this limitation or not. The most complex part would be do decode the &quot;Parallel write&quot; signal, it needs to be enabled when the counter is 0, and when the CPU write to a range included in the ROMSEL signal. At worst, the unused pin can be used to create a 2-stage logic here, but that would delay the register writes by 1 cycle since the PAL is in synchronous clocked mode.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=38"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p174843"></a>
				<b class="postauthor">lidnariq</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p174843">Re: Emulating the MMC1 with a set of 5 (or 3) PAL22V10</a></div><div style="float: right;"><a href="./viewtopic.php?p=174843#p174843"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Jul 06, 2016 2:01 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Apr 13, 2008 11:12 am<br /><b>Posts:</b> 7391<br /><b>Location:</b> Seattle
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">Not mentionning it is a lot more chips (9 instead of 5).<br /></div>Well, 74xxxs are still cheaper than PAL22V10s. For the portions of the logic that can trivially be mapped to 74xxx parts it's almost certainly a better idea.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Apparently PAL22V10 are limited in the sense that functions can only be made by selecting I think 4 or 5 of the 22 available inputs, I am not sure whether a MMC1 implementation like the one I showed respect this limitation or not.<br /></div>No? It's a giant AND-OR array; each output is OR(intermediate products), and each intermediate product is AND(any subset of all 22 inputs and inversion of same 22 inputs). Each output has a varying number of terms that can be ORed together, ranging from 8 (for pins 23 and 14) to 16 (for pin 19)<br /><br />... Also, I'm pretty certain that each of the ten outputs can be independently switched between &quot;latching&quot; and &quot;combinatorial&quot;; otherwise they wouldn't be a suitable replacement for the 16R4 and similar parts.<br /><div class="quotetitle">Lattice PALCE22V10 datasheet wrote:</div><div class="quotecontent">Any [output] macrocell can be configured as combinatorial by selecting the multiplexer path that bypasses the flip-flop (S1 = 1). In the combinatorial configuration, the feedback is from the pin.</div></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3512"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p187534"></a>
				<b class="postauthor">krzysiobal</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p187534">Re: Emulating the MMC1 with a set of 5 (or 3) PAL22V10</a></div><div style="float: right;"><a href="./viewtopic.php?p=187534#p187534"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Mon Jan 23, 2017 8:52 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Jun 12, 2011 12:06 pm<br /><b>Posts:</b> 355<br /><b>Location:</b> Poland
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I rev-ed schematics. Can you please dump the PAL? (PIN14 is input!)<br /><br /><a href="http://obrazki.elektroda.pl/3683166600_1485186704.png" class="postlink"><img src="http://obrazki.elektroda.pl/3683166600_1485186704_thumb.jpg" alt="Image" /></a></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=4898"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p187555"></a>
				<b class="postauthor">lidnariq</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p187555">Re: Emulating the MMC1 with a set of 5 (or 3) PAL22V10</a></div><div style="float: right;"><a href="./viewtopic.php?p=187555#p187555"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Mon Jan 23, 2017 5:44 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Apr 13, 2008 11:12 am<br /><b>Posts:</b> 7391<br /><b>Location:</b> Seattle
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">The PAL clearly is just serving as a 5x 1-of-2 multiplexer.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3512"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p187917"></a>
				<b class="postauthor">krzysiobal</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p187917">Re: Emulating the MMC1 with a set of 5 (or 3) PAL22V10</a></div><div style="float: right;"><a href="./viewtopic.php?p=187917#p187917"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sat Jan 28, 2017 10:10 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Jun 12, 2011 12:06 pm<br /><b>Posts:</b> 355<br /><b>Location:</b> Poland
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">U mean:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">CHR-A12 &lt;= REG1.D0 WHEN PPU-A12=0 else REG2.D0;<br />CHR-A13 &lt;= REG1.D1 WHEN PPU-A12=0 else REG2.D1;<br />CHR-A14 &lt;= REG1.D2 WHEN PPU-A12=0 else REG2.D2;<br />CHR-A15 &lt;= REG1.D3 WHEN PPU-A12=0 else REG2.D3;<br />CHR-A16 &lt;= REG1.D4 WHEN PPU-A12=0 else REG2.D4;<br /></div> ?</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=4898"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p187921"></a>
				<b class="postauthor">lidnariq</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p187921">Re: Emulating the MMC1 with a set of 5 (or 3) PAL22V10</a></div><div style="float: right;"><a href="./viewtopic.php?p=187921#p187921"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sat Jan 28, 2017 11:00 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Apr 13, 2008 11:12 am<br /><b>Posts:</b> 7391<br /><b>Location:</b> Seattle
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Exactly.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3512"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p187945"></a>
				<b class="postauthor">Fisher</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p187945">Re: Emulating the MMC1 with a set of 5 (or 3) PAL22V10</a></div><div style="float: right;"><a href="./viewtopic.php?p=187945#p187945"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sat Jan 28, 2017 6:26 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=7094_1469795960.png" width="64" height="64" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sat Jul 04, 2015 9:58 am<br /><b>Posts:</b> 793<br /><b>Location:</b> -29.794229 -55.795374
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Could <a href="https://drive.google.com/file/d/0B0OtMD7uFlqgTlRtR0M5OE92LWc/view" class="postlink">the board</a>, that gave me problems in <a href="https://forums.nesdev.com/viewtopic.php?f=28&amp;t=13698" class="postlink">that thread,</a> have the mapper implemented based in the logic of this  cartridge?</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=7094"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p187948"></a>
				<b class="postauthor">zxbdragon</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p187948">Re: Emulating the MMC1 with a set of 5 (or 3) PAL22V10</a></div><div style="float: right;"><a href="./viewtopic.php?p=187948#p187948"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sat Jan 28, 2017 8:16 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Dec 12, 2011 8:15 pm<br /><b>Posts:</b> 427
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">this rom not standard mmc1.<br />I dumped.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=5124"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p187960"></a>
				<b class="postauthor">krzysiobal</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p187960">Re: Emulating the MMC1 with a set of 5 (or 3) PAL22V10</a></div><div style="float: right;"><a href="./viewtopic.php?p=187960#p187960"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sun Jan 29, 2017 3:17 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Jun 12, 2011 12:06 pm<br /><b>Posts:</b> 355<br /><b>Location:</b> Poland
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">Fisher wrote:</div><div class="quotecontent">Could <a href="https://drive.google.com/file/d/0B0OtMD7uFlqgTlRtR0M5OE92LWc/view" class="postlink">the board</a>, that gave me problems in <a href="https://forums.nesdev.com/viewtopic.php?f=28&amp;t=13698" class="postlink">that thread,</a> have the mapper implemented based in the logic of this  cartridge?</div><br />I rev-ed this PCB - this board is 100% compatible with MMC1, the external OR gate helps switching between two ROMs. Their pinout are quite different (A16 instead of !OE)<br /><a href="http://obrazki.elektroda.pl/8481548200_1485685016.png" class="postlink"><img src="http://obrazki.elektroda.pl/8481548200_1485685016_thumb.jpg" alt="Image" /></a></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=4898"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p189340"></a>
				<b class="postauthor">Fisher</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p189340">Re: Emulating the MMC1 with a set of 5 (or 3) PAL22V10</a></div><div style="float: right;"><a href="./viewtopic.php?p=189340#p189340"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sat Feb 18, 2017 8:01 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=7094_1469795960.png" width="64" height="64" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sat Jul 04, 2015 9:58 am<br /><b>Posts:</b> 793<br /><b>Location:</b> -29.794229 -55.795374
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Thanks for the schematics! <br />That's great!! <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /> <br /><div class="quotetitle">krzysiobal wrote:</div><div class="quotecontent">this board is 100% compatible with MMC1</div><br />I'm sorry to say I think it doesn't. <img src="./images/smilies/icon_sad.gif" alt=":-(" title="Sad" /><br />Here is a quick summary of my &quot;fight&quot; with this board:<br /><br />After modifying it to add a PRG-RAM, these were the results I got with The legend of Zelda:<br /><a href="https://youtu.be/qv0MgqCEbgg" class="postlink">The intro</a>, <a href="https://youtu.be/BuJ_kjjr-pw" class="postlink">name entry</a> and after many tries I finally could get into <a href="https://youtu.be/WJLmb4W9Bto" class="postlink">gameplay</a>.<br /><br />I got similar results with <a href="https://youtu.be/WvDrO7akS1s" class="postlink">Metroid</a>.<br />I got <a href="https://youtu.be/cotiQwsVMRA?t=1m32s" class="postlink">this</a> and <a href="https://youtu.be/cotiQwsVMRA?t=2m55s" class="postlink">this</a> after I added <a href="https://forums.nesdev.com/download/file.php?id=5191" class="postlink">this circuit</a> to try to externally decode the PRG RAM and <a href="https://forums.nesdev.com/download/file.php?id=5192" class="postlink">this circuit</a> to try to protect the PRG RAM (or should I say W-RAM?).<br />Fortunatelly, Lidnariq suggested <a href="https://forums.nesdev.com/download/file.php?id=5225" class="postlink">this circuit</a> to fix that mirroring bug, but I just couldn't find the parts to build one and end up getting a Famicom original game to do my translated repro.<br /><br />However, the same board worked just fine with Chip'n Dale (the first one) and with Bionic Commando (Should I try Strider on it? Megaman 2 just got the title screen corrupted, but played fine).<br />I have a similar board with <a href="http://nintendoagemedia.com/elements_nocache/6EE25CA2-D43F-C9D2-1F220EEB7971C491.jpg" class="postlink">Stealth ATF</a> on it, and saw a <a href="http://nintendoagemedia.com/elements_nocache/66CE8FD2-C176-7C01-1F527E03A4E3E743.jpg" class="postlink">Double Dragon</a> and <a href="http://nintendoagemedia.com/elements_nocache/66D8F717-F381-BCB3-2463F5511847B58B.jpg" class="postlink">Ninja Gaiden</a> cartridges from the same manufacturer that may (or may not) be using this same board (maybe it's the same from Stealth ATF, that has only one PRG-ROM).<br />If someone is curious, the cartridge originally looked like <a href="http://nintendoagemedia.com/elements_nocache/66D19513-9695-30C8-1F5754A0631E0D12.jpg" class="postlink">this</a>.<br /><br />Maybe the pirate designers were trying to cut a little costs by not including parts of the mapper that were not used on the games they were releasing?<br />Or they may have simply misunderstood the inner workings of the mapper...<br />This also leads me to think that some MMC1 games can be somewhat easily hacked to UxROM or even CNROM.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=7094"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p191790"></a>
				<b class="postauthor">Bregalad</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p191790">Re: Emulating the MMC1 with a set of 5 (or 3) PAL22V10</a></div><div style="float: right;"><a href="./viewtopic.php?p=191790#p191790"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Mar 24, 2017 7:20 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=38_1485425698.png" width="100" height="94" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Nov 12, 2004 2:49 pm<br /><b>Posts:</b> 7470<br /><b>Location:</b> Chexbres, VD, Switzerland
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I think it should be possible to simulate a MMC1 with maybe only 2 or 3 of Atmel ATF750C chips. Those seems to be in-between CPLDs and PALs; Unlike most CPLDs they are retro-compatible with the 22V10 and uses 5V logic, but they allow for up to 60 &quot;hidden pins&quot;. There's still a limit of maximum 10 actual outputs per chip. MMC1 needs 12 output pins and 10 input pins, so in the best case 2 ATF750C chips will be needed. That still sounds like a pretty good deal. Typically if possible I'd do the 1st line of my schematic using an 750C and the second line using a second, so that boards using CHR-RAM could leave out the second chip entierely and have an almost-fully functionnal MMC1 with a single chip.<br /><br />Atmal also produces ATF2500C chips wich seems more powerful than 750C, maybe one of those can simulate a MMC1 alone ? The main advantage is that they don't require the level shifters nor surface-mounted packages that any other CPLD in the world is going to need. The only disadvantage is that were 100% dependant on Atmel for manufacturing those parts and they could be discontinuited any day Atmel feels like it. But that's also the case of all other CPLDs, only the 22V10 seems like a really generic programmable logic that is interchangeable between manufacturers.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=38"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p191795"></a>
				<b class="postauthor" style="color: #FF3300">tepples</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p191795">Re: Emulating the MMC1 with a set of 5 (or 3) PAL22V10</a></div><div style="float: right;"><a href="./viewtopic.php?p=191795#p191795"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Mar 24, 2017 8:26 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Sep 19, 2004 11:12 pm<br /><b>Posts:</b> 20409<br /><b>Location:</b> NE Indiana, USA (NTSC)
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">I think it should be possible to simulate a MMC1 with maybe only 2 or 3 of Atmel ATF750C chips. Those seems to be in-between CPLDs and PALs; Unlike most CPLDs they are retro-compatible with the 22V10 and uses 5V logic, but they allow for up to 60 &quot;hidden pins&quot;.</div><br />These &quot;hidden pins&quot; are like CPLD macrocells, which hold a bit of state or control a muxed output, correct? If so, it's a 10-output CPLD.<br /><br />I checked your count of 12 outputs against <a href="https://wiki.nesdev.com/w/index.php/MMC1_pinout" class="postlink">the pinout</a>. Several <a href="https://wiki.nesdev.com/w/index.php/SxROM" class="postlink">MMC1 configurations</a> would fit in 10 outputs:<br /><ul><li>SGROM: 6 (PRG A17-14 and /CE, VRAM A10)</li><li>SLROM: 11 (SGROM + CHR A16-12); would fit with 128K PRG ROM</li><li>SKROM: 12 (SLROM + WRAM +CE)</li><li>SNROM/SUROM: 8 (SGROM + WRAM +CE, WRAM /CE or PRG A18)</li><li>SOROM/SXROM: 10 (SUROM + WRAM A14-13)</li></ul><br />From the datasheet:<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Low-power Edge-sensing 'L' Option with 1 mA Standby Current</div><br />How would this interact with battery save?<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">All input and I/O pins on the ATF750C(L) have programmable “pin-keeper” circuits. If activated, when any pin is driven high or low and then subsequently left floating, it will stay at that previous high or low level.</div><br />The <a href="http://forums.nesdev.com/viewtopic.php?f=2&amp;t=12549" class="postlink">wheels on the open bus</a> go round and round...<br /><br /><br />EDIT: SXROM address line identification has been corrected</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=9"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table width="100%" cellspacing="1" class="tablebg">
	<tr align="center">
		<td class="cat"><form name="viewtopic" method="post" action="./viewtopic.php?f=9&amp;t=14489"><span class="gensmall">Display posts from previous:</span> <select name="st" id="st"><option value="0" selected="selected">All posts</option><option value="1">1 day</option><option value="7">7 days</option><option value="14">2 weeks</option><option value="30">1 month</option><option value="90">3 months</option><option value="180">6 months</option><option value="365">1 year</option></select>&nbsp;<span class="gensmall">Sort by</span> <select name="sk" id="sk"><option value="a">Author</option><option value="t" selected="selected">Post time</option><option value="s">Subject</option></select> <select name="sd" id="sd"><option value="a" selected="selected">Ascending</option><option value="d">Descending</option></select>&nbsp;<input class="btnlite" type="submit" value="Go" name="sort" /></form></td>
	</tr>
	</table>
	

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=9"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=9&amp;t=14489"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>1</strong> of <strong>2</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 29 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"><b><a href="#" onclick="jumpto(); return false;" title="Click to jump to page…">Go to page</a> <strong>1</strong><span class="page-sep">, </span><a href="./viewtopic.php?f=9&amp;t=14489&amp;start=15">2</a> &nbsp;<a href="./viewtopic.php?f=9&amp;t=14489&amp;start=15">Next</a></b></td>
		
	</tr>
	</table>

</div>

<div id="pagefooter"></div>

<br clear="all" />
<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=24">NES / Famicom</a> &#187; <a href="./viewforum.php?f=9">NES Hardware and Flash Equipment</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>
	<br clear="all" />

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat"><h4>Who is online</h4></td>
	</tr>
	<tr>
		<td class="row1"><p class="gensmall">Users browsing this forum: <span style="color: #9E8DA7;" class="username-coloured">Google Feedfetcher</span> and 9 guests</p></td>
	</tr>
	</table>


<br clear="all" />

<table width="100%" cellspacing="1">
<tr>
	<td width="40%" valign="top" nowrap="nowrap" align="left"></td>
	<td align="right" valign="top" nowrap="nowrap"><span class="gensmall">You <strong>cannot</strong> post new topics in this forum<br />You <strong>cannot</strong> reply to topics in this forum<br />You <strong>cannot</strong> edit your posts in this forum<br />You <strong>cannot</strong> delete your posts in this forum<br />You <strong>cannot</strong> post attachments in this forum<br /></span></td>
</tr>
</table>

<br clear="all" />

<table width="100%" cellspacing="0">
<tr>
	<td><form method="get" name="search" action="./search.php"><span class="gensmall">Search for:</span> <input class="post" type="text" name="keywords" size="20" /> <input class="btnlite" type="submit" value="Go" /><input type="hidden" name="t" value="14489" />
<input type="hidden" name="sf" value="msgonly" />
</form></td>
	<td align="right">
	<form method="post" name="jumpbox" action="./viewforum.php" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	<table cellspacing="0" cellpadding="0" border="0">
	<tr>
		<td nowrap="nowrap"><span class="gensmall">Jump to:</span>&nbsp;<select name="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">

		
			<option value="-1">Select a forum</option>
		<option value="-1">------------------</option>
			<option value="24">NES / Famicom</option>
		
			<option value="2">&nbsp; &nbsp;NESdev</option>
		
			<option value="3">&nbsp; &nbsp;NESemdev</option>
		
			<option value="21">&nbsp; &nbsp;NES Graphics</option>
		
			<option value="6">&nbsp; &nbsp;NES Music</option>
		
			<option value="22">&nbsp; &nbsp;Homebrew Projects</option>
		
			<option value="34">&nbsp; &nbsp;&nbsp; &nbsp;2018 NESdev Competition</option>
		
			<option value="33">&nbsp; &nbsp;&nbsp; &nbsp;2017 NESdev Competition</option>
		
			<option value="32">&nbsp; &nbsp;&nbsp; &nbsp;2016 NESdev Competition</option>
		
			<option value="31">&nbsp; &nbsp;&nbsp; &nbsp;2014 NESdev Competition</option>
		
			<option value="30">&nbsp; &nbsp;&nbsp; &nbsp;2011 NESdev Competition</option>
		
			<option value="10">&nbsp; &nbsp;Newbie Help Center</option>
		
			<option value="9" selected="selected">&nbsp; &nbsp;NES Hardware and Flash Equipment</option>
		
			<option value="28">&nbsp; &nbsp;&nbsp; &nbsp;Reproduction</option>
		
			<option value="19">&nbsp; &nbsp;NESdev International</option>
		
			<option value="11">&nbsp; &nbsp;&nbsp; &nbsp;FCdev</option>
		
			<option value="18">&nbsp; &nbsp;&nbsp; &nbsp;NESdev China</option>
		
			<option value="27">&nbsp; &nbsp;&nbsp; &nbsp;NESdev Middle East</option>
		
			<option value="25">Other</option>
		
			<option value="5">&nbsp; &nbsp;General Stuff</option>
		
			<option value="4">&nbsp; &nbsp;Membler Industries</option>
		
			<option value="23">&nbsp; &nbsp;Other Retro Dev</option>
		
			<option value="12">&nbsp; &nbsp;&nbsp; &nbsp;SNESdev</option>
		
			<option value="20">&nbsp; &nbsp;&nbsp; &nbsp;GBDev</option>
		
			<option value="15">&nbsp; &nbsp;Test Forum</option>
		
			<option value="26">Site Issues</option>
		
			<option value="13">&nbsp; &nbsp;phpBB Issues</option>
		
			<option value="14">&nbsp; &nbsp;Web Issues</option>
		
			<option value="16">&nbsp; &nbsp;nesdevWiki</option>
		

		</select>&nbsp;<input class="btnlite" type="submit" value="Go" /></td>
	</tr>
	</table>

	</form>
</td>
</tr>
</table>


</div>


<div id="wrapfooter">
	
	<span class="copyright">Powered by <a href="http://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Group
	</span>
</div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-61452025-2', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>