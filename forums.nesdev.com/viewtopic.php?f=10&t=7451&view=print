<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - 8x16 and whatever else unreg wants to know</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">8x16 and whatever else unreg wants to know</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=10&amp;t=7451">http://forums.nesdev.com/viewtopic.php?f=10&amp;t=7451</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>97</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>unregistered</b> [ Wed Feb 02, 2011 12:11 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>8x16 and whatever else unreg wants to know</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />My sister made good sprites art for an image of 8x16 pixels... but later, after playing pacman on nes, i noiced that the ghost looks like it fills a space of 2 8x16 pixel sprites... and then thought maybe every nes-pixel equals a group of 4 cpu-pixels.  Am I kindof right?  I searched and found one of yall talking about a 16x16 title.. but normal sprites are 8x8... right?  <img src="./images/smilies/icon_confused.gif" alt=":?" title="Confused" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>unregistered</b> [ Wed Feb 02, 2011 1:04 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />ok..  in <a href="http://nesdev.com/bbs/viewtopic.php?t=5770&amp;start=0" class="postlink">this thread</a> Bregalad helped me learn that a 16x16 pixel image is a meta-sprite.  So are the ghosts, in nes pacman, meta-sprites?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Wave</b> [ Wed Feb 02, 2011 1:33 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">unregistered wrote:</div><div class="quotecontent">ok..  in <a href="http://nesdev.com/bbs/viewtopic.php?t=5770&amp;start=0" class="postlink">this thread</a> Bregalad helped me learn that a 16x16 pixel image is a meta-sprite.  So are the ghosts, in nes pacman, meta-sprites?</div>
<br />Yes, almost any game sprite-object is a metasprite due to the 8x8 or 8x16 limitation of the hardware sprites on the nes.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Ian A</b> [ Wed Feb 02, 2011 1:34 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />They can be either 8x8 or 8x16.
<br />
<br />You can change the sprite size setting a certain bit in one of the PPU registers. ($2000)
<br />
<br />EDIT: Oops!  Beaten to the punch!

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>unregistered</b> [ Wed Feb 02, 2011 2:19 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Thank you both for your answers!  <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />  I thought a regular nes sprite would be 16x16 because 1) Mario is 16x16, i think, and 2) In the 1.31 NESst when you try to apply a chosen <span style="color: violet">00 or 01 or 10 or 11</span> pallet to the nametable it only allows a space of 16x16 to be colored.  And I know yall suggested lots of fixes and things so then: why does the nes not allow a smaller 8x8 tile to be a certian color when 8x8 is the size of a small sprite?  Why is applying a pallet limited to a 16x16 space?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>3gengames</b> [ Wed Feb 02, 2011 2:41 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The reason for the background being in 16x16 squares is probably because the RAM probably cost more and they didn't really need it, since specific 8x8 tiles are probably too small to vary colors anyway with the background.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>unregistered</b> [ Wed Feb 02, 2011 3:37 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Then, are sprites allowed 8x8 pallet access? Thanks for your help.  <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />
<br />It seems restrictive to limit the background to 16x16.  But yes, maybe it's ok. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />  Did they improve pallet access for backgrounds on the snes hardware? <span style="color: #999999"> By "improve" i mean enable 8x8 pallet application access</span>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>3gengames</b> [ Wed Feb 02, 2011 4:51 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Not sure, but I know they added a TON of crap to it. I think they have a 256 color mode for backgrounds? So tile pallets are basically useless with that many color options, if I am correct.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Wed Feb 02, 2011 4:53 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Sprites are different from backgrounds. For the background, palettes are applied to 16x16 pixel areas (except for a special video mode available through the MMC5 mapper, which allows palettes to be applied to individual tiles), but each sprite can use a different palette. If the PPU is configured to use 8x8 sprites, each 8x8 square can use a different palette, if it's configured to use 8x16, each 8x16 rectangle can use a different palette.
<br />
<br />Usually, game objects are indeed represented by multiple hardware sprites, because most of them are larger than 8x8 or 8x16 pixels. Most games have some kind of meta-sprite system, with tables indicating how many hardware sprites are necessary to form a game sprite, how they are positioned, the palette each one uses, and so on. Only bullets and other small objects use a single hardware sprite.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Thu Feb 03, 2011 6:13 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">3gengames wrote:</div><div class="quotecontent">Not sure, but I know they added a TON of crap to it. I think they have a 256 color mode for backgrounds? So tile pallets are basically useless with that many color options, if I am correct.</div>
<br />A 256-color background means fewer background layers and fewer tiles that fit in video RAM.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>unregistered</b> [ Tue Feb 08, 2011 5:32 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent">Usually, game objects are indeed represented by multiple hardware sprites, because most of them are larger than 8x8 or 8x16 pixels. Most games have some kind of meta-sprite system, with tables indicating how many hardware sprites are necessary to form a game sprite, how they are positioned, the palette each one uses, and so on. Only bullets and other small objects use a single hardware sprite.</div>
<br />Thank you so much for your extra helpful reply!  <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" />  
<br />What are the limits of the meta-sprite system?  I remember reading about how Punchout!! required special hardware to draw/animate the humungus enemies.  Like <span style="color: cyan">what is the largest meta-sprite we could use without improving cart hardware?</span>  (Question is from my artist!)  <span style="color: violet">Also... about scrolling; what are possible width and height/depth for scrolling... guess she is wondering how much of a level can we do?</span>  Mario 3 has the type of scrolling she is wanting. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Tue Feb 08, 2011 6:11 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">unregistered wrote:</div><div class="quotecontent">What are the limits of the meta-sprite system?</div><br />That depends on the game. There is no standard for that, and each game has its own implementation of a meta-sprite system designed according to its specs.<br /><br />For example, some systems might require that all sprites are arranged in a grid and use the same palette, so that the meta-sprite definitions will use less ROM space (no need to store the coordinates and attributes of each sprite). In my game I have a very versatile system, where each sprite's position is relative to the object's coordinates and has its own attributes. As a result, the definitions are larger.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I remember reading about how Punchout!! required special hardware to draw/animate the humungus enemies.</div><br />I'm not aware of that. The mapper used in that game doesn't have any features that would increase the sprite capacity of the system. What you can do sometimes is draw game objects using background tiles, if the background is flat enough. The ring is just a solid color, so it's possible that one of the fighters is actually drawn with background tiles rather than sprites, but I didn't check.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Like <span style="color: cyan">what is the largest meta-sprite we could use without improving cart hardware?</span>  (Question is from my artist!)</div><br />You are the programmer, so you're the one that should have the answer!<br /><br />Truth is that it's impossible for mappers to increase the amount of displayed sprites (at most they can provide you with a larger amount of tiles to pick from), because all the sprite logic and OAM is internal to the PPU, meaning that external hardware can't mess with it. So no matter the kind of system you code, you'll always be limited by the same hardware rules: 8 sprites per scanline, 64 sprites screen.<br /><br />So the largest meta-sprite is either 64x64 pixels (in 8x8 mode) or 64x128 pixels (in 8x16 mode). I wouldn't make such a huge sprite though, because there wouldn't be any sprites left for other game objects.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><span style="color: violet">Also... about scrolling; what are possible width and height/depth for scrolling... guess she is wondering how much of a level can we do?</span></div><br />Again, this is up to the programmer. Levels can be as large as you want, it all comes down to the memory necessary to store the level maps. Depending on the type of compression you use, your maps will occupy more or less ROM space. If you implement a system where levels are generated randomly, you could have an endless level.<br /><br />Each game's engine handles the scrolling differently. Some decompress whole levels to RAM (needs too much RAM, not recommended on the NES unless you have extra memory on the cart), some decompress the levels progressively so that only the visible area is in RAM, and some even read map data directly from the ROM, so they don't have to worry about wasting too much RAM, but the compression schemes used for this don't usually compress as well, so the levels need more ROM space.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Mario 3 has the type of scrolling she is wanting. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /></div>
<br />You have to select the kind of compression that will work best with the kind of levels you want to make, also taking into consideration the decoding process (i.e. how you are going to read the map data, for drawing and for collision with the objects).
<br />
<br />SMB3 has some limitations, like the height of the level, which is 2 NES screens tall (minus the status bar), and color glitches at the right of the screen because of the way it uses the name tables (horizontal mirroring). Status bars also affect the way you implement the scrolling if you plan on scrolling vertically (which I assume you do), so I need to know whether you want a status bar in your game and whether your levels can be taller than 2 screens before I suggest the optimal solution for your case.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Tue Feb 08, 2011 7:15 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent">Truth is that it's impossible for mappers to increase the amount of displayed sprites (at most they can provide you with a larger amount of tiles to pick from), because all the sprite logic and OAM is internal to the PPU</div><br />Unless you put an auxiliary PPU on the cartridge that renders sprites to background tiles. Super Game Boy, for example, does this.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">If you implement a system where levels are generated randomly, you could have an endless level.</div><br />This has been done even on the lowly Atari 2600: see River Raid.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">some even read map data directly from the ROM, so they don't have to worry about wasting too much RAM, but the compression schemes used for this don't usually compress as well, so the levels need more ROM space.</div>
<br />These include multilayer metatile engines like those of Mega Man series, Blaster Master, Sonic 2 for Genesis, and your Sonic clone, right?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Tue Feb 08, 2011 7:41 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">Unless you put an auxiliary PPU on the cartridge that renders sprites to background tiles. Super Game Boy, for example, does this.</div><br />True, but the 4-colors per tile limitation severely reduces the possibilities. If the NES had a 4bpp mode, like the SMS for example, this would be a very interesting mapper feature. The SMS can't have this though, since the cart has no direct access to the video memory.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">This has been done even on the lowly Atari 2600: see River Raid.</div><br />Exactly. Also Pitfall, I think. Many Atari games had to fit in 4KB of ROM, so since there wasn't much space for level maps the solution was to generate them in real time. If you always start with the same seed, the same levels will be generated every time.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">These include multilayer metatile engines like those of Mega Man series, Blaster Master, Sonic 2 for Genesis, and your Sonic clone, right?</div>
<br />Yes, but Sonic on the Genesis actually uses the data in RAM, because it's compressed even further in the ROM.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Gilbert</b> [ Tue Feb 08, 2011 10:30 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent">True, but the 4-colors per tile limitation severely reduces the possibilities. If the NES had a 4bpp mode, like the SMS for example, this would be a very interesting mapper feature. The SMS can't have this though, since the cart has no direct access to the video memory.<br /></div>
<br />
<br />At least, I think the Wide-boy (<a href="http://www.chrismcovell.com/wideboy.html" class="postlink">link to Chris' page</a>) sort of use this to draw the whole gameboy display with backgrounds (but then of course the gameboy only has 4 different shades in total, even after combining the sprites with the background plane, and so this works), and it even needs to change the tiles mid-screen to display a whole frame (I wonder why this is needed, as 160x144 occupies only 360 8x8 tiles and you can just change the tile page used for background midscreen when it uses up 256 of them, instead of rewriting the memory, and there're still enough space for stuff such as border graphics, etc.). That isn't much useful for FC/NES game making though, as the WB is just the gameboy hardware in whole.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>97</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>