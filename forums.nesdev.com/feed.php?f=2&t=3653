<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="http://forums.nesdev.com/feed.php?f=2&amp;t=3653" />

<title>nesdev.com</title>
<subtitle>NES Development and Strangulation Records message boards</subtitle>
<link href="http://forums.nesdev.com/index.php" />
<updated>2007-10-29T22:12:15-07:00</updated>

<author><name><![CDATA[nesdev.com]]></name></author>
<id>http://forums.nesdev.com/feed.php?f=2&amp;t=3653</id>
<entry>
<author><name><![CDATA[kyuusaku]]></name></author>
<updated>2007-10-29T22:12:15-07:00</updated>
<published>2007-10-29T22:12:15-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=3653&amp;p=27852#p27852</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=3653&amp;p=27852#p27852"/>
<title type="html"><![CDATA[Any FDS programmers around?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=3653&amp;p=27852#p27852"><![CDATA[
I hope not, it's hard enough for me to understand others' emulator source as it is. <br /><!-- m --><a class="postlink" href="http://philip.greenspun.com/humor/eecs-difference-explained">http://philip.greenspun.com/humor/eecs- ... -explained</a><!-- m --><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=20">kyuusaku</a> — Mon Oct 29, 2007 10:12 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Jagasian]]></name></author>
<updated>2007-10-29T20:47:54-07:00</updated>
<published>2007-10-29T20:47:54-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=3653&amp;p=27851#p27851</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=3653&amp;p=27851#p27851"/>
<title type="html"><![CDATA[Any FDS programmers around?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=3653&amp;p=27851#p27851"><![CDATA[
Cycle accurate NES emulation, wave accurate video emulation, and now... magnetic and mechanicly accurate FDS emulation that simulates the magnetic substrate of an FDS disk?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=94">Jagasian</a> — Mon Oct 29, 2007 8:47 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[kyuusaku]]></name></author>
<updated>2007-10-29T19:40:28-07:00</updated>
<published>2007-10-29T19:40:28-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=3653&amp;p=27850#p27850</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=3653&amp;p=27850#p27850"/>
<title type="html"><![CDATA[Any FDS programmers around?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=3653&amp;p=27850#p27850"><![CDATA[
I've looked at BT's disassembly of the BIOS but from it I can't tell where I'm going wrong. I strongly think the logic hasn't been throughly checked, just assumed from the BIOS code, which is a problem since the BIOS/emulation hardly relies on real hardware events. I know that some unofficial disks such as the Tonkachi editor don't work in emulators, so this is probably the same issue.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=20">kyuusaku</a> — Mon Oct 29, 2007 7:40 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[bunnyboy]]></name></author>
<updated>2007-10-29T12:23:02-07:00</updated>
<published>2007-10-29T12:23:02-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=3653&amp;p=27849#p27849</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=3653&amp;p=27849#p27849"/>
<title type="html"><![CDATA[Any FDS programmers around?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=3653&amp;p=27849#p27849"><![CDATA[
I was having problems with this on real FDS hardware too.  Its been too long so I cant remember the solution or if I found it, but you should be able to look at the FDS bios source to figure it out.  Emulators should be doing enough of the disk to make at least the bios work correctly.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=228">bunnyboy</a> — Mon Oct 29, 2007 12:23 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[kyuusaku]]></name></author>
<updated>2007-10-28T20:26:50-07:00</updated>
<published>2007-10-28T20:26:50-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=3653&amp;p=27848#p27848</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=3653&amp;p=27848#p27848"/>
<title type="html"><![CDATA[Any FDS programmers around?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=3653&amp;p=27848#p27848"><![CDATA[
I guess I gotta figure this stuff out on my own, it's clear that no emulator does FDS right. Time to make an all in one test ROM :)<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=20">kyuusaku</a> — Sun Oct 28, 2007 8:26 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[kyuusaku]]></name></author>
<updated>2007-10-28T00:18:27-07:00</updated>
<published>2007-10-28T00:18:27-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=3653&amp;p=27845#p27845</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=3653&amp;p=27845#p27845"/>
<title type="html"><![CDATA[Any FDS programmers around?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=3653&amp;p=27845#p27845"><![CDATA[
Of course, the problem is that the bit never tests true. The head must need something else to start reading the disk. Looking at Nestopia's source it's not too clear whether it even really emulates the disk or just parses the images into FDS blocks and works with them.<br /><br />I really don't get why FDS images don't include the start/crc regions and are emulated in such a convoluted way.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=20">kyuusaku</a> — Sun Oct 28, 2007 12:18 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[atari2600a]]></name></author>
<updated>2007-10-28T00:06:05-07:00</updated>
<published>2007-10-28T00:06:05-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=3653&amp;p=27844#p27844</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=3653&amp;p=27844#p27844"/>
<title type="html"><![CDATA[Any FDS programmers around?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=3653&amp;p=27844#p27844"><![CDATA[
$4030 byte 1 (#2):<br /><br /><div class="quotetitle">FDS Technical Reference wrote:</div><div class="quotecontent"><br />1:Byte transfer flag. Set every time 8 bits have been transfered between <br />the RAM adaptor &amp; disk drive (service $4024/$4031). Reset when $4024, $4031, <br />or $4030 has been serviced.<br /></div><br /><br />You sure you got the register &amp;/or bit?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3367">atari2600a</a> — Sun Oct 28, 2007 12:06 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[kyuusaku]]></name></author>
<updated>2007-10-27T23:55:15-07:00</updated>
<published>2007-10-27T23:55:15-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=3653&amp;p=27843#p27843</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=3653&amp;p=27843#p27843"/>
<title type="html"><![CDATA[Any FDS programmers around?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=3653&amp;p=27843#p27843"><![CDATA[
Yup, it's the "beq" I can't get past.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=20">kyuusaku</a> — Sat Oct 27, 2007 11:55 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[beneficii]]></name></author>
<updated>2007-10-27T23:50:49-07:00</updated>
<published>2007-10-27T23:50:49-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=3653&amp;p=27842#p27842</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=3653&amp;p=27842#p27842"/>
<title type="html"><![CDATA[Any FDS programmers around?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=3653&amp;p=27842#p27842"><![CDATA[
So you are unable to get it passed this line?<br /><br />   jsr $e64d   ; wait until disk ready<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=156">beneficii</a> — Sat Oct 27, 2007 11:50 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[kyuusaku]]></name></author>
<updated>2007-10-28T12:29:45-07:00</updated>
<published>2007-10-27T22:40:00-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=3653&amp;p=27841#p27841</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=3653&amp;p=27841#p27841"/>
<title type="html"><![CDATA[Any FDS programmers around?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=3653&amp;p=27841#p27841"><![CDATA[
I'm trying to low level read the first few bytes from the disk. I've tried polling for a ready byte and waiting for IRQs but either I'm doing something wrong (probable), or FCEU and Nestopia don't work right.<br /><br />I called the "wait until disk ready" subroutine in the BIOS which I interpret to mean "the head is at the top of the disk scanning down", so I poll until a byte is assembled, but that never happens.<br /><br />Am I missing something?<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">   jsr $e64d   ; wait until disk ready<br />   ldx #00<br />-   lda $4030<br />   and #2              ; is byte ready?<br />   beq -<br />   lda $4031          ; get<br />   sta $6000, x      ; put<br />   inx<br />   cpx #32<br />   bne -</div><br /><br />Thanks<br /><br />Edit: silly typo in code<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=20">kyuusaku</a> — Sat Oct 27, 2007 10:40 pm</p><hr />
]]></content>
</entry>
</feed>