<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - NES Programming Blog</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">NES Programming Blog</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=2&amp;t=13676">http://forums.nesdev.com/viewtopic.php?f=2&amp;t=13676</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>3</strong> of <strong>7</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>dougeff</b> [ Thu Feb 04, 2016 9:58 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Programming Blog</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I tried it, works perfectly, I'm going to update the MIDI section to indicate the better method, Bavi_H.<br /><br />Options/Preferences/MIDI/ 96 ticks per quarter note.<br /><br />You get 4 rows per note in Famitracker 0.4.2, through MIDI import.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>heardtheword</b> [ Thu Feb 11, 2016 9:36 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Programming Blog</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Very nice tutorials! I didn't even realize C was an option for NES programming.<br /><br />You might want to consider adding a slight background to the code examples so it's easier to tell what is code instead of explanation. Otherwise, great stuff!

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>dougeff</b> [ Thu Feb 11, 2016 10:57 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Programming Blog</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Thanks, I'll consider making color changes to the code...probably better I should improve the code, maybe.<br /><br />I'm considering adding a few pages on ASM lessons, but I'm not sure how I should organize it. I don't want to go alphabetically, as some documents do...I wanted to start with simple LDA, STA...but it occurred to me that some of the more complicated LDA modes (indirect) probably shouldn't go on the first page...<br /><br />Maybe I should start with math and bit shifting, and simple zero page LDA, STA.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Sogona</b> [ Thu Feb 11, 2016 4:24 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Programming Blog</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">dougeff wrote:</div><div class="quotecontent">I'm considering adding a few pages on ASM lessons, but I'm not sure how I should organize it. I don't want to go alphabetically, as some documents do...I wanted to start with simple LDA, STA...but it occurred to me that some of the more complicated LDA modes (indirect) probably shouldn't go on the first page...<br /><br />Maybe I should start with math and bit shifting, and simple zero page LDA, STA.</div><br />I'd say start with explaining what the Accumulator and index registers are, and then introducing LDA, STA; LDX, STX; LDY, STY. Then explain the difference between an address and an immediate value (With maybe a brief mention of the zero-page). After that, you could gradually introduce new instructions, categorized by math, bitwise operations, logic, etc., and then later on go into more advanced addressing methods like Indexed and Indirect.<br /><br />Just an idea.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Diskover</b> [ Tue Feb 16, 2016 9:42 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Programming Blog</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />First of all , thank dougeff for the work he has done in his blog. He had long needed a tutorial and hands. I must also apologize for my bad English . This post has been translated by Google translator .<br /><br />However , there are many things that escape me despite being fairly well explained .<br /><br />My radical doubt ignorance when it comes to creating longer than two simple horizontal scroll Nametables levels.<br /><br />How I can do to make the updating nametable go slowly while the background moves ?<br /><br />Thank you.<br /><br />PD: en español debajo de estas lineas.<br /><br />Antes de nada, dar las gracias a dougeff por el trabajo que ha hecho en su blog. Hacía tiempo que necesitaba tener un tutorial así entre manos. También debo disculparme por mi mal ingles. Este post ha sido traducido mediante Google Traductor.<br /><br />No obstante, hay muchas cosas que se me escapan pese a estar bastante bien explicado.<br /><br />Mi duda radical en el desconocimiento a la hora de crear niveles más largos que dos simples Nametables en scroll horizontal.<br /><br />¿Como puedo hacer para que el nametable se vaya actualizando poco a poco mientras avanza el background? <br /><br />Gracias.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Tue Feb 16, 2016 10:27 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Programming Blog</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Keep the camera position in a variable. This camera position defines what area is visible. From it, you can calculate the position of the column of tiles that is next to appear. If the camera has not yet advanced to a new column of tiles, there's nothing new to see, so don't update anything. But if it has, then prepare a list of tile numbers, and then copy it into nametable memory during the next vblank.<br /><br /><a href="http://wiki.nesdev.com/w/index.php/PPU_scrolling#The_common_case" class="postlink"><img src="http://wiki.nesdev.com/w/images/a/ae/SMB1_scrolling_seam.gif" alt="Image" /><br />The camera, represented by a red bracket, has advanced into the column of blocks that need to be updated.</a>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>dougeff</b> [ Tue Feb 16, 2016 4:27 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Programming Blog</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />To add a bit...<br /><br />'camera position' = Horizontal Scroll, the first number stored at register $2005<br /><br />When Horizontal Scoll rolls over (&gt;255) you tell it to change base nametables, controlled by the $2000 register.<br /><br />xxxx xx00 = nametable #0, left screen<br />xxxx xx01 = nametable #1, right screen<br /><br />Nerdy Nights also has a tutorial on this...<br /><br /><!-- m --><a class="postlink" href="http://nintendoage.com/forum/messageview.cfm?catid=22&amp;threadid=36958">http://nintendoage.com/forum/messagevie ... adid=36958</a><!-- m -->

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Diskover</b> [ Sat Feb 20, 2016 9:17 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Programming Blog</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The truth is that this is very complicated . At the end I relied on lesson number 11  dougeff to get done scrolling .<br /><br />I climb a small demo: <!-- m --><a class="postlink" href="https://www.dropbox.com/home/public/NES%20demos?preview=SMW_demo_20022016.nes">https://www.dropbox.com/home/public/NES ... 022016.nes</a><!-- m --><br /><br />Why did the rare artifacts appear in the sky ? My NameTable is not it. By not charging it <img src="./images/smilies/icon_rolleyes.gif" alt=":roll:" title="Rolling Eyes" /><br /><br /><img src="http://i68.tinypic.com/2hhlyrs.jpg" alt="Image" /><br /><br />PD : Remember that 'm programming based on the lessons  dougeff<br /><br />Spanish:<br />La verdad es que esto es muy complicado. Al final me he basado en la lección número 11 de  dougeff para conseguir hacer scrolling.<br />Os subo una pequeña demo.<br />¿Por que me aparecen los artefactos raros en el cielo? Mi Nametable no es así. No se por que carga eso  <img src="./images/smilies/icon_rolleyes.gif" alt=":roll:" title="Rolling Eyes" /> <br /><br />PD: Recordad que estoy programando basandome en las lecciones de shiru

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>dougeff</b> [ Sat Feb 20, 2016 9:32 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Programming Blog</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Definitely attribute table has wrong color palette defined for those bits of screen. Maybe you're writing too many byes to the PPU, and it's corrupting the attribute table.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Diskover</b> [ Sat Feb 20, 2016 10:13 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Programming Blog</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">dougeff wrote:</div><div class="quotecontent">Definitely attribute table has wrong color palette defined for those bits of screen. Maybe you're writing too many byes to the PPU, and it's corrupting the attribute table.</div><br /><br />Mmmm , I've been messing with the code of the lesson 10 and if I modify the allocation of tiles from heaven , the same fault occurs.<br /><br />Simply assigning address 1 where previously put 0 in the tiles, and skips the error.<br /><br />const unsigned char METATILES[]={<br />	0, 0, 0, 0, //0 sky<br />....<br /><br /><img src="http://i67.tinypic.com/156q1dz.jpg" alt="Image" /><br /><br />const unsigned char METATILES[]={<br />	1, 1, 1, 1, //0 sky<br />...<br /><br /><img src="http://i67.tinypic.com/35l6auc.jpg" alt="Image" /><br /><br />Could it be a problem of the code itself ? Any misconfiguration ?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>dougeff</b> [ Sat Feb 20, 2016 10:19 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Programming Blog</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I'll look at it later today.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Diskover</b> [ Sat Feb 20, 2016 10:23 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Programming Blog</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">dougeff wrote:</div><div class="quotecontent">I'll look at it later today.</div><br /><br />Thanks!!!  <img src="./images/smilies/icon_razz.gif" alt=":P" title="Razz" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>dougeff</b> [ Sat Feb 20, 2016 2:42 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Programming Blog</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Apparently I forgot how to do math when I wrote this one, and it was only by dumb luck that it worked to begin with.<br /><br />The tile buffering system was buggy...each was overflowing into the next one because...<br /><br />(in BufferMT.c)...<br /><br />while (index &lt; 16){<br /><br />should have been...<br /><br />while (index &lt; 15){<br /><br />Since the screen is only 15 metatiles high (*16 pixels = 240)...and it should index from 0-14.<br /><br />And I also increased the buffer sizes (in lesson11.c)...slightly larger than we need, but now easier to read in the hex editor debugging tool...<br /><br />unsigned char BUFFER1[32];//left column 1<br />unsigned char BUFFER2[32];//right column 1<br />unsigned char BUFFER3[32];//left column 2<br />unsigned char BUFFER4[32];//right column 2<br /><br />(before I erroneously had them 26, but was indexing up to 30).<br /><br />Anyway, the link has been updated...sorry for the trouble.<br /><br /><!-- m --><a class="postlink" href="http://dl.dropboxusercontent.com/s/08oibyhciz6woi7/lesson11.zip">http://dl.dropboxusercontent.com/s/08oi ... sson11.zip</a><!-- m -->

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Diskover</b> [ Sun Feb 21, 2016 7:47 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Programming Blog</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Ouh yeah!!! Thank you  dougeff <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /> <br /><br />Indeed , that was the problem . I keep messing with this demo.  <img src="./images/smilies/icon_wink.gif" alt=":wink:" title="Wink" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Diskover</b> [ Sun Feb 21, 2016 2:26 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Programming Blog</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Continuing research the code, I decided to increase the number of rooms 4 to 5 (for example)<br /><br />I created a new CSV called A5.csv<br />I stuck a #include &quot; BG / A5.csv &quot;<br />In the array ROOMS [ ]  I added (int) &amp; A5<br />In move_logic() function, variable Room &amp;= 3  converted it to 4.<br />In New_Room() function, RoomB &amp;= 3 variable became to 4.<br />In the main() function, RoomPlus &amp;= 3 variable became to 4.<br /><br />Still, I can not get this new room appears.<br /><br />Am I skipping a step?<br /><br />Spanish:<br />Continuando con la investigación del código, me propuse aumentar el numero de habitaciones de 4 a 5 (por ejemplo)<br /><br />Creé un nuevo CSV llamado A5.csv, <br />Metí un #include &quot;BG/A5.csv&quot;<br />En el array ROOMS[] añadí (int) &amp;A5<br />En la función move_logic, la variable Room &amp;= 3 la convertí a 4.<br />En la función New_Room, la variable RoomB &amp;= 3 la convertí a 4.<br />En la función main, la variable RoomPlus &amp;= 3 la convertí a 4.<br /><br />Pese a todo, no consigo que aparezca esta nueva habitación. <br /><br />¿Me estoy saltando algún paso?

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>3</strong> of <strong>7</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>