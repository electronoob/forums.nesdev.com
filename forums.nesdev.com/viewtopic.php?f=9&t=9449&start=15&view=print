<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Family Trainer 3: Aerobics Studio - Mitsubishi M50805</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Family Trainer 3: Aerobics Studio - Mitsubishi M50805</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=9&amp;t=9449">http://forums.nesdev.com/viewtopic.php?f=9&amp;t=9449</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>2</strong> of <strong>2</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>B00daW</b> [ Wed May 11, 2016 3:58 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Family Trainer 3: Aerobics Studio - Mitsubishi M50805</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Myask wrote:</div><div class="quotecontent">I did, but I printed it out rather than save. Whoops?</div><br />Can you scan and upload it?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>NovaSquirrel</b> [ Thu May 12, 2016 3:01 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Family Trainer 3: Aerobics Studio - Mitsubishi M50805</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />NovaSquirrel to the rescue

		
			<br clear="all" /><br />

			<table class="tablebg" width="100%" cellspacing="1">
			<tr>
				<td><b class="genmed">Attachments: </b></td>
			</tr>
			
				<tr>
					<td>
			<span class="genmed">
				<img src="./styles/subsilver2/imageset/icon_topic_attach.gif" width="14" height="18" alt="" title="" /> 
				<a href="./download/file.php?id=5708">parcor.pdf</a> [838.41 KiB]
			</span><br />
			<span class="gensmall">Downloaded 196 times</span>
		

		<br />
	</td>
				</tr>
			
			</table>
		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>B00daW</b> [ Sun Jun 25, 2017 4:19 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Family Trainer 3: Aerobics Studio - Mitsubishi M50805</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />OK... Here is the information from Sean Riddle.  He's doing his part to talk <a href="http://forums.bannister.org//ubbthreads.php?ubb=showflat&amp;Number=97003&amp;page=207" class="postlink">to the MAMEdev guys over at Bannister too.</a><br /><br /><div class="quotetitle">seanriddle wrote:</div><div class="quotecontent">&quot;Sean-<br /> <br />              I pulled the chip off the cart PCB and put it on a breadboard.  I connected a PIC microcontroller to the /CE, /SYNC and /Dn inputs, and gave it a 640kHz clock.  I had the PIC trigger each of the sounds and captured all the signals with a Saleae Logic: <!-- m --><a class="postlink" href="http://www.seanriddle.com/m50805logic.7z">http://www.seanriddle.com/m50805logic.7z</a><!-- m -->  You can download the Logic software to open the file, zoom in and out, do measurements, etc: <!-- m --><a class="postlink" href="https://www.saleae.com/downloads">https://www.saleae.com/downloads</a><!-- m --><br /> <br />              It works as described in the datasheet; every 64 clocks (100uS at 640kHz), DA0 or DA1 goes low for 0 to 63 clocks.  There is some activity on DREQ even though the internal ROM is being used, but I’m not sure if it means anything in this mode.<br /> <br />I exported the dump and combined the two PWM signals for each sound into a single 7-bit signed file, then used Audacity to convert those into WAV format:<br /><!-- m --><a class="postlink" href="http://www.seanriddle.com/aerobics0.wav">http://www.seanriddle.com/aerobics0.wav</a><!-- m --><br /><!-- m --><a class="postlink" href="http://www.seanriddle.com/aerobics1.wav">http://www.seanriddle.com/aerobics1.wav</a><!-- m --><br /><!-- m --><a class="postlink" href="http://www.seanriddle.com/aerobics2.wav">http://www.seanriddle.com/aerobics2.wav</a><!-- m --><br /><!-- m --><a class="postlink" href="http://www.seanriddle.com/aerobics3.wav">http://www.seanriddle.com/aerobics3.wav</a><!-- m --><br /><!-- m --><a class="postlink" href="http://www.seanriddle.com/aerobics4.wav">http://www.seanriddle.com/aerobics4.wav</a><!-- m --><br /><!-- m --><a class="postlink" href="http://www.seanriddle.com/aerobics5.wav">http://www.seanriddle.com/aerobics5.wav</a><!-- m --><br /><!-- m --><a class="postlink" href="http://www.seanriddle.com/aerobics6.wav">http://www.seanriddle.com/aerobics6.wav</a><!-- m --><br /><!-- m --><a class="postlink" href="http://www.seanriddle.com/aerobics7.wav">http://www.seanriddle.com/aerobics7.wav</a><!-- m --><br /> <br />              These aren’t “digitized” sounds, but the actual digital output from the chip.  I captured the sounds 3 times, and the bits all matched each time.  I used output on DA0 and DA1 to determine the start and end points of each sample, so it’s possible that there was some silence before or after a sample that got stripped.  But looking at where the busy signal drops, I don’t think there was any silence at the end of any sample.  The datasheet shows the delay from sync to speech output varies from 40 to 60ms, which is what I measured, so I don’t think there was any silence at the start, either.  And it doesn’t make sense to waste valuable ROM space for silence anyway.<br /> <br />              Then I set test mode and tried various things, but the only output I got was when I drove /CE and /SYNC the same way as in microcomputer control mode.  In test mode it still outputs data on DA0 and DA1, but only ½ the number of bits that it output in microcomputer control mode.  I haven’t been able to decode the output on the test pin, but it doesn’t look like it’s a simple dump of the parameter ROM. <!-- m --><a class="postlink" href="http://www.seanriddle.com/m50805testlogic.7z">http://www.seanriddle.com/m50805testlogic.7z</a><!-- m -->  There are bursts of data on the test pin every 10ms.  Each burst is made up of 10 groups of bits, 200uS between groups.  It looks like there are maybe 4 bits in each group, so that’s 40 bits.  But parameter RAM is 46 bits long.  So I’m not sure how to parse the bits on the test pin.<br /> <br />              I also tried external memory mode, with DTIN tied high and tied low as simple tests, but never got any output.  Their sample circuit for external memory shows the DREQ output toggling to shift each bit in, but when I tried it only toggled DREQ once.<br /> <br />              I’ll play around some more and see if I can get external memory mode going.  Do you have any further ideas?  Do you want me to decap the chip and take pictures?<br /> <br />Sean&quot;</div><br /><br />Is there anything else we should be asking him?  This is effectively his cart to play with now, but I'd like to make sure we don't decap right away until we're sure we can't move forward.  Please also save copies of the oscillator information because I may pull the links.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>2</strong> of <strong>2</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>