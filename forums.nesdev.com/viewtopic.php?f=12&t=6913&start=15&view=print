<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Project SNES: character design, powerups, levels etc</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Project SNES: character design, powerups, levels etc</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=12&amp;t=6913">http://forums.nesdev.com/viewtopic.php?f=12&amp;t=6913</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>2</strong> of <strong>5</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>psycopathicteen</b> [ Tue Aug 31, 2010 7:07 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I downloaded a .Z7 extractor and it STILL won't extract.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Tue Aug 31, 2010 7:11 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Have you tried <a href="http://www.7-zip.org/" class="postlink">7-Zip</a>?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>psycopathicteen</b> [ Tue Aug 31, 2010 7:17 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />yeah

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>blargg</b> [ Tue Aug 31, 2010 7:36 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />It's compressed with 7z because bandwidth isn't free, and zip makes the file 600K larger (2.9 versus 3.5 MB). Given that I expected it to be downloaded a lot, I wanted to slim it as much as possible. For smaller files where accessibility is important, I agree that zip is THE way to go. Nothing beats it in wide support, and lightweight implementations.
<br />
<br />As for the corrupt file, I just downloaded it fine. Try the mirror link, as the nyud.net one kept cutting off on me before the entire thing downloaded.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>mic_</b> [ Tue Aug 31, 2010 10:17 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Memblers wrote:</div><div class="quotecontent">so I'm thinking longer samples with the freqs scaled up might help it, I don't know by how much though.</div><br /><br />Quite a bit in some cases (at least it did back when I was writing my VGM player):<br /><br /><div class="quotetitle">mic_ wrote:</div><div class="quotecontent">The results can be quite noticable, as can be heard in this song from Alex Kidd in Miracle World:<br /><br /><a href="http://jiggawatt.org/muzak/akimw-old.spc" class="postlink">.SPC (old frequency table)</a><br /><a href="http://jiggawatt.org/muzak/akimw-new.spc" class="postlink">.SPC (new frequency table)</a><br /><a href="http://jiggawatt.org/muzak/akimw.vgm" class="postlink">.VGM for reference</a></div>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>psycopathicteen</b> [ Wed Sep 01, 2010 6:01 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I've just figured out why my test SPC code wasn't compiling in the past.  I guess now I can program my own software mixed 2A03 emulator, so I can run SPC and 2A03 music at the same time.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>mic_</b> [ Wed Sep 01, 2010 6:47 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />How do you plan on BRR-encoding the mixer output though?
<br />If you're thinking about outputting uncompressed samples by writing to the echo buffer, then you'll be on a pretty tight cycle budget (maybe something like 100 cycles/sample at decent quality). It seems unlikely that you'd have time to emulate the 2A03 with that approach.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Wed Sep 01, 2010 7:13 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">mic_ wrote:</div><div class="quotecontent">How do you plan on BRR-encoding the mixer output though?</div>
<br />Each 9-byte block of BRR contains a couple control bits, a volume scaling amount, and an index selecting one of four <a href="http://en.wikipedia.org/wiki/Infinite_impulse_response" class="postlink">IIR</a> <a href="http://en.wikipedia.org/wiki/De-emphasis" class="postlink">de-emphasis filters</a>, followed by sixteen 4-bit signed PCM samples. One of these filters has zero for both feedback coefficients, which means the block is straight 4-bit signed linear PCM. I imagine that a mixer running on the SPC700 would encode the result to LPCM, possibly losing a bit of DAC resolution.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>mic_</b> [ Wed Sep 01, 2010 7:31 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Mixing 4 (or 5) channels into a single sample with 4-bit resolution would probably not sound too good.
<br />
<br />And if you wanted to get crisper waveforms by playing longer samples at a higher frequency you'd probably have to set aside a fair amount of SPC RAM for the output buffer,

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Wed Sep 01, 2010 9:42 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Switching from 16-bit to 4-bit isn't loosing "a bit" of DAC resolution - it's massive lost.
<br />
<br />For echo buffer writes, you have 32 cycles per sample to be computed (the output is read at 32kHz and the CPU is clocked at 1024 kHz). Considering that I think quite a few instuctions takes 2 cycles, this isn't a whole lot - barely enough for something <em>really</em> simple I think.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Wed Sep 01, 2010 10:07 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">Switching from 16-bit to 4-bit isn't loosing "a bit" of DAC resolution - it's massive lost.</div>
<br />The NES's DAC isn't 16-bit; it's the sum of four 4-bit DACs (and a 6-bit DAC if you're handling DPCM).
<br />
<br />But emulating the NES's APU into samples at full speed isn't likely to happen without serious aliasing artifacts.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>psycopathicteen</b> [ Sat Sep 04, 2010 12:09 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />This is a drawing of my ponytail girl character.
<br />
<br /><!-- m --><a class="postlink" href="http://img808.imageshack.us/img808/2377/ponytailgirl.jpg">http://img808.imageshack.us/img808/2377 ... ilgirl.jpg</a><!-- m -->
<br />
<br />
<br />I downloaded a trace song, and downsampling it to 16kHz to see how it sounds like.
<br />
<br /><!-- m --><a class="postlink" href="http://www.supload.com/sound_confirm.php?get=334387279.wav">http://www.supload.com/sound_confirm.ph ... 387279.wav</a><!-- m --> 
<br />
<br />
<br />Here is my code for loading a spc700 routine.  I don't know if it works or not.  Please tell me If I'm doing this correctly.
<br />
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">rep #$30<br />wait_for_spc:<br /><br />lda $2140<br />cmp #$bbaa<br />bne wait_for_spc<br /><br />sep #$20<br /><br />ldx #$0200<br />stx $2142<br /><br />lda #$01<br />sta $2141<br /><br />lda #$cc<br />sta $2140<br /><br />wait_for_spc2:<br /><br />lda $2140<br />cmp #$cc<br />bne wait_for_spc2<br /><br />ldx #$0000<br /><br />pha<br />spc700_loading_loop:<br />pla<br /><br /><br />lda $308000,x<br />sta $2141<br />phx<br />pla<br />sta $2140<br /><br />wait_for_spc3:<br />cmp $2140<br />bne wait_for_spc3<br /><br />inx<br /><br />cpx #$0209<br />bne spc700_loading_loop<br /><br />stz $2141<br /><br />ldy #$0200<br />sty $2142<br /><br />inx<br />phx<br />pla<br />sta $2140<br />pla</div>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Sat Sep 04, 2010 1:00 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">psycopathicteen wrote:</div><div class="quotecontent">This is a drawing of my ponytail girl character.<br /><br /><!-- m --><a class="postlink" href="http://img808.imageshack.us/img808/2377/ponytailgirl.jpg">http://img808.imageshack.us/img808/2377 ... ilgirl.jpg</a><!-- m --></div>
<br />I'd recommend a little more clothes than that, especially if you plan to have an <a href="http://tvtropes.org/pmwiki/pmwiki.php/Main/SlippySlideyIceWorld" class="postlink">ice world</a>.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Sat Sep 04, 2010 1:41 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />That's really not my type of girl at all.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>TmEE</b> [ Sat Sep 04, 2010 1:50 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">That's really not my type of girl at all.</div>
<br />
<br />I have to agree with that one

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>2</strong> of <strong>5</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>