<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - 3DNes</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">3DNes</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=3&amp;t=13552">http://forums.nesdev.com/viewtopic.php?f=3&amp;t=13552</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>2</strong> of <strong>11</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>geod</b> [ Thu Nov 26, 2015 7:42 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: 3D Nes Emulator</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">Very impressive for a heuristic method. <em>Super Mario Bros.</em> works OK, except the treetops in 1-3 look like a green log on top of the tree trunk. But it seems to treat the outdoor background in <em>The Legend of Zelda</em> as thick fog.<br /><br />I wonder what it does with <em>Dr. Mario</em> or any of <a href="https://shiru.untergrund.net/software.shtml" class="postlink">Shiru's games</a> or any of <a href="https://pineight.com/nes/" class="postlink">my games</a>.</div><br /><br />Fortunately my emu can run Thwaite game <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /><br /><br /><a href="https://youtu.be/TmxTL8Aw1Ak" class="postlink">https://youtu.be/TmxTL8Aw1Ak</a><br /><br />For Zelda game, it is the problem of background layers positioning in z axis. I have not tacked it yet.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>mkwong98</b> [ Thu Nov 26, 2015 11:18 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: 3D Nes Emulator</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Very impressive! I suggest removing the pixel from the background layer if a sprite pixel is on top of it. This reminds me of another project for game boy but this one use custom model as Gilbert asked:<br /><a href="http://www.emutalk.net/threads/55483-GameObj-Unity3D-GB-Emulator!" class="postlink">http://www.emutalk.net/threads/55483-GameObj-Unity3D-GB-Emulator!</a><br /><br />Are you using Unity3D too?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>geod</b> [ Thu Nov 26, 2015 11:32 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: 3D Nes Emulator</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">mkwong98 wrote:</div><div class="quotecontent">Very impressive! I suggest removing the pixel from the background layer if a sprite pixel is on top of it. This reminds me of another project for game boy but this one use custom model as Gilbert asked:<br /><a href="http://www.emutalk.net/threads/55483-GameObj-Unity3D-GB-Emulator!" class="postlink">http://www.emutalk.net/threads/55483-GameObj-Unity3D-GB-Emulator!</a><br /><br />Are you using Unity3D too?</div><br /><br />Yes, i'm using Unity too.<br />What you mean by &quot;on top of it&quot;? I don't  fully understand.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>mkwong98</b> [ Thu Nov 26, 2015 11:55 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: 3D Nes Emulator</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I mean in front. When the sprite is in the front layer like Mario is in front of the plant in 1-1, remove any pixel from the background object that also has a front layer sprite pixel.<br /><br />By the way, how will Kung Fu look with this emulator? The main character is on the background layer.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>geod</b> [ Fri Nov 27, 2015 12:33 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: 3D Nes Emulator</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">mkwong98 wrote:</div><div class="quotecontent">I mean in front. When the sprite is in the front layer like Mario is in front of the plant in 1-1, remove any pixel from the background object that also has a front layer sprite pixel.<br /><br />By the way, how will Kung Fu look with this emulator? The main character is on the background layer.</div><br /><br />I'm afraid that thing doesn't work that way. Because 3d object models must be independent with each other. We don't have the right to remove any thing. What happen if the character move out of background object?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>mkwong98</b> [ Fri Nov 27, 2015 1:16 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: 3D Nes Emulator</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">geod wrote:</div><div class="quotecontent">I'm afraid that thing doesn't work that way. Because 3d object models must be independent with each other. We don't have the right to remove any thing. What happen if the character move out of background object?</div><br /><br />Then is it possible to generate the model, but break the model into 64 pixel size mini models? And the emulator must implement the pixel priority to determine which pixel is visible. This way you can remove pixels that are obscuring others. This also applies to two sprites occupying the same location.<br /><br />In Kung Fu, I mean the character is actually make up of background objects. Do you treat background objects and sprite objects differently?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>geod</b> [ Fri Nov 27, 2015 3:46 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: 3D Nes Emulator</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">mkwong98 wrote:</div><div class="quotecontent"><div class="quotetitle">geod wrote:</div><div class="quotecontent">I'm afraid that thing doesn't work that way. Because 3d object models must be independent with each other. We don't have the right to remove any thing. What happen if the character move out of background object?</div><br /><br />Then is it possible to generate the model, but break the model into 64 pixel size mini models? And the emulator must implement the pixel priority to determine which pixel is visible. This way you can remove pixels that are obscuring others. This also applies to two sprites occupying the same location.<br /><br />In Kung Fu, I mean the character is actually make up of background objects. Do you treat background objects and sprite objects differently?</div><br /><br />I think that this approach come from the NES PUU itseft by this i mean 2D solution. Imagine that there are two 3D objects with different thickness, we filler out some pixel of back object  which is thicker then when the camera is not perpendicular with the scene, the back object still hides the front object from camera view.<br /><br />Btw, can you show me where to get the Kungfu game?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Fri Nov 27, 2015 11:19 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: 3D Nes Emulator</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The legal way:<br /><ol style="list-style-type: decimal"><li>Buy a <a href="http://www.infiniteneslives.com/kazzo.php" class="postlink">Kazzo dumper</a> from infiniteneslives.com</li><li>Add <a href="http://www.ebay.com/sch/i.html?_nkw=kung+fu+nes" class="postlink"><em>Kung Fu</em> for NES</a> to your game collection</li><li>Dump it</li><li>Verify that your dump has the same CRC as the <a href="http://bootgod.dyndns.org:7777/profile.php?id=245" class="postlink">verified good dump</a> </li></ol><br />The illegal way: <a href="https://www.youtube.com/watch?v=SAp0xO-LwFs" class="postlink">Download a ROM</a>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>geod</b> [ Fri Nov 27, 2015 5:11 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: 3D Nes Emulator</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Ok that game i know it. I asked to make sure which game he is talking about? <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>mkwong98</b> [ Fri Nov 27, 2015 6:52 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: 3D Nes Emulator</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I'm interested about what solution you will have for top down games (e.g. Zelda, 1943) or games (e.g. Ninja Gaiden) where the background is likely to be filled with solid tiles.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>geod</b> [ Wed Dec 30, 2015 11:58 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: 3D Nes Emulator</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Hello Everyone!<br />Longtime no see <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" />.<br />Lately i'm working to improve the vision and sound.<br />Lighting and shadows are added.<br />And now it's time for showcases.<br />Next step, i will work on depth layers problem.<br /><br /><a href="https://youtu.be/wzBjHEdh14k" class="postlink">https://youtu.be/wzBjHEdh14k</a><br /><a href="https://youtu.be/_Sl_Ou3Wrbc" class="postlink">https://youtu.be/_Sl_Ou3Wrbc</a><br /><a href="https://youtu.be/576mERxRnj4" class="postlink">https://youtu.be/576mERxRnj4</a><br /><a href="https://youtu.be/oPsWI5htHNw" class="postlink">https://youtu.be/oPsWI5htHNw</a><br /><a href="https://youtu.be/bKHYgiLuiNUw" class="postlink">https://youtu.be/bKHYgiLuiNUw</a><br /><a href="https://youtu.be/oPL0TqP71eg" class="postlink">https://youtu.be/oPL0TqP71eg</a>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Thu Dec 31, 2015 9:04 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: 3D Nes Emulator</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />576mERxRnj4: Somehow the Castlevania logo becomes a cylinder that occludes the C!<br />oPsWI5htHNw: Yet something that's supposed to be a cylinder (the Dr. Mario logo) isn't. It tries to make separate cylinders out of the letters in the title. And is there a reason the top of the bottle and the &quot;Game Over&quot; mark pulsate when the bank changes? Is it that it did the depth recognition with one bank, and things differ enough between the banks that the recognition changes?<br />bKHYgiLuiNUw: Shadows in SMB1. Very nice.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>geod</b> [ Fri Jan 01, 2016 2:48 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: 3D Nes Emulator</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Hi tepples, <br /><br />I was working on Vision and Sound last month.<br />Concerning PPU 3D, i have changed the underlying code into more general one but haven't touched its functionality yet.<br />I'm tacking it now, and we will discuss this topic in the next version which is probably playable.<br />For now just enjoy  the lighting and shadows please <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" />.<br /><br />By the way, the blinking effect in DrMario is done by bank switching technique? Awesome!

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Drew Sebastino</b> [ Sun Jan 03, 2016 12:52 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: 3D Nes Emulator</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I was wondering, when the emulator looks at a 8x8 tile, does it look at any of the ones around it before it decides how it wants to render that tile? I don't know if that makes sense, but I was looking at how the magnifying glass on Dr. Mario has the middle bulging out in a staircase like pattern while the rest is rounded (which is incorrect, but it's a start.) I think some of the bushes and stuff in SMB do the same thing. Maybe you could have it check stuff around it to make it bulge out as much as the stuff around it instead of completely. Just trying to give advice. I really like what you've done so far though. I will say one thing that was strange is how the text in SMB was rendered perfectly, but in Kung Fu, different characters were at different depths for seemingly no reason.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>geod</b> [ Mon Jan 04, 2016 12:01 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: 3D Nes Emulator</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Espozo wrote:</div><div class="quotecontent">I was wondering, when the emulator looks at a 8x8 tile, does it look at any of the ones around it before it decides how it wants to render that tile? I don't know if that makes sense, but I was looking at how the magnifying glass on Dr. Mario has the middle bulging out in a staircase like pattern while the rest is rounded (which is incorrect, but it's a start.) I think some of the bushes and stuff in SMB do the same thing. Maybe you could have it check stuff around it to make it bulge out as much as the stuff around it instead of completely. Just trying to give advice. I really like what you've done so far though. I will say one thing that was strange is how the text in SMB was rendered perfectly, but in Kung Fu, different characters were at different depths for seemingly no reason.</div><br /><br />The rendering mechanism is not just based on 8x8 tile, but based on &quot;shape&quot; - meaningful collection of consecutive tiles. Shape recognition - like any recognition problem - is hard and does not have an ultimate answer. On Nes System fortunately we can choose color pattern as the main factor for shape clustering, it works for 90% case.  It's still an open problem for improvement through. Consequently an 2D tile is not always mapping to an &quot;3D tile&quot;, for example an 2D solid tile can be used in the introduction cube at the begin of SMB, but also be used in grass or cloud. The corresponding 3d tile in each case is completely different. The original code only allowed one 2d tile to be mapped to one 3d tile. For the current code one 2d tile is technically allowed to be mapped to many 3d tile but still be mapped to only one 3d tile. That's why you see some small strange detail in grass, in pipe etc.  I could tack it earlier  of course, but it would affect greatly on emulation speed so instead i went for the missing aspect (light, shadow, adequate sound quality) first then performance re-optimization. Right now i'm ready to return to 3d convert problem.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>2</strong> of <strong>11</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>