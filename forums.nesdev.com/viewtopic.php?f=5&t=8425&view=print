<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Is there any equation of converting PCM to FM?</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Is there any equation of converting PCM to FM?</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=5&amp;t=8425">http://forums.nesdev.com/viewtopic.php?f=5&amp;t=8425</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>psycopathicteen</b> [ Sun Dec 18, 2011 5:49 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Is there any equation of converting PCM to FM?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Such as an equation that can take a PCE-style PCM samples to Genesis-like FM?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Zepper</b> [ Sun Dec 18, 2011 6:08 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I believe there's a way to convert pulse waves to FM instead, but PCM?. No, I have no clue how. <img src="./images/smilies/icon_sad.gif" alt=":(" title="Sad" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Shiru</b> [ Sun Dec 18, 2011 6:16 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />PCM can have an arbitrary waveform. FM is only capable to make rather simple waveforms (comparable to arbitrary), in case with Genesis all made from sine waves. So no, you can't convert arbitrary sound to FM.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>ccovell</b> [ Sun Dec 18, 2011 6:24 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />If you can make sawtooth waves in FM, you're already halfway there.  Most PCE sample sets are somewhat limited.  Check out the PCE demo "Ultimate HuC Sample Player" to get a graphical view of some of the most common sample definitions used in PCE games.
<br />
<br />Also, check out YouTube videos about combining harmonics from sine waves to make square waves (not needed on Genesis 'cause you have a PSG there too), sawtooth waves, and others.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Sun Dec 18, 2011 6:58 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />See the <a href="http://nesdev.com/bbs/viewtopic.php?t=6912" class="postlink">previous FM vs. PCM topic</a>. In <a href="http://nesdev.com/bbs/viewtopic.php?p=66699#66699" class="postlink">this post</a>, TmEE claimed to be able to create an FM patch that has "1:1 waveforms to my bass guitar".

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>kyuusaku</b> [ Sun Dec 18, 2011 11:30 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The YM2612 allows for CH 6 to be used as an 8-bit DAC (but the YM2612's timer foolishly can't be used on the Genesis so it'll require timed code).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>TmEE</b> [ Mon Dec 19, 2011 3:25 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">See the <a href="http://nesdev.com/bbs/viewtopic.php?t=6912" class="postlink">previous FM vs. PCM topic</a>. In <a href="http://nesdev.com/bbs/viewtopic.php?p=66699#66699" class="postlink">this post</a>, TmEE claimed to be able to create an FM patch that has "1:1 waveforms to my bass guitar".</div>
<br />Bass guitar has a quite simple waveform so its not so difficult to recreate it. Many natural instruments can be very accurately recreated. I would say one FM channel can recreate one string of some musical instrument. Since you only got like 6 or 8 channels (some chips got more) you cannot do very convincing sounds of instruments usually played in groups like orchestras. Good percussion is not so easy to make aswell, there's lot of sounds you can make but even more you cannot...
<br />
<br />Sawtooth is very easy to make in FM, and you only need 2 operators to do it leaving 2 free for other sound such as square waves or beefing up the sawtooth to get fatter sound.
<br />
<br />FM is excellent for bass, pads and brass and certain types of string instruments like acoustic guitars.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Zepper</b> [ Mon Dec 19, 2011 5:55 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Wait, so I'm changing the question a bit. Is there a function to generate FM samples from square waves?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>TmEE</b> [ Wed Dec 21, 2011 3:18 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />there are no FM "samples"

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Zepper</b> [ Wed Dec 21, 2011 3:20 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">TmEE wrote:</div><div class="quotecontent">there are no FM "samples"</div>
<br />
<br />So there's no sound "sample rate".

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Wed Dec 21, 2011 12:46 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />All the FM synthesizers made by Yamaha have a sample rate, because they are digital devices. (In the PC, the adlib soundcard produced sound at 49kHz). You could even argue there are two samples in every OPLx card: a logsin table and an exponent table. (see also <a href="https://docs.google.com/View?docid=dd8kqn9f_13cqjkf4gp" class="postlink">this decap project</a>). But the ways in which the device can use those two samples are very proscribed and should be thought of in the analog domain anyway.
<br />
<br />PCM sound can be hacked out on an FM synth, and I remember <a href="http://pouet.net/prod.php?which=29208" class="postlink">Inertia Player for DOS</a> supported it. But sound quality was awful, only better than Inertia's "use the PC speaker for sound" mode.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Zepper</b> [ Wed Dec 21, 2011 12:49 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Pardon me, but I didn't get. Isn't the waveform (file) composed by samples, 4 bytes for 16-bit stereo output? I didn't get that "there are no FM samples", unless he misunderstood me. I'm not saying about "sound samples" used by an ad-lib board, for example, like guitar, sax or any other.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Shiru</b> [ Wed Dec 21, 2011 12:54 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />A sound sample is something that is sampled, recorded from an audio source. FM does not have samples, because it is not a recording, it is a set of parameters. So it is called an instrument, or a patch.
<br />
<br />Playing PCM through an FM synth is nothing special, and it does not involve converting samples into FM parameters. It just abuses the synth's DAC one way or another.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Jarhmander</b> [ Wed Dec 21, 2011 1:05 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Maybe it is worth considering re-reading your original question:
<br /><div class="quotetitle">Zepper wrote:</div><div class="quotecontent">Wait, so I'm changing the question a bit. Is there a function to generate FM samples from square waves?</div>
<br />One way I can reinterpret it is : "Is there a way to use square waves as operators (either carrier or modulator) ?"
<br />Yes, the OPL3 can use square waves as operators.
<br />
<br />Here I assume that Zeeper understand the inner working of FM-based sound, that is, sound is produced via <strong>phase modulation</strong> synthesis (while modulating the phase affect frequency and hence, it's also frequency modultion, the way these chips produce sound is trully by phase modulation).
<br />
<br />If we didn't help with these answers, Zeeper, could you clarify your question?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>ap9</b> [ Sun Sep 10, 2017 4:27 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Is there any equation of converting PCM to FM?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />It is possible to develop a program to produce an FM patch from a short PCM sequence. The result would be an approximation — a simpler waveform from a sound.<br /><br />Any further detail would require, in theory, wave sampling — a driver (using the CPU) to render a sequence of FM waves to come closer to the original sound. But because you don't get a lot of precision for the parameters — particularly modulation and amplitude, it would probably require more than one mixed channel and the results would still be rough and vary.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>