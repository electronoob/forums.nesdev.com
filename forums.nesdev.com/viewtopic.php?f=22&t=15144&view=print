<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - 4-way freely-scrolling engine with status bar</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">4-way freely-scrolling engine with status bar</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=22&amp;t=15144">http://forums.nesdev.com/viewtopic.php?f=22&amp;t=15144</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Vectrex2809</b> [ Mon Nov 21, 2016 7:52 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>4-way freely-scrolling engine with status bar</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />So I just <s>mostly</s> finished coding this 4-way, freely scrolling engine that I'll probably use in a game later on.<br />For now, I just wanted to show this off to my fellow NES developers <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br /><br />There might be a few attribute issues, as well as having the actual scrolling taking a long time to execute (Press select to see the runtime. It's been only half-optimized, ha!), but I believe this is decent enough to show off without it looking like a completely unfinished mess.<br />Oh, and it even has a status bar <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /><br /><br />DL link is attached to this post. Let me know if you have any feedback ^^

		
			<br clear="all" /><br />

			<table class="tablebg" width="100%" cellspacing="1">
			<tr>
				<td><b class="genmed">Attachments: </b></td>
			</tr>
			
				<tr>
					<td>
			<span class="gensmall"><b>File comment:</b> Demo is here :)</span><br />
		
			<span class="genmed">
				<img src="./styles/subsilver2/imageset/icon_topic_attach.gif" width="14" height="18" alt="" title="" /> 
				<a href="./download/file.php?id=7042">scrolldemo.nes</a> [64.02 KiB]
			</span><br />
			<span class="gensmall">Downloaded 211 times</span>
		

		<br />
	</td>
				</tr>
			
			</table>
		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Diskover</b> [ Tue Nov 22, 2016 9:04 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: 4-way freely-scrolling engine with status bar</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Wow

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>FrankenGraphics</b> [ Tue Nov 22, 2016 9:40 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: 4-way freely-scrolling engine with status bar</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><s>Speed</s> BLAST PROCESSING!!  <img src="./images/smilies/icon_eek.gif" alt=":shock:" title="Shocked" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Tue Nov 22, 2016 12:49 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: 4-way freely-scrolling engine with status bar</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Cool looking demo. The technique you're using for the status bar reminds me of the status bar in <em>The Jungle Book</em>. Having to redraw the status bar all the time is something that doesn't sit well with me, though. You're using horizontal mirroring, right? This means you have attribute artifacts at the side(s) of the screen when scrolling, so you could achieve the exact same effect if you used 1-screen mirroring and had the gameplay and the status bar each in a separate name table, so you wouldn't need to keep redrawing the status bar to dodge the scroll.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Vectrex2809</b> [ Tue Nov 22, 2016 1:24 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: 4-way freely-scrolling engine with status bar</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent">Cool looking demo. The technique you're using for the status bar reminds me of the status bar in <em>The Jungle Book</em>. Having to redraw the status bar all the time is something that doesn't sit well with me, though. You're using horizontal mirroring, right? This means you have attribute artifacts at the side(s) of the screen when scrolling, so you could achieve the exact same effect if you used 1-screen mirroring and had the gameplay and the status bar each in a separate name table, so you wouldn't need to keep redrawing the status bar to dodge the scroll.</div><br /><br />I got inspired by <em>The Jungle Book</em> indeed <img src="./images/smilies/icon_wink.gif" alt=";)" title="Wink" /><br />Attribute artifacts are definitely an unavoidable problem here, and I thought about doing it alla <em>Crystalis</em> for a while, especially since I'm using MMC3 for the IRQs, but I ultimately ended up doing it <em>Jungle Book</em> style. Just a matter of personal preference I guess...

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Tue Nov 22, 2016 1:26 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: 4-way freely-scrolling engine with status bar</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />If I'm not mistaken, <em>The Jungle Book</em> users vertical mirroring, so getting a scrolling window plus a status bar in just 30 tiles of vertical space is a very tight fit, but I believe the game gets away with it by blanking part of the screen. The biggest advantage is that there are no attribute artifacts at all when scrolling.<br /><br />You can also get rid of the attribute artifacts if you use a cartridge containing VRAM for 4 screens. You'd still have to redraw the status bar sometimes, or skip it using IRQs.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Tue Nov 22, 2016 1:39 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: 4-way freely-scrolling engine with status bar</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />This demo uses MMC3, whose <a href="https://wiki.nesdev.com/w/index.php/TxROM" class="postlink">standard boards</a> don't support 1-screen mirroring. It also uses WRAM at $6000. <a href="https://wiki.nesdev.com/w/index.php/TLSROM" class="postlink">TLSROM</a> (mapper 118, MMC3 with A10 out = CHR A17) supports arbitrary mirroring, but unlike TSROM and TKROM, TLSROM has no WRAM at $6000. <a href="https://wiki.nesdev.com/w/index.php/TKSROM" class="postlink">TKSROM</a> (mapper 118 with battery RAM) supports both 1-screen mirroring and battery RAM, but it isn't very Ys-y to find <a href="http://bootgod.dyndns.org:7777/profile.php?id=3558" class="postlink">a game using that board</a>. (Only its <a href="http://superfamicom.org/info/ys-iii-wanderers-from-ys" class="postlink">Super NES port</a> made it across the Pacific.)<br /><br />One optimization suggestion for this general technique of moving the status bar back and forth: Use only the last two rows of each nametable ($2380-$23BF) for the status bar so that you don't have to redraw it quite as often.<br /><br />Another optimization suggestion, specific to MMC3 or other mappers with an interval timer: Set the timer to when scanline 223 of the nametable is about to be rendered, so that you can wrap around to Y=0 in software just before line 224. That way:<br /><ol style="list-style-type: lower-alpha"><li>You can keep the status bar at Y=224 ($2380) without needing to redraw anything.</li><li>You get a plane that's 7 attribute rows tall instead of 7 1/2, making camera control somewhat simpler especially with your 32x32 pixel metatiles. </li><li>You can arrange the nametable horizontally (vertical mirroring) to completely eliminate the attribute clash on the trailing edge. </li></ol>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tomaitheous</b> [ Tue Nov 22, 2016 3:27 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: 4-way freely-scrolling engine with status bar</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />What mappers support the &quot;L&quot; mirroring? Or is that something custom?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Tue Nov 22, 2016 4:06 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: 4-way freely-scrolling engine with status bar</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Only two mappers that I'm aware of have L-shaped mirroring as a distinct mode: <a href="https://wiki.nesdev.com/w/index.php/INES_Mapper_243" class="postlink">Sachen 374N</a> and <a href="https://wiki.nesdev.com/w/index.php/Sachen_8259" class="postlink">Sachen 8259</a>. Anything that allows assigning a separate A10 out value for each combination of PA10 and PA11 in also supports L-shaped mirroring, such as TLSROM, MMC5, and Namco 163.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Wed Nov 23, 2016 12:09 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: 4-way freely-scrolling engine with status bar</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">This demo uses MMC3, whose <a href="https://wiki.nesdev.com/w/index.php/TxROM" class="postlink">standard boards</a> don't support 1-screen mirroring. It also uses WRAM at $6000. <a href="https://wiki.nesdev.com/w/index.php/TLSROM" class="postlink">TLSROM</a> (mapper 118, MMC3 with A10 out = CHR A17) supports arbitrary mirroring, but unlike TSROM and TKROM, TLSROM has no WRAM at $6000. <a href="https://wiki.nesdev.com/w/index.php/TKSROM" class="postlink">TKSROM</a> (mapper 118 with battery RAM) supports both 1-screen mirroring and battery RAM, but it isn't very Ys-y to find <a href="http://bootgod.dyndns.org:7777/profile.php?id=3558" class="postlink">a game using that board</a>. (Only its <a href="http://superfamicom.org/info/ys-iii-wanderers-from-ys" class="postlink">Super NES port</a> made it across the Pacific.)</div><br />I have yet to be able to see the demo, but I see no reason for not using TKSROM equivalent if one would like to. It can be easily supported on flash carts, and if there is a need to test from a Nintendo board it's just a single wire change from TSROM or TKROM.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>FrankenGraphics</b> [ Wed Nov 23, 2016 5:00 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: 4-way freely-scrolling engine with status bar</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />TKSROM is one of infiniteNESlives' &quot;<a href="http://www.infiniteneslives.com/nessupplies.php#TKSROM" class="postlink">coming soon</a>&quot; items; though the list could benefit from an update or a priority list or pipeline queue.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>