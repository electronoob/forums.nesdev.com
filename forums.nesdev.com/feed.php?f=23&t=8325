<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="http://forums.nesdev.com/feed.php?f=23&amp;t=8325" />

<title>nesdev.com</title>
<subtitle>NES Development and Strangulation Records message boards</subtitle>
<link href="http://forums.nesdev.com/index.php" />
<updated>2011-11-25T07:29:30-07:00</updated>

<author><name><![CDATA[nesdev.com]]></name></author>
<id>http://forums.nesdev.com/feed.php?f=23&amp;t=8325</id>
<entry>
<author><name><![CDATA[Hamburgler]]></name></author>
<updated>2011-11-25T07:29:30-07:00</updated>
<published>2011-11-25T07:29:30-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8325&amp;p=86795#p86795</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8325&amp;p=86795#p86795"/>
<title type="html"><![CDATA[Some PCE VCE+VDC questions.]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8325&amp;p=86795#p86795"><![CDATA[
Incrementing after BYR when hblank starts and latching it when hblank ends cleared up a lot of problems for me.<br /><br />As for RCR, I think it increments the scanline counter first at the end of HDW then triggers the interrupt if RCR matches the counter. This causes the least amount of problems for games on my emulator but it isn't perfect so it may not be entirely correct.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3370">Hamburgler</a> — Fri Nov 25, 2011 7:29 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[mic_]]></name></author>
<updated>2011-11-21T14:23:36-07:00</updated>
<published>2011-11-21T14:23:36-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8325&amp;p=86639#p86639</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8325&amp;p=86639#p86639"/>
<title type="html"><![CDATA[Some PCE VCE+VDC questions.]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8325&amp;p=86639#p86639"><![CDATA[
<div class="quotetitle">tomaitheous wrote:</div><div class="quotecontent"><br /><div class="quotetitle">mic_ wrote:</div><div class="quotecontent">If you already have some tests specifically for this I can run them on a PAL TurboGrafx.<br /></div><br /><br /> I wish I had a PAL TG. The hack they did is pretty advanced (the VCE isn't outputting a PAL timing frame). Lots of tests I'd run on that thing. Maybe someday I'll get one.</div><br /><br />Consolegoods sells PAL units new/boxed for about $80. Or about $110 if you want it modded for RGB output.<br />Keep in mind that they are shipped from the UK, and come with 230V power supplies.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=1181">mic_</a> — Mon Nov 21, 2011 2:23 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tomaitheous]]></name></author>
<updated>2011-11-21T11:56:42-07:00</updated>
<published>2011-11-21T11:56:42-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8325&amp;p=86637#p86637</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8325&amp;p=86637#p86637"/>
<title type="html"><![CDATA[Some PCE VCE+VDC questions.]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8325&amp;p=86637#p86637"><![CDATA[
<div class="quotetitle">mic_ wrote:</div><div class="quotecontent"><br />If you already have some tests specifically for this I can run them on a PAL TurboGrafx.<br /></div><br /><br /> I wish I had a PAL TG. The hack they did is pretty advanced (the VCE isn't outputting a PAL timing frame). Lots of tests I'd run on that thing. Maybe someday I'll get one.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3645">tomaitheous</a> — Mon Nov 21, 2011 11:56 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[mic_]]></name></author>
<updated>2011-11-18T09:11:41-07:00</updated>
<published>2011-11-18T09:11:41-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8325&amp;p=86486#p86486</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8325&amp;p=86486#p86486"/>
<title type="html"><![CDATA[Some PCE VCE+VDC questions.]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8325&amp;p=86486#p86486"><![CDATA[
If you already have some tests specifically for this I can run them on a PAL TurboGrafx.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=1181">mic_</a> — Fri Nov 18, 2011 9:11 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Hamburgler]]></name></author>
<updated>2011-11-18T08:17:24-07:00</updated>
<published>2011-11-18T08:17:24-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8325&amp;p=86485#p86485</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8325&amp;p=86485#p86485"/>
<title type="html"><![CDATA[Some PCE VCE+VDC questions.]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8325&amp;p=86485#p86485"><![CDATA[
Thanks, I'll give these settings a try. I wasn't thinking of it in terms of HDS+HDW+HDE+HSW, which I should have been doing. I figured it had to be on a boundary of some sort but I was only thinking of hblank+vblank from the VCE.<br /><br />I'd love to see the results of testing on real hardware, but I should be able to manage without in the meantime if you're too busy.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3370">Hamburgler</a> — Fri Nov 18, 2011 8:17 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tomaitheous]]></name></author>
<updated>2011-11-17T07:03:35-07:00</updated>
<published>2011-11-17T07:03:35-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8325&amp;p=86445#p86445</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8325&amp;p=86445#p86445"/>
<title type="html"><![CDATA[Some PCE VCE+VDC questions.]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8325&amp;p=86445#p86445"><![CDATA[
RCR, IIRC, happens when HDW ends(pretty sure it's the end of HDW and not the end of HDE). The VCE signals to the VDC when hblank starts. HSW is pretty much just stall time for the VDC, so it can sync with outside driving device (like the VCE). Having too large a HSW has no effect since it causes the VDC to go to the next phase (HDS), but too small can cause a double interrupt if it's missing the sync signal window. If the VDC is setup in a manner in which the 'scanline" is too small, the VDC will start drawing the next scanline on the same scanline (since it's just feeding the digital pixel bus to the VCE). So the VDC will trigger an interrupt once(when HDW ends), and then again when the VCE asserts hsync to the VCE (which automatically causes the current HDW to end, thus getting another interrupt if RCR is set for the next scanline). <br /><br /> I haven't tested it, but I remember Exophase saying he tested BYR and BXR being latched some cycles apart, but relatively close to the width of the scanline. IIRC, BYR and BXR are latched when sometime during HDS (and obviously before HDW starts).<br /><br /> I'm super busy at the moment, but I could test some stuff on the real system for you next week, if you need.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3645">tomaitheous</a> — Thu Nov 17, 2011 7:03 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Hamburgler]]></name></author>
<updated>2011-11-16T11:23:13-07:00</updated>
<published>2011-11-16T11:23:13-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8325&amp;p=86408#p86408</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8325&amp;p=86408#p86408"/>
<title type="html"><![CDATA[Some PCE VCE+VDC questions.]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8325&amp;p=86408#p86408"><![CDATA[
I'm writing a PCE emulator and while it runs a lot of games I'm having trouble with a few glitches.<br /><br />1) When exactly does the RCR check happen? Is it at the beginning of the scanline (cycle 0), or after the scanline has been drawn (cycle 1127), or somewhere during the hblank (between 1128-1364)?<br /><br />2) Does the RCR check against the current scanline, or the next one? As in does it fire an interrupt as it starts to draw the matched scanline, or does it give you time to change things like BYR before it starts drawing?<br /><br />3) When does the BYR latch increment? It seems that when you write to BYR it doesn't take effect until the next line so there's a latch involved, but some games seem to be off by a line if I don't pre-increment BYR before drawing with it. I can only assume this means I'm incrementing at the wrong time and some games set BYR at different times expecting the correct behavior.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3370">Hamburgler</a> — Wed Nov 16, 2011 11:23 am</p><hr />
]]></content>
</entry>
</feed>