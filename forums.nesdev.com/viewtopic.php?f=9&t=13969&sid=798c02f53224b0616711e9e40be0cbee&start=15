<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<link rel="icon" href="/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />

<title>nesdev.com &bull; View topic - Fong Shen Bang - Zhu Lu Zhi Zhan (Mapper 246)(Solved)</title>

<link rel="alternate" type="application/atom+xml" title="Feed - nesdev.com" href="http://forums.nesdev.com/feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - News" href="http://forums.nesdev.com/feed.php?mode=news" /><link rel="alternate" type="application/atom+xml" title="Feed - All forums" href="http://forums.nesdev.com/feed.php?mode=forums" /><link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="http://forums.nesdev.com/feed.php?mode=topics" /><link rel="alternate" type="application/atom+xml" title="Feed - Active Topics" href="http://forums.nesdev.com/feed.php?mode=topics_active" /><link rel="alternate" type="application/atom+xml" title="Feed - Forum - NES Hardware and Flash Equipment" href="http://forums.nesdev.com/feed.php?f=9" /><link rel="alternate" type="application/atom+xml" title="Feed - Topic - Fong Shen Bang - Zhu Lu Zhi Zhan (Mapper 246)(Solved)" href="http://forums.nesdev.com/feed.php?f=9&amp;t=13969" />

<link rel="stylesheet" href="./style.php?id=1&amp;lang=en&amp;sid=108ad79bc380aff03de312113f11d52b" type="text/css" />

<script type="text/javascript">
// <![CDATA[


function popup(url, width, height, name)
{
	if (!name)
	{
		name = '_popup';
	}

	window.open(url.replace(/&amp;/g, '&'), name, 'height=' + height + ',resizable=yes,scrollbars=yes,width=' + width);
	return false;
}

function jumpto()
{
	var page = prompt('Enter the page number you wish to go to:', '2');
	var per_page = '15';
	var base_url = './viewtopic.php?f=9&amp;t=13969&amp;sid=108ad79bc380aff03de312113f11d52b';

	if (page !== null && !isNaN(page) && page == Math.floor(page) && page > 0)
	{
		if (base_url.indexOf('?') == -1)
		{
			document.location.href = base_url + '?start=' + ((page - 1) * per_page);
		}
		else
		{
			document.location.href = base_url.replace(/&amp;/g, '&') + '&start=' + ((page - 1) * per_page);
		}
	}
}

/**
* Find a member
*/
function find_username(url)
{
	popup(url, 760, 570, '_usersearch');
	return false;
}

/**
* Mark/unmark checklist
* id = ID of parent container, name = name prefix, state = state [true/false]
*/
function marklist(id, name, state)
{
	var parent = document.getElementById(id);
	if (!parent)
	{
		eval('parent = document.' + id);
	}

	if (!parent)
	{
		return;
	}

	var rb = parent.getElementsByTagName('input');
	
	for (var r = 0; r < rb.length; r++)
	{
		if (rb[r].name.substr(0, name.length) == name)
		{
			rb[r].checked = state;
		}
	}
}



	/**
	* Play quicktime file by determining it's width/height
	* from the displayed rectangle area
	*
	* Only defined if there is a file block present.
	*/
	function play_qt_file(obj)
	{
		var rectangle = obj.GetRectangle();

		if (rectangle)
		{
			rectangle = rectangle.split(',')
			var x1 = parseInt(rectangle[0]);
			var x2 = parseInt(rectangle[2]);
			var y1 = parseInt(rectangle[1]);
			var y2 = parseInt(rectangle[3]);

			var width = (x1 < 0) ? (x1 * -1) + x2 : x2 - x1;
			var height = (y1 < 0) ? (y1 * -1) + y2 : y2 - y1;
		}
		else
		{
			var width = 200;
			var height = 0;
		}

		obj.width = width;
		obj.height = height + 16;

		obj.SetControllerVisible(true);

		obj.Play();
	}


// ]]>
</script>
</head>
<body class="ltr">

<a name="top"></a>

<div id="wrapheader">

	<div id="logodesc">
	</div>

	<div id="menubar">

		<table width="100%" cellspacing="0">
		<tr>
			<td rowspan="2"><a href="./index.php?sid=108ad79bc380aff03de312113f11d52b"><img src="./styles/subsilver2/imageset/site_logo.gif" alt="" title="" /></a></td>
			<td width="100%" align="center"><h1>nesdev.com</h1><span class="gen">NES Development and Strangulation Records message boards</span></td>
		</tr>
		<tr>
			<td align="center">
				<!--<div style="float: right;">
					<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
					<input type="hidden" name="cmd" value="_s-xclick">
					<input type="hidden" name="hosted_button_id" value="X2HM4WNR5YT8S">
					<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
					<img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
					</form>
				</div>-->
				<a href="./faq.php?sid=108ad79bc380aff03de312113f11d52b"><img src="./styles/prosilver/theme/images/icon_mini_faq.gif" width="12" height="13" alt="*" /> FAQ</a>
				&nbsp; &nbsp;<a href="./search.php?sid=108ad79bc380aff03de312113f11d52b"><img src="./styles/prosilver/theme/images/icon_mini_search.gif" width="12" height="13" alt="*" /> Search</a>
				<br />	
				 &nbsp;<a href="./ucp.php?mode=register&amp;sid=108ad79bc380aff03de312113f11d52b"><img src="./styles/prosilver/theme/images/icon_mini_register.gif" width="12" height="13" alt="*" /> Register</a>
					&nbsp; &nbsp;<a href="./ucp.php?mode=login&amp;sid=108ad79bc380aff03de312113f11d52b"><img src="./styles/prosilver/theme/images/icon_mini_login.gif" width="12" height="13" alt="*" /> Login</a>&nbsp;
			</td>
		</tr>
		</table>
	</div>

	<div id="datebar">
		<table width="100%" cellspacing="0">
		<tr>
			<td class="gensmall"></td>
			<td class="gensmall" align="right">It is currently Sun Oct 09, 2016 6:46 am<br /></td>
		</tr>
		</table>
	</div>

</div>

<div id="wrapcentre">

	
	<p class="searchbar">
		<span style="float: left;"><a href="./search.php?search_id=unanswered&amp;sid=108ad79bc380aff03de312113f11d52b">View unanswered posts</a> | <a href="./search.php?search_id=active_topics&amp;sid=108ad79bc380aff03de312113f11d52b">View active topics</a></span>
		
	</p>
	

	<br style="clear: both;" />

	<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php?sid=108ad79bc380aff03de312113f11d52b">Board index</a> &#187; <a href="./viewforum.php?f=24&amp;sid=108ad79bc380aff03de312113f11d52b">NES / Famicom</a> &#187; <a href="./viewforum.php?f=9&amp;sid=108ad79bc380aff03de312113f11d52b">NES Hardware and Flash Equipment</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>

	<br />
	

					<center>
					<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- NesDev Forums -->
					<ins class="adsbygoogle"
						 style="display:block"
						 data-ad-client="ca-pub-7801010229099644"
						 data-ad-slot="7979066809"
						 data-ad-format="auto"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>
					</center>
	<br />


<div id="pageheader">
	<h2><a class="titles" href="./viewtopic.php?f=9&amp;t=13969&amp;start=15&amp;sid=108ad79bc380aff03de312113f11d52b">Fong Shen Bang - Zhu Lu Zhi Zhan (Mapper 246)(Solved)</a></h2>


	<p class="moderators">Moderators: <a href="./memberlist.php?mode=viewprofile&amp;u=3466&amp;sid=108ad79bc380aff03de312113f11d52b">B00daW</a>, <a href="./memberlist.php?mode=group&amp;g=320&amp;sid=108ad79bc380aff03de312113f11d52b">Moderators</a></p>

</div>

<br clear="all" /><br />

<div id="pagecontent">

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=9&amp;sid=108ad79bc380aff03de312113f11d52b"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=9&amp;t=13969&amp;sid=108ad79bc380aff03de312113f11d52b"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>2</strong> of <strong>6</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 84 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"><b><a href="#" onclick="jumpto(); return false;" title="Click to jump to pageâ€¦">Go to page</a> <a href="./viewtopic.php?f=9&amp;t=13969&amp;sid=108ad79bc380aff03de312113f11d52b&amp;start=0">Previous</a>&nbsp;&nbsp;<a href="./viewtopic.php?f=9&amp;t=13969&amp;sid=108ad79bc380aff03de312113f11d52b">1</a><span class="page-sep">, </span><strong>2</strong><span class="page-sep">, </span><a href="./viewtopic.php?f=9&amp;t=13969&amp;sid=108ad79bc380aff03de312113f11d52b&amp;start=30">3</a><span class="page-sep">, </span><a href="./viewtopic.php?f=9&amp;t=13969&amp;sid=108ad79bc380aff03de312113f11d52b&amp;start=45">4</a><span class="page-sep">, </span><a href="./viewtopic.php?f=9&amp;t=13969&amp;sid=108ad79bc380aff03de312113f11d52b&amp;start=60">5</a><span class="page-sep">, </span><a href="./viewtopic.php?f=9&amp;t=13969&amp;sid=108ad79bc380aff03de312113f11d52b&amp;start=75">6</a> &nbsp;<a href="./viewtopic.php?f=9&amp;t=13969&amp;sid=108ad79bc380aff03de312113f11d52b&amp;start=30">Next</a></b></td>
		
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat">
			<table width="100%" cellspacing="0">
			<tr>
				<td class="nav" nowrap="nowrap">&nbsp;
				<a href="./viewtopic.php?f=9&amp;t=13969&amp;start=15&amp;sid=108ad79bc380aff03de312113f11d52b&amp;view=print" title="Print view">Print view</a>
				</td>
				<td class="nav" align="right" nowrap="nowrap"><a href="./viewtopic.php?f=9&amp;t=13969&amp;view=previous&amp;sid=108ad79bc380aff03de312113f11d52b">Previous topic</a> | <a href="./viewtopic.php?f=9&amp;t=13969&amp;view=next&amp;sid=108ad79bc380aff03de312113f11d52b">Next topic</a>&nbsp;</td>
			</tr>
			</table>
		</td>
	</tr>

	</table>


	<table class="tablebg" width="100%" cellspacing="1">
	
		<tr>
			<th>Author</th>
			<th>Message</th>
		</tr>
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p166574"></a>
				<b class="postauthor">Ice Man</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p166574">Re: Fong Shen Bang - Zhu Lu Zhi Zhan (Mapper 246)</a></div><div style="float: right;"><a href="./viewtopic.php?p=166574&amp;sid=108ad79bc380aff03de312113f11d52b#p166574"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Mon Mar 21, 2016 3:40 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Jul 04, 2014 2:34 pm<br /><b>Posts:</b> 219<br /><b>Location:</b> Germany
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Might try that.<br /><br />Also, I forgot to add. It ONLY works on NOAC clones.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=6594&amp;sid=108ad79bc380aff03de312113f11d52b"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p166578"></a>
				<b class="postauthor">nocash</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p166578">Re: Fong Shen Bang - Zhu Lu Zhi Zhan (Mapper 246)</a></div><div style="float: right;"><a href="./viewtopic.php?p=166578&amp;sid=108ad79bc380aff03de312113f11d52b#p166578"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Mon Mar 21, 2016 5:59 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Feb 24, 2012 12:09 pm<br /><b>Posts:</b> 496
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">lidnariq wrote:</div><div class="quotecontent"><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; +--v--+<br />&nbsp;/ROMSEL -&gt; |01 20| -- Vcc<br />&nbsp;CPU A14 -&gt; |02 19| -&gt; PRG RAM /CE<br />&nbsp;CPU A13 -&gt; |03 18| -&gt; 74'670 /WE (PRG)<br />&nbsp;CPU A12 -&gt; |04 17| -&gt; 74'670 /WE (CHR)<br />&nbsp;CPU A11 -&gt; |05 16| &lt;- CPU M2<br />&nbsp;CPU A10 -&gt; |06 15| -&gt; SRAM R/W<br />&nbsp; CPU A9 -&gt; |07 14| &lt;- CPU A4 (PRG ROM A5)<br />&nbsp; CPU A8 -&gt; |08 13| &lt;- CPU A5 (PRG ROM A8)<br />&nbsp; CPU A7 -&gt; |09 12| -&gt; 74'670 /RE (PRG)<br />&nbsp; &nbsp; &nbsp;Gnd -- |10 11| &lt;- CPU A6<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; +-----+</div></div><br />Some ideas...<br /><br /><strong>M2</strong> - Rather unlikely: Some carts seem to detect reset by measuring inactivity on M2 (aka PHI2), but I don't see how the hardware on the PCB could do that... it would require something to detect if M2 is inactive for a &quot;longer period&quot;, ie. some kind of timer or capacitor.<br />Anyways, let's say it could somehow do that: Then the next problem would be that the 74670's don't have any reset-input, but resetting that work nethertheless: The GAL could issue a /WE=LOW signal to 74670's (and hope/assume that console does output D0-D7 all HIGH during reset; which might differ on real Famicom vs Famiclone).<br />But that idea wouldn't explain why the GAL outputs the /RE signal (apart from probably being unable to sense M2 inactivity).<br /><br /><strong>/RE</strong> - More likely: /RE might get HIGH any time when reading from an address higher than FFC0h (the Reset code and reset vector are all located at FFD0h..FFFFh). So /RE wouldn't restricted to boot-up time, but would also keep affecting the memory mapping after booting (eg. if the game would fetch the IRQ vector from FFFEh; it doesn't use IRQs, and thus doesn't ever so though).<br />If you have some cartridge-dumping hardware (and can modify the dumping software): You could check if it's forcing FFC0h..FFFFh to be mapped to a fixed bank: There are four 8K ROM windows, the first three windows (at 8000h-DFFFh should allow to read the &quot;plain&quot; ROM content, but trying to read from the fourth window at E000h-FFFFh should always map the same data in last 40h bytes of each 8K bank).<br /><br />For the 74640's open-bus outputs when /RE=HIGH. I've never seen an open-bus or HighZ signal being 2V, from my experiences open bus stuff is either a clean HIGH or a clean LOW level most of the time. The main problem might be raising edges being quite slow (not immediately reaching HIGH levels on LOW-to-open-bus transitions).<br />So the cartridge might require the console to output address FFC0h..FFFFh before and during booting. If a real Famicom outputs 0000h during Reset, then it might fail. And if the CPU should happen to output 'wrong' address values during executing the bootcode at FFD0h and up, then it might fail, too. I've never cared too much what the NES is doing in such cases - could it change the address levels on internal-opcode cycles? Or change the address levels for a few nanoseconds on gaps between opcode cycles?<br /><br />Anyways, I would suggest to add pull-ups to 74670's outputs, too. Or did you already do that? Something like 10Kohm should be fine, or try 3.3Kohm if you want to be more aggressive and make sure that you get fast rising edges.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=5211&amp;sid=108ad79bc380aff03de312113f11d52b"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p166579"></a>
				<b class="postauthor">Ice Man</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p166579">Re: Fong Shen Bang - Zhu Lu Zhi Zhan (Mapper 246)</a></div><div style="float: right;"><a href="./viewtopic.php?p=166579&amp;sid=108ad79bc380aff03de312113f11d52b#p166579"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Mon Mar 21, 2016 6:06 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Jul 04, 2014 2:34 pm<br /><b>Posts:</b> 219<br /><b>Location:</b> Germany
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Thanks for all the help. I will test pull-up resistors later.<br /><br />As for dumping software. I have a Kazzo Dumper but no script for mapper 246 yet.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=6594&amp;sid=108ad79bc380aff03de312113f11d52b"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p166580"></a>
				<b class="postauthor">nocash</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p166580">Re: Fong Shen Bang - Zhu Lu Zhi Zhan (Mapper 246)</a></div><div style="float: right;"><a href="./viewtopic.php?p=166580&amp;sid=108ad79bc380aff03de312113f11d52b#p166580"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Mon Mar 21, 2016 6:30 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Feb 24, 2012 12:09 pm<br /><b>Posts:</b> 496
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">The PRG ROM is 512Kbyte with 64 banks of 8Kbyte, so six resistors should do it (or just to be sure not to use the wrong pins: simply use 8 resistors, wired to all PRG bank outputs).<br /><br />Dumper with scripts sounds as if it could be used to test if it's doing that special mapping for address FFC0h-FFFFh. Is there anybody familar with that script stuff?<br /><br />One script (for dumping through the upper 8K window) should do this:<br /><span style="color: #00FF00">For i=0 to 3Fh: [6003h]=i, dump [E000h..FFFFh], next i</span><br />and another script (for dumping through another 8K window) should do this:<br /><span style="color: #00FF00">For i=0 to 3Fh: [6000h]=i, dump [8000h..9FFFh], next i</span><br />then use some filecompare utility to see if the output is same/different.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=5211&amp;sid=108ad79bc380aff03de312113f11d52b"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p166581"></a>
				<b class="postauthor">Ice Man</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p166581">Re: Fong Shen Bang - Zhu Lu Zhi Zhan (Mapper 246)</a></div><div style="float: right;"><a href="./viewtopic.php?p=166581&amp;sid=108ad79bc380aff03de312113f11d52b#p166581"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Mon Mar 21, 2016 7:40 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Jul 04, 2014 2:34 pm<br /><b>Posts:</b> 219<br /><b>Location:</b> Germany
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Here's an example script of NROM (Mapper 0):<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">board &lt;- { <br />mappernum = 0,<br />cpu_romsize = 0x8000, cpu_banksize = 0x4000, <br />ppu_romsize = 0x2000, ppu_banksize = 0x2000, <br />ppu_ramfind = false, vram_mirrorfind = true <br />}; <br />function cpu_dump (d, pagesize, banksize) <br />{ <br />cpu_read (d, 0x8000, 0x4000); <br />cpu_read (d, 0xc000, 0x4000); <br />} <br />function ppu_dump (d, pagesize, banksize) <br />{ <br />ppu_read (d, 0, banksize); <br />}</div><br /><br />Or more complex MMC3 (Mapper 4):<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">board &lt;- {<br />&nbsp; &nbsp;mappernum = 4, vram_mirrorfind = false, ppu_ramfind = true,<br />&nbsp; &nbsp;cpu_rom = {<br />&nbsp; &nbsp;&nbsp; &nbsp;size_base = 2 * mega, size_max = 4 * mega,<br />&nbsp; &nbsp;&nbsp; &nbsp;banksize = 0x2000,<br />&nbsp; &nbsp;}, <br />&nbsp; &nbsp;cpu_ram = {<br />&nbsp; &nbsp;&nbsp; &nbsp;size_base = 0x2000, size_max = 0x2000,<br />&nbsp; &nbsp;&nbsp; &nbsp;banksize = 0x2000,<br />&nbsp; &nbsp;},<br />&nbsp; &nbsp;ppu_rom = {<br />&nbsp; &nbsp;&nbsp; &nbsp;size_base = 2 * mega, size_max = 2 * mega,<br />&nbsp; &nbsp;&nbsp; &nbsp;banksize = 0x0400<br />&nbsp; &nbsp;}<br />};<br /><br />function cpu_dump(d, pagesize, banksize)<br />{<br />&nbsp; &nbsp;cpu_write(d, 0xa001, 0); //disable W-RAM<br />&nbsp; &nbsp;for(local i = 0; i &lt; pagesize - 2; i += 2){<br />&nbsp; &nbsp;&nbsp; &nbsp;cpu_write(d, 0x8000, 6);<br />&nbsp; &nbsp;&nbsp; &nbsp;cpu_write(d, 0x8001, i);<br />&nbsp; &nbsp;&nbsp; &nbsp;cpu_write(d, 0x8000, 7);<br />&nbsp; &nbsp;&nbsp; &nbsp;cpu_write(d, 0x8001, i | 1);<br />&nbsp; &nbsp;&nbsp; &nbsp;cpu_read(d, 0x8000, banksize * 2);<br />&nbsp; &nbsp;}<br />&nbsp; &nbsp;cpu_read(d, 0xc000, banksize * 2);<br />}<br />function ppu_dump(d, pagesize, banksize)<br />{<br />&nbsp; &nbsp;for(local i = 0; i &lt; pagesize; i+=4){<br />&nbsp; &nbsp;&nbsp; &nbsp;cpu_write(d, 0x8000, 2);<br />&nbsp; &nbsp;&nbsp; &nbsp;cpu_write(d, 0x8001, i);<br />&nbsp; &nbsp;&nbsp; &nbsp;cpu_write(d, 0x8000, 3);<br />&nbsp; &nbsp;&nbsp; &nbsp;cpu_write(d, 0x8001, i | 1);<br />&nbsp; &nbsp;&nbsp; &nbsp;cpu_write(d, 0x8000, 4);<br />&nbsp; &nbsp;&nbsp; &nbsp;cpu_write(d, 0x8001, i | 2);<br />&nbsp; &nbsp;&nbsp; &nbsp;cpu_write(d, 0x8000, 5);<br />&nbsp; &nbsp;&nbsp; &nbsp;cpu_write(d, 0x8001, i | 3);<br />&nbsp; &nbsp;&nbsp; &nbsp;ppu_read(d, 0x1000, banksize * 4);<br />&nbsp; &nbsp;}<br />}<br /><br />/*<br />http://nesdevwiki.org/wiki/MMC3<br />&nbsp;PRG RAM protect ($A001-$BFFF, odd)<br />7&nbsp; bit&nbsp; 0<br />---- ----<br />RWxx xxxx<br />||<br />|+-------- Write protection (0: allow writes; 1: deny writes)<br />+--------- Chip enable (0: disable chip; 1: enable chip)<br />*/<br />function cpu_ram_access(d, pagesize, banksize)<br />{<br />&nbsp; &nbsp;cpu_write(d, 0xa001, 0x80);<br />&nbsp; &nbsp;cpu_ramrw(d, 0x6000, banksize);<br />&nbsp; &nbsp;cpu_write(d, 0xa001, 0x40);<br />}<br /><br />/*<br />CPU memory bank for T*ROM<br />cpu address|rom address&nbsp; &nbsp; |page|task<br />$8000-$9fff|0x02000-0x03fff|1&nbsp; &nbsp;|write 0x2aaa<br />$a000-$bfff|n * 0x2000&nbsp; &nbsp; &nbsp;|n&nbsp; &nbsp;|write area<br />$c000-$ffff|0x7c000-0x7ffff|fix |write 0x5555, boot area<br /><br />PPU memory bank for TLROM TKROM TKSROM<br />ppu address|rom address&nbsp; &nbsp; |page|task<br />$0000-$07ff|0x02800-0x02fff|0x0a|write 0x2aaa<br />$0800-$0fff|0x05000-0x057ff|0x14|write 0x5555<br />$1000-$1fff|n * 0x1000&nbsp; &nbsp; &nbsp;|n&nbsp; &nbsp;|write area<br />*/<br />function program_initalize(d, cpu_banksize, ppu_banksize)<br />{<br />&nbsp; &nbsp;cpu_write(d, 0xa001, 0); //disable W-RAM<br /><br />&nbsp; &nbsp;cpu_command(d, 0x0000, 0xa000, cpu_banksize);<br />&nbsp; &nbsp;cpu_command(d, 0x2aaa, 0x8000, cpu_banksize);<br />&nbsp; &nbsp;cpu_command(d, 0x5555, 0xc000, 0x4000);<br />&nbsp; &nbsp;cpu_write(d, 0x8000, 7);<br />&nbsp; &nbsp;cpu_write(d, 0x8001, 0);<br />&nbsp; &nbsp;cpu_write(d, 0x8000, 6);<br />&nbsp; &nbsp;cpu_write(d, 0x8001, 1);<br /><br />&nbsp; &nbsp;ppu_command(d, 0x0000, 0x1000, ppu_banksize);<br />&nbsp; &nbsp;ppu_command(d, 0x2aaa, 0x0000, 0x0800);<br />&nbsp; &nbsp;ppu_command(d, 0x5555, 0x0800, 0x0800);<br />&nbsp; &nbsp;cpu_write(d, 0x8000, 2);<br />&nbsp; &nbsp;cpu_write(d, 0x8001, 0);<br />&nbsp; &nbsp;cpu_write(d, 0x8000, 0);<br />&nbsp; &nbsp;cpu_write(d, 0x8001, 0x0a);<br />&nbsp; &nbsp;cpu_write(d, 0x8000, 1);<br />&nbsp; &nbsp;cpu_write(d, 0x8001, 0x14);<br />}<br /><br />function cpu_transfer(d, start, end, cpu_banksize)<br />{<br />&nbsp; &nbsp;for(local i = start; i &lt; end - 2; i += 1){<br />&nbsp; &nbsp;&nbsp; &nbsp;cpu_write(d, 0x8000, 7);<br />&nbsp; &nbsp;&nbsp; &nbsp;cpu_write(d, 0x8001, i);<br />&nbsp; &nbsp;&nbsp; &nbsp;cpu_program(d, 0xa000, cpu_banksize);<br />&nbsp; &nbsp;}<br />&nbsp; &nbsp;cpu_program(d, 0xc000, cpu_banksize * 2)<br />}<br /><br />function ppu_transfer(d, start, end, ppu_banksize)<br />{<br />&nbsp; &nbsp;for(local i = start; i &lt; end; i += 4){<br />&nbsp; &nbsp;&nbsp; &nbsp;cpu_write(d, 0x8000, 2);<br />&nbsp; &nbsp;&nbsp; &nbsp;cpu_write(d, 0x8001, i);<br />&nbsp; &nbsp;&nbsp; &nbsp;cpu_write(d, 0x8000, 3);<br />&nbsp; &nbsp;&nbsp; &nbsp;cpu_write(d, 0x8001, i | 1);<br />&nbsp; &nbsp;&nbsp; &nbsp;cpu_write(d, 0x8000, 4);<br />&nbsp; &nbsp;&nbsp; &nbsp;cpu_write(d, 0x8001, i | 2);<br />&nbsp; &nbsp;&nbsp; &nbsp;cpu_write(d, 0x8000, 5);<br />&nbsp; &nbsp;&nbsp; &nbsp;cpu_write(d, 0x8001, i | 3);<br />&nbsp; &nbsp;&nbsp; &nbsp;ppu_program(d, 0x1000, ppu_banksize * 4);<br />&nbsp; &nbsp;}<br />}<br /></div><br /><br />And last not least a 63in1 script&#058;<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">board &lt;- {<br />&nbsp; &nbsp; mappernum = 130, //Need to convert to UNIF format with BMC-Ghostbusters63in1<br />&nbsp; &nbsp; cpu_romsize = 0x180000, cpu_banksize = 0x8000,<br />&nbsp; &nbsp; ppu_romsize = 0, ppu_banksize = 0x2000,<br />&nbsp; &nbsp; ppu_ramfind = false, vram_mirrorfind = false<br />};<br /><br />function cpu_dump(d, pagesize, banksize)<br />{<br />&nbsp; &nbsp; // ROM Chip. Only 0, 2 and 3 are used<br />&nbsp; &nbsp; for(local chip = 0; chip &lt; 4; chip += 1){<br />&nbsp; &nbsp; &nbsp; &nbsp; if (chip != 1) {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // High bit for ROM chip select<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cpu_write(d, 0x8001, chip &gt;&gt; 1);<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Bank. 512/32 = 16 banks per chip<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for(local i = 0; i &lt; 16; i += 1){<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Low bit for ROM chip select + bank select.<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cpu_write(d, 0x8000, ((chip &amp; 1) &lt;&lt; 7) + (i &lt;&lt; 1));<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cpu_read(d, 0x8000, banksize/2);&nbsp; //Read 32KB bank from $8000-FFFF<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cpu_read(d, 0xC000, banksize/2);&nbsp; //Read 32KB bank from $8000-FFFF<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; }<br />}</div><br /><br />Maybe someone get the idea and could make a script for mapper 246 so I can dump the cartridge and provide the differences?</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=6594&amp;sid=108ad79bc380aff03de312113f11d52b"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p166582"></a>
				<b class="postauthor">lidnariq</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p166582">Re: Fong Shen Bang - Zhu Lu Zhi Zhan (Mapper 246)</a></div><div style="float: right;"><a href="./viewtopic.php?p=166582&amp;sid=108ad79bc380aff03de312113f11d52b#p166582"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Mon Mar 21, 2016 8:01 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Apr 13, 2008 11:12 am<br /><b>Posts:</b> 4883<br /><b>Location:</b> seattle
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">The only complexity for dumping the game comes from figuring out what conditions makes the GAL drive /RE low (assuming that it powers on as high).<br /><br />Given that GAL pin 1 (the GAL's latch enable) is connected to /ROMSEL, it has to involve reading from or writing to some address in ROM.<br /><br />After that, you should just be able to use something similar to MMC3's dumper script, with its 8 KiB banks.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3512&amp;sid=108ad79bc380aff03de312113f11d52b"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p166585"></a>
				<b class="postauthor">Ice Man</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p166585">Re: Fong Shen Bang - Zhu Lu Zhi Zhan (Mapper 246)</a></div><div style="float: right;"><a href="./viewtopic.php?p=166585&amp;sid=108ad79bc380aff03de312113f11d52b#p166585"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Mon Mar 21, 2016 8:49 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Jul 04, 2014 2:34 pm<br /><b>Posts:</b> 219<br /><b>Location:</b> Germany
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Just one more thing to make sure. For pull-up resistors: Do I just connect 10k Ohm resistors between Q1-Q4 to VCC or lift the pins and connect the 10k between Q1-Q4 and the holes they're connected to?<br /><br />I haven't used any pull-up/pull-down resistors yet.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=6594&amp;sid=108ad79bc380aff03de312113f11d52b"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p166586"></a>
				<b class="postauthor">lidnariq</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p166586">Re: Fong Shen Bang - Zhu Lu Zhi Zhan (Mapper 246)</a></div><div style="float: right;"><a href="./viewtopic.php?p=166586&amp;sid=108ad79bc380aff03de312113f11d52b#p166586"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Mon Mar 21, 2016 8:52 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Apr 13, 2008 11:12 am<br /><b>Posts:</b> 4883<br /><b>Location:</b> seattle
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Do <strong>not</strong> lift pins. This is just an extra thing, one resistor for each address line, connected to the address line on one side and +5V on the other.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3512&amp;sid=108ad79bc380aff03de312113f11d52b"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p166596"></a>
				<b class="postauthor">Ice Man</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p166596">Re: Fong Shen Bang - Zhu Lu Zhi Zhan (Mapper 246)</a></div><div style="float: right;"><a href="./viewtopic.php?p=166596&amp;sid=108ad79bc380aff03de312113f11d52b#p166596"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Mon Mar 21, 2016 11:00 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Jul 04, 2014 2:34 pm<br /><b>Posts:</b> 219<br /><b>Location:</b> Germany
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">That's what I did. <br /><br />Added a 10k resistor to each output of both PRG '670 and connected the other side to 5V.<br /><br />Game didn't boot.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=6594&amp;sid=108ad79bc380aff03de312113f11d52b"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p166646"></a>
				<b class="postauthor">lidnariq</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p166646">Re: Fong Shen Bang - Zhu Lu Zhi Zhan (Mapper 246)</a></div><div style="float: right;"><a href="./viewtopic.php?p=166646&amp;sid=108ad79bc380aff03de312113f11d52b#p166646"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Mar 22, 2016 7:09 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Apr 13, 2008 11:12 am<br /><b>Posts:</b> 4883<br /><b>Location:</b> seattle
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I'm out of ideas, I'm sorry.<br /><br />Somehow, the GAL has to be driving 74'670 /RE high or low according to specific reads or writes from some portion of the FC's memory, and short of desoldering the GAL and dumping its function, I have no idea what it's relying on that's making it work on a NOAC but not on a famicom.<br /><br />If you want to send it to me in the US, I could take a look and see if I could figure out what's going on.<br />(There are other people who may be more accessible)</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3512&amp;sid=108ad79bc380aff03de312113f11d52b"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p166651"></a>
				<b class="postauthor">Ice Man</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p166651">Re: Fong Shen Bang - Zhu Lu Zhi Zhan (Mapper 246)</a></div><div style="float: right;"><a href="./viewtopic.php?p=166651&amp;sid=108ad79bc380aff03de312113f11d52b#p166651"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Mar 22, 2016 8:44 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Jul 04, 2014 2:34 pm<br /><b>Posts:</b> 219<br /><b>Location:</b> Germany
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Okay, so I desoldered the GAL carefully and read it with my TL866.<br />This is what it gave me:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">Device&nbsp; &nbsp; :&nbsp; &nbsp; GAL16V8D<br /><br />Created By:&nbsp; &nbsp; http://www.autoelectric.cn<br /><br />Date&nbsp; &nbsp; &nbsp; :&nbsp; &nbsp; 2016-03-22 16:41<br /><br />*QP20<br /><br />*QF2194<br /><br />*G0<br /><br />*F0<br /><br />*L00000 11111111111111111111111111111111<br /><br />*L00032 01010111101101011111111111111111<br /><br />*L00256 11111111111111111111111111111111<br /><br />*L00288 01010111101110011010101010101010<br /><br />*L00512 11111111111111111111111111111111<br /><br />*L00544 01010111101110011010100110101010<br /><br />*L01792 11111111111111111111111111111111<br /><br />*L01824 01100111011101010111010101010101<br /><br />*L02048 00011111000000000000000000000000<br /><br />*L02112 00000000111111111111111111111111<br /><br />*L02144 11111111111111111111111111111111<br /><br />*L02176 111111111111111111<br /><br />*C2505</div><br /><br />Also added the .JED for attachment.</div>

					
						<br clear="all" /><br />

						<table class="tablebg" width="100%" cellspacing="1">
						<tr>
							<td class="row3"><b class="genmed">Attachments: </b></td>
						</tr>
						
							<tr>
								<td class="row2">
			<span class="genmed">
				<img src="./styles/subsilver2/imageset/icon_topic_attach.gif" width="14" height="18" alt="" title="" /> 
				<a href="./download/file.php?id=5294&amp;sid=108ad79bc380aff03de312113f11d52b">Fong Shen Bang.zip</a> [386 Bytes]
			</span><br />
			<span class="gensmall">Downloaded 6 times</span>
		

		<br />
	</td>
							</tr>
						
						</table>
					

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=6594&amp;sid=108ad79bc380aff03de312113f11d52b"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p166654"></a>
				<b class="postauthor">lidnariq</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p166654">Re: Fong Shen Bang - Zhu Lu Zhi Zhan (Mapper 246)</a></div><div style="float: right;"><a href="./viewtopic.php?p=166654&amp;sid=108ad79bc380aff03de312113f11d52b#p166654"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Mar 22, 2016 9:41 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Apr 13, 2008 11:12 am<br /><b>Posts:</b> 4883<br /><b>Location:</b> seattle
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I found <!-- m --><a class="postlink" href="http://www.brouhaha.com/~eric/retrocomputing/mmi/palasm/">http://www.brouhaha.com/~eric/retrocomp ... mi/palasm/</a><!-- m --> which mentions jed2eqn, which in turn generates:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">;$GALMODE MEDIUM<br /><br />chip FONGSH~2 GAL16V8<br /><br />i1=1 i2=2 i3=3 i4=4 i5=5 i6=6 i7=7 i8=8 i9=9 GND=10 /i11=11 o12=12 <br />f13=13 f14=14 f15=15 f16=16 o17=17 o18=18 o19=19 VCC=20 <br /><br />&#91;...&#93;<br />equations<br /><br />/o19 = i2 * i1 * i3 * /i4 * i5 * f16<br />o19.oe = vcc<br />/o18 = i2 * i1 * i3 * /i4 * /i5 * f16 * /i6 * /f15 * /i7 * /f14 * /i8 * /f13 * /i9 * i11<br />o18.oe = vcc<br />/o17 = i2 * i1 * i3 * /i4 * /i5 * f16 * /i6 * /f15 * /i7 * f14 * /i8 * /f13 * /i9 * i11<br />o17.oe = vcc<br />f16 = gnd<br />f16.oe = gnd<br />f15 = gnd<br />f15.oe = gnd<br />f14 = gnd<br />f14.oe = gnd<br />f13 = gnd<br />f13.oe = gnd<br />o12 = i2 * /i1 * i3 * i4 * i5 * f16 * i6 * i7 * f14 * i8 * f13 * i9 * /i11<br />o12.oe = vcc<br /></div> which ... I'll have to sit down and convert these into the names we previously came up with.<br /><br />Have to admit I'm pretty confused by /o19 = PRG RAM /CE = (/ROMSEL * CPU A14 * CPU A13 * CPU A11 * CPU/A12 * CPU M2). Maybe the disassembler is doing something wrong?</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3512&amp;sid=108ad79bc380aff03de312113f11d52b"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p166657"></a>
				<b class="postauthor" style="color: #AA0000">tepples</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p166657">Re: Fong Shen Bang - Zhu Lu Zhi Zhan (Mapper 246)</a></div><div style="float: right;"><a href="./viewtopic.php?p=166657&amp;sid=108ad79bc380aff03de312113f11d52b#p166657"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Mar 22, 2016 10:55 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Sep 19, 2004 11:12 pm<br /><b>Posts:</b> 17085<br /><b>Location:</b> NE Indiana, USA (NTSC)
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Normally (that is, in <em>Family BASIC</em> and a family of ASICs), WRAM /CE is NAND(/ROMSEL, M2, A14, A13). Something that looks like NAND(/ROMSEL, M2, A14, A13, /A12, A11) may fully decode a 2Kx8 SRAM at $6800-$6FFF.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=9&amp;sid=108ad79bc380aff03de312113f11d52b"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p166672"></a>
				<b class="postauthor">nocash</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p166672">Re: Fong Shen Bang - Zhu Lu Zhi Zhan (Mapper 246)</a></div><div style="float: right;"><a href="./viewtopic.php?p=166672&amp;sid=108ad79bc380aff03de312113f11d52b#p166672"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Mar 22, 2016 2:22 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Feb 24, 2012 12:09 pm<br /><b>Posts:</b> 496
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Are there any timing diagrams showing the NES bus signals (PHI2, R/W, ROMSEL, Address, Data)?<br />And diagrams for the NOAC clones, in case they have different timings?<br /><br />Some diagrams that I've found are:<br /><!-- l --><a class="postlink-local" href="http://forums.nesdev.com/viewtopic.php?f=3&amp;t=10029&amp;start=15#p111615">viewtopic.php?f=3&amp;t=10029&amp;start=15#p111615</a><!-- l --> - NES Addr, Phi2, PPU /CE<br /><!-- m --><a class="postlink" href="http://www.geocities.co.jp/SiliconValley-Bay/9975/PC2E/english.html">http://www.geocities.co.jp/SiliconValle ... glish.html</a><!-- m --> - General 6502 stuff...<br /><!-- m --><a class="postlink" href="http://www.geocities.co.jp/SiliconValley-Bay/9975/PC2E/hardware/6502WriteTiming.png">http://www.geocities.co.jp/SiliconValle ... Timing.png</a><!-- m --> - General 6502 Write Timing<br /><!-- m --><a class="postlink" href="http://www.geocities.co.jp/SiliconValley-Bay/9975/PC2E/hardware/6502ReadTiming.png">http://www.geocities.co.jp/SiliconValle ... Timing.png</a><!-- m --> - General 6502 Read Timing<br /><br />GAL logic dump is great! I just can't figure out how it's supposed to work...<br /><br />The &quot;o12 = i2 * /i1 * i3 * i4 * i5 * f16 * i6 * i7 * f14 * i8 * f13 * i9 * /i11&quot; seems to translate to <div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; /ROMSEL=LOW&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;;rather nonsense<br />&nbsp; AND<br />&nbsp; A14 ... A7 = HIGH&nbsp; &nbsp; &nbsp;;okay<br />&nbsp; AND<br />&nbsp; PHI2 = HIGH&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;;uhm, why???<br />&nbsp; AND<br />&nbsp; A6 = LOW&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;uh, what LOW ???<br />&nbsp; AND<br />&nbsp; A5 ... A4 = HIGH&nbsp; &nbsp; &nbsp; ;uh, what ???</div><br />So /RE would be HIGH for address FFB0h..FFBFh, which would be totally wrong.<br />It should HIGH for the Reset vector at FFFCh-FFFDh and for the bootcode at FFD0h..FFF9h (or just for the whole FFC0h..FFFFh area).<br />Could there still be some mistake in the GAL dump, or in the chip/pcb pinout? Especially A4,A5,A6 are looking totally wrong to me.<br /><br />Decoding /ROMSEL and PHI2 doesn't make any sense for the /RE signal. At worst it could increase &quot;open-bus issues&quot; with the unstable raising edges on the HighZ outputs.<br /><br />On the other hand, the thing that is really needed (and probably intended by the manufacturer) is checking that A14..A7 are all HIGH. You could cut the /RE signal, and produce your own /RE using some external AND gate. Or easier: Using 8 diodes and a pull-up resistor:<div class="codetitle"><b>Code:</b></div><div class="codecontent">A7&nbsp; ---|&lt;|---.<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|<br />A8&nbsp; ---|&lt;|---+<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|<br />A9&nbsp; ---|&lt;|---+<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|&nbsp; &nbsp; &nbsp; &nbsp;VCC<br />A10 ---|&lt;|---+&nbsp; &nbsp; &nbsp; &nbsp; |<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|&nbsp; &nbsp; &nbsp; &nbsp; |<br />A11 ---|&lt;|---+&nbsp; &nbsp; &nbsp; &nbsp;.'.<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|&nbsp; &nbsp; &nbsp; &nbsp;| |<br />A12 ---|&lt;|---+&nbsp; &nbsp; &nbsp; &nbsp;| |<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|&nbsp; &nbsp; &nbsp; &nbsp;'.'<br />A13 ---|&lt;|---+&nbsp; &nbsp; &nbsp; &nbsp; |<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|&nbsp; &nbsp; &nbsp; &nbsp; |<br />A14 ---|&lt;|---+--------+-------- /RE</div></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=5211&amp;sid=108ad79bc380aff03de312113f11d52b"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p166674"></a>
				<b class="postauthor">lidnariq</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p166674">Re: Fong Shen Bang - Zhu Lu Zhi Zhan (Mapper 246)</a></div><div style="float: right;"><a href="./viewtopic.php?p=166674&amp;sid=108ad79bc380aff03de312113f11d52b#p166674"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Mar 22, 2016 2:46 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Apr 13, 2008 11:12 am<br /><b>Posts:</b> 4883<br /><b>Location:</b> seattle
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">PRG RAM /CE = /o19<br /> = i1 * i2 * i3 * /i4 * i5 * f16<br /> = /ROMSEL * A14 * A13 * /A12 * A11 * M2<br /> -&gt; 2 KiB from $6800 to $6FFF<br />PRGBANK/WE = /o18<br /> = i1 * i2 * i3 * /i4 * /i5 * /i6 * /i7 * /i8 * /i9 * <span style="color: #FF0000">/</span>i11 * /f13 * /f14 * /f15 * f16<br /> = /ROMSEL * A14 * A13 * /A12 * /A11 * /A10 * /A9 * /A8 * /A7 * <span style="color: #FF0000">/</span>A6 * /A5 * /A4 * R/W<br /> -&gt; writes only to $60<span style="color: #FF0000">0</span>0-$60<span style="color: #FF0000">0</span>F<br />CHRBANK/WE = /o17<br /> = i1 * i2 * i3 * /i4 * /i5 * /i6 * /i7 * /i8 * /i9 * <span style="color: #FF0000">/</span>i11 * /f13 * f14 * /f15 * f16<br /> = /ROMSEL * A14 * A13 * /A12 * /A11 * /A10 * /A9 * /A8 * /A7 * <span style="color: #FF0000">/</span>A6 * /A5 * A4 * R/W<br /> -&gt; writes only to $60<span style="color: #FF0000">1</span>0-$60<span style="color: #FF0000">1</span>F<br />PRGBANK/RE = o12<br /> = /i1 * i2 * i3 * i4 * i5 * i6 * i7 * i8 * i9 * <span style="color: #FF0000">/</span>/i11 * f13 * f14 * f16<br /> = //ROMSEL * A14 * A13 * A12 * A11 * A10 * A9 * A8 * A7 * <span style="color: #FF0000">/</span>/A6 * A5 * A4 * M2<br /> -&gt; bank is HiZ while accessing $FF<span style="color: #FF0000">F</span>0-$FF<span style="color: #FF0000">F</span>F<br /></div><br /><br /><s>In summary, wut. This doesn&#39;t make sense, and</s>This <em>still</em> mostly disagrees with Disch's previous notes about mapper 246.<br /><br />edit: nocash's observing the weirdness with the /i11 input<br /><br />ON THE OTHER HAND, since you've desoldered the GAL and have access to the TL866 programmer, we can change the program for o12=PRGBANK/RE to be what we think it &quot;should&quot; be and see if that works any better. You should be able to play around with Opal Jr in dosbox until its functionality is what we think it should be instead (namely, /i11 becomes +i11, and remove f13 and f14). Socketing it would obviously be a good idea <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /></div>

					
							<br /><br />
							<span class="gensmall">Last edited by <a href="./memberlist.php?mode=viewprofile&amp;u=3512&amp;sid=108ad79bc380aff03de312113f11d52b">lidnariq</a> on Wed Mar 23, 2016 6:15 pm, edited 1 time in total.</span>
						<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3512&amp;sid=108ad79bc380aff03de312113f11d52b"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table width="100%" cellspacing="1" class="tablebg">
	<tr align="center">
		<td class="cat"><form name="viewtopic" method="post" action="./viewtopic.php?f=9&amp;t=13969&amp;start=15&amp;sid=108ad79bc380aff03de312113f11d52b"><span class="gensmall">Display posts from previous:</span> <select name="st" id="st"><option value="0" selected="selected">All posts</option><option value="1">1 day</option><option value="7">7 days</option><option value="14">2 weeks</option><option value="30">1 month</option><option value="90">3 months</option><option value="180">6 months</option><option value="365">1 year</option></select>&nbsp;<span class="gensmall">Sort by</span> <select name="sk" id="sk"><option value="a">Author</option><option value="t" selected="selected">Post time</option><option value="s">Subject</option></select> <select name="sd" id="sd"><option value="a" selected="selected">Ascending</option><option value="d">Descending</option></select>&nbsp;<input class="btnlite" type="submit" value="Go" name="sort" /></form></td>
	</tr>
	</table>
	

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=9&amp;sid=108ad79bc380aff03de312113f11d52b"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=9&amp;t=13969&amp;sid=108ad79bc380aff03de312113f11d52b"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>2</strong> of <strong>6</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 84 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"><b><a href="#" onclick="jumpto(); return false;" title="Click to jump to pageâ€¦">Go to page</a> <a href="./viewtopic.php?f=9&amp;t=13969&amp;sid=108ad79bc380aff03de312113f11d52b&amp;start=0">Previous</a>&nbsp;&nbsp;<a href="./viewtopic.php?f=9&amp;t=13969&amp;sid=108ad79bc380aff03de312113f11d52b">1</a><span class="page-sep">, </span><strong>2</strong><span class="page-sep">, </span><a href="./viewtopic.php?f=9&amp;t=13969&amp;sid=108ad79bc380aff03de312113f11d52b&amp;start=30">3</a><span class="page-sep">, </span><a href="./viewtopic.php?f=9&amp;t=13969&amp;sid=108ad79bc380aff03de312113f11d52b&amp;start=45">4</a><span class="page-sep">, </span><a href="./viewtopic.php?f=9&amp;t=13969&amp;sid=108ad79bc380aff03de312113f11d52b&amp;start=60">5</a><span class="page-sep">, </span><a href="./viewtopic.php?f=9&amp;t=13969&amp;sid=108ad79bc380aff03de312113f11d52b&amp;start=75">6</a> &nbsp;<a href="./viewtopic.php?f=9&amp;t=13969&amp;sid=108ad79bc380aff03de312113f11d52b&amp;start=30">Next</a></b></td>
		
	</tr>
	</table>

</div>

<div id="pagefooter"></div>

<br clear="all" />
<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php?sid=108ad79bc380aff03de312113f11d52b">Board index</a> &#187; <a href="./viewforum.php?f=24&amp;sid=108ad79bc380aff03de312113f11d52b">NES / Famicom</a> &#187; <a href="./viewforum.php?f=9&amp;sid=108ad79bc380aff03de312113f11d52b">NES Hardware and Flash Equipment</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>
	<br clear="all" />

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat"><h4>Who is online</h4></td>
	</tr>
	<tr>
		<td class="row1"><p class="gensmall">Users browsing this forum: No registered users and 10 guests</p></td>
	</tr>
	</table>


<br clear="all" />

<table width="100%" cellspacing="1">
<tr>
	<td width="40%" valign="top" nowrap="nowrap" align="left"></td>
	<td align="right" valign="top" nowrap="nowrap"><span class="gensmall">You <strong>cannot</strong> post new topics in this forum<br />You <strong>cannot</strong> reply to topics in this forum<br />You <strong>cannot</strong> edit your posts in this forum<br />You <strong>cannot</strong> delete your posts in this forum<br />You <strong>cannot</strong> post attachments in this forum<br /></span></td>
</tr>
</table>

<br clear="all" />

<table width="100%" cellspacing="0">
<tr>
	<td><form method="get" name="search" action="./search.php?sid=108ad79bc380aff03de312113f11d52b"><span class="gensmall">Search for:</span> <input class="post" type="text" name="keywords" size="20" /> <input class="btnlite" type="submit" value="Go" /><input type="hidden" name="t" value="13969" />
<input type="hidden" name="sf" value="msgonly" />
<input type="hidden" name="sid" value="108ad79bc380aff03de312113f11d52b" />
</form></td>
	<td align="right">
	<form method="post" name="jumpbox" action="./viewforum.php?sid=108ad79bc380aff03de312113f11d52b" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	<table cellspacing="0" cellpadding="0" border="0">
	<tr>
		<td nowrap="nowrap"><span class="gensmall">Jump to:</span>&nbsp;<select name="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">

		
			<option value="-1">Select a forum</option>
		<option value="-1">------------------</option>
			<option value="24">NES / Famicom</option>
		
			<option value="2">&nbsp; &nbsp;NESdev</option>
		
			<option value="3">&nbsp; &nbsp;NESemdev</option>
		
			<option value="21">&nbsp; &nbsp;NES Graphics</option>
		
			<option value="6">&nbsp; &nbsp;NES Music</option>
		
			<option value="22">&nbsp; &nbsp;Homebrew Projects</option>
		
			<option value="32">&nbsp; &nbsp;&nbsp; &nbsp;2016 NESdev Competition</option>
		
			<option value="31">&nbsp; &nbsp;&nbsp; &nbsp;2014 NESdev Competition</option>
		
			<option value="30">&nbsp; &nbsp;&nbsp; &nbsp;2011 NESdev Competition</option>
		
			<option value="10">&nbsp; &nbsp;Newbie Help Center</option>
		
			<option value="9" selected="selected">&nbsp; &nbsp;NES Hardware and Flash Equipment</option>
		
			<option value="28">&nbsp; &nbsp;&nbsp; &nbsp;Reproduction</option>
		
			<option value="19">&nbsp; &nbsp;NESdev International</option>
		
			<option value="11">&nbsp; &nbsp;&nbsp; &nbsp;FCdev</option>
		
			<option value="18">&nbsp; &nbsp;&nbsp; &nbsp;NESdev China</option>
		
			<option value="27">&nbsp; &nbsp;&nbsp; &nbsp;NESdev Middle East</option>
		
			<option value="25">Other</option>
		
			<option value="5">&nbsp; &nbsp;General Stuff</option>
		
			<option value="4">&nbsp; &nbsp;Membler Industries</option>
		
			<option value="23">&nbsp; &nbsp;Other Retro Dev</option>
		
			<option value="12">&nbsp; &nbsp;&nbsp; &nbsp;SNESdev</option>
		
			<option value="20">&nbsp; &nbsp;&nbsp; &nbsp;GBDev</option>
		
			<option value="15">&nbsp; &nbsp;Test Forum</option>
		
			<option value="26">Site Issues</option>
		
			<option value="13">&nbsp; &nbsp;phpBB Issues</option>
		
			<option value="14">&nbsp; &nbsp;Web Issues</option>
		
			<option value="16">&nbsp; &nbsp;nesdevWiki</option>
		

		</select>&nbsp;<input class="btnlite" type="submit" value="Go" /></td>
	</tr>
	</table>

	</form>
</td>
</tr>
</table>


</div>


<div id="wrapfooter">
	
	<span class="copyright">Powered by <a href="http://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Group
	</span>
</div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-61452025-2', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>