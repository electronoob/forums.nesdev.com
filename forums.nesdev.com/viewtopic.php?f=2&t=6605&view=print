<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Final Fantasy NES: 4 distinct character palettes</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Final Fantasy NES: 4 distinct character palettes</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=2&amp;t=6605">http://forums.nesdev.com/viewtopic.php?f=2&amp;t=6605</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>RLError</b> [ Thu Jul 15, 2010 5:12 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Final Fantasy NES: 4 distinct character palettes</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />In this post on GameFAQs:
<br />
<br /><!-- m --><a class="postlink" href="http://www.gamefaqs.com/boards/522595-final-fantasy/55553370/613234621">http://www.gamefaqs.com/boards/522595-f ... /613234621</a><!-- m -->
<br />
<br />Somebody asks if it is possible to have four distinct palettes for the characters. The responses in the thread were negative. I wonder if anybody here might have knowledge that they don't have? Is it possible?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dwedit</b> [ Thu Jul 15, 2010 5:16 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Might want to change the subject so we're not thinking about Cecil and Kain <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />
<br />
<br />Tried looking at what the palettes are currently used for?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>RLError</b> [ Thu Jul 15, 2010 6:23 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Dwedit wrote:</div><div class="quotecontent">Tried looking at what the palettes are currently used for?</div><br /><br />This is the response from that thread:<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">...the NES has only four object palettes and four background palettes; one foreground palette is needed for the weapons (and damage and the cursor), so with four characters you'd have to either have every weapon be the same palette, or else have one of the four characters change palette midbattle to match the weapon/damage/cursor. That's why there's a repeat in the FF3j onion knights.</div>
<br />
<br />If it can't be done, it can't be done I guess. I thought that there might be some way to get around the limitation.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dwedit</b> [ Thu Jul 15, 2010 6:27 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Make the weapons the same color as the weapon user.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>RLError</b> [ Thu Jul 15, 2010 6:37 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />That sounds good, considering the reason for having four distinct palettes.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Fri Jul 16, 2010 12:56 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I think in fact FF1 and FF2 uses two palettes for characters and two for weapons/effects (remember damage is shown in a caption box NOT sprites), and FF3 improved it to have weapons+effects+damage using one palette, leaving 3 for characters.
<br />
<br />So the best thing possible would be to hack FF1 to do it FF3-style. Then, technically, it should be possible to rewrite character 1's palette right after character 1 to match character 4's colors. Definitely not easy to do without too much graphical glitches, even harder to implement in FF1's code, but technically possible.
<br />If it's too hard to hack FF1's palette so they are used in FF3-style, then this technique can be used 2 times - rewrite character 1's palette with character 3's and character 2's palette with character 4's.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>RLError</b> [ Fri Jul 16, 2010 9:20 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">I think in fact FF1 and FF2 uses two palettes for characters and two for weapons/effects (remember damage is shown in a caption box NOT sprites), and FF3 improved it to have weapons+effects+damage using one palette, leaving 3 for characters.<br /><br />So the best thing possible would be to hack FF1 to do it FF3-style. Then, technically, it should be possible to rewrite character 1's palette right after character 1 to match character 4's colors. Definitely not easy to do without too much graphical glitches, even harder to implement in FF1's code, but technically possible.<br />If it's too hard to hack FF1's palette so they are used in FF3-style, then this technique can be used 2 times - rewrite character 1's palette with character 3's and character 2's palette with character 4's.</div>
<br />
<br />Bregalad, I want to say that I really like your Final Fantasy no menu music hack. I wish that those individuals that are constructing grand hacks of FF would use that patch in their hacks.
<br />
<br />If you say that the palette thing is technically possible, I will continue to look into this. It doesn't sound easy, but there are a lot of examples of NES programs that change palettes mid-screen, so it's at least nice to know that something similar has already been done.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Fri Jul 16, 2010 2:26 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Haha I'm glad someone liked my hack. Yeah, I really can't stand the menu music in FF1. It combines with some of FF1 hacks I tried well (because I just overwrite some code with other code at a place hacks aren't likely to change) - but it breaks with GFFBH2 which I was disappointed. My music hack + GFFBH1 was the best was to play FF1.
<br />
<br />Back on topic, changing palettes mid-frame while having something displayed is already really hard - you'd need some pixel areas where you're sure no monster will be displayed or something (after removing the borders of course).
<br />
<br />Not to mention FF1's battle routine is a huge mess.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>RLError</b> [ Fri Jul 16, 2010 4:52 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Something like this?
<br />
<br /><a href="http://img571.imageshack.us/i/003e.png/" class="postlink"><img src="http://img571.imageshack.us/img571/3797/003e.png" alt="Image" /></a>
<br />
<br />I'm still researching how to do it.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Fri Jul 16, 2010 5:11 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Making palette changes mid-frame in your own programs is already hard enough, hacking them into a commercial game would be hell.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>RLError</b> [ Fri Jul 16, 2010 5:30 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent">Making palette changes mid-frame in your own programs is already hard enough, hacking them into a commercial game would be hell.</div>
<br />
<br />This is true. However, consider how much time and effort people have already devoted to hacking and researching Final Fantasy. It must have been hell for at least some of those individuals. But yes, it would be hell, that's for sure.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Sat Jul 17, 2010 3:14 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />No - not something like this - only remove the border where the palette would be rewritten (between the characters), not for the menu on the bottom.
<br />
<br />Anyway this won't work because at least on the final battle with Cahos, he takes up the whole screen and there is no place where you could turn the rendering off for a few scanlines. So you'd have to do the technique I did <a href="http://nesdev.com/bbs/viewtopic.php?t=6600" class="postlink">here</a> - on each sanline turn rendering off, write one palette entry - turn rendering on again and set scroll.
<br />However, I always write color #0 which fast up codes a little. In FF1, the fact there is never background on the right below the characters could help a lot, yet you'd still have to find some unused RAM to achieve this (and not to mention adds code that would do that every frame flawlessly in the existing game). So it'd be hell, but technically possible.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>RLError</b> [ Sat Jul 17, 2010 6:27 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Thanks for answering my questions. I am understanding this subject better now. 
<br />Just the idea of applying advanced raster effects to a commercial game is exciting.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>RushJet1</b> [ Sun Jul 18, 2010 9:40 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I'm no expert on this subject at all, but couldn't you just have all the weapons be black/white with a certain color for shading, and have that color be the last character's coloring?  For example, Red Mage has skin color, red, black, white as his four colors right? You could make the weapons use that palette, then use the other three for the other three characters so you'd have 4 distinct character colors.  Hell, the idea to make the weapons change color depending on user could work too, or even just using any of the four palettes depending on the weapon.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>