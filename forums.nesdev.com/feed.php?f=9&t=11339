<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="http://forums.nesdev.com/feed.php?f=9&amp;t=11339" />

<title>nesdev.com</title>
<subtitle>NES Development and Strangulation Records message boards</subtitle>
<link href="http://forums.nesdev.com/index.php" />
<updated>2015-01-16T08:50:48-07:00</updated>

<author><name><![CDATA[nesdev.com]]></name></author>
<id>http://forums.nesdev.com/feed.php?f=9&amp;t=11339</id>
<entry>
<author><name><![CDATA[Great Hierophant]]></name></author>
<updated>2015-01-16T08:50:48-07:00</updated>
<published>2015-01-16T08:50:48-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=11339&amp;p=139346#p139346</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=11339&amp;p=139346#p139346"/>
<title type="html"><![CDATA[Re: Noah's Ark (E) on PowerPak]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=11339&amp;p=139346#p139346"><![CDATA[
I checked every game on thefox's list on my Everdrive N8 and they do not have this problem.  Their backgrounds are as they should appear with real carts.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=58">Great Hierophant</a> — Fri Jan 16, 2015 8:50 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[thefox]]></name></author>
<updated>2014-10-06T23:49:55-07:00</updated>
<published>2014-10-06T23:49:55-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=11339&amp;p=134708#p134708</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=11339&amp;p=134708#p134708"/>
<title type="html"><![CDATA[Re: Noah's Ark (E) on PowerPak]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=11339&amp;p=134708#p134708"><![CDATA[
<div class="quotetitle">Great Hierophant wrote:</div><div class="quotecontent"><br />Are you sure about Perfect Fit, which is a Mapper 3/CNROM game?<br /></div><br />Mapper doesn't matter. If a game uses CHR-ROM, it can have this problem.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=80">thefox</a> — Mon Oct 06, 2014 11:49 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Great Hierophant]]></name></author>
<updated>2014-10-06T19:38:33-07:00</updated>
<published>2014-10-06T19:38:33-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=11339&amp;p=134699#p134699</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=11339&amp;p=134699#p134699"/>
<title type="html"><![CDATA[Re: Noah's Ark (E) on PowerPak]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=11339&amp;p=134699#p134699"><![CDATA[
<div class="quotetitle">thefox wrote:</div><div class="quotecontent"><br />For completeness sake, here's a list of games that I know of with the same problem:<br /><br />Noah's Ark (E)<br />Addams Family, The - Pugsley's Scavenger Hunt (U)<br />Baseball Stars II (U)<br />Bigfoot (U)<br />Krusty's Fun House (U)<br />Perfect Fit (U)<br /></div><br /><br />Are you sure about Perfect Fit, which is a Mapper 3/CNROM game?<br /><br />Does anyone know if the Everdrive N8 also has the same problem?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=58">Great Hierophant</a> — Mon Oct 06, 2014 7:38 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[2600]]></name></author>
<updated>2014-09-29T06:42:23-07:00</updated>
<published>2014-09-29T06:42:23-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=11339&amp;p=134412#p134412</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=11339&amp;p=134412#p134412"/>
<title type="html"><![CDATA[Re: Noah's Ark (E) on PowerPak]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=11339&amp;p=134412#p134412"><![CDATA[
I wonder if any of this has to do with the fact that the PowerPak doesn't use the PPU /A13 line on the cart or if a small cap on the PPU A13 line might help.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3385">2600</a> — Mon Sep 29, 2014 6:42 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[thefox]]></name></author>
<updated>2014-09-28T00:56:48-07:00</updated>
<published>2014-09-28T00:56:48-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=11339&amp;p=134356#p134356</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=11339&amp;p=134356#p134356"/>
<title type="html"><![CDATA[Re: Noah's Ark (E) on PowerPak]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=11339&amp;p=134356#p134356"><![CDATA[
For completeness sake, here's a list of games that I know of with the same problem:<br /><br />Noah's Ark (E)<br />Addams Family, The - Pugsley's Scavenger Hunt (U)<br />Baseball Stars II (U)<br />Bigfoot (U)<br />Krusty's Fun House (U)<br />Perfect Fit (U)<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=80">thefox</a> — Sun Sep 28, 2014 12:56 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tokumaru]]></name></author>
<updated>2014-06-16T13:00:04-07:00</updated>
<published>2014-06-16T13:00:04-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=11339&amp;p=129914#p129914</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=11339&amp;p=129914#p129914"/>
<title type="html"><![CDATA[Re: Noah's Ark (E) on PowerPak]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=11339&amp;p=129914#p129914"><![CDATA[
<div class="quotetitle">2600 wrote:</div><div class="quotecontent"><br />Does this happen using Loopy's mappers?I wouldn't of thought the FPGA was capable of being too slow, maybe too fast.<br /></div><br />Maybe this isn't about being too fast or too slow, it's just a conflict between a write trying to disable the CHR and a read (for rendering purposes) trying to enable it.<br /><br />What about the Everdrive N8? Does anyone know if the FPGA can control CHR /OE and /WE?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=95">tokumaru</a> — Mon Jun 16, 2014 1:00 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[2600]]></name></author>
<updated>2014-06-16T12:33:16-07:00</updated>
<published>2014-06-16T12:33:16-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=11339&amp;p=129913#p129913</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=11339&amp;p=129913#p129913"/>
<title type="html"><![CDATA[Re: Noah's Ark (E) on PowerPak]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=11339&amp;p=129913#p129913"><![CDATA[
Does this happen using Loopy's mappers?<br /><br />I wouldn't of thought the FPGA was capable of being too slow, maybe too fast.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3385">2600</a> — Mon Jun 16, 2014 12:33 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2014-06-16T12:05:35-07:00</updated>
<published>2014-06-16T12:05:35-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=11339&amp;p=129912#p129912</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=11339&amp;p=129912#p129912"/>
<title type="html"><![CDATA[Re: Noah's Ark (E) on PowerPak]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=11339&amp;p=129912#p129912"><![CDATA[
I think so.<br /><br />PowerPak has CHR RAM. As I understand it, when playing a CHR ROM game, the FPGA will deselect the CHR RAM during writes to make it behave like CHR ROM. But if $2007 is written during rendering, the FPGA doesn't have time to do that before the next scheduled fetch. It's like the MMC3 write glitch, where graphics in Crystalis and M.C. Kids got corrupted when early versions of the MMC3 mapper would mirror $Exxx-$Fxxx writes (IRQ disable/enable) to $6xxx-$7xxx.<br /><br />Can the FPGA limit how long the RAM is selected during a single write, or perhaps detect a rendering fetch pattern (like MMC2, MMC4, and MMC5) and disallow writes? Otherwise it's back to Bible Adventures for most of us.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Mon Jun 16, 2014 12:05 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[2600]]></name></author>
<updated>2014-06-16T11:57:51-07:00</updated>
<published>2014-06-16T11:57:51-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=11339&amp;p=129911#p129911</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=11339&amp;p=129911#p129911"/>
<title type="html"><![CDATA[Re: Noah's Ark (E) on PowerPak]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=11339&amp;p=129911#p129911"><![CDATA[
Could you step back and help me understand something?  I'm having trouble understanding where the chr-ram is coming from.  Noah's Ark doesn't have CHR-RAM on the cart.  So, are you saying that on the Powerpak CHR-RAM is somehow being enabled, written to, and because there is no CHR-RAM section of memory it is actually writing over the CHR-ROM section of memory?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3385">2600</a> — Mon Jun 16, 2014 11:57 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[thefox]]></name></author>
<updated>2014-06-16T11:18:26-07:00</updated>
<published>2014-06-16T11:18:26-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=11339&amp;p=129910#p129910</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=11339&amp;p=129910#p129910"/>
<title type="html"><![CDATA[Re: Noah's Ark (E) on PowerPak]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=11339&amp;p=129910#p129910"><![CDATA[
<div class="quotetitle">tepples wrote:</div><div class="quotecontent"><br />On the PowerPak PCB, does PPU /WR go through the FPGA or directly to the CHR RAM?<br /></div><br />See OP:<br /><div class="quotetitle">thefox wrote:</div><div class="quotecontent"><br />CHR-RAM gets only /CS from the FPGA, /OE and /WE are hardwired to PPU /RD and /WR, as far as I know.<br /></div><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=80">thefox</a> — Mon Jun 16, 2014 11:18 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2014-06-16T07:25:53-07:00</updated>
<published>2014-06-16T07:25:53-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=11339&amp;p=129907#p129907</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=11339&amp;p=129907#p129907"/>
<title type="html"><![CDATA[Re: Noah's Ark (E) on PowerPak]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=11339&amp;p=129907#p129907"><![CDATA[
<div class="quotetitle">thefox wrote:</div><div class="quotecontent"><br /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">I wonder how much of this is related to the common use of mapper 0 to mean NROM modded with CHR RAM, or the conflation of two unrelated boards in mapper 34.<br /></div><br />I don't think it's related at all, or I've misunderstood what you're trying to say.</div><br />Some mappers have configurations with both CHR ROM and CHR RAM. A misbehaving mapper file would cause similar symptoms. Because of historical complexities related to certain mappers, files implementing a few specific mappers might be more likely to show implementation defects.<br /><br />On the PowerPak PCB, does PPU /WR go through the FPGA or directly to the CHR RAM?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Mon Jun 16, 2014 7:25 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[thefox]]></name></author>
<updated>2014-06-16T02:13:58-07:00</updated>
<published>2014-06-16T02:13:58-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=11339&amp;p=129905#p129905</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=11339&amp;p=129905#p129905"/>
<title type="html"><![CDATA[Re: Noah's Ark (E) on PowerPak]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=11339&amp;p=129905#p129905"><![CDATA[
<div class="quotetitle">tepples wrote:</div><div class="quotecontent"><br />NEStress has corrupted graphics on PowerPak for what I believe to be the same reason.<br /></div><br />Yeah, seems to be the same reason in there.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />I wonder how much of this is related to the common use of mapper 0 to mean NROM modded with CHR RAM, or the conflation of two unrelated boards in mapper 34.<br /></div><br />I don't think it's related at all, or I've misunderstood what you're trying to say.<br /><br />Somehow, FPGA is not able to pull the CHR-RAM /CS inactive fast enough after PPU makes /WR active. But it's hard to guess up what the details are here, or what's the timing of /RD, /WR and /ALE in this case. If the timing of the signals was &quot;normal&quot;, you'd expect there to be no corruption, because CHR-ROM is never corrupted while writing to it without rendering enabled (yes, I've tested this).<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=80">thefox</a> — Mon Jun 16, 2014 2:13 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2014-06-15T09:11:48-07:00</updated>
<published>2014-06-15T09:11:48-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=11339&amp;p=129880#p129880</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=11339&amp;p=129880#p129880"/>
<title type="html"><![CDATA[Re: Noah's Ark (E) on PowerPak]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=11339&amp;p=129880#p129880"><![CDATA[
NEStress has corrupted graphics on PowerPak for what I believe to be the same reason.<br /><br />I wonder how much of this is related to the common use of mapper 0 to mean NROM modded with CHR RAM, or the conflation of two unrelated boards in mapper 34.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Sun Jun 15, 2014 9:11 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[thefox]]></name></author>
<updated>2014-06-15T05:33:57-07:00</updated>
<published>2014-06-15T05:33:57-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=11339&amp;p=129875#p129875</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=11339&amp;p=129875#p129875"/>
<title type="html"><![CDATA[Noah's Ark (E) on PowerPak]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=11339&amp;p=129875#p129875"><![CDATA[
As some of you may know, Noah's Ark (E) has corrupted graphics on PowerPak. I looked into it, and it turns out the game is attempting to write to CHR-ROM while rendering is enabled, and some of the writes somehow slip through to PowerPak's CHR-RAM. Note that the mappers <em>do</em> have a configuration flag to disallow writes to CHR-RAM if game uses CHR-ROM, and the corruption only occurs if writing while rendering is enabled.<br /><br />Any theories on what exactly is happening here? Any suggestions on how it could be fixed on the mapper side?<br /><br />CHR-RAM gets only /CS from the FPGA, /OE and /WE are hardwired to PPU /RD and /WR, as far as I know.<br /><br />Attached is the test ROM I used (green = no corruption, red = CHR corrupted).<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=80">thefox</a> — Sun Jun 15, 2014 5:33 am</p><hr />
]]></content>
</entry>
</feed>