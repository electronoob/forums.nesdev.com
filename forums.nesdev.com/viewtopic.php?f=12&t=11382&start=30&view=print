<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - PVsneslib - SNES JUKEBOX</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">PVsneslib - SNES JUKEBOX</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=12&amp;t=11382">http://forums.nesdev.com/viewtopic.php?f=12&amp;t=11382</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>3</strong> of <strong>4</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Mills</b> [ Fri Jul 18, 2014 3:49 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: PVsneslib - SNES JUKEBOX</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">KungFuFurby wrote:</div><div class="quotecontent">Most of these songs I haven't heard of being converted to the SNES before... but three of them were previously utilized.<br /><br />One of the songs you have, Satellite One, was used in the XMSNES demonstration ROM (so this is just a different sound driver). On a different note, Pollen Resurrection is actually the opening song to Skipp and Friends (and that has an earlier version of SNESMod on it... meaning this song is no different).<br />Plus, Pinball Dreams was already converted for SNES long ago because the actual game was ported over to the SNES. Thus, you should actually give the game a shot and compare that to the conversion you made. ^_^<br /><br />Here is my contribution, with Super Quality audio samples!  <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /> (that also means echo is not recommended for this song, as it's quite a large song!)<br /><br /><a href="https://app.box.com/s/fa9sbmpu3tn6wio357fm" class="postlink">Wants Rock Badly for SNES Jukebox</a><br /><br />Are you interested in a couple of Action 52 songs that I technically ported over to the SNES?<br />One of them is very familiar... the other not so familiar (that's because I used neither the NES nor Genesis version for this reference).<br /><br />What is the intended color for the arrows, just out of my curiosity?</div><br /><br />Thanks!.<br /><br />I didn't like the pinball Dreams port so i took the amiga mod, and it sounds much better.. i think.<br /><br />The rom is now 2 MB so we could make it 4 MB <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /> and fit a lot of your songs. Some of &quot;my&quot; songs are small and there could be two in the same rom bank, (i was not able to play them this way...)<br /><br />Converting the IT, the biggest songs that i could convert are about 110 KB, I don't know if your song would fit without downsampling <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br /><br />If you look in the source folder the sprite of the arrows, they should look grey with a white border.  <br /><br />There are lots of awesome tracker songs, but most of them use a lot of channels <img src="./images/smilies/icon_sad.gif" alt=":(" title="Sad" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Fri Jul 18, 2014 6:26 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: PVsneslib - SNES JUKEBOX</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Can I supply a bunch of (small) S3Ms for the collection, or do I have to convert them to SPC myself first?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Mills</b> [ Fri Jul 18, 2014 7:50 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: PVsneslib - SNES JUKEBOX</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">Can I supply a bunch of (small) S3Ms for the collection, or do I have to convert them to SPC myself first?</div><br /><br />Don't convert them, just leave the files in it's original format.<br /><br />Anyone knows how to rip gruntilda's laugh from the gruntilda's lair song (banjo kazooie)? I'd love to include that sample in the song for the jukebox.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>KungFuFurby</b> [ Fri Jul 18, 2014 8:33 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: PVsneslib - SNES JUKEBOX</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Mills wrote:</div><div class="quotecontent">Converting the IT, the biggest songs that i could convert are about 110 KB, I don't know if your song would fit without downsampling <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /></div><br /><br />This is my proof that this works as actual SNES music <em>without</em> downsampling (as in, I used that exact same .it file to make this .spc file):<br /><br /><a href="https://app.box.com/s/4loy07rwyris9r007ftn" class="postlink">Wants Rock Badly .spc file</a><br /><br />I pre-tested the conversion to .spc format before sending the .it file to you. Filesize of the .it file does not matter in certain cases (<em>especially</em> when downsizing to 8-bit samples has no difference in the final BRR filesize). Instead, I use a different method to determine whether or not the .it file fits...<br /><br />I get the sum of all of the sample lengths using Schism Tracker, <em>irregardless</em> of 16-bit or 8-bit settings. End loop points represent the end of the sample if turned on (although ping-pong loop points results in additional length because it has to be unrolled), otherwise it is the entire sample.<br />For best results, loop points should be divisible by 16. Even then, you can end up with slight glitches in the samples, and therefore you have to manually adjust the samples.<br /><br />A combined length of 100,000 is what I consider to be too much: technically the sample data still fits, but the pattern data will result in an almost guaranteed overflow.<br /><br />I also use a hex editor to double check the filesize in the .spc file.  <img src="./images/smilies/icon_wink.gif" alt=":wink:" title="Wink" /><br /><br />Speaking of which, one of those .it files you attempted to convert (tubular vectors) gave a memory overflow error on the converter... and yet you successfully loaded the song on SNES Jukebox. Actually, I've had this case before myself. There are two glitches, one of them potentially fatal, with this type of overflow:<br /><br />- The first glitch only appears to occur when outputting .spc files (not soundbanks, and therefore your SNES Jukebox program is spared), but SNESMod, for some unusual reason, clears $FE00-$FF00 in SPC700 RAM, resulting in sample data loss. I know where this is happening (this is done for the echo, even when EDL is zero).<br />- There's a routine for handling streaming samples called through the TCALL opcode at $FFDE in SPC700 RAM. If this gets overwritten because of a memory overflow, then the sound driver crashes.<br /><br /><div class="quotetitle">tepples wrote:</div><div class="quotecontent"><div class="quotetitle">KungFuFurby wrote:</div><div class="quotecontent">Are you interested in a couple of Action 52 songs that I technically ported over to the SNES?<br />One of them is very familiar... the other not so familiar (that's because I used neither the NES nor Genesis version for this reference).</div><br />Is any of them &quot;Think (About It)&quot;, &quot;Cheetahmen&quot;, or &quot;Calypso&quot;?</div><br /><br />Actually, <em>both</em> of them are technically the Cheetahmen, except one of them is the NES Action 52 commercial theme (still... the commercial features the Cheetahmen).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Mills</b> [ Fri Jul 18, 2014 8:47 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: PVsneslib - SNES JUKEBOX</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">KungFuFurby wrote:</div><div class="quotecontent"><div class="quotetitle">Mills wrote:</div><div class="quotecontent">Converting the IT, the biggest songs that i could convert are about 110 KB, I don't know if your song would fit without downsampling <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /></div><br /><br />This is my proof that this works as actual SNES music <em>without</em> downsampling (as in, I used that exact same .it file to make this .spc file):<br /><br /><a href="https://app.box.com/s/4loy07rwyris9r007ftn" class="postlink">Wants Rock Badly .spc file</a><br /><br />I pre-tested the conversion to .spc format before sending the .it file to you. Filesize of the .it file does not matter in certain cases (<em>especially</em> when downsizing to 8-bit samples has no difference in the final BRR filesize). Instead, I use a different method to determine whether or not the .it file fits...<br /><br />I get the sum of all of the sample lengths using Schism Tracker, <em>irregardless</em> of 16-bit or 8-bit settings. End loop points represent the end of the sample if turned on (although ping-pong loop points results in additional length because it has to be unrolled), otherwise it is the entire sample.<br />For best results, loop points should be divisible by 16. Even then, you can end up with slight glitches in the samples, and therefore you have to manually adjust the samples.<br /><br />A combined length of 100,000 is what I consider to be too much: technically the sample data still fits, but the pattern data will result in an almost guaranteed overflow.<br /><br />I also use a hex editor to double check the filesize in the .spc file.  <img src="./images/smilies/icon_wink.gif" alt=":wink:" title="Wink" /><br /></div><br /><br />Hey thanks, thats what i did not understand.. is all about lengh not size <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />.<br /><br />How do you keep the volume in the drum sample? in my converted spc's or soundbanks, the volume goes down and long samples fade out...<br /><br />Unfortunately, many of the composers tend to use long looped &quot;strings&quot; samples, that have to be cut...

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>KungFuFurby</b> [ Fri Jul 18, 2014 9:14 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: PVsneslib - SNES JUKEBOX</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Simple: the fadeout (found in the instrument area) value is your culprint. SNESMod instantly fades out the samples instead of using the value on note off.<br /><br />I never touch the fadeout for that reason, actually. Plus, I prefer using actual volume envelopes instead.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Mills</b> [ Fri Jul 18, 2014 10:24 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: PVsneslib - SNES JUKEBOX</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">KungFuFurby wrote:</div><div class="quotecontent">Simple: the fadeout (found in the instrument area) value is your culprint. SNESMod instantly fades out the samples instead of using the value on note off.<br /><br />I never touch the fadeout for that reason, actually. Plus, I prefer using actual volume envelopes instead.</div><br /><br />Never looked at that part in MPT <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /> Thanks! <br /><br />I have to re-convert many of the songs now.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Mills</b> [ Thu Jul 24, 2014 7:31 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: PVsneslib - SNES JUKEBOX</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />A new version with improved songs, now 4MB rom because of some songs using two banks.<br /><br />Is it possible to print fonts on top of a layer without erasing it?<br />I want to use mode 7, so the pvsneslib logo and the changing fonts-song names, must be at the same plane.

		
			<br clear="all" /><br />

			<table class="tablebg" width="100%" cellspacing="1">
			<tr>
				<td><b class="genmed">Attachments: </b></td>
			</tr>
			
				<tr>
					<td>
			<span class="genmed">
				<img src="./styles/subsilver2/imageset/icon_topic_attach.gif" width="14" height="18" alt="" title="" /> 
				<a href="./download/file.php?id=1769">JUKEBOX.zip</a> [1.11 MiB]
			</span><br />
			<span class="gensmall">Downloaded 13 times</span>
		

		<br />
	</td>
				</tr>
			
			</table>
		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Thu Jul 24, 2014 7:45 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: PVsneslib - SNES JUKEBOX</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Mills wrote:</div><div class="quotecontent">Is it possible to print fonts on top of a layer without erasing it?</div><br />Use a paint program to mock up a screenshot of what it's supposed to look like and I can explain how you might achieve that effect using the S-PPU.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Mills</b> [ Thu Jul 24, 2014 4:47 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: PVsneslib - SNES JUKEBOX</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent"><div class="quotetitle">Mills wrote:</div><div class="quotecontent">Is it possible to print fonts on top of a layer without erasing it?</div><br />Use a paint program to mock up a screenshot of what it's supposed to look like and I can explain how you might achieve that effect using the S-PPU.</div><br /><br />MODE 7 with 2 BKG: Rotating part (bkg1) using very few tiles, and the rest for the flat part (bkg2).<br /><br /><img src="https://dl.dropboxusercontent.com/u/757056/snes/Mode7-2-Planes.bmp" alt="Image" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Fri Jul 25, 2014 12:35 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: PVsneslib - SNES JUKEBOX</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />It is possible, but not using mode 7. You should simulate it using another mode, combined with scrolling updates, like in the game Axelay.<br /><br />Alternatively you can simulate the static BG with sprites, in your cases it looks like feasible.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Fri Jul 25, 2014 3:44 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: PVsneslib - SNES JUKEBOX</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I'd go with simulating the second flat background with sprites.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Mills</b> [ Fri Jul 25, 2014 4:40 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: PVsneslib - SNES JUKEBOX</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Then, How can i use the consoleDrawText function from pvsneslib to write text in sprites?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Fri Jul 25, 2014 11:59 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: PVsneslib - SNES JUKEBOX</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />You might have to composite the text into sprite tiles yourself. Years ago, blargg and I wrote a 6502 variable width font (VWF) library that might be useful for something like this. The source code for this library is in vwf_draw.s in RHDE and the Action 53 menu.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>alekmaul</b> [ Fri Jul 25, 2014 10:18 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: PVsneslib - SNES JUKEBOX</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Mills wrote:</div><div class="quotecontent">Then, How can i use the consoleDrawText function from pvsneslib to write text in sprites?</div><br />You can't.<br />You need to put your text into a table, according to the tiles of your text and then transfert it to VRAM after a vblank.<br />Just take a look in pvsneslib in vbl function, you will see how I send text to vram during a vblank (it is in console.c, in consoleVblank function).

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>3</strong> of <strong>4</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>