<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - NES Cart DB down again</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">NES Cart DB down again</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=5&amp;t=14335">http://forums.nesdev.com/viewtopic.php?f=5&amp;t=14335</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>6</strong> of <strong>6</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>FitzRoy</b> [ Tue Jan 17, 2017 7:13 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Cart DB down again</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I'm curious to know the status of the as yet undumped list of Famicom carts. There doesn't seem to be much progress on getting those bought and dumped? Are they too expensive or something?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Myask</b> [ Mon Mar 06, 2017 4:19 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Cart DB down again</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I assume it's still volunteer ad-hoc community work, and we haven't got a member in Japan with money to burn, motivation, and equipment.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Sat Apr 01, 2017 3:56 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Cart DB down again</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Down again, with &quot;access denied&quot; all over the place.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Myask</b> [ Sat Apr 01, 2017 8:09 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Cart DB down again</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">Down again, with &quot;access denied&quot; all over the place.</div><br />WFM

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Revenant</b> [ Sun Apr 02, 2017 7:43 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Cart DB down again</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Seems fine on my end as well. Maybe it was just being a little sporadic earlier?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Mon Apr 03, 2017 9:09 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Cart DB down again</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">Down again, with &quot;access denied&quot; all over the place.</div><br />It was reported to me, through a channel that I don't remember with certainty but was most probably #nesdev on EFnet, that NesCartDB was broken. I checked it out, and the site was having issues with its MySQL database: the application server was getting &quot;access denied&quot; from the database server when trying to <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">SELECT</tt> from various tables. It appeared as &quot;access denied&quot; because the application server was set up to echo PHP warning messages to output instead of logging them privately or converting them to exceptions. This problem was present at the time I posted the previous comment but has since cleared up.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>BootGod</b> [ Mon Apr 03, 2017 5:24 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Cart DB down again</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">FitzRoy wrote:</div><div class="quotecontent">I'm curious to know the status of the as yet undumped list of Famicom carts. There doesn't seem to be much progress on getting those bought and dumped? Are they too expensive or something?</div><br /><br />It's mostly a money thing for me, I don't have quite as much disposable income as I used too. Also, when I first started dumping FC stuff, I was buying large bulk lots for very cheap, at this point I pretty much have to get them individually which adds up quick.<br /><br /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">Down again, with &quot;access denied&quot; all over the place.</div><br />I'm aware this happens occasionally, I think it has something with concurrent connections to DB being maxed out because for some reason some sessions aren't closing properly. The problem fixes itself when the rouge sessions timeout. Could anyone who has experienced this error tell me how long the problem persisted?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Mon Apr 03, 2017 5:41 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Cart DB down again</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">BootGod wrote:</div><div class="quotecontent"><div class="quotetitle">tepples wrote:</div><div class="quotecontent">Down again, with &quot;access denied&quot; all over the place.</div><br />I'm aware this happens occasionally, I think it has something with concurrent connections to DB being maxed out because for some reason some sessions aren't closing properly. The problem fixes itself when the rouge sessions timeout. Could anyone who has experienced this error tell me how long the problem persisted?</div><br />Here are a couple things you can try to make these problems occur less often.<br /><br />Nowadays it's best practice to <a href="https://secure.php.net/manual/en/class.errorexception.php" class="postlink">convert all PHP warnings to <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">ErrorException</tt></a>:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">function exception_error_handler($severity, $message, $file, $line) {<br />&nbsp; if (error_reporting() &amp; $severity) {<br />&nbsp; &nbsp; throw new ErrorException($message, 0, $severity, $file, $line);<br />&nbsp; }<br />}<br />set_error_handler(&quot;exception_error_handler&quot;);</div><br />This way, failed connections will cause errors that you can <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">catch</tt>. Failing fast reduces how much load a failed connection puts on the database before it times out.<br /><br />Another is testing the database connection before trying to render anything. Often you can test the connection by trying a simple query that should always work, such as looking up global settings for the application or data associated with a user session. If this fails, raise an appropriate HTTP status code such as 503 Service Unavailable. More generally, getting in the habit of doing all the database access before producing any output will help you separate functions that access data from functions that render it for display, which can make the architecture cleaner and easier to maintain.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Thu Aug 24, 2017 4:56 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Cart DB down again</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Discuss the latest downtime in <a href="https://forums.nesdev.com/viewtopic.php?f=5&amp;t=16325" class="postlink">#16325</a>

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>6</strong> of <strong>6</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>