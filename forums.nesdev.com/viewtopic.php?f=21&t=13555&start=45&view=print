<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - A more accurate NES palette?</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">A more accurate NES palette?</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=21&amp;t=13555">http://forums.nesdev.com/viewtopic.php?f=21&amp;t=13555</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>4</strong> of <strong>4</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Drag</b> [ Wed Dec 30, 2015 2:24 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: A more accurate NES palette?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />On SMB's title screen, I find it easier to compare the sky color against the white text. On my TV, the sky is an extremely vibrant blue-cyan color, and the white text contrasts against the sky very well.<br /><br />In most emulator palettes however, the white text blends into a washed-out (and often purply) whitish sky color.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Kizul Emeraldfire</b> [ Wed Dec 30, 2015 2:55 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: A more accurate NES palette?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">LightStruk wrote:</div><div class="quotecontent">Something that has always seemed weird to me for as long as I've used NES emulators - was the sky in SMB1 and Zelda 2 <em>really</em> this purple?</div><br />Short answer: yes, it was. :p I'd say, &quot;I can confirm this on my own TV,&quot; but TVs can differ greatly even between identical models from the same brand, and some people have their TV's tints set differently as well, sooo…<br /><br /><div class="quotetitle">LightStruk wrote:</div><div class="quotecontent">I no longer have a real NES console or a CRT TV, so I can't check for myself. Assuming that this palette matches the behavior of correctly calibrated 1980s TVs, it strikes me as very strange that Nintendo chose such a purple hue ($22, I think) when $21 or $31 would look much better.</div><br />Well, they actually <em>did</em> use $21 for the main overworld battle scenes (that <em>weren't</em> dark — they didn't use it for graveyard battles, for example); I think they only used $22 for towns and Palaces and such.<br /><br />As far as the $x1, $x2, $x3, and $x4 columns of colors are concerned: most emulators (such as FCE Ultra and its derivatives) seem to do those columns of colors as &quot;Sky Blue&quot;, &quot;'Pure' Blue&quot;, &quot;Blue-Violet&quot;, &quot;Purple&quot; — respectively — whereas in the Nintendo Wii Virtual Console palette and my own, $x2's actually an &quot;Indigo&quot; color.<br /><br />Oddly, the 3DS VC palette seems to go more toward &quot;FCE Ultra&quot; in terms of the entire palette's hues. ò.o (The Wii VC palette looks an awful lot like the one I got, though — just a lot dimmer.)<br /><br />$x8 is another one that looks vastly different depending on the emulator; its canon color, however, is apparently much closer to ye olden MS Paint's dark yellow color (going greener as it gets darker) than to a nice orangey-ish 'gold' color. So sayeth the Wii VC palette and my own NES and TV tuner card, at least. ¯\(º_O)/¯

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>LightStruk</b> [ Thu Dec 31, 2015 1:14 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: A more accurate NES palette?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Kizul Emeraldfire wrote:</div><div class="quotecontent">I'd say, &quot;I can confirm this on my own TV,&quot; but TVs can differ greatly even between identical models from the same brand, and some people have their TV's tints set differently as well, sooo…</div>Sure, these are analog systems we're talking about, so that's why I'm wondering about calibration. But that led me to another thought: PAL TVs don't have tint knobs! Would it make more sense to trust a PAL NES to get the &quot;intended&quot; colors? NTSC is jokingly called &quot;Not The Same Color&quot; for a reason.<br /><br />Then, I remembered that <a href="https://en.wikipedia.org/wiki/RGB_color_space#Specifications" class="postlink">PAL's colorspace and NTSC's colorspace are not identical.</a> In addition, <a href="http://forums.nesdev.com/viewtopic.php?f=2&amp;t=11128#p127262" class="postlink">as lidnariq put it:</a> <div class="quotetitle">lidnariq wrote:</div><div class="quotecontent">The PAL NES's colorspace is rotated by 15° relative to the NTSC NES, and so provides a comparatively nice red (+75°), yellow (+15°), blue (-165°) and cyan (-105°), at the cost of less satisfying purple and green.</div><a href="http://forums.nesdev.com/viewtopic.php?f=3&amp;t=12788&amp;start=15#p148644" class="postlink">This post from HardwareMan</a> has a capture of a palette test ROM running on a PAL NES, and $22 is much bluer. (And it sure is nice to see a real yellow...)<br /><div class="attachtitle">Attachment:</div><div class="attachcontent">
			<span class="gensmall"><b>File comment:</b> HardwareMan's PAL palette screenshot</span><br />
		
			<a href="./download/file.php?id=4798&amp;mode=view"><img src="./download/file.php?id=4798&amp;t=1" alt="7195342.png" /></a><br />
			<span class="gensmall">7195342.png [ 372.23 KiB | Viewed 3058 times ]</span>
		

		<br />
	</div>Anyway, aren't all of our modern NTSC CRT televisions and capture cards defaulting to the 1987 NTSC standard (SMPTE C) instead of the 1953 standard? The RGB primaries and white point both changed with the 1987 standard!<br /><br />Super Mario Bros. and Zelda 2 both predate the 1987 standard. Japan used NTSC, just like North America. When the designers were making them, they would be using TVs designed and built before the 1987 standard. Maybe the sky is only violet if it's displayed on a TV from 1987 or later?<br /><br />So, I started tinkering with <a href="http://drag.wootest.net/misc/palgen.html" class="postlink">Drag's palette generator</a>, and lo and behold, switching it from SMPTE C (1987) to FCC (1953) makes $22... just a little bit bluer... maybe blue enough that it almost makes sense that Nintendo would use it for a clear blue sky.<br /><div class="attachtitle">Attachment:</div><div class="attachcontent">
			<span class="gensmall"><b>File comment:</b> Palette from Drag's generator, using SMPTE 1987 colorimetry, otherwise default</span><br />
		
			<img src="./download/file.php?id=4800" alt="SMPTE_1987.png" /><br />
			<span class="gensmall">SMPTE_1987.png [ 8.59 KiB | Viewed 3058 times ]</span>
		

		<br />
	</div><div class="attachtitle">Attachment:</div><div class="attachcontent">
			<span class="gensmall"><b>File comment:</b> Palette from Drag's generator, using FCC 1953 colorimetry, otherwise default</span><br />
		
			<img src="./download/file.php?id=4799" alt="NTSC_1953.png" /><br />
			<span class="gensmall">NTSC_1953.png [ 8.72 KiB | Viewed 3058 times ]</span>
		

		<br />
	</div>The 1953 palette has a really nice red in $16 and a beautiful orange in $27 as well, but I digress.<br /><br />In RGB, the 1987 color $22 is <span style="color: #5f6aff">(95,106,255)</span> and the 1953 color $22 is <span style="color: #5571ff">(85,113,255)</span>. Kizul, your $22 is <span style="color: #908BFF">(144,139,255)</span>, which is <strong>way</strong> more violet than either of these palettes.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Kizul Emeraldfire</b> [ Thu Dec 31, 2015 2:32 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: A more accurate NES palette?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">LightStruk wrote:</div><div class="quotecontent">&lt;snip&gt;<br />In RGB, the 1987 color $22 is <span style="color: #5f6aff">(95,106,255)</span> and the 1953 color $22 is <span style="color: #5571ff">(85,113,255)</span>. Kizul, your $22 is <span style="color: #908BFF">(144,139,255)</span>, which is <strong>way</strong> more violet than either of these palettes.</div><br />Hm — that's actually fascinating; I knew about the PAL-is-rotated-from-NTSC thing, but I hadn't realized that they'd changed the NTSC color standards. o.O<br /><br />In regard to my palette's colors: it's possible that the colors are ever so slightly off; as I mentioned in an earlier post, I was taking screenshots of a somewhat-noisy (even with noise-reduction filters) Composite video signal from my NES.<br /><br />This is the unedited screenshot of DScaler that I took (with Gamma, Temporal Comb, Temporal Noise, Gradual Noise, and Adaptive Noise filters active (and at maximum settings, in the case of the Noise filters), among other settings):<br /><div class="attachtitle">Attachment:</div><div class="attachcontent">
			<span class="gensmall"><b>File comment:</b> Unedited screenshot of Adventure Island II showing a screenful of $22 color, displayed in DScaler. Also, for bonus points: on the right side (in MS Paint), you can see the exact same color with the Gamma filter turned OFF! :D</span><br />
		
			<a href="./download/file.php?id=4802&amp;mode=view"><img src="./download/file.php?id=4802&amp;t=1" alt="2-2.png" /></a><br />
			<span class="gensmall">2-2.png [ 361.14 KiB | Viewed 3048 times ]</span>
		

		<br />
	</div><br /><br />I took those screenshots, cropped 'em to a 660×660-pixel square in Photoshop (PS 7, specifically), and applied a maximum-strength Gaussian Blur filter to it to smooth out and eliminate the majority of the noise. Unfortunately, the Gaussian Blur filter caused slight color loss as well in some screenshots: I discovered that the more times you blur with it at maximum strength, the closer it goes to #808080 gray. <img src="./images/smilies/icon_neutral.gif" alt=":|" title="Neutral" /><br /><br />So… I dunno. Maybe my NES is just slightly oddball; maybe it doesn't adhere 100% to the NTSC color standards of 1950s or 1980s U.S.A./Japan. &gt;.&gt; I think the colors fluctuate between various NES Control Decks anyway, given <a href="https://www.youtube.com/watch?feature=player_detailpage&amp;v=yvZEC5-lEOA#t=737" class="postlink">what I saw at Awesome Games Done Quick once</a>. (The output in the middle looks like a normal NES using Composite; the output on the left looks like something from a NES-on-a-Chip (or maybe an RGB-modded NES); but the output on the right looks way, <em>way</em> too dark. Or like the Wii's NES Virtual Console. It's also a little blurrier than the others, so possibly it's using RF instead of Composite? I dunno. ¯\(º_O)/¯)<br /><br />If I knew someone (who lived in the same town as me) who owned an oscilloscope or something, I might be able to get the palette even more accurate — maybe. But I'm not really willing to go to quite <em>that</em> much bother to improve this palette; in my opinion, it's already as close to 'perfect' as one can get. :p …At least, for an NTSC palette.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>LightStruk</b> [ Fri Jan 01, 2016 8:23 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: A more accurate NES palette?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Kizul Emeraldfire wrote:</div><div class="quotecontent"> But I'm not really willing to go to quite that much bother to improve this palette; in my opinion, it's already as close to 'perfect' as one can get. :p …At least, for an NTSC palette.</div>Nor should you. If there's anything these palette threads have taught me, it's that there are so many things that affect color reproduction and color perception that there's no way to be certain. Since the NES produces colors out-of-gamut, there's no standard for how a TV should interpret the signal anyway. The developers of these classic games almost certainly tolerated the variation in colors between the TVs in their offices, so there can't be a precise answer about what colors were intended.<br /><br />Even in the all-digital realm, color reproduction can be imperfect. I'm typing this post on my old Thinkpad instead of my desktop, and I have a feeling that its LCD has less accurate colors. Why? Because I'm looking at the various screenshots of $22 in this thread, and now they <strong>all look blue</strong>! So, when people talk about whether a palette looks right on their computer monitors, their monitors (and whether they have a color management profile installed) plays as big a role in the result as the palette does!

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Kizul Emeraldfire</b> [ Fri Jan 01, 2016 3:11 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: A more accurate NES palette?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />One of my sister's friends gave us an XBox 360 today. Guess where I went on its Internet Explorer browser first? <img src="./images/smilies/icon_mrgreen.gif" alt=":mrgreen:" title="Mr. Green" /><br /><br /><span style="font-size: 50%; line-height: normal">(It was my screenshots gallery.)</span> I must say, I'm not <em>certain</em> whether it's the XBox 360's Composite Out or the colors in my palette, but — most of the hues looked a bit off, and the colors <em>all</em> looked <em>massively</em> over-saturated.<br /><br />$x3 and $x4 looked like they'd been tint-shifted 50% to 75% toward $x4 and $x5 (respectively); $x9 looked a bit less limey than it does on the actual console, and $28 (and partially $18; possibly also $38) looked too orangey. $xC was too bright, and too cyan; it needed more blue. (I was doing a back-and-forth comparison between the XBox 360's screen and the colors on the actual NES itself; they're both hooked up to the TV simultaneously.)<br /><br /><em>But,</em> as far as $x3 and $x4 are concerned, at least: the NEStopia YUV (15º Canonical) master palette's colors were much closer to the actual thing. <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /> $x9 was still too far to the 'blue' side of the spectrum, though; it needed more yellow. (The NEStopia YUV (Alternate) palette, on the other hand, looked more like a NES-on-a-Chip console: it had <em>too much</em> yellow, due to the 'Yellow Boost' being turned on.) $xC looked about the same as in my palette.<br /><br />Granted, I've not hooked an actual PC up to the TV yet to look at my Definitive NES master palette on that screen 'side-by-side' with the NES's output — so I don't know if it really <em>is</em> the XBox 360 screwing up all of the colors — but at the moment I'm not inclined to try and 'perfect' my NES master palette for (my) CRT television(s). :p I'd made it for <em>computers</em> anyway, and it looks good enough on them — at least, to me. So it serves the purpose it was intended for. <img src="./images/smilies/icon_mrgreen.gif" alt=":mrgreen:" title="Mr. Green" /><br /><br />I'll be doing up my screenshots in about a week or so using the Wii Virtual Console palette that someone 'dumped', just to see how <em>it</em> looks on my TV via the XBox 360's palette; this has got me really curious now. <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /><br /><br /><div class="quotetitle">LightStruk wrote:</div><div class="quotecontent"><div class="quotetitle">Kizul Emeraldfire wrote:</div><div class="quotecontent"> But I'm not really willing to go to quite that much bother to improve this palette; in my opinion, it's already as close to 'perfect' as one can get. :p …At least, for an NTSC palette.</div>Nor should you. If there's anything these palette threads have taught me, it's that there are so many things that affect color reproduction and color perception that there's no way to be certain. Since the NES produces colors out-of-gamut, there's no standard for how a TV should interpret the signal anyway.</div>Indeed; though if I wanted to get it '99.999999999%'-accurate, I <em>could</em> just hook my PC (with an emulator) up to the TV with the NES, then — using Adventure Island II's debug mode as I have so many times in the past — fill the screen with each color in sequence and try to match the colors on my PC whilst flipping between my NES and PC. :p I've a good eye for color… usually.<br /><br /><div class="quotetitle">LightStruk wrote:</div><div class="quotecontent">Even in the all-digital realm, color reproduction can be imperfect. I'm typing this post on my old Thinkpad instead of my desktop, and I have a feeling that its LCD has less accurate colors. Why? Because I'm looking at the various screenshots of $22 in this thread, and now they <strong>all look blue</strong>! So, when people talk about whether a palette looks right on their computer monitors, their monitors (and whether they have a color management profile installed) plays as big a role in the result as the palette does!</div>If I'm right, I don't actually have any color management profiles installed on my PC, nor on my laptop (at least, besides the 'default' ones). But, the colors on my laptop's LCD screen do seem more muted/dull in some ways compared to my PC's two CRT monitors; on the other hand, I can see color separation far more easily on my laptop's screen — probably due to the pixels being much clearer — than on my PC's CRTs, so… <img src="./images/smilies/icon_mrgreen.gif" alt=":mrgreen:" title="Mr. Green" /><br /><br />But yeah, I know what you mean. I still think that the colors look 'better', somehow, on my PC than on my laptop. But even despite the differences in screens, both my PC and laptop display $x2 as <em>indigo,</em> rather than 'pure blue' like in the PAL (and FCEUX) palettes. ò.O I dunno. ¯\(º_O)/¯ It's all subjective; it's all in what you think looks good. I'm just very passionate with my opinion <span style="font-size: 85%; line-height: normal">(and also unfortunately have a tendency to try and make my opinion <span style="text-decoration: underline"><em>ob</em></span>jective instead)</span>. xD<br /><br /><span style="font-size: 85%; line-height: normal">(Seriously, though, I do apologize if I come off as exceedingly arrogant and/or pedantic a lot of the time. &gt;.&gt; I'm trying to lessen that a bit these days, but it's difficult. D:)</span>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>rainwarrior</b> [ Fri Jan 01, 2016 3:44 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: A more accurate NES palette?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The XBox 360 had a notoriously counter-intuitive way of dealing with gamma curves. A <em>lot</em> of games did it wrong and had strange contrast/saturation issues. I wouldn't be surprised if its web browser failed at this too.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Kizul Emeraldfire</b> [ Sat Jan 02, 2016 2:36 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: A more accurate NES palette?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">rainwarrior wrote:</div><div class="quotecontent">The XBox 360 had a notoriously counter-intuitive way of dealing with gamma curves. A <em>lot</em> of games did it wrong and had strange contrast/saturation issues. I wouldn't be surprised if its web browser failed at this too.</div>Good heavens, you weren't kidding! D: Just for the heck of it, I decided to open up the <a href="https://en.wikipedia.org/wiki/File:SMPTE_Color_Bars_16x9.svg" class="postlink">HD SMPTE color bars SVG image from Wikipedia</a> on the XBox 360's browser, and… <em>Wow</em> are some of the colors <em>way</em> off.<br /><br />75% Red looks like it should be 100% Red, and the <em>actual</em> 100% Red looks like hot pink; 75% Blue, 75% Yellow, and 75% Cyan are <em>identical</em> in intensity to their 100%-brightness counterparts — and instead of looking like $xC (to use the NES master palette's indices as an example) like they should, the Cyan parts look like the NES palette's <em>$xB!</em><br /><br />Interestingly, when the screensaver kicks in (thus dimming the screen), all of the color bars except one look they way they should (with Cyan being its proper $xC-type hue instead of $xB, and visible differences of intensity between the 75% and 100% bars) — excepting the fact that they've been dimmed way further than they should be — with the 75% Magenta/Purple bar now being hot pink instead!<br /><br />What the <em>heck,</em> Microsoft? D: You should know better!<br /><br />(And yes, this TV <em>is</em> calibrated correctly — via the same image displayed on a PC I use exclusively for TV-out. This makes me really, <em>really</em> want a Wii or Wii U to see if the same image looks better on one of those.)<br /><br />At least now I know it's not my palette, though! <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" />

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>4</strong> of <strong>4</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>