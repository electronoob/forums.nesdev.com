<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - How do I create a enhanced VDP/PPU?</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">How do I create a enhanced VDP/PPU?</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=5&amp;t=8160">http://forums.nesdev.com/viewtopic.php?f=5&amp;t=8160</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Hamtaro126</b> [ Sun Sep 25, 2011 12:31 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>How do I create a enhanced VDP/PPU?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Without a PC-Engine, and not wanting to use SNES due to problems, I was wondering how to create a VDP/PPU?
<br />
<br />VT-03/Onebus is a way, But I need something better, like a Do-It-Yourself project, All I need is parts to make the upgrade for the NES PPU,
<br />
<br />Also, If I'm doing this, Emulation is required to replicate the features, But the current emulators are too messy or in a language too hard for me to look at.
<br />
<br />Assistance is appreciated.
<br />
<br />Fact: The following consoles are currently having to be upgraded by people in Atariage - the ColecoVision, Atari 7800 and the 2600, But the NES might happen to need a boost!

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dwedit</b> [ Sun Sep 25, 2011 12:56 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />What are you trying to do exactly?  Add support for "graphics packs" that draw instead of the original tiles?  Upgrade the NES to 4-bit graphics?  Pipe two PPUs together for two graphics layers?  Design a new backward-compatible PPU in Verilog and throw it on an FPGA?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Sun Sep 25, 2011 10:05 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I can assure you that creating a new PPU will be a much bigger problem that whatever you are currently facing with the SNES. If the NES PPU isn't enough for you, just don't use the NES, get over whatever problem you have with other platforms and use those.
<br />
<br />Even if by a miracle you were able to "upgrade" the NES PPU, what would be the point if you were the only one with such an upgraded console? Nobody would be able to play your game(s). On the other hand, lots of people have perfectly good SNESs.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dwedit</b> [ Sun Sep 25, 2011 10:07 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />If you used a VT-03-based hardware clone with cartridge slot, then you wouldn't be the only one with that console.  You also haven't done anything yourself either <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Hamtaro126</b> [ Sun Sep 25, 2011 11:37 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />my SNES stuff is gonna continue, it seems.
<br />
<br />See the SNES Thread for more,
<br />
<br />Case closed right here.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>psycopathicteen</b> [ Sun Sep 25, 2011 2:23 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />A simple upgrade that would be easy to implement is having 16 sprites per line.  There is enough time to fetch 16 sprite patterns, Nintendo just used 8 sprites to cut transistor count.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Sun Sep 25, 2011 3:41 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">psycopathicteen wrote:</div><div class="quotecontent">A simple upgrade that would be easy to implement is having 16 sprites per line.  There is enough time to fetch 16 sprite patterns, Nintendo just used 8 sprites to cut transistor count.</div>
<br />That and there'd be more gate delay when trying to compute priority from twice as many shifters. That's why the Super NES, which allows 34 slivers (but only 32 actual 8x8 pixel sprites), uses a line buffer instead of a separate shifter for each sprite.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>psycopathicteen</b> [ Sun Sep 25, 2011 4:59 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I beleive it is possible to have a second background layer if you double up the speed of the sPPU memory accesses, but the issue is where would you put the registers to control the second layer?
<br />
<br />Maybe one of the 12 unused cartridge pinouts could be used as a switch between "NES" and "special NES" games.  In "special NES" games, registers $2008-$200f control BG2.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tomaitheous</b> [ Wed Mar 21, 2012 8:35 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I've been upgrading the nes PPU for my Megaman project on the PCE for some time now. I ran into a few problems for the sprite upgrades. Mostly when I give the PPU larger sprite sizes. The PCE has 10bit sprite X and Y coords and 0 for both = -32, -64. So you can smoothly scroll sprites to the left side of the screen (and right too). Megaman does the drop cell method for the left side, and uses the last 8 pixel non display edge on the right in conjunction with drop cell. I've replaced all Megaman metal tile frames with single 32x32 hardware frames. 
<br />
<br /> Anyway, the method I came up with to fix this problem of 8bit coords for X/Y with larger sprites - was to add onto the sprite DMA function. There's a shadow sprite buffer that the DMA reads from. The shadowed 4 bytes given additional attributes/features to the corresponding 4 OAM bytes in the real buffer (for whatever $4014 points to). For X/Y corrds, each additional byte is a signed offset to be added to the original 8bit coord. The other bytes give more subpalettes and more 'banks' for the cell number, etc. The upgraded DMA routine zeros out the values in the shadow buffer as it reads them, to keep compatibility with the original PPU specs. The idea is to have both old sprite definitions and new sprite definitions existing on the same screen at the same time. I currently have the shadow buffer in area that would normally not be used by NES (it might be mirrored area, but I use $1800 in the logical address range).

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>