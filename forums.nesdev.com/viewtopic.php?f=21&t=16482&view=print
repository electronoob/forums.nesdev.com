<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - chr sheet of most used tiles</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">chr sheet of most used tiles</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=21&amp;t=16482">http://forums.nesdev.com/viewtopic.php?f=21&amp;t=16482</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>JRoatch</b> [ Mon Sep 11, 2017 10:14 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>chr sheet of most used tiles</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />So for no particular reason I thought it would be interesting to see what the most common tiles in all* games with CHR-ROM.<br /><br />*: From a particular 2011 &quot;nointro&quot; ROM collection that was able to be parsed by &quot;ines.py&quot;<br /><br />After some basic de-duplication of full sheets, I ran them through a script to count the frequency. The attached image shows 512 tiles starting from the from most occurring<br /><br /><div class="attachtitle">Attachment:</div><div class="attachcontent">
			<img src="./download/file.php?id=10122" alt="2017-09-10_most-used-tiles.chr.png" /><br />
			<span class="gensmall">2017-09-10_most-used-tiles.chr.png [ 2.71 KiB | Viewed 3146 times ]</span>
		

		<br />
	</div><br /><br />Most of the tile are basic rectangles, shapes, letters from a common NES font, and X marks.<br /><br />4 tiles popped up that seems to me should be unique, but appeared at least 300 times across my data set.<br /><br /><div class="attachtitle">Attachment:</div><div class="attachcontent">
			<img src="./download/file.php?id=10123" alt="2017-09-10_intresting.png" /><br />
			<span class="gensmall">2017-09-10_intresting.png [ 250 Bytes | Viewed 3146 times ]</span>
		

		<br />
	</div>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>nesrocks</b> [ Mon Sep 11, 2017 10:17 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: chr sheet of most used tiles</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Interesting research! But I think it should be once per game. Some games just repeat tiles in unused spaces, so I think it would be more interesting to see which tiles appear in most games, not counting how many times they appear in any particular game.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>JRoatch</b> [ Mon Sep 11, 2017 11:37 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: chr sheet of most used tiles</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="attachtitle">Attachment:</div><div class="attachcontent">
			<img src="./download/file.php?id=10125" alt="2017-09-11_most-shared-tiles.chr.png" /><br />
			<span class="gensmall">2017-09-11_most-shared-tiles.chr.png [ 2.1 KiB | Viewed 3126 times ]</span>
		

		<br />
	</div><br />OK, That did cut out the appearances of the &quot;unused tile&quot; graphics. Now it's pretty much only basic monochrome shapes.<br />Each of these tiles appears in at least 5% of the games, with the top four being in about %97 of the games

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Mon Sep 11, 2017 12:08 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: chr sheet of most used tiles</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />When I went and made the <a href="https://forums.nesdev.com/viewtopic.php?p=178561#p178561" class="postlink">fingerprint of 128-byte slices in GoodNES</a>, I was surprised at just how many times the slice that was the numbers &quot;01234567&quot; (in the same font) showed up.<br /><br />In hindsight, I probably shouldn't have been.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>nesrocks</b> [ Mon Sep 11, 2017 12:10 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: chr sheet of most used tiles</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Funny how many basic shapes can exist. Now someone take this sheet and make the most average NES game ever.  <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Myask</b> [ Mon Sep 11, 2017 1:45 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: chr sheet of most used tiles</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Analyzing what font characters are present…<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; &nbsp;ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890 (for alignment/comparison)<br />01 ABCDEF H&nbsp; &nbsp; &nbsp;NOP&nbsp; &nbsp;TU&nbsp; &nbsp; &nbsp; &nbsp; 45&nbsp; &nbsp; &nbsp; c,©,OK<br />nothing on color 02<br />03 AB DEF HI&nbsp; &nbsp; NOP&nbsp; &nbsp;TU&nbsp; &nbsp; Z123456789&nbsp; 2B<br /><br />█ in all four colors wins, natch<br />▒ in 10, 01, 21, 12, 03, 30, 32; all of which are sensible ones. Odd that 32 isn't present.<br /></div>We can see that people use colors in 0312 frequency, mostly.<br />Oddly, that second sheet now admits © in color 3 when it wasn't there before, and about halfway up the ranking.<br /><br />Interestingly, we don't have all of ETAOINsHrDlU, and I/C aren't in both colors! Part of this is, I'm sure, the various nature of renderings of S. L doesn't make sense, though. Also interesting that no separate 0 rendering came up, though again, various renderings to distinguish from O…and colliding/sharing with O in some cases.<br /><br />I am amused that 10 of 5-16 of Shared are what almost certainly are sprite-0 triggers.<br /><br />Could you cull those one-rectangle on other-color shapes? At least, the ones where the rectangle touches three edges. (Noting as numbers these shapes, like &quot;left 7/8ths 1 on 0&quot;, might be more readable than in a character sheet.)<br />Could you make a version where it treats palette swaps as additional instances of the first tile encountered with that pattern? Possibly allowing BG to be swapped, possibly not; for sprites it means something, after all.<br /><br />Of course, this simply misses all CHR-RAM games.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Mon Sep 11, 2017 1:46 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: chr sheet of most used tiles</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />And given unalignment and compression, I don't think there's a good way to reach CHR RAM games.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Myask</b> [ Mon Sep 11, 2017 1:54 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: chr sheet of most used tiles</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Nothing as fast, surely. Running TAS or other game-completing keyrecordings through games on a CHR-logging emulator would be a naïve way to reach them, but, of course, is numerous magnitudes slower than what was done here.<br /><br />If you wanted a less thorough scrape in that manner, perhaps, a wait for 1 minute, autofire a+start for a minute nputfile would probably get you through nigh-all Title, Menu, Pause, Game allocations. [waiting a minute as attract modes will be smörgåsbords!]

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Myask</b> [ Mon Sep 11, 2017 2:56 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: chr sheet of most used tiles</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Rectangle heuristic:<br />2-color [if one color, well, that's already a rectangle, no need for further testing…]<br />has at most two different 8-pixel slices, which both fit the pattern and the distribution of which fit one of the nine A*8-0, B*0-8 (0, 1, 3, 7, F, 1F, 3F, 7F, FF; the complementary FE, FC, F8, F0, E0, C0, 80 should be taken care of by the palette-swap logic)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Mon Sep 11, 2017 3:01 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: chr sheet of most used tiles</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I wonder how practical it would be to search with deduplication of bitplane permutations...?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>ccovell</b> [ Mon Sep 11, 2017 4:14 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: chr sheet of most used tiles</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />This is really interesting!<br /><br />Of course, that &quot;X&quot; and other tiles around it are for marking unused/empty tiles.  The kanji there literally means &quot;empty&quot;.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>JRoatch</b> [ Mon Sep 11, 2017 4:43 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: chr sheet of most used tiles</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I tried out normalizing bitplane permutations. rectangles combined as a side effect. <s>Attached is the count script I used for this.</s><br /><div class="attachtitle">Attachment:</div><div class="attachcontent">
			<img src="./download/file.php?id=10129" alt="2017-09-11_bitplanes-normalized.png" /><br />
			<span class="gensmall">2017-09-11_bitplanes-normalized.png [ 3.79 KiB | Viewed 3030 times ]</span>
		

		<br />
	</div><br />If some of the letters look odd with a gray background, it's because the normalization sets the top left pixel to be always color 0.<br /><br />I might manually search beyond 512 tiles for the whole alphabet, but that'll require using my eyes and may take a bit of time.<br /><br />In the meanwhile here's a slightly more readable version of above.<br /><div class="attachtitle">Attachment:</div><div class="attachcontent">
			<img src="./download/file.php?id=10132" alt="2017-09-11_readable.png" /><br />
			<span class="gensmall">2017-09-11_readable.png [ 4.4 KiB | Viewed 3024 times ]</span>
		

		<br />
	</div><br /><br /><div class="quotetitle">ccovell wrote:</div><div class="quotecontent">The kanji there literally means &quot;empty&quot;.</div><br />Ah, that makes sense. Thanks for the tidbit.<br /><br />Edit: Former attachment is now inlined here:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">#!/usr/bin/env python3<br /><br />import sys<br />import collections<br />import functools<br /><br />all_tiles = collections.Counter()<br /><br />@functools.lru_cache(maxsize=None, typed=False)<br />def normalize_tile(input_tile):<br />&nbsp; &nbsp; # not the most efficient way, but it works.<br />&nbsp; &nbsp; color_0 = bytes(((0xff^a) &amp; (0xff^b)) for a, b in zip(input_tile&#91;0:8&#93;, input_tile&#91;8:16&#93;))<br />&nbsp; &nbsp; color_1 = bytes((a &amp; (0xff^b)) for a, b in zip(input_tile&#91;0:8&#93;, input_tile&#91;8:16&#93;))<br />&nbsp; &nbsp; color_2 = bytes(((0xff^a) &amp; b) for a, b in zip(input_tile&#91;0:8&#93;, input_tile&#91;8:16&#93;))<br />&nbsp; &nbsp; color_3 = bytes((a &amp; b) for a, b in zip(input_tile&#91;0:8&#93;, input_tile&#91;8:16&#93;))<br />&nbsp; &nbsp; norm = sorted(&#91;color_0, color_1, color_2, color_3&#93;)<br />&nbsp; &nbsp; norm.reverse()<br />&nbsp; &nbsp; plane_0 = bytes((a | b) for a, b in zip(norm&#91;1&#93;, norm&#91;3&#93;))<br />&nbsp; &nbsp; plane_1 = bytes((a | b) for a, b in zip(norm&#91;2&#93;, norm&#91;3&#93;))<br />&nbsp; &nbsp; return plane_0 + plane_1<br /><br />for input_filename in sys.argv&#91;1:&#93;:<br />&nbsp; &nbsp; input_chr = open(input_filename, 'rb').read()<br />&nbsp; &nbsp; #all_tiles.update(input_chr&#91;i*16:i*16+16&#93; for i in range(len(input_chr)//16))<br />&nbsp; &nbsp; tileset = set(normalize_tile(input_chr&#91;i*16:i*16+16&#93;) for i in range(len(input_chr)//16))<br />&nbsp; &nbsp; all_tiles.update(tileset)<br /><br />with open(&quot;result.chr&quot;,'wb') as output_file:<br />&nbsp; &nbsp; for tile in all_tiles.most_common(512):<br />&nbsp; &nbsp; &nbsp; &nbsp; output_file.write(tile&#91;0&#93;)<br />&nbsp; &nbsp; &nbsp; &nbsp; print(tile&#91;1&#93;)<br /></div>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Alp</b> [ Mon Sep 11, 2017 6:50 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: chr sheet of most used tiles</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">JRoatch wrote:</div><div class="quotecontent">In the meanwhile here's a slightly more readable version of above.<br /><div class="attachtitle">Attachment:</div><div class="attachcontent">The attachment <strong>2017-09-11_readable.png</strong> is no longer available</div></div><br />Oh, now this is interesting!<br /><br />I can't help but think that if this was organized, it would heavily resemble the Intellivision's built-in GROM.<br /><br /><div class="attachtitle">Attachment:</div><div class="attachcontent">
			<img src="./download/file.php?id=10133" alt="intvfont.png" /><br />
			<span class="gensmall">intvfont.png [ 2.25 KiB | Viewed 3001 times ]</span>
		

		<br />
	</div>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Tue Sep 12, 2017 12:12 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: chr sheet of most used tiles</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Note that this is the most present tiles in the CHR-ROM not the most used, i.e. you ignore whether the games actually uses these tiles a lot, a little, or not at all, during gameplay. This is a major difference.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I tried out normalizing bitplane permutations.</div><br />Did you only account for bitplane permutations (exchanging colours 1 and 2) or any colour permutation ? It seems you did the latter, which makes more sense.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>qalle</b> [ Sun Oct 29, 2017 9:02 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: chr sheet of most used tiles</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I extracted all unique 1- or 2-color tiles from 7080 NES games. There were about 800,000 such tiles. I normalized the colors within each tile: the more common color is always black and the less common color is white. (If there were 32 pixels of each, the colors were inverted if the top left pixel was white.)<br /><br />I have attached an image of the tiles and the scripts I used. (Run at your own risk.)<br /><br />Next, maybe try sorting the tiles by number of white pixels...

		
			<br clear="all" /><br />

			<table class="tablebg" width="100%" cellspacing="1">
			<tr>
				<td><b class="genmed">Attachments: </b></td>
			</tr>
			
				<tr>
					<td>
		<span class="genmed">[The extension <strong>py</strong> has been deactivated and can no longer be displayed.]</span><br />
	</td>
				</tr>
			
				<tr>
					<td>
		<span class="genmed">[The extension <strong>py</strong> has been deactivated and can no longer be displayed.]</span><br />
	</td>
				</tr>
			
				<tr>
					<td>
		<span class="genmed">[The extension <strong>py</strong> has been deactivated and can no longer be displayed.]</span><br />
	</td>
				</tr>
			
				<tr>
					<td>
			<span class="gensmall"><b>File comment:</b> All unique 1- or 2-color tiles in 7080 NES games. Warning: over 50 million pixels.</span><br />
		
			<a href="./download/file.php?id=10593&amp;mode=view"><img src="./download/file.php?id=10593&amp;t=1" alt="1-or-2-color-tiles.png" /></a><br />
			<span class="gensmall">1-or-2-color-tiles.png [ 2.8 MiB | Viewed 2510 times ]</span>
		

		<br />
	</td>
				</tr>
			
			</table>
		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>