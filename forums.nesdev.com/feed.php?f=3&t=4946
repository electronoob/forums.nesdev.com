<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="http://forums.nesdev.com/feed.php?f=3&amp;t=4946" />

<title>nesdev.com</title>
<subtitle>NES Development and Strangulation Records message boards</subtitle>
<link href="http://forums.nesdev.com/index.php" />
<updated>2013-11-20T12:06:39-07:00</updated>

<author><name><![CDATA[nesdev.com]]></name></author>
<id>http://forums.nesdev.com/feed.php?f=3&amp;t=4946</id>
<entry>
<author><name><![CDATA[James]]></name></author>
<updated>2013-11-20T12:06:39-07:00</updated>
<published>2013-11-20T12:06:39-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4946&amp;p=121194#p121194</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4946&amp;p=121194#p121194"/>
<title type="html"><![CDATA[Re: what is the cut off freq of the nes ?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4946&amp;p=121194#p121194"><![CDATA[
Thanks!<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=88">James</a> — Wed Nov 20, 2013 12:06 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[blargg]]></name></author>
<updated>2013-11-20T12:01:07-07:00</updated>
<published>2013-11-20T12:01:07-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4946&amp;p=121193#p121193</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4946&amp;p=121193#p121193"/>
<title type="html"><![CDATA[Re: what is the cut off freq of the nes ?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4946&amp;p=121193#p121193"><![CDATA[
<img src="http://blargg.8bitalley.com/ripway/temp/nes_eq.png" alt="Image" /><br /><br /><img src="http://blargg.8bitalley.com/ripway/temp/nes_high_pass.png" alt="Image" /><br /><br />(lower one is high-pass)<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=17">blargg</a> — Wed Nov 20, 2013 12:01 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[James]]></name></author>
<updated>2013-11-20T07:27:04-07:00</updated>
<published>2013-11-20T07:27:04-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4946&amp;p=121181#p121181</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4946&amp;p=121181#p121181"/>
<title type="html"><![CDATA[Re:]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4946&amp;p=121181#p121181"><![CDATA[
<div class="quotetitle">blargg wrote:</div><div class="quotecontent"><br />II re-recorded some that were in like phase (where the impulse falls relative to the sampler affects things). Black is the raw output from the 2A03 (and thus shows the low-pass of my PC's sampler), red is the RCA, and blue is with a one-pole filter with coefficient ~0.816 applied to the raw, which closely approximates the RCA. The frequency scale is linear from 0 to 22050 Hz (my sampler won't do any higher, sorry).<br />....<br /></div><br />blargg, do you still have these images?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=88">James</a> — Wed Nov 20, 2013 7:27 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[lidnariq]]></name></author>
<updated>2009-03-15T10:30:44-07:00</updated>
<published>2009-03-15T10:30:44-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4946&amp;p=44320#p44320</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4946&amp;p=44320#p44320"/>
<title type="html"><![CDATA[what is the cut off freq of the nes ?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4946&amp;p=44320#p44320"><![CDATA[
<div class="quotetitle">blargg wrote:</div><div class="quotecontent"><br />Perhaps someone can confirm that these two constants match the R-C high-pass filters in the schematic.<br /></div><br /><br />The k=.999835 HP is a time constant of 1700us, and it corresponds to the very last output stage -- the 150ohm resistor and 10uF cap (corner freq=90Hz).<br /><br />The k=.996039 HP is a time constant of 360us, I haven't yet found what it corresponds to. (corner freq=442Hz)<br />(edit: This <strong>might</strong> correspond to the 47k on the resistor through the inductor and the .011uF of capacitors, or the .011uF of capacitors and the 270ohm resistor after the BJT with its resistance amplified by the BJT (appx a factor of 200).)<br /><br />The k=.815686 LP is a time constant of 11us, the 47kohm and 220pF lowpass around the inverter-used-as-an-amplifier (corner freq=14kHz).<br /><br />(The time constant for the LC seems to be faaaaar above audible frequencies, time constant=654ns -&gt; corner freq=243kHz)<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3512">lidnariq</a> — Sun Mar 15, 2009 10:30 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[blargg]]></name></author>
<updated>2009-03-15T11:38:14-07:00</updated>
<published>2009-03-14T09:42:19-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4946&amp;p=44255#p44255</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4946&amp;p=44255#p44255"/>
<title type="html"><![CDATA[what is the cut off freq of the nes ?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4946&amp;p=44255#p44255"><![CDATA[
I'm not sure I can get white noise. I do now see that an impulse isn't that great for determining high-pass, but for low-pass it's good; perhaps the step response will be best for determining high-pass. I re-recorded some that were in like phase (where the impulse falls relative to the sampler affects things). Black is the raw output from the 2A03 (and thus shows the low-pass of my PC's sampler), red is the RCA, and blue is with a one-pole filter with coefficient ~0.816 applied to the raw, which closely approximates the RCA. The frequency scale is linear from 0 to 22050 Hz (my sampler won't do any higher, sorry).<br /><br /><img src="http://h1.ripway.com/blargg/temp/nes_eq.png" alt="Image" /><br /><br />The filter that seems to approximate low-pass characteristics is just out[i]=(in[i]-out[i-1])*0.815686.<br /><br />EDIT: And for high-pass, using out[i]=out[i-1]*k+in[i]-in[i-1] twice, with k=0.996039 and k=0.999835 seems to approximate it well (step response, red is NES RCA, blue is raw run through above filter):<br /><br /><img src="http://h1.ripway.com/blargg/temp/nes_high_pass.png" alt="Image" /><br /><br />Perhaps someone can confirm that these two constants match the R-C high-pass filters in the schematic.<br /><br />EDIT: And of course the above iterative filter equations are run at a 44100 Hz sampling rate; other rates would use different coefficients.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=17">blargg</a> — Sat Mar 14, 2009 9:42 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[frantik]]></name></author>
<updated>2009-03-13T16:07:25-07:00</updated>
<published>2009-03-13T16:07:25-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4946&amp;p=44239#p44239</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4946&amp;p=44239#p44239"/>
<title type="html"><![CDATA[what is the cut off freq of the nes ?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4946&amp;p=44239#p44239"><![CDATA[
blargg I can analyze the sound but it would be useful if the recordings of each type were a bit longer.. like a second or more of white noise coming from each output?<br /><br />also if you could record at a high sample rate it will show how high up the response goes<br /><br /><br />I checked out tepples recordings and the white noise appears to be pretty flat all the way up and past 20kHz in the NES-001.ogg file (which i assume is an acutal nes)<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3841">frantik</a> — Fri Mar 13, 2009 4:07 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[blargg]]></name></author>
<updated>2009-03-13T14:18:08-07:00</updated>
<published>2009-03-13T14:18:08-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4946&amp;p=44236#p44236</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4946&amp;p=44236#p44236"/>
<title type="html"><![CDATA[what is the cut off freq of the nes ?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4946&amp;p=44236#p44236"><![CDATA[
Then you get the filtering the computer's line out has. <img src="http://forums.nesdev.com/images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br /><br />I think the NES can generate good impulses with frequency content well above 20 kHz, we just need to be able to do something useful with the result. I had tried this a while back but never got anything useful. I think another issue is that the more into the PC's low-pass rolloff you go, the less you can determine the rolloff of the NES filter; when you reach the PC's cutoff, you obviously can't determine anything about the NES. Here's a recording of the raw output from the 2A03 (left channel), and the RCA (right channel):, with levels adjusted so the second wider pulses have the same initial delta<br /><br /><a href="http://h1.ripway.com/blargg/temp/nes_raw_rca.wav" class="postlink">nes_raw_rca.wav</a><br /><br />I don't have very good analysis tools, so perhaps someone else can compare the two to determine the filtering occurring between them, which would be what the NES output amplifier circuit does.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=17">blargg</a> — Fri Mar 13, 2009 2:18 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[kyuusaku]]></name></author>
<updated>2009-03-13T13:10:37-07:00</updated>
<published>2009-03-13T13:10:37-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4946&amp;p=44233#p44233</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4946&amp;p=44233#p44233"/>
<title type="html"><![CDATA[what is the cut off freq of the nes ?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4946&amp;p=44233#p44233"><![CDATA[
Perhaps instead of using the APU's output, it would be easier to lift the mixing resistors and use a computer's line out?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=20">kyuusaku</a> — Fri Mar 13, 2009 1:10 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[blargg]]></name></author>
<updated>2009-03-13T12:33:35-07:00</updated>
<published>2009-03-13T12:33:35-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4946&amp;p=44232#p44232</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4946&amp;p=44232#p44232"/>
<title type="html"><![CDATA[what is the cut off freq of the nes ?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4946&amp;p=44232#p44232"><![CDATA[
The 1 uF capacitor just after the mixer and the 10 uF capacitor just before the audio output should do some high-pass filtering.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=17">blargg</a> — Fri Mar 13, 2009 12:33 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2009-03-13T11:41:43-07:00</updated>
<published>2009-03-13T11:41:43-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4946&amp;p=44231#p44231</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4946&amp;p=44231#p44231"/>
<title type="html"><![CDATA[what is the cut off freq of the nes ?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4946&amp;p=44231#p44231"><![CDATA[
<div class="quotetitle">mattmatteh wrote:</div><div class="quotecontent"><br />is there a high pass filter in there too ?<br /></div><br />I'm pretty sure the NES has a high-pass filter of some sort on its RCA audio output. I saw a high-pass characteristic in the recordings I mentioned, and it's probably not entirely the PC because the sound card (an SB Ensoniq AudioPCI) has picked up rumble as low as 5 Hz from my desk mic.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Fri Mar 13, 2009 11:41 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[mattmatteh]]></name></author>
<updated>2009-03-13T11:20:17-07:00</updated>
<published>2009-03-13T11:20:17-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4946&amp;p=44230#p44230</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4946&amp;p=44230#p44230"/>
<title type="html"><![CDATA[what is the cut off freq of the nes ?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4946&amp;p=44230#p44230"><![CDATA[
is there a high pass filter in there too ?<br /><br />right now i am dumping audio to a file and looking at it in audacity.  its unfiltered at the moment and have been filtering in audacity.  i was just wondering what the low and high frequency is, and rolloff.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=170">mattmatteh</a> — Fri Mar 13, 2009 11:20 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[blargg]]></name></author>
<updated>2009-03-13T08:52:29-07:00</updated>
<published>2009-03-13T08:52:29-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4946&amp;p=44227#p44227</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4946&amp;p=44227#p44227"/>
<title type="html"><![CDATA[what is the cut off freq of the nes ?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4946&amp;p=44227#p44227"><![CDATA[
The problem is that this also includes your sampler's low-pass (and high-pass) filtering. Making recordings of the raw 2A03 output pins AND the RCA output would allow them to be compared to find out the filtering done, though I never could figure out how to quantify it well. I think one uses an impulse to determine this, i.e. a pulse as short as possible, that still results in significant amplitude. An impulse contains all frequencies of equal amplitude, so running it through a spectrum analyzer (Fourier Transform) shows any filtering that was done to it, as well as any phase shifts.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=17">blargg</a> — Fri Mar 13, 2009 8:52 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2009-03-13T07:26:58-07:00</updated>
<published>2009-03-13T07:26:58-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4946&amp;p=44223#p44223</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4946&amp;p=44223#p44223"/>
<title type="html"><![CDATA[what is the cut off freq of the nes ?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4946&amp;p=44223#p44223"><![CDATA[
I've made <a href="http://nesdev.com/bbs/viewtopic.php?t=4906" class="postlink">recordings</a> of 1 kHz square waves and noise played through the NTSC frontloader's RCA audio jack, if those help any.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Fri Mar 13, 2009 7:26 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[blargg]]></name></author>
<updated>2009-03-13T07:01:10-07:00</updated>
<published>2009-03-13T07:01:10-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4946&amp;p=44221#p44221</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4946&amp;p=44221#p44221"/>
<title type="html"><![CDATA[what is the cut off freq of the nes ?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4946&amp;p=44221#p44221"><![CDATA[
The raw internal output from the 2A03 on the two pins is very likely unfiltered. The non-linear mixing doesn't do any filtering either. So it's all after that, as kyuusaku detailed above.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=17">blargg</a> — Fri Mar 13, 2009 7:01 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[kyuusaku]]></name></author>
<updated>2009-03-12T23:04:51-07:00</updated>
<published>2009-03-12T23:04:51-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4946&amp;p=44211#p44211</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4946&amp;p=44211#p44211"/>
<title type="html"><![CDATA[what is the cut off freq of the nes ?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4946&amp;p=44211#p44211"><![CDATA[
I see a bunch of low pass filters, there's:<br /><br />-one made by the 220pF cap before the inverting amp and the audio output Z<br />-same cap making a low pass filter with the interting amp's feedback resistor (47K &amp; 220pF)<br />-capacitor feedback on the inverting amp making an integrator/active LPF?<br />-one made by the series inductor and the following cap (39uH &amp; .01uF)<br />-one made on the output (150R &amp; 47pF)<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=20">kyuusaku</a> — Thu Mar 12, 2009 11:04 pm</p><hr />
]]></content>
</entry>
</feed>