<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Revision E NES CPU (RP2A03E)</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Revision E NES CPU (RP2A03E)</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=3&amp;t=806">http://forums.nesdev.com/viewtopic.php?f=3&amp;t=806</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>kevtris</b> [ Tue Dec 06, 2005 8:48 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Revision E NES CPU (RP2A03E)</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Well, I finally got out my E revision CPU from that Famicombox and popped it into a CopyNES I was building so that I could test it.  The results weren't very surprising.
<br />
<br />I could not find any difference between the E CPU and the G CPU.  DPCM works fine, raw PCM works fine, and more importantly, looped noise works fine.  
<br />
<br />I also ran my CPU tester program over this CPU and all the "invalid" opcode tests pass.  
<br />
<br />So, the E revision CPU not supporting looped noise is false.  It supports exactly like the G revision.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>kevtris</b> [ Tue Dec 06, 2005 9:01 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Whoops, glad Quietust reminded me... I had some OTHER CPU's to test.  I got this large bag of Nintendo arcade chips off of ebay a couple weeks ago mainly for the EPROMs and Vs. PPU's.
<br />
<br />Anyways, in the bag were some RP2A03 CPUs... yes, RP2A03 without any revision code.  Unfortunately, I do not know how old they are.  They are rather uselessly marked "4C3 14" instead of a date code.  the "4" *might* be the year (1984).  The game this came out of is I believe Super Punch Out or regular Punch Out (arcade).
<br />
<br />Anyways, this is important because the chip has no looped noise!  So it *is* confirmed- early CPU revisions do not support looped noise... just revisions before E.  
<br />
<br />CPU tests (invalid opcodes, etc) pass with flying colours, and DPCM/PCM both work as well.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>baisoku</b> [ Tue Dec 06, 2005 11:11 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">kevtris wrote:</div><div class="quotecontent">Anyways, this is important because the chip has no looped noise!  So it *is* confirmed- early CPU revisions do not support looped noise... just revisions before E. </div>
<br />
<br />Hmm, you mean $400c bit 5 just has no function on those cpu revisions? I thought the difference was the lack of the 2nd feedback tap select for the 15-bit shift register?
<br />
<br />Good info to have!

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>kevtris</b> [ Wed Dec 07, 2005 2:31 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">baisoku wrote:</div><div class="quotecontent"><div class="quotetitle">kevtris wrote:</div><div class="quotecontent">Anyways, this is important because the chip has no looped noise!  So it *is* confirmed- early CPU revisions do not support looped noise... just revisions before E. </div><br /><br />Hmm, you mean $400c bit 5 just has no function on those cpu revisions? I thought the difference was the lack of the 2nd feedback tap select for the 15-bit shift register?<br /><br />Good info to have!</div>
<br />
<br />Correct. It just does not function.  The result is on i.e. the Megaman 2 Quickman stage, you get regular ol' noise instead of the periodic noise you'd expect.  It sounds kinda odd.  Also, solstice produces white noise instead of that "tink" you'd expect.  I was thinking about recording the audio from it for kicks.  Anyone want to hear it?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Great Hierophant</b> [ Wed Dec 07, 2005 10:33 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />This is excellent news!  Hopefully then the issue should be isolated to custom arcade hardware that would not have a need for the non-working feature and not to any home console or device that plays home console games or versions of them (Famicombox, M82 Selection System, Playchoice 10).  This should limit these CPUs to VS Arcade Systems and maybe some very early Famicoms (many of which were recalled for a hardware defect.)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>NewRisingSun</b> [ Wed Dec 07, 2005 11:40 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Does anyone know exactly what said hardware defect was technically? The reports I read just talk about "rampant freezing".

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>WedNESday</b> [ Wed Dec 07, 2005 12:47 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Maybe this quote from Wikipedia.org helps;
<br />
<br />...during its first year, many criticized the system as unreliable, prone to programming errors and rampant freezing. Following a product recall and a reissue with a new motherboard...

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Wed Dec 07, 2005 12:53 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">baisoku wrote:</div><div class="quotecontent"><div class="quotetitle">kevtris wrote:</div><div class="quotecontent">Hmm, you mean $400c bit 5 just has no function on those cpu revisions? I thought the difference was the lack of the 2nd feedback tap select for the 15-bit shift register?</div></div>
<br />Ya mean $400e bit 7, huh ?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Great Hierophant</b> [ Wed Dec 07, 2005 6:32 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />There may a little information in David Sheff's book "Game Over" about this issue, but I misplaced my copy.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>baisoku</b> [ Thu Dec 08, 2005 9:30 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">Ya mean $400e bit 7, huh ?</div>
<br />That's what i was trying to figure out, whether or not kevtris was talking about the envelope looping bit (400c:d5) or the feeback select bit (400e:d7). Sounds like the latter.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Fri Dec 09, 2005 5:03 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">baisoku wrote:</div><div class="quotecontent">That's what i was trying to figure out, whether or not kevtris was talking about the envelope looping bit (400c:d5) or the feeback select bit (400e:d7). Sounds like the latter.</div>
<br />Given that "looped noise" is the term that NT2 uses to refer to the feedback select bit, that's what I guessed too.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>kevtris</b> [ Fri Dec 09, 2005 10:08 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">baisoku wrote:</div><div class="quotecontent"><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">Ya mean $400e bit 7, huh ?</div><br />That's what i was trying to figure out, whether or not kevtris was talking about the envelope looping bit (400c:d5) or the feeback select bit (400e:d7). Sounds like the latter.</div>
<br />
<br />Feedback select.  It only produces "white" noise, and it cannot produce the "periodic" noise as found on the Solstice title screen, Quickman stage (MM2), or anything like that.  On the Quickman stage, it plays it with just the white noise and it sounds pretty odd.
<br />
<br />As far as I know, the enveloping is the same.  I played A Boy and his Blob and it sounded OK... that thing abuses the triangle channel something awful.   Namely with respect to the triangle's length counters.  That is why emulators couldn't accurately emulate the music from this game until relatively recently.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>