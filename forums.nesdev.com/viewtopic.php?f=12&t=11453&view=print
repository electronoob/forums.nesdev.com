<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - How to program a NINTENDO POWER Cartridge ?</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">How to program a NINTENDO POWER Cartridge ?</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=12&amp;t=11453">http://forums.nesdev.com/viewtopic.php?f=12&amp;t=11453</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>14</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>nintendopower</b> [ Tue Jul 22, 2014 5:32 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>How to program a NINTENDO POWER Cartridge ?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Hello there,<br />I bought a NINTENDO POWER Cartridge and try to program other game into it.<br />The original game in NINTENDO POWER Cartridge is Derby Stallion .<br />I programmed the Fire Emblem: Thracia 776 to the flash but the game is only black screen of death . <br />Did someone else have had this problem and know a way to fix this?<br />Does the the Fire Emblem: Thracia 776's rom has been revised for emulator ?

		
			<br clear="all" /><br />

			<table class="tablebg" width="100%" cellspacing="1">
			<tr>
				<td><b class="genmed">Attachments: </b></td>
			</tr>
			
				<tr>
					<td>
			<a href="./download/file.php?id=1760&amp;mode=view"><img src="./download/file.php?id=1760&amp;t=1" alt="1689412810318114782.jpg" /></a><br />
			<span class="gensmall">1689412810318114782.jpg [ 29.76 KiB | Viewed 10001 times ]</span>
		

		<br />
	</td>
				</tr>
			
			</table>
		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Ice Man</b> [ Tue Jul 22, 2014 5:44 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: How to program a NINTENDO POWER Cartridge ?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I usually use normal cartridges to program NP games. Did you make sure, if the game/cartridge are actually matching? HiRom/LoRom, SRAM, etc..

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>nintendopower</b> [ Tue Jul 22, 2014 6:44 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: How to program a NINTENDO POWER Cartridge ?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Ice Man wrote:</div><div class="quotecontent">I usually use normal cartridges to program NP games. Did you make sure, if the game/cartridge are actually matching? HiRom/LoRom, SRAM, etc..</div><br />But some Games are only release in NP,like :[Genjuu Ryodan]ï¼Œ[Super Famicom Wars]...etc.<br />these games has not HiRom/LoRom etc.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Tue Jul 22, 2014 7:48 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: How to program a NINTENDO POWER Cartridge ?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />You're supposed to be able to tell whether a game is LoROM or HiROM from a byte in <a href="http://problemkaputt.de/fullsnes.htm#snescartridgeromheader" class="postlink">the game's internal header</a>.<br />For LoROM, byte $7FD5 will have a value of $20 or $30 and byte $7FFD will be $80-$FF.<br />For HiROM, byte $FFD5 will have a value of $21 or $31 and byte $FFFD will be $80-$FF.<br />Add $0200 to each if your image has a (redundant) floppy copier header.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>nocash</b> [ Tue Jul 22, 2014 12:01 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: How to program a NINTENDO POWER Cartridge ?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">nintendopower wrote:</div><div class="quotecontent">I programmed the Fire Emblem: Thracia 776 to the flash but the game is only black screen of death .</div><br />How did you manage to write to Nintendo Power cartridges ???<br />I was thinking that it would be impossible to write anything to the FLASH chips without first sending some some secret unlocking commands to the MX15001 chip...<br />Did somebody figure out how to do that? Or is there no such protection at all? Or did you simply bypass that protection by doing some hardware mods... like desoldering the FLASH chips? Or do you have one of the official store/kiosk programming stations at home?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>qwertymodo</b> [ Tue Jul 22, 2014 12:28 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: How to program a NINTENDO POWER Cartridge ?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I just managed to pick up one of the NP SFC carts on Ebay for $20US.  I'll play around with it when it arrives and let you know what I find out.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>byuu</b> [ Tue Jul 22, 2014 3:40 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: How to program a NINTENDO POWER Cartridge ?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I'm almost certain he programmed the FlashROM directly. You probably don't *have* to desolder the chip to do this (<a href="http://hackaday.com/2010/12/24/reading-nand-flash-chips-without-removing-them/" class="postlink">example</a>), but it probably makes it a whole lot easier if you do.<br /><br />Nintendo Power carts are not just individual games: there's a boot menu in there that also handles all the mapping for the games. If you don't copy that (and likely, modify it for the game you want to run), then the mapper doesn't set anything up and it won't work. Your best bet would be to image a real Thracia 776 NP cart and then burn that image verbatim.<br /><br />I'm glad this thread exists. I've stated that I am unwilling to collect and/or dump any flash carts (BSX/NP) because they are basically USB sticks with a weird connector and raw file system. Now I have a link to show people.<br /><br />If nintendopower pulls this off, he can flip $20 eBay NP carts for $400 Wizardry 1-2-3 carts until the market catches on and all NP carts lose all their value, if he were so inclined. We already have eBay sellers reprogramming NSS carts thanks to nocash's info, so this is inevitable I suppose.<br /><br />I say we go ahead and do it. Reflashed NP would make a nice boot loader for my serial port controller, I keep wiping the SRAM on my current devcart and having to break out the Super UFO to rewrite it. (I guess I could dual-purpose quertymodo's Cx4 devcart though too.)<br /><br />As far as reprogramming a cart through SNES code ... the actual programming of the flash chips is almost certainly the usual 0xaa55-style commands for BS-X and GBA RAM. The flash vendor interfaces are usually very similar to each other, with a few minor tweaks. But there's probably some extra catch like a &quot;write enable&quot; register/sequence that the NP reprogramming stations performed via running its own boot ROM instead of booting directly off the cart. Unlikely it's anything super complicated like special voltages applied to pins that a regular SNES console can't do, to turn on reprogramming mode, although I guess we can't rule that out.<br /><br />Best bet to learn how to do this through cart swapping + reprogramming, would be to emulate the actual NP menu and memory mapping chip. Get a good idea of the register space involved, look for gaps in the register table, and start experimenting. Use the usual GBA RAM rewrite command style on it as you brute-force any kind of enable handshake.<br /><br />But hell, it may have no enable required at all. I don't think anyone's actually tried a straight up cart swap GBA-style reprogram before.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Ice Man</b> [ Wed Jul 23, 2014 4:12 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: How to program a NINTENDO POWER Cartridge ?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">nintendopower wrote:</div><div class="quotecontent"><div class="quotetitle">Ice Man wrote:</div><div class="quotecontent">I usually use normal cartridges to program NP games. Did you make sure, if the game/cartridge are actually matching? HiRom/LoRom, SRAM, etc..</div><br />But some Games are only release in NP,like :[Genjuu Ryodan]ï¼Œ[Super Famicom Wars]...etc.<br />these games has not HiRom/LoRom etc.</div><br />EVERY SNES game has a mapper, whether it be LoRom or HiRom.<br /><br />As for the cartridge itself. I used simple SHVC-1AxM-xx (LoRom) or SHVC-1JxM-xx (HiRom) donor boards from sports games and the like. Programmed the EPROMS (usually 27c801 or 27c322 with a few other decoders) and replaced the original MaskROM.<br /><br />That way I have made Genjuu Ryudan, Power Lode Runner and other NP games, like the Picross series. Not for sale though!<br /><br />I never had a NP Cartridge in my hands yet but I might buy one just to see how it works. <img src="./images/smilies/icon_razz.gif" alt=":P" title="Razz" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MottZilla</b> [ Thu Jul 24, 2014 2:18 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: How to program a NINTENDO POWER Cartridge ?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Ice Man wrote:</div><div class="quotecontent">EVERY SNES game has a mapper, whether it be LoRom or HiRom.<br /></div><br /><br />This is not true. LoROM and HiROM are not &quot;mappers&quot;. They are terms we use for two different memory models. Nintendo refers to them as &quot;Mode ##&quot;. They are not memory mappers in the sense like NES or SA-1/SDD-1 because they aren't capable of mapping anything on the fly. They are just a static setup of how the memory is mapped.<br /><br />Take Killer Instinct for example. This game consists of only two chips on a very small PCB. One 32 Megabit MaskROM and the Lockout/CIC chip. The game is &quot;HiROM&quot;. But there is no mapper involved. The game is &quot;HiROM&quot; because of what signals on the MaskROM connect to what signals on the cartridge port.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Ice Man</b> [ Fri Jul 25, 2014 12:10 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: How to program a NINTENDO POWER Cartridge ?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />My bad, &quot;mapper&quot; was indeed a wrong expression. HiRom/LoRom is determined whether Pin 40 is connected to A15 or not.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Markfrizb</b> [ Fri Jul 25, 2014 9:32 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: How to program a NINTENDO POWER Cartridge ?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />So why is there 7 numbers on the front?  Can it hold 7 games?  I didn't even know these existed until this thread!  How would they program?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MottZilla</b> [ Sat Jul 26, 2014 10:31 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: How to program a NINTENDO POWER Cartridge ?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Yes it can hold 7 games if they are small enough to fit into the memory space given. These cartridges where programmed at stores by a Nintendo Power writer machine. Think Famicom Disk System writer, but instead it's SNES and using Flash Memory.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Markfrizb</b> [ Tue Jul 29, 2014 12:20 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: How to program a NINTENDO POWER Cartridge ?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Interesting!  Is there any write-ups on the specs for this cart?  What it can and can't do?  I assume it won't do any special chip games....<br /><br />Does anyone here have one of the programming machines?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Markfrizb</b> [ Tue Jul 29, 2014 7:23 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: How to program a NINTENDO POWER Cartridge ?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I picked up a few of these NP carts and they are interesting....<br /><br />It appears there is a menu to select from (albeit in Japanese).<br /><br />I have a DK3 and street fighter 2 hyper fighting.  The  cart inside has the potential of 3 16mbit flash chips but only 2 of the flash roms are installed.   So it would seem that whatever can be programmed, couldn't be any bigger than 48mbits or total more than 48mbits.   DKC3 is a 32mbit game so that completely occupies the 2 flash roms on the cart.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>nocash</b> [ Wed Jul 30, 2014 6:26 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: How to program a NINTENDO POWER Cartridge ?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />There are three chapters about Nintendo Power carts in fullsnes.htm, <!-- m --><a class="postlink" href="http://problemkaputt.de/fullsnes.htm#snescartnintendopowerflashcard">http://problemkaputt.de/fullsnes.htm#sn ... rflashcard</a><!-- m --> <br />The I/O port chapter is essentially a long list of <strong>unknown</strong> details, ie. just a list of unsolved problems.<br />The FLASH directory chapter is more or less complete (some details about SRAM/HiROM allocation are missing), but it's unknown if the cartridge is using that directories for ROM/SRAM allocation at all - it's also possinle that there is a <em>second directory</em> stored inside of the MX15001 chip, and that the per-game memory mapping is initialized based on that info (so the FLASH directory would be merely used for GUI purposes, such like displaying the game title bitmaps).<br /><br />Some things that would be interesting...<br /><br />One simple thing: Dumps of more FLASH directories: That would help to figure out if there's any SRAM/HiROM allocation info in the directory.<br /><br />More difficult: Somehow confirming if there is a second directory (in the MX15001 chip) or if there is none such.<br />Ie. doing something like desoldering the FLASH chips from one cartridge, and installing them in a different cartridge (one with differently mapped games). If that is working, then there would be apparently only one single directory (in one of the FLASH chips) (technically, that might be possible: the MX15001 chip might be able to take control of the databus during /RESET, so it might be able to read the directory info from the FLASH chip, and then map the selected game accordingly) (of course that theory won't work for bigger 4Mbyte games which come up without any menu/directory).<br />Being pessimistic, I would suspect that swapping the FLASH chips won't work, and that the whole (de)-soldering work would just result in crashing right after selecting a game from the menu. And even if it would work: It wouldn't really on learning how to reprogram the cartridges without soldering.<br />    <br />The only way to learn how to reprogram the carts is probably hacking one of the offical programming stations. As by now there seems to be little known about them. Photos of their PCBs/chipset would be nice, and one would also need dumps of their storage memory, whatever they've been using there... ROM, EPROM, FLASH, HDDs?

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>14</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>