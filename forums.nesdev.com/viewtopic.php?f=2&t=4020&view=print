<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - SMB 2-player Hack?</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">SMB 2-player Hack?</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=2&amp;t=4020">http://forums.nesdev.com/viewtopic.php?f=2&amp;t=4020</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>3</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Jedi QuestMaster</b> [ Fri Apr 04, 2008 10:00 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>SMB 2-player Hack?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Has anyone ever attempted to make SMB1 two players simultaneous? Like Super Mario Bros. Deluxe?
<br />
<br />I asked this same question at Romhacking.net, where I was told that the sprites would have to look the same, the rom would probably need to be expanded, extra collision detection would need to be added, &amp; extensive knowledge of ASM is required - which I agree, it's not something that any average hacker could pull off.
<br />
<br />Is this something too far-fetched?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>CKY-2K/Clay Man</b> [ Fri Apr 04, 2008 10:31 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Sounds possible.  Expand the ROM, probably use a mapper, have more RAM space for an aditional character (luigi) to run their version of what mario's engine is.  Make some type of cooperation scrolling, like one that checks if both players are in the scroll area then scrolling is available.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>atari2600a</b> [ Fri Apr 04, 2008 11:18 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />IIRC they both have the same physics in SMB1.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>BMF54123</b> [ Sat Apr 05, 2008 12:11 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />You'd have to patch every single routine that handles player/object collisions--including potentially complex things like the flagpole and end-of-world sequences--to handle two different sets of player variables. SMB1 is also prone to (very glitchy) slowdown when too many things are happening, and that's with just <em>one</em> player...
<br />
<br />It's not impossible, of course, but probably not very feasible with the existing game engine.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dwedit</b> [ Sat Apr 05, 2008 12:13 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />then there's more practical questions...
<br />How the hell would you scroll the screen with two players?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Sat Apr 05, 2008 5:06 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Dwedit wrote:</div><div class="quotecontent">then there's more practical questions...<br />How the hell would you scroll the screen with two players?</div>
<br />How did existing co-op games such as TMNT 2 and 3 do it?
<br />
<br />The big difficulty I see with modding the engine of an NES game that doesn't already support two players is palette issues. There are four sprite palette spaces, and by the time you've put in Mario's palette and Luigi's palette, you've already taken up two of them, leaving one for a powerup and only one (instead of two) for enemies.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Jedi QuestMaster</b> [ Sat Apr 05, 2008 11:45 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Oh, oops! Der! <img src="./images/smilies/icon_lol.gif" alt=":lol:" title="Laughing" /> 
<br />
<br />I was thinking maybe Mario or Luigi could share palettes with something else.  But then that would screw things up when one of them gets a fireflower or star.  I Didn't think of that. :p
<br />
<br />Yeah, &amp; the scrolling...
<br />
<br />Perhaps when one player reaches the flagpole, the second player will just "lose control" &amp; stand there while the screen focuses on the first player walking into the castle.
<br />
<br />And do Mario &amp; Luigi really need hit detection?  It'd be fun bouncing on eachother, but it would kind of get annoying as well.  How did SMB Deluxe handle this?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MottZilla</b> [ Sat Apr 05, 2008 12:26 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />By being Gameboy Color and not NES? :p 
<br />
<br />I'm not familar with the GBC, but I imagine it has a faster CPU than the NES, perhaps a bigger available palette, etc. I think it would be quite a project to try to make it 2 player at once. But if you really wanted to I think you could make it work. But you'll need to expand it with a mapper, maybe get more CPU time by using an IRQ rather than Sprite #0 hit. 
<br />
<br />I don't think anyone is going to do it though.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Jedi QuestMaster</b> [ Sat Apr 05, 2008 12:39 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">MottZilla wrote:</div><div class="quotecontent">By being Gameboy Color and not NES? :p </div>
<br />Sorry, I was talking about Mario &amp; Luigi's collision detection.  How was it handled in SMB Deluxe?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dwedit</b> [ Sat Apr 05, 2008 2:44 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Luigi already uses the exact same colors as the green koopa troopa, but in a different order.  Just rearrange mario's colors to match what Luigi's colors would be on a green koopa troopa palette.
<br />Only problem would be that Green turns Gray underwater.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Sat Apr 05, 2008 6:53 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I don't think palettes are such a big issue. Even though the characters might not look exactly the same, I'd say you can definitely squeeze Mario and Luigi there.
<br />
<br />It might even be possible to make them look better, if you separated the head from the rest of the body, the head could make use of another palette that has skin tones, while the body uses colors from the palette that is dedicated to the player, where you could fit the colors for the clothes of both characters (which could even be changed individually in the case of fire flowers). That would require some serious modifications to the code, though.
<br />
<br />Of course, there is the easy way out: Flickering. You'd show only one of the players each frame, and you'd constantly change the palette between Mario's and Luigi's. It might be acceptable for a 2-player mode.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Celius</b> [ Sat Apr 05, 2008 8:10 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent">Of course, there is the easy way out: Flickering. You'd show only one of the players each frame, and you'd constantly change the palette between Mario's and Luigi's. It might be acceptable for a 2-player mode.</div>
<br />
<br />True, however, this is probably the sort of thing that puts the "Warning: This game may cause seizures" thing on games nowadays. This is visually unappealing.
<br />
<br />And yeah, You could probably do something about green turning gray underwater. I would probably just edit that part out, and have whatever would use the gray scale palette make do with the green pallet.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Mon Apr 07, 2008 6:08 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent">It might even be possible to make them look better, if you separated the head from the rest of the body, the head could make use of another palette that has skin tones, while the body uses colors from the palette that is dedicated to the player, where you could fit the colors for the clothes of both characters (which could even be changed individually in the case of fire flowers). That would require some serious modifications to the code, though.</div><br />That worked for Contra, and it worked for Kart Fighter. But Mario and Luigi change the color of their clothes too often for that to work. You <em>could</em> do something like Super Mario Land 2, where Mario's cap changes to indicate fire status, and something like Super Mario Bros. 3 and Sonic the Hedgehog 2, where more animations change to indicate invincibility.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Of course, there is the easy way out: Flickering.</div>
<br />Pac-Man. Atari 2600. Do we want to relive that? I'm with Celius.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>CKY-2K/Clay Man</b> [ Mon Apr 07, 2008 9:13 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Dwedit wrote:</div><div class="quotecontent">then there's more practical questions...<br />How the hell would you scroll the screen with two players?</div>
<br />
<br />I told you, since it scrolls right whenever the player moves right from a certain point of the screen, it could have some code to detect if both players are going passed that point, then it would start to scroll, and if there's a player behind the point, it wont scroll.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Celius</b> [ Mon Apr 07, 2008 10:51 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Kind of like Everquest: Champions of Norath, if you've ever played it. You could see if a player was on the very left edge of the screen. If either Mario or Luigi is on the very left edge of the screen, it wouldn't scroll. But each character has the power to advance the scroll by running towards a certain point on the screen (Towards the middle probably). But I suppose it would be nice to have a system where the screen could completely stop scrolling if you wanted it to, and both Mario and Luigi could run around the entire screen if desired.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>3</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>