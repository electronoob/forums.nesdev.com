<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - PowerPak: New Mappers need new ROM?</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">PowerPak: New Mappers need new ROM?</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=9&amp;t=3622">http://forums.nesdev.com/viewtopic.php?f=9&amp;t=3622</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Great Hierophant</b> [ Thu Oct 04, 2007 5:29 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>PowerPak: New Mappers need new ROM?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I was finally able to copy the new mapper files to my power pak today, unfortunately, they seem to prefer the new boot ROM and mine has the old boot ROM.  MMC3 games have jumpy status bars where they were solid before.
<br />
<br />Until I can find someone willing to burn the new boot ROM onto my powerpak, can someone send me a copy of the 1.00 PowerPak mapper files?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>peppers</b> [ Thu Oct 04, 2007 5:37 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />witch games in paricular?
<br />
<br />because there are mmc3 games witch have staus bars that arejumpy with the real cartriges and that would make it more accurate, <a href="http://rapidshare.com/files/60338090/POWERPAK100.zip.html" class="postlink">anyway here you go</a>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Great Hierophant</b> [ Thu Oct 04, 2007 5:47 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Games like SMB3 and Kirby, which should not have that kind of jumpy status bar, even in a PowerPak with 1.00 Mappers.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>peppers</b> [ Thu Oct 04, 2007 5:55 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />well idk with my real smb3 cartrige the status bar is a little jumpy especually in the boss levels
<br />
<br />
<br />I will compare the 2 powerpack mapper versions with it later

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Thu Oct 04, 2007 7:30 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />So, is there a compatibility problem between the new mapper files versus the old boot ROM or not?
<br />
<br />I'll probably desolder the boot ROM and update it myself someday, but until I do, is there anything I should know about using the new mapper files? If they really don't work I won't even bother trying.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Great Hierophant</b> [ Thu Oct 04, 2007 8:53 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I confirmed it, SMB3 with PowerPak Mappers 1.00 does not have a jumpy status bar, its status bar is as solid as it should be.  Unless the newer files have regressed in so basic an area, I would guess that the new boot ROM is required to make sure the Mapper files work properly.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>dvdmth</b> [ Fri Oct 05, 2007 7:16 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />It's not going to be a boot ROM problem.  The FPGA programming code is identical in both the v1.00 boot ROM and the v1.10 boot ROM.  If there are any compatibility issues, they would affect only the startup screens (file select, options, etc.), not actual gameplay.
<br />
<br />Bunnyboy has released his logic for MMC3 IRQ's.  Perhaps someone should take a look at it and make sure the IRQ system is consistent with actual MMC3 behavior.  I would myself, but I'm on a PowerPC Mac and, near as I can tell, there's no Mac version of the software bunnyboy is using.
<br />
<br />Some questions:
<br />
<br />1. Is the problem visible on the title screen?
<br />2. Is the problem visible on the world map?
<br />3. Is the problem visible in world 1-1?  World 1-2?  The collapsing ceiling room in the first fortress?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>peppers</b> [ Fri Oct 05, 2007 2:18 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />after trying both versions I seem to be haveing the problem of not haveing the jumpy staus bar
<br />
<br />on the real cartrige the status bar jumps like crazy when playing a boss level and onley the boss level (the ones  on the flying boats with all the cannons)
<br /> but with the power pack its pretty stable outherwise it appears to be the same with both mapper versions

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MottZilla</b> [ Fri Oct 05, 2007 2:27 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Maybe your real cartridge is dirty? Bad contacts/dirty contacts might cause such a problem. The PowerPAK being so young wouldn't have had as much time to gather dirt on the contacts.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>peppers</b> [ Fri Oct 05, 2007 2:50 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />ok you can disregard my satements I cannot notase a differince between them,it appers the jumping of the status bar onley happenes on an old  tv

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>kyuusaku</b> [ Fri Oct 05, 2007 2:57 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />It's might have something to do with your master oscillator which has fallen from spec. MMC3 has a logic circuit which filters Phi2 and A12 to detect a new scanline, from what is "known" I couldn't get the filter acting correctly myself when I tried to design my own MMC3. 
<br />
<br />Bunnyboy's use of the 20MHz onboard oscillator instead of Phi2 also might have some connection.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>kevtris</b> [ Fri Oct 05, 2007 10:25 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Great Hierophant wrote:</div><div class="quotecontent">I confirmed it, SMB3 with PowerPak Mappers 1.00 does not have a jumpy status bar, its status bar is as solid as it should be.  Unless the newer files have regressed in so basic an area, I would guess that the new boot ROM is required to make sure the Mapper files work properly.</div>
<br />
<br />The MMC3 on the Powerpak is using my FPGA NES MMC3 IRQ "core" so to speak, which is confirmed 100% accurate by me here.  I am not 100% sure though about the conversion from the Quartus schematic to the Xilinx interface, however.
<br />
<br />Has someone run Blargg's MMC3 test on it yet?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Great Hierophant</b> [ Sat Oct 06, 2007 8:52 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />More testing is required, obviously.  However, my real SMB3 cart's status bar is as solid as a rock.  The PowerPak 1.00 is just as solid.  The 1.10 and 1.11 jump like mad, and is visible everywhere in the game.  
<br />
<br />At least Low-G-Man does not crash at the boss screen with 1.10, although the boss music is not quite right.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>dvdmth</b> [ Sat Oct 06, 2007 1:10 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Are people with problems running on NTSC or PAL hardware?
<br />
<br />Also, there are two versions of SMB3 on NTSC (GoodNES calls them PRG0 and PRG1 - other ROM sets, such as No-Intro, use REV0 and REVA).  I haven't looked at the two versions to see if the IRQ code is different between them, but one might want to try both versions in case.
<br />
<br />It is worth noting that the status bar should NOT look 100% glitch-free.  It is perfectly normal for a small glitch to appear on the first line of the status bar (this is caused by the DPCM channel's DMA fetches, which cause the IRQ code' timing to get offset).  That said, I don't think the status bar should jump vertically during gameplay (at least I don't remember ever seeing it when playing the game on a real NES).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Sat Oct 06, 2007 1:21 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Which version is the "miss twice and your out" version, and which version is the "you can only miss twice" version?

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>