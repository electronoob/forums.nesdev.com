<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="http://forums.nesdev.com/feed.php?f=12&amp;t=12455" />

<title>nesdev.com</title>
<subtitle>NES Development and Strangulation Records message boards</subtitle>
<link href="http://forums.nesdev.com/index.php" />
<updated>2015-03-14T18:15:07-07:00</updated>

<author><name><![CDATA[nesdev.com]]></name></author>
<id>http://forums.nesdev.com/feed.php?f=12&amp;t=12455</id>
<entry>
<author><name><![CDATA[psycopathicteen]]></name></author>
<updated>2015-03-14T18:15:07-07:00</updated>
<published>2015-03-14T18:15:07-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=12455&amp;p=143047#p143047</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=12455&amp;p=143047#p143047"/>
<title type="html"><![CDATA[Re: clean method of doing collision with tiles]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=12455&amp;p=143047#p143047"><![CDATA[
I know how to make this easy.  Give the tiles underneath slopes, matching slope data, so they can eject objects into the slope above it.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4383">psycopathicteen</a> — Sat Mar 14, 2015 6:15 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tokumaru]]></name></author>
<updated>2015-03-14T15:18:25-07:00</updated>
<published>2015-03-14T15:18:25-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=12455&amp;p=143036#p143036</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=12455&amp;p=143036#p143036"/>
<title type="html"><![CDATA[Re: clean method of doing collision with tiles]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=12455&amp;p=143036#p143036"><![CDATA[
<div class="quotetitle">psycopathicteen wrote:</div><div class="quotecontent"><br />Which is easier to program?  1-point slope collision or 2-point slope collision?<br /></div><br />I prefer to do 1-point, but revert to 2-point when that 1-point goes off the ground.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=95">tokumaru</a> — Sat Mar 14, 2015 3:18 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[psycopathicteen]]></name></author>
<updated>2015-03-14T08:49:20-07:00</updated>
<published>2015-03-14T08:49:20-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=12455&amp;p=143020#p143020</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=12455&amp;p=143020#p143020"/>
<title type="html"><![CDATA[Re: clean method of doing collision with tiles]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=12455&amp;p=143020#p143020"><![CDATA[
Which is easier to program?  1-point slope collision or 2-point slope collision?  At first I tried 2-point collision because it makes slightly more physical sense,  but I'm having trouble making the back point snap to downward sloping platforms.  1-point slope collision makes platform snapping easier, but the rules of standing at the edge of a tile changes depending if there is a sloped tile there or not.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4383">psycopathicteen</a> — Sat Mar 14, 2015 8:49 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tokumaru]]></name></author>
<updated>2015-03-13T12:26:32-07:00</updated>
<published>2015-03-13T12:26:32-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=12455&amp;p=142931#p142931</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=12455&amp;p=142931#p142931"/>
<title type="html"><![CDATA[Re: clean method of doing collision with tiles]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=12455&amp;p=142931#p142931"><![CDATA[
<div class="quotetitle">psycopathicteen wrote:</div><div class="quotecontent"><br />I didn't know anyone programmed it 2 different algorithms for the same type of collision.<br /></div><br />It's obviously not mandatory, but when you have limited processing power, it might be interesting to write more specialized functions for the simpler cases, instead of using the more complex routine for everything. This is true for everything, not only collision detection. Physics, for example, is usually more complex for the main character, while other objects use simpler logic.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=95">tokumaru</a> — Fri Mar 13, 2015 12:26 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[psycopathicteen]]></name></author>
<updated>2015-03-13T11:18:54-07:00</updated>
<published>2015-03-13T11:18:54-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=12455&amp;p=142921#p142921</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=12455&amp;p=142921#p142921"/>
<title type="html"><![CDATA[Re: clean method of doing collision with tiles]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=12455&amp;p=142921#p142921"><![CDATA[
I knew that tile collision was different than object collision, but I didn't know anyone programmed it 2 different algorithms for the same type of collision.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4383">psycopathicteen</a> — Fri Mar 13, 2015 11:18 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[rainwarrior]]></name></author>
<updated>2015-03-13T10:33:27-07:00</updated>
<published>2015-03-13T10:33:27-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=12455&amp;p=142916#p142916</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=12455&amp;p=142916#p142916"/>
<title type="html"><![CDATA[Re: clean method of doing collision with tiles]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=12455&amp;p=142916#p142916"><![CDATA[
There are basically three classes of collision routine in my platform game:<br /><br />1. Test a point against the tile grid and all movable objects (represented as a set of bounding boxes).<br />2. Test a point, and return a distance to eject in one direction. (There's four of these.)<br />3. Test two bounding boxes for overlap.<br /><br />1 is useful for testing things irrelevant to motion. Is the player on the ground? Has a bullet or particle hit a wall?<br /><br />2 is useful for motion. When you move something to the right, test a point for collision with the world, then return how many pixels you need to move to the left to eject from the thing you collided with. This interacts with other movable objects well, since if you're colliding with both a tile and a bounding box, you can simply return the maximum ejection distance. For most objects you need to test two or three points on the leading edge of the object (corners + however many interior points you need for coverage), and take the maximum ejection distance found.<br /><br />3 is used for interaction between objects. When to hurt the player. When to trigger a response. This is the most common one, I think. Only some creatures in my game need to respond to walls like with 2, but they all need to respond to touching the player, pretty much.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=5165">rainwarrior</a> — Fri Mar 13, 2015 10:33 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2015-03-13T10:06:55-07:00</updated>
<published>2015-03-13T10:06:55-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=12455&amp;p=142912#p142912</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=12455&amp;p=142912#p142912"/>
<title type="html"><![CDATA[Re: clean method of doing collision with tiles]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=12455&amp;p=142912#p142912"><![CDATA[
Even something as simplistic as <em>Missile Command</em> probably has several collision routines: missiles with the ground, missiles with explosions, and bomber planes or kill sats with explosions.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Fri Mar 13, 2015 10:06 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tokumaru]]></name></author>
<updated>2015-03-13T10:06:28-07:00</updated>
<published>2015-03-13T10:06:28-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=12455&amp;p=142911#p142911</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=12455&amp;p=142911#p142911"/>
<title type="html"><![CDATA[Re: clean method of doing collision with tiles]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=12455&amp;p=142911#p142911"><![CDATA[
I surely wouldn't waste time calculating bounding boxes for bullets, so I'd most likely treat them as points. I guess that would require a separate collision routine.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=95">tokumaru</a> — Fri Mar 13, 2015 10:06 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[psycopathicteen]]></name></author>
<updated>2015-03-13T08:56:21-07:00</updated>
<published>2015-03-13T08:56:21-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=12455&amp;p=142905#p142905</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=12455&amp;p=142905#p142905"/>
<title type="html"><![CDATA[Re: clean method of doing collision with tiles]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=12455&amp;p=142905#p142905"><![CDATA[
You're telling me that some games actually have 2 collision routines?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4383">psycopathicteen</a> — Fri Mar 13, 2015 8:56 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Sik]]></name></author>
<updated>2015-03-13T00:13:38-07:00</updated>
<published>2015-03-13T00:13:38-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=12455&amp;p=142891#p142891</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=12455&amp;p=142891#p142891"/>
<title type="html"><![CDATA[Re: clean method of doing collision with tiles]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=12455&amp;p=142891#p142891"><![CDATA[
Yeah that's the thing, bullets don't need anywhere as accurate collision detection and response. In fact, the response is always the hardest part since it messes with the physics of the object in question - an object that doesn't need any proper response (such as a bullet, which would just instantaneously stop there) is much easier to program and also generally can have more sloppy detection in the first place.<br /><br />There's also the fact that when a bullet collides you don't care if it's a handful of pixels too deep. A player or an enemy, on the other hand, need to be pixel-perfect, and even in this case there's some leeway (e.g. enemies usually ignore solid objects and they may treat slopes as surfaces they can't go through, much like a wall, as long as they fulfill their basic purpose).<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4526">Sik</a> — Fri Mar 13, 2015 12:13 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Espozo]]></name></author>
<updated>2015-03-12T20:59:39-07:00</updated>
<published>2015-03-12T20:59:39-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=12455&amp;p=142886#p142886</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=12455&amp;p=142886#p142886"/>
<title type="html"><![CDATA[Re: clean method of doing collision with tiles]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=12455&amp;p=142886#p142886"><![CDATA[
<div class="quotetitle">Myask wrote:</div><div class="quotecontent"><br /><div class="quotetitle">Sik wrote:</div><div class="quotecontent">the player would be the only object moving that fast that also requires accurate physics.<br /></div><br />In a platformer, sure. Bullets in a shooter are another case. (Of course, then you don't have to deal with ejection.)</div><br />Not necessarily. If a bullet collides with a wall in most shooters, the animation for the bullet &quot;exploding&quot; I guess, is usually displayed right outside the wall.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=6683">Espozo</a> — Thu Mar 12, 2015 8:59 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Myask]]></name></author>
<updated>2015-03-12T20:55:50-07:00</updated>
<published>2015-03-12T20:55:50-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=12455&amp;p=142885#p142885</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=12455&amp;p=142885#p142885"/>
<title type="html"><![CDATA[Re: clean method of doing collision with tiles]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=12455&amp;p=142885#p142885"><![CDATA[
<div class="quotetitle">Sik wrote:</div><div class="quotecontent"><br />the player would be the only object moving that fast that also requires accurate physics.<br /></div><br />In a platformer, sure. Bullets in a shooter are another case. (Of course, then you don't have to deal with ejection.)<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=6603">Myask</a> — Thu Mar 12, 2015 8:55 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[psycopathicteen]]></name></author>
<updated>2015-03-12T13:25:15-07:00</updated>
<published>2015-03-12T13:25:15-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=12455&amp;p=142867#p142867</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=12455&amp;p=142867#p142867"/>
<title type="html"><![CDATA[Re: clean method of doing collision with tiles]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=12455&amp;p=142867#p142867"><![CDATA[
I would be able to access the collision data for every surrounding tile, without changing the X index register.  I would need to double the collision data map, so it can wrap around.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4383">psycopathicteen</a> — Thu Mar 12, 2015 1:25 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Sik]]></name></author>
<updated>2015-03-12T11:40:08-07:00</updated>
<published>2015-03-12T11:40:08-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=12455&amp;p=142860#p142860</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=12455&amp;p=142860#p142860"/>
<title type="html"><![CDATA[Re: clean method of doing collision with tiles]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=12455&amp;p=142860#p142860"><![CDATA[
I doubt it honestly since most of the code will go in calculating the offset anyway. You <em>could</em> make it simpler by using a look-up table pointing to every row though (then you just fetch the row from there and add the offset within the row, avoiding shifts/multiplication in the first place). The scrolling collision map may still help to allow the map to be stored compressed in ROM though (you decompress the surrounding area in RAM and work on that, assuming the entire level itself wouldn't just fit completely for starters).<br /><br />EDIT: also before I forget, doing the vertical check first isn't enough for slopes. Depending where you are, you could still not be pushed high enough to be moved into the above row, but then move horizontally far enough to move into the next column, and you'll end up hitting a wall there, causing you to stop. Whoops. The only quick workaround is to do the move/collision step for every pixel. Not as bad as it sounds since it's unlikely you'll be moving many pixels (e.g. in a platformer usually you won't be going faster than 2-3 pixels horizontally, and not that much faster vertically either, and the player would be the only object moving that fast that also requires accurate physics).<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4526">Sik</a> — Thu Mar 12, 2015 11:40 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[psycopathicteen]]></name></author>
<updated>2015-03-12T10:17:26-07:00</updated>
<published>2015-03-12T10:17:26-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=12455&amp;p=142857#p142857</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=12455&amp;p=142857#p142857"/>
<title type="html"><![CDATA[Re: clean method of doing collision with tiles]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=12455&amp;p=142857#p142857"><![CDATA[
Had another idea.  Since a lot of code is spent fetching the tile number from the level map, and using it to look up the collision data, it would be easier and more efficient to have a scrolling collision map, and fetch collision data from there.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4383">psycopathicteen</a> — Thu Mar 12, 2015 10:17 am</p><hr />
]]></content>
</entry>
</feed>