<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - BS-X Satellaview Datapak's</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">BS-X Satellaview Datapak's</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=12&amp;t=14493">http://forums.nesdev.com/viewtopic.php?f=12&amp;t=14493</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>4</strong> of <strong>5</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>nocash</b> [ Sat Sep 23, 2017 3:19 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: BS-X Satellaview Datapak's</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">LuigiBlood wrote:</div><div class="quotecontent">Radio ON: Clear bit7 of $2197<br />Radio OFF: Set bit7 of $2197</div><br />Thanks, good to know! I had only figured out that it was somehow related to powerdown and/or soundlink.<br />So it seems to be simply soundlink related (assuming that the &quot;radio&quot; is the same as the &quot;soundlink&quot; feature).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>DaveyPocket</b> [ Sun Sep 24, 2017 6:19 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: BS-X Satellaview Datapak's</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Here are two photos of a BSC-1J5M-01 with the Datapak connector removed, for reference.<br />(Needed the connector for something, figured Iâ€™d photograph the board)

		
			<br clear="all" /><br />

			<table class="tablebg" width="100%" cellspacing="1">
			<tr>
				<td><b class="genmed">Attachments: </b></td>
			</tr>
			
				<tr>
					<td>
			<a href="./download/file.php?id=10267&amp;mode=view"><img src="./download/file.php?id=10267&amp;t=1" alt="back.jpg" /></a><br />
			<span class="gensmall">back.jpg [ 1.48 MiB | Viewed 1809 times ]</span>
		

		<br />
	</td>
				</tr>
			
				<tr>
					<td>
			<a href="./download/file.php?id=10266&amp;mode=view"><img src="./download/file.php?id=10266&amp;t=1" alt="front.jpg" /></a><br />
			<span class="gensmall">front.jpg [ 1.39 MiB | Viewed 1809 times ]</span>
		

		<br />
	</td>
				</tr>
			
			</table>
		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>blurayno</b> [ Fri Nov 03, 2017 4:20 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: BS-X Satellaview Datapak's</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />A photo of the SameGame character cartridge PCB. Fullsnes.htm seemed to be missing verified info on these, so uploading if it's of any help.

		
			<br clear="all" /><br />

			<table class="tablebg" width="100%" cellspacing="1">
			<tr>
				<td><b class="genmed">Attachments: </b></td>
			</tr>
			
				<tr>
					<td>
			<a href="./download/file.php?id=10660&amp;mode=view"><img src="./download/file.php?id=10660&amp;t=1" alt="BSMC-CR-01 PCB.jpg" /></a><br />
			<span class="gensmall">BSMC-CR-01 PCB.jpg [ 796.2 KiB | Viewed 1648 times ]</span>
		

		<br />
	</td>
				</tr>
			
			</table>
		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>LuigiBlood</b> [ Mon Nov 06, 2017 11:50 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: BS-X Satellaview Datapak's</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">nocash wrote:</div><div class="quotecontent"><div class="quotetitle">LuigiBlood wrote:</div><div class="quotecontent">Radio ON: Clear bit7 of $2197<br />Radio OFF: Set bit7 of $2197</div><br />Thanks, good to know! I had only figured out that it was somehow related to powerdown and/or soundlink.<br />So it seems to be simply soundlink related (assuming that the &quot;radio&quot; is the same as the &quot;soundlink&quot; feature).</div><br /><br />I actually didn't say it much, but bit 0 of $2194 does enable the stream registers. In fact, I heard even a static sound when I enabled it (when SPC700 is unmuted... which I did).<br />Reading $218B (or $2191), because it isn't initialized properly, reads garbage, and the data is ORed at $218D (or $2193), that's done no matter what... but when I read it when $2194.0 is set, it does read once and then resets itself to 0x00. But when it isn't, when that bit is unset, it does not reset. That bit is simply the one that enables stream registers.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>blurayno</b> [ Wed Nov 22, 2017 9:25 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: BS-X Satellaview Datapak's</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />sanmaiwashi released a specialized SRAM dumper for Superufo Pro 8 just a few days ago so here's another fresh BS-X SRAM dump incoming. <br />This one's got a few SRAM patches too but I'm unable to tell if they differ from the previously discovered ones.<br />The player's got a ton of money and items with interesting descriptions and dialog boxes.<br />Maybe worth of translating, since the file seems to have lots of save data from different games.

		
			<br clear="all" /><br />

			<table class="tablebg" width="100%" cellspacing="1">
			<tr>
				<td><b class="genmed">Attachments: </b></td>
			</tr>
			
				<tr>
					<td>
			<span class="genmed">
				<img src="./styles/subsilver2/imageset/icon_topic_attach.gif" width="14" height="18" alt="" title="" /> 
				<a href="./download/file.php?id=10848">bsx-blurayno.zip</a> [4.64 KiB]
			</span><br />
			<span class="gensmall">Downloaded 32 times</span>
		

		<br />
	</td>
				</tr>
			
			</table>
		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>nocash</b> [ Fri Nov 24, 2017 7:54 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: BS-X Satellaview Datapak's</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Thanks for the dump! Concerning SRAM Patches, it seems to be the newest version: with 9 patches, as found in &quot;bsx3.srm&quot;.<br />The checksum is okay (and the byte at offset 0AAAh isn't corrupted, unlike as in a handful of other dumps).<br />And the game positions, you have something at 13E4h-13FFh, which was NOT known to be used by any games yet.<br />Many of the other addresses are used by two or more games, so it's hard to tell if a dump contains game positions from one of those games - or from yet another unknown game.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>LuigiBlood</b> [ Sat Dec 09, 2017 8:03 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: BS-X Satellaview Datapak's</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />One mention about the header of Memory Pack contents:<br /><br />Assuming 32-bit little endian:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">FFB2h 4&nbsp; Program Type<br />&nbsp; &nbsp; &nbsp; - 0x???????? = 65C816<br />&nbsp; &nbsp; &nbsp; - 0x00000100 = BS-X Script Tokens<br />&nbsp; &nbsp; &nbsp; - 0x00000200 = SA-1 (Itoi Bass Fishing No. 1)</div><br />Shigesato Itoi's Bass Fishing No. 1 literally just boots the content. If you can rewrite the Memory Pack you can actually mess with real SA-1 hardware <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>blurayno</b> [ Wed Dec 13, 2017 2:34 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: BS-X Satellaview Datapak's</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">LuigiBlood wrote:</div><div class="quotecontent"><div class="codetitle"><b>Code:</b></div><div class="codecontent">FFB2h 4&nbsp; Program Type<br />&nbsp; &nbsp; &nbsp; - 0x???????? = 65C816<br />&nbsp; &nbsp; &nbsp; - 0x00000100 = BS-X Script Tokens<br />&nbsp; &nbsp; &nbsp; - 0x00000200 = SA-1 (Itoi Bass Fishing No. 1)</div><br /></div><br /><br />Is this the correct address? All mempak images I checked just now had the byte 00 at 7FB2/FFB2h.<br />Commercial games seem to have the first character of the release code (e.x. ZBSJ) at that address.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>nocash</b> [ Wed Dec 13, 2017 4:07 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: BS-X Satellaview Datapak's</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">LuigiBlood wrote:</div><div class="quotecontent"><div class="codetitle"><b>Code:</b></div><div class="codecontent">FFB2h 4&nbsp; Program Type<br />&nbsp; &nbsp; &nbsp; - 0x???????? = 65C816<br />&nbsp; &nbsp; &nbsp; - 0x00000100 = BS-X Script Tokens<br />&nbsp; &nbsp; &nbsp; - 0x00000200 = SA-1 (Itoi Bass Fishing No. 1)</div></div><br />Nice finding. I had spotted the [7FB3h]=02h check somewhere in Itoi - but didn't knew what it was intended for. Are there any existing games/datapaks using that feature?<br /><br />From what I can see, it's checking the byte at 7FB3h only. So it should work for LoROM only. And it should work with any &quot;xxxx02xxh&quot; value.<br /><br />And if the 02h byte is there... then it's just booting the file as normal 65C816 code (which may then use SA-1 hardware if it wants to (provided that the cart does really contain SA-1 hardware), or leave the SA-1 stuff unused if it doesn't need it), right?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>LuigiBlood</b> [ Fri Dec 15, 2017 6:51 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: BS-X Satellaview Datapak's</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">blurayno wrote:</div><div class="quotecontent">Is this the correct address? All mempak images I checked just now had the byte 00 at 7FB2/FFB2h.<br />Commercial games seem to have the first character of the release code (e.x. ZBSJ) at that address.</div><br />It is. Satellaview Content does not use the header the same way as commercial cartridge games.<br /><br /><div class="quotetitle">nocash wrote:</div><div class="quotecontent">Nice finding. I had spotted the [7FB3h]=02h check somewhere in Itoi - but didn't knew what it was intended for. Are there any existing games/datapaks using that feature?<br /><br />From what I can see, it's checking the byte at 7FB3h only. So it should work for LoROM only. And it should work with any &quot;xxxx02xxh&quot; value.<br /><br />And if the 02h byte is there... then it's just booting the file as normal 65C816 code (which may then use SA-1 hardware if it wants to (provided that the cart does really contain SA-1 hardware), or leave the SA-1 stuff unused if it doesn't need it), right?</div><br />We don't have any content that uses this feature yet.<br />I assume there must be some kind of check at first to make sure it isn't Itoi booting it and simply tell the player &quot;Please insert the Memory Pack into Itoi Bass Fishing cartridge&quot; or something like that.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>blurayno</b> [ Fri Dec 15, 2017 3:59 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: BS-X Satellaview Datapak's</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">LuigiBlood wrote:</div><div class="quotecontent"><div class="quotetitle">blurayno wrote:</div><div class="quotecontent">Is this the correct address? All mempak images I checked just now had the byte 00 at 7FB2/FFB2h.<br />Commercial games seem to have the first character of the release code (e.x. ZBSJ) at that address.</div><br />It is. Satellaview Content does not use the header the same way as commercial cartridge games.</div><br /><br />My bad. The value you gave was a little endian dword and I wasn't paying enough attention on what I was reading and looking at...

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>LuigiBlood</b> [ Sun Dec 24, 2017 7:02 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: BS-X Satellaview Datapak's</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />According to patent <a href="https://patents.google.com/patent/JP3734532B2/en" class="postlink">JP3734532B2</a><br /><br />Here is the full Time Channel format (including header AND using official terms):<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">Offset - Size (in bytes) - Description<br />0x00 - 1 - Data Group ID 1 (upper 4 bits) / Data Group Repetition (lower 4 bits)<br />0x01 - 1 - Data Group Link (bit7) / Data Group Continuity<br />0x02 - 3 - Data Group Size<br />0x05 - 1 - TYPE<br />0x06 - 1 - DGN<br />0x07 - 3 - Address<br /><br />0x0A - 1 - Second<br />0x0B - 1 - Minute<br />0x0C - 1 - Hour (0-23)<br />0x0D - 1 - Day of Week (1-7) &#91;1 = Monday, 7 = Sunday&#93;<br />0x0E - 1 - Day<br />0x0F - 1 - Month<br />0x10 - 2 - Year<br />0x12 - 2 - Unused (Preliminary)<br />0x14 - 2 - CRC &#91;Does not count in the Data Group Size&#93;</div><br /><br />Also, difference between time at 1.1.0.8 and 1.2.0.48:<br />- 1.1.0.8 is an absolute time. (1.1.X.X are all BS-X related, so it makes sense)<br />- 1.2.0.48 is relative to the start of the broadcast. (1.2.X.X are all game related)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>LuigiBlood</b> [ Sat Jul 14, 2018 5:59 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: BS-X Satellaview Datapak's</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />So I've done a bit of research about Satellaview register $2198. While I did notice about the serial number being found, I admit I didn't try to find the nature of all the BIOS functions dedicated for it.<br />And eventually I found something in the Satellaview patents. Because Nintendo is nice to the people who reads those, they actually put the ID of chips used for a bunch of things, and all of them did correspond to what we got so far.<br /><br />So I found that $2198 talks to a EEP-ROM chip manufactured by Seiko under the ID of &quot;S-2913CR&quot;. While I did not find this specific chip, I found &quot;2913C&quot;, and it fits the description completely, it is a 16-bit Serial EEPROM, manufactured by SEEQ Technology. A datasheet can be found here: <!-- m --><a class="postlink" href="http://datasheet.datasheetarchive.com/originals/scans/Scans-96/DSAIHSC00047710.pdf">http://datasheet.datasheetarchive.com/o ... 047710.pdf</a><!-- m --><br />When I tried to read the EEPROM's content, I needed bit7 to be set. This 100% corresponds to the read opcode.<br /><br />Therefore, according to this information, I'll use nocash's documentation as a base and change the BIOS function names, while checking the disassembled routines that I got:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">Port 2198h (serial port 1 to SPR-BSA EEPROM) (unused)<br />&nbsp; 1059B8 read_multiple_eeprom&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&#91;In: A = 6bit address, Out: read 16 bytes to &#91;DB:0000h+Y&#93;&#93;<br />&nbsp; 1059BC read_single_eeprom&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&#91;In: A = 6bit address, Out: A&#93;<br />&nbsp; 1059C0 write_verify_multiple_eeprom&nbsp; &nbsp; &nbsp;&#91;In: A = 6bit address, X = amount of words, &#91;D+00h+Y&#93; = data&#93;<br />&nbsp; 1059C4 write_verify_single_eeprom&nbsp; &nbsp; &nbsp; &nbsp;&#91;In: A = 6bit address, X = word&#93;<br />&nbsp; 1059C8 write_word_eeprom&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#91;In: A = 6bit address, X = word&#93;<br />&nbsp; 1059CC write_verify_first_word_eeprom&nbsp; &nbsp;&#91;In: X = word&#93; (kinda weird, it does Write All opcode, but only writes and checks one word)<br />&nbsp; 1059D0 erase_word_eeprom&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#91;In: A = 6bit address&#93;<br />&nbsp; 1059D4 erase_all_eeprom<br />&nbsp; 1059D8 verify_address_20h_to_3Fh_eeprom &#91;In: X = word, Out: Carry flag (if set = wrong, if clear = verified)&#93;<br />&nbsp; 1059DC verify_single_eeprom&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&#91;In: A = 6bit address, X = word, Out: Carry flag (if set = wrong, if clear = verified)&#93;<br />&nbsp; 1059E0 program_enable_eeprom<br />&nbsp; 1059E4 program_disable_eeprom<br />&nbsp; 1059E8 send_byte_eeprom&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&#91;In: A = byte&#93;<br />&nbsp; 1059EC wait_eeprom_ready</div><br /><br />And because of that, I'm suspecting that $2199 has nothing to do with any audio output. I'm suspecting that $2199 is what manages that was supposed to be the hard drive for the EXT port which records audio and data as well, as the patent suggests.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>nocash</b> [ Sat Jul 14, 2018 9:46 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: BS-X Satellaview Datapak's</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Good finding!<br /><br />What is the &quot;serial number being found&quot;? Is there a serial number stored in the eeprom... and is it used for something?<br /><br />Now that you've discovered the SPR-BSA being a Seiko S-2913CR chip... there's also a Seiko datasheet for it<br /><!-- m --><a class="postlink" href="http://datasheet.datasheetarchive.com/originals/scans/Scans-007/Scans-00144153.pdf">http://datasheet.datasheetarchive.com/o ... 144153.pdf</a><!-- m --> - so no need to use the Seeq datasheet.<br /><br />The read/write multiple functions don't do anything with 7E0000h. The source/dest address in RAM is in Y register.<br />For read_multiple it's using [DB:0000h+Y], with DB needed to be a &quot;lorom&quot; bank, as it's also used for [DB:2198h].<br />For write_multiple it's using [D+00h+Y], with the direct page... I guess it should be zero (or maybe the related functions survive other values).<br />If the D, DB, Y registers are all zero then it will use address 000000h, which will actually mirror to RAM at 7E0000h.<br /><br />So well, there's an EEPROM and the BSX-BIOS has functions for accessing it - but I don't know of any games that would use that functions (nor does the BSX-BIOS itself use that functions (nor do any known games access 2198h directly)). If I didn't miss something: The EEPROM is there, but it was never ever actually used?<br /><br />For the other serial port at 2199h: That port is actually used: by the BSX-BIOS, by BSX-BIOS patches, and by Itoi, and by BS Dragon Quest 1, and in respect to data in the Town Status packet. Being used that often, I have some doubts that it was used for any kind of yet unreleased expansion hardware.<br />I would have assumed that it goes to the MN88821 chip (there's a datasheet for a similar chip, which has a serial port). You do have a BSX unit, don't you? What happens when executing the 2199h reading functions? Does it return any data - despite of not having a HDD or whatever attached at the EXT port?<br />Or if it goes to the EXT port, if you attach an oscilloscope, a logic analyzer, a multimeter, or a bloody LED... can you see a pin getting toggled when toggling the 2199h clock bit by software? Going by DaveyPocket's findings, the five candidates for serial or other unknown features would be EXT pins 29, 30, 31, 33, 34.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>LuigiBlood</b> [ Sat Jul 14, 2018 10:52 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: BS-X Satellaview Datapak's</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The serial number I was talking about that's in the EEPROM is something like this that I found:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">BSA00???????&nbsp; &nbsp;A4h FFh FFh FFh and so on...</div><br />Each byte is repeated twice on each 16-bit word. The ??????? matches my Satellaview's serial number.<br /><br />Also I only gave a quick look and I admit that while Direct Bank and stuff crossed my mind I didn't quite bother...<br />I have never seen anything that uses 2198h so far. It's just there.<br /><br />2199h is totally used, that I definitely saw. And considering the EEPROM access was treated as a bus in the patent, there's also a EX Bus, linked to the EXT port. There's potentially other registers directly linked to it as well according to that.<br />When I use it, I got it to return E00000h. Any command does not seem to change that. Also, unsetting 2194h.bit0 actually disables that register (alongside the streams that are stuck). Not 2198h however. I'll try to check with a LED at some point.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>4</strong> of <strong>5</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>