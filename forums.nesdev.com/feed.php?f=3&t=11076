<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="http://forums.nesdev.com/feed.php?f=3&amp;t=11076" />

<title>nesdev.com</title>
<subtitle>NES Development and Strangulation Records message boards</subtitle>
<link href="http://forums.nesdev.com/index.php" />
<updated>2014-05-29T06:30:08-07:00</updated>

<author><name><![CDATA[nesdev.com]]></name></author>
<id>http://forums.nesdev.com/feed.php?f=3&amp;t=11076</id>
<entry>
<author><name><![CDATA[Quietust]]></name></author>
<updated>2014-05-29T06:30:08-07:00</updated>
<published>2014-05-29T06:30:08-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=11076&amp;p=129336#p129336</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=11076&amp;p=129336#p129336"/>
<title type="html"><![CDATA[Re: Strange sprite 0 hit behaviour on Nintendulator]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=11076&amp;p=129336#p129336"><![CDATA[
Apparently, I applied two code changes, confirmed that it worked, then backed out the second one (because it appeared to be redundant) without rechecking that it was still working; it would seem that the second code change was what <em>actually</em> fixed the bug, so now it's reapplied and it works correctly.<br /><br />This is what happens when you try to write patches late at night when you've got to get up early for work the next day.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=7">Quietust</a> — Thu May 29, 2014 6:30 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Ti_]]></name></author>
<updated>2014-05-28T23:59:00-07:00</updated>
<published>2014-05-28T23:59:00-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=11076&amp;p=129327#p129327</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=11076&amp;p=129327#p129327"/>
<title type="html"><![CDATA[Re: Strange sprite 0 hit behaviour on Nintendulator]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=11076&amp;p=129327#p129327"><![CDATA[
<div class="quotetitle">Quietust wrote:</div><div class="quotecontent"><br />Should be fixed now.<br /></div><br />Same problem. Have you tested rom?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=6103">Ti_</a> — Wed May 28, 2014 11:59 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Quietust]]></name></author>
<updated>2014-05-28T21:30:14-07:00</updated>
<published>2014-05-28T21:30:14-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=11076&amp;p=129323#p129323</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=11076&amp;p=129323#p129323"/>
<title type="html"><![CDATA[Re: Strange sprite 0 hit behaviour on Nintendulator]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=11076&amp;p=129323#p129323"><![CDATA[
Found it - on sprite 0 hit during frameskip, it was neglecting to clear the &quot;found sprite 0 in this scanline&quot; flag, causing the first sprite on EVERY subsequent scanline to possibly trigger a hit. Should be fixed now.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=7">Quietust</a> — Wed May 28, 2014 9:30 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Ti_]]></name></author>
<updated>2014-05-28T06:13:58-07:00</updated>
<published>2014-05-28T06:13:58-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=11076&amp;p=129291#p129291</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=11076&amp;p=129291#p129291"/>
<title type="html"><![CDATA[Re: Strange sprite 0 hit behaviour on Nintendulator]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=11076&amp;p=129291#p129291"><![CDATA[
<div class="quotetitle">Quietust wrote:</div><div class="quotecontent"><br /><div class="quotetitle">Ti_ wrote:</div><div class="quotecontent">Nintendulator ,975 (build from 29 April) still have bug with frameskip. (game: ducktales2)<br /></div><br />Could you be more specific?</div><br />if set to frameskip not 0.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=6103">Ti_</a> — Wed May 28, 2014 6:13 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Quietust]]></name></author>
<updated>2014-05-28T05:55:50-07:00</updated>
<published>2014-05-28T05:55:50-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=11076&amp;p=129290#p129290</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=11076&amp;p=129290#p129290"/>
<title type="html"><![CDATA[Re: Strange sprite 0 hit behaviour on Nintendulator]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=11076&amp;p=129290#p129290"><![CDATA[
<div class="quotetitle">Ti_ wrote:</div><div class="quotecontent"><br />Nintendulator ,975 (build from 29 April) still have bug with frameskip. (game: ducktales2)<br /></div><br />Could you be more specific?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=7">Quietust</a> — Wed May 28, 2014 5:55 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Ti_]]></name></author>
<updated>2014-05-27T05:59:33-07:00</updated>
<published>2014-05-27T05:59:33-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=11076&amp;p=129261#p129261</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=11076&amp;p=129261#p129261"/>
<title type="html"><![CDATA[Re: Strange sprite 0 hit behaviour on Nintendulator]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=11076&amp;p=129261#p129261"><![CDATA[
Nintendulator ,975 (build from 29 April) still have bug with frameskip. (game: ducktales2)<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=6103">Ti_</a> — Tue May 27, 2014 5:59 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[thefox]]></name></author>
<updated>2014-03-06T19:06:40-07:00</updated>
<published>2014-03-06T19:06:40-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=11076&amp;p=126479#p126479</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=11076&amp;p=126479#p126479"/>
<title type="html"><![CDATA[Re: Strange sprite 0 hit behaviour on Nintendulator]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=11076&amp;p=126479#p126479"><![CDATA[
I have actually completely forgotten that there even was a frame skipping option in Nintendulator, because I always have it turned off. But I do remember seeing in the sources that there were two separate, almost identical routines (mostly copy&amp;paste) for running the PPU in the skip/non-skip modes (RunSkip() and, RunNoSkip()), and wondering that that must be a hell of a job to maintain. <img src="http://forums.nesdev.com/images/smilies/icon_smile.gif" alt=":)" title="Smile" /><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=80">thefox</a> — Thu Mar 06, 2014 7:06 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tokumaru]]></name></author>
<updated>2014-03-06T18:50:57-07:00</updated>
<published>2014-03-06T18:50:57-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=11076&amp;p=126477#p126477</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=11076&amp;p=126477#p126477"/>
<title type="html"><![CDATA[Re: Strange sprite 0 hit behaviour on Nintendulator]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=11076&amp;p=126477#p126477"><![CDATA[
<div class="quotetitle">rainwarrior wrote:</div><div class="quotecontent"><br />I would guess more people would want it off.<br /></div><br />I certainly do. Whenever I run a new copy of Nintendulator (or any other emulator, for that matter) one of the first things I do is turn frame skipping off (as soon as I notice it's on). I find it annoying enough when playing (if my computer can't run it at full frame rate, I'd rather not play it), and completely unacceptable for debugging.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=95">tokumaru</a> — Thu Mar 06, 2014 6:50 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[rainwarrior]]></name></author>
<updated>2014-03-06T17:17:59-07:00</updated>
<published>2014-03-06T17:17:59-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=11076&amp;p=126476#p126476</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=11076&amp;p=126476#p126476"/>
<title type="html"><![CDATA[Re: Strange sprite 0 hit behaviour on Nintendulator]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=11076&amp;p=126476#p126476"><![CDATA[
I'm curious why frameskipping is on by default. Since Nintendulator seems oriented toward debugging (esp. how the user is required to manually start execution), I was kind of surprised that this was going on. When developing I'd rather see every frame go by than have the speed be kept even by skipping.<br /><br />A personal preference, of course. Obviously it's easy to make the setting once you know the feature is there, but I would guess more people would want it off.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=5165">rainwarrior</a> — Thu Mar 06, 2014 5:17 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2014-03-06T17:02:44-07:00</updated>
<published>2014-03-06T17:02:44-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=11076&amp;p=126473#p126473</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=11076&amp;p=126473#p126473"/>
<title type="html"><![CDATA[Re: Strange sprite 0 hit behaviour on Nintendulator]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=11076&amp;p=126473#p126473"><![CDATA[
Sometime in 2011, I remember having seen similar misbehavior with mid-screen pattern table bankswitching when frameskip is enabled. Should I make a test ROM?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Thu Mar 06, 2014 5:02 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Quietust]]></name></author>
<updated>2014-03-06T15:37:22-07:00</updated>
<published>2014-03-06T15:37:22-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=11076&amp;p=126467#p126467</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=11076&amp;p=126467#p126467"/>
<title type="html"><![CDATA[Re: Strange sprite 0 hit behaviour on Nintendulator]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=11076&amp;p=126467#p126467"><![CDATA[
Okay, now I can confirm that it's a bug in the frameskip logic - when it knows nothing's going to make it to the screen, it skips whatever extra logic it can without affecting behavior, but it's clearly skipping too much.<br /><br />[edit] Fixed - when I switched over to the detailed sprite evaluation logic, I missed a spot in the frameskip code for determining which sprite scanline to fetch (originally, it got a value from 0-15, but now it gets an absolute scanline number). A new build will be available shortly.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=7">Quietust</a> — Thu Mar 06, 2014 3:37 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[rainwarrior]]></name></author>
<updated>2014-03-06T13:39:27-07:00</updated>
<published>2014-03-06T13:39:27-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=11076&amp;p=126459#p126459</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=11076&amp;p=126459#p126459"/>
<title type="html"><![CDATA[Re: Strange sprite 0 hit behaviour on Nintendulator]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=11076&amp;p=126459#p126459"><![CDATA[
With a frameskip of 0, the problem appears to be gone. (The default setting for frameskip is &quot;auto&quot;, I hadn't tried adjusting it before.)<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=5165">rainwarrior</a> — Thu Mar 06, 2014 1:39 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[rainwarrior]]></name></author>
<updated>2014-03-06T13:37:30-07:00</updated>
<published>2014-03-06T13:37:30-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=11076&amp;p=126458#p126458</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=11076&amp;p=126458#p126458"/>
<title type="html"><![CDATA[Re: Strange sprite 0 hit behaviour on Nintendulator]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=11076&amp;p=126458#p126458"><![CDATA[
Hmm, tried it on a different computer and the problem is still there but less frequent. Also seemed to become stable a few seconds after starting execution.<br /><br />Something really weird, though, if I turn off &quot;auto&quot; frameskip and set frameskip to 1 the scroll flickers on and off at a slow and regular rate, something like 30 frames on, 30 frames off. This is happening on both of my PCs consistently.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=5165">rainwarrior</a> — Thu Mar 06, 2014 1:37 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[rainwarrior]]></name></author>
<updated>2014-03-06T13:24:54-07:00</updated>
<published>2014-03-06T13:24:54-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=11076&amp;p=126457#p126457</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=11076&amp;p=126457#p126457"/>
<title type="html"><![CDATA[Re: Strange sprite 0 hit behaviour on Nintendulator]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=11076&amp;p=126457#p126457"><![CDATA[
This is happening for me with the 0.975 beta binaries from <a href="http://www.qmtpro.com/~nes/nintendulator/" class="postlink">here</a>, both ANSI and unicode versions, and also with the 0.970 release binaries as well.<br /><br />For me overlay_test_1.nes the scroll split disappears/flickers noticeably for at least a few frames per loop, usually for several frames at a time when it happens. It's very strange because it is not a consistent pattern; if I restart Nintendulator it will flicker at different times.<br /><br />The sprite itself still renders in the correct position when the sprite 0 hit fails. Also, the NMI routine writes 0 to $2003 before doing the sprite DMA, so I think that should be okay.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=5165">rainwarrior</a> — Thu Mar 06, 2014 1:24 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Quietust]]></name></author>
<updated>2014-03-06T12:47:02-07:00</updated>
<published>2014-03-06T12:47:02-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=11076&amp;p=126454#p126454</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=11076&amp;p=126454#p126454"/>
<title type="html"><![CDATA[Re: Strange sprite 0 hit behaviour on Nintendulator]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=11076&amp;p=126454#p126454"><![CDATA[
What version are you running? I just tried both ROMs in the latest development build (from April 21, 2013) for several minutes, and I didn't see any glitches.<br /><br />If you're running an old version, it was probably a bug in the way it emulated OAM overwrite - originally, the sprite fetch logic was using the last value written to $2003 to fetch the first 8 bytes of OAM, but now it overwrites the first 8 bytes of OAM with whatever page the sprite address was pointing at (to more closely match what the real PPU appears to do).<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=7">Quietust</a> — Thu Mar 06, 2014 12:47 pm</p><hr />
]]></content>
</entry>
</feed>