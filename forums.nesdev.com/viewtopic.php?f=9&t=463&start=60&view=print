<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - FunkyFlashCart project</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">FunkyFlashCart project</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=9&amp;t=463">http://forums.nesdev.com/viewtopic.php?f=9&amp;t=463</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>5</strong> of <strong>9</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>artoh</b> [ Sun Aug 28, 2005 2:22 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">kyuusaku wrote:</div><div class="quotecontent">What is the ICT IC? a MCU?<br />Will the programmer need to be connected to the cart via a 10pin IDC cable? I have no tools or skills for crimping IDC.</div><br />ICT one is an EEPROM for the USB chip. But that one was not recommended for it and it didn't work (Microchip 93LC46B or something is, still checking it out)<br />Yep, or any connector that you like.<br />I don't have tools for them either, I just put them under the foot of my table/chair and crush.<br /><br /><div class="quotetitle">kyuusaku wrote:</div><div class="quotecontent">1 x DS1218S (digikey)            $13.20</div><br />Or then a free sample.. or a DS1210 DIP works too if you use a little wire.<br /><br /><div class="quotetitle">kyuusaku wrote:</div><div class="quotecontent">16 x 10nF cer. 0805 (.01uF, jameco, 100pk)	$6.30<br />6 x 100nF cer. 0805 (.1uF, jameco, 100pk)	$8.00</div><br />There must be places that sell individual SMD caps.. I have a local shop that sells them for few cents apiece.. Or if you want to save, don't put any decoupling caps for the CPLD at all (under the board).. Mine works without them <img src="./images/smilies/icon_razz.gif" alt=":P" title="Razz" /><br /><br /><div class="quotetitle">kyuusaku wrote:</div><div class="quotecontent">1 x FT2232C 					$43.55</div>
<br />I found <!-- m --><a class="postlink" href="http://www.mouser.com/">http://www.mouser.com/</a><!-- m --> that sells those chips for $7.950 apiece.
<br />
<br />I also opened the webpage, but there is really nothing there yet <a href="http://iki.fi/fuzb/nes" class="postlink">http://iki.fi/fuzb/nes</a>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>kyuusaku</b> [ Sun Aug 28, 2005 6:29 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Took your suggestion and am now getting samples from Maxim/Dallas Semi, hope they actually arive :D
<br />
<br />I don't know what to say about you using your foot or chair to crimp ;)
<br />
<br />If it's stable without the decoupling caps then I could care less. Is that all the SMD caps are used for?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Jagasian</b> [ Mon Aug 29, 2005 6:24 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">kyuusaku wrote:</div><div class="quotecontent">Took your suggestion and am now getting samples from Maxim/Dallas Semi, hope they actually arive <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /><br /><br />I don't know what to say about you using your foot or chair to crimp <img src="./images/smilies/icon_wink.gif" alt=";)" title="Wink" /><br /><br />If it's stable without the decoupling caps then I could care less. Is that all the SMD caps are used for?</div>
<br />
<br />So you don't need to order from Europe?  I am taking a two week trip to England next month, and I need to save money until after I am done with the trip.  So is total parts cost still around $200, kyuusaku?  I might chicken out and buy a pre-built one from Membler's Industries <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>artoh</b> [ Mon Aug 29, 2005 9:49 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">kyuusaku wrote:</div><div class="quotecontent">If it's stable without the decoupling caps then I could care less. Is that all the SMD caps are used for?</div>
<br />
<br />Yep, only for the decoupling. They are recommended by Xilinx but I was too lazy to put them on the new board and it did work well without them. But I still recommend that you solder them on the board at some point <img src="./images/smilies/icon_wink.gif" alt=";)" title="Wink" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>kyuusaku</b> [ Mon Aug 29, 2005 9:56 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I don't need to if I order the FT2232C from Mouser (total will be under $15 from them)
<br />
<br />Well, I got a free sample of the DS1218S so that saves $20 or more after shipping.
<br />
<br />So now I'm looking at probably around $110 + the rest of the programmer, which doesn't appear to have any other rare or too expensive parts, less than $10 worth and all Jameco orderable.
<br />
<br />PCB - $15
<br />220pF cer. (Jameco) - $0.45
<br />100uF ele. (Jameco) - $0.45
<br />
<br />DS1218S - Free samples
<br />AM29F040B (2) - $15-25 total - hard to find!
<br />62256 (2) (Jameco) - $10.98
<br />XC95144 (Xilinx shop) - $29.65
<br />CR2032 (Jameco) - $1.25
<br />
<br />Jameco shipping - $10?
<br />
<br />FT2232C (Mouser) - $15 total

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>artoh</b> [ Mon Aug 29, 2005 10:38 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">kyuusaku wrote:</div><div class="quotecontent">AM29F040B (2) - $15-25 total - hard to find!<br /></div>
<br />
<br />I am going to design the new software in a way that it's easy to add algorithms for other Flash EEPROMs. But at least that one is guaranteed to work. Memblers gave me this: <a href="http://findchips.com" class="postlink">http://findchips.com</a> ... It finds a lot of AM29F040B, but not many PDIPs.. there are a lot of 120ns ones.. and my calculator says they SHOULD work.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>kyuusaku</b> [ Mon Aug 29, 2005 11:18 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />For 120ns, there's this guy:
<br />
<br /><!-- m --><a class="postlink" href="http://cgi.ebay.com/ws/eBayISAPI.dll?ViewItem&amp;item=7501296459">http://cgi.ebay.com/ws/eBayISAPI.dll?Vi ... 7501296459</a><!-- m -->
<br />
<br />120ns is ~8.333MHz right? If it all comes down to the PPU, a PPU cycle is ~175ns.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Guest</b> [ Mon Aug 29, 2005 7:06 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />What does the 'B' designate in AM29F040B? I've ordered from this company Futurelec before <a href="http://www.futurlec.com/ICFLASH.shtml" class="postlink">http://www.futurlec.com/ICFLASH.shtml</a> They sell 29F040 90ns in a DIP form for $6.50 or an Amtel one for $7.90 comes in a DIP form too. Actually last time I ordered from them, I got a few 29F040's, but they sent me AM29F040's instead, I guess they must have been out of the cheaper ones, oh well <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Memblers</b> [ Tue Aug 30, 2005 8:22 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Yeah, you'd have a hard time finding any memory that's too slow for the NES (even the PPU, I thought it was 2.68Mhz).  200ns+ should be ok, I guess as long as the memory decoding isn't terribly slow.
<br />
<br />I have some AM29F040s (non-B, date code is 1996) and they worked OK.  I also had a few PLCC AM29F040B with date code (I think) 1993 or so, but it <em>didn't</em> work fully on Squeedo.  Wouldn't go into command mode.  I can't find a datasheet for the non-B one, so I dunno what difference there is (if any).  A later 29F040B I have does work.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>artoh</b> [ Wed Sep 07, 2005 9:17 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I just got the USB cable working and the JTAG support working, but it still needs a lot of software. It does not burn flashes yet, but it will burn them today. Then i'll need to code the mapper writing too, which will be kind of hard ;_;
<br />
<br />***EDIT***
<br />Now the speed is around 512 Bytes/Sec for AM29F040B <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /> I still might get it faster.
<br />
<br />I also broke the CPLD already (my multimeter probe hit the wrong place, making one pin permanently high).. Ordered some more..

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Great Hierophant</b> [ Thu Sep 08, 2005 3:04 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Now the speed is around 512 Bytes/Sec for AM29F040B I still might get it faster. </div>
<br />
<br />It would take 17 minutes to burn many of the largest games (512KB) to the cart.  Seems a little slow.  Flashing a motherboard's BIOS takes about a minute and it is the same size as the flash you are using.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>artoh</b> [ Fri Sep 09, 2005 12:16 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Now burning a 512KB game takes 5 minutes. I am also thinking of combining the USB cable board and the Flash Cart board... So there would be just one board needed, and the new board would use SMD chips instead of the PDIP ones that are too hard to find.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>teaguecl</b> [ Fri Sep 09, 2005 12:50 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">artoh wrote:</div><div class="quotecontent">Now burning a 512KB game takes 5 minutes.</div>
<br />I don't completely understand what's happening here.  I have written many flash drivers, for lots of different embedded devices (mostly mobile phones) and 5 minutes to program 512KB is very slow.  What is the bottleneck with this system?  It cannot be the flash chip itself, there are no flash's that are that slow to erase/write, even the NAND based ones you are using.
<br />
<br />--EDIT--
<br />I just re-read the thrread and it looks like you are re-programming the flash by directly manipulating the IO pins on the CPLD via test commands on the PC.  This is almost certainly the bottleneck, and there's not much that can be done about it.  You could speed things up by using a bootloader and another data channel (usb or uart) but I wouldn't bother with it until the other more critical issues are worked out.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Great Hierophant</b> [ Fri Sep 09, 2005 12:56 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Well, thats not so bad.  Consider that there are only less than 30 non-Famicom NES games that use 512KB or more.
<br />
<br />Now, besides the MMC5 games, are there other NES games that it cannot play?  As we have already seen, the RAMBO and FME-7 chips are slightly more advanced in capabilities but less complex in design than Nintendo's MMC3, but they should be able to fit into CPLD.  What about other unlicensed mapping schemes, like Codemasters, AVE and Color Dreams.  Their mapping schemes are fairly simple and amply documented.  If you can implement the MMC2 you can implement the MMC4, and the same should go for MMC3 and MMC6.  How is the MMC1 coming?  
<br />
<br />Moreover, while most NES MMC1 and MMC3 boards are rather simple, there are some unusual but valuable boards that play with ROM and RAM routing, like: SOROM and SUROM; TLSROM/TKSROM, TQROM, TR1ROM/TVROM, CPROM.  Will the device be unable to handle any of these?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Fri Sep 09, 2005 8:52 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />To save you having to dig stuff up in the middle of a feasibility study:
<br />
<br /><strong>UN-licensed-ROM</strong>
<br />Codemasters mapper is just U*ROM with a lockout defeat added. But like Rare games, Codemasters games tend to be very sensitive to timing so make sure that your CPLD can react fast enough to switch banks on the very next cycle.
<br />
<br /><strong>Octal D based mappers</strong>
<br />#11 Color Dreams (Exodus) isn't more complex than a CNROM and an A*ROM at the same time. #78 Irem is like Color Dreams with 16 KB PRG swapping (like UNROM) rather than 32 KB. GNROM (Gumshoe) is the same as Color Dreams with the high and low nibbles swapped.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>5</strong> of <strong>9</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>