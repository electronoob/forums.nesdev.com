<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - About F-1 race</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">About F-1 race</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=3&amp;t=10869">http://forums.nesdev.com/viewtopic.php?f=3&amp;t=10869</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Boolean</b> [ Thu Jan 09, 2014 9:56 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>About F-1 race</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Hi, everyone.<br />A strange situation occurred when my emulator run F-1 race.<br />Screen flashes once, then the lights change color.<br />This behavior was repeated four times(because 4 lights) before the car rush.<br />Did this behavior occured because of no APU implementation?

		
			<br clear="all" /><br />

			<table class="tablebg" width="100%" cellspacing="1">
			<tr>
				<td><b class="genmed">Attachments: </b></td>
			</tr>
			
				<tr>
					<td>
			<object classid="clsid:D27CDB6E-AE6D-11CF-96B8-444553540000" codebase="http://active.macromedia.com/flash2/cabs/swflash.cab#version=5,0,0,0" width="264" height="274">
				<param name="movie" value="./download/file.php?id=1118&amp;view=1" />
				<param name="play" value="true" />
				<param name="loop" value="true" />
				<param name="quality" value="high" />
				<param name="allowScriptAccess" value="never" />
				<param name="allowNetworking" value="internal" />
				<embed src="./download/file.php?id=1118&amp;view=1" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/shockwave/download/index.cgi?P1_Prod_Version=ShockwaveFlash" width="264" height="274" play="true" loop="true" quality="high" allowscriptaccess="never" allownetworking="internal"></embed>
			</object>
		
			<br />
			
			<span class="gensmall"><a href="./download/file.php?id=1118">f1.swf</a> [ 56.69 KiB | Viewed 422 times ]</span>
		

		<br />
	</td>
				</tr>
			
			</table>
		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>WedNESday</b> [ Thu Jan 09, 2014 11:51 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: About F-1 race</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Boolean wrote:</div><div class="quotecontent">Did this behavior occured because of no APU implementation?</div><br />Certainly not.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Boolean</b> [ Thu Jan 09, 2014 6:54 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: About F-1 race</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">WedNESday wrote:</div><div class="quotecontent"><div class="quotetitle">Boolean wrote:</div><div class="quotecontent">Did this behavior occured because of no APU implementation?</div><br />Certainly not.</div><br /><br />Thank you.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Zepper</b> [ Thu Jan 09, 2014 7:14 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: About F-1 race</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Notice that each time the grid lights change (and plays a buzz sound), the screen glitches. It may be related with APU, yes.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>cpow</b> [ Thu Jan 09, 2014 7:54 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: About F-1 race</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Zepper wrote:</div><div class="quotecontent">Notice that each time the grid lights change (and plays a buzz sound), the screen glitches. It may be related with APU, yes.</div><br />Even if it is, the question to begin with is loaded with too many freaking variables.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Zepper</b> [ Thu Jan 09, 2014 8:07 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: About F-1 race</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The game writes $C0 to $4017, disabling frame IRQs, plus writes $00 to $4001/4005 (sweep off) and to $4011, plus $0F to $4015.<br />RAM at $01Cx are mirrors of the sound registers, like $01C0=$4000,$01C1=$4001,$01C2=$4002 etc.<br /><br />Interesting, the game does a couple of timed writes to $4017 (always $C0).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>WedNESday</b> [ Fri Jan 10, 2014 3:40 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: About F-1 race</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Zepper wrote:</div><div class="quotecontent">Notice that each time the grid lights change (and plays a buzz sound), the screen glitches. It may be related with APU, yes.</div><br />When the APU is enabled/disabled on WedNESday there is no glitching. Therefore something is wrong with his emulator. Obviously it must be to do with sound then.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Fri Jan 10, 2014 6:11 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: About F-1 race</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">WedNESday wrote:</div><div class="quotecontent"><div class="quotetitle">Zepper wrote:</div><div class="quotecontent">Notice that each time the grid lights change (and plays a buzz sound), the screen glitches. It may be related with APU, yes.</div><br />When the APU is enabled/disabled on WedNESday there is no glitching. Therefore something is wrong with his emulator. Obviously it must be to do with sound then.</div><br />Why didn't you mention this right off the bat?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>WedNESday</b> [ Fri Jan 10, 2014 8:02 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: About F-1 race</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Sorry thefox. Just to clarify that WedNESday runs it just fine.<br /><br />What I mean is no APU emulation means that it cannot be to do with the APU as I remember running this on WedNESday with NO APU emulation and it was error free. Obviously, its a timing issue where the NES updates the PPU address but outside of VBLANK. Or it could be a Sprite 0 problem.<br /><br />Boolean how is the emulator on blargg's Sprite 0 tests?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Boolean</b> [ Fri Jan 10, 2014 10:22 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: About F-1 race</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">WedNESday wrote:</div><div class="quotecontent">Sorry thefox. Just to clarify that WedNESday runs it just fine.<br /><br />What I mean is no APU emulation means that it cannot be to do with the APU as I remember running this on WedNESday with NO APU emulation and it was error free. Obviously, its a timing issue where the NES updates the PPU address but outside of VBLANK. Or it could be a Sprite 0 problem.<br /><br />Boolean how is the emulator on blargg's Sprite 0 tests?</div><br /><br />blargg's sprite 0 hit tests(sprite_hit_tests_2005.10.05) and ppu tests(blargg_ppu_tests_2005.09.15b) almost pass. But there are some errors. <br />VirtuaNES has the same result.<br /><br />Error code:<br />2) Should miss when entirely in left-edge clipping<br />2) Hit time shouldn't be based on pixels under left clip<br />6) Palette read should also read VRAM into read buffer

		
			<br clear="all" /><br />

			<table class="tablebg" width="100%" cellspacing="1">
			<tr>
				<td><b class="genmed">Attachments: </b></td>
			</tr>
			
				<tr>
					<td>
			<img src="./download/file.php?id=1119" alt="err.PNG" /><br />
			<span class="gensmall">err.PNG [ 1.92 KiB | Viewed 274 times ]</span>
		

		<br />
	</td>
				</tr>
			
			</table>
		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>