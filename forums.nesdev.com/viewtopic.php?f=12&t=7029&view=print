<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - enhancement chips and PPU accessing</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">enhancement chips and PPU accessing</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=12&amp;t=7029">http://forums.nesdev.com/viewtopic.php?f=12&amp;t=7029</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>psycopathicteen</b> [ Sun Oct 10, 2010 10:24 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>enhancement chips and PPU accessing</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />What is the maximum speed an enhancement chip is allowed to access PPU registers and V-RAM?  The PPU is 10 Mhz and it's V-RAM is 5 Mhz, so that means the PPU regs <em>should</em> be allowed access at 10 Mhz, and the V-RAM address and data ports at 5 Mhz.  However, knowing Nintendo's engineers messed up a lot when developing the SNES, something tells me they messed this up too.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>mic_</b> [ Sun Oct 10, 2010 11:07 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">knowing Nintendo had pretty bad engineers during this time period, something tells me they screwed this up too.</div>
<br />They did? I wasn't aware of that..
<br />How did you find out which of their decisions were results of incompetence, and which simply came from the requirements they were given by management, the target bill of materials and the time they had available?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>psycopathicteen</b> [ Sun Oct 10, 2010 11:13 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Maybe not "bad" engineers, but the SNES was originally going to be another 8-bit system, then when they finally had the hardware figured out, the Sega Genesis came out, and they had to make 1,000,000 changes in the last minute.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>ccovell</b> [ Sun Oct 10, 2010 3:17 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Not true.  It had been known that the SFC would be 16-bit since 1987, and its specs were essentially finalized by late 1988, before the MD came out.  The only change in the hardware (that I can see) between 1988 and its release in late 1990 was an increase of system RAM on the SFC.
<br />
<br />For proof, see here: <!-- m --><a class="postlink" href="http://www.disgruntleddesigner.com/chrisc/secret/SFC_1988Q4.html">http://www.disgruntleddesigner.com/chri ... 988Q4.html</a><!-- m -->
<br />and <!-- m --><a class="postlink" href="http://www.disgruntleddesigner.com/chrisc/secret/SFC_1989Q3.html">http://www.disgruntleddesigner.com/chri ... 989Q3.html</a><!-- m -->
<br />
<br />So your claim that they made 1,000,000 changes is simply not true, unless you're counting every bit of RAM added.  A more damning criticism that I like to make of Nintendo is that they did almost <strong>nothing</strong>, hardware-wise, to beef up the SFC in the two years before its release.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MottZilla</b> [ Sun Oct 10, 2010 3:26 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I think that was pretty awful too Chris. You'd think with such a delay they would have done more than add RAM. Increase in CPU speed would have been very nice. If it were practical at the time, which I don't know that it would have been, it would be a shame for them to have not done this. Not that the SNES is severely handicapped by it, but more CPU time is always good.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>byuu</b> [ Sun Oct 10, 2010 5:28 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: enhancement chips and PPU accessing</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">psycopathicteen wrote:</div><div class="quotecontent">What is the maximum speed an enhancement chip is allowed to access PPU registers and V-RAM?</div>
<br />
<br />0MHz. A special chip inside a cartridge cannot access the PPU registers, and thus cannot access VRAM.
<br />
<br />The S-CPU controls the address and data bus, so a special chip can only control busses on its end of the chip. In other words, cartridge ROM and RAM.
<br />
<br />From here, the S-CPU can read this data back if the special chip lets it, and with DMA, that effectively allows a transfer rate of 2.68MHz to VRAM.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Sun Oct 10, 2010 5:51 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">ccovell wrote:</div><div class="quotecontent">A more damning criticism that I like to make of Nintendo is that they did almost <strong>nothing</strong>, hardware-wise, to beef up the SFC in the two years before its release.</div><br />Nintendo is known for designing something and then introducing it once the manufacturing price has fallen. This was true of the Game Boy Advance, which was developed under code name Atlantis in parallel with the Game Boy Color.<br /><br /><div class="quotetitle">byuu wrote:</div><div class="quotecontent">a special chip can only control busses on its end of the chip. In other words, cartridge ROM and RAM.<br /><br />From here, the S-CPU can read this data back if the special chip lets it, and with DMA, that effectively allows a transfer rate of 2.68MHz to VRAM.</div>
<br />What are the side pins for again? Super FX, SA-1, and Super Game Boy won't run without them.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>psycopathicteen</b> [ Sun Oct 10, 2010 7:11 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Then why is Bus-B and the halt pin connected to the cartridge for?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>byuu</b> [ Sun Oct 10, 2010 10:42 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Bus B is connected so that it can detect B-bus writes FROM the S-CPU. You could use this to implement your own $21xx MMIO registers on a cartridge if you wanted.
<br />
<br />There is no halt pin on the cartridge connector. You may be thinking of the refresh pin which is to tell the cartridge that the S-CPU is sleeping for DRAM refresh. Cartridges can use that to refresh their own DRAM or whatever.
<br />
<br />The reason you have all these read-only signals is so that games can do heuristics for various extra features. The S-DD1 spies on DMA commands to begin decompression from ROM only when you are performing a DMA transfer.
<br />
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; &nbsp; &nbsp;MCK&nbsp; &nbsp; &nbsp;- 01&nbsp; &nbsp;32 - /RAMSEL<br />&nbsp; &nbsp; &nbsp;EXPAND&nbsp; - 02&nbsp; &nbsp;33 - REFRESH<br />&nbsp; &nbsp; &nbsp;PA6&nbsp; &nbsp; &nbsp;- 03&nbsp; &nbsp;34 - PA7<br />&nbsp; &nbsp; &nbsp;/PARD&nbsp; &nbsp;- 04&nbsp; &nbsp;35 - /PAWR<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;key&gt;<br />&nbsp; &nbsp; &nbsp;GND&nbsp; &nbsp; &nbsp;- 05&nbsp; &nbsp;36 - GND<br />&nbsp; &nbsp; &nbsp;A11&nbsp; &nbsp; &nbsp;- 06&nbsp; &nbsp;37 - A12<br />&nbsp; &nbsp; &nbsp;A10&nbsp; &nbsp; &nbsp;- 07&nbsp; &nbsp;38 - A13<br />&nbsp; &nbsp; &nbsp;A9&nbsp; &nbsp; &nbsp; - 08&nbsp; &nbsp;39 - A14<br />&nbsp; &nbsp; &nbsp;A8&nbsp; &nbsp; &nbsp; - 09&nbsp; &nbsp;40 - A15<br />&nbsp; &nbsp; &nbsp;A7&nbsp; &nbsp; &nbsp; - 10&nbsp; &nbsp;41 - A16<br />&nbsp; &nbsp; &nbsp;A6&nbsp; &nbsp; &nbsp; - 11&nbsp; &nbsp;42 - A17<br />&nbsp; &nbsp; &nbsp;A5&nbsp; &nbsp; &nbsp; - 12&nbsp; &nbsp;43 - A18<br />&nbsp; &nbsp; &nbsp;A4&nbsp; &nbsp; &nbsp; - 13&nbsp; &nbsp;44 - A19<br />&nbsp; &nbsp; &nbsp;A3&nbsp; &nbsp; &nbsp; - 14&nbsp; &nbsp;45 - A20<br />&nbsp; &nbsp; &nbsp;A2&nbsp; &nbsp; &nbsp; - 15&nbsp; &nbsp;46 - A21<br />&nbsp; &nbsp; &nbsp;A1&nbsp; &nbsp; &nbsp; - 16&nbsp; &nbsp;47 - A22<br />&nbsp; &nbsp; &nbsp;A0&nbsp; &nbsp; &nbsp; - 17&nbsp; &nbsp;48 - A23<br />&nbsp; &nbsp; &nbsp;/IRQ&nbsp; &nbsp; - 18&nbsp; &nbsp;49 - /ROMSEL<br />&nbsp; &nbsp; &nbsp;D0&nbsp; &nbsp; &nbsp; - 19&nbsp; &nbsp;50 - D4<br />&nbsp; &nbsp; &nbsp;D1&nbsp; &nbsp; &nbsp; - 20&nbsp; &nbsp;51 - D5<br />&nbsp; &nbsp; &nbsp;D2&nbsp; &nbsp; &nbsp; - 21&nbsp; &nbsp;52 - D6<br />&nbsp; &nbsp; &nbsp;D3&nbsp; &nbsp; &nbsp; - 22&nbsp; &nbsp;53 - D7<br />&nbsp; &nbsp; &nbsp;/RD&nbsp; &nbsp; &nbsp;- 23&nbsp; &nbsp;54 - /WR<br />&nbsp; &nbsp; &nbsp;CIC0&nbsp; &nbsp; - 24&nbsp; &nbsp;55 - CIC1<br />&nbsp; &nbsp; &nbsp;CIC2&nbsp; &nbsp; - 25&nbsp; &nbsp;56 - CIC3<br />&nbsp; &nbsp; &nbsp;/RESET&nbsp; - 26&nbsp; &nbsp;57 - SYSCK<br />&nbsp; &nbsp; &nbsp;+5V&nbsp; &nbsp; &nbsp;- 27&nbsp; &nbsp;58 - +5V<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;key&gt;<br />&nbsp; &nbsp; &nbsp;PA0&nbsp; &nbsp; &nbsp;- 28&nbsp; &nbsp;59 - PA1<br />&nbsp; &nbsp; &nbsp;PA2&nbsp; &nbsp; &nbsp;- 29&nbsp; &nbsp;60 - PA3<br />&nbsp; &nbsp; &nbsp;PA4&nbsp; &nbsp; &nbsp;- 30&nbsp; &nbsp;61 - PA5<br />&nbsp; &nbsp; &nbsp;SOUND-L - 31&nbsp; &nbsp;62 - SOUND-R</div>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Mon Oct 11, 2010 4:15 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">The only change in the hardware (that I can see) between 1988 and its release in late 1990 was an increase of system RAM on the SFC.</div><br />Didn't they remove the NES backwards compatibility, too ?<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Super FX, SA-1, and Super Game Boy won't run without them.</div>
<br />I haven't any SA-1 games, but on my Super FX games, only one pin is just grounded though a capacity or something like that.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>psycopathicteen</b> [ Mon Oct 11, 2010 5:16 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Dang it.  There is no way of getting around this stupid DMA speed limit.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>ccovell</b> [ Mon Oct 11, 2010 5:36 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent"><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">The only change in the hardware (that I can see) between 1988 and its release in late 1990 was an increase of system RAM on the SFC.</div><br />Didn't they remove the NES backwards compatibility, too ?</div>
<br />No, as early as 1988 (again, see my link above) the SFC was completely incompatible with the Famicom.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MottZilla</b> [ Mon Oct 11, 2010 9:13 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />If you check out his link you can see this "adapter" that looks sort of like the Tristar that actually was released and does basically the same thing except being a crappy NoaC.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>