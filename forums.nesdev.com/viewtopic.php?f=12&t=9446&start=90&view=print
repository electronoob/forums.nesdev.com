<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - bsnes and headers</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">bsnes and headers</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=12&amp;t=9446">http://forums.nesdev.com/viewtopic.php?f=12&amp;t=9446</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>7</strong> of <strong>7</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>blargg</b> [ Wed Nov 07, 2012 6:52 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: bsnes and headers</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Shiru, an IPS-to-BPS converter would be like converting a JPEG to PNG; you'd have to fill in blanks and provide a false sense of security. It'd have to be done semi-manually, with the user verifying that the IPS-patched file worked properly before making a BPS patch for it.<br /><br />tepples, I took the comparison to be about the formats themselves, rather than implementations. So like you, I see Xdelta3's speed as mainly that it has a mature implementation, rather than a benefit of the format itself.<br /><br />So a BPS patch has three checksums: that of input file, patched output file, and patch itself? If so, wonderful, as that gives a high degree of confidence, and if there's an error, points to the cause.<br /><br />Ambiguities are a nasty problem with IPS. I remember writing an IPS decoder and having to use heuristics in decoding some. It reminds me of the issue with HTML parsing, where the maxim of being lenient on what you accept was taken the wrong way and taken to mean to not even complain if something was out of spec, leading to people never even knowing that their pages were out of spec since most things didn't make a peep.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>qwertymodo</b> [ Wed Nov 07, 2012 7:14 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: bsnes and headers</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">blargg wrote:</div><div class="quotecontent">So a BPS patch has three checksums: that of input file, patched output file, and patch itself? If so, wonderful, as that gives a high degree of confidence, and if there's an error, points to the cause.<br /></div><br /><br />Yes, it does.  And yes, it is.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>HJRodrigo</b> [ Wed Nov 07, 2012 8:36 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: bsnes and headers</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">blargg wrote:</div><div class="quotecontent">I take you as basically asking people to step out of their comfort zones a bit and give some things a try and really scrutinize them, so that the developers can fix problems and then put them out there again for further evaluation.</div><br /><br />Yes, but if they don't wish to step out of their comfort zones a bit, I would rather they not say things that would needlessly discourage any further innovation.  They should just ignore the subject, and let those that are interested discuss and criticize (constructively) the subject matter. Then again I am for free speech, so I guess I am not one to talk  <img src="./images/smilies/icon_razz.gif" alt=":P" title="Razz" /> .<br /><br /><div class="quotetitle">blargg wrote:</div><div class="quotecontent">...always allowing for it not being the end-all format...</div><br />I agree. I worked for a time as a researcher (In genetics and microbiology, nothing of use here) and became an idealist of sorts, when it comes to the sharing and expanding of knowledge/information. I refuse to believe that anything is an end-all solution, when it comes to technology. The moment we think like this, then progress stops. I believe that in any scientific field (including computer science) we should always attempt to test and/or build upon the work of others. I think BPS is an interesting approach because, in a sense, it builds upon the prior work of two patching formats.  It is not a revolutionary idea, but it is an &quot;evolutionary&quot; one that can have a practical use for many.<br /><br />Sometimes researchers do need to &quot;pimp&quot; their ideas/discoveries or else all the work they have done may not receive any scrutiny. Finding the balance to getting interest in ones work with out being a little bit controversial or grandiose is a tough one.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>byuu</b> [ Wed Nov 07, 2012 10:22 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: bsnes and headers</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />&gt; If creation of Xdelta3 patches is lightning-fast, then couldn't one create an Xdelta3 patch, parse it, and represent the same data in BPS format?<br /><br />That may or may not be possible, the problem is that Xdelta3 is a monstrously Byzantine format. It would probably be harder to learn how to parse it than how to do the delta comparison &gt;_&lt;<br /><br />&gt; Shiru, an IPS-to-BPS converter would be like converting a JPEG to PNG; you'd have to fill in blanks and provide a false sense of security. It'd have to be done semi-manually, with the user verifying that the IPS-patched file worked properly before making a BPS patch for it.<br /><br />Correct. Also on my forum, someone already converted every completed SNES translation from RHDN into a big BPS patch archive.<br /><br />&gt; So a BPS patch has three checksums: that of input file, patched output file, and patch itself?<br /><br />Yes. But one choice I made was to use CRC32 instead of SHA256. The idea was that CRC32 can be implemented in a one-line function, whereas SHA256 is not so simple. But aside from malicious intent to deceive, that gives you only a one in four billion chance of a false pass in the worst case, and a 1:2^64'ish chance in the best case. I favored simplicity of the spec over cryptographic-level security. And besides, SHA256 will likely be broken eventually, anyway.<br /><br />Another point to show how much thought I put into the patching format: the hashes always come after the data, that way you can calculate the hashes at the same time as you read/write the files, if you so choose. For creating patches, it means not having to seek back and rewrite data, and not having to buffer the whole patch in memory.<br /><br />&gt; It reminds me of the issue with HTML parsing, where the maxim of being lenient on what you accept was taken the wrong way and taken to mean to not even complain if something was out of spec, leading to people never even knowing that their pages were out of spec since most things didn't make a peep.<br /><br />Yep. Another fun one we've found was that some patches would seek backward in the file (use a lower offset after a higher previous offset), and at least one patcher couldn't handle that when it was streaming the output.<br /><br />&gt; I refuse to believe that anything is an end-all solution, when it comes to technology.<br /><br />Definitely. If a more suitable format than mine emerges, I'm all for it.<br /><br />Really, the primary driving force for BPS over Xdelta was that I wanted to see soft-patching support in emulators. And we have that, Snes9X had no trouble supporting it. Whereas I know of no third-party implementation of Xdelta.<br /><br />When fighting about sizes, it becomes like compression. Do you use ZIP (ubiquity and simplicity), 7zip (great compression, somewhat popular), or KGB Archiver (ten hours to make an archive, but they are certainly the smallest)? bsdiff -destroys- Xdelta (by 3:1 or better) on x86 program diffs. Google's Chrome diff destroys bsdiff even. But those are highly specialized.<br /><br />So honestly, it depends on what you're doing. I think Google's Chrome diff is wonderful for how it is used and what it does. But I'd never use it for an SNES fan translation.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>HJRodrigo</b> [ Thu Nov 08, 2012 10:08 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: bsnes and headers</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">byuu wrote:</div><div class="quotecontent">Correct. Also on my forum, someone already converted every completed SNES translation from RHDN into a big BPS patch archive</div><br />I tried finding it and failed <img src="./images/smilies/icon_sad.gif" alt=":(" title="Sad" /> , how big is the download or do you have a link address? I would love to compare the file sizes between the IPS files and the BPS files.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>7</strong> of <strong>7</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>