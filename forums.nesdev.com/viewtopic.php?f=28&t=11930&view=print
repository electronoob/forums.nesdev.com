<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - problem with my repro</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">problem with my repro</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=28&amp;t=11930">http://forums.nesdev.com/viewtopic.php?f=28&amp;t=11930</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>mario</b> [ Fri Oct 17, 2014 2:24 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>problem with my repro</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Hi!<br />I did a little flintstones repro (dinosaur version) with the inlprogrammer and a tlrom board (256 KB of prg and chr), no wram. The problem is: my graphics are bugged. The first 2-3 levels are ok, but the cinematics and the rest of the other levels are bugged. I belive the problem comes from the prg doubling step? To double it, I selected all the code in hexeditor, and pasted it at the end. I did the same thing for the chr and the characters are all ok. Weird.<br /><br />Do you guys have an idea what is the problem? Thanks for the help!<br />mario

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>rainwarrior</b> [ Fri Oct 17, 2014 2:58 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: problem with my repro</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />If the game runs correctly but the graphics are wrong, it is most likely a problem with the CHR-ROM.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Fri Oct 17, 2014 3:14 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: problem with my repro</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">mario wrote:</div><div class="quotecontent">my graphics are bugged.</div><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">the characters are all ok. Weird.</div><br />Those are conflicting bits of information, so you might have to describe in greater detail (or use pictures) how the graphics are bugged.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>mario</b> [ Fri Oct 17, 2014 3:45 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: problem with my repro</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent"><div class="quotetitle">mario wrote:</div><div class="quotecontent">my graphics are bugged.</div><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">the characters are all ok. Weird.</div><br />Those are conflicting bits of information, so you might have to describe in greater detail (or use pictures) how the graphics are bugged.</div><br /><br />By bugged, i mean that all the scenario is glitched with weirds colors and quares. its similar to this picture: <!-- m --><a class="postlink" href="http://tcrf.net/images/a/af/CastlevaniaProjGlitch.png">http://tcrf.net/images/a/af/CastlevaniaProjGlitch.png</a><!-- m --><br />We can see the main traject, characters and objects, but the environment is bugged.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>koitsu</b> [ Fri Oct 17, 2014 5:31 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: problem with my repro</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Rephrased: sprites look fine, background CHR data looks wrong (specifically wrong tile data, wrong CHR page referenced, etc. -- nametable/layout data looks correct, at least in the screenshot, but again -- &quot;similar&quot; != &quot;identical&quot;).<br /><br />Possibilities here are still many.  Is it just not possible for you to take a picture of a display/television set?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Fri Oct 17, 2014 6:54 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: problem with my repro</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">mario wrote:</div><div class="quotecontent">We can see the main traject, characters and objects, but the environment is bugged.</div><br />You should know that CHR-ROM is not just for the entities you perceive as characters in the game, it actually contains the tiles necessary to draw everything, sprites and background.<br /><br />Anyway, if the game is fully playable, apart from the background looking messed up, the problem is most likely in the CHR-ROM chip (it could be programmed wrong or wired wrong) or the mapper is not an exact match, although that's unlikely if part of the game is fine.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>mario</b> [ Sat Oct 18, 2014 4:35 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: problem with my repro</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />As requested, here are the pics!<br /><br /><!-- m --><a class="postlink" href="http://i58.tinypic.com/xddt7p.jpg">http://i58.tinypic.com/xddt7p.jpg</a><!-- m --><br /><br /><!-- m --><a class="postlink" href="http://i61.tinypic.com/fbz3o2.jpg">http://i61.tinypic.com/fbz3o2.jpg</a><!-- m --><br /><br /><!-- m --><a class="postlink" href="http://i58.tinypic.com/2iqkbi0.jpg">http://i58.tinypic.com/2iqkbi0.jpg</a><!-- m --><br /><br /><!-- m --><a class="postlink" href="http://i59.tinypic.com/2m5kxmu.jpg">http://i59.tinypic.com/2m5kxmu.jpg</a><!-- m --><br /><br /><!-- m --><a class="postlink" href="http://i61.tinypic.com/21981tk.jpg">http://i61.tinypic.com/21981tk.jpg</a><!-- m --><br /><br /><!-- m --><a class="postlink" href="http://i61.tinypic.com/zjb5lk.jpg">http://i61.tinypic.com/zjb5lk.jpg</a><!-- m --><br /><br /><!-- m --><a class="postlink" href="http://i62.tinypic.com/scdwn6.jpg">http://i62.tinypic.com/scdwn6.jpg</a><!-- m --><br /><br /><!-- m --><a class="postlink" href="http://i61.tinypic.com/70jj0n.jpg">http://i61.tinypic.com/70jj0n.jpg</a><!-- m --><br /><br />Thanks for your time and knowledge guys! Its really appreciated!

		
			<br clear="all" /><br />

			<table class="tablebg" width="100%" cellspacing="1">
			<tr>
				<td><b class="genmed">Attachments: </b></td>
			</tr>
			
				<tr>
					<td>
			<span class="gensmall"><b>File comment:</b> world 1</span><br />
		
			<a href="./download/file.php?id=2059&amp;mode=view"><img src="./download/file.php?id=2059&amp;t=1" alt="1.JPG" /></a><br />
			<span class="gensmall">1.JPG [ 1.28 MiB | Viewed 474 times ]</span>
		

		<br />
	</td>
				</tr>
			
			</table>
		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Sat Oct 18, 2014 5:13 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: problem with my repro</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />It really does look like the wrong tiles are being mapped in. If you pay attention, you'll notice that the glitches are not random, the tiles are still arranged in the expected shapes and colors, it's just the wrong tiles.<br /><br />You said you doubled up the CHR, but looking at bootgod's database it appears that the game already uses 256KB of CHR, so there should be no need to double it, right?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>mario</b> [ Sat Oct 18, 2014 6:47 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: problem with my repro</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent">It really does look like the wrong tiles are being mapped in. If you pay attention, you'll notice that the glitches are not random, the tiles are still arranged in the expected shapes and colors, it's just the wrong tiles.<br /><br />You said you doubled up the CHR, but looking at bootgod's database it appears that the game already uses 256KB of CHR, so there should be no need to double it, right?</div><br /><br />Yes, you are right, but strangely, when I auto split my rom with nesmapper, it gives me 128 ko prg and chr... I think we found the bug's source? xD how can I fix that now?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Sat Oct 18, 2014 10:01 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: problem with my repro</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Maybe the header is fucked up and indicates the wrong CHR size... ROM splitters are stupid anyway, just open the ROM in an hex editor and remove the first 16 bytes (that's the header). The next 128KB is the PRG-ROM, and the remaining 256KB is the CHR-ROM.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>mario</b> [ Wed Oct 22, 2014 10:54 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: problem with my repro</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />This will sounds like a ridiculous question but.... Can you tell me How I do this please? xD thanks

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>koitsu</b> [ Wed Oct 22, 2014 12:18 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: problem with my repro</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />tokumaru explained exactly, and clearly, what to do in his previous post.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Wed Oct 22, 2014 1:02 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: problem with my repro</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The exact keys you need to push to split them up depends on how your particular hex editor implements copy and paste.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>mario</b> [ Wed Oct 22, 2014 3:17 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: problem with my repro</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">koitsu wrote:</div><div class="quotecontent">tokumaru explained exactly, and clearly, what to do in his previous post.</div><br />You know what I hate with people like you? Taking a space to say something that no one need/want to hear. It's a useless pollution. You should keep quiet if what you brings won't make progress the forum. thank you to refrain next time! No offense btw.<br /><br /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">The exact keys you need to push to split them up depends on how your particular hex editor implements copy and paste.</div><br />I know... this question could have been posted in newbie center. But this forum is made for that, and I see that some guys between you are more focused to offer their assistance than others. I appreciate this.<br />My program is Hexedit. In fact, I have search in the entire program and I did not find a way to do it. I can select bytes, but I have not find a way to select a <em>quantity of data</em>. What is the secret? :O

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>koitsu</b> [ Wed Oct 22, 2014 3:31 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: problem with my repro</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Offense absolutely intended, and absolutely taken that way.  Just because I'm a forum admin doesn't mean you can't scream at me -- go right ahead, but what you're asking for is quite literally &quot;how do I use the hex editor I chose?&quot;.  There's a general expectation that folks doing repros kinda have a basic understanding of what it is they're doing (especially considering they're working with EPROM/EEPROM writers).  I'd suggest you skim the 1900+ posts of mine to see if what I've said has &quot;brought progress&quot; to the forum (not to mention I hosted this site for over 15 years).<br /><br />But anyway, is there some reason you didn't refer to the Hexedit help files?<br /><br /><!-- m --><a class="postlink" href="http://www.hexedit.com/help/Hexedit.htm">http://www.hexedit.com/help/Hexedit.htm</a><!-- m --><br /><!-- m --><a class="postlink" href="http://www.hexedit.com/help/cmd_misc/hid_del.htm">http://www.hexedit.com/help/cmd_misc/hid_del.htm</a><!-- m --><br /><!-- m --><a class="postlink" href="http://www.hexedit.com/hex-edit-shots.htm">http://www.hexedit.com/hex-edit-shots.htm</a><!-- m --><br /><br />It looks like you just select the bytes you want to get rid of using the mouse/keyboard and press Delete.  It works this way in HxD as well: <!-- m --><a class="postlink" href="http://mh-nexus.de/en/hxd/">http://mh-nexus.de/en/hxd/</a><!-- m --><br /><br />I should add that if the game you're trying to make repros of is The Flinstones - The Surprise at Dinosaur Peak! (and <a href="https://www.youtube.com/watch?v=ZqiXUtK3pqw&amp;t=9m59s" class="postlink">it looks like it is</a>, based on the screenshots (it doesn't appear to be The Rescue of Dino &amp; Hoppy)), the ROM archives I've seen of this game are all questionable:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">03/24/2002&nbsp; 07:56&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;393,232 Flintstones, The - The Surprise at Dinosaur Peak! (U) &#91;!p&#93;.nes<br />05/27/2001&nbsp; 06:38&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;393,360 Flintstones, The - The Surprise at Dinosaur Peak! (U) &#91;o1&#93;.nes<br />10/17/2003&nbsp; 22:25&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;393,232 Flintstones, The - The Surprise at Dinosaur Peak! (U) &#91;p1&#93;&#91;!&#93;.nes<br /></div><br />Reference: <!-- m --><a class="postlink" href="http://en.wikipedia.org/wiki/GoodTools#Standard_codes">http://en.wikipedia.org/wiki/GoodTools#Standard_codes</a><!-- m --><br /><br /><tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">[!p]</tt> means the ROM dump is still semi-questionable, meaning the dumper either didn't know what they were doing or they didn't have a way to verify the results, so there's not necessarily a way to guarantee the dump was 100% correct.<br /><br /><tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">[o1]</tt> means the dump is faulty (overdumped by 128 bytes, but how/where the overdumping happens is unknown) -- and this one would surely be broken in some way if you were to use it, not to mention I'm not sure how an EPROM/EEPROM writer wouldn't throw a fit (either PRG or CHR would be too large vs. the actual chip size, unless the chip was larger than it needed to be).<br /><br /><tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">[p1][!]</tt> means the dump is verified but it's a pirated version of the game (rather than an original) (the game starts by showing &quot;1994&quot; with nothing else, as in someone modified the title screen copyright and changed the year).  However, the dump is verified as good (funny that).

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>