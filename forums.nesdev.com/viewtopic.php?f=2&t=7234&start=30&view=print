<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Super Mario Bros design documents</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Super Mario Bros design documents</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=2&amp;t=7234">http://forums.nesdev.com/viewtopic.php?f=2&amp;t=7234</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>3</strong> of <strong>3</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Fri Dec 10, 2010 7:01 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />But then SMB1 is flexible in size because it has variable-length level maps. I'm pretty sure a few levels were cut or shortened to make the game fit. Half of Donkey Kong Country 2, for example, consisted of levels that were cut from the first Donkey Kong Country.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Fri Dec 10, 2010 7:51 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">But then SMB1 is flexible in size because it has variable-length level maps.</div>
<br />What do you mean by that? Do you have examples of games with fixed-length level maps?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Fri Dec 10, 2010 9:02 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent"><div class="quotetitle">tepples wrote:</div><div class="quotecontent">But then SMB1 is flexible in size because it has variable-length level maps.</div><br />What do you mean by that? Do you have examples of games with fixed-length level maps?</div>
<br />The overworld in The Legend of Zelda is a grid of 16 by 8 screens, and each screen is made of sixteen "vertical column" metatiles, each 16 by 176 pixels in size. Likewise, the dungeons of the first and second quests form a jigsaw puzzle in a circumscribed space, and each room is 12 columns wide (<a href="http://zeldit.zophar.net/hack.html" class="postlink">source</a>).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Fri Dec 10, 2010 9:26 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I guess I don't understand what you mean by "variable-length level maps" then. To me it seems that the game you used as example uses fixed-size entities to build the levels, but the levels themselves vary in size.
<br />
<br />These days I was reading about how level maps are stored in Sonic games and I found out that 1 and 2 had a fixed number of chunks (256x256 pixels in Sonic 1, 128x128 pixels in Sonic 2) per row, and a fixed number of rows. So basically they had a 2D area with fixed dimensions in RAM where levels maps were decompressed to, meaning that the engine always worked with the same level size. Sonic 3 changed that, and introduced a system with contiguous RAM use (rows start immediately after the previous one) and pointers to the start of each row of the level map, in order to have control of the dimensions, which allowed it to have larger levels than Sonic 2. Maybe that's a good example of fixed-length vs. variable-length level maps?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Fri Dec 10, 2010 10:53 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />LOZ has exactly two maps, each of which is fixed in screen size and data size. One map contains all the overworld; the other contains all the dungeons for both quests. The size of these maps was set when the game was conceived, and in fact, the second quest was added specifically to eat up unused space in the dungeon map. If you "remove" a screen, you don't save any bytes; you just have several-bytes-sized hole in the map. The encoding is, as one more familiar with modern audio and video codecs might say, "fixed rate".
<br />
<br />SMB1, on the other hand, has levels that are 1 screen tall and of unbounded width. Each map has a pointer to where it starts, and there's no limit to how many screens or bytes before it ends. The levels are variable length, and their encoding is variable rate, so removing objects will save bytes.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Fri Dec 10, 2010 2:40 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Well nothing prevents them from not using some "squres" in the world map and therefore save space.
<br />
<br />Also, I also wanted to pull the limits of a 32kb PRG ROM to the maximum, just for the heck of it <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />
<br />Probably the extreme limit would be to fit a complex RPG with mapper 3, 32 kb PRG ROM + a whole lot of CHR ROM + SRAM.
<br />Unless it's absolutely necessarly to place it in PRG ROM, data would be read from CHR ROM before being used. That's pointless I know I'd just like to try that for the challenge.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>3</strong> of <strong>3</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>