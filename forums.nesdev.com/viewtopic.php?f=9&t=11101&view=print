<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Everdrive - garbled graphics in final fantasy - advice?</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Everdrive - garbled graphics in final fantasy - advice?</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=9&amp;t=11101">http://forums.nesdev.com/viewtopic.php?f=9&amp;t=11101</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>wyatt8740</b> [ Sat Mar 15, 2014 2:46 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Everdrive - garbled graphics in final fantasy - advice?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />When I play final fantasy on my Everdrive N8 (NES toaster version) I get this in final fantasy:<br /><a href="http://i.imgur.com/tRJdr3g.png" class="postlink">http://i.imgur.com/tRJdr3g.png</a><br /><br />This only happens at points where none of the characters have walked out for an attack or whatever. whenever all four are in a straight column and not doing the victory animation, this is what I get. I get the same thing with the class-changed warriors. Does anyone know why this is? I don't mind messing with my ROM to clean up the logic, even though i KNOW this should work on a real NES as well as it does on an emulator, because this is a verified clean dump.<br /><br /><br />So, yeah. anyone got advice?<br /><br />I don't get the bug in grond's final fantasy, a hack which converted FF to MMC3. I would just use that version, but it added a lot of features and I would want a barebones MMC3 conversion if I had one at all.<br /><br /><br />I have to add that my other NES does this too, but ONLY with the two middle character sprites instead of all four. They have different revision boards, but all the same modifications (blue power LEDs, expanded audio resistor, clipped lockout chip). Removing these modifications has no effect. And yes, I have cleaned my pin connector.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>GameMachineJames</b> [ Thu Apr 10, 2014 1:54 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Everdrive - garbled graphics in final fantasy - advice?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Buy a PowerPak :-p<br /><br />Honestly, seems like your Everdrive is a faulty unit. It's just Final Fantasy and hacks of FF you get this distortion on, or are there other games that used the same mapper that you get it on?<br /><br />You may need to return it for a replacement.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MottZilla</b> [ Thu Apr 10, 2014 2:16 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Everdrive - garbled graphics in final fantasy - advice?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Have you tried copying the file to the SD card again? I think atleast one of the EverDrive's did not like it if a file was fragmented. <br /><br />And this is the only game that has this kind of problem?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>BMF54123</b> [ Thu Apr 10, 2014 3:22 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Everdrive - garbled graphics in final fantasy - advice?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I don't even understand how a fragmented file could cause problems if it has to be loaded into RAM before it can be run, unless the file loading code/hardware is severely bugged and is corrupting the data (though I think that would manifest itself in much more serious ways than making some sprite bits disappear).<br /><br />I have a bootleg Famicom Adventure Island III cart that has problems with flickery/missing sprites when connected to a pin converter and played on a front-loading NES, but not on an AV Famicom. Someone suggested that adding the converter increased resistance on the (apparently already borderline) bus, or something like that. I wonder if this is related?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Asaki</b> [ Tue Apr 15, 2014 3:02 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Everdrive - garbled graphics in final fantasy - advice?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I tried this with the same cart on a toaster NES (don't know what revision) and could not reproduce the bug.<br /><br />I will try it again with the same exact party/order/names and see if that does it.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>wyatt8740</b> [ Tue Apr 22, 2014 8:20 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Everdrive - garbled graphics in final fantasy - advice?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">BMF54123 wrote:</div><div class="quotecontent">I have a bootleg Famicom Adventure Island III cart that has problems with flickery/missing sprites when connected to a pin converter and played on a front-loading NES, but not on an AV Famicom. Someone suggested that adding the converter increased resistance on the (apparently already borderline) bus, or something like that. I wonder if this is related?</div><br /><br />Ah. That might actually be it; I am using a superbright blue LED and have the expansion sound resistor mod. They could potentially change the amount of resistance, I suppose. What pins on NES carts would I use to give it a direct 5V supply? I have a separate supply I could use to power the cart.<br /><br />It's just MMC1 that does it; the japanese NROM Final Fantasy works perfectly.<br />And the Grond's Final Fantasy MMC3 hack works in that respect, there are just other problems present.<br /><!-- m --><a class="postlink" href="http://www.dailymotion.com/video/x1qkn30_grond-s-final-fantasy-and-my-everdrive-bugs_videogames">http://www.dailymotion.com/video/x1qkn3 ... videogames</a><!-- m --><br /><br />... I really wish that I hadn't fried my top loader. I will probably end up harvesting every part on my front loading NES to replace whatever I might have destroyed on the top loader, starting with the CPU and PPU, for nothing dies more silently than a microprocessor.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Tue Apr 22, 2014 11:52 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Everdrive - garbled graphics in final fantasy - advice?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">wyatt8740 wrote:</div><div class="quotecontent">What pins on NES carts would I use to give it a direct 5V supply?<br /></div>Eh, don't split the power supply, it's a very easy way to accidentally fry something. Do, however, check for voltage sag in the NES. A multimeter ought to be good enough (but an oscilloscope would be better).<br /><br />If you do see voltage sag, then you might consider powering the entire thing with a beefier 5V supply after the regulator.<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">The japanese NROM Final Fantasy works perfectly.<br /></div>Do you mean the UNROM hack? Or the Japanese MMC1 build?<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">the CPU and PPU, for nothing dies more silently than a microprocessor.<br /></div>It'd be worth figuring out how to test the CPU without relying on the PPU.<br /><br />If you have a plain flashcart that doesn't necessarily require a functioning PPU (but I assume the N8's menu does), it'd be pretty easy to use a ROM that just makes sounds without waiting for the PPU.<br /><br />Anyway, in your video, there's something weird with sprites dropping out. Just as a wild (and unlikely, given that FF1j works) guess, maybe try running <a href="http://forums.nesdev.com/viewtopic.php?p=105012#p105012" class="postlink">tepples's sprite test?</a>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>wyatt8740</b> [ Tue Apr 22, 2014 3:01 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Everdrive - garbled graphics in final fantasy - advice?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">lidnariq wrote:</div><div class="quotecontent"><div class="quotetitle">wyatt8740 wrote:</div><div class="quotecontent">What pins on NES carts would I use to give it a direct 5V supply?<br /></div>Eh, don't split the power supply, it's a very easy way to accidentally fry something. Do, however, check for voltage sag in the NES. A multimeter ought to be good enough (but an oscilloscope would be better).<br /><br />If you do see voltage sag, then you might consider powering the entire thing with a beefier 5V supply after the regulator.<br /></div><br />I do not have an oscilloscope. Have had no luck finding an old one that wasn't from the mid-60s.<br />I do have an old multimeter, though.<br />Where should I probe for the sag? Sorry, but I'm just an aspiring electrical engineer, still in high school.<br /><br />I know how the 7805 works; are you suggesting I remove the 7805 regulator and replace it with a direct 5VDC line from, say, a wall-wart AC adapter?<br /><br />I made a commodore 64 PSU once, with a 7805 and a NES 9VAC adapter. If I could power a Commodore 64 with the NES transformer, I would think a NES would be trivial - What am I not accounting for?<br /><br />And, BTW, just running a 5VDC through the regulator would be BAD. the 7805 requires at least 7VDC input to work properly.<br />(also, my C64 PSU: <!-- m --><a class="postlink" href="http://i.imgur.com/O5BWSzl.jpg">http://i.imgur.com/O5BWSzl.jpg</a><!-- m -->)<br /><!-- m --><a class="postlink" href="http://i.imgur.com/bHzNFzN.jpg">http://i.imgur.com/bHzNFzN.jpg</a><!-- m --> (schematic)<br /><br />This is the schematic I used. I replaced the 3300uf capacitor with a 2200uf capacitor, 1000uf capacitor, and 100uf capacitor in paralell, but otherwise the same parts are used here. I did not make this schematic, it was posted by someone else (can't remember who) on the lemon64 forums in 2009.<br /><br /><div class="quotetitle">lidnariq wrote:</div><div class="quotecontent"><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">The japanese NROM Final Fantasy works perfectly.<br /></div>Do you mean the UNROM hack? Or the Japanese MMC1 build?<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">the CPU and PPU, for nothing dies more silently than a microprocessor.<br /></div>It'd be worth figuring out how to test the CPU without relying on the PPU.<br /><br />If you have a plain flashcart that doesn't necessarily require a functioning PPU (but I assume the N8's menu does), it'd be pretty easy to use a ROM that just makes sounds without waiting for the PPU.<br /><br />Anyway, in your video, there's something weird with sprites dropping out. Just as a wild (and unlikely, given that FF1j works) guess, maybe try running <a href="http://forums.nesdev.com/viewtopic.php?p=105012#p105012" class="postlink">tepples's sprite test?</a></div><br /><br /><!-- m --><a class="postlink" href="http://tuxnes.sourceforge.net/nesmapper.txt">http://tuxnes.sourceforge.net/nesmapper.txt</a><!-- m --><br />suggests that the UNROM (I meant UNROM, not NROM) is the only japanese final fantasy, not a hack.<br />I am talking about the japanese FF. There is no japanese MMC1 FF that I could find.<br /><br />BTW, I can't really afford to buy a powerPak ATM.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Tue Apr 22, 2014 6:27 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Everdrive - garbled graphics in final fantasy - advice?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">wyatt8740 wrote:</div><div class="quotecontent">I do not have an oscilloscope. Have had no luck finding an old one that wasn't from the mid-60s.<br /></div>Hey, don't knock 'em! I used a Tektronix 547 for several years when it practically fell into my hands.<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I do have an old multimeter, though. [...] Where should I probe for the sag?<br /></div>Anywhere you can get your probes in. There's not going to be an appreciable difference from one place on the board to another—certainly not at the frequency resolution a multimeter can give you.<br />Alternatively, measure the amount of current going into the NES (before its 7805).<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I know how the 7805 works; are you suggesting I remove the 7805 regulator and replace it with a direct 5VDC line from, say, a wall-wart AC adapter?<br /></div>Don't even need to remove it; if you power the +5V rail after the regulator it won't be harmed. (It'll draw a little power—20 up to 100mA, tops). Obviously be careful that you're actually supplying things with 5V, lest you kill the CPU/PPU/&amp;c. I've successfully run my NES with down to ... 3.5V or so, although games' mask roms start getting too slow at the lower voltages.<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I made a commodore 64 PSU once, with a 7805 and a NES 9VAC adapter. If I could power a Commodore 64 with the NES transformer, I would think a NES would be trivial - What am I not accounting for?<br /></div>FPGAs are really power hungry?<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I am talking about the japanese FF. There is no japanese MMC1 FF that I could find.<br /></div><a href="http://bootgod.dyndns.org:7777/profile.php?id=3606" class="postlink">NesCartDB</a> indicates that Japanese FF1 is definitely MMC1. GoodNES calls the UNROM builds &quot;hM02&quot;, or &quot;hacked to mapper 2&quot;.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>wyatt8740</b> [ Tue Jun 03, 2014 3:08 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Everdrive - garbled graphics in final fantasy - advice?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">lidnariq wrote:</div><div class="quotecontent">[quote=wyatt8740]<br />I made a commodore 64 PSU once, with a 7805 and a NES 9VAC adapter. If I could power a Commodore 64 with the NES transformer, I would think a NES would be trivial - What am I not accounting for?<br /></div>FPGAs are really power hungry?<br />[/quote]<br />Oh. Yeah. That. Forgot the huge label &quot;CYCLONE&quot; staring me in the face when i cracked open my powerpak case.<br /><br />Sorry about that.<br /><br />I'll check on the Final Fantasy thing now that I have time again.<br /><br />If no luck, I will just go ahead and make a translation of the japanese NROM version. I'm still in High School and this would be a neat summer project.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>