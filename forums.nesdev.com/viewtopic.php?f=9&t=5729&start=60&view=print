<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Current Problem PowerPak Games</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Current Problem PowerPak Games</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=9&amp;t=5729">http://forums.nesdev.com/viewtopic.php?f=9&amp;t=5729</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>5</strong> of <strong>12</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MottZilla</b> [ Wed Nov 24, 2010 3:09 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Wouldn't it be faster to make a test ROM that just changes banks after writing known values to WRAM and testing them? Seems like it would be faster than playing a game like FF3 to some point that I'm sure isn't near the beginning.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>nothingnew</b> [ Wed Nov 24, 2010 3:21 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">ibeenew2 wrote:</div><div class="quotecontent"><div class="quotetitle">nothingnew wrote:</div><div class="quotecontent">http://www.mediafire.com/?yeba5cdcfemqxfh<br /><br />3'rd save slot.</div><br /><br />The cart only has 8KB of WRAM, so your 32KB save may already have something wrong.</div>
<br />
<br />Game doesn't save when using a 8KB save-file.  Haven't tried using a 16KB one, but I don't think the savefile should matter as I've used them for 8KB games without problems.
<br />
<br />EDIT: And are you sure it uses 8KB? I know Kirby uses at least 16 and it uses a similar save system.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>joe1088</b> [ Wed Nov 24, 2010 3:26 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">MottZilla wrote:</div><div class="quotecontent">Wouldn't it be faster to make a test ROM that just changes banks after writing known values to WRAM and testing them? Seems like it would be faster than playing a game like FF3 to some point that I'm sure isn't near the beginning.</div><br /><br />Only takes an hour or two to get to that point IIRC. I'm going to get back to testing thefox's mappers as soon as i can. I'll test loopy's new one if the glitch still occurs.<br /><br /><div class="quotetitle">nothingnew wrote:</div><div class="quotecontent">Game doesn't save when using a 8KB save-file.</div>
<br />
<br />Odd. It saves on an 8KB file for me.
<br />
<br />Edit:
<br />
<br />It seems the airship glitch is fixed on thefox's mapper. I entered the ship, exited, entered a battle, exited the battle, and the airship was still there. I'll test this on loopy's mapper later.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Wed Nov 24, 2010 3:51 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">nothingnew wrote:</div><div class="quotecontent">I know Kirby uses at least 16</div>
<br />What? All my Kirby's Adventure saves are 8KB.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>ibeenew2</b> [ Wed Nov 24, 2010 3:54 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Use bootgods data base at <!-- m --><a class="postlink" href="http://bootgod.dyndns.org:7777">http://bootgod.dyndns.org:7777</a><!-- m -->  Kirby also only has 8KB on cart.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MottZilla</b> [ Wed Nov 24, 2010 5:26 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">joe1088 wrote:</div><div class="quotecontent"><div class="quotetitle">MottZilla wrote:</div><div class="quotecontent">Wouldn't it be faster to make a test ROM that just changes banks after writing known values to WRAM and testing them? Seems like it would be faster than playing a game like FF3 to some point that I'm sure isn't near the beginning.</div><br /><br />Only takes an hour or two to get to that point IIRC. I'm going to get back to testing thefox's mappers as soon as i can. I'll test loopy's new one if the glitch still occurs.<br /></div>
<br />
<br />But it only takes a couple seconds to run a test ROM to find out the same thing. But fair enough, so long as the glitch gets fixed we can all be happy.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Wed Nov 24, 2010 5:29 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Option A:
<br /><ol style="list-style-type: decimal"><li>Play through the game. </li></ol>Option B:<br /><ol style="list-style-type: decimal"><li>Make a test ROM. </li><li>Verify its behavior in Nestopia and Nintendulator. </li><li>Verify its behavior on an MMC3 devcart. </li><li>Try it on PowerPak. </li></ol>
<br />I'd prefer option B, and I've started on such a test ROM myself, but option A might not take as long.
<br />
<br />
<br />EDIT: I made a test ROM, and I'm not entirely sure what the PowerPak is doing wrong.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>nothingnew</b> [ Thu Nov 25, 2010 12:28 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">ibeenew2 wrote:</div><div class="quotecontent">Use bootgods data base at <!-- m --><a class="postlink" href="http://bootgod.dyndns.org:7777">http://bootgod.dyndns.org:7777</a><!-- m -->  Kirby also only has 8KB on cart.</div>
<br />
<br />That's weird, I could never get Kirby to work on my Powerpak with 8KB files.  I stand corrected.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>J-Aap</b> [ Thu Nov 25, 2010 1:42 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">joe1088 wrote:</div><div class="quotecontent"> Only takes an hour or two to get to that point IIRC..</div><br /><br />Actually, it can even be done quicker. When you go straight to the airship, it shouldn’t cost you more than 45 min. Because of this, it wasn’t a problem for me to start from the beginning and continue playing until the glitch occurred (without using a savegame).<br /><br />To illustrate how/when I encountered the glitch:<br />When I left the first cave (the cave where you start), I stocked up in the first town (UR) and then continued to the second town (KAZUS) to talk to Cid. After talking to Cid you are able to get the airship in the dessert (which is right next to KAZUS). So after talking to Cid, I picked up the airship and flew back to the first village (UR), where I parked the airship right next to it. In this first village I fought my way through the grass area to get the “cure” spell. After getting the spell I left town and…*surprise* the f**ng thing is gone (yes I took the keys with me <img src="./images/smilies/icon_wink.gif" alt=":wink:" title="Wink" /> ). <br /><br /><div class="quotetitle">thefox wrote:</div><div class="quotecontent">Did you start the game from the beginning with the new mappers?</div><br /><br />To illustrate what I have done concerning the mappers:<br />I downloaded v1.34 of the mappers on the Retrozone site and then copied loopy’s mappers to the directory. So to be clear, I only copied the document below to the standard mapper directory. <br /><br /><div class="quotetitle">loopy wrote:</div><div class="quotecontent"><a href="http://home.comcast.net/~olimar/NES/powerpak_mmc3test.zip" class="postlink">http://home.comcast.net/~olimar/NES/powerpak_mmc3test.zip</a></div>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>loopy</b> [ Thu Nov 25, 2010 11:45 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />There was glitching on WRAM /WE.  I added a filter to M2 to fix it.  This seems to have fixed Crystalis as well.
<br />
<br /><a href="http://home.comcast.net/~olimar/NES/powerpak_mmc3test2.zip" class="postlink">http://home.comcast.net/~olimar/NES/powerpak_mmc3test2.zip</a>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MottZilla</b> [ Thu Nov 25, 2010 12:01 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Tepples I hope you still make your test ROM to compare the old mapper code to the new one loopy just posted. 
<br />
<br />Strange that such a bug didn't cause problems with more games. I thought alot of MMC3 games used WRAM. By some coincidence they didn't trigger this glitch?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Thu Nov 25, 2010 1:34 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I've made a ROM that fills PRG RAM with a pattern and then hex-dumps it. Does <a href="http://wiki.nesdev.com/w/index.php/MMC3#PRG_RAM_protect_.28.24A001-.24BFFF.2C_odd.29" class="postlink">$A001</a> bit 6 (read-only PRG RAM) exist? Nestopia, Nintendulator, and whatever version of mappers are installed on my PowerPak's CF card don't appear to honor it.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MottZilla</b> [ Thu Nov 25, 2010 3:00 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Doesn't Low G Man or something like that break if WRAM Protect isn't implemented?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Memblers</b> [ Thu Nov 25, 2010 3:18 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The saving in <a href="http://www.romhacking.net/trans/226/" class="postlink">Downtown Special</a> never worked for me, I didn't notice any side-effects though (other than PowerPak menu doesn't ask to save).  I don't know what board it uses (Famicom-only) but I just assumed it's a normal MMC3/battery/WRAM because it seems OK in other emulators.
<br />
<br />And Base Wars is another MMC3 game that refused to save (edit team or start a season - it's supposed to save everything automatically).   Both of those, I mean on the old mappers, I don't have my NES hooked up for test the new ones at the moment.
<br />
<br />I don't know if that's related to the airship bug, that is really strange.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Thu Nov 25, 2010 7:38 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">loopy wrote:</div><div class="quotecontent">There was glitching on WRAM /WE.  I added a filter to M2 to fix it.  This seems to have fixed Crystalis as well.</div>
<br />I tried the title screen of M.C. Kids, and it was broken. I installed your fixed mapper, tried it again, and it was fixed. Thank you.
<br />
<br />Could you elaborate on what kind of conditions would have caused such a glitch in old MAP04 versions, so that I can trigger these conditions in my test ROM to make sure this doesn't happen again?

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>5</strong> of <strong>12</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>