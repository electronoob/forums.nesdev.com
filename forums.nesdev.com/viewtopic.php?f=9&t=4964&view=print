<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Getting the Game Genie graphics to work with MMC5 &amp; 4-Sc</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Getting the Game Genie graphics to work with MMC5 &amp; 4-Sc</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=9&amp;t=4964">http://forums.nesdev.com/viewtopic.php?f=9&amp;t=4964</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>AWal</b> [ Tue Mar 17, 2009 2:25 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Getting the Game Genie graphics to work with MMC5 &amp; 4-Sc</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Hi guys, long time no chat...More-or-less recently I've been filling blanks in the perpetual game genie master code list. Mostly I've been doing easy stuff for "Impossible" games using dissasemblers and sophisticated debuggers like the emulator FCEUXD SP.
<br />
<br />Now for the specifics...I've ran my Game Genie(s) through a copy of Laser Invasion without trouble, other than the fact that you have to chart or guess the characters to put them in.
<br />
<br />In this situation...do you guys think it would be possible to wire an seperate SRAM on the game genie itself that would only operate when the GG code was active for access to the PPU memory (theoretically aleviating this issue).
<br />
<br />This is just a hypothesis at this point, but if my NES instinct is telling me correctly, this might just be crazy enough to work.
<br />
<br />P.S.: a cheaper alternative possibly wiring a transistor to the (bluntly stated) mirroring lines to only pass their state when the cartridge is active (essentially forcing 1-screen/h/v mirroring...lol).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MottZilla</b> [ Tue Mar 17, 2009 11:05 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I must be missing something because I don't understand what you are doing. Game Genie doesn't have "Master Codes". It intercepts 3 addresses and can patch them. Debuggers are a great way to figure out game genie codes that are useful. But what is this about MMC5?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Tue Mar 17, 2009 4:34 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">MottZilla wrote:</div><div class="quotecontent">Game Genie doesn't have "Master Codes". It intercepts 3 addresses and can patch them.</div><br />Sometimes a game checksums itself and, if it fails to match, either locks up or (in the case of Bucky O'Hare and some other Konami titles that I can't think of at the moment) locks out all difficulties below expert. This was originally intended to help fight mapper hacks, title screen hacks, and other patterns of commercial copyright infringement at the time. If your game uses this, you may need a "master code" to disable this checksum behavior.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">But what is this about MMC5?</div>
<br />Apparently the MMC5 forces a blank screen during the Game Genie's menu.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>AWal</b> [ Tue Mar 17, 2009 7:11 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />It's not a copy protection check I'm trying to combat...I'm simply looking to get the graphics for the game genie to display properly with MMC5 and 4-Screen titles.
<br />
<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Apparently the MMC5 forces a blank screen during the Game Genie's menu.</div>
<br />I'd assume the MMC5 is hijacking the GFX data by default, which could cause this...but A transistor workaround would technically work there too by bypassing the external memory in favor of the internal one.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MottZilla</b> [ Tue Mar 17, 2009 7:57 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Oh ok, now your first post makes alot more sense. Very interesting problem.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>dvdmth</b> [ Tue Mar 17, 2009 8:54 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Does the Game Genie pass through the CIRAM /CE line, or does it always set CIRAM /CE to CHR /A13?
<br />
<br />If the CIRAM /CE line isn't passed through, then any game that maps any kind of memory to PPU $2000-2FFF will fail to work as expected.  MMC5 games may or may not work, depending on how they use EXRAM.  Games that use 4-screen mirroring will always have trouble.
<br />
<br />As for why the GG code entry screen is blank with MMC5 games, perhaps the MMC5 is in "fill mode" by default?  A write to $5105 would fix that...

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>AWal</b> [ Tue Mar 17, 2009 9:05 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Well, It seems my older Gold GG is busted, but my newer black GG seems fine...
<br />
<br />
<br />...Then I cracked it open to discover a single glop top...this is going to be tricky...
<br />
<br />I've already found out that it's the PPU /A13 and VRAM /CE that are getting hijacked by the problem carts; Jumpering pins 57 and 58 allows the graphics to work, regardless of the cartridge (since I'd use it's own memory).
<br />
<br />So the transistor trick may work...but only if a line goes and stays high when the game is loaded.
<br />
<br />
<br />So:
<br />
<br />Transistor needed is 2N3904
<br />Collector to magic pin (goes high at cartridge)
<br />Base to Pin 58 (PPU /A13)
<br />Emitter to Pin 57 (VRAM /CE)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>AWal</b> [ Tue Mar 17, 2009 9:52 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />At this point I have a workaround that is acceptable to me. Jumpering 58+57 with a switch that runs out the GG.
<br />
<br />Left on it can bug out carts that take advantage of that, otherwise allows the GG screen to be seen.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>BMF54123</b> [ Wed Mar 18, 2009 7:14 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Interestingly enough, I always got the code screen to appear (at least with CV3) by starting the game, and then quickly power-cycling.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>AWal</b> [ Wed Mar 18, 2009 7:39 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />&lt;sidenote&gt;I have two scanners, and one is only sending green lines and one thinks it's return switch is busted...so I have to use a crappy camera&lt;/sidenote&gt;
<br />
<br /><a href="http://img16.imageshack.us/my.php?image=1005288.jpg" class="postlink"><img src="http://img16.imageshack.us/img16/3373/1005288.jpg" alt="Image" /></a>
<br />
<br />/A13 is passed verbatim and /WE is hijacked...If they both passed then sprites/atributes probably wouldn't work either and there'd only be a grey screen (and playing by sound sucks).

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>