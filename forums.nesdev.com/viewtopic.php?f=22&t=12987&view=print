<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Blade Story - my Zelda clone using MMC5</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Blade Story - my Zelda clone using MMC5</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=22&amp;t=12987">http://forums.nesdev.com/viewtopic.php?f=22&amp;t=12987</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>4</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dreamwriter</b> [ Mon Jul 06, 2015 9:34 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Blade Story - my Zelda clone using MMC5</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />As people visiting the Newbie board may remember, I'm diving into an original NES project using MMC5 (possibly eventually getting a cartridge release on the Retro VGS game console). It's gonna be a Legend of Zelda clone with more story, I'm tentatively calling it &quot;Blade Story&quot;.<br /><br /><img src="http://i.imgur.com/bYRaoQL.png" alt="Image" /><br /><br />So here it is, at what I consider the true beginning: title screen, and then being able to walk around a single overworld screen. Pretty early of course, but hey if anyone wants to try out my first attempt at programmer art mixed with programmer music and programmer gameplay, have at it <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br /><br /><a href="http://www.dreamzle.com/blade/bladestory_7_7.nes" class="postlink">http://www.dreamzle.com/blade/bladestory_7_7.nes</a><br /><br />P.S. - Man this thing makes me miss the Gameboy Color's Z80 chip - just having a couple virtual 16-bit registers like BC, HL would be so nice, I can see why Nintendo thought using a 6502 would dissuade third-parties from programming it if they were used-to Z80.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Tue Jul 07, 2015 5:33 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Blade Story - my Zelda clone using MMC5</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />In at least my coding style, the 6502's virtual 16-bit registers are $00-$01 and $02-$03. I reserve $00-$0F for local variables.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Movax12</b> [ Tue Jul 07, 2015 6:09 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Blade Story - my Zelda clone using MMC5</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Zero page was supposed to make up for lack of registers.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>dougeff</b> [ Tue Jul 07, 2015 6:44 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Blade Story - my Zelda clone using MMC5</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />When I loaded it FCEUX 2.2.2 with &quot;new PPU&quot; it didn't load anything right. It did look fine with &quot;old PPU&quot;, but it may not be running properly in all emulators/hardware. Music is working fine, though.

		
			<br clear="all" /><br />

			<table class="tablebg" width="100%" cellspacing="1">
			<tr>
				<td><b class="genmed">Attachments: </b></td>
			</tr>
			
				<tr>
					<td>
			<a href="./download/file.php?id=3486&amp;mode=view"><img src="./download/file.php?id=3486&amp;t=1" alt="Blade2.jpg" /></a><br />
			<span class="gensmall">Blade2.jpg [ 62.96 KiB | Viewed 3541 times ]</span>
		

		<br />
	</td>
				</tr>
			
				<tr>
					<td>
			<a href="./download/file.php?id=3485&amp;mode=view"><img src="./download/file.php?id=3485&amp;t=1" alt="Blade.jpg" /></a><br />
			<span class="gensmall">Blade.jpg [ 87.05 KiB | Viewed 3541 times ]</span>
		

		<br />
	</td>
				</tr>
			
			</table>
		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>FrankWDoom</b> [ Tue Jul 07, 2015 9:52 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Blade Story - my Zelda clone using MMC5</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />If you're shooting for a physical release, do you have someone who can produce new mmc5 compatible boards? afaik nobody does that yet, and real mmc5 boards are not readily available.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dreamwriter</b> [ Tue Jul 07, 2015 10:56 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Blade Story - my Zelda clone using MMC5</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />From my tests it's working in FCEUx 2.2.2 (old PPU), PUnes, Nintendulator, and...one other emulator I forget the name of, Nestopia? It looks like the new FCEUx PPU isn't getting the extended attribute data, that's probably something to do with the fact that you can only write to the extended attribute table while the screen is being drawn (opposite of normal PPU stuff). It could be an incorrect assumption on either mine or the emulator writer's part about whether you can read the MMC5 interrupt flag that says if the screen is being drawn, without actually turning on the MMC5 scanline interrupt. I'll be adding a scanline effect soon (for a HUD at the top of the screen, possibly with its own BG palettes) so I'll be able to test that case out.<br /><br />As for physical release, I'm not actually targeting the NES but assuming I get far enough along,<a href="http://www.retrovgs.com/" class="postlink">the Retro VGS</a>. That's a game console that's going to be Kickstartered soon, it uses physical cartridges, and includes an FPGA that can be loaded up with whatever classic consoles they get cores for (or custom cores). It was mentioned in an interview they were going to license cores from Kevtris, and I know his NES core includes MMC5 support, so I'm hoping that's true.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Erockbrox</b> [ Tue Jul 07, 2015 7:59 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Blade Story - my Zelda clone using MMC5</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />So are you saying that you can't really do an NES release because the boards for an MMC5 haven't been made yet? Why haven't they been made yet?<br /><br />Also for the title screen. Try going over to pixeljoint.com and see if anyone can do a nice title screen for a decent price. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Tue Jul 07, 2015 8:27 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Blade Story - my Zelda clone using MMC5</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Erockbrox wrote:</div><div class="quotecontent">So are you saying that you can't really do an NES release because the boards for an MMC5 haven't been made yet? Why haven't they been made yet?<br /></div>The MMC5 is a ludicrously complicated mapper, extending the NES awfully close to its intrinsic limits. It allows for direct addressing of up to 256 KiB of CHR with 8x8 attributes (using 14 bits for tile # and 2 bits for palette #), up to 8 separate sprite banks when using 8x16 sprites, two extra sound channels, an extra nametable, up to 64 KiB of PRG-RAM that can be banked almost anywhere, vertical (separate left-and-right sections) splits, a hardware multiplier, as well as &quot;ordinary&quot; things like a scanline IRQ.<br /><br />It's possible to choose a subset of that and get new boards made, but cloning the full MMC5 is well into &quot;real&quot; FPGA territory, making it a fairly expensive endeavor. And the MMC5 had a small enough circulation that getting donor PCBs for any non-trivial number would be relatively hard, too.<br /><br />On the other hand, it sounds like he's &quot;only&quot; (so far) using the MMC5 for its 8x8 attributes. We've <a href="http://wiki.nesdev.com/w/index.php/UNIF/UNL-DripGame" class="postlink">got</a> a <a href="http://wiki.nesdev.com/w/index.php/User:Lidnariq/Mapper_thoughts#8.C3.978_attributes" class="postlink">few</a> ideas for <a href="http://wiki.nesdev.com/w/index.php/User:Myask/MyaGrafx" class="postlink">ways</a> to implement that without adding much hardware...

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dreamwriter</b> [ Wed Jul 08, 2015 4:22 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Blade Story - my Zelda clone using MMC5</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Yeah, MMC5 makes it hard if I ever want to test on an actual NES - I'd probably have to take apart a Castlevania 3 or Uncharted Waters or something and solder my own ROM chips in. I guess loopy has an early MMC5 core for the PowerPak cart, but as far as I can find it isn't complete.<br /><br />But, since I was a kid I always heard great things about MMC5, and because I already had to learn to program the NES from scratch and used to program the Gameboy Color (which is quite similar to an NES with MMC5), I thought it'd be extra fun to also write my game for MMC5. Plus, skilled pixel artists are hard to find these days, so I wanted to make their job as easy as possible when I do get one. So the less limitations the better - one palette for char, no real char limit for backgrounds. And the musician can use all the main channels for music, and I'd still have two more MMC5 channels for sound effects.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Wed Jul 08, 2015 4:55 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Blade Story - my Zelda clone using MMC5</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Even if you can find a reliable source for MMC5 boards, the two more channels will not play on an unmodified NES.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dreamwriter</b> [ Wed Jul 08, 2015 5:08 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Blade Story - my Zelda clone using MMC5</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />An Analogue NT, though... <img src="./images/smilies/icon_razz.gif" alt=":P" title="Razz" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>rainwarrior</b> [ Wed Jul 08, 2015 6:35 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Blade Story - my Zelda clone using MMC5</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Dreamwriter wrote:</div><div class="quotecontent">Yeah, MMC5 makes it hard if I ever want to test on an actual NES - I'd probably have to take apart a Castlevania 3 or Uncharted Waters or something and solder my own ROM chips in. I guess loopy has an early MMC5 core for the PowerPak cart, but as far as I can find it isn't complete.</div><br /><br />I believe <a href="https://home.comcast.net/~olimar/NES/powerpak_loopy.zip" class="postlink">Loopy's last MMC5 mapper</a> is &quot;complete&quot; for NES. It's incomplete for Famicom. i.e. it has everything except the expansion sound.<br /><br />If you're really interested in expansion sound, though, I'd maybe suggest the VRC6 instead? It's a very capable mapper, but the sound in particular is very straight-forward to use and versatile. It doesn't have some of MMC5's bells and whistles (e.g. multiplier, expanded attributes, etc.) but it's pretty beefy, and its expansion sound is better. It's also very fully implemented on the PowerPak and Everdrive.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Alp</b> [ Wed Jul 08, 2015 10:45 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Blade Story - my Zelda clone using MMC5</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Neat! It's cool so see other people making Zelda clones on the NES!<br /><br />I gave the demo a try, and came across one notable issue--<br />When the player touches the top, and/or the right sides of the screen, this causes one of their sprites to offset by a single pixel. I can't say why this would be happening, though.<br /><br />I *was* going to upload a screenshot, but Imgur is being a butt, today. (busy server)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Drew Sebastino</b> [ Thu Jul 09, 2015 4:55 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Blade Story - my Zelda clone using MMC5</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Why not just use the attachment feature?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dreamwriter</b> [ Fri Jul 10, 2015 5:12 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Blade Story - my Zelda clone using MMC5</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Yeah, I've seen the player breaking apart - thanks. I'm not going to allow the player to walk off the border anyways, I'm planning on doing the transition when the player touches the chars at the edge of the screen. That's the next thing I'm adding, support for special chars like that and a couple test screens to walk between. After that it's the HUD at the top and doing a palette swap between the HUD and the rest.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>4</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>