<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - i need help on writing a nes emu.</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">i need help on writing a nes emu.</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=3&amp;t=5780">http://forums.nesdev.com/viewtopic.php?f=3&amp;t=5780</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>jonathonrh</b> [ Sat Nov 28, 2009 9:02 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>i need help on writing a nes emu.</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />i've tried finding stuff on the internet but i can't seem to find anything.  I may have overlooked something, but if anyone would point me to a simple tutorial or help me personally i would appreciate it.
<br />
<br />(i've done very simple programming in c and c++, but nothing deep)
<br />
<br />i know alot about a computer but not much about programming.
<br />
<br />thanks, guys.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Sat Nov 28, 2009 9:39 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Have you programmed a video game before?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dwedit</b> [ Sat Nov 28, 2009 10:18 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />If you're making an emulator, you will learn the assembly language of the processor you're emulating.  Then you will simulate that processor.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MottZilla</b> [ Sat Nov 28, 2009 11:20 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />You also need to be capable of basic functions on your platform like drawing images to the screen, getting input, and Vsync type functions. Making a simple game like pong would be something to do before attempting an emulator although I would say if you have never made a game before then making an emulator is biting off more than you can chew. While it doesn't have to be making a game, it most easily sums up alot of the skills you would need in making an emulator.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MatthewCallis</b> [ Sun Nov 29, 2009 9:37 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I Googled 'writing a NES emulator',  the first result is more than enough to get you started:
<br />
<br /><!-- m --><a class="postlink" href="http://www.cecs.csulb.edu/~hill/cecs497/nestreme/howto.html">http://www.cecs.csulb.edu/~hill/cecs497 ... howto.html</a><!-- m -->

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>aphex</b> [ Thu Apr 22, 2010 2:34 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />For all people new to emulation, this is a great blog. I wouldnt advise that you start of with a Nes emulator, it's gonna be a very tough challenge, maybe start with a Chip8 emu.
<br />
<br />Here's the blog
<br /><!-- m --><a class="postlink" href="http://www.codeslinger.co.uk/pages/projects/chip8.html">http://www.codeslinger.co.uk/pages/projects/chip8.html</a><!-- m -->

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Zepper</b> [ Thu Apr 22, 2010 2:40 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />- The first thing is about the emulator style: will it be scanline-based? Cycle-by-cycle based? That's your first question.
<br />
<br />- Next, about the CPU, how often will you run it? Per instruction? Per given number of cycles (to be used in scanline-based PPUs)?
<br />
<br />- Next, the doc about the CPU opcodes/instructions step-by-step. Try to create an abstract layer, like a .h file within all the opcodes and operations, flags and labels. Provide PRG access, perhaps hooking functions inside a big CPU context structure.
<br />
<br />- The finale is your PPU emulator; otherwise, you rely on CPU logs. It's interesting here to compare your CPU emulation output with another accurate emulator that provides such thing.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MottZilla</b> [ Thu Apr 22, 2010 6:51 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I disagree aphex. My first emulator was for NES. I could have done Chip 8 or Gameboy or some arcade game I suppose, but the NES was the system I liked and had all my favorite games. 
<br />
<br />While emulating the NES reasonably accurately to support most games is alot to ask for a beginner, you have to remember it doesn't take much accuracy to get alot of games to run so a beginner shouldn't be discouraged from starting with NES. Infact I think the NES is an excellent platform to start with.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>aphex</b> [ Thu Apr 22, 2010 9:42 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">MottZilla wrote:</div><div class="quotecontent">I disagree aphex. My first emulator was for NES. I could have done Chip 8 or Gameboy or some arcade game I suppose, but the NES was the system I liked and had all my favorite games. <br /><br />While emulating the NES reasonably accurately to support most games is alot to ask for a beginner, you have to remember it doesn't take much accuracy to get alot of games to run so a beginner shouldn't be discouraged from starting with NES. Infact I think the NES is an excellent platform to start with.</div>
<br />
<br />Well I guess it's more of a personal thing, depending on how much you know about emulation thoery in general. I personaly find emulation most challenging because of the amount of work it takes to get any sort of working output (for me anyway), so starting basic helped me build confidence in that sense <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />
<br />
<br />For simplicities sake, I think that people should start where they feel comfortable, for me, that was the Chip8 and I have heard others with the same ideology, so I think it might be a good path to take.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>qeed</b> [ Fri Apr 23, 2010 4:10 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Yeah I would recommend chip8, very little work to do, I think I wrote a chip8 emu in around 2 hours with the opcode and graphics. Chip8 is good for learning how the emulation loop goes and how to draw.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Fri Apr 23, 2010 4:12 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Did CHIP-8 ever get a widely recognized set of mnemonics, or even timings, for its opcodes?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>qeed</b> [ Fri Apr 23, 2010 4:22 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I couldn't find timing info on it, but  its opcode is pretty standard, stuff like LD or JMP. There are 2 timers on the machine that can count down from 60 HZ, so rather than doing any timing I just delay the frames to 60 fps per second. It doesn't do IRQ i dont think or i didn't implement it, so timing is rarely needed, and you can write to the graphics whenever you want I think. Yes, it seems like chip8 is poorly documented, but if you just want to see the game screens and manipulate it a little, chip8 is recommended for implementaton because of ease. <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>aphex</b> [ Sun Apr 25, 2010 8:11 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The Chip8 has basically no documentation on timing and the Chip8 actually has an instruction for drawing the graphics to the screen, believe it or not, so timing isn't that important.
<br />
<br /><a href="http://en.wikipedia.org/wiki/CHIP-8" class="postlink">http://en.wikipedia.org/wiki/CHIP-8</a>
<br />
<br />I'm surprised you wrote one in 2 hours though qeed, it took me much longer. Although, I have heard the same from others, that it takes very little time to write a Chip8 emulator... I guess I'm just a little slower than the average emulator author <img src="./images/smilies/icon_redface.gif" alt=":oops:" title="Embarassed" /> 
<br />
<br />One thing I always found odd about the Chip8 though, is that it uses 16 bit opcodes, for such a basic system (interpretter actually), that's odd.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>qeed</b> [ Sun Apr 25, 2010 8:15 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />lol, that was only possible because i spent near to a year trying to write a nes emu. I guess hard work pays off at some point lol.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>aphex</b> [ Sun Apr 25, 2010 10:32 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />It's only now that I'm starting to feel confident with writing emulators, and actually making good progress. Emulation is tough, but that's why I love it, it's a challenge.
<br />
<br />Anyway, sorry to hijack the thread jonathonrh, but I'm sure you will find your way with emulation, just keep at it  <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>