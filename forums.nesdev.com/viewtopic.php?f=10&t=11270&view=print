<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Zapper games rom mod not working</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="https://forums.nesdev.com/">https://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Zapper games rom mod not working</span><br /><span class="gensmall"><a href="https://forums.nesdev.com/viewtopic.php?f=10&amp;t=11270">https://forums.nesdev.com/viewtopic.php?f=10&amp;t=11270</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>quietquiet</b> [ Sat May 24, 2014 3:51 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Zapper games rom mod not working</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I'm making a graphic mod to Hogan's Alley using Tile Layer Pro, but whenever I save the new rom file, the zapper function no longer works on the emulators I'm using and renders the game unplayable. The original works fine using the mouse as the zapper. Is there a way to fix this? I want to be able to play the game on an emulator as well as port it to a cart to play on an NES. I attached the rom file in question if anyone wants to give it a look. Thanks!

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Sat May 24, 2014 7:52 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Zapper games rom mod not working</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The Zapper can see only light and dark. Different emulators have different behavior for what they consider &quot;light&quot; or &quot;dark&quot;. If a &quot;light&quot; area isn't light enough, the emulator will report a miss to the game.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Sat May 24, 2014 8:27 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Zapper games rom mod not working</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Maybe the emulators are choosing whether to enable the zapper by hashing the ROM and comparing against a database of known zapper games? If that's the case there's not much you can do besides looking for the option to turn the zapper on manually.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>quietquiet</b> [ Sun May 25, 2014 1:16 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Zapper games rom mod not working</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I don't understand why when I make a small change to the rom, the emulators suddenly don't recognize the zapper function. They work perfectly fine before. What changes when I save the file in Tile Layer Pro? I just want to know how to mod a zapper game so it's playable on an emulator.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Sun May 25, 2014 8:47 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Zapper games rom mod not working</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Many emulators use a <a href="https://en.wikipedia.org/wiki/Cryptographic_hash_function" class="postlink">hash function</a> to identify ROM images of individual commercial games so that the emulator can plug in reasonable settings without the user having to go to the trouble of setting up the emulator himself. When you make even the smallest change, the hash function produces a different value. For a user using only well-known commercial games, this provides the best user experience at the cost of a poor user experience when using ROM hacks or original homebrew games. Some emulator developers consider this an acceptable tradeoff.<br /><br />It might be easier for you to understand if I provide a worked example. Applying the CRC32 hash function to the PRG ROM of <a href="http://bootgod.dyndns.org:7777/profile.php?id=307" class="postlink"><em>Hogan's Alley</em></a> produces the value $8963AE6E, and applying it to the CHR ROM produces $5DF42FC4. The database shipped with an emulator may have an entry to the effect &quot;When the PRG ROM is 128 Kbit with CRC32 $8963AE6E, and the CHR ROM is 64 Kbit with CRC32 $5DF42FC4, emulate a Zapper plugged into port 2.&quot; When you edit the tiles, the CRC32 value changes to something other than $5DF42FC4, causing this rule not to trigger.<br /><br />You might have to manually enable the Zapper in your emulator. The process for doing this will vary from one emulator to the next. Have your users read the manual of the emulator that they use.<br /><br />Have you tried your modified game on an NES with a Zapper and a CRT SDTV?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>quietquiet</b> [ Sun May 25, 2014 2:02 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Zapper games rom mod not working</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Wow, thank you! Evidently changing the emulator input for port 2 to zappers worked. I just tried using port 1 to no avail. My next step is putting the game onto a cart and actually using it with a zapper and CRT SDTV, but I wanted to make sure it would work before I put money into getting the cartridge made.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Sun May 25, 2014 3:20 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Zapper games rom mod not working</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />You could try buying an EverDrive N8 or a PowerPak. These are adapters to let you use digital camera memory (SD or CompactFlash) in an NES. You load the game onto the memory card using your PC, stick it in the adapter, and put the adapter in your NES.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>oRBIT2002</b> [ Mon May 26, 2014 4:32 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Zapper games rom mod not working</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I've encountered this problem many times now. It makes things really difficult for ROM-hackers or homebrewers. This checksum stuff is bad behaviour if you ask me (as discussed in other threads).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Mon May 26, 2014 6:50 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Zapper games rom mod not working</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />In the long term, perhaps a better way to say &quot;enable Zapper only for this homebrew game&quot; might be <a href="http://wiki.nesdev.com/w/index.php/User:Zzo38/Metadata_INI" class="postlink">zzo38's metadata proposal</a>, which specifies recommended controllers for a game among other things. But even that might fail for things like a multicart.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>rainwarrior</b> [ Mon May 26, 2014 9:01 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Zapper games rom mod not working</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Does iNES 2 have a field for suggested controllers?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Mon May 26, 2014 10:17 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Zapper games rom mod not working</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />No. Every bit in NES 2.0 relates to something soldered onto the game's printed circuit board. It doesn't specify what plugs into the Control Deck, which is where zzo38's proposal comes into play.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>3gengames</b> [ Mon May 26, 2014 1:53 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Zapper games rom mod not working</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Compeltely pointless, except for searching for games. I mean, my game uses 2 controllers. And you'll still have to have the menu in the game to pick them, and should have the menu. It should not be picked up the images for what controller to use, completely worthless to do from a usability standpoint, it only adds crap, it doesn't simplify emulation development, only makes it worse.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>rainwarrior</b> [ Mon May 26, 2014 2:44 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Zapper games rom mod not working</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Clearly, the emulator authors using a CRC solution thought it improves usability to automatically select the appropriate controllers to use instead of having their users manually configure them upon switching games.<br /><br />I'd tend to agree. Instead of 1000 users being confused about why Duck Hunt doesn't work, you have 2 users confused why some Duck Hunt romhack doesn't work.<br /><br />A suggested peripheral setup in the header would alleviate the issue entirely. The other great thing about emulators is that they have options. If you want your emulator to allow someone to play the Duck Hunt ROM with two controllers instead, it can ignore the suggestion, or allow it to be overridden.<br /><br />Having more information in the header doesn't simplify emulator development if you don't want to use it, sure, but in the same situation it doesn't complicate it either (just another byte to ignore). That's not the goal, though, the goal is to simplify the user's experience. The number of users is orders of magnitude larger than the number of people developing the emulator. (Also, if the emulator developer was frustrated enough by the problem to put in a CRC based solution, clearly this <em>will</em> simplify it for them.)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>3gengames</b> [ Mon May 26, 2014 2:51 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Zapper games rom mod not working</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The point is NOT emualtor usability, but the ability to represent the cartridge type, and what hardware the CART contains, in a file. I'd rather have a CRC program than header addition, because it's pretty wasteful for the header to contain that garbage. I mean, aren't there more than 16 additional controllers? I'd bet. And that makes it basically 2 bytes, prefered and extra, unless you only go with one controller. Or have the 1 byte represent every combination ever used. But no matter what, having it in the header is a shitty idea.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Mon May 26, 2014 3:11 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Zapper games rom mod not working</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Which is why zzo38 suggested to put controller configuration (and other metadata about the game) in a separate file.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>