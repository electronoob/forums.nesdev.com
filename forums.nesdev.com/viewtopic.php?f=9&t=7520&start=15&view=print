<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - PC -&gt; PowerPak transfer software</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">PC -&gt; PowerPak transfer software</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=9&amp;t=7520">http://forums.nesdev.com/viewtopic.php?f=9&amp;t=7520</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>2</strong> of <strong>5</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>koitsu</b> [ Wed Mar 02, 2011 5:31 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The stuff I ordered from Mouser and eBay arrived today, but I'm at work until 23:00 PST.  I'll be building this thing when I get home, assuming I don't fall asleep first.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>koitsu</b> [ Thu Mar 03, 2011 2:19 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />After managing to destroy my multimeter probes and part of my palm, I'm slowly getting there.
<br />
<br />The extension cable doesn't use the same coloured wires as that of a NES controller, so uh, going off of colour is pointless.  I didn't say anything before because I was hoping the extension cable was identical, but it isn't.  So, let's not focus on cable colour please.
<br />
<br />The pin/connection correlation provided <a href="http://nesdev.com/bbs/viewtopic.php?p=74771#74771" class="postlink">here</a> doesn't match the labelling on <a href="http://wiki.nesdev.com/w/index.php/Controller_port_pinout" class="postlink">the Wiki</a>, so I need clarification.
<br />
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">Wiki&nbsp; &nbsp; thefox post<br />------&nbsp; ------------<br />GND&nbsp; &nbsp; &nbsp;GND<br />CLK&nbsp; &nbsp; &nbsp;Clock<br />OUT&nbsp; &nbsp; &nbsp;???<br />D0&nbsp; &nbsp; &nbsp; ???<br />+5V&nbsp; &nbsp; &nbsp;???<br />D3&nbsp; &nbsp; &nbsp; ???<br />D4&nbsp; &nbsp; &nbsp; ???</div>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Thu Mar 03, 2011 2:28 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="codetitle"><b>Code:</b></div><div class="codecontent">Wiki&nbsp; &nbsp; thefox post<br />------&nbsp; ------------<br />GND&nbsp; &nbsp; &nbsp;GND<br />CLK&nbsp; &nbsp; &nbsp;Clock<br />OUT&nbsp; &nbsp; &nbsp;Strobe<br />D0&nbsp; &nbsp; &nbsp; Din<br />+5V&nbsp; &nbsp; &nbsp;VCC<br />D3&nbsp; &nbsp; &nbsp; ???<br />D4&nbsp; &nbsp; &nbsp; ???</div>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>koitsu</b> [ Thu Mar 03, 2011 2:30 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Awesome, thank you!  *back to the kitchen* :D

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>koitsu</b> [ Thu Mar 03, 2011 2:44 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Hrm, sorry for being such a pain, coming back to the diagram again:
<br />
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">Wiki&nbsp; &nbsp;thefox post&nbsp; &nbsp; FTDI<br />-----&nbsp; -------------&nbsp; ------------<br />GND&nbsp; &nbsp; GND&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Ground &#40;Black&#41;<br />CLK&nbsp; &nbsp; Clock&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ????<br />OUT&nbsp; &nbsp; Strobe&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;RxD &#40;Yellow&#41;<br />&nbsp;D0&nbsp; &nbsp; Din&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TxD &#40;Orange&#41;<br />+5V&nbsp; &nbsp; VCC&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; VCC &#40;Red&#41;<br />&nbsp;D3&nbsp; &nbsp; n/c&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; n/c<br />&nbsp;D4&nbsp; &nbsp; n/c&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; n/c<br /></div>
<br />
<br />Assuming this is right, the two questions are: 1) what does CLK (Clock) connect to on the FTDI cable, and 2) Does +5V (VCC) from the NES port actually go all the way through to the VCC pin on the FTDI cable?
<br />
<br />I haven't wired anything up yet, just wanting to make sure I don't start applying voltage to something and blow up my top loader.  :P
<br />
<br />EDIT: I think I've realised CLK (Clock) isn't connected to anything, and that +5V (VCC) isn't connected to anything either (in fact it seems doing this might be a bad idea; +5V coming from the NES and +5V coming from the USB connector = uh oh).  So, only 3 wires to wire up.  Gonna try that first.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Thu Mar 03, 2011 5:13 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">koitsu wrote:</div><div class="quotecontent">EDIT: I think I've realised CLK (Clock) isn't connected to anything, and that +5V (VCC) isn't connected to anything either</div>
<br />Yes, only three wires should be connected. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /> (E: Technical stuff just for completeness, in NES controller CLK clocks the shift register so the next bit is shifted out, it's clocked when reading 4016/4017. Like said, it's not needed for async serial i/o.)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>koitsu</b> [ Thu Mar 03, 2011 5:16 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Good deal -- all done.  Now to wrap the small section of cable in more electrical tape and try it out:<br /><br /><a href="http://jdc.koitsu.org/nes_usb2serial/" class="postlink">http://jdc.koitsu.org/nes_usb2serial/</a><br /><br />I might have to refine the cable -- it would be much more effective to use <a href="http://www.parallax.com/Store/Components/Other/tabid/157/List/1/ProductID/522/Default.aspx?SortField=ProductName%2CPr" class="postlink">some of these</a>.<br /><br />If all of this takes off, maybe we can find a less-expensive version of the FTDI cable and I can build some for folks (using the above connectors makes it super easy).  I'd like to keep the total cost per cable under US$30 (including S/H within the US).  Not interested in making money off this, just enjoy doing something cool/useful.<br /><br />Guess I'll need the software; you can send a copy to jdc at koitsu.org, thefox.<br /><br />EDIT: By the way, Windows XP requires a USB-to-serial driver, presumably the one from FTDI.  Seems they <a href="http://www.ftdichip.com/FTDrivers.htm" class="postlink">offer two kinds</a> though -- VCP (INF/COM-port-based) and D2XX (DLL-based).  I assume the one I want is the VCP one, but I'm not sure.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Thu Mar 03, 2011 5:45 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">koitsu wrote:</div><div class="quotecontent">Good deal -- all done.  Now to wrap the small section of cable in more electrical tape and try it out:<br /><br /><a href="http://jdc.koitsu.org/nes_usb2serial/" class="postlink">http://jdc.koitsu.org/nes_usb2serial/</a><br /></div><br />Looking good <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Guess I'll need the software; you can send a copy to jdc at koitsu.org, thefox.<br /></div><br />I'll send it to you in ~15 minutes, I'm right now packing it all up and writing a short readme.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">EDIT: By the way, Windows XP requires a USB-to-serial driver, presumably the one from FTDI.  Seems they <a href="http://www.ftdichip.com/FTDrivers.htm" class="postlink">offer two kinds</a> though -- VCP (INF/COM-port-based) and D2XX (DLL-based).  I assume the one I want is the VCP one, but I'm not sure.</div><br />Yeah VCP is the one you want (shows up as a normal COM port). I think I have them both installed.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Hilmarf</b> [ Thu Mar 03, 2011 5:47 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><a href="http://10350924052105885555-a-g.googlegroups.com/web/usbcable1.jpg" class="postlink">Google Groups appears not to allow image transclusion onto other domains --MOD</a>
<br />
<br />Guess the dealextreme cable should work then? <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>koitsu</b> [ Thu Mar 03, 2011 6:05 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Thanks thefox, got your mail + downloaded the zip.
<br />
<br />I've spent the past 30 minutes or so going through zillions of boxes I have (since I moved ~6 months ago), trying to find my PowerPak.  I know I have it boxed up somewhere, I'm just not sure WHICH box.  Grumble grumble...  It's probably down in the garage, along with my bloody ORCA/M manual, haha...
<br />
<br />I did get my NES set up though.  Heh :-)
<br />
<br />Gonna have to punt on completing this 'til tomorrow, it's almost bedtime for me.  Will have to scour the garage for stuff tomorrow afternoon.
<br />
<br />EDIT: Oh look, it's in this box labelled "NES/Famicom Disks/etc.".  :D

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>koitsu</b> [ Thu Mar 03, 2011 6:41 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><a href="http://www.youtube.com/watch?v=iaVdaMGswi4" class="postlink">It works!</a>  :D  Sorry for the blurry video, my camera doesn't auto-focus while recording.
<br />
<br />The transfer rate sure is slow, even for 115200.  I imagine most of the wait time is on the NES CPU transferring data to/from the PowerPak, not that I know how that's done...  I think I'm just spoiled and have forgotten the days of my AppleCat modem.  ;-)  I also noticed that some CHR data in the game was corrupted (I didn't record that), but I'm guessing I have a bad ROM.  But that's besides the point; the transfer works fine.
<br />
<br />BTW, with regards to the FTDI driver -- I used the VCP driver (automatically installed as COM3).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Thu Mar 03, 2011 7:03 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">koitsu wrote:</div><div class="quotecontent"><a href="http://www.youtube.com/watch?v=iaVdaMGswi4" class="postlink">It works!</a>  <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" />  Sorry for the blurry video, my camera doesn't auto-focus while recording.<br /></div><br />Cool! Glad to hear it's working.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">The transfer rate sure is slow, even for 115200.  I imagine most of the wait time is on the NES CPU transferring data to/from the PowerPak, not that I know how that's done...  I think I'm just spoiled and have forgotten the days of my AppleCat modem.  <img src="./images/smilies/icon_wink.gif" alt=";-)" title="Wink" /></div><br />Nope it actually writes it to PowerPak as it's transfering so there's no slowdown there. Transfer speed is 115200 bps / 11 = ~10.23 kbytes/sec. And it's not going to get faster than that, NES CPU is too slow for any faster. It might be (a big maybe) possible to get it up to twice that speed (for PRG/CHR transfers) by utilizing the FPGA but that's pretty tricky and I'm not sure if it's worth the trouble... For development purposes the current speed is fine, especially if I make some custom mappers which allow transfering only the differences. It also does RLE already so long strings of 0 etc get compressed.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I also noticed that some CHR data in the game was corrupted (I didn't record that), but I'm guessing I have a bad ROM.  But that's besides the point; the transfer works fine.</div>
<br />Yeah it checks the CRC so it's probably a bad ROM.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Thu Mar 03, 2011 8:53 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Hilmarf wrote:</div><div class="quotecontent"><a href="http://10350924052105885555-a-g.googlegroups.com/web/usbcable1.jpg" class="postlink">Google Groups appears not to allow image transclusion onto other domains --MOD</a><br /><br />Guess the dealextreme cable should work then? <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /></div>
<br />I have no idea, but like Memblers said it's probably not 5V. I don't know enough about electronics to help you with this, sorry. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Thu Mar 03, 2011 12:10 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Memblers wrote:</div><div class="quotecontent">Hilmarf: I bought some USB cables like that (not that exact model, but a different clone of that clone probably, identifies as a Prolific chip but I forget the model), but haven't been able to get it to work with my setup yet.  The TTL part is 3V and not 5V, which could be the problem maybe.  I put a series resistor on the output from NES and hoped it would take the 5V, but it doesn't seem to like it.</div>
<br />The PL2303 is explicitly 5V tolerant, so I'm a little skeptical that's it. And 3.3V logic certainly looks like it would be compatible with TTL...

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Hilmarf</b> [ Thu Mar 03, 2011 2:06 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />What's worst case scenario? Could I fry my NES?..or worse, my PowerPak?

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>2</strong> of <strong>5</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>