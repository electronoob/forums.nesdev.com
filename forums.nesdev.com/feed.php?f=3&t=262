<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="http://forums.nesdev.com/feed.php?f=3&amp;t=262" />

<title>nesdev.com</title>
<subtitle>NES Development and Strangulation Records message boards</subtitle>
<link href="http://forums.nesdev.com/index.php" />
<updated>2005-04-04T13:43:07-07:00</updated>

<author><name><![CDATA[nesdev.com]]></name></author>
<id>http://forums.nesdev.com/feed.php?f=3&amp;t=262</id>
<entry>
<author><name><![CDATA[Hyde]]></name></author>
<updated>2005-04-04T13:43:07-07:00</updated>
<published>2005-04-04T13:43:07-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=262&amp;p=1757#p1757</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=262&amp;p=1757#p1757"/>
<title type="html"><![CDATA[a few MMC3 questions]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=262&amp;p=1757#p1757"><![CDATA[
Man, thanks for pointing that out. I was not allowing the counter to be updated during VBlanks, but now I do and everything works just fine. You da man now, dog!<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=22">Hyde</a> — Mon Apr 04, 2005 1:43 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Marty]]></name></author>
<updated>2005-04-03T16:27:43-07:00</updated>
<published>2005-04-03T16:27:43-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=262&amp;p=1750#p1750</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=262&amp;p=1750#p1750"/>
<title type="html"><![CDATA[a few MMC3 questions]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=262&amp;p=1750#p1750"><![CDATA[
<div class="quotetitle">Hyde wrote:</div><div class="quotecontent"><br />I implemented this on my emulator in the hopes that it would fix Star Wars (E), but nothing happened. Oh well...<br /></div><br />The IRQ counter goes supposedly off one time during VBLANK when the game accesses the palette via $2006/$2007.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=37">Marty</a> — Sun Apr 03, 2005 4:27 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Hyde]]></name></author>
<updated>2005-04-01T09:15:37-07:00</updated>
<published>2005-04-01T09:15:37-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=262&amp;p=1739#p1739</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=262&amp;p=1739#p1739"/>
<title type="html"><![CDATA[a few MMC3 questions]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=262&amp;p=1739#p1739"><![CDATA[
I implemented this on my emulator in the hopes that it would fix Star Wars (E), but nothing happened. Oh well...<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=22">Hyde</a> — Fri Apr 01, 2005 9:15 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Marty]]></name></author>
<updated>2005-04-01T04:25:30-07:00</updated>
<published>2005-04-01T04:25:30-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=262&amp;p=1738#p1738</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=262&amp;p=1738#p1738"/>
<title type="html"><![CDATA[a few MMC3 questions]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=262&amp;p=1738#p1738"><![CDATA[
<div class="quotetitle">Hyde wrote:</div><div class="quotecontent"><br />What exactly do you mean by that? Do you just update the counter on A12 rising edges and then not allow the counter to be decremented for 16 cycles?<br /></div><br />Exactly, on every rising edge I clock the counter only if 16 or more PPU cycles have elapsed since the previous occurred. As for 16 cycles, it's a nice and fit number and big enough to prevent the counter from doing its thing on *every* upper pattern-table access during an active scanline. The BTLTEK2A cart (mapper 90) on the other hand does not seem to care at all, it goes ahead and clock the counter every chance it gets.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=37">Marty</a> — Fri Apr 01, 2005 4:25 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[hap]]></name></author>
<updated>2005-04-01T04:20:04-07:00</updated>
<published>2005-04-01T04:20:04-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=262&amp;p=1737#p1737</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=262&amp;p=1737#p1737"/>
<title type="html"><![CDATA[a few MMC3 questions]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=262&amp;p=1737#p1737"><![CDATA[
err.. Guest=me<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=115">hap</a> — Fri Apr 01, 2005 4:20 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Anonymous]]></name></author>
<updated>2005-04-01T03:46:20-07:00</updated>
<published>2005-04-01T03:46:20-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=262&amp;p=1736#p1736</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=262&amp;p=1736#p1736"/>
<title type="html"><![CDATA[a few MMC3 questions]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=262&amp;p=1736#p1736"><![CDATA[
<div class="quotetitle">Marty wrote:</div><div class="quotecontent"><br />It could be that your DMC DMA timing is off.<br /></div><br /><br />There isn't any <img src="http://forums.nesdev.com/images/smilies/icon_razz.gif" alt=":P" title="Razz" /> (no sound emulation yet)<br />But I doubt it's due to that, since many many mmc3 games show that same wrong behaviour. I've some ideas that could fix it but not yet applied them.<p>Statistics: Posted by Guest — Fri Apr 01, 2005 3:46 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Zepper]]></name></author>
<updated>2005-03-31T18:50:54-07:00</updated>
<published>2005-03-31T18:50:54-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=262&amp;p=1735#p1735</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=262&amp;p=1735#p1735"/>
<title type="html"><![CDATA[a few MMC3 questions]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=262&amp;p=1735#p1735"><![CDATA[
<div class="quotetitle">tepples wrote:</div><div class="quotecontent"><br />A few tiles at the left side of the area between SMB3's playfield and status bar flicker on my NES.<br /></div><br /><br />Much like MegaMan 3... <img src="http://forums.nesdev.com/images/smilies/icon_smile.gif" alt=":)" title="Smile" /><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=39">Zepper</a> — Thu Mar 31, 2005 6:50 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Hyde]]></name></author>
<updated>2005-03-31T17:44:20-07:00</updated>
<published>2005-03-31T17:44:20-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=262&amp;p=1734#p1734</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=262&amp;p=1734#p1734"/>
<title type="html"><![CDATA[a few MMC3 questions]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=262&amp;p=1734#p1734"><![CDATA[
<div class="quotetitle">Marty wrote:</div><div class="quotecontent"><br />I simply block it for 16 PPU cycles after each toggle and that has worked fine for me so far.<br /></div><br /><br />What exactly do you mean by that? Do you just update the counter on A12 rising edges and then not allow the counter to be decremented for 16 cycles?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=22">Hyde</a> — Thu Mar 31, 2005 5:44 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2005-03-31T17:06:50-07:00</updated>
<published>2005-03-31T17:06:50-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=262&amp;p=1733#p1733</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=262&amp;p=1733#p1733"/>
<title type="html"><![CDATA[a few MMC3 questions]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=262&amp;p=1733#p1733"><![CDATA[
A few tiles at the left side of the area between SMB3's playfield and status bar flicker on my NES.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Thu Mar 31, 2005 5:06 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Marty]]></name></author>
<updated>2005-03-31T14:20:48-07:00</updated>
<published>2005-03-31T14:20:48-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=262&amp;p=1732#p1732</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=262&amp;p=1732#p1732"/>
<title type="html"><![CDATA[a few MMC3 questions]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=262&amp;p=1732#p1732"><![CDATA[
It could be that your DMC DMA timing is off. <br />Speaking of SMB3, does anyone know if the leftmost tile at the beginning of the statusbar flickers on the real thing as well?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=37">Marty</a> — Thu Mar 31, 2005 2:20 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[hap]]></name></author>
<updated>2005-03-30T03:06:40-07:00</updated>
<published>2005-03-30T03:06:40-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=262&amp;p=1729#p1729</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=262&amp;p=1729#p1729"/>
<title type="html"><![CDATA[a few MMC3 questions]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=262&amp;p=1729#p1729"><![CDATA[
Thanks, though it didn't have effect on the problems in my MMC3 emulation (the bottom part of the screen shakes by 1 line when vertical scrolling is used, eg. smb3 statusbar when you're flying)... *scratches forehead* I'll figure it out.. sooner or later ;p<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=115">hap</a> — Wed Mar 30, 2005 3:06 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Marty]]></name></author>
<updated>2005-03-29T06:33:09-07:00</updated>
<published>2005-03-29T06:33:09-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=262&amp;p=1728#p1728</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=262&amp;p=1728#p1728"/>
<title type="html"><![CDATA[a few MMC3 questions]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=262&amp;p=1728#p1728"><![CDATA[
<div class="quotetitle">hap wrote:</div><div class="quotecontent"><br />nesdev wiki MMC3: "The MMC3 scanline counter is based entirely on PPU A12, triggered on rising edges (after the line remains low for a sufficiently long period of time)." <br /><br />Has it ever been measured how many cycles this sufficiently long period of time is ? I'm currently guessing it at each hblank, but that gives problems in some games (could also be due to something else of course).<br /></div><br /><br />Not that I'm aware of. I simply block it for 16 PPU cycles after each toggle and that has worked fine for me so far.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=37">Marty</a> — Tue Mar 29, 2005 6:33 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Anes]]></name></author>
<updated>2005-03-29T04:35:54-07:00</updated>
<published>2005-03-29T04:35:54-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=262&amp;p=1727#p1727</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=262&amp;p=1727#p1727"/>
<title type="html"><![CDATA[a few MMC3 questions]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=262&amp;p=1727#p1727"><![CDATA[
thanks a lot !!!  <img src="http://forums.nesdev.com/images/smilies/icon_smile.gif" alt=":)" title="Smile" /><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=72">Anes</a> — Tue Mar 29, 2005 4:35 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[hap]]></name></author>
<updated>2005-03-29T04:25:38-07:00</updated>
<published>2005-03-29T04:25:38-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=262&amp;p=1726#p1726</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=262&amp;p=1726#p1726"/>
<title type="html"><![CDATA[a few MMC3 questions]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=262&amp;p=1726#p1726"><![CDATA[
And 1 from me too, which has probably been overlooked in the 'some questions' thread <img src="http://forums.nesdev.com/images/smilies/icon_razz.gif" alt=":P" title="Razz" /><br /><br /><br />nesdev wiki MMC3: "The MMC3 scanline counter is based entirely on PPU A12, triggered on rising edges (after the line remains low for a sufficiently long period of time)." <br /><br />Has it ever been measured how many cycles this sufficiently long period of time is ? I'm currently guessing it at each hblank, but that gives problems in some games (could also be due to something else of course).<br /><br />---<br /><br />as for your questions, although with my little knowledge i'll try to answer:<br /><br />1: i don't know what's the maximum prg size mmc3 supports, i think it's unimportant.<br />8001 cmd 0,1: AND with 0xfe AND number of 1k vrom banks-1.<br />cmd 2,3,4,5: AND with number of 1k vrom banks-1.<br />cmd 6,7: AND with number of 8k prg banks-1.<br /><br />2: yes, almost all mmc3 games which use split screen scrolling use irqs. one i know that doesn't use it is super mario bros 2.<br /><br />3, 3-1: i don't understand<br /><br />4: it'll copy to 800-fff, or 1800-1fff, there's no such thing as passing the limit of pt0 or writing into nametables.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=115">hap</a> — Tue Mar 29, 2005 4:25 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Anes]]></name></author>
<updated>2005-03-29T00:30:26-07:00</updated>
<published>2005-03-29T00:30:26-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=262&amp;p=1725#p1725</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=262&amp;p=1725#p1725"/>
<title type="html"><![CDATA[a few MMC3 questions]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=262&amp;p=1725#p1725"><![CDATA[
1- Which is the maximum prg-rom mem that a mmc3 cart can support?<br />I dont know if its a rom problem or what cos some games write $fe to $8001 and of course the game doesnt have to much memory.<br />I mean wich value should i "AND" the $8001 value?<br />I have been trying with different values and some games work and others doesnt.<br /><br />2 - Is IRQ generation mandatory? wich games uses it?<br /><br />3 - Is it ok when ctrl reg $8000 is written to hard wire prg-rom according to bit 6?<br />3.1 - The bank to hardwire is : (cPrgRomsBanks - 2) * 0x2000; ???<br /><br />4 - Why command "1" copies to ppu $800 or $1800 2k or mem. doing so will pass in -1- the limit of pt0 and in -2- will write into name tables.<br /><br />Help Please<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=72">Anes</a> — Tue Mar 29, 2005 12:30 am</p><hr />
]]></content>
</entry>
</feed>