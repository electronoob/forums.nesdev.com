<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Ninja of the Kick -- Test Stages and an Enemy Added</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Ninja of the Kick -- Test Stages and an Enemy Added</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=22&amp;t=12168">http://forums.nesdev.com/viewtopic.php?f=22&amp;t=12168</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>HLorenzi</b> [ Thu Dec 25, 2014 10:20 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Ninja of the Kick -- Test Stages and an Enemy Added</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />(That name.....I just quickly made it up.)<br /><br />After considering concepts about my other demos (<a href="http://forums.nesdev.com/viewtopic.php?f=22&amp;t=11965" class="postlink">http://forums.nesdev.com/viewtopic.php?f=22&amp;t=11965</a>), I've come up with another kind of gameplay that I think can bring in many possibilities of level design. Someone might have done a game like this before, but I usually do not play a lot of games, so who knows?<br /><br /><img src="https://dl.dropboxusercontent.com/u/22954866/ninja4.PNG" alt="Image" /><img src="https://dl.dropboxusercontent.com/u/22954866/ninja4b.PNG" alt="Image" /><br /><br /><strong>Concept test: <a href="https://dl.dropboxusercontent.com/u/22954866/ninja4old.nes" class="postlink">https://dl.dropboxusercontent.com/u/22954866/ninja4old.nes</a><br />More advanced: <a href="https://dl.dropboxusercontent.com/u/22954866/ninja4.nes" class="postlink">https://dl.dropboxusercontent.com/u/22954866/ninja4.nes</a><br /><span style="text-decoration: underline"><br />The START button spawns an apple. The SELECT button spawns an enemy.</strong></span><br /><br />So, the idea is about kicking. The player can kick objects into the air, and then kick them again to project them further. You'd be able to also kick enemies, kick things into switches, knock things off high ledges, keep things in the air for some time for bonuses, kick things into enemies, etc. I've also thought of two-player coop gameplay (the players would be able to play a sort of volleyball by kicking things to each other, which might be fun). Once you grasp the controls, you can do some cool stuff like kicking things backwards and over walls. <br /><br />Anyway, I'd like to know whether controlling the game is fine or maybe too difficult (like kicking in the air, or making apples go over the top of that wall). I'd also like to have people's opinion on the general concept. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br /><br />(Also, I'm really proud of the 8x8 tile collision and physics  <img src="./images/smilies/icon_razz.gif" alt=":P" title="Razz" />)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Fri Dec 26, 2014 1:57 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Ninja of the Kick -- Concept Gameplay Test</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I highly recommend turning on that &quot;Enable more than 8 sprites per scanline&quot; option)</div><br />If you draw an apple on the background when it's not moving and then turn it back into a sprite once it starts moving again, that won't be as necessary. Think of what <em>Super Mario Bros.</em> does when you bash a 10 coin block or <em>Super Mario Bros. 2</em> does when you toss a mushroom block or <em>Crystal Mines</em>, <em>Exodus</em>, and <em>Joshua</em> do when rocks and pickups fall down. Do you think you'll be able to put that in? Otherwise, it might need to be ported to the Super NES.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Pokun</b> [ Fri Dec 26, 2014 2:03 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Ninja of the Kick -- Concept Gameplay Test</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />It's very cool and interesting with good music and graphics (as was your earlier demos), but it's unplayable in Nestopia and Nintendolator due to graphical glitches.<br /><br />Controls are great.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>HLorenzi</b> [ Fri Dec 26, 2014 3:56 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Ninja of the Kick -- Concept Gameplay Test</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">If you draw an apple on the background when it's not moving and then turn it back into a sprite once it starts moving again, that won't be as necessary. Think of what <em>Super Mario Bros.</em> does when you bash a 10 coin block or <em>Super Mario Bros. 2</em> does when you toss a mushroom block or <em>Crystal Mines</em>, <em>Exodus</em>, and <em>Joshua</em> do when rocks and pickups fall down. Do you think you'll be able to put that in? Otherwise, it might need to be ported to the Super NES.</div><br />But the objects' collision boxes are not aligned to, nor the same size of a tile. I'd like objects to overlap somewhat, and to have pixel-perfect positions for physics purposes (I've always disliked how mushroom blocks from SMB2 align into place after coming to a stop, although knowing the technical reasons for that).<br /><br />Also, if the game had so many objects on-screen that it would need to replace them with tiles, then the extra time for updating nametables would, I think, overflow V-blank time, and the problem would not be solved (not even taking into account frame time overflow due to physics computation). There just isn't extra performance or memory on the NES, I guess. I'd like to mantain things at 60 frames per second.  <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /> <br /><br />It's best to just avoid having so many objects, specially many objects at a single scanline. Changing to the SNES? But we just looove the NES. Might as well just go for the PS4 then.  <img src="./images/smilies/icon_razz.gif" alt=":P" title="Razz" /> <br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">It's very cool and interesting with good music and graphics (as was your earlier demos), but it's unplayable in Nestopia and Nintendolator due to graphical glitches.<br /><br />Controls are great.</div><br />Thank you for the feedback! While it might work flawlessly on the FCEUX, I should switch to these other emulators... I hear they're more precise, or picky about stuff? I'll give them a go to check out these glitches for myself.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Fri Dec 26, 2014 4:14 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Ninja of the Kick -- Concept Gameplay Test</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />SMB2 aligns its mushroom blocks to 16-pixel boundaries because of the color area grid. But if all things in the background that aren't brick are apples, you can fill the entire rest of the background with apple color. Then you can align still apples to 4-pixel boundaries and the player won't be as likely to notice. Say your apples are 12 pixels wide. If you have &quot;left two-thirds of an apple&quot; and &quot;right two-thirds of an apple&quot; tiles for each rotation, then you can use the &quot;left two-thirds&quot; tile for apples whose X position mod 8 is 0 and the &quot;right two-thirds&quot; tile for apples whose X position mod 8 is 4. The other half of each apple would be drawn as sprites. Do you want me to draw and attach a diagram of what I'm talking about?<br /><br />The key to efficient video memory updates on NES is to plan out all the updates to a buffer in $0100-$019F during normal draw time and then copy them to video memory during vertical blanking time. If an apple has frozen, copy it to the background. If an apple has started to move, remove it from the background. It shouldn't be too difficult to start or stop a dozen apples in one frame if you make a list of what to add and what to remove before the start of vblank.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Fri Dec 26, 2014 10:25 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Ninja of the Kick -- Concept Gameplay Test</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">HLorenzi wrote:</div><div class="quotecontent">Also, I'm really proud of the 8x8 tile collision and physics</div><br />The physics is indeed pretty cool.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I highly recommend turning on that &quot;Enable more than 8 sprites per scanline&quot; option</div><br />My NES/Famicom consoles don't seem to have such an option... <img src="./images/smilies/icon_wink.gif" alt=":wink:" title="Wink" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>koitsu</b> [ Fri Dec 26, 2014 11:05 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Ninja of the Kick -- Concept Gameplay Test</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">HLorenzi wrote:</div><div class="quotecontent">I highly recommend turning on that &quot;Enable more than 8 sprites per scanline&quot; option)</div><br />And I highly recommend <a href="http://wiki.nesdev.com/w/index.php/Sprite_overflow_games" class="postlink">people do not</a>.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>rainwarrior</b> [ Sat Dec 27, 2014 12:15 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Ninja of the Kick -- Concept Gameplay Test</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />It's a fun little demo. The sprites kinda remind me of Bubble Bobble and Dig Dug.<br /><br />I would recommend that you update your sfx/music in the NMI routine, rather than inline with the game update. That way, slowdown doesn't have to affect the music and sound effects.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Drag</b> [ Sat Dec 27, 2014 12:43 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Ninja of the Kick -- Concept Gameplay Test</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />To improve sprites, try using a different OAM shuffling technique. Here's one that works for me:<br /><br />Offset = 0<br />CurrIndex = 0<br /><br />Each time you start a new OAM table:<br />Offset += $34<br />CurrIndex = Offset<br /><br />Each time you allocate a sprite, allocate the one whose Y position byte is the one at CurrIndex, and then:<br />CurrIndex -= $0C<br /><br />This'll produce a &quot;rolling&quot; flicker that'll evenly distribute the flickering among all sprites on that scanline, instead of just having two sprites that flicker at 50%, and invisible(!) sprites when there's more than 16.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Sat Dec 27, 2014 10:35 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Ninja of the Kick -- Concept Gameplay Test</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent"><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I highly recommend turning on that &quot;Enable more than 8 sprites per scanline&quot; option</div><br />My NES/Famicom consoles don't seem to have such an option... <img src="./images/smilies/icon_wink.gif" alt=":wink:" title="Wink" /></div><br />Then add my <a href="http://wiki.nesdev.com/w/index.php/Enhancement#Overdraw" class="postlink">revised 15-sprite fetch pattern suggestion</a> to the FPGA :-p

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>HLorenzi</b> [ Sat Dec 27, 2014 11:20 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Ninja of the Kick -- Concept Gameplay Test</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">And I highly recommend <a href="http://wiki.nesdev.com/w/index.php/Sprite_overflow_games" class="postlink">people do not</a>.</div><br />I know, I'd never want people to circumvent the NES's original design. But it really gets difficult to watch those apples pushing each other when everything flickers.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I would recommend that you update your sfx/music in the NMI routine, rather than inline with the game update. That way, slowdown doesn't have to affect the music and sound effects.</div><br />Done! I've organized everything and fixed that, along with the graphical glitches on precise emulators (and hopefully the real NES).<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">To improve sprites, try using a different OAM shuffling technique. Here's one that works for me</div><br />Thanks! I've implemented it as suggested. But maybe it flickers too infrequently? I don't know; if more than 16 sprites at a scanline turns out to be uncommon on the final game, maybe it's better to have 50% flicker?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Drag</b> [ Sat Dec 27, 2014 1:46 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Ninja of the Kick -- Concept Gameplay Test</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">HLorenzi wrote:</div><div class="quotecontent">Thanks! I've implemented it as suggested. But maybe it flickers too infrequently? I don't know; if more than 16 sprites at a scanline turns out to be uncommon on the final game, maybe it's better to have 50% flicker?</div><br />It does indeed seem like it'd be very difficult to have 16+ sprites on the same scanline in this particular game, so it's really up to you. It's still good to know of alternative methods though. <img src="./images/smilies/icon_razz.gif" alt=":P" title="Razz" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Pokun</b> [ Mon Dec 29, 2014 11:45 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Ninja of the Kick -- Concept Gameplay Test</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Much better, except this time I didn't hear any music at all (Nestopia). I would rather try to make some kind of rule in the final game that destroys objects before too many of them appear on the same scanline.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>OneCrudeDude</b> [ Mon Dec 29, 2014 7:34 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Ninja of the Kick -- Concept Gameplay Test</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />All this talk about scanline overflow reminds me of one of the endings for one of the Dangan Ronpa characters.  The boy who looks suspiciously like a girl is placed into a console not unlike the Famicom, in a game not unlike SMB.  Indeed, the graphics are obviously half assed edits from said game's sprites.  The boy is chased and stalked by numerous evil bears, and if too many of them are on screen, the boy will disappear.  Despite referencing the NES, the graphical quirks, and SMB, all belonging to Nintendo, this game does not appear on Nintendo consoles, and likely will not thanks to Sony's impenetrable grip on the market.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>HLorenzi</b> [ Sat Jan 03, 2015 11:57 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Ninja of the Kick -- Concept Gameplay Test</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Well, I've implemented an enemy now (though you still can't take damage). More importantly, I've implemented scrolling and done a bit of work on the levels. I've put it at the first post!

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>