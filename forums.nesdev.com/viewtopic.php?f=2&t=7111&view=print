<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Tool: MapEd Pro</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Tool: MapEd Pro</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=2&amp;t=7111">http://forums.nesdev.com/viewtopic.php?f=2&amp;t=7111</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>5</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>never-obsolete</b> [ Fri Oct 29, 2010 8:35 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Tool: MapEd Pro</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Here is a tile based map editor that I started some time ago. I add features as I need them, and its gotten to the point where I think others might find it useful.<br /><br />Features include:<br /><br />-metatile formats:<br />  2x2<br />  4x4, 4x4(2x2)<br />  8x8, 8x8(2x2), 8x8(4x4), 8x8(4x4:2x2)<br />  data can be sequential or interleaved<br /><br />-metatile properties:<br />  can be 1 to N bytes per metatile. these have no use within the editor, it's up to the programmer to determine what they are used for.<br /><br />-map formats:<br />  screen or area based<br />    &quot;screen&quot;: measured in screens. size of a screen is customizable<br />    &quot;area&quot;:   measured in metatiles<br />  data can be in rows or columns<br />  data can be compressed with RLE, LZ77, or LZSS (variations denoted by the &quot;a&quot; or &quot;as&quot; suffixes).<br />  <br />-chr:<br />  supports multiple small files (min size = 1K) or one big file<br />  supports 1K, 2K, and 4K banking schemes<br /><br />-palettes:<br />  nothing fancy, 32 byte arrays.<br /><br />The readme explains the formats of all the files the editor creates.<br /><br /><s>MapEd Pro.zip</s><br /><br />Here are some demos I put together using different configurations. I recreated SMB's 1-1, CV2's Jova and Jova Woods1, and Ninja Gaiden's 1-1.<br /><br /><s>MEP Demo.zip</s><br /><br />Bugs, comments, suggestions are welcome.<br /><br />*Note: because of changes in the map format and a more flexible chr scheme, previous versions are not directly compatible with this one.<br /><br /><br />edit: uploaded v0.29.0<br />edit: uploaded v0.30.0

		
			<br clear="all" /><br />

			<table class="tablebg" width="100%" cellspacing="1">
			<tr>
				<td><b class="genmed">Attachments: </b></td>
			</tr>
			
				<tr>
					<td>
			<span class="genmed">
				<img src="./styles/subsilver2/imageset/icon_topic_attach.gif" width="14" height="18" alt="" title="" /> 
				<a href="./download/file.php?id=9789">MapEd Pro v0300.zip</a> [1.01 MiB]
			</span><br />
			<span class="gensmall">Downloaded 149 times</span>
		

		<br />
	</td>
				</tr>
			
				<tr>
					<td>
			<span class="genmed">
				<img src="./styles/subsilver2/imageset/icon_topic_attach.gif" width="14" height="18" alt="" title="" /> 
				<a href="./download/file.php?id=9785">MapEd Pro v0290.zip</a> [120.78 KiB]
			</span><br />
			<span class="gensmall">Downloaded 104 times</span>
		

		<br />
	</td>
				</tr>
			
			</table>
		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Fri Oct 29, 2010 10:11 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Seems really good! Has about all features that I would want from a map editor. So far I've been using <a href="http://www.tilemap.co.uk/mappy.php" class="postlink">Mappy</a> with custom hacky LUA scripts to export the data in NES compatible formats, but your tool seems better.
<br />
<br />One problem I noticed with the examples, the CV2 and Ninja Gaiden example files have absolute paths in the MCF file so had to edit them before I could get them to open.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Fri Oct 29, 2010 10:15 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Sounds like AWESOME to me !!
<br />So far I always did my maps with .db statements.
<br />
<br />EDIT : Only the SMB demo works so far for me.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>never-obsolete</b> [ Fri Oct 29, 2010 10:23 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">thefox wrote:</div><div class="quotecontent">One problem I noticed with the examples, the CV2 and Ninja Gaiden example files have absolute paths in the MCF file so had to edit them before I could get them to open.<br /></div>
<br />
<br />Whoops, I thought I got them all. Updated the zip with corrected files.
<br />
<br />@Bregalad: It should work now, it was probably the same issue thefox was having.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>UncleSporky</b> [ Fri Oct 29, 2010 10:52 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Finally releasing this, huh? <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />
<br />
<br />This is an awesome and very useful utility, one of the best I've seen for helping with new game creation.  Of course metatiles are only one way to do things, but they are common and efficient.
<br />
<br />Like a lot of other people I've got my game ideas that still haven't taken off, but I'll definitely use this when I get to that stage.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>never-obsolete</b> [ Fri Oct 29, 2010 12:43 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Yeah, I've been sitting on this thing for awhile now. I would end up adding something new, and not having the time to test it with all the possible configurations.
<br />
<br />I bought Kirby's Epic Yarn yesterday, so it was either now or New Years...  <img src="./images/smilies/icon_wink.gif" alt=":wink:" title="Wink" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>neilbaldwin</b> [ Sat Oct 30, 2010 1:31 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><img src="http://dl.dropbox.com/u/5493868/maped_error.png" alt="Image" />
<br />
<br /><img src="./images/smilies/icon_sad.gif" alt=":(" title="Sad" />
<br />
<br />I tried installing "Microsoft Visual Basic 6.0 Common Controls" from MS support site (searched for the error on the net) but that didn't fix it.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Sat Oct 30, 2010 9:10 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Ok, to be honnest this editor sounds like revolutionary to me ! I always had to do my maps with pencil on paper, and port it to .db manually until now.
<br />Then I had to check for erros in my .db statements (as I RLE compress the thing manually, so this is prone to errors).
<br />
<br />The release of this flexible and NES specific tool was completely unexpected from me. I think I'll probably use it but I don't know for my current project as I started without it, and the exact compression format I use isn't featured so I'd have to either re-code decompression (including for older maps that I already encoded manually), or just finish my current project with the old method and use the new one for all my future projects.
<br />
<br />EDIT : What is that proprety thing ? Collision detection ?
<br />
<br />EDIT II : Sorry for the bother, but maybe the program should add more flexibilty / efficiency for compression. This could be left for another program but since compression is implemented I'd like to see it better implemented :
<br />- RLE comression as used here is almost useless, because for every part of the map which is build with non-runs of metatiles, it will take a "lenght = 1" byte before it, which makes it terribly inefficient. There is several workarounds that would come in mind: Have one "run" flag in each byte, if clear it's a 7-bit litternal, and if set then the 7-bit litteral is followed by the # of times it's repeated.
<br />Or you could have everything coded in 7-bit runs blocks, with the upper bit toggling between a block of a signle metatile, or a block of distinct metatiles.
<br />Or eventually the solution I used in my game, the high 3 bits are the run size minus one, and the low 5 bits the metatile # (yes, I only have 32 metatiles to chose from).
<br />
<br />The fact that you could use less than 8 bit for metatiles encoding should also be exploited in other compression shemes, especially those which are not byte aligned anyway (you don't want any useless '0' bits in your compressed stream).
<br />
<br />The LZSS and LZSSa algorithms seems to produce exactly identical output to me.
<br />
<br />The "export map to txt" feature seems to always export an uncompressed map (not that this feature is much useful anyway as you can just .incbin the binary map).
<br />
<br />Finally, I guess in the case of screen-based maps, you'd want to stop the compression stream when the map is screen aligned, and be able to export pointers to each screens.
<br />For area based maps, you'd want to do that for either rows or columns. The reason for this is to get a way to quickly acess the maps when scrolling, even with the compression.
<br />
<br />In my project I have it screen based and stored like this for every level :
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">MapPointers<br />.dw Level1Map1<br />.dw Level2Map2<br />.dw ....<br /><br />Level1Map1<br />.db $xx, $xx<br /><br />Level2Map2<br />.db $xx, $xx<br /></div><br />(I call a Map what is called a Screen in MEP), and those also have an header to know which maps/screen it warps to in each direction.<br /><br />If doing it with this editor, it sound painful to have like 40 ".map" files for each level, so maybe it's better to have a ".asm" file automatically generated with labels, pointers and .db statements. Then it becomes possible to manually add more data, such as screen headers.[/code]

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Ian A</b> [ Sat Oct 30, 2010 10:18 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Awesome!  Thanks a bunch!
<br />
<br />EDIT:
<br />That's not much more than a 'me too!' post, but although I can't use it, I appreciate the contribution!

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>koitsu</b> [ Sat Oct 30, 2010 10:27 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">neilbaldwin wrote:</div><div class="quotecontent"><img src="http://dl.dropbox.com/u/5493868/maped_error.png" alt="Image" /><br /><br />:(<br /><br />I tried installing "Microsoft Visual Basic 6.0 Common Controls" from MS support site (searched for the error on the net) but that didn't fix it.</div>
<br />
<br />Same.  As a result, I'll pass.  :)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Sat Oct 30, 2010 11:26 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Any chance that the UI could be improved in future versions? <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dwedit</b> [ Sat Oct 30, 2010 12:36 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I wonder if I should release the map editor I'm working on.  It's in C#, and it's an abstract class designed to be inherited from.  It also doesn't work on Windows 7 because I'm using Managed DirectDraw.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>never-obsolete</b> [ Sat Oct 30, 2010 1:02 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />@neilbaldwin and koitsu
<br />Are you by chance running Vista or Windows7?
<br />
<br />@Bregalad
<br />Properties can be collision detection, or whatever you want. The editor doesn't use it for anything, it just allows you to associate data with your metatiles.
<br />
<br />The difference between LZSS and LZSSa is that LZSS is bit oriented and LZSSa is byte oriented. I use LZSSa because the decompressor was easier to code.
<br />
<br />Thanks for the comments on RLE and compressing screen based maps. I'll have to add those to my todo list.
<br />
<br />@thefox
<br />What did you have in mind?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>koitsu</b> [ Sat Oct 30, 2010 1:14 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">never-obsolete wrote:</div><div class="quotecontent">@neilbaldwin and koitsu<br />Are you by chance running Vista or Windows7?</div>
<br />
<br />No.  I run Windows XP SP3.  You're not going to get me to "mess around" with random Visual Basic runtimes and other crap either.  Sorry, I'm a total hard-ass about it; I Just Don't Do That.  That's my own fault/problem/issue and not yours.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Sat Oct 30, 2010 1:18 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">never-obsolete wrote:</div><div class="quotecontent">Thanks for the comments on RLE and compressing screen based maps. I'll have to add those to my todo list.<br /></div>
<br />Thank you, hopefully a newer version with those will be released !!
<br />
<br />I have the program running fine in Windows 7. I haven't installed any runtime libraries or wathever (at least to my knowledge).

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>5</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>