<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="http://forums.nesdev.com/feed.php?f=3&amp;t=8449" />

<title>nesdev.com</title>
<subtitle>NES Development and Strangulation Records message boards</subtitle>
<link href="http://forums.nesdev.com/index.php" />
<updated>2011-12-24T20:40:13-07:00</updated>

<author><name><![CDATA[nesdev.com]]></name></author>
<id>http://forums.nesdev.com/feed.php?f=3&amp;t=8449</id>
<entry>
<author><name><![CDATA[kode54]]></name></author>
<updated>2011-12-24T20:40:13-07:00</updated>
<published>2011-12-24T20:40:13-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8449&amp;p=87951#p87951</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8449&amp;p=87951#p87951"/>
<title type="html"><![CDATA[64bit native emulator ?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8449&amp;p=87951#p87951"><![CDATA[
I found that QuickNES was a good 50% faster when built with MSVC 64-bit, compared to 32-bit. Of course that was in 2009, so it was obviously built with MSVC 2008.<br /><br />For example, running Battletoads (U) into a null output with no throttling, for 4 seconds:<br /><br />32-bit:<br />Performance: 8684 frames per second, which would use 0% CPU at 60 FPS<br /><br />64-bit:<br />Performance: 12621 frames per second, which would use 0% CPU at 60 FPS<br /><br /><br />Did I mention that QuickNES also benefits from having more registers to play with?<br /><br /><br />I should recompile these benchmark tools with MSVC 2010, and also see if the cycle count changes I've made since then affect anything much. Also note that GCC 64-bit, at least when I tested it back then, performed barely better than the MSVC 32-bit build.<br /><br />Any better suggestions for a demo or test or whatever which would be more taxing on the emulator, without requiring any user input?<br /><br />Of course, all this is irrelevant for real-time emulation, until you get to the high speed fast forwarding and movie seeking that QuickNES also supports, enhanced by keeping snapshots every 5 minutes or so.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=139">kode54</a> — Sat Dec 24, 2011 8:40 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[miker00lz]]></name></author>
<updated>2011-12-24T20:28:26-07:00</updated>
<published>2011-12-24T20:28:26-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8449&amp;p=87950#p87950</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8449&amp;p=87950#p87950"/>
<title type="html"><![CDATA[64bit native emulator ?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8449&amp;p=87950#p87950"><![CDATA[
<div class="quotetitle">James wrote:</div><div class="quotecontent"><br />The 64-bit version of nemulator is slightly faster (a couple of %, IIRC).  Presumably the additional registers help.<br /></div><br /><br />if you're very clever, you could probably figure out a way to get a small boost with 64-bit regs; maybe in some video filtering/stretching algorithm or something, but there is nothing in the basics of NES emulation that is going to benefit.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4572">miker00lz</a> — Sat Dec 24, 2011 8:28 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[James]]></name></author>
<updated>2011-12-24T19:44:14-07:00</updated>
<published>2011-12-24T19:44:14-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8449&amp;p=87949#p87949</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8449&amp;p=87949#p87949"/>
<title type="html"><![CDATA[64bit native emulator ?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8449&amp;p=87949#p87949"><![CDATA[
The 64-bit version of nemulator is slightly faster (a couple of %, IIRC).  Presumably the additional registers help.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=88">James</a> — Sat Dec 24, 2011 7:44 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2011-12-24T18:58:07-07:00</updated>
<published>2011-12-24T18:58:07-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8449&amp;p=87947#p87947</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8449&amp;p=87947#p87947"/>
<title type="html"><![CDATA[64bit native emulator ?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8449&amp;p=87947#p87947"><![CDATA[
<div class="quotetitle">miker00lz wrote:</div><div class="quotecontent"><br />you could even compile to 16-bit real-mode code and you probably wouldn't see a bit of difference between that and 32-bit.<br /></div><br />It's just that the 64-bit operating systems shipped on PCs nowadays have dropped support for 16-bit modes. Home versions of Windows went 32-bit in 1995 (Windows 95) and 64-bit in 2006 (Windows Vista). I wonder how long latest version of majority OS will continue to support 32-bit code without needing a separate copy of the operating system run in a virtual machine.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Sat Dec 24, 2011 6:58 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[MottZilla]]></name></author>
<updated>2011-12-24T16:25:20-07:00</updated>
<published>2011-12-24T16:25:20-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8449&amp;p=87934#p87934</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8449&amp;p=87934#p87934"/>
<title type="html"><![CDATA[64bit native emulator ?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8449&amp;p=87934#p87934"><![CDATA[
I seem to recall using the 32bit size of integers for helping in rendering. I forget what exactly now, but it had to do with drawing strips of tiles.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=1726">MottZilla</a> — Sat Dec 24, 2011 4:25 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[miker00lz]]></name></author>
<updated>2011-12-24T16:17:45-07:00</updated>
<published>2011-12-24T16:17:45-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8449&amp;p=87932#p87932</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8449&amp;p=87932#p87932"/>
<title type="html"><![CDATA[64bit native emulator ?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8449&amp;p=87932#p87932"><![CDATA[
<div class="quotetitle">Dwedit wrote:</div><div class="quotecontent"><br />Yes, let's use the full 64-bit set of registers just so we can then proceed to the use low 8-bits of each register.  Even 32-bit math is overkill for the CPU part of a NES emulator, since the x86 can natively use the low 8 bits of a register for 8-bit math, almost as if it's a Z80.<br /></div><br /><br />yeah. hell, you could even compile to 16-bit real-mode code and you probably wouldn't see a bit of difference between that and 32-bit.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4572">miker00lz</a> — Sat Dec 24, 2011 4:17 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Dwedit]]></name></author>
<updated>2011-12-24T16:14:12-07:00</updated>
<published>2011-12-24T16:14:12-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8449&amp;p=87931#p87931</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8449&amp;p=87931#p87931"/>
<title type="html"><![CDATA[64bit native emulator ?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8449&amp;p=87931#p87931"><![CDATA[
Yes, let's use the full 64-bit set of registers just so we can then proceed to the use low 8-bits of each register.  Even 32-bit math is overkill for the CPU part of a NES emulator, since the x86 can natively use the low 8 bits of a register for 8-bit math, almost as if it's a Z80.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=53">Dwedit</a> — Sat Dec 24, 2011 4:14 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[miker00lz]]></name></author>
<updated>2011-12-24T16:13:58-07:00</updated>
<published>2011-12-24T16:13:58-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8449&amp;p=87930#p87930</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8449&amp;p=87930#p87930"/>
<title type="html"><![CDATA[64bit native emulator ?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8449&amp;p=87930#p87930"><![CDATA[
FHorse has 32-bit and 64-bit binaries for linux in his PuNES thread.<br /><br /><!-- m --><a class="postlink" href="http://dl.dropbox.com/u/21595068/punes.64bit.tar.gz">http://dl.dropbox.com/u/21595068/punes.64bit.tar.gz</a><!-- m --><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4572">miker00lz</a> — Sat Dec 24, 2011 4:13 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Coldberg]]></name></author>
<updated>2011-12-24T16:09:35-07:00</updated>
<published>2011-12-24T16:09:35-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8449&amp;p=87929#p87929</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8449&amp;p=87929#p87929"/>
<title type="html"><![CDATA[64bit native emulator ?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8449&amp;p=87929#p87929"><![CDATA[
well yeah i understand that but just for the heck of it<br />maybe someone did , just curious<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3584">Coldberg</a> — Sat Dec 24, 2011 4:09 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[miker00lz]]></name></author>
<updated>2011-12-24T16:05:20-07:00</updated>
<published>2011-12-24T16:05:20-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8449&amp;p=87928#p87928</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8449&amp;p=87928#p87928"/>
<title type="html"><![CDATA[64bit native emulator ?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8449&amp;p=87928#p87928"><![CDATA[
just recompile an emu's code for a 64-bit target. i don't really think you're going to gain much with a 64-bit NES emulator. there isn't really anything a NES emu would need to do that is going to gain performance. in my emu for example, the only 64-bit calculations i'm doing are keeping track of how many CPU clocks have been executed and getting timestamps via QueryPerformanceCounter.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4572">miker00lz</a> — Sat Dec 24, 2011 4:05 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Coldberg]]></name></author>
<updated>2011-12-24T15:42:07-07:00</updated>
<published>2011-12-24T15:42:07-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8449&amp;p=87927#p87927</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8449&amp;p=87927#p87927"/>
<title type="html"><![CDATA[64bit native emulator ?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8449&amp;p=87927#p87927"><![CDATA[
Anyone every try doing one ? just for the heck of it ?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3584">Coldberg</a> — Sat Dec 24, 2011 3:42 pm</p><hr />
]]></content>
</entry>
</feed>