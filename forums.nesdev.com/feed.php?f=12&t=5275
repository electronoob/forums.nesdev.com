<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="http://forums.nesdev.com/feed.php?f=12&amp;t=5275" />

<title>nesdev.com</title>
<subtitle>NES Development and Strangulation Records message boards</subtitle>
<link href="http://forums.nesdev.com/index.php" />
<updated>2009-06-16T09:59:20-07:00</updated>

<author><name><![CDATA[nesdev.com]]></name></author>
<id>http://forums.nesdev.com/feed.php?f=12&amp;t=5275</id>
<entry>
<author><name><![CDATA[cybertron]]></name></author>
<updated>2009-06-16T09:59:20-07:00</updated>
<published>2009-06-16T09:59:20-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=5275&amp;p=48043#p48043</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=5275&amp;p=48043#p48043"/>
<title type="html"><![CDATA[DMA to WRAM on FC Twin]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=5275&amp;p=48043#p48043"><![CDATA[
Oh no! I'm going to have to beat you to it <img src="http://forums.nesdev.com/images/smilies/icon_wink.gif" alt=";)" title="Wink" /><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3686">cybertron</a> — Tue Jun 16, 2009 9:59 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Jeroen]]></name></author>
<updated>2009-06-15T23:37:27-07:00</updated>
<published>2009-06-15T23:37:27-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=5275&amp;p=48036#p48036</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=5275&amp;p=48036#p48036"/>
<title type="html"><![CDATA[DMA to WRAM on FC Twin]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=5275&amp;p=48036#p48036"><![CDATA[
I dont think theres any doubt he's developing one at least. (I mean he's said he would like to a couple of times iirc) The question is how far he is along (if he's even started or sees a future in the project) and if this is related. <img src="http://forums.nesdev.com/images/smilies/icon_wink.gif" alt=";-)" title="Wink" /><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3369">Jeroen</a> — Mon Jun 15, 2009 11:37 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Jagasian]]></name></author>
<updated>2009-06-13T16:50:33-07:00</updated>
<published>2009-06-13T16:50:33-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=5275&amp;p=47969#p47969</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=5275&amp;p=47969#p47969"/>
<title type="html"><![CDATA[DMA to WRAM on FC Twin]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=5275&amp;p=47969#p47969"><![CDATA[
<span style="font-size: 75%; line-height: normal">bunnyboy, is this your way of dropping a hint that you are developing a "Super PowerPak" for the SNES?</span><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=94">Jagasian</a> — Sat Jun 13, 2009 4:50 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[byuu]]></name></author>
<updated>2009-06-13T13:57:20-07:00</updated>
<published>2009-06-13T13:57:20-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=5275&amp;p=47962#p47962</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=5275&amp;p=47962#p47962"/>
<title type="html"><![CDATA[DMA to WRAM on FC Twin]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=5275&amp;p=47962#p47962"><![CDATA[
<div class="quotetitle">orwannon wrote:</div><div class="quotecontent"><br />No. The materials used in the process of SNES casing construction don't correlate with CPU revisions.<br /></div><br /><br />I did say usually, not always. It was my impression they fixed the oxidation shortly after introducing the rev. 2 CPU. Guess that's wrong, do you have more info on that?<br /><br />Interesting that there aren't (m)any in the US. Only have Japanese ones myself, a 1/1/1 and 2/1/3. The US design sucked.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=375">byuu</a> — Sat Jun 13, 2009 1:57 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[orwannon]]></name></author>
<updated>2009-06-11T14:10:11-07:00</updated>
<published>2009-06-11T14:10:11-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=5275&amp;p=47907#p47907</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=5275&amp;p=47907#p47907"/>
<title type="html"><![CDATA[DMA to WRAM on FC Twin]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=5275&amp;p=47907#p47907"><![CDATA[
<div class="quotetitle">byuu wrote:</div><div class="quotecontent"><br />Usually if you have an oxidized case (eg it is yellow), you have a rev. 1. Otherwise it's probably a rev. 2.<br /></div><br /><br />No. The materials used in the process of SNES casing construction don't correlate with CPU revisions.<br /><br />As I said, there are probably only Japanese SFC systems with rev. 1 CPUs. If there are series of US and/or PAL SNES systems at all that have a rev. 1 CPU, they are very rare and CANNOT be identified from their exterior appearance, but possibly from their serial number.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3828">orwannon</a> — Thu Jun 11, 2009 2:10 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[koitsu]]></name></author>
<updated>2009-06-10T17:40:01-07:00</updated>
<published>2009-06-10T17:40:01-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=5275&amp;p=47872#p47872</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=5275&amp;p=47872#p47872"/>
<title type="html"><![CDATA[DMA to WRAM on FC Twin]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=5275&amp;p=47872#p47872"><![CDATA[
Thanks for the clarification, byuu!  Nice to see someone kept up on what happened with the SFC/SNES over time.  Always learning something around here... :-)<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3">koitsu</a> — Wed Jun 10, 2009 5:40 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[byuu]]></name></author>
<updated>2009-06-09T14:19:14-07:00</updated>
<published>2009-06-09T14:19:14-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=5275&amp;p=47838#p47838</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=5275&amp;p=47838#p47838"/>
<title type="html"><![CDATA[DMA to WRAM on FC Twin]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=5275&amp;p=47838#p47838"><![CDATA[
<div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />I thought bunnyboy was transferring between ROM and WRAM ("work RAM")<br /></div><br /><br />He was, and I said that transfer was fine. I used ROM&lt;&gt;SRAM as an example for others to understand what types of transfers are invalid without having to list each and every one.<br /><br />Amazing as it is, some games rely on this behavior. Krusty's Super Fun House performs illegal DMA transfers that, if allowed, would corrupt the in-game palette.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />I didn't bother to state this because I was under the impression there was only one revision which made it out into the market. Yes/no?<br /></div><br /><br />Revision 1 is very rare. Usually if you have an oxidized case (eg it is yellow), you have a rev. 1. Otherwise it's probably a rev. 2. I have not seen a CPU revision of 3 yet, but it may exist in the mini-SNES.<br /><br />There are real differences other than the DMA crashing glitch. They changed the way DRAM refresh and HDMA init timing works as well. Then there are also different S-PPU1, S-PPU2, S-SMP (mini-SNES lacks timer glitch) and S-DSP revisions.<br /><br />One wonders why they felt the need to keep changing shit (supplier issues?), but I digress. It gives emulators a <em>tiny</em> bit of leeway to act differently, if real hardware does as well.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />I seem to remember Super Street Fighter II for Super NES not running on the earliest consoles, and Nintendo having to issue replacements. Can anyone else dig up info on this?<br /></div><br /><br />That would be very interesting if true. I always assumed developers were forced to test their games on all current versions of hardware, and if anything, only newer revisions would break older games.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=375">byuu</a> — Tue Jun 09, 2009 2:19 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2009-06-09T04:11:41-07:00</updated>
<published>2009-06-09T04:11:41-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=5275&amp;p=47819#p47819</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=5275&amp;p=47819#p47819"/>
<title type="html"><![CDATA[DMA to WRAM on FC Twin]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=5275&amp;p=47819#p47819"><![CDATA[
I seem to remember Super Street Fighter II for Super NES not running on the earliest consoles, and Nintendo having to issue replacements. Can anyone else dig up info on this?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Tue Jun 09, 2009 4:11 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[orwannon]]></name></author>
<updated>2009-06-09T03:30:07-07:00</updated>
<published>2009-06-09T03:30:07-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=5275&amp;p=47817#p47817</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=5275&amp;p=47817#p47817"/>
<title type="html"><![CDATA[DMA to WRAM on FC Twin]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=5275&amp;p=47817#p47817"><![CDATA[
<div class="quotetitle">koitsu wrote:</div><div class="quotecontent"><br /><div class="quotetitle">byuu wrote:</div><div class="quotecontent">The glitch only occurs on revision 1 CPUs.<br /></div><br /><br />I didn't bother to state this because I was under the impression there was only one revision which made it out into the market.  Yes/no?</div><br /><br />Only very early NTSC models have a rev. 1 CPU (i. e., only pre-1991 Super Famicoms, AFAIK). All later models have rev. 2 CPUs.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3828">orwannon</a> — Tue Jun 09, 2009 3:30 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[koitsu]]></name></author>
<updated>2009-06-08T15:27:26-07:00</updated>
<published>2009-06-08T15:27:26-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=5275&amp;p=47803#p47803</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=5275&amp;p=47803#p47803"/>
<title type="html"><![CDATA[DMA to WRAM on FC Twin]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=5275&amp;p=47803#p47803"><![CDATA[
<div class="quotetitle">byuu wrote:</div><div class="quotecontent"><br />Your example code is fine, and there's no need to be in vblank or force blank to transfer from ROM to WRAM. Looks like you found a hardware bug. One of the reasons I refuse to buy one of these clone systems. I'd rather use an emulator at that point.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Between ROM and $2180 is no problem, and works on the real SNES.<br /></div><br /><br />For others here, think of it like this: each "chip" (we're simplifying a bit here) only has one address and one data bus. You can't have it point to two different addresses (source and dest) at the same exact time. This applies the same way for the cartridge connector: so ROM &lt;&gt; save RAM will not work.</div><br /><br />I thought bunnyboy was transferring between ROM and WRAM ("work RAM"), not ROM and SRAM (battery-backed, mode 20 = banks $70-77, offsets $0000-7FFF; mode 21 = banks $30-3F, offsets $6000-8000)?<br /><br /><div class="quotetitle">byuu wrote:</div><div class="quotecontent"><br />The glitch only occurs on revision 1 CPUs.<br /></div><br /><br />I didn't bother to state this because I was under the impression there was only one revision which made it out into the market.  Yes/no?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3">koitsu</a> — Mon Jun 08, 2009 3:27 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[byuu]]></name></author>
<updated>2009-06-08T09:25:47-07:00</updated>
<published>2009-06-08T09:25:47-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=5275&amp;p=47793#p47793</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=5275&amp;p=47793#p47793"/>
<title type="html"><![CDATA[DMA to WRAM on FC Twin]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=5275&amp;p=47793#p47793"><![CDATA[
Your example code is fine, and there's no need to be in vblank or force blank to transfer from ROM to WRAM. Looks like you found a hardware bug. One of the reasons I refuse to buy one of these clone systems. I'd rather use an emulator at that point.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />Between ROM and $2180 is no problem, and works on the real SNES.<br /></div><br /><br />For others here, think of it like this: each "chip" (we're simplifying a bit here) only has one address and one data bus. You can't have it point to two different addresses (source and dest) at the same exact time. This applies the same way for the cartridge connector: so ROM &lt;&gt; save RAM will not work.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />The reason I ask about HDMA is that there's a documented bug in the SFC (and possibly the Twin, or maybe they have to emulate it!)<br /></div><br /><br />The glitch only occurs on revision 1 CPUs. And I'd be really surprised if they figured out how to reproduce it. The effect is seriously insane to witness. The entire system state goes straight to hell. While you'd think it was just corrupting the program counter (or the next opcode fetched after it), the destruction of absolutely everything is so extreme that it seems highly unlikely a bad execution path (invariably leading to a BRK loop or similar) could do so much damage.<br /><br />I really want to emulate this effect, but I would need someone with hardware tools to see what's happening at the circuit level to get it right.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=375">byuu</a> — Mon Jun 08, 2009 9:25 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[koitsu]]></name></author>
<updated>2009-06-06T10:44:29-07:00</updated>
<published>2009-06-06T10:44:29-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=5275&amp;p=47709#p47709</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=5275&amp;p=47709#p47709"/>
<title type="html"><![CDATA[DMA to WRAM on FC Twin]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=5275&amp;p=47709#p47709"><![CDATA[
<div class="quotetitle">bunnyboy wrote:</div><div class="quotecontent"><br />Nope no HDMA, IRQs also off, turning NMI off or making it happen before the DMA doesn't make a diff either.  I can test doing the DMA before any of the screen is turned on but I am skeptical that will make a difference.  Wonder if its something with the clock alignment.<br /></div><br /><br />The reason I ask about HDMA is that there's a documented bug in the SFC (and possibly the Twin, or maybe they have to emulate it!) which happens where an HDMA transfer starts shortly before a DMA transfer finishes.  I can outline the bug if people need details, but it sounds unrelated to this problem.<br /><br />I guess you've found a nice quirk in the FC Twin... :)<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3">koitsu</a> — Sat Jun 06, 2009 10:44 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[bunnyboy]]></name></author>
<updated>2009-06-05T20:44:55-07:00</updated>
<published>2009-06-05T20:44:55-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=5275&amp;p=47695#p47695</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=5275&amp;p=47695#p47695"/>
<title type="html"><![CDATA[DMA to WRAM on FC Twin]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=5275&amp;p=47695#p47695"><![CDATA[
Nope no HDMA, IRQs also off, turning NMI off or making it happen before the DMA doesn't make a diff either.  I can test doing the DMA before any of the screen is turned on but I am skeptical that will make a difference.  Wonder if its something with the clock alignment.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=228">bunnyboy</a> — Fri Jun 05, 2009 8:44 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[koitsu]]></name></author>
<updated>2009-06-05T19:12:36-07:00</updated>
<published>2009-06-05T19:12:36-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=5275&amp;p=47692#p47692</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=5275&amp;p=47692#p47692"/>
<title type="html"><![CDATA[DMA to WRAM on FC Twin]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=5275&amp;p=47692#p47692"><![CDATA[
You're not doing any HDMA transfers anywhere in your program are you?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3">koitsu</a> — Fri Jun 05, 2009 7:12 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[bunnyboy]]></name></author>
<updated>2009-06-05T14:56:54-07:00</updated>
<published>2009-06-05T14:56:54-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=5275&amp;p=47688#p47688</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=5275&amp;p=47688#p47688"/>
<title type="html"><![CDATA[DMA to WRAM on FC Twin]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=5275&amp;p=47688#p47688"><![CDATA[
<div class="quotetitle">tepples wrote:</div><div class="quotecontent"><br />Hmmm... What could cause a glitch? Did the SPC700 fetch a sample at that exact moment? <img src="http://forums.nesdev.com/images/smilies/icon_wink.gif" alt=";-)" title="Wink" /><br /><br />You could try to do an I/O from a known data source and if it screws up, it's a clone.<br /></div><br /><br />Don't have any audio running so I hope its not the same DPCM bug  <img src="http://forums.nesdev.com/images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br /><br />Can't just check for alignment wrong because it doesn't happen every time.  Would have to do something like run it 10-20x and see if any fail.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=228">bunnyboy</a> — Fri Jun 05, 2009 2:56 pm</p><hr />
]]></content>
</entry>
</feed>