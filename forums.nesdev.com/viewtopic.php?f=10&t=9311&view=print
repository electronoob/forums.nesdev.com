<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Huge rom is possible on real hardware?</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Huge rom is possible on real hardware?</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=10&amp;t=9311">http://forums.nesdev.com/viewtopic.php?f=10&amp;t=9311</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bubel</b> [ Fri Sep 14, 2012 8:16 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Huge rom is possible on real hardware?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Dear friends! How production cost of real NES cartridges affects by ROM size?<br />Or it`s does not matter with modern technology?<br />It`s is possible to make a game with 8-24 megs ROM (1-4mb) running on real NES?<br />(I`m in graphical department so I don`t know about hardware stuff, I just curios it game with lot`s of content could be produced at reasonable cost on cartridges)<br />Thank you! <img src="./images/smilies/icon_question.gif" alt=":?:" title="Question" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>rainwarrior</b> [ Fri Sep 14, 2012 8:23 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Huge rom is possible on real hardware?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />With two 74161s as a mapper you could make a 4MB variant of AxROM with single screen mirroring, or even an 8MB BNROM.<br /><br />I dunno how easy it is to get large programmable ROMs though; I've never tried to find anything bigger than a 27C020 (256k). <a href="http://bootgod.dyndns.org:7777/profile.php?id=1161" class="postlink">Action 52</a> did 2MB with 4 x 512k chips.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bubel</b> [ Fri Sep 14, 2012 8:39 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Huge rom is possible on real hardware?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">rainwarrior wrote:</div><div class="quotecontent">With two 74161s as a mapper you could make a 4MB variant of AxROM with single screen mirroring, or even an 8MB BNROM.<br />I dunno how easy it is to get large programmable ROMs though; I've never tried to find anything bigger than a 27C020 (256k). <a href="http://bootgod.dyndns.org:7777/profile.php?id=1161" class="postlink">Action 52</a> did 2MB with 4 x 512k chips.</div><br />Thank you for your reply!<br />So technically it`s not a problem but how about production cost of cartridges?<br />How price changes from 256kb to 2Mb?<br />I don`t need exact numbers but I feel it`s should be like:<br />256kb = X<br />512kb = X (same price as it`s same method of production)<br />1Mb = 4X (price 4 times bigger because it`s exceeding limit where production is starting to be tricky)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Fri Sep 14, 2012 8:51 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Huge rom is possible on real hardware?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">rainwarrior wrote:</div><div class="quotecontent">I dunno how easy it is to get large programmable ROMs though; I've never tried to find anything bigger than a 27C020 (256k).</div><br />On #nesdev, kevtris maintains that it's easy to find affordable 32 Mbit (4 MiB) flash chips. He recommends deploying them with an oversize-UxROM mapper, which needs a 74HC377 and a pair of 74HC32s.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Shiru</b> [ Fri Sep 14, 2012 8:54 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Huge rom is possible on real hardware?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Prices are all under $10, however, flash chips larger than 512K are 3.3v, and most of them has serial interface. Largest parallel interface flash chip that I found is 2Mx8, TSOP48.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Fri Sep 14, 2012 8:58 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Huge rom is possible on real hardware?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />In that case, it might be time to design an FDS- or PowerPak-like architecture in which a small BIOS present at power-up loads the game from a serial flash chip into a 128 KiB PSRAM. That'd allow the use of cheap serial flash in the microSD form factor, at capacities up to 2 GB.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Fri Sep 14, 2012 9:01 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Huge rom is possible on real hardware?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Here are some <a href="http://www.futurlec.com/ICEPROM.shtml?gclid=COmyhOG0tbICFQSEnQodoHEAFw" class="postlink">prices for EPROMs</a>. The largest they have is 2MBytes for $9.90, while 512KBytes is $5.90 and 256KBytes is $3.90. Even if this particular store isn't the cheapest one, it should still give you an idea of how the prices vary.<br /><br />So yeah, the biggest limitation is not the NES architecture, but the price of the memory itself. Most existing mappers can't access large amounts of data, but like rainwarrior said they can easily be modified. If you don't mind a bit of loading time, you could use the PowerPak approach of reading data off a CF card (which can hold up to several GigaBytes) into a moderately sized RAM chip.<br /><br />EDIT: What tepples said.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Shiru</b> [ Fri Sep 14, 2012 10:21 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Huge rom is possible on real hardware?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Actually, having a mapper with WRAM and CHR-RAM, it should be possible to make a very simple partial solution by connecting a serial flash or a SD card to a few bits of a register. Code will be in the PRG ROM, but levels data and graphics - usually the largest things - will be loaded into RAM from the serial storage when needed.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Fri Sep 14, 2012 10:28 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Huge rom is possible on real hardware?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Shiru wrote:</div><div class="quotecontent">Actually, having a mapper with WRAM and CHR-RAM, it should be possible to make a very simple partial solution by connecting a serial flash or a SD card to a few bits of a register. Code will be in the PRG ROM, but levels data and graphics - usually the largest things - will be loaded into RAM from the serial storage when needed.</div><br />Sure, that's the idea, but IMO the normal sizes for WRAM and CHR-RAM are not enough to make things really interesting... Games would hardly be much better than they can be on NROM. I'd much rather have a small boot ROM and a large WRAM (as opposed to a large PRG-ROM and small WRAM, which is the common setup) and be able to load larger chunks of data from the memory card.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Shiru</b> [ Fri Sep 14, 2012 10:49 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Huge rom is possible on real hardware?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />That would be limiting for sure, but may be enough for some purposes.<br /><br />More interesting things that could be done with a huge storage would probably require more complex hardware, though. The first things that come into mind are audio and video streaming. For first thing a huge RAM and/or fast data access in needed, for second - some kind of CHR mapping, or a way to fill 2-3 CHR RAM pages with new data like 25 times per second.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>infiniteneslives</b> [ Fri Sep 14, 2012 10:55 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Huge rom is possible on real hardware?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent">Sure, that's the idea, but IMO the normal sizes for WRAM and CHR-RAM are not enough to make things really interesting... Games would hardly be much better than they can be on NROM. I'd much rather have a small boot ROM and a large WRAM (as opposed to a large PRG-ROM and small WRAM, which is the common setup) and be able to load larger chunks of data from the memory card.</div><br /><br />Even if it were 32KB WRAM and VRAM?  That's normal/cheap by today's standards.  Serial flash is ridiculously cheap compared to paralllel, could even be effectively free or save money if you could have a small PRG-ROM that only stored the engine and loading routines.  Never thought about something like that before...  It might make more sense to have WRAM available to be mapped to more than just $5000-7FFF too.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Fri Sep 14, 2012 11:06 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Huge rom is possible on real hardware?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />True, a 32 KiB working set would probably be enough CHR RAM except perhaps for fighting games. But I was under the impression that games later in the NES's lifetime used more than a 32 KiB working set of PRG ROM for a single level, which is why I recommended 128 KiB of RAM for the PRG side.<br /><br />The mapper would need these features: <ul><li>Switch RAM bank into CPU $8000-$BFFF </li><li>Nametable mirroring control </li><li>Enable or disable the boot ROM at $C000-$FFFF </li><li>CHR RAM banking </li><li>SPI clocking for byte-at-a-time access to the microSD card </li><li>Scanline counter (maybe) </li></ul>What kind of CPLD would be needed for that?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>infiniteneslives</b> [ Fri Sep 14, 2012 11:32 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Huge rom is possible on real hardware?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">True, a 32 KiB working set would probably be enough CHR RAM except perhaps for fighting games. But I was under the impression that games later in the NES's lifetime used more than a 32 KiB working set of PRG ROM for a single level, which is why I recommended 128 KiB of RAM for the PRG side.</div><br />Yeah I was thinking 128KB as well.  Which saves several dollars if you'd otherwise be using 512KB or more of parallel memory.  Seems like a lot compared to standard games, but you'd also be looking to store your hearts content worth of graphics there as well since you'd be on VRAM.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">What kind of CPLD would be needed for that?</div><br />The only thing on the list I can't be sure of at the moment is the amount of logic required to feedbyte-at-a-time to the NES.  But the rest surely fits in ~108MCells which would be one 36 and one 72 XC9500XL.  I'd estimate stepping up to two 72MCells on my INL-ROM boards would be enough room for the byte feeding as well...  I'll have to look further into this when time permits.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Fri Sep 14, 2012 11:57 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Huge rom is possible on real hardware?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Currently on Digikey, the largest cheapest parallel EEPROM is 1M×8 for $2.74 (MX29F800CBTI-70G or MX29F800CTTI-70G). The cost of the boot ROM (smallest 5V parallel ROM we can find) is 64K×8 for $1.24 (AT49F512-90VC).<br /><br />As soon as you give up on sticking with the NES's ancient memory bus, everything gets kinda awful:<br /><br />To interface with any kind of serial and most NAND FLASH, you'll need some kind of PAL; Mouser seems to have the cheapest 16V8 at 55¢/1. Serial load speeds on the NES are going to be lousy without a hardware assist (see also joypad reads), so unless you throw enough CPLD/FPGA at the problem, using some kind of parallel flash is greatly desirable. (e.g. Compact Flash, 3V parallel NAND FLASH, 8 SPI EEPROMs ganged up in parallel) 1bit serial read speed results will be comparable to the FDS, so not terrible but nothing I'd be proud of.<br /><br />Large-banked parallel-accessed NAND FLASH that isn't CompactFlash isn't available in 5V, but it at least has enough fewer lines (17) that a 5V↔3V logic converter is reasonable. (e.g. the MT29F16G08CBACAWP, a 3V 1G×8x2 for $6.59)<br /><br />Coprocessors to load data into CHR are fine once you spend enough money on a CPLD.<br /><br />So, to break it down:<br />A giant BNROM-like game will cost $1.2 for the CHR RAM, 20¢ for the banking logic, and $2.7 for the ROM ($4/1MB, $7/2MB, $10/3MB or so); larger than that will cost 30¢ more and $2.7 per megabyte<br />A giant FDS-like game will cost $1.24 for the boot rom, $2.4 for two RAMs, 55¢ for the glue logic, 50¢ for voltage regulator and conversion, and 45¢ per 1MB SPI EEPROM (digikey, W25Q80BV): $5.3/1MB, $5.8/2MB, $6.3/3MB &amp;c<br />A gargantuan FDS-like game will cost $1.24 for the boot rom, $2.4 for two RAMS, 55¢ for the glue logic, 50¢ for a socket, and $4-10 for any commercial flash format (CF, SD plus voltage regulator+shifting): $9…15/1,2,4GB<br /><br />TL;DR:<br /><ul><li>Less than 1MB of data: Don't bother trying with anything funny. </li><li>More than 2MB but less than 9MB, consider 3V SPI EEPROMS. </li><li>More than 9MB, consider SD. </li></ul>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>infiniteneslives</b> [ Fri Sep 14, 2012 9:44 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Huge rom is possible on real hardware?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />In the context of this discussion I would agree with what you're saying.  I'll move my discussion back where it <a href="http://forums.nesdev.com/viewtopic.php?f=9&amp;t=9257&amp;start=15" class="postlink">belongs.</a>

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>