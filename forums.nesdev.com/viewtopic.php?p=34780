<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<link rel="icon" href="/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />

<title>nesdev.com &bull; View topic - SPC7110 Reverse Engineering Project</title>

<link rel="alternate" type="application/atom+xml" title="Feed - nesdev.com" href="http://forums.nesdev.com/feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - News" href="http://forums.nesdev.com/feed.php?mode=news" /><link rel="alternate" type="application/atom+xml" title="Feed - All forums" href="http://forums.nesdev.com/feed.php?mode=forums" /><link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="http://forums.nesdev.com/feed.php?mode=topics" /><link rel="alternate" type="application/atom+xml" title="Feed - Active Topics" href="http://forums.nesdev.com/feed.php?mode=topics_active" /><link rel="alternate" type="application/atom+xml" title="Feed - Forum - SNESdev" href="http://forums.nesdev.com/feed.php?f=12" /><link rel="alternate" type="application/atom+xml" title="Feed - Topic - SPC7110 Reverse Engineering Project" href="http://forums.nesdev.com/feed.php?f=12&amp;t=4106" />

<link rel="stylesheet" href="./style.php?id=1&amp;lang=en" type="text/css" />

<script type="text/javascript">
// <![CDATA[


function popup(url, width, height, name)
{
	if (!name)
	{
		name = '_popup';
	}

	window.open(url.replace(/&amp;/g, '&'), name, 'height=' + height + ',resizable=yes,scrollbars=yes,width=' + width);
	return false;
}

function jumpto()
{
	var page = prompt('Enter the page number you wish to go to:', '16');
	var per_page = '15';
	var base_url = './viewtopic.php?f=12&amp;t=4106';

	if (page !== null && !isNaN(page) && page == Math.floor(page) && page > 0)
	{
		if (base_url.indexOf('?') == -1)
		{
			document.location.href = base_url + '?start=' + ((page - 1) * per_page);
		}
		else
		{
			document.location.href = base_url.replace(/&amp;/g, '&') + '&start=' + ((page - 1) * per_page);
		}
	}
}

/**
* Find a member
*/
function find_username(url)
{
	popup(url, 760, 570, '_usersearch');
	return false;
}

/**
* Mark/unmark checklist
* id = ID of parent container, name = name prefix, state = state [true/false]
*/
function marklist(id, name, state)
{
	var parent = document.getElementById(id);
	if (!parent)
	{
		eval('parent = document.' + id);
	}

	if (!parent)
	{
		return;
	}

	var rb = parent.getElementsByTagName('input');
	
	for (var r = 0; r < rb.length; r++)
	{
		if (rb[r].name.substr(0, name.length) == name)
		{
			rb[r].checked = state;
		}
	}
}



// ]]>
</script>
</head>
<body class="ltr">

<a name="top"></a>

<div id="wrapheader">

	<div id="logodesc">
	</div>

	<div id="menubar">

		<table width="100%" cellspacing="0">
		<tr>
			<td rowspan="2"><a href="./index.php"><img src="./styles/subsilver2/imageset/site_logo.gif" alt="" title="" /></a></td>
			<td width="100%" align="center"><h1>nesdev.com</h1><span class="gen">NES Development and Strangulation Records message boards</span></td>
		</tr>
		<tr>
			<td align="center">
				<a href="./faq.php"><img src="./styles/prosilver/theme/images/icon_mini_faq.gif" width="12" height="13" alt="*" /> FAQ</a>
				&nbsp; &nbsp;<a href="./search.php"><img src="./styles/prosilver/theme/images/icon_mini_search.gif" width="12" height="13" alt="*" /> Search</a>
				<br />	
				 &nbsp;<a href="./ucp.php?mode=register"><img src="./styles/prosilver/theme/images/icon_mini_register.gif" width="12" height="13" alt="*" /> Register</a>
					&nbsp; &nbsp;<a href="./ucp.php?mode=login"><img src="./styles/prosilver/theme/images/icon_mini_login.gif" width="12" height="13" alt="*" /> Login</a>&nbsp;
			</td>
		</tr>
		</table>
	</div>

	<div id="datebar">
		<table width="100%" cellspacing="0">
		<tr>
			<td class="gensmall"></td>
			<td class="gensmall" align="right">It is currently Thu Aug 30, 2012 9:00 pm<br /></td>
		</tr>
		</table>
	</div>

</div>

<div id="wrapcentre">

	
	<p class="searchbar">
		<span style="float: left;"><a href="./search.php?search_id=unanswered">View unanswered posts</a> | <a href="./search.php?search_id=active_topics">View active topics</a></span>
		
	</p>
	

	<br style="clear: both;" />

	<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=25">Other</a> &#187; <a href="./viewforum.php?f=12">SNESdev</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>

	<br />

<div id="pageheader">
	<h2><a class="titles" href="./viewtopic.php?f=12&amp;t=4106&amp;start=225">SPC7110 Reverse Engineering Project</a></h2>


	<p class="moderators">Moderator: <a href="./memberlist.php?mode=group&amp;g=320">Moderators</a></p>

</div>

<br clear="all" /><br />

<div id="pagecontent">

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=12"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=12&amp;t=4106"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>16</strong> of <strong>21</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 315 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"><b><a href="#" onclick="jumpto(); return false;" title="Click to jump to pageâ€¦">Go to page</a> <a href="./viewtopic.php?f=12&amp;t=4106&amp;start=210">Previous</a>&nbsp;&nbsp;<a href="./viewtopic.php?f=12&amp;t=4106">1</a><span class="page-dots"> ... </span><a href="./viewtopic.php?f=12&amp;t=4106&amp;start=180">13</a><span class="page-sep">, </span><a href="./viewtopic.php?f=12&amp;t=4106&amp;start=195">14</a><span class="page-sep">, </span><a href="./viewtopic.php?f=12&amp;t=4106&amp;start=210">15</a><span class="page-sep">, </span><strong>16</strong><span class="page-sep">, </span><a href="./viewtopic.php?f=12&amp;t=4106&amp;start=240">17</a><span class="page-sep">, </span><a href="./viewtopic.php?f=12&amp;t=4106&amp;start=255">18</a><span class="page-sep">, </span><a href="./viewtopic.php?f=12&amp;t=4106&amp;start=270">19</a><span class="page-dots"> ... </span><a href="./viewtopic.php?f=12&amp;t=4106&amp;start=300">21</a> &nbsp;<a href="./viewtopic.php?f=12&amp;t=4106&amp;start=240">Next</a></b></td>
		
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat">
			<table width="100%" cellspacing="0">
			<tr>
				<td class="nav" nowrap="nowrap">&nbsp;
				<a href="./viewtopic.php?f=12&amp;t=4106&amp;start=225&amp;view=print" title="Print view">Print view</a>
				</td>
				<td class="nav" align="right" nowrap="nowrap"><a href="./viewtopic.php?f=12&amp;t=4106&amp;view=previous">Previous topic</a> | <a href="./viewtopic.php?f=12&amp;t=4106&amp;view=next">Next topic</a>&nbsp;</td>
			</tr>
			</table>
		</td>
	</tr>

	</table>


	<table class="tablebg" width="100%" cellspacing="1">
	
		<tr>
			<th>Author</th>
			<th>Message</th>
		</tr>
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p34770"></a>
				<b class="postauthor">neviksti</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p34770"></a></div><div style="float: right;"><a href="./viewtopic.php?p=34770#p34770"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Jul 10, 2008 4:27 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Thu Jun 22, 2006 11:39 pm<br /><b>Posts:</b> 205
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">Andreas Naive wrote:</div><div class="quotecontent">I have figured out how the 2 contexts of bitplane #5 are selected.</div>
<br />I don't think that is quite right yet.
<br />
<br />Look at these parts:
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">...<br />56<br />&nbsp; &nbsp;&nbsp; &nbsp;47<br />41 **<br />56<br />3c **<br />4f<br />&nbsp; &nbsp;&nbsp; &nbsp;41<br />47 **<br />56<br />4f **<br />4f<br />56<br />4f <br />&nbsp; &nbsp;&nbsp; &nbsp;56<br />47<br />...</div><br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">...<br />47<br />&nbsp; &nbsp;&nbsp; &nbsp;47<br />4f ** <br />56 **<br />41<br />3c<br />41<br />&nbsp; &nbsp;&nbsp; &nbsp;56<br />56 **<br />4f **<br />47 **<br />41<br />41<br />3c<br />3c<br />37<br />41 **<br />3c<br />37<br />47 **<br />34<br />34<br />4f **<br />4f **<br />56 **<br />4f **<br />34<br />47 **<br />&nbsp; &nbsp;&nbsp; &nbsp;41<br />41<br />...</div><br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">...<br />&nbsp; &nbsp;&nbsp; &nbsp;56<br />4f<br />47<br />4f **<br />41<br />56 **<br />47<br />4f<br />56<br />56<br />4f<br />47<br />41<br />56 **<br />47<br />56 **<br />4f<br />56<br />56<br />56<br />56<br />4f<br />56<br />4f<br />56<br />56<br />56<br />56<br />56<br />4f<br />47<br />&nbsp; &nbsp;&nbsp; &nbsp;56<br />...</div><br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">...<br />&nbsp; &nbsp;&nbsp; &nbsp;47<br />41<br />3c<br />3c<br />41 **<br />37<br />34<br />&nbsp; &nbsp;&nbsp; &nbsp;47<br />2e<br />&nbsp; &nbsp;&nbsp; &nbsp;4f<br />29</div>
<br />
<br />The evolution doesn't make sense.
<br />
<br />EDIT:
<br />Based purely on the sequences presented here (ie. not going back to the data and looking at shifts,etc.) I marked possible "wrong collumn" entries which would make the evolution fit the state table I posted above.  Of course there are other possible markings as well.
<br />
<br />Due to the bizarre jumps in prob, yet familiar prob values, I think it is the de-interleaving of these states and not the state table itself that needs to be changed.</div>

					
							<br /><br />
							<span class="gensmall">Last edited by <a href="./memberlist.php?mode=viewprofile&amp;u=716">neviksti</a> on Thu Jul 10, 2008 4:42 pm, edited 5 times in total.</span>
						<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=716"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p34771"></a>
				<b class="postauthor" style="color: #AA0000">tepples</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p34771"></a></div><div style="float: right;"><a href="./viewtopic.php?p=34771#p34771"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Jul 10, 2008 4:28 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="http://pineight.com/nes/terrible/PSRFX.png" width="100" height="56" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Sep 19, 2004 11:12 pm<br /><b>Posts:</b> 9048<br /><b>Location:</b> NE Indiana, USA (NTSC)
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">jolly_codger wrote:</div><div class="quotecontent">Never seen that patent before.<br /><!-- m --><a class="postlink" href="http://www.mediafire.com/?xsrub3f1jgi">http://www.mediafire.com/?xsrub3f1jgi</a><!-- m --></div>
<br />In case that disappears, here's another source:
<br /><!-- m --><a class="postlink" href="http://pics.pineight.com/nes/US5859926.pdf">http://pics.pineight.com/nes/US5859926.pdf</a><!-- m --></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=9"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p34779"></a>
				<b class="postauthor">kammedo</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p34779"></a></div><div style="float: right;"><a href="./viewtopic.php?p=34779#p34779"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Jul 10, 2008 10:13 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Wed May 28, 2008 5:43 am<br /><b>Posts:</b> 57
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">tepples wrote:</div><div class="quotecontent"><div class="quotetitle">jolly_codger wrote:</div><div class="quotecontent">Never seen that patent before.<br /><!-- m --><a class="postlink" href="http://www.mediafire.com/?xsrub3f1jgi">http://www.mediafire.com/?xsrub3f1jgi</a><!-- m --></div><br />In case that disappears, here's another source:<br /><!-- m --><a class="postlink" href="http://pics.pineight.com/nes/US5859926.pdf">http://pics.pineight.com/nes/US5859926.pdf</a><!-- m --></div>
<br />Wow. Very nice find <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />. How the hell did you get to it?</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3536"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p34780"></a>
				<b class="postauthor">neviksti</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p34780"></a></div><div style="float: right;"><a href="./viewtopic.php?p=34780#p34780"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Jul 10, 2008 10:21 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Thu Jun 22, 2006 11:39 pm<br /><b>Posts:</b> 205
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Yes!
<br />
<br />I can track all the probabilities now.  Now I just need to finish filling out the prediction tables.
<br />
<br />The following part of the evolution table needs changing.
<br />	{0x05, 31, 34,0}, //33 l,m  &lt;--- changed lps 
<br />
<br />Then the contexts are selected as follows:
<br />
<br />at the end of each bit (before updating context),
<br />  lps = (lps&lt;&lt;1) + flag_lps;
<br />  inverts  = (inverts&lt;&lt;1) + bitinvert;
<br />
<br />where flag_lps=1 if the bit was a LPS (and zero if bit was MPS)
<br />bitinvert=1 if the context is inverting the output of the prediction table.
<br />
<br />There are thirty contexts, which are selected as follows
<br />
<br />bitplane0 ... 0 + 0 + ((lps&amp;0)^(inverts&amp;0))
<br />bitplane1 ... 0 + 1 + ((lps&amp;1)^(inverts&amp;1))  
<br />bitplane2 ... 0 + 3 + ((lps&amp;3)^(inverts&amp;3))  
<br />bitplane3 ... 0 + 7 + ((lps&amp;7)^(inverts&amp;7))  
<br />bitplane4 ... 15 + 0 + ((lps&amp;0)^(inverts&amp;0))
<br />bitplane5 ... 15 + 1 + ((lps&amp;1)^(inverts&amp;1))  
<br />bitplane6 ... 15 + 3+ ((lps&amp;3)^(inverts&amp;3))  
<br />bitplane7 ... 15 + 7 + ((lps&amp;7)^(inverts&amp;7))  
<br />
<br />there are nicers way to write that, but I put it in that form to help make it clear what is going on.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=716"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p34781"></a>
				<b class="postauthor">neviksti</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p34781"></a></div><div style="float: right;"><a href="./viewtopic.php?p=34781#p34781"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Jul 10, 2008 10:47 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Thu Jun 22, 2006 11:39 pm<br /><b>Posts:</b> 205
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Done!
<br />There is no prediction table.  It is always just the previous 16th bit.
<br />
<br />Now I can match both the mps and prob values for all of input_7030_an1.bin
<br />
<br />Yeah!  I knew we were close.
<br />I'll write up a proper decompressor now.
<br />
<br />There are still untested entries in the state evolution table.  We should probably come up with some tests for that.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=716"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p34782"></a>
				<b class="postauthor">kammedo</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p34782"></a></div><div style="float: right;"><a href="./viewtopic.php?p=34782#p34782"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Jul 10, 2008 11:10 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Wed May 28, 2008 5:43 am<br /><b>Posts:</b> 57
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">neviksti wrote:</div><div class="quotecontent">Done!<br />There is no prediction table.  It is always just the previous 16th bit.<br /><br />Now I can match both the mps and prob values for all of input_7030_an1.bin<br /><br />Yeah!  I knew we were close.<br />I'll write up a proper decompressor now.<br /><br />There are still untested entries in the state evolution table.  We should probably come up with some tests for that.</div>
<br />
<br />Yahoo ^^</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3536"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p34783"></a>
				<b class="postauthor">Andreas Naive</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p34783"></a></div><div style="float: right;"><a href="./viewtopic.php?p=34783#p34783"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Jul 10, 2008 11:48 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Nov 26, 2007 2:06 am<br /><b>Posts:</b> 104<br /><b>Location:</b> Madrid, Spain
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Done!<br />There is no prediction table. It is always just the previous 16th bit. </div>
<br />
<br />Nice! I'm guessing that that prediction is the only part that will change when studying the "first byte" = 1 &amp; 2 cases. Just a wild guess.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3445"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p34787"></a>
				<b class="postauthor">neviksti</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p34787"></a></div><div style="float: right;"><a href="./viewtopic.php?p=34787#p34787"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Jul 11, 2008 3:19 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Thu Jun 22, 2006 11:39 pm<br /><b>Posts:</b> 205
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Bleh.  I'm having trouble figuring out what to trust now.
<br />
<br />I took the FEoEZ files here to test with:
<br /><!-- m --><a class="postlink" href="http://caitsith2.net/spc7110/">http://caitsith2.net/spc7110/</a><!-- m -->
<br />In the root directory of that, I put the following:
<br /><!-- m --><a class="postlink" href="http://neviksti.com/SPC7110/DecompTest.exe">http://neviksti.com/SPC7110/DecompTest.exe</a><!-- m -->
<br />
<br />and a batch file to test all the 00 encoded entries
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">@echo off<br />For %%k in &#40;00/*.compressed&#41; do DecompTest 00/%%~nk</div>
<br />
<br />Here's the output:
<br /><!-- m --><a class="postlink" href="http://neviksti.com/SPC7110/testresults.txt">http://neviksti.com/SPC7110/testresults.txt</a><!-- m -->
<br />
<br />As you can see, it matches files all the way through and many many bytes.  But still fails quite a few files eventually.  It is very very difficult to figure out which state evolution is wrong by looking at only this data.  So I took some that failed early enough that it would be feasible to run them through our "prob calculator" on the real hardware.  This helped me find some mistakes in my evolution table.
<br />
<br />But I haven't been able to find any more mistakes for awhile.
<br />And even worse, found a case that the real hardware test produced prob tables that I matched, yet I still didn't get the correct decompression. (2AE432-09.compressed ... fails 18 bytes in)
<br />
<br />So maybe these files can't be trusted?  But look how many files don't fit.  Wouldn't people have noticed graphics glitches if the gfx packs were bad?
<br />
<br />It is very possible that I don't have the evolution table worked out yet.  But second guessing the data itself is driving me nuts.  Can someone devise a test set which would go through every transition in the table?  Then I can run that several times and make sure it is right and trust it.
<br />
<br />Here's the decompressor test code if you want to play with it:
<br /><!-- m --><a class="postlink" href="http://neviksti.com/SPC7110/DecompTest.c">http://neviksti.com/SPC7110/DecompTest.c</a><!-- m -->
<br />(there's remanent junk in there from tests i was running)</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=716"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p34788"></a>
				<b class="postauthor">Andreas Naive</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p34788"></a></div><div style="float: right;"><a href="./viewtopic.php?p=34788#p34788"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Jul 11, 2008 4:31 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Nov 26, 2007 2:06 am<br /><b>Posts:</b> 104<br /><b>Location:</b> Madrid, Spain
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Well, i'm in a hurry and i don't expect to have time to work seriously in this till sunday, so i will just kick in an idea: are you maybe hitting the carry-over problem? At this point i'm not sure how this QM reduced version manage that,  so it could be a possibility. Take a look at the points where the fails appear: if you see a good amount of consecutive 1's in the stream, maybe this could be the problem. Just an idea; i don't have time to give a good thought at anything right now, so ignore me if i'm saying nonsenses.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3445"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p34790"></a>
				<b class="postauthor">caitsith2</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p34790"></a></div><div style="float: right;"><a href="./viewtopic.php?p=34790#p34790"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Jul 11, 2008 9:33 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon May 26, 2008 11:41 pm<br /><b>Posts:</b> 57
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">It does match every 00 decompression for MDH completely.  There are 405 of them.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3535"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p34791"></a>
				<b class="postauthor">byuu</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p34791"></a></div><div style="float: right;"><a href="./viewtopic.php?p=34791#p34791"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Jul 11, 2008 10:39 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Mar 27, 2006 5:23 pm<br /><b>Posts:</b> 517
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><strong>caitsith2</strong>, is there any possibility whatsoever that the 00 data was overdumped?
<br />
<br />I have looked through all of the uncompressed files in the 00 folder for FEoEZ, and none of it appears to be graphical tiledata. Honestly, none of it even looks like tilemap or script data. I really can't imagine what that data could be useful for in-game. But certainly, even if it were dumped wrong, it wouldn't manifest itself in-game as corrupted graphics. I would be surprised if the game actually even used much of this data.
<br />
<br />All of the graphics appear to be in the 01 and 02 folders.
<br />
<br /><strong>neviksti</strong>, thank you for posting your decompressor code. I'm not so sure it's necessarily a problem with the evolution table entries.
<br />
<br />Since I'm too stupid to do anything useful, I tried rigging up a test that iterates over all possible nextlps / nextmps entries for each table entry, trying all 53 possible values. No pattern seems to allow 2AE432-09 to decompress properly. I'm currently trying this with all 256 possible prob tests, as well as all all possible nextlps / nextmps values. About 20% done with no matches.
<br />
<br />Obviously, there are caveats with brute forcing. I can't test moving around the toggle due to complexity, and I can't test modifying more than one evolution table entry at a time, again due to complexity. The tests would never finish. But we'd be really, really unlucky to be hitting multiple table errors in this file, yet still managing to complete decompression on ~80% of the other data, no?
<br />
<br />Perhaps try running 2AE432-09.compressed through your FIFO cart? Does the data match caitsith2's test data, or your decompressor data, then?
<br />
<br />EDIT:
<br />
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; &nbsp; for&#40;unsigned tbl = 0; tbl &lt; 53; tbl++&#41; &#123; printf&#40;&quot;table = %d\n&quot;, tbl&#41;;<br />&nbsp; &nbsp; for&#40;unsigned a = 0; a &lt; 256; a++&#41; &#123; printf&#40;&quot;%0.2x&nbsp; &quot;, a&#41;;<br />&nbsp; &nbsp; for&#40;unsigned b = 0; b &lt;&nbsp; 54; b++&#41; &#123;<br />&nbsp; &nbsp; for&#40;unsigned c = 0; c &lt;&nbsp; 54; c++&#41; &#123;<br />&nbsp; &nbsp; &nbsp; memcpy&#40;&amp;EvolutionTable, &amp;EvolutionTableBase, sizeof&#40;EvolutionTableBase&#41;&#41;;<br />&nbsp; &nbsp; &nbsp; EvolutionTable&#91;tbl&#93;&#91;0&#93; = a;<br />&nbsp; &nbsp; &nbsp; EvolutionTable&#91;tbl&#93;&#91;1&#93; = b;<br />&nbsp; &nbsp; &nbsp; EvolutionTable&#91;tbl&#93;&#91;2&#93; = c;</div>
<br />
<br />... no matches.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=375"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p34792"></a>
				<b class="postauthor">neviksti</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p34792"></a></div><div style="float: right;"><a href="./viewtopic.php?p=34792#p34792"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Jul 11, 2008 1:43 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Thu Jun 22, 2006 11:39 pm<br /><b>Posts:</b> 205
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Caitsith2,
<br />I have no working FEoEZ cart (I accidentally rendered one cart unusable when trying to make my FIFO mod... good thing I bought a spare).  Redumping some of the data is much easier with the old "use the original cartridge and .loc file" setup.  Since you're the only one with a working cart as well as a stable copier, could you try redumping some of those files?  Definitely start with 2AE432-09.compressed
<br />
<br />If you're busy that's all right, as I can do it with the FIFO mod'ed cart, it'll just take longer.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=716"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p34793"></a>
				<b class="postauthor">neviksti</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p34793"></a></div><div style="float: right;"><a href="./viewtopic.php?p=34793#p34793"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Jul 11, 2008 1:58 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Thu Jun 22, 2006 11:39 pm<br /><b>Posts:</b> 205
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I found what was causing the majority of problems.
<br />
<br />Here's some example output which should clarify the situation <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">...<br />Read 994 bytes from &#91;feoez-shounen/00/0981DF-00-00.compressed&#93;<br />Read 2048 bytes from &#91;feoez-shounen/00/0981DF-00-00.uncompressed&#93;<br />Used 1007 bytes of input.<br />byte 1529: decomp&#91;4C&#93;-&gt;real&#91;49&#93;<br />byte 1531: decomp&#91;4C&#93;-&gt;real&#91;49&#93;<br />byte 1533: decomp&#91;4C&#93;-&gt;real&#91;49&#93;<br />byte 1534: decomp&#91;CC&#93;-&gt;real&#91;FC&#93;<br />byte 1535: decomp&#91;4C&#93;-&gt;real&#91;39&#93;<br />byte 1536: decomp&#91;CC&#93;-&gt;real&#91;F4&#93;<br />byte 1537: decomp&#91;4C&#93;-&gt;real&#91;39&#93;<br />byte 1538: decomp&#91;CC&#93;-&gt;real&#91;F4&#93;<br />byte 1539: decomp&#91;4C&#93;-&gt;real&#91;38&#93;<br />byte 1540: decomp&#91;CC&#93;-&gt;real&#91;F4&#93;<br />byte 1541: decomp&#91;4C&#93;-&gt;real&#91;38&#93;<br />****FAIL**** mismatch detected<br />Read 651 bytes from &#91;feoez-shounen/00/0981DF-01-00.compressed&#93;<br />Read 2048 bytes from &#91;feoez-shounen/00/0981DF-01-00.uncompressed&#93;<br />Used 671 bytes of input.<br />byte 924: decomp&#91;72&#93;-&gt;real&#91;F2&#93;<br />byte 925: decomp&#91;35&#93;-&gt;real&#91;D5&#93;<br />byte 926: decomp&#91;72&#93;-&gt;real&#91;F3&#93;<br />byte 927: decomp&#91;35&#93;-&gt;real&#91;C5&#93;<br />byte 928: decomp&#91;72&#93;-&gt;real&#91;F3&#93;<br />byte 929: decomp&#91;35&#93;-&gt;real&#91;C5&#93;<br />byte 930: decomp&#91;72&#93;-&gt;real&#91;73&#93;<br />byte 931: decomp&#91;35&#93;-&gt;real&#91;C5&#93;<br />byte 932: decomp&#91;72&#93;-&gt;real&#91;73&#93;<br />byte 933: decomp&#91;35&#93;-&gt;real&#91;C5&#93;<br />byte 934: decomp&#91;72&#93;-&gt;real&#91;73&#93;<br />****FAIL**** mismatch detected<br />Read 1290 bytes from &#91;feoez-shounen/00/0981DF-02-00.compressed&#93;<br />Read 2048 bytes from &#91;feoez-shounen/00/0981DF-02-00.uncompressed&#93;<br />Used 1302 bytes of input.<br />byte 1851: decomp&#91;15&#93;-&gt;real&#91;45&#93;<br />byte 1853: decomp&#91;15&#93;-&gt;real&#91;45&#93;<br />byte 1855: decomp&#91;15&#93;-&gt;real&#91;55&#93;<br />byte 1857: decomp&#91;15&#93;-&gt;real&#91;55&#93;<br />byte 1858: decomp&#91;6E&#93;-&gt;real&#91;3E&#93;<br />byte 1859: decomp&#91;15&#93;-&gt;real&#91;6F&#93;<br />byte 1860: decomp&#91;6E&#93;-&gt;real&#91;34&#93;<br />byte 1861: decomp&#91;15&#93;-&gt;real&#91;6F&#93;<br />byte 1862: decomp&#91;6E&#93;-&gt;real&#91;34&#93;<br />byte 1863: decomp&#91;15&#93;-&gt;real&#91;63&#93;<br />byte 1864: decomp&#91;6E&#93;-&gt;real&#91;37&#93;<br />****FAIL**** mismatch detected<br />Read 766 bytes from &#91;feoez-shounen/00/0981DF-03-00.compressed&#93;<br />Read 2048 bytes from &#91;feoez-shounen/00/0981DF-03-00.uncompressed&#93;<br />Used 787 bytes of input.<br />byte 1078: decomp&#91;00&#93;-&gt;real&#91;01&#93;<br />byte 1079: decomp&#91;30&#93;-&gt;real&#91;3C&#93;<br />byte 1080: decomp&#91;00&#93;-&gt;real&#91;01&#93;<br />byte 1081: decomp&#91;30&#93;-&gt;real&#91;3C&#93;<br />byte 1082: decomp&#91;00&#93;-&gt;real&#91;01&#93;<br />byte 1083: decomp&#91;30&#93;-&gt;real&#91;3C&#93;<br />byte 1084: decomp&#91;00&#93;-&gt;real&#91;01&#93;<br />byte 1085: decomp&#91;30&#93;-&gt;real&#91;6C&#93;<br />byte 1086: decomp&#91;00&#93;-&gt;real&#91;06&#93;<br />byte 1087: decomp&#91;30&#93;-&gt;real&#91;6C&#93;<br />byte 1088: decomp&#91;00&#93;-&gt;real&#91;06&#93;<br />****FAIL**** mismatch detected<br />...</div>
<br />
<br />Yep. The .compressed files are sometimes <em>under</em>-dumped.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=716"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p34794"></a>
				<b class="postauthor">caitsith2</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p34794"></a></div><div style="float: right;"><a href="./viewtopic.php?p=34794#p34794"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Jul 11, 2008 2:00 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon May 26, 2008 11:41 pm<br /><b>Posts:</b> 57
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Do you think you could port your decompressor to the snes,  then I could specify locations and sizes,  and have the decompression compared to real hardware right then and there.  This could potentially work for the FIFO cart as well.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3535"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p34795"></a>
				<b class="postauthor">neviksti</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p34795"></a></div><div style="float: right;"><a href="./viewtopic.php?p=34795#p34795"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Jul 11, 2008 3:35 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Thu Jun 22, 2006 11:39 pm<br /><b>Posts:</b> 205
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Wow, do I have some strange luck or what?
<br />I only chose literally a couple files to focus on when I was trying to figure out what was wrong with my evolution table last night.  It appears that probably the only actual bad decompression-dump is the confusing 2AE432-09.compressed file.
<br />
<br />All other mismatches for 00 decompression (I checked the data supplied for all three games) can be explained by underdumps of the .uncompressed file.
<br />
<br />I believe it is a bad dump since, as explained, running the prob calculator on the real hardware matched my code.  And because <em>only</em> that one byte in the data doesn't match.  If this was truely a decompressor problem, and the states were wrong, there should be no real recovery from a mistake.
<br />
<br />Here's an output listing ALL mismatches
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">Read 186 bytes from &#91;feoez/00/2AE432-09.compressed&#93;<br />Read 406 bytes from &#91;feoez/00/2AE432-09.uncompressed&#93;<br />byte 18: decomp&#91;7E&#93;-&gt;real&#91;72&#93;<br />****FAIL**** mismatch detected<br /></div>
<br />It is really just one byte.
<br />
<br /><div class="quotetitle">caitsith2 wrote:</div><div class="quotecontent">Do you think you could port your decompressor to the snes,  then I could specify locations and sizes,  and have the decompression compared to real hardware right then and there.  This could potentially work for the FIFO cart as well.</div>
<br />That's a possibility, and could be useful in the future.
<br />At the moment though, since it looks like only one file actually needs to be redumped, it doesn't seem worth it.  I'd prefer to focus my time on starting to play with the mode 01 (or 02?) data.
<br />
<br />I'll start by running some prob calculations for mode 1 and 2. (hopefully the evolution is the same and only the mps prediction changes)
<br />
<br />In the mean time, can you redump that one file using the .loc code?
<br />
<br />
<br />And to delegate a bit, can someone else write a little program to grab data out of the roms for the two FEoEZ games in order to make all the .compressed files have more data (say prehaps, the same length as the .uncompressed files as that should be more than enough data) and run the decomp tests again with the new data?  It would be comforting to know we truely match all the data in the "graphics packs".</div>

					
							<br /><br />
							<span class="gensmall">Last edited by <a href="./memberlist.php?mode=viewprofile&amp;u=716">neviksti</a> on Fri Jul 11, 2008 3:46 pm, edited 1 time in total.</span>
						<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=716"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table width="100%" cellspacing="1" class="tablebg">
	<tr align="center">
		<td class="cat"><form name="viewtopic" method="post" action="./viewtopic.php?f=12&amp;t=4106&amp;start=225"><span class="gensmall">Display posts from previous:</span> <select name="st" id="st"><option value="0" selected="selected">All posts</option><option value="1">1 day</option><option value="7">7 days</option><option value="14">2 weeks</option><option value="30">1 month</option><option value="90">3 months</option><option value="180">6 months</option><option value="365">1 year</option></select>&nbsp;<span class="gensmall">Sort by</span> <select name="sk" id="sk"><option value="a">Author</option><option value="t" selected="selected">Post time</option><option value="s">Subject</option></select> <select name="sd" id="sd"><option value="a" selected="selected">Ascending</option><option value="d">Descending</option></select>&nbsp;<input class="btnlite" type="submit" value="Go" name="sort" /></form></td>
	</tr>
	</table>
	

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=12"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=12&amp;t=4106"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>16</strong> of <strong>21</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 315 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"><b><a href="#" onclick="jumpto(); return false;" title="Click to jump to pageâ€¦">Go to page</a> <a href="./viewtopic.php?f=12&amp;t=4106&amp;start=210">Previous</a>&nbsp;&nbsp;<a href="./viewtopic.php?f=12&amp;t=4106">1</a><span class="page-dots"> ... </span><a href="./viewtopic.php?f=12&amp;t=4106&amp;start=180">13</a><span class="page-sep">, </span><a href="./viewtopic.php?f=12&amp;t=4106&amp;start=195">14</a><span class="page-sep">, </span><a href="./viewtopic.php?f=12&amp;t=4106&amp;start=210">15</a><span class="page-sep">, </span><strong>16</strong><span class="page-sep">, </span><a href="./viewtopic.php?f=12&amp;t=4106&amp;start=240">17</a><span class="page-sep">, </span><a href="./viewtopic.php?f=12&amp;t=4106&amp;start=255">18</a><span class="page-sep">, </span><a href="./viewtopic.php?f=12&amp;t=4106&amp;start=270">19</a><span class="page-dots"> ... </span><a href="./viewtopic.php?f=12&amp;t=4106&amp;start=300">21</a> &nbsp;<a href="./viewtopic.php?f=12&amp;t=4106&amp;start=240">Next</a></b></td>
		
	</tr>
	</table>

</div>

<div id="pagefooter"></div>

<br clear="all" />
<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=25">Other</a> &#187; <a href="./viewforum.php?f=12">SNESdev</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>
	<br clear="all" />

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat"><h4>Who is online</h4></td>
	</tr>
	<tr>
		<td class="row1"><p class="gensmall">Users browsing this forum: No registered users and 1 guest</p></td>
	</tr>
	</table>


<br clear="all" />

<table width="100%" cellspacing="1">
<tr>
	<td width="40%" valign="top" nowrap="nowrap" align="left"></td>
	<td align="right" valign="top" nowrap="nowrap"><span class="gensmall">You <strong>cannot</strong> post new topics in this forum<br />You <strong>cannot</strong> reply to topics in this forum<br />You <strong>cannot</strong> edit your posts in this forum<br />You <strong>cannot</strong> delete your posts in this forum<br />You <strong>cannot</strong> post attachments in this forum<br /></span></td>
</tr>
</table>

<br clear="all" />

<table width="100%" cellspacing="0">
<tr>
	<td><form method="get" name="search" action="./search.php"><span class="gensmall">Search for:</span> <input class="post" type="text" name="keywords" size="20" /> <input class="btnlite" type="submit" value="Go" /><input type="hidden" name="t" value="4106" />
<input type="hidden" name="sf" value="msgonly" />
</form></td>
	<td align="right">
	<form method="post" name="jumpbox" action="./viewforum.php" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	<table cellspacing="0" cellpadding="0" border="0">
	<tr>
		<td nowrap="nowrap"><span class="gensmall">Jump to:</span>&nbsp;<select name="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">

		
			<option value="-1">Select a forum</option>
		<option value="-1">------------------</option>
			<option value="24">NES / Famicom</option>
		
			<option value="2">&nbsp; &nbsp;NESdev</option>
		
			<option value="3">&nbsp; &nbsp;NESemdev</option>
		
			<option value="21">&nbsp; &nbsp;NES Graphics</option>
		
			<option value="6">&nbsp; &nbsp;NES Music</option>
		
			<option value="9">&nbsp; &nbsp;NES Hardware and Flash Equipment</option>
		
			<option value="22">&nbsp; &nbsp;Homebrew Projects</option>
		
			<option value="10">&nbsp; &nbsp;Newbie Help Center</option>
		
			<option value="11">&nbsp; &nbsp;FCdev</option>
		
			<option value="18">&nbsp; &nbsp;NESdev China</option>
		
			<option value="19">&nbsp; &nbsp;NESdev International</option>
		
			<option value="25">Other</option>
		
			<option value="5">&nbsp; &nbsp;General Stuff</option>
		
			<option value="4">&nbsp; &nbsp;Membler Industries</option>
		
			<option value="12" selected="selected">&nbsp; &nbsp;SNESdev</option>
		
			<option value="20">&nbsp; &nbsp;GBDev</option>
		
			<option value="23">&nbsp; &nbsp;Other Retro Dev</option>
		
			<option value="15">&nbsp; &nbsp;Test Forum</option>
		
			<option value="26">Site Issues</option>
		
			<option value="13">&nbsp; &nbsp;phpBB Issues</option>
		
			<option value="14">&nbsp; &nbsp;Web Issues</option>
		
			<option value="16">&nbsp; &nbsp;nesdevWiki</option>
		

		</select>&nbsp;<input class="btnlite" type="submit" value="Go" /></td>
	</tr>
	</table>

	</form>
</td>
</tr>
</table>


</div>

<div id="wrapfooter">
	
	<span class="copyright">Powered by <a href="http://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Group
	</span>
</div>

</body>
</html>