<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - MMC1 32k PRG mode</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">MMC1 32k PRG mode</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=3&amp;t=11379">http://forums.nesdev.com/viewtopic.php?f=3&amp;t=11379</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>matthewtatum</b> [ Mon Jun 30, 2014 10:25 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>MMC1 32k PRG mode</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Hello,<br /><br />This is my first time posting on here so not sure if I'm posting to the right place.<br /><br />I have recently embarked on writing a NES emulator and have found the information on NesDev invaluable but I'm having a few problems emulating Zelda II: The Adventure of Link and I'd like to ask about one of those problems.<br /><br />I get through the title screen and up to the point of registering a name and seeing it on the menu, however once I attempt to start the actual game my emulator crashes as it appears to be trying to execute an op code of $D2 (one of the KIL codes I believe). I have traced this through and it appears that it crashes right after the MMC1 mapper switches to 32K mode. I'm guessing that I have misunderstood the intended workings of 32k mode and as a result an incorrect byte from the PRGROM is being accessed. Could somebody please explain the details of 32k mode.<br /><br />The way I have interpreted it is: <br /><br />If the the PRGBANK register is set to 0 I would expect the 32K to be held like this: <br />$8000 - $BFFF to be held in PRGBANK[0] and<br />$C000 - $FFFF to be held in PRGBANK[1]<br /><br />And if the the PRGBANK register is set to 5 I would expect the 32K to be held like this: (assuming the lowest bit is ignored, we need to drop it giving us a value of 2)<br />$8000 - $BFFF to be held in PRGBANK[2] and<br />$C000 - $FFFF to be held in PRGBANK[3]<br /><br />Also to clarify I have loaded the PRG data from the INES rom file into the PRG banks sequentially (i.e. 16k at a time)<br /><br />I hope this question makes sense.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Mon Jun 30, 2014 10:48 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MMC1 32k PRG mode</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Here's how MMC1's 32K mode works, assuming a &quot;bank&quot; is a 16K iNES bank:<br /><ul><li>If the value of the PRG bank register is 0 or 1, switch PRG ROM bank 0 into $8000-$BFFF and bank 1 into $C000-$FFFF. </li><li>If the value of the PRG bank register is 2 or 3, switch PRG ROM bank 2 into $8000-$BFFF and bank 3 into $C000-$FFFF. </li><li>If the value of the PRG bank register is 4 or 5, switch PRG ROM bank 4 into $8000-$BFFF and bank 5 into $C000-$FFFF. </li><li>... </li><li>If the value of the PRG bank register is 14 or 15, switch PRG ROM bank 14 into $8000-$BFFF and bank 15 into $C000-$FFFF. </li></ul>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Quietust</b> [ Mon Jun 30, 2014 11:37 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MMC1 32k PRG mode</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">matthewtatum wrote:</div><div class="quotecontent">And if the the PRGBANK register is set to 5 I would expect the 32K to be held like this: (assuming the lowest bit is ignored, we need to drop it giving us a value of 2)<br />$8000 - $BFFF to be held in PRGBANK[2] and<br />$C000 - $FFFF to be held in PRGBANK[3]</div><br /><br />There's your problem - when you ignore the bottom bit (and divide the number by 2), you end up with a <strong>32KB</strong> bank number, so if you're mapping 16KB banks, then you need to double it again afterwards (to get 4, then add one to get 5).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>matthewtatum</b> [ Mon Jun 30, 2014 2:38 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MMC1 32k PRG mode</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Thanks for your replies on this, I get the 32k thing now but after fixing my mapper I'm still getting the same problem. Guess there's something else wrong...

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MottZilla</b> [ Mon Jun 30, 2014 11:38 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MMC1 32k PRG mode</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />MMC1 can be confusing to deal with at first. You may need to recheck your work, or write a test ROM to be sure things are operating correctly. You also didn't mention, did you have a trace log of what happens leading up to the crash? Only knowing the last opcode and address attempted to be executed can make it hard to identify where things crashed. <br /><br />If you have an execution log that will help, or even if you maintained a moving log of the last 50 instructions executed and the addresses of those instructions could be helpful in figuring out where things went wrong. <br /><br />You may still be mapping memory wrong when it comes to the 32KB mode, or maybe it's a problem when things switch between 16KB and 32KB modes.<br /><br />If you update PRG pointers on MMC1 writes, you may have forgotten to update those pointers when the mode changes or when the MMC1 gets reset. If the mode changes you need to take the value that was last written to the PRG register and figure out what banks need to be mapped.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>matthewtatum</b> [ Tue Jul 01, 2014 12:37 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MMC1 32k PRG mode</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Here is a trace of what is going on just before the crash:<br /><br />CEAB  A5 LDA                                    A:6E X:00 Y:00 P:24 SP:F9 CYC:0 SL:127<br />CEAD  69 ADC                                    A:A7 X:00 Y:00 P:A4 SP:F9 CYC:9 SL:128<br />CEAF  85 STA                                    A:A7 X:00 Y:00 P:A4 SP:F9 CYC:15 SL:128<br />CEB1  A5 LDA                                    A:A7 X:00 Y:00 P:A4 SP:F9 CYC:24 SL:128<br />CEB3  18 CLC                                    A:6D X:00 Y:00 P:24 SP:F9 CYC:33 SL:128<br />CEB4  69 ADC                                    A:6D X:00 Y:00 P:24 SP:F9 CYC:39 SL:128<br />CEB6  85 STA                                    A:6E X:00 Y:00 P:24 SP:F9 CYC:45 SL:128<br />CEB8  A5 LDA                                    A:6E X:00 Y:00 P:24 SP:F9 CYC:54 SL:128<br />CEBA  69 ADC                                    A:80 X:00 Y:00 P:A4 SP:F9 CYC:63 SL:128<br />CEBC  85 STA                                    A:80 X:00 Y:00 P:A4 SP:F9 CYC:69 SL:128<br />CEBE  A5 LDA                                    A:80 X:00 Y:00 P:A4 SP:F9 CYC:78 SL:128<br />CEC0  38 SEC                                    A:34 X:00 Y:00 P:24 SP:F9 CYC:87 SL:128<br />CEC1  E9 SBC                                    A:34 X:00 Y:00 P:25 SP:F9 CYC:93 SL:128<br />CEC3  85 STA                                    A:33 X:00 Y:00 P:25 SP:F9 CYC:99 SL:128<br />CEC5  A5 LDA                                    A:33 X:00 Y:00 P:25 SP:F9 CYC:108 SL:128<br />CEC7  E9 SBC                                    A:61 X:00 Y:00 P:25 SP:F9 CYC:117 SL:128<br />CEC9  85 STA                                    A:61 X:00 Y:00 P:25 SP:F9 CYC:123 SL:128<br />CECB  05 ORA                                    A:61 X:00 Y:00 P:25 SP:F9 CYC:132 SL:128<br />CECD  D0 BNE                                    A:73 X:00 Y:00 P:25 SP:F9 CYC:141 SL:128<br />CEA0  B1 LDA                                    A:73 X:00 Y:00 P:25 SP:F9 CYC:150 SL:128<br />CEA2  91 STA                                    A:19 X:00 Y:00 P:25 SP:F9 CYC:168 SL:128<br />CEA4  A5 LDA                                    A:19 X:00 Y:00 P:25 SP:F9 CYC:186 SL:128<br />CEA6  18 CLC                                    A:6E X:00 Y:00 P:25 SP:F9 CYC:195 SL:128<br />CEA7  69 ADC                                    A:6E X:00 Y:00 P:24 SP:F9 CYC:201 SL:128<br />CEA9  85 STA                                    A:6F X:00 Y:00 P:24 SP:F9 CYC:207 SL:128<br />CEAB  A5 LDA                                    A:6F X:00 Y:00 P:24 SP:F9 CYC:216 SL:128<br />CEAD  69 ADC                                    A:A7 X:00 Y:00 P:A4 SP:F9 CYC:225 SL:128<br />CEAF  85 STA                                    A:A7 X:00 Y:00 P:A4 SP:F9 CYC:231 SL:128<br />CEB1  A5 LDA                                    A:A7 X:00 Y:00 P:A4 SP:F9 CYC:240 SL:128<br />CEB3  18 CLC                                    A:6E X:00 Y:00 P:24 SP:F9 CYC:249 SL:128<br />CEB4  69 ADC                                    A:6E X:00 Y:00 P:24 SP:F9 CYC:255 SL:128<br />CEB6  85 STA                                    A:6F X:00 Y:00 P:24 SP:F9 CYC:261 SL:128<br />CEB8  A5 LDA                                    A:6F X:00 Y:00 P:24 SP:F9 CYC:270 SL:128<br />CEBA  69 ADC                                    A:80 X:00 Y:00 P:A4 SP:F9 CYC:279 SL:128<br />CEBC  85 STA                                    A:80 X:00 Y:00 P:A4 SP:F9 CYC:285 SL:128<br />CEBE  A5 LDA                                    A:80 X:00 Y:00 P:A4 SP:F9 CYC:294 SL:128<br />CEC0  38 SEC                                    A:33 X:00 Y:00 P:24 SP:F9 CYC:303 SL:128<br />CEC1  E9 SBC                                    A:33 X:00 Y:00 P:25 SP:F9 CYC:309 SL:128<br />CEC3  85 STA                                    A:32 X:00 Y:00 P:25 SP:F9 CYC:315 SL:128<br />CEC5  A5 LDA                                    A:32 X:00 Y:00 P:25 SP:F9 CYC:324 SL:128<br />CEC7  E9 SBC                                    A:61 X:00 Y:00 P:25 SP:F9 CYC:333 SL:128<br />CEC9  85 STA                                    A:61 X:00 Y:00 P:25 SP:F9 CYC:339 SL:128<br />CECB  05 ORA                                    A:61 X:00 Y:00 P:25 SP:F9 CYC:7 SL:129<br />CECD  D0 BNE                                    A:73 X:00 Y:00 P:25 SP:F9 CYC:16 SL:129<br />CEA0  B1 LDA                                    A:73 X:00 Y:00 P:25 SP:F9 CYC:25 SL:129<br />CEA2  91 STA                                    A:AC X:00 Y:00 P:A5 SP:F9 CYC:43 SL:129<br />CEA4  D2 Unknown                             A:AC X:00 Y:00 P:A5 SP:F9 CYC:61 SL:129<br /><br />The STA at CEA2 is the last of 5 writes to memory that causes $10 to be loaded into the control register. Through some debugging I can see that at that point the PRG Bank register has a value of 1 (00001).<br /><br />Based on what I know about MMC1 and the help given to me about 32K mode I believe this address should therefore map to the second 16k bank in the mapper (values 0 or 1 = banks 0 and 1 and this address is &gt; $BFFF so bank 1 is selected)<br /><br />Looking at the zelda 2 rom through a hex editor it would appear that the value at the address in question is indeed $D2 so I'm guessing that something has gone wrong before this point.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>mkwong98</b> [ Tue Jul 01, 2014 12:55 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MMC1 32k PRG mode</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />In my emulator at this point, bank 0 is pointing to 0x4000 and bank 1 is pointing to 0x1C000 and the read return 0xA5

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MottZilla</b> [ Tue Jul 01, 2014 10:08 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MMC1 32k PRG mode</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />If possible you should add to your log the full opcode. It would make debugging much easier since you wouldn't need the ROM and a different debugger to see what is really going on.<br /><br />At the point your emulator crashes, it suggests you are bankswitching when you shouldn't be. There is no bankswitch that should occur at that time. The game is writing the PRG-RAM at that time. Check your MMC1 register writing code. <br /><br />Anytime $8000-$FFFF is written it affects the LOAD register. Once the load register is full with 5 bits written to it, then you check where the last write occurred ($8000-$9FFF,$A000-$BFFF,$C000-$DFFF,$E000-$FFFF) to see which register gets updated. Be sure that if at any time the LOAD register has the reset bit set that you reset the LOAD Counter and it should also return to 16K/16K mode.<br /><br />You could always post your MMC1 code to see if anyone can spot anything that might be wrong.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>matthewtatum</b> [ Tue Jul 01, 2014 3:57 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MMC1 32k PRG mode</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I've enhanced the logging slightly to include a bit more info and then I've filtered the results to include only the STA operations that are for $8000 and above.<br /><br />There seems to be some kind of loop in the program that starts from address $6D00 and continues like this: <br /><br />CEA2  91 STA  $6d00              A:39 X:00 Y:00 P:24 SP:F9 CYC:0 SL:177 Control:01111 Prg:00001 Chr0:00000 Chr1:00000 Shift:10000<br />CEA2  91 STA  $6d01              A:96 X:00 Y:00 P:A5 SP:F9 CYC:0 SL:177 Control:01111 Prg:00001 Chr0:00000 Chr1:00000 Shift:10000<br />CEA2  91 STA  $6d02              A:47 X:00 Y:00 P:25 SP:F9 CYC:0 SL:178 Control:01111 Prg:00001 Chr0:00000 Chr1:00000 Shift:10000<br />.<br />.<br />.<br />.<br />.<br />.<br />CEA2  91 STA  $7fff              A:09 X:00 Y:00 P:24 SP:F9 CYC:0 SL:65 Control:01111 Prg:00001 Chr0:00000 Chr1:00000 Shift:10000<br />CEA2  91 STA  $8000              A:5B X:00 Y:00 P:24 SP:F9 CYC:0 SL:65 Control:01111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11000<br />CEA2  91 STA  $8001              A:3C X:00 Y:00 P:24 SP:F9 CYC:0 SL:66 Control:01111 Prg:00001 Chr0:00000 Chr1:00000 Shift:01100<br />CEA2  91 STA  $8002              A:4B X:00 Y:00 P:24 SP:F9 CYC:0 SL:66 Control:01111 Prg:00001 Chr0:00000 Chr1:00000 Shift:10110<br />CEA2  91 STA  $8003              A:01 X:00 Y:00 P:65 SP:F9 CYC:0 SL:67 Control:01111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11011<br />CEA2  91 STA  $8004              A:29 X:00 Y:00 P:25 SP:F9 CYC:0 SL:68 Control:11101 Prg:00001 Chr0:00000 Chr1:00000 Shift:10000<br />CEA2  91 STA  $8005              A:01 X:00 Y:00 P:25 SP:F9 CYC:0 SL:69 Control:11101 Prg:00001 Chr0:00000 Chr1:00000 Shift:11000<br />CEA2  91 STA  $8006              A:3B X:00 Y:00 P:25 SP:F9 CYC:0 SL:69 Control:11101 Prg:00001 Chr0:00000 Chr1:00000 Shift:11100<br />CEA2  91 STA  $8007              A:01 X:00 Y:00 P:25 SP:F9 CYC:0 SL:70 Control:11101 Prg:00001 Chr0:00000 Chr1:00000 Shift:11110<br />CEA2  91 STA  $8008              A:1B X:00 Y:00 P:25 SP:F9 CYC:0 SL:71 Control:11101 Prg:00001 Chr0:00000 Chr1:00000 Shift:11111<br />CEA2  91 STA  $8009              A:29 X:00 Y:00 P:25 SP:F9 CYC:0 SL:71 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:10000<br />CEA2  91 STA  $800a              A:1B X:00 Y:00 P:25 SP:F9 CYC:0 SL:72 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11000<br />CEA2  91 STA  $800b              A:09 X:00 Y:00 P:25 SP:F9 CYC:0 SL:73 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11100<br />CEA2  91 STA  $800c              A:EC X:00 Y:00 P:A5 SP:F9 CYC:0 SL:73 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:10000<br />CEA2  91 STA  $800d              A:2B X:00 Y:00 P:25 SP:F9 CYC:0 SL:74 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11000<br />CEA2  91 STA  $800e              A:09 X:00 Y:00 P:25 SP:F9 CYC:0 SL:75 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11100<br />CEA2  91 STA  $800f              A:2B X:00 Y:00 P:25 SP:F9 CYC:0 SL:75 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11110<br />CEA2  91 STA  $8010              A:09 X:00 Y:00 P:25 SP:F9 CYC:0 SL:76 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11111<br />CEA2  91 STA  $8011              A:0B X:00 Y:00 P:25 SP:F9 CYC:0 SL:77 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:10000<br />CEA2  91 STA  $8012              A:09 X:00 Y:00 P:25 SP:F9 CYC:0 SL:78 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11000<br />CEA2  91 STA  $8013              A:2B X:00 Y:00 P:25 SP:F9 CYC:0 SL:78 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11100<br />CEA2  91 STA  $8014              A:09 X:00 Y:00 P:25 SP:F9 CYC:0 SL:79 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11110<br />CEA2  91 STA  $8015              A:0B X:00 Y:00 P:25 SP:F9 CYC:0 SL:80 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11111<br />CEA2  91 STA  $8016              A:09 X:00 Y:00 P:25 SP:F9 CYC:0 SL:80 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:10000<br />CEA2  91 STA  $8017              A:5B X:00 Y:00 P:25 SP:F9 CYC:0 SL:81 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11000<br />CEA2  91 STA  $8018              A:3C X:00 Y:00 P:25 SP:F9 CYC:0 SL:82 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:01100<br />CEA2  91 STA  $8019              A:2B X:00 Y:00 P:25 SP:F9 CYC:0 SL:82 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:10110<br />CEA2  91 STA  $801a              A:01 X:00 Y:00 P:25 SP:F9 CYC:0 SL:83 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11011<br />CEA2  91 STA  $801b              A:1B X:00 Y:00 P:25 SP:F9 CYC:0 SL:84 Control:11101 Prg:00001 Chr0:00000 Chr1:00000 Shift:10000<br />CEA2  91 STA  $801c              A:29 X:00 Y:00 P:25 SP:F9 CYC:0 SL:84 Control:11101 Prg:00001 Chr0:00000 Chr1:00000 Shift:11000<br />CEA2  91 STA  $801d              A:1B X:00 Y:00 P:25 SP:F9 CYC:0 SL:85 Control:11101 Prg:00001 Chr0:00000 Chr1:00000 Shift:11100<br />CEA2  91 STA  $801e              A:01 X:00 Y:00 P:25 SP:F9 CYC:0 SL:86 Control:11101 Prg:00001 Chr0:00000 Chr1:00000 Shift:11110<br />CEA2  91 STA  $801f              A:29 X:00 Y:00 P:25 SP:F9 CYC:0 SL:86 Control:11101 Prg:00001 Chr0:00000 Chr1:00000 Shift:11111<br />CEA2  91 STA  $8020              A:0B X:00 Y:00 P:25 SP:F9 CYC:0 SL:87 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:10000<br />CEA2  91 STA  $8021              A:01 X:00 Y:00 P:25 SP:F9 CYC:0 SL:88 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11000<br />CEA2  91 STA  $8022              A:29 X:00 Y:00 P:25 SP:F9 CYC:0 SL:88 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11100<br />CEA2  91 STA  $8023              A:01 X:00 Y:00 P:25 SP:F9 CYC:0 SL:89 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11110<br />CEA2  91 STA  $8024              A:0B X:00 Y:00 P:25 SP:F9 CYC:0 SL:90 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11111<br />CEA2  91 STA  $8025              A:19 X:00 Y:00 P:25 SP:F9 CYC:0 SL:90 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:10000<br />CEA2  91 STA  $8026              A:DC X:00 Y:00 P:A5 SP:F9 CYC:0 SL:91 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:10000<br />CEA2  91 STA  $8027              A:2B X:00 Y:00 P:25 SP:F9 CYC:0 SL:92 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11000<br />CEA2  91 STA  $8028              A:49 X:00 Y:00 P:25 SP:F9 CYC:0 SL:93 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11100<br />CEA2  91 STA  $8029              A:0B X:00 Y:00 P:25 SP:F9 CYC:0 SL:93 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11110<br />CEA2  91 STA  $802a              A:29 X:00 Y:00 P:25 SP:F9 CYC:0 SL:94 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11111<br />CEA2  91 STA  $802b              A:0B X:00 Y:00 P:25 SP:F9 CYC:0 SL:95 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:10000<br />CEA2  91 STA  $802c              A:09 X:00 Y:00 P:25 SP:F9 CYC:0 SL:95 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11000<br />CEA2  91 STA  $802d              A:0B X:00 Y:00 P:25 SP:F9 CYC:0 SL:96 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11100<br />CEA2  91 STA  $802e              A:09 X:00 Y:00 P:25 SP:F9 CYC:0 SL:97 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11110<br />CEA2  91 STA  $802f              A:6B X:00 Y:00 P:25 SP:F9 CYC:0 SL:97 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11111<br />CEA2  91 STA  $8030              A:2C X:00 Y:00 P:25 SP:F9 CYC:0 SL:98 Control:01111 Prg:00001 Chr0:00000 Chr1:00000 Shift:10000<br />CEA2  91 STA  $8031              A:1B X:00 Y:00 P:25 SP:F9 CYC:0 SL:99 Control:01111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11000<br />CEA2  91 STA  $8032              A:19 X:00 Y:00 P:25 SP:F9 CYC:0 SL:99 Control:01111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11100<br />CEA2  91 STA  $8033              A:7B X:00 Y:00 P:25 SP:F9 CYC:0 SL:100 Control:01111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11110<br />CEA2  91 STA  $8034              A:29 X:00 Y:00 P:25 SP:F9 CYC:0 SL:101 Control:01111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11111<br />CEA2  91 STA  $8035              A:1B X:00 Y:00 P:25 SP:F9 CYC:0 SL:102 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:10000<br />CEA2  91 STA  $8036              A:19 X:00 Y:00 P:25 SP:F9 CYC:0 SL:102 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11000<br />CEA2  91 STA  $8037              A:3B X:00 Y:00 P:25 SP:F9 CYC:0 SL:103 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11100<br />CEA2  91 STA  $8038              A:19 X:00 Y:00 P:25 SP:F9 CYC:0 SL:103 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11110<br />CEA2  91 STA  $8039              A:CC X:00 Y:00 P:A5 SP:F9 CYC:0 SL:104 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:10000<br />CEA2  91 STA  $803a              A:AB X:00 Y:00 P:A5 SP:F9 CYC:0 SL:105 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:10000<br />CEA2  91 STA  $803b              A:09 X:00 Y:00 P:25 SP:F9 CYC:0 SL:105 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11000<br />CEA2  91 STA  $803c              A:0B X:00 Y:00 P:25 SP:F9 CYC:0 SL:106 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11100<br />CEA2  91 STA  $803d              A:09 X:00 Y:00 P:25 SP:F9 CYC:0 SL:107 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11110<br />CEA2  91 STA  $803e              A:0B X:00 Y:00 P:25 SP:F9 CYC:0 SL:108 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11111<br />CEA2  91 STA  $803f              A:09 X:00 Y:00 P:25 SP:F9 CYC:0 SL:108 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:10000<br />CEA2  91 STA  $8040              A:7B X:00 Y:00 P:25 SP:F9 CYC:0 SL:109 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11000<br />CEA2  91 STA  $8041              A:1C X:00 Y:00 P:25 SP:F9 CYC:0 SL:110 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:01100<br />CEA2  91 STA  $8042              A:0B X:00 Y:00 P:25 SP:F9 CYC:0 SL:110 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:10110<br />CEA2  91 STA  $8043              A:29 X:00 Y:00 P:25 SP:F9 CYC:0 SL:111 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11011<br />CEA2  91 STA  $8044              A:6B X:00 Y:00 P:25 SP:F9 CYC:0 SL:112 Control:11101 Prg:00001 Chr0:00000 Chr1:00000 Shift:10000<br />CEA2  91 STA  $8045              A:29 X:00 Y:00 P:25 SP:F9 CYC:0 SL:112 Control:11101 Prg:00001 Chr0:00000 Chr1:00000 Shift:11000<br />CEA2  91 STA  $8046              A:5B X:00 Y:00 P:25 SP:F9 CYC:0 SL:113 Control:11101 Prg:00001 Chr0:00000 Chr1:00000 Shift:11100<br />CEA2  91 STA  $8047              A:01 X:00 Y:00 P:25 SP:F9 CYC:0 SL:114 Control:11101 Prg:00001 Chr0:00000 Chr1:00000 Shift:11110<br />CEA2  91 STA  $8048              A:2B X:00 Y:00 P:25 SP:F9 CYC:0 SL:114 Control:11101 Prg:00001 Chr0:00000 Chr1:00000 Shift:11111<br />CEA2  91 STA  $8049              A:19 X:00 Y:00 P:25 SP:F9 CYC:0 SL:115 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:10000<br />CEA2  91 STA  $804a              A:BC X:00 Y:00 P:A5 SP:F9 CYC:0 SL:116 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:10000<br />CEA2  91 STA  $804b              A:2B X:00 Y:00 P:25 SP:F9 CYC:0 SL:116 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11000<br />CEA2  91 STA  $804c              A:89 X:00 Y:00 P:A5 SP:F9 CYC:0 SL:117 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:10000<br />CEA2  91 STA  $804d              A:0B X:00 Y:00 P:25 SP:F9 CYC:0 SL:118 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11000<br />CEA2  91 STA  $804e              A:09 X:00 Y:00 P:25 SP:F9 CYC:0 SL:118 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11100<br />CEA2  91 STA  $804f              A:0B X:00 Y:00 P:25 SP:F9 CYC:0 SL:119 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11110<br />CEA2  91 STA  $8050              A:09 X:00 Y:00 P:25 SP:F9 CYC:0 SL:120 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11111<br />CEA2  91 STA  $8051              A:7B X:00 Y:00 P:25 SP:F9 CYC:0 SL:120 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:10000<br />CEA2  91 STA  $8052              A:1C X:00 Y:00 P:25 SP:F9 CYC:0 SL:121 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:01000<br />CEA2  91 STA  $8053              A:39 X:00 Y:00 P:25 SP:F9 CYC:0 SL:122 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:10100<br />CEA2  91 STA  $8054              A:01 X:00 Y:00 P:25 SP:F9 CYC:0 SL:122 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11010<br />CEA2  91 STA  $8055              A:4B X:00 Y:00 P:25 SP:F9 CYC:0 SL:123 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11101<br />CEA2  91 STA  $8056              A:01 X:00 Y:00 P:25 SP:F9 CYC:0 SL:124 Control:11110 Prg:00001 Chr0:00000 Chr1:00000 Shift:10000<br />CEA2  91 STA  $8057              A:29 X:00 Y:00 P:25 SP:F9 CYC:0 SL:125 Control:11110 Prg:00001 Chr0:00000 Chr1:00000 Shift:11000<br />CEA2  91 STA  $8058              A:5B X:00 Y:00 P:25 SP:F9 CYC:0 SL:125 Control:11110 Prg:00001 Chr0:00000 Chr1:00000 Shift:11100<br />CEA2  91 STA  $8059              A:19 X:00 Y:00 P:25 SP:F9 CYC:0 SL:126 Control:11110 Prg:00001 Chr0:00000 Chr1:00000 Shift:11110<br />CEA2  91 STA  $805a              A:2B X:00 Y:00 P:25 SP:F9 CYC:0 SL:127 Control:11110 Prg:00001 Chr0:00000 Chr1:00000 Shift:11111<br />CEA2  91 STA  $805b              A:09 X:00 Y:00 P:25 SP:F9 CYC:0 SL:127 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:10000<br />CEA2  91 STA  $805c              A:BC X:00 Y:00 P:A5 SP:F9 CYC:0 SL:128 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:10000<br />CEA2  91 STA  $805d              A:2B X:00 Y:00 P:25 SP:F9 CYC:0 SL:129 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11000<br />CEA2  91 STA  $805e              A:09 X:00 Y:00 P:25 SP:F9 CYC:0 SL:129 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11100<br />CEA2  91 STA  $805f              A:6B X:00 Y:00 P:25 SP:F9 CYC:0 SL:130 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11110<br />CEA2  91 STA  $8060              A:09 X:00 Y:00 P:25 SP:F9 CYC:0 SL:131 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11111<br />CEA2  91 STA  $8061              A:0B X:00 Y:00 P:25 SP:F9 CYC:0 SL:132 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:10000<br />CEA2  91 STA  $8062              A:09 X:00 Y:00 P:25 SP:F9 CYC:0 SL:132 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11000<br />CEA2  91 STA  $8063              A:0B X:00 Y:00 P:25 SP:F9 CYC:0 SL:133 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11100<br />CEA2  91 STA  $8064              A:09 X:00 Y:00 P:25 SP:F9 CYC:0 SL:134 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11110<br />CEA2  91 STA  $8065              A:7B X:00 Y:00 P:25 SP:F9 CYC:0 SL:134 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11111<br />CEA2  91 STA  $8066              A:1C X:00 Y:00 P:25 SP:F9 CYC:0 SL:135 Control:01111 Prg:00001 Chr0:00000 Chr1:00000 Shift:10000<br />CEA2  91 STA  $8067              A:29 X:00 Y:00 P:25 SP:F9 CYC:0 SL:136 Control:01111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11000<br />CEA2  91 STA  $8068              A:4B X:00 Y:00 P:25 SP:F9 CYC:0 SL:136 Control:01111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11100<br />CEA2  91 STA  $8069              A:01 X:00 Y:00 P:25 SP:F9 CYC:0 SL:137 Control:01111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11110<br />CEA2  91 STA  $806a              A:AB X:00 Y:00 P:A5 SP:F9 CYC:0 SL:138 Control:01111 Prg:00001 Chr0:00000 Chr1:00000 Shift:10000<br />CEA2  91 STA  $806b              A:19 X:00 Y:00 P:25 SP:F9 CYC:0 SL:138 Control:01111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11000<br />CEA2  91 STA  $806c              A:01 X:00 Y:00 P:25 SP:F9 CYC:0 SL:139 Control:01111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11100<br />CEA2  91 STA  $806d              A:1B X:00 Y:00 P:25 SP:F9 CYC:0 SL:140 Control:01111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11110<br />CEA2  91 STA  $806e              A:19 X:00 Y:00 P:25 SP:F9 CYC:0 SL:140 Control:01111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11111<br />CEA2  91 STA  $806f              A:AC X:00 Y:00 P:A5 SP:F9 CYC:0 SL:141 Control:01111 Prg:00001 Chr0:00000 Chr1:00000 Shift:10000<br />CEA2  91 STA  $8070              A:2B X:00 Y:00 P:25 SP:F9 CYC:0 SL:142 Control:01111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11000<br />CEA2  91 STA  $8071              A:69 X:00 Y:00 P:25 SP:F9 CYC:0 SL:142 Control:01111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11100<br />CEA2  91 STA  $8072              A:0B X:00 Y:00 P:25 SP:F9 CYC:0 SL:143 Control:01111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11110<br />CEA2  91 STA  $8073              A:09 X:00 Y:00 P:25 SP:F9 CYC:0 SL:144 Control:01111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11111<br />CEA2  91 STA  $8074              A:0B X:00 Y:00 P:25 SP:F9 CYC:0 SL:144 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:10000<br />CEA2  91 STA  $8075              A:69 X:00 Y:00 P:25 SP:F9 CYC:0 SL:145 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11000<br />CEA2  91 STA  $8076              A:2B X:00 Y:00 P:25 SP:F9 CYC:0 SL:146 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:11100<br />CEA2  91 STA  $8077              A:2C X:00 Y:00 P:25 SP:F9 CYC:0 SL:146 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:01110<br />CEA2  91 STA  $8078              A:29 X:00 Y:00 P:25 SP:F9 CYC:0 SL:147 Control:11111 Prg:00001 Chr0:00000 Chr1:00000 Shift:10111<br />CEA2  91 STA  $8079              A:2B X:00 Y:00 P:25 SP:F9 CYC:0 SL:148 Control:11011 Prg:00001 Chr0:00000 Chr1:00000 Shift:10000<br /><br />Once the address gets above $8000 it starts having an effect on the control register and eventually things go wrong. I'm not sure whether this loop is the correct behaviour of the program or not.<br /><br />I'm guessing this is supposed to be setting up some values in the $6000-$7FFF range (the battery backed section) - I would imagine that it's not supposed to &quot;spill over&quot; into the PRG Rom address space above $7FFF

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Quietust</b> [ Tue Jul 01, 2014 7:05 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MMC1 32k PRG mode</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I think what MottZilla was asking for was to report the actual instruction and addressing mode - that is, those particular instructions should look something more like &quot;STA ($00),Y&quot; (or, if you want to include all of the details of the addressing going on, &quot;STA ($00),Y = 0700 @ 07F6 = 00&quot;).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MottZilla</b> [ Tue Jul 01, 2014 9:29 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MMC1 32k PRG mode</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />You may have a CPU bug if the game is looping and writing into the $8000 and up area. It would not be unusual for a game to copy something into the $6000-$7FFF range. But it shouldn't be reaching the upper area as that will be writing the various mapper registers and eventually is probably what causes your crash. So maybe you need to examine your execution or test your CPU.<br /><br />Quietust is correct about what I meant about CPU logging. You should be able to see your CPU log and see exactly what the CPU is doing. It helps anyone reading it figure out what is going on and perhaps what is going wrong.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>matthewtatum</b> [ Wed Jul 02, 2014 12:47 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MMC1 32k PRG mode</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />OK thanks I will improve my execution logging as you suggest. My CPU passes all the nestest.nes tests, could anyone recommend a test rom that might show up the problem?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>matthewtatum</b> [ Wed Jul 02, 2014 2:47 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MMC1 32k PRG mode</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Here are the last few iterations of the loop before the crash with (what I hope is) the execution log info you asked for:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">CEA0&nbsp; B1 00&nbsp; &nbsp; &nbsp; &nbsp; LDA ($00, X) = $A775 @ A775 = 69&nbsp; A:6D X:00 Y:00 P:25 SP:F9 CYC:0 SL:141<br />CEA2&nbsp; 91 02&nbsp; &nbsp; &nbsp; &nbsp; STA ($02, X) = $8075 @ 8075 = 0F&nbsp; A:69 X:00 Y:00 P:25 SP:F9 CYC:0 SL:141<br />CEA4&nbsp; A5 00&nbsp; &nbsp; &nbsp; &nbsp; LDA $00&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:69 X:00 Y:00 P:25 SP:F9 CYC:0 SL:141<br />CEA6&nbsp; 18&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;CLC&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:75 X:00 Y:00 P:25 SP:F9 CYC:0 SL:141<br />CEA7&nbsp; 69 01&nbsp; &nbsp; &nbsp; &nbsp; ADC #01&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:75 X:00 Y:00 P:24 SP:F9 CYC:0 SL:141<br />CEA9&nbsp; 85 00&nbsp; &nbsp; &nbsp; &nbsp; STA $00&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:76 X:00 Y:00 P:24 SP:F9 CYC:0 SL:142<br />CEAB&nbsp; A5 01&nbsp; &nbsp; &nbsp; &nbsp; LDA $01&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:76 X:00 Y:00 P:24 SP:F9 CYC:0 SL:142<br />CEAD&nbsp; 69 00&nbsp; &nbsp; &nbsp; &nbsp; ADC #00&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:A7 X:00 Y:00 P:A4 SP:F9 CYC:0 SL:142<br />CEAF&nbsp; 85 01&nbsp; &nbsp; &nbsp; &nbsp; STA $01&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:A7 X:00 Y:00 P:A4 SP:F9 CYC:0 SL:142<br />CEB1&nbsp; A5 02&nbsp; &nbsp; &nbsp; &nbsp; LDA $02&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:A7 X:00 Y:00 P:A4 SP:F9 CYC:0 SL:142<br />CEB3&nbsp; 18&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;CLC&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:75 X:00 Y:00 P:24 SP:F9 CYC:0 SL:142<br />CEB4&nbsp; 69 01&nbsp; &nbsp; &nbsp; &nbsp; ADC #01&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:75 X:00 Y:00 P:24 SP:F9 CYC:0 SL:142<br />CEB6&nbsp; 85 02&nbsp; &nbsp; &nbsp; &nbsp; STA $02&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:76 X:00 Y:00 P:24 SP:F9 CYC:0 SL:142<br />CEB8&nbsp; A5 03&nbsp; &nbsp; &nbsp; &nbsp; LDA $03&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:76 X:00 Y:00 P:24 SP:F9 CYC:0 SL:142<br />CEBA&nbsp; 69 00&nbsp; &nbsp; &nbsp; &nbsp; ADC #00&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:80 X:00 Y:00 P:A4 SP:F9 CYC:0 SL:142<br />CEBC&nbsp; 85 03&nbsp; &nbsp; &nbsp; &nbsp; STA $03&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:80 X:00 Y:00 P:A4 SP:F9 CYC:0 SL:142<br />CEBE&nbsp; A5 04&nbsp; &nbsp; &nbsp; &nbsp; LDA $04&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:80 X:00 Y:00 P:A4 SP:F9 CYC:0 SL:142<br />CEC0&nbsp; 38&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;SEC&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:2C X:00 Y:00 P:24 SP:F9 CYC:0 SL:142<br />CEC1&nbsp; E9 01&nbsp; &nbsp; &nbsp; &nbsp; SBC #01&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:2C X:00 Y:00 P:25 SP:F9 CYC:0 SL:142<br />CEC3&nbsp; 85 04&nbsp; &nbsp; &nbsp; &nbsp; STA $04&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:2B X:00 Y:00 P:25 SP:F9 CYC:0 SL:142<br />CEC5&nbsp; A5 05&nbsp; &nbsp; &nbsp; &nbsp; LDA $05&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:2B X:00 Y:00 P:25 SP:F9 CYC:0 SL:142<br />CEC7&nbsp; E9 00&nbsp; &nbsp; &nbsp; &nbsp; SBC #00&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:61 X:00 Y:00 P:25 SP:F9 CYC:0 SL:142<br />CEC9&nbsp; 85 05&nbsp; &nbsp; &nbsp; &nbsp; STA $05&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:61 X:00 Y:00 P:25 SP:F9 CYC:0 SL:142<br />CECB&nbsp; 05 04&nbsp; &nbsp; &nbsp; &nbsp; ORA $04&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:61 X:00 Y:00 P:25 SP:F9 CYC:0 SL:142<br />CECD&nbsp; D0 D1&nbsp; &nbsp; &nbsp; &nbsp; BNE #D1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:6B X:00 Y:00 P:25 SP:F9 CYC:0 SL:142<br />CEA0&nbsp; B1 00&nbsp; &nbsp; &nbsp; &nbsp; LDA ($00, X) = $A776 @ A776 = 2B&nbsp; A:6B X:00 Y:00 P:25 SP:F9 CYC:0 SL:142<br />CEA2&nbsp; 91 02&nbsp; &nbsp; &nbsp; &nbsp; STA ($02, X) = $8076 @ 8076 = 03&nbsp; A:2B X:00 Y:00 P:25 SP:F9 CYC:0 SL:142<br />CEA4&nbsp; A5 00&nbsp; &nbsp; &nbsp; &nbsp; LDA $00&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:2B X:00 Y:00 P:25 SP:F9 CYC:0 SL:142<br />CEA6&nbsp; 18&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;CLC&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:76 X:00 Y:00 P:25 SP:F9 CYC:0 SL:142<br />CEA7&nbsp; 69 01&nbsp; &nbsp; &nbsp; &nbsp; ADC #01&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:76 X:00 Y:00 P:24 SP:F9 CYC:0 SL:142<br />CEA9&nbsp; 85 00&nbsp; &nbsp; &nbsp; &nbsp; STA $00&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:77 X:00 Y:00 P:24 SP:F9 CYC:0 SL:142<br />CEAB&nbsp; A5 01&nbsp; &nbsp; &nbsp; &nbsp; LDA $01&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:77 X:00 Y:00 P:24 SP:F9 CYC:0 SL:142<br />CEAD&nbsp; 69 00&nbsp; &nbsp; &nbsp; &nbsp; ADC #00&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:A7 X:00 Y:00 P:A4 SP:F9 CYC:0 SL:142<br />CEAF&nbsp; 85 01&nbsp; &nbsp; &nbsp; &nbsp; STA $01&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:A7 X:00 Y:00 P:A4 SP:F9 CYC:0 SL:142<br />CEB1&nbsp; A5 02&nbsp; &nbsp; &nbsp; &nbsp; LDA $02&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:A7 X:00 Y:00 P:A4 SP:F9 CYC:0 SL:142<br />CEB3&nbsp; 18&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;CLC&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:76 X:00 Y:00 P:24 SP:F9 CYC:0 SL:142<br />CEB4&nbsp; 69 01&nbsp; &nbsp; &nbsp; &nbsp; ADC #01&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:76 X:00 Y:00 P:24 SP:F9 CYC:0 SL:142<br />CEB6&nbsp; 85 02&nbsp; &nbsp; &nbsp; &nbsp; STA $02&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:77 X:00 Y:00 P:24 SP:F9 CYC:0 SL:142<br />CEB8&nbsp; A5 03&nbsp; &nbsp; &nbsp; &nbsp; LDA $03&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:77 X:00 Y:00 P:24 SP:F9 CYC:0 SL:142<br />CEBA&nbsp; 69 00&nbsp; &nbsp; &nbsp; &nbsp; ADC #00&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:80 X:00 Y:00 P:A4 SP:F9 CYC:0 SL:142<br />CEBC&nbsp; 85 03&nbsp; &nbsp; &nbsp; &nbsp; STA $03&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:80 X:00 Y:00 P:A4 SP:F9 CYC:0 SL:142<br />CEBE&nbsp; A5 04&nbsp; &nbsp; &nbsp; &nbsp; LDA $04&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:80 X:00 Y:00 P:A4 SP:F9 CYC:0 SL:142<br />CEC0&nbsp; 38&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;SEC&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:2B X:00 Y:00 P:24 SP:F9 CYC:0 SL:142<br />CEC1&nbsp; E9 01&nbsp; &nbsp; &nbsp; &nbsp; SBC #01&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:2B X:00 Y:00 P:25 SP:F9 CYC:0 SL:142<br />CEC3&nbsp; 85 04&nbsp; &nbsp; &nbsp; &nbsp; STA $04&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:2A X:00 Y:00 P:25 SP:F9 CYC:0 SL:142<br />CEC5&nbsp; A5 05&nbsp; &nbsp; &nbsp; &nbsp; LDA $05&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:2A X:00 Y:00 P:25 SP:F9 CYC:0 SL:142<br />CEC7&nbsp; E9 00&nbsp; &nbsp; &nbsp; &nbsp; SBC #00&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:61 X:00 Y:00 P:25 SP:F9 CYC:0 SL:143<br />CEC9&nbsp; 85 05&nbsp; &nbsp; &nbsp; &nbsp; STA $05&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:61 X:00 Y:00 P:25 SP:F9 CYC:0 SL:143<br />CECB&nbsp; 05 04&nbsp; &nbsp; &nbsp; &nbsp; ORA $04&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:61 X:00 Y:00 P:25 SP:F9 CYC:0 SL:143<br />CECD&nbsp; D0 D1&nbsp; &nbsp; &nbsp; &nbsp; BNE #D1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:6B X:00 Y:00 P:25 SP:F9 CYC:0 SL:143<br />CEA0&nbsp; B1 00&nbsp; &nbsp; &nbsp; &nbsp; LDA ($00, X) = $A777 @ A777 = 2C&nbsp; A:6B X:00 Y:00 P:25 SP:F9 CYC:0 SL:143<br />CEA2&nbsp; 91 02&nbsp; &nbsp; &nbsp; &nbsp; STA ($02, X) = $8077 @ 8077 = 27&nbsp; A:2C X:00 Y:00 P:25 SP:F9 CYC:0 SL:143<br />CEA4&nbsp; A5 00&nbsp; &nbsp; &nbsp; &nbsp; LDA $00&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:2C X:00 Y:00 P:25 SP:F9 CYC:0 SL:143<br />CEA6&nbsp; 18&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;CLC&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:77 X:00 Y:00 P:25 SP:F9 CYC:0 SL:143<br />CEA7&nbsp; 69 01&nbsp; &nbsp; &nbsp; &nbsp; ADC #01&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:77 X:00 Y:00 P:24 SP:F9 CYC:0 SL:143<br />CEA9&nbsp; 85 00&nbsp; &nbsp; &nbsp; &nbsp; STA $00&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:78 X:00 Y:00 P:24 SP:F9 CYC:0 SL:143<br />CEAB&nbsp; A5 01&nbsp; &nbsp; &nbsp; &nbsp; LDA $01&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:78 X:00 Y:00 P:24 SP:F9 CYC:0 SL:143<br />CEAD&nbsp; 69 00&nbsp; &nbsp; &nbsp; &nbsp; ADC #00&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:A7 X:00 Y:00 P:A4 SP:F9 CYC:0 SL:143<br />CEAF&nbsp; 85 01&nbsp; &nbsp; &nbsp; &nbsp; STA $01&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:A7 X:00 Y:00 P:A4 SP:F9 CYC:0 SL:143<br />CEB1&nbsp; A5 02&nbsp; &nbsp; &nbsp; &nbsp; LDA $02&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:A7 X:00 Y:00 P:A4 SP:F9 CYC:0 SL:143<br />CEB3&nbsp; 18&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;CLC&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:77 X:00 Y:00 P:24 SP:F9 CYC:0 SL:143<br />CEB4&nbsp; 69 01&nbsp; &nbsp; &nbsp; &nbsp; ADC #01&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:77 X:00 Y:00 P:24 SP:F9 CYC:0 SL:143<br />CEB6&nbsp; 85 02&nbsp; &nbsp; &nbsp; &nbsp; STA $02&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:78 X:00 Y:00 P:24 SP:F9 CYC:0 SL:143<br />CEB8&nbsp; A5 03&nbsp; &nbsp; &nbsp; &nbsp; LDA $03&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:78 X:00 Y:00 P:24 SP:F9 CYC:0 SL:143<br />CEBA&nbsp; 69 00&nbsp; &nbsp; &nbsp; &nbsp; ADC #00&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:80 X:00 Y:00 P:A4 SP:F9 CYC:0 SL:143<br />CEBC&nbsp; 85 03&nbsp; &nbsp; &nbsp; &nbsp; STA $03&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:80 X:00 Y:00 P:A4 SP:F9 CYC:0 SL:143<br />CEBE&nbsp; A5 04&nbsp; &nbsp; &nbsp; &nbsp; LDA $04&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:80 X:00 Y:00 P:A4 SP:F9 CYC:0 SL:143<br />CEC0&nbsp; 38&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;SEC&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:2A X:00 Y:00 P:24 SP:F9 CYC:0 SL:143<br />CEC1&nbsp; E9 01&nbsp; &nbsp; &nbsp; &nbsp; SBC #01&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:2A X:00 Y:00 P:25 SP:F9 CYC:0 SL:143<br />CEC3&nbsp; 85 04&nbsp; &nbsp; &nbsp; &nbsp; STA $04&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:29 X:00 Y:00 P:25 SP:F9 CYC:0 SL:143<br />CEC5&nbsp; A5 05&nbsp; &nbsp; &nbsp; &nbsp; LDA $05&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:29 X:00 Y:00 P:25 SP:F9 CYC:0 SL:143<br />CEC7&nbsp; E9 00&nbsp; &nbsp; &nbsp; &nbsp; SBC #00&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:61 X:00 Y:00 P:25 SP:F9 CYC:0 SL:143<br />CEC9&nbsp; 85 05&nbsp; &nbsp; &nbsp; &nbsp; STA $05&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:61 X:00 Y:00 P:25 SP:F9 CYC:0 SL:143<br />CECB&nbsp; 05 04&nbsp; &nbsp; &nbsp; &nbsp; ORA $04&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:61 X:00 Y:00 P:25 SP:F9 CYC:0 SL:143<br />CECD&nbsp; D0 D1&nbsp; &nbsp; &nbsp; &nbsp; BNE #D1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:69 X:00 Y:00 P:25 SP:F9 CYC:0 SL:143<br />CEA0&nbsp; B1 00&nbsp; &nbsp; &nbsp; &nbsp; LDA ($00, X) = $A778 @ A778 = 29&nbsp; A:69 X:00 Y:00 P:25 SP:F9 CYC:0 SL:143<br />CEA2&nbsp; 91 02&nbsp; &nbsp; &nbsp; &nbsp; STA ($02, X) = $8078 @ 8078 = 16&nbsp; A:29 X:00 Y:00 P:25 SP:F9 CYC:0 SL:143<br />CEA4&nbsp; A5 00&nbsp; &nbsp; &nbsp; &nbsp; LDA $00&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:29 X:00 Y:00 P:25 SP:F9 CYC:0 SL:143<br />CEA6&nbsp; 18&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;CLC&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:78 X:00 Y:00 P:25 SP:F9 CYC:0 SL:143<br />CEA7&nbsp; 69 01&nbsp; &nbsp; &nbsp; &nbsp; ADC #01&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:78 X:00 Y:00 P:24 SP:F9 CYC:0 SL:143<br />CEA9&nbsp; 85 00&nbsp; &nbsp; &nbsp; &nbsp; STA $00&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:79 X:00 Y:00 P:24 SP:F9 CYC:0 SL:143<br />CEAB&nbsp; A5 01&nbsp; &nbsp; &nbsp; &nbsp; LDA $01&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:79 X:00 Y:00 P:24 SP:F9 CYC:0 SL:143<br />CEAD&nbsp; 69 00&nbsp; &nbsp; &nbsp; &nbsp; ADC #00&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:A7 X:00 Y:00 P:A4 SP:F9 CYC:0 SL:143<br />CEAF&nbsp; 85 01&nbsp; &nbsp; &nbsp; &nbsp; STA $01&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:A7 X:00 Y:00 P:A4 SP:F9 CYC:0 SL:143<br />CEB1&nbsp; A5 02&nbsp; &nbsp; &nbsp; &nbsp; LDA $02&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:A7 X:00 Y:00 P:A4 SP:F9 CYC:0 SL:144<br />CEB3&nbsp; 18&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;CLC&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:78 X:00 Y:00 P:24 SP:F9 CYC:0 SL:144<br />CEB4&nbsp; 69 01&nbsp; &nbsp; &nbsp; &nbsp; ADC #01&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:78 X:00 Y:00 P:24 SP:F9 CYC:0 SL:144<br />CEB6&nbsp; 85 02&nbsp; &nbsp; &nbsp; &nbsp; STA $02&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:79 X:00 Y:00 P:24 SP:F9 CYC:0 SL:144<br />CEB8&nbsp; A5 03&nbsp; &nbsp; &nbsp; &nbsp; LDA $03&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:79 X:00 Y:00 P:24 SP:F9 CYC:0 SL:144<br />CEBA&nbsp; 69 00&nbsp; &nbsp; &nbsp; &nbsp; ADC #00&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:80 X:00 Y:00 P:A4 SP:F9 CYC:0 SL:144<br />CEBC&nbsp; 85 03&nbsp; &nbsp; &nbsp; &nbsp; STA $03&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:80 X:00 Y:00 P:A4 SP:F9 CYC:0 SL:144<br />CEBE&nbsp; A5 04&nbsp; &nbsp; &nbsp; &nbsp; LDA $04&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:80 X:00 Y:00 P:A4 SP:F9 CYC:0 SL:144<br />CEC0&nbsp; 38&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;SEC&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:29 X:00 Y:00 P:24 SP:F9 CYC:0 SL:144<br />CEC1&nbsp; E9 01&nbsp; &nbsp; &nbsp; &nbsp; SBC #01&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:29 X:00 Y:00 P:25 SP:F9 CYC:0 SL:144<br />CEC3&nbsp; 85 04&nbsp; &nbsp; &nbsp; &nbsp; STA $04&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:28 X:00 Y:00 P:25 SP:F9 CYC:0 SL:144<br />CEC5&nbsp; A5 05&nbsp; &nbsp; &nbsp; &nbsp; LDA $05&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:28 X:00 Y:00 P:25 SP:F9 CYC:0 SL:144<br />CEC7&nbsp; E9 00&nbsp; &nbsp; &nbsp; &nbsp; SBC #00&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:61 X:00 Y:00 P:25 SP:F9 CYC:0 SL:144<br />CEC9&nbsp; 85 05&nbsp; &nbsp; &nbsp; &nbsp; STA $05&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:61 X:00 Y:00 P:25 SP:F9 CYC:0 SL:144<br />CECB&nbsp; 05 04&nbsp; &nbsp; &nbsp; &nbsp; ORA $04&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:61 X:00 Y:00 P:25 SP:F9 CYC:0 SL:144<br />CECD&nbsp; D0 D1&nbsp; &nbsp; &nbsp; &nbsp; BNE #D1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A:69 X:00 Y:00 P:25 SP:F9 CYC:0 SL:144<br />CEA0&nbsp; B1 00&nbsp; &nbsp; &nbsp; &nbsp; LDA ($00, X) = $A779 @ A779 = 2B&nbsp; A:69 X:00 Y:00 P:25 SP:F9 CYC:0 SL:144<br />CEA2&nbsp; 91 02&nbsp; &nbsp; &nbsp; &nbsp; STA ($02, X) = $8079 @ 8079 = 0F&nbsp; A:2B X:00 Y:00 P:25 SP:F9 CYC:0 SL:144</div>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Quietust</b> [ Wed Jul 02, 2014 8:34 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MMC1 32k PRG mode</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />For the record, that particular block of code is only supposed to copy $9400-$96A0 to $6D00-$6FA0, so something went wrong a <strong>long</strong> time before your crash happened.<br /><br />Also, you're displaying some of those instructions incorrectly - the instructions at $CEA0 and $CEA2 are &quot;LDA ($00),Y&quot; and &quot;STA ($02),Y&quot;, not &quot;LDA ($00,X)&quot; and &quot;STA ($02,X)&quot;.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>matthewtatum</b> [ Wed Jul 02, 2014 8:48 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MMC1 32k PRG mode</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Thanks for your help, you're right those instructions should have shown indirect Y addressing mode - just a typo in my logging code.<br /><br />I have noticed that when I register a new save account on the game the count shown under the name on the select screen is set to 256 instead of 000. I think that this points to something going wrong at or before the point of registering a new save file. I will keep investigating and report back if I solve the problem.<br /><br />Once again thanks to all who replied.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>