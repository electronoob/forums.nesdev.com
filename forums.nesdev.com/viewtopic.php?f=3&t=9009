<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<link rel="icon" href="/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />

<title>nesdev.com &bull; View topic - DMC DMA during sprite DMA on Visual2A03</title>

<link rel="alternate" type="application/atom+xml" title="Feed - nesdev.com" href="http://forums.nesdev.com/feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - News" href="http://forums.nesdev.com/feed.php?mode=news" /><link rel="alternate" type="application/atom+xml" title="Feed - All forums" href="http://forums.nesdev.com/feed.php?mode=forums" /><link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="http://forums.nesdev.com/feed.php?mode=topics" /><link rel="alternate" type="application/atom+xml" title="Feed - Active Topics" href="http://forums.nesdev.com/feed.php?mode=topics_active" /><link rel="alternate" type="application/atom+xml" title="Feed - Forum - NESemdev" href="http://forums.nesdev.com/feed.php?f=3" /><link rel="alternate" type="application/atom+xml" title="Feed - Topic - DMC DMA during sprite DMA on Visual2A03" href="http://forums.nesdev.com/feed.php?f=3&amp;t=9009" />

<link rel="stylesheet" href="./style.php?id=1&amp;lang=en" type="text/css" />

<script type="text/javascript">
// <![CDATA[


function popup(url, width, height, name)
{
	if (!name)
	{
		name = '_popup';
	}

	window.open(url.replace(/&amp;/g, '&'), name, 'height=' + height + ',resizable=yes,scrollbars=yes,width=' + width);
	return false;
}

function jumpto()
{
	var page = prompt('Enter the page number you wish to go to:', '1');
	var per_page = '';
	var base_url = '';

	if (page !== null && !isNaN(page) && page == Math.floor(page) && page > 0)
	{
		if (base_url.indexOf('?') == -1)
		{
			document.location.href = base_url + '?start=' + ((page - 1) * per_page);
		}
		else
		{
			document.location.href = base_url.replace(/&amp;/g, '&') + '&start=' + ((page - 1) * per_page);
		}
	}
}

/**
* Find a member
*/
function find_username(url)
{
	popup(url, 760, 570, '_usersearch');
	return false;
}

/**
* Mark/unmark checklist
* id = ID of parent container, name = name prefix, state = state [true/false]
*/
function marklist(id, name, state)
{
	var parent = document.getElementById(id);
	if (!parent)
	{
		eval('parent = document.' + id);
	}

	if (!parent)
	{
		return;
	}

	var rb = parent.getElementsByTagName('input');
	
	for (var r = 0; r < rb.length; r++)
	{
		if (rb[r].name.substr(0, name.length) == name)
		{
			rb[r].checked = state;
		}
	}
}



// ]]>
</script>
</head>
<body class="ltr">

<a name="top"></a>

<div id="wrapheader">

	<div id="logodesc">
	</div>

	<div id="menubar">

		<table width="100%" cellspacing="0">
		<tr>
			<td rowspan="2"><a href="./index.php"><img src="./styles/subsilver2/imageset/site_logo.gif" alt="" title="" /></a></td>
			<td width="100%" align="center"><h1>nesdev.com</h1><span class="gen">NES Development and Strangulation Records message boards</span></td>
		</tr>
		<tr>
			<td align="center">
				<a href="./faq.php"><img src="./styles/prosilver/theme/images/icon_mini_faq.gif" width="12" height="13" alt="*" /> FAQ</a>
				&nbsp; &nbsp;<a href="./search.php"><img src="./styles/prosilver/theme/images/icon_mini_search.gif" width="12" height="13" alt="*" /> Search</a>
				<br />	
				 &nbsp;<a href="./ucp.php?mode=register"><img src="./styles/prosilver/theme/images/icon_mini_register.gif" width="12" height="13" alt="*" /> Register</a>
					&nbsp; &nbsp;<a href="./ucp.php?mode=login"><img src="./styles/prosilver/theme/images/icon_mini_login.gif" width="12" height="13" alt="*" /> Login</a>&nbsp;
			</td>
		</tr>
		</table>
	</div>

	<div id="datebar">
		<table width="100%" cellspacing="0">
		<tr>
			<td class="gensmall"></td>
			<td class="gensmall" align="right">It is currently Sat Sep 20, 2014 3:50 pm<br /></td>
		</tr>
		</table>
	</div>

</div>

<div id="wrapcentre">

	
	<p class="searchbar">
		<span style="float: left;"><a href="./search.php?search_id=unanswered">View unanswered posts</a> | <a href="./search.php?search_id=active_topics">View active topics</a></span>
		
	</p>
	

	<br style="clear: both;" />

	<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=24">NES / Famicom</a> &#187; <a href="./viewforum.php?f=3">NESemdev</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>

	<br />

<div id="pageheader">
	<h2><a class="titles" href="./viewtopic.php?f=3&amp;t=9009">DMC DMA during sprite DMA on Visual2A03</a></h2>


	<p class="moderators">Moderator: <a href="./memberlist.php?mode=group&amp;g=320">Moderators</a></p>

</div>

<br clear="all" /><br />

<div id="pagecontent">

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=3"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=3&amp;t=9009"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>1</strong> of <strong>1</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 13 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"></td>
		
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat">
			<table width="100%" cellspacing="0">
			<tr>
				<td class="nav" nowrap="nowrap">&nbsp;
				<a href="./viewtopic.php?f=3&amp;t=9009&amp;view=print" title="Print view">Print view</a>
				</td>
				<td class="nav" align="right" nowrap="nowrap"><a href="./viewtopic.php?f=3&amp;t=9009&amp;view=previous">Previous topic</a> | <a href="./viewtopic.php?f=3&amp;t=9009&amp;view=next">Next topic</a>&nbsp;</td>
			</tr>
			</table>
		</td>
	</tr>

	</table>


	<table class="tablebg" width="100%" cellspacing="1">
	
		<tr>
			<th>Author</th>
			<th>Message</th>
		</tr>
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p95464"></a>
				<b class="postauthor">cpow</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p95464">DMC DMA during sprite DMA on Visual2A03</a></div><div style="float: right;"><a href="./viewtopic.php?p=95464#p95464"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Jun 13, 2012 9:57 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td class="postdetails">NESICIDE developer</td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=3705.png" width="100" height="60" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Oct 13, 2008 7:55 pm<br /><b>Posts:</b> 976<br /><b>Location:</b> Minneapolis, MN
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Using the Visual2A03 and about three hours on my computer to process &gt;1000 CPU cycles, I was able to create a program that started a DMC sample which required fetching a new byte coincident with an in-progress sprite DMA.
<br />
<br />The Visual2A03 <a href="http://www.qmtpro.com/~nes/chipimages/visual2a03/expert.html?a=fffe&amp;d=40&amp;a=fffc&amp;d=0&amp;a=0&amp;d=58a9c08d1740a9018d1340a98f8d1040a9108d1540a9018d14408d144010fe&amp;logmore=c_rdy" class="postlink">'program'</a>
<br />
<br />Equivalent code:
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">.org 0<br />CLI<br />LDA #$C0<br />STA $4017<br />LDA #$01<br />STA $4013<br />LDA #$8F<br />STA $4010<br />LDA #$10<br />STA $4015<br />LDA #$01<br />STA $4014<br />STA $4014<br />forever: BPL forever<br /></div><br />As I was going through this I first thought I'd only need to wait for one sprite DMA completion since the DMC is set for a period of 54 cycles per bit or 432 cycles between DMAs.  That turned out not to be the case because I forgot that I would have to wait both the currently-in-progress 'silence' byte and my newly DMA'd first byte to pass through the DMC output stage before the DMC would fetch another byte using DMA.  I decided to just do two back-to-back sprite DMAs, rather than play with other code to delay a single sprite DMA.<br /><br />Here is the log output from the Visual2A03 'program'...cut down significantly.  The interesting cycle is cycle 822.  This log shows that the DMC DMA happens *right in the middle of* the sprite DMA without one impacting the other in any way [sprite data and DMC data are not 'clobbered'].  Cycle 823 is the CPU driving the address bus for one cycle, presumably because the sprite DMA logic needs two cycles per transfer, and since it was held off, it has nothing to put on the bus until cycle 824. <br /><br />Another interesting thing...I'd read that the DMC DMA always takes 4 cycles.  But starting at cycle 38 c_rdy (the internal RDY to the 6502) is pulled low and the CPU is held off for what appears to be 3 cycles with the DMC fetch from $C000 being the last of the three.  [Not 4?]<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">cycle&nbsp; &nbsp;ab&nbsp; &nbsp;db&nbsp; &nbsp;rw&nbsp; &nbsp;Fetch&nbsp; &nbsp;pc&nbsp; &nbsp;a&nbsp; &nbsp;x&nbsp; &nbsp;y&nbsp; &nbsp;s&nbsp; &nbsp;p&nbsp; &nbsp;c_rdy<br />31&nbsp; &nbsp;0012&nbsp; &nbsp;8d&nbsp; &nbsp;1&nbsp; &nbsp;STA Abs&nbsp; &nbsp;0012&nbsp; &nbsp;10&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />31&nbsp; &nbsp;0012&nbsp; &nbsp;8d&nbsp; &nbsp;1&nbsp; &nbsp;STA Abs&nbsp; &nbsp;0012&nbsp; &nbsp;10&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />32&nbsp; &nbsp;0013&nbsp; &nbsp;15&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;0013&nbsp; &nbsp;10&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />32&nbsp; &nbsp;0013&nbsp; &nbsp;15&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;0013&nbsp; &nbsp;10&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />33&nbsp; &nbsp;0014&nbsp; &nbsp;40&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;0014&nbsp; &nbsp;10&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />33&nbsp; &nbsp;0014&nbsp; &nbsp;40&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;0014&nbsp; &nbsp;10&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />34&nbsp; &nbsp;4015&nbsp; &nbsp;40&nbsp; &nbsp;0&nbsp; &nbsp;&nbsp; &nbsp;0015&nbsp; &nbsp;10&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />34&nbsp; &nbsp;4015&nbsp; &nbsp;10&nbsp; &nbsp;0&nbsp; &nbsp;&nbsp; &nbsp;0015&nbsp; &nbsp;10&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />35&nbsp; &nbsp;0015&nbsp; &nbsp;a9&nbsp; &nbsp;1&nbsp; &nbsp;LDA #&nbsp; &nbsp;0015&nbsp; &nbsp;10&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />35&nbsp; &nbsp;0015&nbsp; &nbsp;a9&nbsp; &nbsp;1&nbsp; &nbsp;LDA #&nbsp; &nbsp;0015&nbsp; &nbsp;10&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />36&nbsp; &nbsp;0016&nbsp; &nbsp;01&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;0016&nbsp; &nbsp;10&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />36&nbsp; &nbsp;0016&nbsp; &nbsp;01&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;0016&nbsp; &nbsp;10&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />37&nbsp; &nbsp;0017&nbsp; &nbsp;8d&nbsp; &nbsp;1&nbsp; &nbsp;STA Abs&nbsp; &nbsp;0017&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />37&nbsp; &nbsp;0017&nbsp; &nbsp;8d&nbsp; &nbsp;1&nbsp; &nbsp;STA Abs&nbsp; &nbsp;0017&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />38&nbsp; &nbsp;0018&nbsp; &nbsp;14&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;0018&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />38&nbsp; &nbsp;0018&nbsp; &nbsp;14&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;0018&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />39&nbsp; &nbsp;0018&nbsp; &nbsp;14&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;0019&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />39&nbsp; &nbsp;0018&nbsp; &nbsp;14&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;0019&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />40&nbsp; &nbsp;c000&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;0019&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />40&nbsp; &nbsp;c000&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;0019&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />41&nbsp; &nbsp;0018&nbsp; &nbsp;14&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;0019&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />41&nbsp; &nbsp;0018&nbsp; &nbsp;14&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;0019&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />42&nbsp; &nbsp;0019&nbsp; &nbsp;40&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;0019&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />42&nbsp; &nbsp;0019&nbsp; &nbsp;40&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;0019&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />43&nbsp; &nbsp;4014&nbsp; &nbsp;40&nbsp; &nbsp;0&nbsp; &nbsp;&nbsp; &nbsp;001a&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />43&nbsp; &nbsp;4014&nbsp; &nbsp;01&nbsp; &nbsp;0&nbsp; &nbsp;&nbsp; &nbsp;001a&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />44&nbsp; &nbsp;001a&nbsp; &nbsp;8d&nbsp; &nbsp;1&nbsp; &nbsp;STA Abs&nbsp; &nbsp;001a&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />44&nbsp; &nbsp;001a&nbsp; &nbsp;8d&nbsp; &nbsp;1&nbsp; &nbsp;STA Abs&nbsp; &nbsp;001a&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />45&nbsp; &nbsp;001a&nbsp; &nbsp;8d&nbsp; &nbsp;1&nbsp; &nbsp;STA Abs&nbsp; &nbsp;001b&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />45&nbsp; &nbsp;001a&nbsp; &nbsp;8d&nbsp; &nbsp;1&nbsp; &nbsp;STA Abs&nbsp; &nbsp;001b&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />46&nbsp; &nbsp;0100&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001b&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />46&nbsp; &nbsp;0100&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001b&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />47&nbsp; &nbsp;2004&nbsp; &nbsp;00&nbsp; &nbsp;0&nbsp; &nbsp;BRK&nbsp; &nbsp;001b&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />47&nbsp; &nbsp;2004&nbsp; &nbsp;00&nbsp; &nbsp;0&nbsp; &nbsp;BRK&nbsp; &nbsp;001b&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />48&nbsp; &nbsp;0101&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001b&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />48&nbsp; &nbsp;0101&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001b&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />49&nbsp; &nbsp;2004&nbsp; &nbsp;00&nbsp; &nbsp;0&nbsp; &nbsp;BRK&nbsp; &nbsp;001b&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />49&nbsp; &nbsp;2004&nbsp; &nbsp;00&nbsp; &nbsp;0&nbsp; &nbsp;BRK&nbsp; &nbsp;001b&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />50&nbsp; &nbsp;0102&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001b&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />50&nbsp; &nbsp;0102&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001b&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />51&nbsp; &nbsp;2004&nbsp; &nbsp;00&nbsp; &nbsp;0&nbsp; &nbsp;BRK&nbsp; &nbsp;001b&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />51&nbsp; &nbsp;2004&nbsp; &nbsp;00&nbsp; &nbsp;0&nbsp; &nbsp;BRK&nbsp; &nbsp;001b&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />...<br />554&nbsp; &nbsp;01fe&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001b&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />554&nbsp; &nbsp;01fe&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001b&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />555&nbsp; &nbsp;2004&nbsp; &nbsp;00&nbsp; &nbsp;0&nbsp; &nbsp;BRK&nbsp; &nbsp;001b&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />555&nbsp; &nbsp;2004&nbsp; &nbsp;00&nbsp; &nbsp;0&nbsp; &nbsp;BRK&nbsp; &nbsp;001b&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />556&nbsp; &nbsp;01ff&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001b&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />556&nbsp; &nbsp;01ff&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001b&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />557&nbsp; &nbsp;2004&nbsp; &nbsp;00&nbsp; &nbsp;0&nbsp; &nbsp;BRK&nbsp; &nbsp;001b&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />557&nbsp; &nbsp;2004&nbsp; &nbsp;00&nbsp; &nbsp;0&nbsp; &nbsp;BRK&nbsp; &nbsp;001b&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />558&nbsp; &nbsp;001a&nbsp; &nbsp;8d&nbsp; &nbsp;1&nbsp; &nbsp;STA Abs&nbsp; &nbsp;001b&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />558&nbsp; &nbsp;001a&nbsp; &nbsp;8d&nbsp; &nbsp;1&nbsp; &nbsp;STA Abs&nbsp; &nbsp;001b&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />559&nbsp; &nbsp;001b&nbsp; &nbsp;14&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;001b&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />559&nbsp; &nbsp;001b&nbsp; &nbsp;14&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;001b&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />560&nbsp; &nbsp;001c&nbsp; &nbsp;40&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;001c&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />560&nbsp; &nbsp;001c&nbsp; &nbsp;40&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;001c&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />561&nbsp; &nbsp;4014&nbsp; &nbsp;40&nbsp; &nbsp;0&nbsp; &nbsp;&nbsp; &nbsp;001d&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />561&nbsp; &nbsp;4014&nbsp; &nbsp;01&nbsp; &nbsp;0&nbsp; &nbsp;&nbsp; &nbsp;001d&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />562&nbsp; &nbsp;001d&nbsp; &nbsp;10&nbsp; &nbsp;1&nbsp; &nbsp;BPL &nbsp; &nbsp;001d&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />562&nbsp; &nbsp;001d&nbsp; &nbsp;10&nbsp; &nbsp;1&nbsp; &nbsp;BPL &nbsp; &nbsp;001d&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />563&nbsp; &nbsp;001d&nbsp; &nbsp;10&nbsp; &nbsp;1&nbsp; &nbsp;BPL &nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />563&nbsp; &nbsp;001d&nbsp; &nbsp;10&nbsp; &nbsp;1&nbsp; &nbsp;BPL &nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />564&nbsp; &nbsp;0100&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />564&nbsp; &nbsp;0100&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />565&nbsp; &nbsp;2004&nbsp; &nbsp;00&nbsp; &nbsp;0&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />565&nbsp; &nbsp;2004&nbsp; &nbsp;00&nbsp; &nbsp;0&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />566&nbsp; &nbsp;0101&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />566&nbsp; &nbsp;0101&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />567&nbsp; &nbsp;2004&nbsp; &nbsp;00&nbsp; &nbsp;0&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />567&nbsp; &nbsp;2004&nbsp; &nbsp;00&nbsp; &nbsp;0&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />...<br />818&nbsp; &nbsp;017f&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />818&nbsp; &nbsp;017f&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />819&nbsp; &nbsp;2004&nbsp; &nbsp;00&nbsp; &nbsp;0&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />819&nbsp; &nbsp;2004&nbsp; &nbsp;00&nbsp; &nbsp;0&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />820&nbsp; &nbsp;0180&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />820&nbsp; &nbsp;0180&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />821&nbsp; &nbsp;2004&nbsp; &nbsp;00&nbsp; &nbsp;0&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />821&nbsp; &nbsp;2004&nbsp; &nbsp;00&nbsp; &nbsp;0&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />822&nbsp; &nbsp;c001&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />822&nbsp; &nbsp;c001&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />823&nbsp; &nbsp;001d&nbsp; &nbsp;10&nbsp; &nbsp;1&nbsp; &nbsp;BPL &nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />823&nbsp; &nbsp;001d&nbsp; &nbsp;10&nbsp; &nbsp;1&nbsp; &nbsp;BPL &nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />824&nbsp; &nbsp;0181&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />824&nbsp; &nbsp;0181&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />825&nbsp; &nbsp;2004&nbsp; &nbsp;00&nbsp; &nbsp;0&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />825&nbsp; &nbsp;2004&nbsp; &nbsp;00&nbsp; &nbsp;0&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />826&nbsp; &nbsp;0182&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />826&nbsp; &nbsp;0182&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />827&nbsp; &nbsp;2004&nbsp; &nbsp;00&nbsp; &nbsp;0&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />827&nbsp; &nbsp;2004&nbsp; &nbsp;00&nbsp; &nbsp;0&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />...<br />1074&nbsp; &nbsp;01fe&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />1074&nbsp; &nbsp;01fe&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />1075&nbsp; &nbsp;2004&nbsp; &nbsp;00&nbsp; &nbsp;0&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />1075&nbsp; &nbsp;2004&nbsp; &nbsp;00&nbsp; &nbsp;0&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />1076&nbsp; &nbsp;01ff&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />1076&nbsp; &nbsp;01ff&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />1077&nbsp; &nbsp;2004&nbsp; &nbsp;00&nbsp; &nbsp;0&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />1077&nbsp; &nbsp;2004&nbsp; &nbsp;00&nbsp; &nbsp;0&nbsp; &nbsp;BRK&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;0<br />1078&nbsp; &nbsp;001d&nbsp; &nbsp;10&nbsp; &nbsp;1&nbsp; &nbsp;BPL &nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />1078&nbsp; &nbsp;001d&nbsp; &nbsp;10&nbsp; &nbsp;1&nbsp; &nbsp;BPL &nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />1079&nbsp; &nbsp;001e&nbsp; &nbsp;fe&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />1079&nbsp; &nbsp;001e&nbsp; &nbsp;fe&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />1080&nbsp; &nbsp;001f&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;001f&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />1080&nbsp; &nbsp;001f&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;001f&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />1081&nbsp; &nbsp;001d&nbsp; &nbsp;10&nbsp; &nbsp;1&nbsp; &nbsp;BPL &nbsp; &nbsp;001d&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />1081&nbsp; &nbsp;001d&nbsp; &nbsp;10&nbsp; &nbsp;1&nbsp; &nbsp;BPL &nbsp; &nbsp;001d&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />1082&nbsp; &nbsp;001e&nbsp; &nbsp;fe&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />1082&nbsp; &nbsp;001e&nbsp; &nbsp;fe&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;001e&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />1083&nbsp; &nbsp;001f&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;001f&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br />1083&nbsp; &nbsp;001f&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;001f&nbsp; &nbsp;01&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc&nbsp; &nbsp;1<br /></div></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3705"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p95643"></a>
				<b class="postauthor">cpow</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p95643">Re: DMC DMA during sprite DMA on Visual2A03</a></div><div style="float: right;"><a href="./viewtopic.php?p=95643#p95643"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Jun 19, 2012 10:51 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td class="postdetails">NESICIDE developer</td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=3705.png" width="100" height="60" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Oct 13, 2008 7:55 pm<br /><b>Posts:</b> 976<br /><b>Location:</b> Minneapolis, MN
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">cpow wrote:</div><div class="quotecontent">...</div>
<br />Forever Alone?   <img src="./images/smilies/icon_sad.gif" alt=":(" title="Sad" /></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3705"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p95649"></a>
				<b class="postauthor">Dwedit</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p95649"></a></div><div style="float: right;"><a href="./viewtopic.php?p=95649#p95649"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Jun 19, 2012 11:37 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=53.png" width="68" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Nov 19, 2004 7:35 pm<br /><b>Posts:</b> 3090
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">You need to annotate the long tables of numbers, say what's significant and why.</div>

					
						<div class="postbody"><br />_________________<br />Here come the fortune cookies!  Here come the fortune cookies!  They're wearing paper hats!</div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=53"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p95650"></a>
				<b class="postauthor">cpow</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p95650"></a></div><div style="float: right;"><a href="./viewtopic.php?p=95650#p95650"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Jun 19, 2012 11:41 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td class="postdetails">NESICIDE developer</td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=3705.png" width="100" height="60" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Oct 13, 2008 7:55 pm<br /><b>Posts:</b> 976<br /><b>Location:</b> Minneapolis, MN
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">Dwedit wrote:</div><div class="quotecontent">You need to annotate the long tables of numbers, say what's significant and why.</div><br />My annotation was above the long table.   <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /> <br /><br /><div class="quotetitle">cpow wrote:</div><div class="quotecontent">The interesting cycle is cycle 822. This log shows that the DMC DMA happens *right in the middle of* the sprite DMA without one impacting the other in any way [sprite data and DMC data are not 'clobbered']. Cycle 823 is the CPU driving the address bus for one cycle, presumably because the sprite DMA logic needs two cycles per transfer, and since it was held off, it has nothing to put on the bus until cycle 824.<br /><br />Another interesting thing...I'd read that the DMC DMA always takes 4 cycles. But starting at cycle 38 c_rdy (the internal RDY to the 6502) is pulled low and the CPU is held off for what appears to be 3 cycles with the DMC fetch from $C000 being the last of the three. [Not 4?]<br /></div></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3705"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p95651"></a>
				<b class="postauthor">Dwedit</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p95651"></a></div><div style="float: right;"><a href="./viewtopic.php?p=95651#p95651"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Jun 19, 2012 11:55 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=53.png" width="68" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Nov 19, 2004 7:35 pm<br /><b>Posts:</b> 3090
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I heard from that other thread that DMC DMA takes 4 cycles normally, 3 if it happens on a CPU write cycle, and 2 if it happens during sprite DMA.  Seems consistent with Blargg's tests.  Then a couple of other rare cases where it happens on the last or second-last cycle of Sprite DMA.
<br />
<br />But games generally don't care if you don't emulate DMC cycle theft.  Even games that are picky about the DMC channel working correctly (Fire Hawk, Mig 29 Soviet Fighter) run with no glitches if the DMC channel isn't stealing any cycles.
<br />
<br />Konami games on the other hand need DMC cycle theft to be accurate.   Konami games use a random number generator that repeatedly runs until Vlbank happens.  So any cycle that's wrong will give a different RNG result.
<br />
<br />Now we just need to find the initial state of the DMC counters.  I suspect it is random.  I base that on the demo of Blades of Steel.  It plays differently every time you power on the NES.  Since DMC cycle theft works differently depending on whether or not it hits a CPU write cycle, that can throw off the RNG easily.  An inconsistent PPU starting state will also throw off the demo, so it's hard to tell why the game is so unpredictable.</div>

					
						<div class="postbody"><br />_________________<br />Here come the fortune cookies!  Here come the fortune cookies!  They're wearing paper hats!</div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=53"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p95686"></a>
				<b class="postauthor">jwdonal</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p95686"></a></div><div style="float: right;"><a href="./viewtopic.php?p=95686#p95686"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Jun 19, 2012 9:17 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=3962.gif" width="50" height="50" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sat Jun 27, 2009 11:05 pm<br /><b>Posts:</b> 505<br /><b>Location:</b> USA, NM
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">cpow wrote:</div><div class="quotecontent">This log shows that the DMC DMA happens *right in the middle of* the sprite DMA without one impacting the other in any way [sprite data and DMC data are not 'clobbered'].</div>
<br />I must be misunderstanding what you're saying.  The CPU cannot possibly read two different addresses at the same time.  The CPU only has one address bus.  So obviously one of them has to get clobbered. I agree that neither of the operations is "stalled" if that's what you meant (which was discovered in <a href="http://nesdev.com/bbs/viewtopic.php?t=6100" class="postlink">this</a> thread), but only _one_ of the addresses (either sprite address or DMC address) can be driven on the CPU's address bus. You can't have both. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /> So either the DMC read gets sprite data or the sprite read gets DMC data. Those are your only choices.
<br />
<br />Can you clarify what you meant?</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3962"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p95687"></a>
				<b class="postauthor">Dwedit</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p95687"></a></div><div style="float: right;"><a href="./viewtopic.php?p=95687#p95687"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Jun 19, 2012 9:33 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=53.png" width="68" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Nov 19, 2004 7:35 pm<br /><b>Posts:</b> 3090
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">No clobbering anywhere, sprite DMA just gets interrupted to do the DMC DMA.
<br />
<br />But let's see here...
<br />Sprite DMA begins reading bytes at cycle 564 and finishes before cycle 1078.
<br />514 cycles total.  So that's 256 reads due to sprite DMA, 256 writes due to sprite DMA, one read due to DMC, and one dummy read at address 1D (program counter) for some reason.
<br />So Visual2A03 says it gets interrupted in the middle of the sprite DMA transfer.  Nothing gets corrupted.  All reads and writes happen properly.  Just one extra read at the program counter.</div>

					
						<div class="postbody"><br />_________________<br />Here come the fortune cookies!  Here come the fortune cookies!  They're wearing paper hats!</div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=53"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p95698"></a>
				<b class="postauthor" style="color: #AA0000">tepples</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p95698"></a></div><div style="float: right;"><a href="./viewtopic.php?p=95698#p95698"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Jun 20, 2012 4:25 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Sep 19, 2004 11:12 pm<br /><b>Posts:</b> 12423<br /><b>Location:</b> NE Indiana, USA (NTSC)
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Interesting. Can you get two DMC DMAs to happen during one sprite DMA using playback speed $F? I'd love to be able to close this out by leaving it at "Each DMC DMA extends sprite DMA by two cycles", but I need this one final validation before I can commit to that wording.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=9"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p95703"></a>
				<b class="postauthor">cpow</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p95703"></a></div><div style="float: right;"><a href="./viewtopic.php?p=95703#p95703"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Jun 20, 2012 6:12 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td class="postdetails">NESICIDE developer</td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=3705.png" width="100" height="60" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Oct 13, 2008 7:55 pm<br /><b>Posts:</b> 976<br /><b>Location:</b> Minneapolis, MN
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">Dwedit wrote:</div><div class="quotecontent">No clobbering anywhere, sprite DMA just gets interrupted to do the DMC DMA.</div><br />Exactly.  That's why I got excited. <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" />  I'd only ever seen it assumed that one or the other gets clobbered.  Not true!<br /><div class="quotetitle">Dwedit wrote:</div><div class="quotecontent">But let's see here...<br />and one dummy read at address 1D (program counter) for some reason.<br /></div><br />Probably because, like I said in the other thread, the sprite DMA read/write/read/write beat is maintained since it is still going on, but the DMC DMA only needs to read, so when it's done with its read in the cycle where the sprite DMA would have done a read, there's nothing for either of the two 'controllers' to do in the next bus cycle, so the bus is yielded back to the CPU which puts out its last address as a read.  Most likely due to <a href="http://www.qmtpro.com/~nes/chipimages/visual2a03?nosim=t&amp;panx=263.3&amp;pany=411.1&amp;zoom=12.8" class="postlink">these transistors (centered in the image)</a> which control which of the internal AB's go to the AB pins on the 2A03.  [If you click on some of the lines around there you'll find ab_use_spr_w, ab_use_spr_r, ab_use_pcm, ab_use_cpu].<br /><div class="quotetitle">Dwedit wrote:</div><div class="quotecontent">So Visual2A03 says it gets interrupted in the middle of the sprite DMA transfer.  Nothing gets corrupted.  All reads and writes happen properly.  Just one extra read at the program counter.</div> <br />Correct.<br /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">Interesting. Can you get two DMC DMAs to happen during one sprite DMA using playback speed $F? I'd love to be able to close this out by leaving it at &quot;Each DMC DMA extends sprite DMA by two cycles&quot;, but I need this one final validation before I can commit to that wording.</div><br />I'll work on that.  Should be fairly easy.</div>

					
							<br /><br />
							<span class="gensmall">Last edited by <a href="./memberlist.php?mode=viewprofile&amp;u=3705">cpow</a> on Sat Jan 26, 2013 12:31 pm, edited 1 time in total.</span>
						<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3705"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p95706"></a>
				<b class="postauthor">cpow</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p95706"></a></div><div style="float: right;"><a href="./viewtopic.php?p=95706#p95706"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Jun 20, 2012 7:19 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td class="postdetails">NESICIDE developer</td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=3705.png" width="100" height="60" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Oct 13, 2008 7:55 pm<br /><b>Posts:</b> 976<br /><b>Location:</b> Minneapolis, MN
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">The following Visual2A03 <a href="http://www.qmtpro.com/~nes/chipimages/visual2a03/expert.html?a=fffe&amp;d=40&amp;a=fffc&amp;d=0&amp;a=200&amp;d=a0a1a2a3a4a5a6a7a8a9aaabacadaeafa0a1a2a3a4a5a6a7a8a9aaabacadaeaf&amp;a=2c0&amp;d=a0a1a2a3a4a5a6a7a8a9aaabacadaeafa0a1a2a3a4a5a6a7a8a9aaabacadaeaf&amp;a=c000&amp;d=e0e1e2e3&amp;a=0&amp;d=58a9c08d1740a9018d1340a98f8d1040a9108d1540a9028d1440eaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaeaea8d144010fe&amp;logmore=c_rdy" class="postlink">program</a> was used to capture sprite DMA being interrupted by two consecutive DMC DMA fetches at DMC period $F.  Here's the relevant portions of the logged output:
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">cycle&nbsp; &nbsp;ab&nbsp; &nbsp;db&nbsp; &nbsp;rw&nbsp; &nbsp;Fetch&nbsp; &nbsp;pc&nbsp; &nbsp;a&nbsp; &nbsp;x&nbsp; &nbsp;y&nbsp; &nbsp;s&nbsp; &nbsp;p&nbsp; &nbsp;c_rdy<br />820&nbsp; &nbsp;0200&nbsp; &nbsp;a0&nbsp; &nbsp;1&nbsp; &nbsp;LDY #&nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />820&nbsp; &nbsp;0200&nbsp; &nbsp;a0&nbsp; &nbsp;1&nbsp; &nbsp;LDY #&nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />821&nbsp; &nbsp;2004&nbsp; &nbsp;a0&nbsp; &nbsp;0&nbsp; &nbsp;LDY #&nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />821&nbsp; &nbsp;2004&nbsp; &nbsp;a0&nbsp; &nbsp;0&nbsp; &nbsp;LDY #&nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />822&nbsp; &nbsp;c001&nbsp; &nbsp;e1&nbsp; &nbsp;1&nbsp; &nbsp;SBC &#40;zp,X&#41;&nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />822&nbsp; &nbsp;c001&nbsp; &nbsp;e1&nbsp; &nbsp;1&nbsp; &nbsp;SBC &#40;zp,X&#41;&nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />823&nbsp; &nbsp;009d&nbsp; &nbsp;10&nbsp; &nbsp;1&nbsp; &nbsp;BPL &nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />823&nbsp; &nbsp;009d&nbsp; &nbsp;10&nbsp; &nbsp;1&nbsp; &nbsp;BPL &nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />824&nbsp; &nbsp;0201&nbsp; &nbsp;a1&nbsp; &nbsp;1&nbsp; &nbsp;LDA &#40;zp,X&#41;&nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />824&nbsp; &nbsp;0201&nbsp; &nbsp;a1&nbsp; &nbsp;1&nbsp; &nbsp;LDA &#40;zp,X&#41;&nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />825&nbsp; &nbsp;2004&nbsp; &nbsp;a1&nbsp; &nbsp;0&nbsp; &nbsp;LDA &#40;zp,X&#41;&nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />825&nbsp; &nbsp;2004&nbsp; &nbsp;a1&nbsp; &nbsp;0&nbsp; &nbsp;LDA &#40;zp,X&#41;&nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br /></div><br />The sprite DMA starts at cycle 820.  The first DMC DMA is at cycles 822-823.  The sprite RAM being fetched and the DMC RAM being fetched have been filled with different breadcrumbs so we can see that the fetches occur correctly.  [Sprite DMA gets $a0 then $a1 while DMC DMA gets $e1 in between].<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">cycle&nbsp; &nbsp;ab&nbsp; &nbsp;db&nbsp; &nbsp;rw&nbsp; &nbsp;Fetch&nbsp; &nbsp;pc&nbsp; &nbsp;a&nbsp; &nbsp;x&nbsp; &nbsp;y&nbsp; &nbsp;s&nbsp; &nbsp;p&nbsp; &nbsp;c_rdy<br />1252&nbsp; &nbsp;02d7&nbsp; &nbsp;a7&nbsp; &nbsp;1&nbsp; &nbsp;unknown&nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />1252&nbsp; &nbsp;02d7&nbsp; &nbsp;a7&nbsp; &nbsp;1&nbsp; &nbsp;unknown&nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />1253&nbsp; &nbsp;2004&nbsp; &nbsp;a7&nbsp; &nbsp;0&nbsp; &nbsp;unknown&nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />1253&nbsp; &nbsp;2004&nbsp; &nbsp;a7&nbsp; &nbsp;0&nbsp; &nbsp;unknown&nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />1254&nbsp; &nbsp;c002&nbsp; &nbsp;e2&nbsp; &nbsp;1&nbsp; &nbsp;unknown&nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />1254&nbsp; &nbsp;c002&nbsp; &nbsp;e2&nbsp; &nbsp;1&nbsp; &nbsp;unknown&nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />1255&nbsp; &nbsp;009d&nbsp; &nbsp;10&nbsp; &nbsp;1&nbsp; &nbsp;BPL &nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />1255&nbsp; &nbsp;009d&nbsp; &nbsp;10&nbsp; &nbsp;1&nbsp; &nbsp;BPL &nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />1256&nbsp; &nbsp;02d8&nbsp; &nbsp;a8&nbsp; &nbsp;1&nbsp; &nbsp;TAY&nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />1256&nbsp; &nbsp;02d8&nbsp; &nbsp;a8&nbsp; &nbsp;1&nbsp; &nbsp;TAY&nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />1257&nbsp; &nbsp;2004&nbsp; &nbsp;a8&nbsp; &nbsp;0&nbsp; &nbsp;TAY&nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />1257&nbsp; &nbsp;2004&nbsp; &nbsp;a8&nbsp; &nbsp;0&nbsp; &nbsp;TAY&nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br /></div><br />The sprite DMA is still going on, and there's a second DMC DMA interruption of it at cycles 1254-1255.  Here again the breadcrumbs show the memory properly being fetched for each operation.  [Sprite DMA gets $a7 then $a8 while DMC DMA gets $e2 in between].<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">cycle&nbsp; &nbsp;ab&nbsp; &nbsp;db&nbsp; &nbsp;rw&nbsp; &nbsp;Fetch&nbsp; &nbsp;pc&nbsp; &nbsp;a&nbsp; &nbsp;x&nbsp; &nbsp;y&nbsp; &nbsp;s&nbsp; &nbsp;p&nbsp; &nbsp;c_rdy<br />1334&nbsp; &nbsp;02ff&nbsp; &nbsp;af&nbsp; &nbsp;1&nbsp; &nbsp;unknown&nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />1334&nbsp; &nbsp;02ff&nbsp; &nbsp;af&nbsp; &nbsp;1&nbsp; &nbsp;unknown&nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />1335&nbsp; &nbsp;2004&nbsp; &nbsp;af&nbsp; &nbsp;0&nbsp; &nbsp;unknown&nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />1335&nbsp; &nbsp;2004&nbsp; &nbsp;af&nbsp; &nbsp;0&nbsp; &nbsp;unknown&nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />1336&nbsp; &nbsp;009d&nbsp; &nbsp;10&nbsp; &nbsp;1&nbsp; &nbsp;BPL &nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />1336&nbsp; &nbsp;009d&nbsp; &nbsp;10&nbsp; &nbsp;1&nbsp; &nbsp;BPL &nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />1337&nbsp; &nbsp;009e&nbsp; &nbsp;fe&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />1337&nbsp; &nbsp;009e&nbsp; &nbsp;fe&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;009e&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />1338&nbsp; &nbsp;009f&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;009f&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br />1338&nbsp; &nbsp;009f&nbsp; &nbsp;00&nbsp; &nbsp;1&nbsp; &nbsp;&nbsp; &nbsp;009f&nbsp; &nbsp;02&nbsp; &nbsp;c0&nbsp; &nbsp;00&nbsp; &nbsp;bd&nbsp; &nbsp;nv-Bdizc<br /></div>
<br />The sprite DMA completes and the CPU resumes at cycle 1336, so the sprite DMA has taken 516 cycles total, with two DMC DMA interruptions.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3705"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p95709"></a>
				<b class="postauthor">Zepper</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p95709"></a></div><div style="float: right;"><a href="./viewtopic.php?p=95709#p95709"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Jun 20, 2012 7:44 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td class="postdetails">Formerly Fx3</td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=39_1403452479.jpg" width="90" height="90" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Nov 12, 2004 4:59 pm<br /><b>Posts:</b> 2220<br /><b>Location:</b> Brazil
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Doesn't it break blargg's dmc dma test roms, regarding the extra cycle?</div>

					
						<div class="postbody"><br />_________________<br /><strong>Zepper</strong><br /><a href="http://rocknes.web.fc2.com/" class="postlink"><em>RockNES developer</em></a></div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=39"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p95712"></a>
				<b class="postauthor">cpow</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p95712"></a></div><div style="float: right;"><a href="./viewtopic.php?p=95712#p95712"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Jun 20, 2012 7:52 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td class="postdetails">NESICIDE developer</td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=3705.png" width="100" height="60" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Oct 13, 2008 7:55 pm<br /><b>Posts:</b> 976<br /><b>Location:</b> Minneapolis, MN
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">Zepper wrote:</div><div class="quotecontent">Doesn't it break blargg's dmc dma test roms, regarding the extra cycle?</div>
<br />The test ROMs I think you're referring to use DMC period $0 which would not generate more than one potential DMC DMA fetch during a sprite DMA.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3705"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p95728"></a>
				<b class="postauthor">cpow</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p95728"></a></div><div style="float: right;"><a href="./viewtopic.php?p=95728#p95728"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Jun 20, 2012 10:42 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td class="postdetails">NESICIDE developer</td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=3705.png" width="100" height="60" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Oct 13, 2008 7:55 pm<br /><b>Posts:</b> 976<br /><b>Location:</b> Minneapolis, MN
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">tepples wrote:</div><div class="quotecontent">Interesting. Can you get two DMC DMAs to happen during one sprite DMA using playback speed $F? I'd love to be able to close this out by leaving it at "Each DMC DMA extends sprite DMA by two cycles", but I need this one final validation before I can commit to that wording.</div>
<br />
<br />Closed.  Explanation is three posts above.   <img src="./images/smilies/icon_cool.gif" alt="8)" title="Cool" /></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3705"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table width="100%" cellspacing="1" class="tablebg">
	<tr align="center">
		<td class="cat"><form name="viewtopic" method="post" action="./viewtopic.php?f=3&amp;t=9009"><span class="gensmall">Display posts from previous:</span> <select name="st" id="st"><option value="0" selected="selected">All posts</option><option value="1">1 day</option><option value="7">7 days</option><option value="14">2 weeks</option><option value="30">1 month</option><option value="90">3 months</option><option value="180">6 months</option><option value="365">1 year</option></select>&nbsp;<span class="gensmall">Sort by</span> <select name="sk" id="sk"><option value="a">Author</option><option value="t" selected="selected">Post time</option><option value="s">Subject</option></select> <select name="sd" id="sd"><option value="a" selected="selected">Ascending</option><option value="d">Descending</option></select>&nbsp;<input class="btnlite" type="submit" value="Go" name="sort" /></form></td>
	</tr>
	</table>
	

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=3"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=3&amp;t=9009"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>1</strong> of <strong>1</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 13 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"></td>
		
	</tr>
	</table>

</div>

<div id="pagefooter"></div>

<br clear="all" />
<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=24">NES / Famicom</a> &#187; <a href="./viewforum.php?f=3">NESemdev</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>
	<br clear="all" />

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat"><h4>Who is online</h4></td>
	</tr>
	<tr>
		<td class="row1"><p class="gensmall">Users browsing this forum: <a href="./memberlist.php?mode=viewprofile&amp;u=4526">Sik</a> and 2 guests</p></td>
	</tr>
	</table>


<br clear="all" />

<table width="100%" cellspacing="1">
<tr>
	<td width="40%" valign="top" nowrap="nowrap" align="left"></td>
	<td align="right" valign="top" nowrap="nowrap"><span class="gensmall">You <strong>cannot</strong> post new topics in this forum<br />You <strong>cannot</strong> reply to topics in this forum<br />You <strong>cannot</strong> edit your posts in this forum<br />You <strong>cannot</strong> delete your posts in this forum<br />You <strong>cannot</strong> post attachments in this forum<br /></span></td>
</tr>
</table>

<br clear="all" />

<table width="100%" cellspacing="0">
<tr>
	<td><form method="get" name="search" action="./search.php"><span class="gensmall">Search for:</span> <input class="post" type="text" name="keywords" size="20" /> <input class="btnlite" type="submit" value="Go" /><input type="hidden" name="t" value="9009" />
<input type="hidden" name="sf" value="msgonly" />
</form></td>
	<td align="right">
	<form method="post" name="jumpbox" action="./viewforum.php" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	<table cellspacing="0" cellpadding="0" border="0">
	<tr>
		<td nowrap="nowrap"><span class="gensmall">Jump to:</span>&nbsp;<select name="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">

		
			<option value="-1">Select a forum</option>
		<option value="-1">------------------</option>
			<option value="24">NES / Famicom</option>
		
			<option value="2">&nbsp; &nbsp;NESdev</option>
		
			<option value="3" selected="selected">&nbsp; &nbsp;NESemdev</option>
		
			<option value="21">&nbsp; &nbsp;NES Graphics</option>
		
			<option value="6">&nbsp; &nbsp;NES Music</option>
		
			<option value="9">&nbsp; &nbsp;NES Hardware and Flash Equipment</option>
		
			<option value="22">&nbsp; &nbsp;Homebrew Projects</option>
		
			<option value="10">&nbsp; &nbsp;Newbie Help Center</option>
		
			<option value="11">&nbsp; &nbsp;FCdev</option>
		
			<option value="18">&nbsp; &nbsp;NESdev China</option>
		
			<option value="27">&nbsp; &nbsp;NESdev Middle East</option>
		
			<option value="19">&nbsp; &nbsp;NESdev International</option>
		
			<option value="25">Other</option>
		
			<option value="5">&nbsp; &nbsp;General Stuff</option>
		
			<option value="4">&nbsp; &nbsp;Membler Industries</option>
		
			<option value="12">&nbsp; &nbsp;SNESdev</option>
		
			<option value="20">&nbsp; &nbsp;GBDev</option>
		
			<option value="23">&nbsp; &nbsp;Other Retro Dev</option>
		
			<option value="15">&nbsp; &nbsp;Test Forum</option>
		
			<option value="26">Site Issues</option>
		
			<option value="13">&nbsp; &nbsp;phpBB Issues</option>
		
			<option value="14">&nbsp; &nbsp;Web Issues</option>
		
			<option value="16">&nbsp; &nbsp;nesdevWiki</option>
		

		</select>&nbsp;<input class="btnlite" type="submit" value="Go" /></td>
	</tr>
	</table>

	</form>
</td>
</tr>
</table>


</div>

<div id="wrapfooter">
	
	<span class="copyright">Powered by <a href="http://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Group
	</span>
</div>

</body>
</html>