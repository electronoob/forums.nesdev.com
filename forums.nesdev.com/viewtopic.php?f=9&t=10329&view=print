<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Writing Famicom Disks in 2013</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Writing Famicom Disks in 2013</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=9&amp;t=10329">http://forums.nesdev.com/viewtopic.php?f=9&amp;t=10329</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>mikejmoffitt</b> [ Sun Jul 28, 2013 9:30 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Writing Famicom Disks in 2013</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />It's 2013. Have we made a modern, <a href="http://www.pjrc.com/teensy/" class="postlink">easily-</a><a href="http://www.ti.com/lsds/ti/microcontroller/16-bit_msp430/overview.page" class="postlink">obtainable</a> <a href="http://arduino.cc/en/Main/arduinoBoardLeonardo" class="postlink">MCU-based</a> way of interfacing with either the HCV-023 RAM adapter or HCV-022 the disk drive of a Famicom Disk System?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MottZilla</b> [ Sun Jul 28, 2013 9:50 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Writing Famicom Disks in 2013</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Probably not. That would be excellent if someone did that.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>rainwarrior</b> [ Sun Jul 28, 2013 10:18 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Writing Famicom Disks in 2013</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Yeah, I wish there was something nice, too. I tried to get my parallel port FDSLoadr working, but after many attempts I got nowhere with it. I eventually gave up and tried other methods:<br /><br />1. For testing emulation stuff, a simple hotswap with the RAM adapter was sufficient for my needs.<br /><br />2. For other stuff, I had made an adapter to fit famicom carts into my frontloader NES, and wrote CopyNES plugins to send data over USB. This works pretty well, though it would probably be hard to do disk-swapping if your goal was to play FDS games.<br /><br />For playing FDS games, I've generally found the PowerPak quite sufficient, anyway. The only reason I wanted to use the FDS was to do some direct testing to improve emulation, so my inability to run games on it effectively wasn't really an issue.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Sun Jul 28, 2013 11:04 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Writing Famicom Disks in 2013</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Now that gives me an idea. If there was some way of connecting a massive storage device to the controller port of a Famicom AV and/or to the expansion port of a regular famicom, then a simple program could be loaded in the mainboard's RAM with the PowerPak (or another devcard) and then it could be hotswapped with the FDS adapter in order to upload data to physical discs.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MottZilla</b> [ Sun Jul 28, 2013 12:03 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Writing Famicom Disks in 2013</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Maybe you could rig some device up to allow for serial reading of an EPROM chip connected to either port. So first you'd use a loader cart (powerpak or eprom) to load main memory with your program. Then you'd hot-swap the FDS RAM Adapter in place and your loaded program would get whatever new program data and FDS Disk data from the connected EPROM. With a 128KB EPROM you may need to keep things more minimal, but with a 256KB EPROM you could load a pretty screen and other elaborate things, and still have room for 2 disk sides. <br /><br />Anyway, my main idea is, could you reasonably easily rig up something to read an EPROM/FlashROM serially from the controller port. It would be quite slow though I'm sure. Maybe with some kind of hardware mod you could make it parallel access. Maybe you could make a register at $5000-$5FFF which on write could atleast reset your counter and then whenever you read the register it returns a byte and then increments this counter.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Sun Jul 28, 2013 12:35 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Writing Famicom Disks in 2013</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />If the BIOS isn't part of the 2C33, one could write an alternate BIOS for the FDS that just served as an intermediary for transferring data to/from the disk, and got data from the expansion port (probably bit-banged serial).<br /><br />I'd probably socket it, and use a 16 or 32KiB PROM, and put a switch somewhere outside  to select which BIOS to boot into.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Sun Jul 28, 2013 12:37 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Writing Famicom Disks in 2013</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />You forgot that the BIOS is hardwired in an ASIC chip with other stuff and can't be changed.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Sun Jul 28, 2013 7:09 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Writing Famicom Disks in 2013</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />That just makes it harder, not impossible.<br />Also, I didn't <em>forget</em>; I did say &quot;If the BIOS isn't part of the 2C33&quot;.<br /><br />Although there's some amount of chicken-and-egg problem here, disks could also be made that had a disk-writing programs on them. Bootstrapping could happen with a copynes-equipped famicom or by hot-swapping.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>zzo38</b> [ Sun Jul 28, 2013 7:35 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Writing Famicom Disks in 2013</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Or by making a cartridge which overrides a part of the ROM, similar to how Game Genie does, is another way to replace the BIOS without replacing the BIOS, if it would help.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>RGB_Gamer</b> [ Sun Jul 28, 2013 9:30 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Writing Famicom Disks in 2013</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I would like to see a way of loading FDS games via 3.5&quot; floppy,  but I know I am dreaming... As of now, I use my MGD1 to write disks...

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Mon Jul 29, 2013 1:06 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Writing Famicom Disks in 2013</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Not usefully doable: FDS has a spiral data track and conventional floppies use nested circles. One can't fake the former using the latter, because there are dead spots when the drive head is seeking from track to track, and the FDS doesn't support such dead spots.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>mikejmoffitt</b> [ Mon Jul 29, 2013 7:08 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Writing Famicom Disks in 2013</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />My concern is actually prolonging life of the FDS disks themselves. Over years, should they get corrupted or their data damaged somehow, I would like to know that I have the option of re-writing them with a fresh copy of the image. <br /><br />I can't imagine data is pushed very fast for the system simply given its age; surely a microcontroller would have the gusto to do what FDSLoadr has done in the past to write to a disk drive?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>RGB_Gamer</b> [ Mon Jul 29, 2013 7:37 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Writing Famicom Disks in 2013</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">mikejmoffitt wrote:</div><div class="quotecontent">My concern is actually prolonging life of the FDS disks themselves. Over years, should they get corrupted or their data damaged somehow, I would like to know that I have the option of re-writing them with a fresh copy of the image. <br /><br />I can't imagine data is pushed very fast for the system simply given its age; surely a microcontroller would have the gusto to do what FDSLoadr has done in the past to write to a disk drive?</div><br /><br />The disks themselves are pretty durable after nearly 30 years. With my MGD1 setup (I haven't tried my FDS to parallel cable yet), I can easily overwrite disk that were previously unuseable. Not everyone has a PC with parallel port and a setup like mine (not to mention that yoyr FDS drive needs to be modded for write capability), so I do agreee that a more modern setup for writing FDS disks is necessary. I actually prefer playing FDS games from FDS disks rather than a flash cart.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>infiniteneslives</b> [ Mon Jul 29, 2013 11:43 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Writing Famicom Disks in 2013</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />An interesting thought, you really only need something that can interface with the 60pin connector.  It doesn't need to be a NES/FC does it?  I'm thinking you might be able to achieve the task with something like the <a href="http://forums.nesdev.com/viewtopic.php?f=9&amp;t=7912" class="postlink">kazoo</a>.  So you'd just plug the ram adapter into the kazoo and read/write to the ram adapter pretending to be the NES/FC.<br /><br />My only question/concern is clocking and timing.  Does the FDS have it's own clock?  Or is it simply driven by M2/phi2 via the cart connector?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Mon Jul 29, 2013 12:27 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Writing Famicom Disks in 2013</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />There's another 21.47MHz xtal attached to the RP2C33.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>