<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="http://forums.nesdev.com/feed.php?f=10&amp;t=10833" />

<title>nesdev.com</title>
<subtitle>NES Development and Strangulation Records message boards</subtitle>
<link href="http://forums.nesdev.com/index.php" />
<updated>2014-01-11T07:51:11-07:00</updated>

<author><name><![CDATA[nesdev.com]]></name></author>
<id>http://forums.nesdev.com/feed.php?f=10&amp;t=10833</id>
<entry>
<author><name><![CDATA[guitarzombie]]></name></author>
<updated>2014-01-11T07:51:11-07:00</updated>
<published>2014-01-11T07:51:11-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=10833&amp;p=123630#p123630</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=10833&amp;p=123630#p123630"/>
<title type="html"><![CDATA[Re: Help with understanding NES Controller input]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=10833&amp;p=123630#p123630"><![CDATA[
I appreciate the help but dont worry about it!  Turns out I had my problem fixed, not my removing the menu but shorting the sram of garbage from the previous game.  So it works perfectly now.  Regardless this is helping me understand it a little more.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=6290">guitarzombie</a> — Sat Jan 11, 2014 7:51 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[unregistered]]></name></author>
<updated>2014-01-03T15:00:57-07:00</updated>
<published>2014-01-03T15:00:57-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=10833&amp;p=123222#p123222</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=10833&amp;p=123222#p123222"/>
<title type="html"><![CDATA[Re: Help with understanding NES Controller input]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=10833&amp;p=123222#p123222"><![CDATA[
Ok here is what I noticed.  Hope it helps you.<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">$E816:A6 14     LDX $0014 = #$00           A:00 X:D1 Y:04 P:nvUbdiZc<br />$E818:A0 01     LDY #$01                   A:00 X:00 Y:04 P:nvUbdiZc<br />$E81A:8C 16 40  STY $4016 = #$FF           A:00 X:00 Y:01 P:nvUbdizc<br />$E81D:88        DEY                        A:00 X:00 Y:01 P:nvUbdizc<br />$E81E:8C 16 40  STY $4016 = #$FF           A:00 X:00 Y:00 P:nvUbdiZc<br />$E821:AD 16 40  LDA $4016 = #$FF           A:00 X:00 Y:00 P:nvUbdiZc<br />$E824:4A        LSR                        A:40 X:00 Y:00 P:nvUbdizc<br />$E825:26 14     ROL $0014 = #$00           A:20 X:00 Y:00 P:nvUbdizc<br />$E827:AD 16 40  LDA $4016 = #$FF           A:20 X:00 Y:00 P:nvUbdiZc<br />$E82A:4A        LSR                        A:40 X:00 Y:00 P:nvUbdizc<br />$E82B:26 14     ROL $0014 = #$00           A:20 X:00 Y:00 P:nvUbdizc<br />$E82D:AD 16 40  LDA $4016 = #$FF           A:20 X:00 Y:00 P:nvUbdiZc<br />$E830:4A        LSR                        A:40 X:00 Y:00 P:nvUbdizc<br />$E831:26 14     ROL $0014 = #$00           A:20 X:00 Y:00 P:nvUbdizc<br />$E833:AD 16 40  LDA $4016 = #$FF           A:20 X:00 Y:00 P:nvUbdiZc<br />$E836:4A        LSR                        A:40 X:00 Y:00 P:nvUbdizc<br />$E837:26 14     ROL $0014 = #$00           A:20 X:00 Y:00 P:nvUbdizc<br />$E839:AD 16 40  LDA $4016 = #$FF           A:20 X:00 Y:00 P:nvUbdiZc<br />$E83C:4A        LSR                        A:40 X:00 Y:00 P:nvUbdizc<br />$E83D:26 14     ROL $0014 = #$00           A:20 X:00 Y:00 P:nvUbdizc<br />$E83F:AD 16 40  LDA $4016 = #$FF           A:20 X:00 Y:00 P:nvUbdiZc<br />$E842:4A        LSR                        A:40 X:00 Y:00 P:nvUbdizc<br />$E843:26 14     ROL $0014 = #$00           A:20 X:00 Y:00 P:nvUbdizc<br />$E845:AD 16 40  LDA $4016 = #$FF           A:20 X:00 Y:00 P:nvUbdiZc<br />$E848:4A        LSR                        A:40 X:00 Y:00 P:nvUbdizc<br />$E849:26 14     ROL $0014 = #$00           A:20 X:00 Y:00 P:nvUbdizc<br />$E84B:AD 16 40  LDA $4016 = #$FF           A:20 X:00 Y:00 P:nvUbdiZc<br />$E84E:4A        LSR                        A:40 X:00 Y:00 P:nvUbdizc<br />$E84F:26 14     ROL $0014 = #$00           A:20 X:00 Y:00 P:nvUbdizc<br />$E851:E4 14     CPX $0014 = #$00           A:20 X:00 Y:00 P:nvUbdiZc<br />$E853:D0 C1     BNE $E816                  A:20 X:00 Y:00 P:nvUbdiZC</div><br /><br />That is quite a lot of <br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">LDA $4016<br />LSR<br />ROL $0014</div><br /> and all of thoes are part of a partially unrolled loop.  That is a loop partially unrolled for a speed increase.  Ok that is probably not helpful... sorry.  <img src="http://forums.nesdev.com/images/smilies/icon_redface.gif" alt=":oops:" title="Embarassed" />   But I wanted to point out something else that I noticed in the rest of your code...<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">$E855:8A        TXA                        A:20 X:00 Y:00 P:nvUbdiZC<br />$E856:29 0C     AND #$0C                   A:00 X:00 Y:00 P:nvUbdiZC<br />$E858:C9 0C     CMP #$0C                   A:00 X:00 Y:00 P:nvUbdiZC<br />$E85A:F0 07     BEQ $E863                  A:00 X:00 Y:00 P:NvUbdizc<br />$E85C:8A        TXA                        A:00 X:00 Y:00 P:NvUbdizc<br />$E85D:29 03     AND #$03                   A:00 X:00 Y:00 P:nvUbdiZc<br />$E85F:C9 03     CMP #$03                   A:00 X:00 Y:00 P:nvUbdiZc<br />$E861:D0 05     BNE $E868                  A:00 X:00 Y:00 P:NvUbdizc<br />$E868:A6 15     LDX $0015 = #$00           A:00 X:00 Y:00 P:NvUbdizc<br />$E86A:A0 01     LDY #$01                   A:00 X:00 Y:00 P:nvUbdiZc<br />$E86C:8C 16 40  STY $4016 = #$FF           A:00 X:00 Y:01 P:nvUbdizc<br />$E86F:88        DEY                        A:00 X:00 Y:01 P:nvUbdizc<br />$E870:8C 16 40  STY $4016 = #$FF           A:00 X:00 Y:00 P:nvUbdiZc<br />$E873:84 15     STY $0015 = #$00           A:00 X:00 Y:00 P:nvUbdiZc<br />$E875:AD 17 40  LDA $4017 = #$FF           A:00 X:00 Y:00 P:nvUbdiZc<br />$E878:4A        LSR                        A:40 X:00 Y:00 P:nvUbdizc<br />$E879:26 15     ROL $0015 = #$00           A:20 X:00 Y:00 P:nvUbdizc<br />$E87B:AD 17 40  LDA $4017 = #$FF           A:20 X:00 Y:00 P:nvUbdiZc<br />$E87E:4A        LSR                        A:40 X:00 Y:00 P:nvUbdizc<br />$E87F:26 15     ROL $0015 = #$00           A:20 X:00 Y:00 P:nvUbdizc<br />$E881:E4 15     CPX $0015 = #$00           A:20 X:00 Y:00 P:nvUbdiZc<br />$E883:D0 E3     BNE $E868                  A:20 X:00 Y:00 P:nvUbdiZC<br />$E885:4C A9 C3  JMP $C3A9                  A:20 X:00 Y:00 P:nvUbdiZC<br /></div><br />Ok... look at the <s>forth</s> <span style="color: #FFFF00">fourth</span> line from the top... it is <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">beq $E863</tt>.  Now that doesn't make any sense to me because there <s>arent any</s> <span style="color: #FF0080">isnt an</span> instruction<s>s</s> listed for memory location $E863.  So that is kind of odd.  <img src="http://forums.nesdev.com/images/smilies/icon_sad.gif" alt=":(" title="Sad" /> <img src="http://forums.nesdev.com/images/smilies/icon_confused.gif" alt=":?" title="Confused" /><br /><br />Hope someone else can help you with this guitarzombie. <img src="http://forums.nesdev.com/images/smilies/icon_smile.gif" alt=":)" title="Smile" />  Kasumi is the one who taught me about partially unrolled loops.<br /><br /><span style="color: #FFFF00">edit.</span><br /><span style="color: #FF0080">edit2.</span><br />edit3: I wanted to say a little more about <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">beq $E863</tt>.  I'm a beginner at assembly.  I have no idea what a branch to $E863 would do because there isn't an instruction listed for it.  Whatever it is doing is crazy... might be the reason for your glitch.  Just wanted to say this. I thought someone else with more experience would respond.  They might know what  is going on and be able to help you. <img src="http://forums.nesdev.com/images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br /><br />last edit:  I'm sorry guitarzombie. <img src="http://forums.nesdev.com/images/smilies/icon_sad.gif" alt=":(" title="Sad" />  I just realized that the code you provided is not from a listing file... it's from an <s>assembler</s> emulator... it only follows a certain path through the assembly file... that's why the instruction at $E863 isn't listed; notice the beq branches if equal to zero - if the zero flag is big... and the zero flag is small (lowercase z) <div class="codetitle"><b>Code:</b></div><div class="codecontent">$E85A:F0 07     BEQ $E863                  A:00 X:00 Y:00 P:NvUbdizc<br />$E85C:8A        TXA                        A:00 X:00 Y:00 P:NvUbdizc</div> see, that's why the branch doesn't branch and it goes on to the next instruction at $E85C... the txa.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3893">unregistered</a> — Fri Jan 03, 2014 3:00 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2013-12-30T10:01:34-07:00</updated>
<published>2013-12-30T10:01:34-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=10833&amp;p=123078#p123078</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=10833&amp;p=123078#p123078"/>
<title type="html"><![CDATA[Re: Help with understanding NES Controller input]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=10833&amp;p=123078#p123078"><![CDATA[
If something was unclear in <a href="http://wiki.nesdev.com/w/index.php/Standard_controller" class="postlink">this document</a>, please let us know so that one of us can go fix it.<br /><br />The writes to $4016 turn the strobe on and off to load the button states into the controller's shift register. Then each LDA $4016 LSR reads one of the buttons and load it into carry, and then each ROL accumulates the bit in $0014.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Mon Dec 30, 2013 10:01 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[guitarzombie]]></name></author>
<updated>2013-12-30T06:33:00-07:00</updated>
<published>2013-12-30T06:33:00-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=10833&amp;p=123069#p123069</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=10833&amp;p=123069#p123069"/>
<title type="html"><![CDATA[Help with understanding NES Controller input]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=10833&amp;p=123069#p123069"><![CDATA[
Hey all.  So i've been trying to work out my Rockman 4 MI problem and i'm learning a bit of assembly.  Most of it makes sense but I still am unclear about the controller input stuff.  Ill break it down:<br /><br />When you play the game on an console, if you press start you can select the weapons.  If you press 'B', the help button that gives you text about the weapons, the graphics glitch and if you're in there for too long it'll freeze up the graphics and you get stuck.  I was told this wasn't my wiring as I had already asked but something inside the game I can program out.  I want to remove that menu from the screen.  After doing research I used the FCEUX debugger and got this code:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent"><br />(1 lines skipped)<br />$E816:A6 14     LDX $0014 = #$00           A:00 X:D1 Y:04 P:nvUbdiZc<br />$E818:A0 01     LDY #$01                   A:00 X:00 Y:04 P:nvUbdiZc<br />$E81A:8C 16 40  STY $4016 = #$FF           A:00 X:00 Y:01 P:nvUbdizc<br />$E81D:88        DEY                        A:00 X:00 Y:01 P:nvUbdizc<br />$E81E:8C 16 40  STY $4016 = #$FF           A:00 X:00 Y:00 P:nvUbdiZc<br />$E821:AD 16 40  LDA $4016 = #$FF           A:00 X:00 Y:00 P:nvUbdiZc<br />$E824:4A        LSR                        A:40 X:00 Y:00 P:nvUbdizc<br />$E825:26 14     ROL $0014 = #$00           A:20 X:00 Y:00 P:nvUbdizc<br />$E827:AD 16 40  LDA $4016 = #$FF           A:20 X:00 Y:00 P:nvUbdiZc<br />$E82A:4A        LSR                        A:40 X:00 Y:00 P:nvUbdizc<br />$E82B:26 14     ROL $0014 = #$00           A:20 X:00 Y:00 P:nvUbdizc<br />$E82D:AD 16 40  LDA $4016 = #$FF           A:20 X:00 Y:00 P:nvUbdiZc<br />$E830:4A        LSR                        A:40 X:00 Y:00 P:nvUbdizc<br />$E831:26 14     ROL $0014 = #$00           A:20 X:00 Y:00 P:nvUbdizc<br />$E833:AD 16 40  LDA $4016 = #$FF           A:20 X:00 Y:00 P:nvUbdiZc<br />$E836:4A        LSR                        A:40 X:00 Y:00 P:nvUbdizc<br />$E837:26 14     ROL $0014 = #$00           A:20 X:00 Y:00 P:nvUbdizc<br />$E839:AD 16 40  LDA $4016 = #$FF           A:20 X:00 Y:00 P:nvUbdiZc<br />$E83C:4A        LSR                        A:40 X:00 Y:00 P:nvUbdizc<br />$E83D:26 14     ROL $0014 = #$00           A:20 X:00 Y:00 P:nvUbdizc<br />$E83F:AD 16 40  LDA $4016 = #$FF           A:20 X:00 Y:00 P:nvUbdiZc<br />$E842:4A        LSR                        A:40 X:00 Y:00 P:nvUbdizc<br />$E843:26 14     ROL $0014 = #$00           A:20 X:00 Y:00 P:nvUbdizc<br />$E845:AD 16 40  LDA $4016 = #$FF           A:20 X:00 Y:00 P:nvUbdiZc<br />$E848:4A        LSR                        A:40 X:00 Y:00 P:nvUbdizc<br />$E849:26 14     ROL $0014 = #$00           A:20 X:00 Y:00 P:nvUbdizc<br />$E84B:AD 16 40  LDA $4016 = #$FF           A:20 X:00 Y:00 P:nvUbdiZc<br />$E84E:4A        LSR                        A:40 X:00 Y:00 P:nvUbdizc<br />$E84F:26 14     ROL $0014 = #$00           A:20 X:00 Y:00 P:nvUbdizc<br />$E851:E4 14     CPX $0014 = #$00           A:20 X:00 Y:00 P:nvUbdiZc<br />$E853:D0 C1     BNE $E816                  A:20 X:00 Y:00 P:nvUbdiZC<br />$E855:8A        TXA                        A:20 X:00 Y:00 P:nvUbdiZC<br />$E856:29 0C     AND #$0C                   A:00 X:00 Y:00 P:nvUbdiZC<br />$E858:C9 0C     CMP #$0C                   A:00 X:00 Y:00 P:nvUbdiZC<br />$E85A:F0 07     BEQ $E863                  A:00 X:00 Y:00 P:NvUbdizc<br />$E85C:8A        TXA                        A:00 X:00 Y:00 P:NvUbdizc<br />$E85D:29 03     AND #$03                   A:00 X:00 Y:00 P:nvUbdiZc<br />$E85F:C9 03     CMP #$03                   A:00 X:00 Y:00 P:nvUbdiZc<br />$E861:D0 05     BNE $E868                  A:00 X:00 Y:00 P:NvUbdizc<br />$E868:A6 15     LDX $0015 = #$00           A:00 X:00 Y:00 P:NvUbdizc<br />$E86A:A0 01     LDY #$01                   A:00 X:00 Y:00 P:nvUbdiZc<br />$E86C:8C 16 40  STY $4016 = #$FF           A:00 X:00 Y:01 P:nvUbdizc<br />$E86F:88        DEY                        A:00 X:00 Y:01 P:nvUbdizc<br />$E870:8C 16 40  STY $4016 = #$FF           A:00 X:00 Y:00 P:nvUbdiZc<br />$E873:84 15     STY $0015 = #$00           A:00 X:00 Y:00 P:nvUbdiZc<br />$E875:AD 17 40  LDA $4017 = #$FF           A:00 X:00 Y:00 P:nvUbdiZc<br />$E878:4A        LSR                        A:40 X:00 Y:00 P:nvUbdizc<br />$E879:26 15     ROL $0015 = #$00           A:20 X:00 Y:00 P:nvUbdizc<br />$E87B:AD 17 40  LDA $4017 = #$FF           A:20 X:00 Y:00 P:nvUbdiZc<br />$E87E:4A        LSR                        A:40 X:00 Y:00 P:nvUbdizc<br />$E87F:26 15     ROL $0015 = #$00           A:20 X:00 Y:00 P:nvUbdizc<br />$E881:E4 15     CPX $0015 = #$00           A:20 X:00 Y:00 P:nvUbdiZc<br />$E883:D0 E3     BNE $E868                  A:20 X:00 Y:00 P:nvUbdiZC<br />$E885:4C A9 C3  JMP $C3A9                  A:20 X:00 Y:00 P:nvUbdiZC<br /></div><br /><br />That is in the point of the game where you're in the start menu and press the B button to access the help screen.  Im guessing the JMP command is where it would move to access the help data but I don't know what to put in as a hex value to disable it or even if that is the right address.  I thought disabling the menu would be really easy but it's proving to be a bit more complicated than I thought.  Also I tried to look for some good documents on controller input and couldn't really find any.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=6290">guitarzombie</a> — Mon Dec 30, 2013 6:33 am</p><hr />
]]></content>
</entry>
</feed>