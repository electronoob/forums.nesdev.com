<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="http://forums.nesdev.com/feed.php?f=10&amp;t=6915" />

<title>nesdev.com</title>
<subtitle>NES Development and Strangulation Records message boards</subtitle>
<link href="http://forums.nesdev.com/index.php" />
<updated>2010-08-29T21:33:14-07:00</updated>

<author><name><![CDATA[nesdev.com]]></name></author>
<id>http://forums.nesdev.com/feed.php?f=10&amp;t=6915</id>
<entry>
<author><name><![CDATA[comegordas]]></name></author>
<updated>2010-08-29T20:50:35-07:00</updated>
<published>2010-08-29T20:50:35-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6915&amp;p=66918#p66918</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6915&amp;p=66918#p66918"/>
<title type="html"><![CDATA[Background and Sprites strange behavior]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6915&amp;p=66918#p66918"><![CDATA[
yeap, that B flag seems useless. but still BRK is giving some headaches :\<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4531">comegordas</a> — Sun Aug 29, 2010 8:50 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[blargg]]></name></author>
<updated>2010-08-29T20:46:46-07:00</updated>
<published>2010-08-29T20:46:46-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6915&amp;p=66916#p66916</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6915&amp;p=66916#p66916"/>
<title type="html"><![CDATA[Background and Sprites strange behavior]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6915&amp;p=66916#p66916"><![CDATA[
Ahhh, the hallucinated bit 4 and bit 5 status flags. The 6502 only has 6 status flags, not 8 as incorrectly documented almost eveywhere.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=17">blargg</a> — Sun Aug 29, 2010 8:46 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[comegordas]]></name></author>
<updated>2010-08-29T21:33:14-07:00</updated>
<published>2010-08-29T20:36:39-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6915&amp;p=66914#p66914</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6915&amp;p=66914#p66914"/>
<title type="html"><![CDATA[Background and Sprites strange behavior]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6915&amp;p=66914#p66914"><![CDATA[
ok, didn't know that! also, by looking at the log it seems like i have to do an AND $EF when PLP. am i correct? that's its seems to be doing nestest<br /><br />muchas gracias Tepples, eres muy bueno (take that as a "now it's your turn to show me how much did you learn at school" <img src="http://forums.nesdev.com/images/smilies/icon_lol.gif" alt=":lol:" title="Laughing" /> )<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4531">comegordas</a> — Sun Aug 29, 2010 8:36 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2010-08-29T20:24:11-07:00</updated>
<published>2010-08-29T20:24:11-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6915&amp;p=66910#p66910</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6915&amp;p=66910#p66910"/>
<title type="html"><![CDATA[Background and Sprites strange behavior]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6915&amp;p=66910#p66910"><![CDATA[
<div class="quotetitle">comegordas wrote:</div><div class="quotecontent"><br /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">By the way, do you want a little help with your English?<br /></div><br />LOL, is my english so bad? XD<br />of course i need help with my english! but why are you offering me help? do you speak spanish? please say yes <img src="http://forums.nesdev.com/images/smilies/icon_redface.gif" alt=":oops:" title="Embarassed" /></div><br />I took some Spanish years ago in school, and yes, I can still read a little Spanish. I was asking so that I could know whether to offer help with your grammar. I know that some people like being corrected, but others don't respond well to such criticism. For example:<br /><div class="quotetitle">CATS wrote:</div><div class="quotecontent"><br />All your base are belong to us.<br /></div><br />We've taken over all your bases.<br /><br />Back to topic: After PLA, A = $74 because <a href="http://wiki.nesdev.com/w/index.php/CPU_status_flag_behavior" class="postlink">PHP and BRK push the flags OR $30</a>. After AND #$EF, A = $64 because $74 &amp; $EF = $64.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Sun Aug 29, 2010 8:24 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[comegordas]]></name></author>
<updated>2010-08-29T19:31:34-07:00</updated>
<published>2010-08-29T19:31:34-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6915&amp;p=66909#p66909</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6915&amp;p=66909#p66909"/>
<title type="html"><![CDATA[Background and Sprites strange behavior]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6915&amp;p=66909#p66909"><![CDATA[
<div class="quotetitle">tepples wrote:</div><div class="quotecontent"><br />"Adder" in the 6502 appears to refer to the ALU (see Wikipedia <a href="http://en.wikipedia.org/wiki/Arithmetic_logic_unit" class="postlink">en inglés</a> o <a href="http://es.wikipedia.org/wiki/Unidad_aritm%C3%A9tico_l%C3%B3gica" class="postlink">en español</a>). It can do more than add, but to save space on the chip, half the logic for adding is reused. The correct operation is "ACC = ACC &amp; src".<br /><br />By the way, do you want a little help with your English?<br /></div><br />LOL, is my english so bad? XD<br />of course i need help with my english! but why are you offering me help? do you speak spanish? please say yes <img src="http://forums.nesdev.com/images/smilies/icon_redface.gif" alt=":oops:" title="Embarassed" /><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4531">comegordas</a> — Sun Aug 29, 2010 7:31 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[comegordas]]></name></author>
<updated>2010-08-29T19:55:52-07:00</updated>
<published>2010-08-29T19:28:11-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6915&amp;p=66907#p66907</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6915&amp;p=66907#p66907"/>
<title type="html"><![CDATA[Background and Sprites strange behavior]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6915&amp;p=66907#p66907"><![CDATA[
i've found this in the "nestest golden log":<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">C7FE  08          PHP                      A:10 X:00 Y:00 P:64 SP:FB<br />C7FF  68          PLA                       A:10 X:00 Y:00 P:64 SP:FA<br />C800  29 EF     AND #$EF              A:74 X:00 Y:00 P:64 SP:FB<br />C802  C9 64    CMP #$64              A:64 X:00 Y:00 P:64 SP:FB</div><br /><br />P = 64<br />PHP -&gt; value on stack = 64<br />PLA -&gt; value in accumulator should 64, and ass you can see in the third line it is 74.<br /><br />before pulling the value from stack the accumulator was 10. then the program pushes the processor status (wich is 64) onto the stack. then the program loads the accumulator with the value pulled from the stack. at this point accumulator should be 64, because that was the last value pushed onto the stack. unaware ass you can see the value loaded in the accumulator is 74, and not 64. who's wrong: nestest or me?<br /><br />EDIT: look at this too:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">C824  48        PHA                             A:FF X:00 Y:00 P:AD SP:FB CYC: 86 SL:243<br />C825  28        PLP                             A:FF X:00 Y:00 P:AD SP:FA CYC: 95 SL:243<br />C826  D0 09     BNE $C831                       A:FF X:00 Y:00 P:EF SP:FB CYC:107 SL:243</div><br /><br />A = FF<br />PHA -&gt; value pushed on stack is FF<br />PLP -&gt; value pulled from stack is EF (not FF) <img src="http://forums.nesdev.com/images/smilies/icon_eek.gif" alt=":shock:" title="Shocked" /><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4531">comegordas</a> — Sun Aug 29, 2010 7:28 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2010-08-29T19:16:12-07:00</updated>
<published>2010-08-29T19:16:12-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6915&amp;p=66903#p66903</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6915&amp;p=66903#p66903"/>
<title type="html"><![CDATA[Background and Sprites strange behavior]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6915&amp;p=66903#p66903"><![CDATA[
"Adder" in the 6502 appears to refer to the ALU (see Wikipedia <a href="http://en.wikipedia.org/wiki/Arithmetic_logic_unit" class="postlink">en inglés</a> o <a href="http://es.wikipedia.org/wiki/Unidad_aritm%C3%A9tico_l%C3%B3gica" class="postlink">en español</a>). It can do more than add, but to save space on the chip, half the logic for adding is reused. The correct operation is "ACC = ACC &amp; src".<br /><br />By the way, do you want a little help with your English?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Sun Aug 29, 2010 7:16 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[MottZilla]]></name></author>
<updated>2010-08-29T19:12:02-07:00</updated>
<published>2010-08-29T19:12:02-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6915&amp;p=66901#p66901</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6915&amp;p=66901#p66901"/>
<title type="html"><![CDATA[Background and Sprites strange behavior]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6915&amp;p=66901#p66901"><![CDATA[
In C, it would be ACC = ACC &amp; SRC;<br />So the first one you mentioned. Not the other one.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=1726">MottZilla</a> — Sun Aug 29, 2010 7:12 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[comegordas]]></name></author>
<updated>2010-08-29T19:08:23-07:00</updated>
<published>2010-08-29T19:08:23-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6915&amp;p=66900#p66900</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6915&amp;p=66900#p66900"/>
<title type="html"><![CDATA[Background and Sprites strange behavior]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6915&amp;p=66900#p66900"><![CDATA[
Blargg: i've used "nestest.nes", the one wich recommended MotZilla.<br /><br />well, by cheking again the CPU i've found a little issue, aparently with the AND instruction. i've found this on a 6502 doc:<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />2.2.4.1  AND--Memory with Accumulator<br />The AND instructions transfer the accumulator and memory to the adder which performs a bit-by-bit AND operation and stores the result back in the accumulator.<br /></div><br /><br />...maybe my lack of english language speaking made me loose a little detail. the operation is "ACC = ACC &amp; src" or "ACC += (ACC &amp; src)" (note that "+" in the ecuation). i'm asking because this is what it seems to be doing nestest :\<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4531">comegordas</a> — Sun Aug 29, 2010 7:08 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[blargg]]></name></author>
<updated>2010-08-29T18:44:27-07:00</updated>
<published>2010-08-29T18:44:27-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6915&amp;p=66899#p66899</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6915&amp;p=66899#p66899"/>
<title type="html"><![CDATA[Background and Sprites strange behavior]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6915&amp;p=66899#p66899"><![CDATA[
<div class="quotetitle">tokumaru wrote:</div><div class="quotecontent"><br />What kind of tests did you run?<br /></div><div class="quotetitle">comegordas wrote:</div><div class="quotecontent"><br />i've runned some test roms and got good results.<br /></div>Did these test ROMs have names?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=17">blargg</a> — Sun Aug 29, 2010 6:44 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[MottZilla]]></name></author>
<updated>2010-08-29T18:21:38-07:00</updated>
<published>2010-08-29T18:21:38-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6915&amp;p=66895#p66895</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6915&amp;p=66895#p66895"/>
<title type="html"><![CDATA[Background and Sprites strange behavior]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6915&amp;p=66895#p66895"><![CDATA[
If game logic is failing, be certain to check CPU operation. Also be sure that your handling of memory on the NES in general in correct. Donkey Kong was pretty easy for me to get working. But you can have all sorts of weird bugs if you have a problem in your CPU core. Did you ever run the CPU test ROM? Code execution logs are a good way to spot incorrect opcode behavior or register behavior.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=1726">MottZilla</a> — Sun Aug 29, 2010 6:21 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[comegordas]]></name></author>
<updated>2010-08-29T18:12:27-07:00</updated>
<published>2010-08-29T18:12:27-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6915&amp;p=66893#p66893</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6915&amp;p=66893#p66893"/>
<title type="html"><![CDATA[Background and Sprites strange behavior]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6915&amp;p=66893#p66893"><![CDATA[
i'm not 100% sure, but i guess it does. i've runned some test roms and got good results. i was wondering that maybe its a PPU register's issue.  anyway i'll be cheking again the CPU core. thanks for your reply Tokumaru <img src="http://forums.nesdev.com/images/smilies/icon_wink.gif" alt=":wink:" title="Wink" /><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4531">comegordas</a> — Sun Aug 29, 2010 6:12 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tokumaru]]></name></author>
<updated>2010-08-29T18:05:43-07:00</updated>
<published>2010-08-29T18:05:43-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6915&amp;p=66892#p66892</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6915&amp;p=66892#p66892"/>
<title type="html"><![CDATA[Background and Sprites strange behavior]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6915&amp;p=66892#p66892"><![CDATA[
Sounds like CPU bugs to me... Are you sure your CPU code is working 100%? What kind of tests did you run?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=95">tokumaru</a> — Sun Aug 29, 2010 6:05 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[comegordas]]></name></author>
<updated>2010-08-29T17:46:15-07:00</updated>
<published>2010-08-29T17:46:15-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6915&amp;p=66890#p66890</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6915&amp;p=66890#p66890"/>
<title type="html"><![CDATA[Background and Sprites strange behavior]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6915&amp;p=66890#p66890"><![CDATA[
hi people! i'm opening this thread in order to get some help with a strange behavior of the background and the tiles in my emu. i've tested my emu with some roms and found some crazy things that couldn't figure out why happens. i.e., in Donkey Kong, the first title screen is never showed, the game goes directly the console's self-playing scene. this scene looks ok for a few seconds, and then it crashes, turning the screen into this:<br /><br /><img src="http://img130.imageshack.us/img130/2585/59329712.jpg" alt="Image" /><br /><br />the other strange thing is this:<br /><br /><img src="http://img43.imageshack.us/img43/1320/45157926.jpg" alt="Image" /><br /><br />look at the position where Mario dies <img src="http://forums.nesdev.com/images/smilies/icon_eek.gif" alt=":shock:" title="Shocked" /> <br />i've loaded the roms in some other emulators and in the scene he doesn't die in that position. i've made some tests with Balloon Fight too and have some similar results. i can't figure out why this is happening, so i'm asking for some hints. maybe one of you had a similar issue :\<br /><br />thanks in advance for any reply!<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4531">comegordas</a> — Sun Aug 29, 2010 5:46 pm</p><hr />
]]></content>
</entry>
</feed>