<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<link rel="icon" href="/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />

<title>nesdev.com &bull; View topic - SPC7110 Reverse Engineering Project</title>

<link rel="alternate" type="application/atom+xml" title="Feed - nesdev.com" href="http://forums.nesdev.com/feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - News" href="http://forums.nesdev.com/feed.php?mode=news" /><link rel="alternate" type="application/atom+xml" title="Feed - All forums" href="http://forums.nesdev.com/feed.php?mode=forums" /><link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="http://forums.nesdev.com/feed.php?mode=topics" /><link rel="alternate" type="application/atom+xml" title="Feed - Active Topics" href="http://forums.nesdev.com/feed.php?mode=topics_active" /><link rel="alternate" type="application/atom+xml" title="Feed - Forum - SNESdev" href="http://forums.nesdev.com/feed.php?f=12" /><link rel="alternate" type="application/atom+xml" title="Feed - Topic - SPC7110 Reverse Engineering Project" href="http://forums.nesdev.com/feed.php?f=12&amp;t=4106" />

<link rel="stylesheet" href="./style.php?id=1&amp;lang=en" type="text/css" />

<script type="text/javascript">
// <![CDATA[


function popup(url, width, height, name)
{
	if (!name)
	{
		name = '_popup';
	}

	window.open(url.replace(/&amp;/g, '&'), name, 'height=' + height + ',resizable=yes,scrollbars=yes,width=' + width);
	return false;
}

function jumpto()
{
	var page = prompt('Enter the page number you wish to go to:', '15');
	var per_page = '15';
	var base_url = './viewtopic.php?f=12&amp;t=4106';

	if (page !== null && !isNaN(page) && page == Math.floor(page) && page > 0)
	{
		if (base_url.indexOf('?') == -1)
		{
			document.location.href = base_url + '?start=' + ((page - 1) * per_page);
		}
		else
		{
			document.location.href = base_url.replace(/&amp;/g, '&') + '&start=' + ((page - 1) * per_page);
		}
	}
}

/**
* Find a member
*/
function find_username(url)
{
	popup(url, 760, 570, '_usersearch');
	return false;
}

/**
* Mark/unmark checklist
* id = ID of parent container, name = name prefix, state = state [true/false]
*/
function marklist(id, name, state)
{
	var parent = document.getElementById(id);
	if (!parent)
	{
		eval('parent = document.' + id);
	}

	if (!parent)
	{
		return;
	}

	var rb = parent.getElementsByTagName('input');
	
	for (var r = 0; r < rb.length; r++)
	{
		if (rb[r].name.substr(0, name.length) == name)
		{
			rb[r].checked = state;
		}
	}
}



// ]]>
</script>
</head>
<body class="ltr">

<a name="top"></a>

<div id="wrapheader">

	<div id="logodesc">
	</div>

	<div id="menubar">

		<table width="100%" cellspacing="0">
		<tr>
			<td rowspan="2"><a href="./index.php"><img src="./styles/subsilver2/imageset/site_logo.gif" alt="" title="" /></a></td>
			<td width="100%" align="center"><h1>nesdev.com</h1><span class="gen">NES Development and Strangulation Records message boards</span></td>
		</tr>
		<tr>
			<td align="center">
				<a href="./faq.php"><img src="./styles/prosilver/theme/images/icon_mini_faq.gif" width="12" height="13" alt="*" /> FAQ</a>
				&nbsp; &nbsp;<a href="./search.php"><img src="./styles/prosilver/theme/images/icon_mini_search.gif" width="12" height="13" alt="*" /> Search</a>
				<br />	
				 &nbsp;<a href="./ucp.php?mode=register"><img src="./styles/prosilver/theme/images/icon_mini_register.gif" width="12" height="13" alt="*" /> Register</a>
					&nbsp; &nbsp;<a href="./ucp.php?mode=login"><img src="./styles/prosilver/theme/images/icon_mini_login.gif" width="12" height="13" alt="*" /> Login</a>&nbsp;
			</td>
		</tr>
		</table>
	</div>

	<div id="datebar">
		<table width="100%" cellspacing="0">
		<tr>
			<td class="gensmall"></td>
			<td class="gensmall" align="right">It is currently Sun Sep 21, 2014 2:23 pm<br /></td>
		</tr>
		</table>
	</div>

</div>

<div id="wrapcentre">

	
	<p class="searchbar">
		<span style="float: left;"><a href="./search.php?search_id=unanswered">View unanswered posts</a> | <a href="./search.php?search_id=active_topics">View active topics</a></span>
		
	</p>
	

	<br style="clear: both;" />

	<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=25">Other</a> &#187; <a href="./viewforum.php?f=12">SNESdev</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>

	<br />

<div id="pageheader">
	<h2><a class="titles" href="./viewtopic.php?f=12&amp;t=4106&amp;start=210">SPC7110 Reverse Engineering Project</a></h2>


	<p class="moderators">Moderator: <a href="./memberlist.php?mode=group&amp;g=320">Moderators</a></p>

</div>

<br clear="all" /><br />

<div id="pagecontent">

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=12"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=12&amp;t=4106"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>15</strong> of <strong>21</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 315 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"><b><a href="#" onclick="jumpto(); return false;" title="Click to jump to pageâ€¦">Go to page</a> <a href="./viewtopic.php?f=12&amp;t=4106&amp;start=195">Previous</a>&nbsp;&nbsp;<a href="./viewtopic.php?f=12&amp;t=4106">1</a><span class="page-dots"> ... </span><a href="./viewtopic.php?f=12&amp;t=4106&amp;start=165">12</a><span class="page-sep">, </span><a href="./viewtopic.php?f=12&amp;t=4106&amp;start=180">13</a><span class="page-sep">, </span><a href="./viewtopic.php?f=12&amp;t=4106&amp;start=195">14</a><span class="page-sep">, </span><strong>15</strong><span class="page-sep">, </span><a href="./viewtopic.php?f=12&amp;t=4106&amp;start=225">16</a><span class="page-sep">, </span><a href="./viewtopic.php?f=12&amp;t=4106&amp;start=240">17</a><span class="page-sep">, </span><a href="./viewtopic.php?f=12&amp;t=4106&amp;start=255">18</a><span class="page-dots"> ... </span><a href="./viewtopic.php?f=12&amp;t=4106&amp;start=300">21</a> &nbsp;<a href="./viewtopic.php?f=12&amp;t=4106&amp;start=225">Next</a></b></td>
		
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat">
			<table width="100%" cellspacing="0">
			<tr>
				<td class="nav" nowrap="nowrap">&nbsp;
				<a href="./viewtopic.php?f=12&amp;t=4106&amp;start=210&amp;view=print" title="Print view">Print view</a>
				</td>
				<td class="nav" align="right" nowrap="nowrap"><a href="./viewtopic.php?f=12&amp;t=4106&amp;view=previous">Previous topic</a> | <a href="./viewtopic.php?f=12&amp;t=4106&amp;view=next">Next topic</a>&nbsp;</td>
			</tr>
			</table>
		</td>
	</tr>

	</table>


	<table class="tablebg" width="100%" cellspacing="1">
	
		<tr>
			<th>Author</th>
			<th>Message</th>
		</tr>
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p34730"></a>
				<b class="postauthor">neviksti</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p34730"></a></div><div style="float: right;"><a href="./viewtopic.php?p=34730#p34730"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Jul 09, 2008 3:02 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Thu Jun 22, 2006 11:39 pm<br /><b>Posts:</b> 205
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Bleh, I tried an all $FF's test and it failed miserably.  I'll try to fix this up, so I'll be up a little longer tonight.
<br />
<br />If you post a binary file you want me to use, I'll run that once everything is working correctly.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=716"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p34731"></a>
				<b class="postauthor">kammedo</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p34731"></a></div><div style="float: right;"><a href="./viewtopic.php?p=34731#p34731"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Jul 09, 2008 3:36 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Wed May 28, 2008 5:43 am<br /><b>Posts:</b> 57
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">Andreas Naive wrote:</div><div class="quotecontent">So... how are we supposed to make new tests? Should i pass you a binary file with the desired 256 bytes?<br /><br />At this point, i'm only interested in making some statistical analysis, so a random input (50%-50% distribution for 0's and 1's) would be fine for me.<br /><br /><br />EDITED: Ummm, i changed my mind: a 70%-30% distribution would be better.</div>
<br />
<br />How about a
<br />000000
<br />000001
<br />000002
<br />.
<br />.
<br />etc
<br />test first?</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3536"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p34733"></a>
				<b class="postauthor">neviksti</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p34733"></a></div><div style="float: right;"><a href="./viewtopic.php?p=34733#p34733"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Jul 09, 2008 4:04 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Thu Jun 22, 2006 11:39 pm<br /><b>Posts:</b> 205
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I'm too tired to debug effectively right now.
<br />I updated the file:
<br /><!-- m --><a class="postlink" href="http://neviksti.com/SPC7110/testcode.asm">http://neviksti.com/SPC7110/testcode.asm</a><!-- m -->
<br />
<br />Can someone please look over the code and give it a sanity check?
<br />Here's the output I'm getting for all FF's as the input file.
<br /><!-- m --><a class="postlink" href="http://neviksti.com/SPC7110/outputFFFF.bin">http://neviksti.com/SPC7110/outputFFFF.bin</a><!-- m -->
<br />
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">5A 5A 5A 5A 5A 5A 5A 5A <br />A5 A5 A5 A5 A5 A5 A5 A5 <br />25 DA DA DA 09 DA AD AD <br />17 A5 DA 93 2B A1 A5 A5<br />...<br /></div><br /><br />Check out that bizarre 09 case.  Also notice the prob=2D cases.<br /><br />These can be easily explained if there was supposed to be an extra shift (so the prob values are actually $08.8 *2 ==&gt; $11  and $2D *2 ==&gt; $5A).<br /><br />But I can't find the error in the code at the moment.  With plenty of debug output, the program seems to be working okay, and span &gt; $80 ... so it is not clear how another shift would even be allowed.<br /><br />--------------------<br />EDIT:  Doh! Found a stupid little error.  But there is still something else wrong.<br />(Updated files again)<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">5A 5A 5A 5A 5A 5A 5A 5A <br />A5 A5 A5 A5 A5 A5 A5 A5 <br />25 DA DA DA 11 DA DA DA <br />5A A5 DA A5 2C A5 A5 A5<br />BF A5 A5 A5 3A A5 91 A5<br />...<br /></div>
<br />
<br />What the heck is the 2C now?
<br />And then things get screwy after that (3F, 3A, etc.)
<br />
<br />Maybe it will make more sense after some sleep.  That's all for now.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=716"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p34739"></a>
				<b class="postauthor">Andreas Naive</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p34739"></a></div><div style="float: right;"><a href="./viewtopic.php?p=34739#p34739"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Jul 09, 2008 9:20 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Nov 26, 2007 2:06 am<br /><b>Posts:</b> 104<br /><b>Location:</b> Madrid, Spain
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">5A 5A 5A 5A 5A 5A 5A 5A<br />A5 A5 A5 A5 A5 A5 A5 A5<br />25 DA DA DA 11 DA DA DA<br />5A A5 DA A5 2C A5 A5 A5<br />BF A5 A5 A5 3A A5 91 A5<br />... </div>
<br />
<br />Yes! That's it. There are no errors.
<br />You definitively want to take a look at the evolution table of the 16-bits QM-coder. (You have it, by example, in page 31 of the ITU recommendation that jolly_codger posted above)  <img src="./images/smilies/icon_wink.gif" alt=";)" title="Wink" />
<br />
<br />0 5a1d 1   1
<br />1 2586 14 2
<br />2 1114 16 3
<br />3 080b 18 4
<br />....
<br />14  5a7f 15 15
<br />15  3f25 36 16
<br />16  2cf2 38 17
<br />...
<br />till index 112.
<br />
<br />So this is definitively a 8-bits version of the QM-coder. If we had previously only observed the 0x5a, 0x25, etc, values, is because they are the "initial state" values of the evolution table (if you take a look at the evolution table of the 15-bits version, you will see states 0 to 8 can only be reached at the start of the evolution.) Then, if you only find MPS, you will evolve through those initial state values but, when reaching the first LPS, the wild word awaits for you. <img src="./images/smilies/icon_wink.gif" alt=";)" title="Wink" />
<br />
<br />Now i wonder how many states will have our evolution table; it can not have the 113 values of the 16 bits version, as some values in that table are less than 0x0100 (till reaching 0x0001 indeed) so you cannot convert that table to 8 bit just by masking off the low byte.
<br />
<br />Well, i have to say i'm in a better state of mind now. I was wondering how the hell they could use a so discretizated set of values. This now makes much more sense...</div>

					
							<br /><br />
							<span class="gensmall">Last edited by <a href="./memberlist.php?mode=viewprofile&amp;u=3445">Andreas Naive</a> on Wed Jul 09, 2008 9:35 am, edited 1 time in total.</span>
						<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3445"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p34740"></a>
				<b class="postauthor">Andreas Naive</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p34740"></a></div><div style="float: right;"><a href="./viewtopic.php?p=34740#p34740"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Jul 09, 2008 9:29 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Nov 26, 2007 2:06 am<br /><b>Posts:</b> 104<br /><b>Location:</b> Madrid, Spain
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Here you have my first test:
<br />
<br /><a href="http://andreasnaive.en.eresmas.com/SPC7110/input_7030_an1.bin" class="postlink">http://andreasnaive.en.eresmas.com/SPC7110/input_7030_an1.bin</a></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3445"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p34741"></a>
				<b class="postauthor">Andreas Naive</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p34741"></a></div><div style="float: right;"><a href="./viewtopic.php?p=34741#p34741"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Jul 09, 2008 10:51 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Nov 26, 2007 2:06 am<br /><b>Posts:</b> 104<br /><b>Location:</b> Madrid, Spain
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I'm seeing it...  I'm seeing how it evolves.  <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />
<br />As this seems just a version of the 16-bits one, i though it would be enough to take that as initial point and start to make changes. Though i know some values (the ones 0x0100) should be erased from the table, to maintain the order and make things easier to follow, i will retain 113 values.
<br />
<br />Now, look at bitplane #4 in neviksti's outputffff.bin. The evolution goes this way:
<br />index 0(5A) + LPS -&gt; 1 with change of MPS
<br />index 1(25) + MPS  -&gt; 2 with change of MPS (i don't understand why the change of MPS here, as that should only happen after a LPS, so i suppose the surrounding pixels have an effect on this)
<br />2(11) + LPS -&gt; 16
<br />16(2C) + LPS -&gt; 38
<br />38(3A) + LPS -&gt; 65
<br />65(4D) + LPS -&gt; 95 (this differs from the 16 bits version, so i change the state 65 to reflect this)
<br />95(56) + LPS -&gt; 95 with change of MPS
<br />95(56) + MPS -&gt; 96
<br />96(4F) + MPS -&gt; 97
<br />97(47) + MPS -&gt; 98
<br />98(41) + MPS -&gt; 99
<br />99(3C) + MPS -&gt; 100
<br />100(37) + MPS -&gt; 84 (this differs from the 16 bits version, so i change the state 100 to reflect this)
<br />84(34) + MPS -&gt; 85
<br />85(2E) + MPS -&gt; 86
<br />86(29) + MPS -&gt; 87
<br />87(25) + MPS -&gt; 41 (this differs from the 16 bits version, so i change the state 87 to reflect this)
<br />41(1F) + MPS -&gt; 42
<br />42(19) + MPS -&gt; 43
<br />43(15) + MPS -&gt; 44
<br />44(11) + MPS -&gt; 45
<br />45(0E) + MPS -&gt; 46
<br />46(0B) + MPS -&gt; 47
<br />47(09) + MPS -&gt; 48
<br />48(08 ) + MPS -&gt; 49
<br />49(07) + MPS -&gt; 50
<br />50(05) + MPS -&gt; 51
<br />51(04) + MPS -&gt; 52
<br />52(03) + MPS -&gt; I lack data to know this.
<br />
<br />Do you see it? In this way, by studying bitplanes #0 and #4, i guess we will be able to reproduce the full evolution table after just studying some examples. Now i have to leave or my wife will kill me. Have fun.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3445"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p34747"></a>
				<b class="postauthor">Andreas Naive</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p34747"></a></div><div style="float: right;"><a href="./viewtopic.php?p=34747#p34747"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Jul 09, 2008 2:46 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Nov 26, 2007 2:06 am<br /><b>Posts:</b> 104<br /><b>Location:</b> Madrid, Spain
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I'm back. As i was in a hurry in my last post, i didn't included this: i had converted the 16-bits QM table to 8 bits (simply by getting the 8 higher bits of every value). I will post it here (this is before doing any modification as i commented before) for the shake of using common terminology. As said, while there are values that obviously won't be used (as they are 0), i prefer to maintain the same ordering than the original at this point. We always can simplify it when all be understood.
<br />
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">struct evolution_node<br />&#123;<br />&nbsp; &nbsp; uint8 Qe;<br />&nbsp; &nbsp; uint8 nextLps;<br />&nbsp; &nbsp; uint8 nextMps;<br />&nbsp; &nbsp; uint8 mpsExch;<br />&#125;;<br /><br />struct evolution_node evolution_table&#91;&#93; = &#123;<br />&#123;0x5a,&nbsp; 1,&nbsp; 1,1&#125;,&nbsp; //0<br />&#123;0x25, 14,&nbsp; 2,0&#125;,&nbsp; //1<br />&#123;0x11, 16,&nbsp; 3,0&#125;,&nbsp; //2<br />&#123;0x08, 18,&nbsp; 4,0&#125;,&nbsp; //3<br />&#123;0x03, 20,&nbsp; 5,0&#125;,&nbsp; //4<br />&#123;0x01, 23,&nbsp; 6,0&#125;,&nbsp; //5<br />&#123;0x00, 25,&nbsp; 7,0&#125;,&nbsp; //6<br />&#123;0x00, 28,&nbsp; 8,0&#125;,&nbsp; //7<br />&#123;0x00, 30,&nbsp; 9,0&#125;,&nbsp; //8<br />&#123;0x00, 33, 10,0&#125;,&nbsp; //9<br />&#123;0x00, 35, 11,0&#125;,&nbsp; //10<br />&#123;0x00,&nbsp; 9, 12,0&#125;,&nbsp; //11<br />&#123;0x00, 10, 13,0&#125;,&nbsp; //12<br />&#123;0x00, 12, 14,0&#125;,&nbsp; //13<br />&#123;0x5a, 15, 15,1&#125;,&nbsp; //14<br />&#123;0x3f, 36, 16,0&#125;,&nbsp; //15<br />&#123;0x2c, 38, 17,0&#125;,&nbsp; //16<br />&#123;0x20, 39, 18,0&#125;,&nbsp; //17<br />&#123;0x17, 40, 19,0&#125;,&nbsp; //18<br />&#123;0x11, 42, 20,0&#125;,&nbsp; //19<br />&#123;0x0c, 43, 21,0&#125;,&nbsp; //20<br />&#123;0x09, 45, 22,0&#125;,&nbsp; //21<br />&#123;0x07, 46, 23,0&#125;,&nbsp; //22<br />&#123;0x05, 48, 24,0&#125;,&nbsp; //23<br />&#123;0x04, 49, 25,0&#125;,&nbsp; //24<br />&#123;0x03, 51, 26,0&#125;,&nbsp; //25<br />&#123;0x02, 52, 27,0&#125;,&nbsp; //26<br />&#123;0x01, 54, 28,0&#125;,&nbsp; //27<br />&#123;0x01, 56, 29,0&#125;,&nbsp; //28<br />&#123;0x00, 57, 30,0&#125;,&nbsp; //29<br />&#123;0x00, 59, 31,0&#125;,&nbsp; //30<br />&#123;0x00, 60, 32,0&#125;,&nbsp; //31<br />&#123;0x00, 62, 33,0&#125;,&nbsp; //32<br />&#123;0x00, 63, 34,0&#125;,&nbsp; //33<br />&#123;0x00, 32, 35,0&#125;,&nbsp; //34<br />&#123;0x00, 33,&nbsp; 9,0&#125;,&nbsp; //35<br />&#123;0x5a, 37, 37,1&#125;,&nbsp; //36<br />&#123;0x48, 64, 38,0&#125;,&nbsp; //37<br />&#123;0x3a, 65, 39,0&#125;,&nbsp; //38<br />&#123;0x2e, 67, 40,0&#125;,&nbsp; //39<br />&#123;0x26, 68, 41,0&#125;,&nbsp; //40<br />&#123;0x1f, 69, 42,0&#125;,&nbsp; //41<br />&#123;0x19, 70, 43,0&#125;,&nbsp; //42<br />&#123;0x15, 72, 44,0&#125;,&nbsp; //43<br />&#123;0x11, 73, 45,0&#125;,&nbsp; //44<br />&#123;0x0e, 74, 46,0&#125;,&nbsp; //45<br />&#123;0x0b, 75, 47,0&#125;,&nbsp; //46<br />&#123;0x09, 77, 48,0&#125;,&nbsp; //47<br />&#123;0x08, 78, 49,0&#125;,&nbsp; //48<br />&#123;0x07, 79, 50,0&#125;,&nbsp; //49<br />&#123;0x05, 48, 51,0&#125;,&nbsp; //50<br />&#123;0x04, 50, 52,0&#125;,&nbsp; //51<br />&#123;0x04, 50, 53,0&#125;,&nbsp; //52<br />&#123;0x03, 51, 54,0&#125;,&nbsp; //53<br />&#123;0x02, 52, 55,0&#125;,&nbsp; //54<br />&#123;0x02, 53, 56,0&#125;,&nbsp; //55<br />&#123;0x01, 54, 57,0&#125;,&nbsp; //56<br />&#123;0x01, 55, 58,0&#125;,&nbsp; //57<br />&#123;0x01, 56, 59,0&#125;,&nbsp; //58<br />&#123;0x01, 57, 60,0&#125;,&nbsp; //59<br />&#123;0x00, 58, 61,0&#125;,&nbsp; //60<br />&#123;0x00, 59, 62,0&#125;,&nbsp; //61<br />&#123;0x00, 61, 63,0&#125;,&nbsp; //62<br />&#123;0x00, 61, 32,0&#125;,&nbsp; //63<br />&#123;0x5b, 65, 65,1&#125;,&nbsp; //64<br />&#123;0x4d, 80, 66,0&#125;,&nbsp; //65<br />&#123;0x41, 81, 67,0&#125;,&nbsp; //66<br />&#123;0x37, 82, 68,0&#125;,&nbsp; //67<br />&#123;0x2f, 83, 69,0&#125;,&nbsp; //68<br />&#123;0x29, 84, 70,0&#125;,&nbsp; //69<br />&#123;0x23, 86, 71,0&#125;,&nbsp; //70<br />&#123;0x1e, 87, 72,0&#125;,&nbsp; //71<br />&#123;0x1a, 87, 73,0&#125;,&nbsp; //72<br />&#123;0x17, 72, 74,0&#125;,&nbsp; //73<br />&#123;0x14, 72, 75,0&#125;,&nbsp; //74<br />&#123;0x11, 74, 76,0&#125;,&nbsp; //75<br />&#123;0x0f, 74, 77,0&#125;,&nbsp; //76<br />&#123;0x0d, 75, 78,0&#125;,&nbsp; //77<br />&#123;0x0b, 77, 79,0&#125;,&nbsp; //78<br />&#123;0x0a, 77, 48,0&#125;,&nbsp; //79<br />&#123;0x58, 80, 81,1&#125;,&nbsp; //80<br />&#123;0x4d, 88, 82,0&#125;,&nbsp; //81<br />&#123;0x43, 89, 83,0&#125;,&nbsp; //82<br />&#123;0x3b, 90, 84,0&#125;,&nbsp; //83<br />&#123;0x34, 91, 85,0&#125;,&nbsp; //84<br />&#123;0x2e, 92, 86,0&#125;,&nbsp; //85<br />&#123;0x29, 93, 87,0&#125;,&nbsp; //86<br />&#123;0x25, 86, 71,0&#125;,&nbsp; //87<br />&#123;0x55, 88, 89,1&#125;,&nbsp; //88<br />&#123;0x4c, 95, 90,0&#125;,&nbsp; //89<br />&#123;0x44, 96, 91,0&#125;,&nbsp; //90<br />&#123;0x3e, 97, 92,0&#125;,&nbsp; //91<br />&#123;0x38, 99, 93,0&#125;,&nbsp; //92<br />&#123;0x32, 99, 94,0&#125;,&nbsp; //93<br />&#123;0x2e, 93, 86,0&#125;,&nbsp; //94<br />&#123;0x56, 95, 96,1&#125;,&nbsp; //95<br />&#123;0x4f,101, 97,0&#125;,&nbsp; //96<br />&#123;0x47,102, 98,0&#125;,&nbsp; //97<br />&#123;0x41,103, 99,0&#125;,&nbsp; //98<br />&#123;0x3c,104,100,0&#125;,&nbsp; //99<br />&#123;0x37, 99, 93,0&#125;,&nbsp; //100<br />&#123;0x52,105,102,0&#125;,&nbsp; //101<br />&#123;0x4c,106,103,0&#125;,&nbsp; //102<br />&#123;0x46,107,104,0&#125;,&nbsp; //103<br />&#123;0x41,103, 99,0&#125;,&nbsp; //104<br />&#123;0x56,105,106,1&#125;,&nbsp; //105<br />&#123;0x50,108,107,0&#125;,&nbsp; //106<br />&#123;0x4b,109,103,0&#125;,&nbsp; //107<br />&#123;0x55,110,109,0&#125;,&nbsp; //108<br />&#123;0x50,111,107,0&#125;,&nbsp; //109<br />&#123;0x5a,110,111,1&#125;,&nbsp; //110<br />&#123;0x55,112,109,0&#125;,&nbsp; //111<br />&#123;0x59,112,111,1&#125;,&nbsp; //112<br />&#125;;</div>
<br />
<br />The suggested modifications to this table, by now, are:
<br />65+LPS-&gt;95
<br />100+MPS-&gt;84
<br />87+MPS-&gt;41
<br />
<br />EDITED:
<br />Bitplane #0 in the "all 1's" example can be understood without further changes. However, the same change of MPS unrelated to the evolution appear when passing from the 2nd to the 3rd bit (in this case it's more clear that it's independent from the evolution, as there is no renormalization at that point.). The states it use are: 0-1-14 and all the way down to 25.
<br />
<br />It seems that 0x100 bytes are a little too few bytes to follow even this to the end (it doesn't reach the saturation state) so maybe it could be worthwhile to bigger that limit if possible.
<br />
<br />Now it's late and i'm tired, so i will just stop here. A last observation, however: in bitplane #1 it's clear how at least 2 different contexts are being used.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3445"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p34751"></a>
				<b class="postauthor">neviksti</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p34751"></a></div><div style="float: right;"><a href="./viewtopic.php?p=34751#p34751"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Jul 09, 2008 4:57 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Thu Jun 22, 2006 11:39 pm<br /><b>Posts:</b> 205
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">Andreas Naive wrote:</div><div class="quotecontent">Here you have my first test:<br /><br /><a href="http://andreasnaive.en.eresmas.com/SPC7110/input_7030_an1.bin" class="postlink">http://andreasnaive.en.eresmas.com/SPC7110/input_7030_an1.bin</a></div><br />I appear to still have a problem in my code (or there is something else weird going on here).  I run your input and the program quits on bit 4F, saying "ERROR: Prob overflow".  You can see in the code where this occurs, it is when the tested Prob reaches $80, it stops.<br /><br />Here's the pertinent output:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">5A 5A 5A 5A 5A 5A 5A 5A <br />A5 A5 5A 5A A5 5A 5A 5A <br />25 DA 5A DA 5A A5 DA 5A <br />5A DA 25 A5 3F 5A 25 25 <br />3F BF A5 5A AC 25 A5 DA <br />BF 25 A5 5A 3A 25 DA 25 <br />DA A5 5A DA 4D BF 11 A5 <br />48 DA A5 A5 C3 BF 08 5A <br />3A 3F 25 DA 3B 2C A5 5A <br />3A DA A5 DA B4 3A 08 FF<br />... code crash<br /></div><br /><br /><div class="quotetitle">Andreas Naive wrote:</div><div class="quotecontent">It seems that 0x100 bytes are a little too few bytes to follow even this to the end (it doesn't reach the saturation state) so maybe it could be worthwhile to bigger that limit if possible.</div>
<br />I can add a check in the code that the compressed data offset never goes past $400.  Then you can use larger files without problems, as it will safely halt if it runs out of room.  Please limit the input files to $300 bytes though if you can, as this makes everything fit in memory easier.
<br />
<br />If need be I can enlarge the buffer sizes, but please realize that as is, when the prob is ~ $5A, the SNES already takes about 15 seconds per byte (roughly an hour for $100 bytes of input).  Most of this time is dealing with transferring the large compressed data buffer, increasing it 2 fold will increase the time roughly 2 fold.  There's nothing wrong with a test taking several hours.  I just want everyone to understand why I hesitate to increase that buffer length.
<br />
<br />Of course we need to figure out the other problem first before the code is useable anyway...
<br />
<br />EDIT:
<br />Found the error.  Amazingly that particular case was never reached before, and a mistake with the accumulator state incorrectly let everything through a particular if statement.
<br />
<br />Code on website is now updated,
<br />will upload output when it finishes running.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=716"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p34753"></a>
				<b class="postauthor">jolly_codger</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p34753"></a></div><div style="float: right;"><a href="./viewtopic.php?p=34753#p34753"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Jul 09, 2008 6:34 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Wed Jun 04, 2008 10:38 am<br /><b>Posts:</b> 14
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">What if the MPS interval &lt; LPS interval some time before the span collapse? Then we'd have to exchange the two comparison codes (maybe this can never happen though).
<br />
<br />(Update read)
<br />Oops. Never mind. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3542"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p34754"></a>
				<b class="postauthor">neviksti</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p34754"></a></div><div style="float: right;"><a href="./viewtopic.php?p=34754#p34754"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Jul 09, 2008 6:55 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Thu Jun 22, 2006 11:39 pm<br /><b>Posts:</b> 205
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Alright, here's the output.
<br /><!-- m --><a class="postlink" href="http://neviksti.com/SPC7110/output_7030_an1.bin">http://neviksti.com/SPC7110/output_7030_an1.bin</a><!-- m -->
<br />
<br />EDIT:
<br />Just in the off chance there were any problems with the setup, I ran the test again.  It just finished and the results were exactly the same.
<br />
<br />Yeah!  Now I get to relax and read those documents you suggested.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=716"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p34755"></a>
				<b class="postauthor">neviksti</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p34755"></a></div><div style="float: right;"><a href="./viewtopic.php?p=34755#p34755"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Jul 09, 2008 10:09 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Thu Jun 22, 2006 11:39 pm<br /><b>Posts:</b> 205
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I'm almost positive the bitplanes use the previous 16th bit as part of the context.
<br />
<br />all $FF's for half the file, one nibble of 0, then the remaining as $FF
<br />Here's the files:
<br /><!-- m --><a class="postlink" href="http://neviksti.com/SPC7110/inputFFFF0FFF.bin">http://neviksti.com/SPC7110/inputFFFF0FFF.bin</a><!-- m -->
<br /><!-- m --><a class="postlink" href="http://neviksti.com/SPC7110/outputFFFF0FFF.bin">http://neviksti.com/SPC7110/outputFFFF0FFF.bin</a><!-- m -->
<br />
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">by the $80'th byte, the mps/prob have evolved to:<br />85 81 81 81 84 81 81 81 <br />...<br />then the 0 nibble hits:<br />85 11 25 25 84 81 81 81 <br />88 81 81 81 84 81 81 81<br />08 91 91 A5 84 81 81 81 <br />8B 81 81 81 84 81 81 81 <br />8B 81 81 81 84 81 81 81 <br />8B 81 81 81 84 81 81 81<br /></div>
<br />
<br />EDIT:
<br />At this point I think the contexts are:
<br />
<br />bitplanes1-3,5-7
<br />previous 16th bit and preceding bits in the current nibble
<br />
<br />bitplanes0,4
<br />these bitplanes have two "contexts" (the previous 16th bit) which each track the current mps BUT only 1 prob state each.  They also seem to change the mps "immediately".
<br />
<br />We're so close...
<br />
<br />EDIT(2):
<br />Looking at the FF...FF0F...FF file, mps update for bitplanes0,4 does seem to wait for the "switch" parameter in the table.  But when a switch occurs, it updates BOTH stored mps for that particular bitplane (and updates it to the actual bits each context saw last ... ie. the current bit and the 16th previous bit).
<br />
<br />EDIT(3):
<br />Bleh, there are examples where the mps update is more complicated.  Still not sure about this.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=716"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p34758"></a>
				<b class="postauthor">neviksti</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p34758"></a></div><div style="float: right;"><a href="./viewtopic.php?p=34758#p34758"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Jul 10, 2008 4:03 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Thu Jun 22, 2006 11:39 pm<br /><b>Posts:</b> 205
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Because bitplane0 seems to only have one saved probability state, this makes it easy to use to try to map out the probability evolution table.  I did many runs, and while I haven't seen every possible transition, I have seen a large majority.  (Although I haven't checked this with Andreas' run yet.)
<br />
<br />Here's what I believe to be the table (using the notation from above):
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&#123;0x5a,&nbsp; 1,&nbsp; 1,1&#125;,&nbsp; //0&nbsp; &nbsp;l,m<br />&#123;0x25,&nbsp; 6,&nbsp; 2,0&#125;,&nbsp; //1&nbsp; &nbsp;l,m<br />&#123;0x11,&nbsp; 8,&nbsp; 3,0&#125;,&nbsp; //2&nbsp; &nbsp;l,m<br />&#123;0x08, 10,&nbsp; 4,0&#125;,&nbsp; //3&nbsp; &nbsp; ,m<br />&#123;0x03, 12,&nbsp; 5,0&#125;,&nbsp; //4&nbsp; &nbsp; ,m<br />&#123;0x01, 15,&nbsp; 5,0&#125;,&nbsp; //5&nbsp; &nbsp; ,m<br /><br /><br />&#123;0x5a,&nbsp; 7,&nbsp; 7,1&#125;,&nbsp; //6&nbsp; &nbsp;l, <br />&#123;0x3f, 19,&nbsp; 8,0&#125;,&nbsp; //7&nbsp; &nbsp;l,m<br />&#123;0x2c, 21,&nbsp; 9,0&#125;,&nbsp; //8&nbsp; &nbsp;l,m<br />&#123;0x20, 22, 10,0&#125;,&nbsp; //9&nbsp; &nbsp; ,m<br />&#123;0x17, 23, 11,0&#125;,&nbsp; //10&nbsp; &nbsp;,m<br />&#123;0x11, 25, 12,0&#125;,&nbsp; //11&nbsp; &nbsp;,m<br />&#123;0x0c, 26, 13,0&#125;,&nbsp; //12&nbsp; &nbsp;,m<br />&#123;0x09, 28, 14,0&#125;,&nbsp; //13&nbsp; &nbsp;,m<br />&#123;0x07, 29, 15,0&#125;,&nbsp; //14&nbsp; &nbsp;,m<br />&#123;0x05, 31, 16,0&#125;,&nbsp; //15&nbsp; &nbsp;,m<br />&#123;0x04, 32, 17,0&#125;,&nbsp; //16&nbsp; &nbsp;,m<br />&#123;0x03, 34, 18,0&#125;,&nbsp; //17&nbsp; &nbsp;,m<br />&#123;0x02, 35,&nbsp; 5,0&#125;,&nbsp; //18&nbsp; &nbsp;,m<br /><br /><br />&#123;0x5a, 20, 20,1&#125;,&nbsp; //19&nbsp; l,m <br />&#123;0x48, 39, 21,0&#125;,&nbsp; //20&nbsp; l,m<br />&#123;0x3a, 40, 22,0&#125;,&nbsp; //21&nbsp; l,m<br />&#123;0x2e, 42, 23,0&#125;,&nbsp; //22&nbsp; l,m<br />&#123;0x26, 44, 24,0&#125;,&nbsp; //23&nbsp; l,m<br />&#123;0x1f, 45, 25,0&#125;,&nbsp; //24&nbsp; l,m<br />&#123;0x19, 46, 26,0&#125;,&nbsp; //25&nbsp; l,m<br />&#123;0x15, 25, 27,0&#125;,&nbsp; //26&nbsp; l,m<br />&#123;0x11, 26, 28,0&#125;,&nbsp; //27&nbsp; l,m<br />&#123;0x0e, 26, 29,0&#125;,&nbsp; //28&nbsp; l,m<br />&#123;0x0b, 27, 30,0&#125;,&nbsp; //29&nbsp; &nbsp;,m<br />&#123;0x09, 28, 31,0&#125;,&nbsp; //30&nbsp; &nbsp;,m<br />&#123;0x08, 29, 32,0&#125;,&nbsp; //31&nbsp; l,m<br />&#123;0x07, 31, 33,0&#125;,&nbsp; //32&nbsp; l,m<br />&#123;0x05, 32, 34,0&#125;,&nbsp; //33&nbsp; &nbsp;,m<br />&#123;0x04, 33, 35,0&#125;,&nbsp; //34&nbsp; &nbsp;,m&nbsp; &nbsp; ... this is NOT skipped<br />&#123;0x04, 33, 36,0&#125;,&nbsp; //35&nbsp; &nbsp;,m<br />&#123;0x03, 34, 37,0&#125;,&nbsp; //36&nbsp; &nbsp;,m<br />&#123;0x02, 35, 38,0&#125;,&nbsp; //37&nbsp; &nbsp;,m&nbsp; &nbsp; ... this is NOT skipped<br />&#123;0x02, 36,&nbsp; 5,0&#125;,&nbsp; //38&nbsp; &nbsp;,m<br /><br /><br />&#123;0x58, 39, 40,1&#125;,&nbsp; //39&nbsp; l,m<br />&#123;0x4d, 47, 41,0&#125;,&nbsp; //40&nbsp; &nbsp;,m<br />&#123;0x43, 48, 42,0&#125;,&nbsp; //41&nbsp; &nbsp;,m<br />&#123;0x3b, 49, 43,0&#125;,&nbsp; //42&nbsp; &nbsp;,m<br />&#123;0x34, 50, 44,0&#125;,&nbsp; //43&nbsp; l,m<br />&#123;0x2e, 51, 45,0&#125;,&nbsp; //44&nbsp; l,m<br />&#123;0x29, 44, 46,0&#125;,&nbsp; //45&nbsp; l,m<br />&#123;0x25, 45, 24,0&#125;,&nbsp; //46&nbsp; &nbsp;,m<br /><br /><br />&#123;0x56, 47, 48,1&#125;,&nbsp; //47&nbsp; l,m<br />&#123;0x4f, 47, 49,0&#125;,&nbsp; //48&nbsp; l,m<br />&#123;0x47, 48, 50,0&#125;,&nbsp; //49&nbsp; l,m<br />&#123;0x41, 49, 51,0&#125;,&nbsp; //50&nbsp; l,m<br />&#123;0x3c, 50, 52,0&#125;,&nbsp; //51&nbsp; l,m<br />&#123;0x37, 51, 43,0&#125;,&nbsp; //52&nbsp; &nbsp;,m<br /></div><br /><br />The l,m are just remarks about whether I've seen data which shows the lps or mps path at that point.  A lot of the unchecked stuff looked like it would match perfectly with the implied values from the q-coder document.<br /><br />The last entry "mps switch", is just a left over from the original table... I didn't check it, and this doesn't seem to be how the mps evolves anyway.<br /><br /><br /><br />If someone can write a program to give me data to verify this table completely, that would be great.  At the moment though, I'm tired (its 6am) and I'm going to bed.<br /><br />Here's something to scratch your head at though.<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">all 80's the prob values converge to:<br />01 01 01 01 01 01 01 01 <br />...<br /><br />then abruptly change to all 00's, the prob values do this:<br />01 11 25 25 01 01 01 01 <br />05 08 25 25 01 01 01 01 <br />08 01 01 01 01 01 01 01 <br />08 01 01 01 01 01 01 01 <br />08 01 01 01 01 01 01 01 <br />08 01 01 01 01 01 01 01 <br />08 01 01 01 01 01 01 01<br />07 01 01 01 01 01 01 01<br />07 01 01 01 01 01 01 01<br /></div>
<br />What in the world?  Somehow the bit0 context only matters for 2 bytes... then the probabilities go back to what they were.  VERY strange, but probably an important clue.  
<br />
<br />Maybe it only matters if bits in the context were an MPS or LPS, and not necessarily its actual value?
<br />
<br />Good luck everyone and goodnight.
<br />
<br />EDIT: Had typos in the table.  Should be fixed now.
<br />
<br />EDIT: Doh! I meant it changed from all $80's (not $FF's) to all $00's in example above.</div>

					
							<br /><br />
							<span class="gensmall">Last edited by <a href="./memberlist.php?mode=viewprofile&amp;u=716">neviksti</a> on Thu Jul 10, 2008 12:46 pm, edited 1 time in total.</span>
						<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=716"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p34766"></a>
				<b class="postauthor">jolly_codger</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p34766"></a></div><div style="float: right;"><a href="./viewtopic.php?p=34766#p34766"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Jul 10, 2008 10:39 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Wed Jun 04, 2008 10:38 am<br /><b>Posts:</b> 14
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">There's some odd things happening.
<br />Began running a PROB checker and this came up.
<br />
<br />output_7030_an1.bin
<br />
<br />bitplane 5:
<br />[00] 5A -&gt; 5A [0,-,*]
<br />[00] 5A -&gt; 25 [1,L,*]
<br />[01] 25 -&gt; 5A [0,L,-]
<br />ERROR = 1D
<br />[14] 5A -&gt; 25 [0] 
<br />
<br />
<br />Real pattern:
<br />[00] 5A -&gt; 5A
<br />[00] 5A -&gt; 25
<br />[01] 25 -&gt; 5A
<br />[??] 5A -&gt; 25
<br />[??] 25 -&gt; 25
<br />
<br />---------------
<br />
<br />[15] 3F -&gt; 3F [1,-,-]
<br />[15] 3F -&gt; 2C [0,M,-]
<br />[16] 2C -&gt; 3A [0,L,-]
<br />[38] 3A -&gt; 2E [0,M,-]
<br />[39] 2E -&gt; 26 [1,M,-]
<br />[40] 26 -&gt; 1F [1,M,-]
<br />[41] 1F -&gt; 29 [0,L,-]
<br />[69] 29 -&gt; 29 [1,-,-]
<br />ERROR = 75
<br />[69] 29 -&gt; 25 [0]
<br />
<br />NOTE: 41 -&gt; 86
<br />
<br />That gets:
<br />[40] 26 -&gt; 1F [1,M,-]
<br />[41] 1F -&gt; 29 [0,L,-]
<br />[86] 29 -&gt; 29 [1,-,-]
<br />[86] 29 -&gt; 25 [0,M,-]
<br />[87] 25 -&gt; 5A [1,?,-] 
<br />[??] 5A (1) [#]
<br />[??] 29 (0)
<br />[15] 3F (1)
<br />[??] 29 (1)
<br />[??] 2E (1)
<br />[99] 3C (1)
<br />[104] 41 (1) [# No path to 97]
<br />[97] 47 (1)
<br />
<br />
<br />The [??] don't follow any visible way.
<br />There's lots of state hops.
<br />
<br />Going to try some other paths.
<br />
<br />============
<br />============
<br />
<br />UPDATE:
<br />Actually there is something odd.
<br />
<br />If we take this:
<br />{0x3a, 65, 39,0},  //38 (L), Original
<br />
<br />Then this happens:
<br />//{0x4d, 80, 66,0},  //65, Original
<br />{0x4d, 95, 66,0},  //65 (x -&gt; 56[95] )
<br />{0x4d, 82, 66,0},  //65 (x -&gt; 43[82] )
<br />
<br />
<br />Else if we try this:
<br />{0x3a, 81, 39,0},  //38 (L)
<br />
<br />Then this occurs:
<br />{0x4d, 88, 82,0},  //81, Original
<br />{0x4d, 95, 82,0},  //81
<br />
<br />
<br />Maybe that nybble patent needs another reading. :squeezes head:</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3542"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p34768"></a>
				<b class="postauthor">Andreas Naive</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p34768"></a></div><div style="float: right;"><a href="./viewtopic.php?p=34768#p34768"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Jul 10, 2008 12:53 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Nov 26, 2007 2:06 am<br /><b>Posts:</b> 104<br /><b>Location:</b> Madrid, Spain
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">OK. It's clear now how the MPS thing evolves for bitplanes #0 and #4. What is happening is this: we have a normal QM-coder tracking a "mps" value, which i will better call "prediction change" and a prediction table acting on the previous bits. In code:
<br />
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; &nbsp; const uint8 mpsPrediction&#91;4&#93; = &#123;0,0,1,1&#125;;<br />&nbsp; &nbsp; uint8 predChange=0;<br /></div>
<br />
<br />To all effects, predChange is the value tracked by the QM-coder, while the prediction table is fixed and is used with the previous bits for the bitplane. That way, if a MPS event occur, mpsPrediction[lastBits&amp;3]^predChange is outputted, while if a LPS event occur, mpsPrediction[lastBits&amp;3]^predChange^1 is outputted. As simple as that.
<br />
<br />EDITED:
<br />jolly_codger,
<br />Unless i be misunderstanding you, i believe you are missing the point here. bitplane #5 is clearly not composed of one only context, so you cannot expect to see only one evolution, but (at least) two evolutions interweaved.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3445"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p34769"></a>
				<b class="postauthor">Andreas Naive</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p34769"></a></div><div style="float: right;"><a href="./viewtopic.php?p=34769#p34769"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Jul 10, 2008 3:45 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Nov 26, 2007 2:06 am<br /><b>Posts:</b> 104<br /><b>Location:</b> Madrid, Spain
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I have figured out how the 2 contexts of bitplane #5 are selected.
<br />
<br />It is decided when outputting the previous bit (i mean, the last bit from the bitplane #4) in the following way:
<br />When, in bitplane #4, the 'predChange' variable is 0 and we are outputting a LPS, a certain context will be selected for bitplane #5. In other case, the other one will be selected. (So the context selected only depends on the evolution of the context of bitplane #4).
<br />
<br />By separating the Qe's for bitplane #5 in output_7030_an1.bin in two groups using this method, i get:
<br />
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; &nbsp;&nbsp; &nbsp;5a<br />5a<br />25<br />5a<br />&nbsp; &nbsp;&nbsp; &nbsp;25<br />&nbsp; &nbsp;&nbsp; &nbsp;25<br />3f<br />3f<br />2c<br />3a<br />2e<br />26<br />1f<br />29<br />29<br />&nbsp; &nbsp;&nbsp; &nbsp;25<br />&nbsp; &nbsp;&nbsp; &nbsp;5a<br />29<br />&nbsp; &nbsp;&nbsp; &nbsp;3f<br />29<br />2e<br />3c<br />41<br />47<br />&nbsp; &nbsp;&nbsp; &nbsp;5a<br />4f<br />56<br />56<br />56<br />56<br />56<br />56<br />&nbsp; &nbsp;&nbsp; &nbsp;48<br />4f<br />47<br />4f<br />&nbsp; &nbsp;&nbsp; &nbsp;58<br />47<br />&nbsp; &nbsp;&nbsp; &nbsp;4d<br />4f<br />56<br />56<br />56<br />56<br />56<br />&nbsp; &nbsp;&nbsp; &nbsp;43<br />4f<br />&nbsp; &nbsp;&nbsp; &nbsp;3b<br />47<br />41<br />47<br />4f<br />&nbsp; &nbsp;&nbsp; &nbsp;47<br />&nbsp; &nbsp;&nbsp; &nbsp;4f<br />&nbsp; &nbsp;&nbsp; &nbsp;56<br />&nbsp; &nbsp;&nbsp; &nbsp;56<br />&nbsp; &nbsp;&nbsp; &nbsp;56<br />4f<br />56<br />56<br />&nbsp; &nbsp;&nbsp; &nbsp;47<br />41<br />56<br />3c<br />4f<br />&nbsp; &nbsp;&nbsp; &nbsp;41<br />47<br />56<br />4f<br />4f<br />56<br />4f<br />&nbsp; &nbsp;&nbsp; &nbsp;56<br />47<br />&nbsp; &nbsp;&nbsp; &nbsp;4f<br />4f<br />47<br />4f<br />&nbsp; &nbsp;&nbsp; &nbsp;56<br />47<br />&nbsp; &nbsp;&nbsp; &nbsp;56<br />4f<br />56<br />&nbsp; &nbsp;&nbsp; &nbsp;56<br />&nbsp; &nbsp;&nbsp; &nbsp;4f<br />56<br />&nbsp; &nbsp;&nbsp; &nbsp;47<br />4f<br />&nbsp; &nbsp;&nbsp; &nbsp;4f<br />&nbsp; &nbsp;&nbsp; &nbsp;56<br />47<br />41<br />&nbsp; &nbsp;&nbsp; &nbsp;4f<br />47<br />&nbsp; &nbsp;&nbsp; &nbsp;47<br />4f<br />&nbsp; &nbsp;&nbsp; &nbsp;41<br />47<br />&nbsp; &nbsp;&nbsp; &nbsp;47<br />41<br />41<br />47<br />&nbsp; &nbsp;&nbsp; &nbsp;41<br />&nbsp; &nbsp;&nbsp; &nbsp;3c<br />41<br />&nbsp; &nbsp;&nbsp; &nbsp;37<br />47<br />4f<br />47<br />4f<br />&nbsp; &nbsp;&nbsp; &nbsp;34<br />&nbsp; &nbsp;&nbsp; &nbsp;41<br />&nbsp; &nbsp;&nbsp; &nbsp;41<br />&nbsp; &nbsp;&nbsp; &nbsp;3c<br />47<br />4f<br />47<br />47<br />4f<br />56<br />56<br />56<br />&nbsp; &nbsp;&nbsp; &nbsp;37<br />4f<br />&nbsp; &nbsp;&nbsp; &nbsp;34<br />56<br />56<br />56<br />&nbsp; &nbsp;&nbsp; &nbsp;2e<br />4f<br />&nbsp; &nbsp;&nbsp; &nbsp;3c<br />&nbsp; &nbsp;&nbsp; &nbsp;41<br />47<br />&nbsp; &nbsp;&nbsp; &nbsp;3c<br />&nbsp; &nbsp;&nbsp; &nbsp;37<br />4f<br />&nbsp; &nbsp;&nbsp; &nbsp;3c<br />&nbsp; &nbsp;&nbsp; &nbsp;41<br />47<br />&nbsp; &nbsp;&nbsp; &nbsp;47<br />4f<br />56<br />41<br />3c<br />41<br />&nbsp; &nbsp;&nbsp; &nbsp;56<br />56<br />4f<br />47<br />41<br />41<br />3c<br />3c<br />37<br />41<br />3c<br />37<br />47<br />34<br />34<br />4f<br />4f<br />56<br />4f<br />34<br />47<br />&nbsp; &nbsp;&nbsp; &nbsp;41<br />41<br />&nbsp; &nbsp;&nbsp; &nbsp;47<br />47<br />&nbsp; &nbsp;&nbsp; &nbsp;4f<br />41<br />47<br />4f<br />&nbsp; &nbsp;&nbsp; &nbsp;56<br />47<br />&nbsp; &nbsp;&nbsp; &nbsp;4f<br />&nbsp; &nbsp;&nbsp; &nbsp;56<br />4f<br />&nbsp; &nbsp;&nbsp; &nbsp;4f<br />56<br />56<br />56<br />&nbsp; &nbsp;&nbsp; &nbsp;56<br />&nbsp; &nbsp;&nbsp; &nbsp;4f<br />&nbsp; &nbsp;&nbsp; &nbsp;56<br />&nbsp; &nbsp;&nbsp; &nbsp;56<br />4f<br />47<br />4f<br />41<br />56<br />47<br />4f<br />56<br />56<br />4f<br />47<br />41<br />56<br />47<br />56<br />4f<br />56<br />56<br />56<br />56<br />4f<br />56<br />4f<br />56<br />56<br />56<br />56<br />56<br />4f<br />47<br />&nbsp; &nbsp;&nbsp; &nbsp;56<br />&nbsp; &nbsp;&nbsp; &nbsp;4f<br />47<br />&nbsp; &nbsp;&nbsp; &nbsp;47<br />4f<br />56<br />56<br />56<br />56<br />56<br />4f<br />47<br />41<br />41<br />&nbsp; &nbsp;&nbsp; &nbsp;41<br />3c<br />&nbsp; &nbsp;&nbsp; &nbsp;47<br />&nbsp; &nbsp;&nbsp; &nbsp;47<br />41<br />&nbsp; &nbsp;&nbsp; &nbsp;41<br />41<br />47<br />&nbsp; &nbsp;&nbsp; &nbsp;47<br />41<br />&nbsp; &nbsp;&nbsp; &nbsp;4f<br />41<br />&nbsp; &nbsp;&nbsp; &nbsp;56<br />&nbsp; &nbsp;&nbsp; &nbsp;4f<br />&nbsp; &nbsp;&nbsp; &nbsp;47<br />41<br />3c<br />3c<br />41<br />37<br />34<br />&nbsp; &nbsp;&nbsp; &nbsp;47<br />2e<br />&nbsp; &nbsp;&nbsp; &nbsp;4f<br />29</div>
<br />
<br />
<br />where the evolution of the 2 contexts can be seen. Time for sleeping.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3445"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table width="100%" cellspacing="1" class="tablebg">
	<tr align="center">
		<td class="cat"><form name="viewtopic" method="post" action="./viewtopic.php?f=12&amp;t=4106&amp;start=210"><span class="gensmall">Display posts from previous:</span> <select name="st" id="st"><option value="0" selected="selected">All posts</option><option value="1">1 day</option><option value="7">7 days</option><option value="14">2 weeks</option><option value="30">1 month</option><option value="90">3 months</option><option value="180">6 months</option><option value="365">1 year</option></select>&nbsp;<span class="gensmall">Sort by</span> <select name="sk" id="sk"><option value="a">Author</option><option value="t" selected="selected">Post time</option><option value="s">Subject</option></select> <select name="sd" id="sd"><option value="a" selected="selected">Ascending</option><option value="d">Descending</option></select>&nbsp;<input class="btnlite" type="submit" value="Go" name="sort" /></form></td>
	</tr>
	</table>
	

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=12"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=12&amp;t=4106"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>15</strong> of <strong>21</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 315 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"><b><a href="#" onclick="jumpto(); return false;" title="Click to jump to pageâ€¦">Go to page</a> <a href="./viewtopic.php?f=12&amp;t=4106&amp;start=195">Previous</a>&nbsp;&nbsp;<a href="./viewtopic.php?f=12&amp;t=4106">1</a><span class="page-dots"> ... </span><a href="./viewtopic.php?f=12&amp;t=4106&amp;start=165">12</a><span class="page-sep">, </span><a href="./viewtopic.php?f=12&amp;t=4106&amp;start=180">13</a><span class="page-sep">, </span><a href="./viewtopic.php?f=12&amp;t=4106&amp;start=195">14</a><span class="page-sep">, </span><strong>15</strong><span class="page-sep">, </span><a href="./viewtopic.php?f=12&amp;t=4106&amp;start=225">16</a><span class="page-sep">, </span><a href="./viewtopic.php?f=12&amp;t=4106&amp;start=240">17</a><span class="page-sep">, </span><a href="./viewtopic.php?f=12&amp;t=4106&amp;start=255">18</a><span class="page-dots"> ... </span><a href="./viewtopic.php?f=12&amp;t=4106&amp;start=300">21</a> &nbsp;<a href="./viewtopic.php?f=12&amp;t=4106&amp;start=225">Next</a></b></td>
		
	</tr>
	</table>

</div>

<div id="pagefooter"></div>

<br clear="all" />
<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=25">Other</a> &#187; <a href="./viewforum.php?f=12">SNESdev</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>
	<br clear="all" />

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat"><h4>Who is online</h4></td>
	</tr>
	<tr>
		<td class="row1"><p class="gensmall">Users browsing this forum: No registered users and 2 guests</p></td>
	</tr>
	</table>


<br clear="all" />

<table width="100%" cellspacing="1">
<tr>
	<td width="40%" valign="top" nowrap="nowrap" align="left"></td>
	<td align="right" valign="top" nowrap="nowrap"><span class="gensmall">You <strong>cannot</strong> post new topics in this forum<br />You <strong>cannot</strong> reply to topics in this forum<br />You <strong>cannot</strong> edit your posts in this forum<br />You <strong>cannot</strong> delete your posts in this forum<br />You <strong>cannot</strong> post attachments in this forum<br /></span></td>
</tr>
</table>

<br clear="all" />

<table width="100%" cellspacing="0">
<tr>
	<td><form method="get" name="search" action="./search.php"><span class="gensmall">Search for:</span> <input class="post" type="text" name="keywords" size="20" /> <input class="btnlite" type="submit" value="Go" /><input type="hidden" name="t" value="4106" />
<input type="hidden" name="sf" value="msgonly" />
</form></td>
	<td align="right">
	<form method="post" name="jumpbox" action="./viewforum.php" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	<table cellspacing="0" cellpadding="0" border="0">
	<tr>
		<td nowrap="nowrap"><span class="gensmall">Jump to:</span>&nbsp;<select name="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">

		
			<option value="-1">Select a forum</option>
		<option value="-1">------------------</option>
			<option value="24">NES / Famicom</option>
		
			<option value="2">&nbsp; &nbsp;NESdev</option>
		
			<option value="3">&nbsp; &nbsp;NESemdev</option>
		
			<option value="21">&nbsp; &nbsp;NES Graphics</option>
		
			<option value="6">&nbsp; &nbsp;NES Music</option>
		
			<option value="9">&nbsp; &nbsp;NES Hardware and Flash Equipment</option>
		
			<option value="22">&nbsp; &nbsp;Homebrew Projects</option>
		
			<option value="10">&nbsp; &nbsp;Newbie Help Center</option>
		
			<option value="11">&nbsp; &nbsp;FCdev</option>
		
			<option value="18">&nbsp; &nbsp;NESdev China</option>
		
			<option value="27">&nbsp; &nbsp;NESdev Middle East</option>
		
			<option value="19">&nbsp; &nbsp;NESdev International</option>
		
			<option value="25">Other</option>
		
			<option value="5">&nbsp; &nbsp;General Stuff</option>
		
			<option value="4">&nbsp; &nbsp;Membler Industries</option>
		
			<option value="12" selected="selected">&nbsp; &nbsp;SNESdev</option>
		
			<option value="20">&nbsp; &nbsp;GBDev</option>
		
			<option value="23">&nbsp; &nbsp;Other Retro Dev</option>
		
			<option value="15">&nbsp; &nbsp;Test Forum</option>
		
			<option value="26">Site Issues</option>
		
			<option value="13">&nbsp; &nbsp;phpBB Issues</option>
		
			<option value="14">&nbsp; &nbsp;Web Issues</option>
		
			<option value="16">&nbsp; &nbsp;nesdevWiki</option>
		

		</select>&nbsp;<input class="btnlite" type="submit" value="Go" /></td>
	</tr>
	</table>

	</form>
</td>
</tr>
</table>


</div>

<div id="wrapfooter">
	
	<span class="copyright">Powered by <a href="http://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Group
	</span>
</div>

</body>
</html>