<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Translating hex numbers to music sounds</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Translating hex numbers to music sounds</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=6&amp;t=4752">http://forums.nesdev.com/viewtopic.php?f=6&amp;t=4752</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Struzzdog</b> [ Sat Jan 17, 2009 10:01 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Translating hex numbers to music sounds</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Hello all,
<br />
<br />I'm a new member just signed up today. I'm currently working on a hack of mega man 2 for nes. and I'm interested in changing the music.
<br />
<br />
<br />I use fce ultra to understand the hex numbers and still it's in the beginning process. I was wondering if anyone happens to know the exact number values ( not the notes)  on the keyboard for each of the  keys.  
<br />
<br />
<br />i.e like   00= A
<br />             01= B    i just need to know what each translates to that kind of thing.
<br />
<br />
<br />So if anyone can help. I appreciate it.  thanks

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Sat Jan 17, 2009 10:14 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />You would probably have to try and see what happens. There is a doccument arround describing a Capcom sound format, so you're lucky. It's here : <a href="http://www.romhacking.net/docs/274/" class="postlink">http://www.romhacking.net/docs/274/</a>
<br />Altough it does not seem to apply to Mega Man 2 which uses an older engine, chances are that it actually is similar enough.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Sat Jan 17, 2009 12:36 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />First, look up the <a href="http://commons.wikimedia.org/wiki/File:NoteNamesFrequenciesAndMidiNumbers.svg" class="postlink">MIDI note number chart</a>. In MIDI, 60 means middle C, and adding 12 goes up an octave.
<br />
<br />Most of the note numbers used by game engines seem to have a simple relationship to MIDI note numbers. For example, the NT2 music engine uses note numbers that are the MIDI note number minus 24. Other engines may use MIDI minus 33, as 33 (an A more than two octaves below middle C) is the lowest note in standard tuning that the NES's channels 1 and 2 can reach. Try MIDI minus 24, MIDI minus 33, MIDI minus 36, or MIDI minus 45 first.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Struzzdog</b> [ Sat Jan 17, 2009 1:14 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Tepples:
<br />
<br />
<br />I'm sure how this connects with the project i'm doing.
<br />
<br />Does this have acual hex number translation to 8-bit  and not midi.  I don't mean to sound coy but mega man 2 does have mostly the standard 8-bit tracks it's not midi.   
<br />
<br />So if you wouldn't mind explaining, How does this connect?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Sat Jan 17, 2009 1:24 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Struzzdog wrote:</div><div class="quotecontent">Does this have acual hex number translation to 8-bit  and not midi.</div><br />Yes. Usually, it involves two steps: subtracting a constant (whose value depends on the music engine) and converting from decimal to hexadecimal. There are occasionally a few problems, such as a couple swapped frequency table entries in Super Mario Bros., but I don't think they're common.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I don't mean to sound coy but mega man 2 does have mostly the standard 8-bit tracks it's not midi.</div>
<br />MIDI note numbers are simply the number of <a href="http://en.wikipedia.org/wiki/Semitone" class="postlink">semitones</a> above some base frequency. I was merely stating that there is usually an easy conversion between note numbers used by MIDI and note numbers used by 8-bit games' music players.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Struzzdog</b> [ Sat Jan 17, 2009 1:36 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I was merely stating that there is usually an easy conversion between note numbers used by MIDI and note numbers used by 8-bit games' music players.[/quote]
<br />
<br />
<br />
<br />Now when your 8-bit games music players, it's assumed in this case to be just The music that the emulator plays ( since there is no music player and fec ultra)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Sat Jan 17, 2009 2:36 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I don't really know if Capcom used MIDI minus a constant. In my sound engine, I only have notes C to B, and to do other note I have to do octave change commands. I know some commercial games did it that way too. This can allow you to code the note in one nybble and the lenght in another so that it takes up less space than having note in one byte and lenght in another byte, altough you'll have to add octave changes frequently, and sometimes even very frequently.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Sat Jan 17, 2009 3:03 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">In my sound engine, I only have notes C to B, and to do other note I have to do octave change commands.</div>
<br />You're right that some engines have a "transpose" command to change the (otherwise) constant offset from the MIDI note. But is there a game that doesn't have a generally semitone-oriented music player?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Struzzdog</b> [ Sat Jan 17, 2009 3:58 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Tepples:
<br />
<br />So what's the case then with the hex editor of Fcu Ultra,
<br />
<br />I'm trying to figure out if a  " Music engine" as you call in that program exists  or not?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Sat Jan 17, 2009 4:01 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Roughly, a "music engine" is the part of a game program that is included in the (optimized) NSF.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Struzzdog</b> [ Sat Jan 17, 2009 4:33 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />In my case the hexeditor?
<br />
<br />and by the way do you regular use aim, if you don't mind using your screename, i have struzzdog

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Struzzdog</b> [ Mon Jan 19, 2009 10:56 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />does anyone by chance know if the nsf player we are speaking of here shows the hex addresses?

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>