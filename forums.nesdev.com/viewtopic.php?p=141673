<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<link rel="icon" href="/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />

<title>nesdev.com &bull; View topic - Main principles of creating an &quot;object&quot;</title>

<link rel="alternate" type="application/atom+xml" title="Feed - nesdev.com" href="http://forums.nesdev.com/feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - News" href="http://forums.nesdev.com/feed.php?mode=news" /><link rel="alternate" type="application/atom+xml" title="Feed - All forums" href="http://forums.nesdev.com/feed.php?mode=forums" /><link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="http://forums.nesdev.com/feed.php?mode=topics" /><link rel="alternate" type="application/atom+xml" title="Feed - Active Topics" href="http://forums.nesdev.com/feed.php?mode=topics_active" /><link rel="alternate" type="application/atom+xml" title="Feed - Forum - SNESdev" href="http://forums.nesdev.com/feed.php?f=12" /><link rel="alternate" type="application/atom+xml" title="Feed - Topic - Main principles of creating an &quot;object&quot;" href="http://forums.nesdev.com/feed.php?f=12&amp;t=12356" />

<link rel="stylesheet" href="./style.php?id=1&amp;lang=en" type="text/css" />

<script type="text/javascript">
// <![CDATA[


function popup(url, width, height, name)
{
	if (!name)
	{
		name = '_popup';
	}

	window.open(url.replace(/&amp;/g, '&'), name, 'height=' + height + ',resizable=yes,scrollbars=yes,width=' + width);
	return false;
}

function jumpto()
{
	var page = prompt('Enter the page number you wish to go to:', '7');
	var per_page = '15';
	var base_url = './viewtopic.php?f=12&amp;t=12356';

	if (page !== null && !isNaN(page) && page == Math.floor(page) && page > 0)
	{
		if (base_url.indexOf('?') == -1)
		{
			document.location.href = base_url + '?start=' + ((page - 1) * per_page);
		}
		else
		{
			document.location.href = base_url.replace(/&amp;/g, '&') + '&start=' + ((page - 1) * per_page);
		}
	}
}

/**
* Find a member
*/
function find_username(url)
{
	popup(url, 760, 570, '_usersearch');
	return false;
}

/**
* Mark/unmark checklist
* id = ID of parent container, name = name prefix, state = state [true/false]
*/
function marklist(id, name, state)
{
	var parent = document.getElementById(id);
	if (!parent)
	{
		eval('parent = document.' + id);
	}

	if (!parent)
	{
		return;
	}

	var rb = parent.getElementsByTagName('input');
	
	for (var r = 0; r < rb.length; r++)
	{
		if (rb[r].name.substr(0, name.length) == name)
		{
			rb[r].checked = state;
		}
	}
}



	/**
	* Play quicktime file by determining it's width/height
	* from the displayed rectangle area
	*
	* Only defined if there is a file block present.
	*/
	function play_qt_file(obj)
	{
		var rectangle = obj.GetRectangle();

		if (rectangle)
		{
			rectangle = rectangle.split(',')
			var x1 = parseInt(rectangle[0]);
			var x2 = parseInt(rectangle[2]);
			var y1 = parseInt(rectangle[1]);
			var y2 = parseInt(rectangle[3]);

			var width = (x1 < 0) ? (x1 * -1) + x2 : x2 - x1;
			var height = (y1 < 0) ? (y1 * -1) + y2 : y2 - y1;
		}
		else
		{
			var width = 200;
			var height = 0;
		}

		obj.width = width;
		obj.height = height + 16;

		obj.SetControllerVisible(true);

		obj.Play();
	}


// ]]>
</script>
</head>
<body class="ltr">

<a name="top"></a>

<div id="wrapheader">

	<div id="logodesc">
	</div>

	<div id="menubar">

		<table width="100%" cellspacing="0">
		<tr>
			<td rowspan="2"><a href="./index.php"><img src="./styles/subsilver2/imageset/site_logo.gif" alt="" title="" /></a></td>
			<td width="100%" align="center"><h1>nesdev.com</h1><span class="gen">NES Development and Strangulation Records message boards</span></td>
		</tr>
		<tr>
			<td align="center">
				<a href="./faq.php"><img src="./styles/prosilver/theme/images/icon_mini_faq.gif" width="12" height="13" alt="*" /> FAQ</a>
				&nbsp; &nbsp;<a href="./search.php"><img src="./styles/prosilver/theme/images/icon_mini_search.gif" width="12" height="13" alt="*" /> Search</a>
				<br />	
				 &nbsp;<a href="./ucp.php?mode=register"><img src="./styles/prosilver/theme/images/icon_mini_register.gif" width="12" height="13" alt="*" /> Register</a>
					&nbsp; &nbsp;<a href="./ucp.php?mode=login"><img src="./styles/prosilver/theme/images/icon_mini_login.gif" width="12" height="13" alt="*" /> Login</a>&nbsp;
			</td>
		</tr>
		</table>
	</div>

	<div id="datebar">
		<table width="100%" cellspacing="0">
		<tr>
			<td class="gensmall"></td>
			<td class="gensmall" align="right">It is currently Sun May 10, 2015 11:13 pm<br /></td>
		</tr>
		</table>
	</div>

</div>

<div id="wrapcentre">

	
	<p class="searchbar">
		<span style="float: left;"><a href="./search.php?search_id=unanswered">View unanswered posts</a> | <a href="./search.php?search_id=active_topics">View active topics</a></span>
		
	</p>
	

	<br style="clear: both;" />

	<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=25">Other</a> &#187; <a href="./viewforum.php?f=12">SNESdev</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>

	<br />

<div id="pageheader">
	<h2><a class="titles" href="./viewtopic.php?f=12&amp;t=12356&amp;start=90">Main principles of creating an &quot;object&quot;</a></h2>


	<p class="moderators">Moderator: <a href="./memberlist.php?mode=group&amp;g=320">Moderators</a></p>

</div>

<br clear="all" /><br />

<div id="pagecontent">

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=12"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=12&amp;t=12356"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>7</strong> of <strong>8</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 118 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"><b><a href="#" onclick="jumpto(); return false;" title="Click to jump to pageâ€¦">Go to page</a> <a href="./viewtopic.php?f=12&amp;t=12356&amp;start=75">Previous</a>&nbsp;&nbsp;<a href="./viewtopic.php?f=12&amp;t=12356">1</a><span class="page-dots"> ... </span><a href="./viewtopic.php?f=12&amp;t=12356&amp;start=45">4</a><span class="page-sep">, </span><a href="./viewtopic.php?f=12&amp;t=12356&amp;start=60">5</a><span class="page-sep">, </span><a href="./viewtopic.php?f=12&amp;t=12356&amp;start=75">6</a><span class="page-sep">, </span><strong>7</strong><span class="page-sep">, </span><a href="./viewtopic.php?f=12&amp;t=12356&amp;start=105">8</a> &nbsp;<a href="./viewtopic.php?f=12&amp;t=12356&amp;start=105">Next</a></b></td>
		
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat">
			<table width="100%" cellspacing="0">
			<tr>
				<td class="nav" nowrap="nowrap">&nbsp;
				<a href="./viewtopic.php?f=12&amp;t=12356&amp;start=90&amp;view=print" title="Print view">Print view</a>
				</td>
				<td class="nav" align="right" nowrap="nowrap"><a href="./viewtopic.php?f=12&amp;t=12356&amp;view=previous">Previous topic</a> | <a href="./viewtopic.php?f=12&amp;t=12356&amp;view=next">Next topic</a>&nbsp;</td>
			</tr>
			</table>
		</td>
	</tr>

	</table>


	<table class="tablebg" width="100%" cellspacing="1">
	
		<tr>
			<th>Author</th>
			<th>Message</th>
		</tr>
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p141671"></a>
				<b class="postauthor">tokumaru</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p141671">Re: Main principles of creating an &quot;object&quot;</a></div><div style="float: right;"><a href="./viewtopic.php?p=141671#p141671"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Feb 20, 2015 10:35 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=95.png" width="80" height="80" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sat Feb 12, 2005 9:43 pm<br /><b>Posts:</b> 7356<br /><b>Location:</b> Rio de Janeiro - Brazil
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">Espozo wrote:</div><div class="quotecontent">I had the empty handler option in mind, but I'll fix it.</div><br />The empty handler is fine, I just wanted to make sure you weren't forgetting about the empty slots.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">The day I understand what  <br />  pha<br />  phx<br />  phy<br />  php         ; Save P (A/X/Y sizes)<br />means is the day I die.</div><br />You really shouldn't be using things you don't understand.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I thought that meant you pushed variables onto the stack, but why are you doing this?</div><br />The main reason to do this is so you can restore all the flags as they were before an interrupt. By definition, an interrupt interrupts the code that is currently running, so you have to back up all the registers before modifying them and restore them before returning from the interrupt, so that the code that was interrupted can continue as if nothing happened.<br /><br />I don't see many reasons to do this inside a routine you'll be calling yourself at predictable times, because you know for sure that the registers will be modified. So unless the code that calls this routine expects registers to be preserved, you probably don't need to back them up at all. And even if they do need to be preserved, it would make more sense for the calling code to back up only what's necessary before calling the routine, and restore them afterwards.<br /><br />The 65816 has the added complication (when compared to the 6502) of register sizes. Like koitsu said, you might want to back up and restore those settings inside a routine that will be called from different places, since the registers might be configured differently.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">What does the second p in php even stand for?</div><br />&quot;P&quot; is the processor status register. It contains several flags, such as C, N and Z, among others.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Edit: This <em>should</em> be good.</div><br />I'm no SNES expert but this should work, provided you initialize ObjectIdentifierCounter to 0 before calling this function for the first time. Like I said before, I find it a little weird that you're preparing this variable for the next frame, like you need to preserve its value outside the routine. You don't, it always starts as 0, so I'd seriously consider removing that <strong>stz ObjectIdentifierCounter</strong> and putting a <strong>sty ObjectIdentifierCounter</strong> right before calling the object handler.<br /><br />The main advantage of doing this is that the routine will become more self contained, since it won't need any sort of external initialization. Also, with the variable properly sync'ed to the Y register, you'll be giving the object freedom to do whatever it wants with that register, because it can easily know its slot by reading ObjectIdentifierCounter back.<br /><br />And there are a couple of optimizations you can make, like checking for the end of the loop at the bottom. You can use the branch in this decision to loop back (<strong>bne object_identifier_loop</strong>) and get rid of the <strong>bra</strong>.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=95"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p141673"></a>
				<b class="postauthor">Espozo</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p141673">Re: Main principles of creating an &quot;object&quot;</a></div><div style="float: right;"><a href="./viewtopic.php?p=141673#p141673"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Feb 20, 2015 10:59 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=6683_1410824489.gif" width="80" height="80" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Sep 15, 2014 4:35 pm<br /><b>Posts:</b> 905<br /><b>Location:</b> Nacogdoches, Texas
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent">And there are a couple of optimizations you can make, like checking for the end of the loop at the bottom. You can use the branch in this decision to loop back (bne object_identifier_loop) and get rid of the bra.</div><br />I just fixed that now.<br /><br /><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent">I don't see many reasons to do this inside a routine you'll be calling yourself at predictable times, because you know for sure that the registers will be modified. So unless the code that calls this routine expects registers to be preserved, you probably don't need to back them up at all. And even if they do need to be preserved, it would make more sense for the calling code to back up only what's necessary before calling the routine, and restore them afterwards.</div><br />In other words, get rid of<br />pha<br /> phx<br /> phy<br /> php ; Save P (A/X/Y sizes)?<br /><br /><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent">Like I said before, I find it a little weird that you're preparing this variable for the next frame, like you need to preserve its value outside the routine. You don't, it always starts as 0, so I'd seriously consider removing that stz ObjectIdentifierCounter and putting a sty ObjectIdentifierCounter right before calling the object handler.</div><br />??? I need to set ObjectIdentifierCounter to 0 every frame so that it doesn't leave the object table. Otherwise, it will look way farther ahead in ram and it will result in a mess. This code is the only place where ObjectIdentifierCounter will be bothered with. Are you saying you want me to set it to 0 before I start the routine instead of after?</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=6683"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p141691"></a>
				<b class="postauthor">psycopathicteen</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p141691">Re: Main principles of creating an &quot;object&quot;</a></div><div style="float: right;"><a href="./viewtopic.php?p=141691#p141691"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sat Feb 21, 2015 9:38 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Wed May 19, 2010 6:12 pm<br /><b>Posts:</b> 1106
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">What data bank is this using?  If the data bank is $00, then you only have 8kB of ram to work with and part of that is already taken up with &quot;local variables&quot; and stack.  If the data bank is $7e, you can use the entire RAM.  If you want to access the entire RAM, but want to stay in bank $00, you can switch index Y with index X, because you can index 24-bit addresses with X, but not with Y.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=4383"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p141696"></a>
				<b class="postauthor">Espozo</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p141696">Re: Main principles of creating an &quot;object&quot;</a></div><div style="float: right;"><a href="./viewtopic.php?p=141696#p141696"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sat Feb 21, 2015 11:15 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=6683_1410824489.gif" width="80" height="80" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Sep 15, 2014 4:35 pm<br /><b>Posts:</b> 905<br /><b>Location:</b> Nacogdoches, Texas
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">psycopathicteen wrote:</div><div class="quotecontent">What data bank is this using?</div><br />Bank $00.<br /><br /><div class="quotetitle">psycopathicteen wrote:</div><div class="quotecontent">If the data bank is $00, then you only have 8kB of ram to work with and part of that is already taken up with &quot;local variables&quot; and stack.  If the data bank is $7e, you can use the entire RAM.  If you want to access the entire RAM, but want to stay in bank $00, you can switch index Y with index X, because you can index 24-bit addresses with X, but not with Y.</div>\<br />What exactly? I'm already using x to say where to jump to, but I guess I could keep storing x and loading x to replace y if it comes down to it. I tried putting this: (I already know that the player 1 code does not take advantage of the fact that I'm using objects because I pretty much just cut and pasted it)<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">;===============================================================================<br />; start_object_identifier<br />;====================================================================================<br /><br />.proc start_object_identifier<br />&nbsp; rep #$30&nbsp; &nbsp; ; A=16, X/Y=16<br />&nbsp; ldy #$0000<br />&nbsp; sty ObjectIdentifierCount<br /><br />object_identifier_loop:<br />&nbsp; lda ObjectTable,y&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;;load the object identification byte of the object we're currently on<br />&nbsp; beq next_object<br />&nbsp; tax&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;;put the result in x so we can offset the object identification table to see what the object is<br />&nbsp; jsr (ObjectIdentificationTable-2,x)&nbsp; &nbsp;;jump to the code that corresponds with the object<br />&nbsp; rep #$30&nbsp; &nbsp; ; A=16, X/Y=16<br />next_object:<br />&nbsp; lda ObjectIdentifierCount&nbsp; &nbsp;&nbsp; &nbsp;;says how many objects have been identified<br />&nbsp; adc #$0040&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;;add 64 to look at the next object<br />&nbsp; sta ObjectIdentifierCount&nbsp; &nbsp;&nbsp; &nbsp;;store the result for the next time we go through the loop<br />&nbsp; tay&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;;transfer the accumulator to y for &quot;cpy #8192&quot; and &quot;lda ObjectTable,y&quot;<br />&nbsp; cpy #8192&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;;sees if all 128 objects have been identified (each object is 128 bytes)<br />&nbsp; bne object_identifier_loop&nbsp; &nbsp;&nbsp; &nbsp;;if so, quit searching<br />&nbsp; rts<br /><br />.endproc<br /><br />;====================================================================================<br />; ObjectIdentificationTable<br />;====================================================================================<br /><br />ObjectIdentificationTable:<br />&nbsp; .word player1<br /><br />;====================================================================================<br />; Objects<br />;====================================================================================<br /><br /><br /><br />.proc player1<br />&nbsp; rep #$30&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ; A=16, X/Y=16<br /><br />&nbsp; lda MetaspriteTableSize&nbsp; &nbsp;; Load number of Metasprites<br />&nbsp; sta MetaspriteCount&nbsp; &nbsp; &nbsp; &nbsp;; ...and store it in MetaspriteCount<br /><br />&nbsp; ldx #MetaspriteTable&nbsp; &nbsp; &nbsp; ; Offset into MetaspriteTable<br />&nbsp; stx MetaspriteTableOffset<br /><br />&nbsp; lda ObjectXPosition<br />&nbsp; sta MetaspriteXPosition<br />&nbsp; lda ObjectYPosition<br />&nbsp; sta MetaspriteYPosition<br /><br />&nbsp; jsr start_metasprite&nbsp; &nbsp; &nbsp; ; jump to start_metasprite to build metasprites<br />&nbsp; sep #$20&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ; A=8<br /><br /><br />_up:<br />&nbsp; lda Joy1Data+1<br />&nbsp; and #$08<br />&nbsp; beq _down<br /><br />&nbsp; lda ObjectYPosition<br />&nbsp; sec<br />&nbsp; sbc #$02<br />&nbsp; sta ObjectYPosition<br /><br />_down:<br />&nbsp; lda Joy1Data+1<br />&nbsp; and #$04<br />&nbsp; beq _left<br /><br />&nbsp; lda ObjectYPosition<br />&nbsp; clc<br />&nbsp; adc #$02<br />&nbsp; sta ObjectYPosition<br /><br />_left:<br />&nbsp; lda Joy1Data+1<br />&nbsp; and #$02<br />&nbsp; beq _right<br /><br />&nbsp; rep #$20<br />&nbsp; dec MapX<br />&nbsp; lda ObjectXPosition<br />&nbsp; sec<br />&nbsp; sbc #$02<br />&nbsp; sta ObjectXPosition<br />&nbsp; sep #$20<br /><br />_right:<br />&nbsp; lda Joy1Data+1<br />&nbsp; and #$01<br />&nbsp; beq _done<br /><br />&nbsp; rep #$20<br />&nbsp; inc MapX<br />&nbsp; lda ObjectXPosition<br />&nbsp; clc<br />&nbsp; adc #$02<br />&nbsp; sta ObjectXPosition<br /><br />_done:<br />&nbsp; rts<br /><br />.endproc</div><br />in the rest of my code, but the game bugs out and the screen flashes. It's even effecting my the rest of my code because it stops my oam clearing routine from ever happening. If you want to look at it, go right ahead...<br /><br /><div class="attachtitle">Attachment:</div><div class="attachcontent">
			<span class="genmed">
				<img src="./styles/subsilver2/imageset/icon_topic_attach.gif" width="14" height="18" alt="" title="" /> 
				<a href="./download/file.php?id=2710">MetaspriteDemoKoitsu.rar</a> [287.16 KiB]
			</span><br />
			<span class="gensmall">Downloaded 6 times</span>
		

		<br />
	</div><br />This is the original one that does not jump to the code and works.<br /><br /><div class="attachtitle">Attachment:</div><div class="attachcontent">
			<span class="genmed">
				<img src="./styles/subsilver2/imageset/icon_topic_attach.gif" width="14" height="18" alt="" title="" /> 
				<a href="./download/file.php?id=2711">MetaspriteDemoKoitsu Working.rar</a> [291.03 KiB]
			</span><br />
			<span class="gensmall">Downloaded 7 times</span>
		

		<br />
	</div></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=6683"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p141702"></a>
				<b class="postauthor">psycopathicteen</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p141702">Re: Main principles of creating an &quot;object&quot;</a></div><div style="float: right;"><a href="./viewtopic.php?p=141702#p141702"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sat Feb 21, 2015 12:55 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Wed May 19, 2010 6:12 pm<br /><b>Posts:</b> 1106
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">What exactly? I'm already using x to say where to jump to, but I guess I could keep storing x and loading x to replace y if it comes down to it. I tried putting this: (I already know that the player 1 code does not take advantage of the fact that I'm using objects because I pretty much just cut and pasted it)</div><br /><br />Okay, that is a good point.  I tried reducing your object table to 96 objects in order to fit into the bank $00, but WLA has some convoluted way of managing addresses.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=4383"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p141703"></a>
				<b class="postauthor">Espozo</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p141703">Re: Main principles of creating an &quot;object&quot;</a></div><div style="float: right;"><a href="./viewtopic.php?p=141703#p141703"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sat Feb 21, 2015 1:20 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=6683_1410824489.gif" width="80" height="80" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Sep 15, 2014 4:35 pm<br /><b>Posts:</b> 905<br /><b>Location:</b> Nacogdoches, Texas
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">psycopathicteen wrote:</div><div class="quotecontent">but WLA has some convoluted way of managing addresses.</div><br />I'm using ca65 now. To assemble the file, go to the command line and just type build. (I forgot to mention that. <img src="./images/smilies/icon_redface.gif" alt=":oops:" title="Embarassed" /> )</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=6683"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p141713"></a>
				<b class="postauthor">psycopathicteen</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p141713">Re: Main principles of creating an &quot;object&quot;</a></div><div style="float: right;"><a href="./viewtopic.php?p=141713#p141713"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sat Feb 21, 2015 5:34 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Wed May 19, 2010 6:12 pm<br /><b>Posts:</b> 1106
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I figured out how to get this to work.<br /><br />1) Move object table to BSS segment.<br />2) Reduce object table to 6144 bytes (96 objects)<br />3) There needs to be a &quot;clc&quot; before you add 64 to the object pointer.<br />4) Player 1 should have an object routine number of 2, because addresses are 2 bytes.<br />5) Replace the jmp with a jsr, when jumping to the object routine.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=4383"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p141717"></a>
				<b class="postauthor">Espozo</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p141717">Re: Main principles of creating an &quot;object&quot;</a></div><div style="float: right;"><a href="./viewtopic.php?p=141717#p141717"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sat Feb 21, 2015 6:19 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=6683_1410824489.gif" width="80" height="80" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Sep 15, 2014 4:35 pm<br /><b>Posts:</b> 905<br /><b>Location:</b> Nacogdoches, Texas
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">psycopathicteen wrote:</div><div class="quotecontent">1) Move object table to BSS segment.</div><br />What is a &quot;BSS segment&quot;?<br /><br />Edit: Never mind, I got you.<br /><br /><div class="quotetitle">psycopathicteen wrote:</div><div class="quotecontent">2) Reduce object table to 6144 bytes (96 objects)</div><br />Would it truly be impossible to look through 128 objects, because I would rather each object have 48 bytes instead of 64 and have 128 objects total. The table would be the exact same size as if you did it your way.<br /><br /><div class="quotetitle">psycopathicteen wrote:</div><div class="quotecontent">4) Player 1 should have an object routine number of 2, because addresses are 2 bytes.</div><br />??? If you are saying that I should have an empty space for the first objects in the &quot;ObjectIdentificationTable&quot;, notice how I wrote &quot;jsr (ObjectIdentificationTable-2,x)&quot; instead of &quot;jsr (ObjectIdentificationTable,x)&quot;.<br /><br /><div class="quotetitle">psycopathicteen wrote:</div><div class="quotecontent">5) Replace the jmp with a jsr, when jumping to the object routine.</div><br />That's probably what's jacking it up the most. I really didn't see how the glitch result I got was even related to the object code. I know this is weird, but I get jsr and jmp mixed up sometimes.<br /><br />I greatly appreciate you taking the time to help me.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=6683"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p141724"></a>
				<b class="postauthor">psycopathicteen</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p141724">Re: Main principles of creating an &quot;object&quot;</a></div><div style="float: right;"><a href="./viewtopic.php?p=141724#p141724"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sat Feb 21, 2015 9:58 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Wed May 19, 2010 6:12 pm<br /><b>Posts:</b> 1106
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">Espozo wrote:</div><div class="quotecontent"><div class="quotetitle">psycopathicteen wrote:</div><div class="quotecontent">2) Reduce object table to 6144 bytes (96 objects)</div><br />Would it truly be impossible to look through 128 objects, because I would rather each object have 48 bytes instead of 64 and have 128 objects total. The table would be the exact same size as if you did it your way.</div><br />That sounds good.  I also thought of a way around the memory limitation.  Instead of using a pointer to a table of object routines, you can just store the jump address in the object table, and use jsr (ObjectTable,x) to jump to the object routine, that is pointed to by X.  Then if you run out of memory for objects, you could have a second object table of the same size somewhere in the $7E2000-$7EFFFF range.<br /><br /><div class="quotetitle">Espozo wrote:</div><div class="quotecontent"><div class="quotetitle">psycopathicteen wrote:</div><div class="quotecontent">4) Player 1 should have an object routine number of 2, because addresses are 2 bytes.</div><br />??? If you are saying that I should have an empty space for the first objects in the &quot;ObjectIdentificationTable&quot;, notice how I wrote &quot;jsr (ObjectIdentificationTable-2,x)&quot; instead of &quot;jsr (ObjectIdentificationTable,x)&quot;.</div><br />You're subtracting 2 from ObjectIdentificationTable.<br /><br /><div class="quotetitle">Espozo wrote:</div><div class="quotecontent">I greatly appreciate you taking the time to help me.</div><br />Thanks!</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=4383"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p141734"></a>
				<b class="postauthor">tokumaru</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p141734">Re: Main principles of creating an &quot;object&quot;</a></div><div style="float: right;"><a href="./viewtopic.php?p=141734#p141734"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sun Feb 22, 2015 7:01 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=95.png" width="80" height="80" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sat Feb 12, 2005 9:43 pm<br /><b>Posts:</b> 7356<br /><b>Location:</b> Rio de Janeiro - Brazil
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">An approach I started to use in my NES projects is to store the address of the object handler in the object slot, as opposed to storing the object IDs. This way you get to do some advanced state management with the objects. It kinda allows you to have &quot;sub handlers&quot;, like a routine for walking, another for attacking, and so on. All you have to do is change the pointer in the object slot. To do this, I have made a routine that saves the current PC before returning from the handler, that objects only call when they enter a new state.<br /><br />This eliminates the need to create codes for each state, and to decide where to jump to every time the handler starts.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=95"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p141737"></a>
				<b class="postauthor">Espozo</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p141737">Re: Main principles of creating an &quot;object&quot;</a></div><div style="float: right;"><a href="./viewtopic.php?p=141737#p141737"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sun Feb 22, 2015 8:40 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=6683_1410824489.gif" width="80" height="80" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Sep 15, 2014 4:35 pm<br /><b>Posts:</b> 905<br /><b>Location:</b> Nacogdoches, Texas
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I got the object routine to work finally (I haven't started trying to increase the object table yet though) and it works fine for one object, but when you try to put two down, it uses the same registers as the first one, resulting in the objects adding twice and moving twice as fast. Is this wrong? (Look at ObjectOffset.) I had this working fine when I said ObjectTable,y, but I want to free up y. I think the problem is that it is looking at the address of where ObjectOffset is instead of the value it holds, but how do I fix this?<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">.segment &quot;CODE&quot;<br /><br />;====================================================================================<br />; start_object_identifier<br />;====================================================================================<br /><br />.proc start_object_identifier<br />&nbsp; rep #$30&nbsp; &nbsp; ; A=16, X/Y=16<br />&nbsp; ldy #$0000<br />&nbsp; sty ObjectIdentifierCount<br /><br />object_identifier_loop:<br />&nbsp; lda ObjectTable,y&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;;load the object identification byte of the object we're currently on<br />&nbsp; beq next_object<br />&nbsp; sta ObjectOffset<br />&nbsp; tax&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;;put the result in x so we can offset the object identification table to see what the object is<br />&nbsp; jsr (ObjectIdentificationTable-2,x)&nbsp; &nbsp;;jump to the code that corresponds with the object<br />&nbsp; rep #$30&nbsp; &nbsp; ; A=16, X/Y=16<br />next_object:<br />&nbsp; lda ObjectIdentifierCount&nbsp; &nbsp;&nbsp; &nbsp;;says how many objects have been identified<br />&nbsp; clc<br />&nbsp; adc #$0030&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;;add 48 to look at the next object<br />&nbsp; sta ObjectIdentifierCount&nbsp; &nbsp;&nbsp; &nbsp;;store the result for the next time we go through the loop<br />&nbsp; tay&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;;transfer the accumulator to y for &quot;cpy #8192&quot; and &quot;lda ObjectTable,y&quot;<br />&nbsp; cpy #6144&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;;sees if all 128 objects have been identified (each object is 128 bytes)<br />&nbsp; bne object_identifier_loop&nbsp; &nbsp;&nbsp; &nbsp;;if so, quit searching<br />&nbsp; rts<br /><br />.endproc<br /><br />;====================================================================================<br />; ObjectIdentificationTable<br />;====================================================================================<br /><br />ObjectIdentificationTable:<br />&nbsp; .word player1<br /><br />;====================================================================================<br />; Objects<br />;====================================================================================<br /><br />.proc player1<br />&nbsp; rep #$30&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ; A=16, X/Y=16<br /><br />&nbsp; lda MetaspriteTableSize&nbsp; &nbsp;; Load number of Metasprites<br />&nbsp; sta MetaspriteCount&nbsp; &nbsp; &nbsp; &nbsp;; ...and store it in MetaspriteCount<br /><br />&nbsp; ldx #MetaspriteTable&nbsp; &nbsp; &nbsp; ; Offset into MetaspriteTable<br />&nbsp; stx MetaspriteTableOffset<br /><br />&nbsp; lda ObjectOffset+2<br />&nbsp; sta MetaspriteXPosition<br />&nbsp; lda ObjectOffset+4<br />&nbsp; sta MetaspriteYPosition<br /><br />&nbsp; jsr start_metasprite&nbsp; &nbsp; &nbsp; ; jump to start_metasprite to build metasprites<br />&nbsp; sep #$20&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ; A=8<br /><br />_up:<br />&nbsp; lda Joy1Data+1<br />&nbsp; and #$08<br />&nbsp; beq _down<br /><br />&nbsp; lda ObjectOffset+4<br />&nbsp; sec<br />&nbsp; sbc #$02<br />&nbsp; sta ObjectOffset+4<br /><br />_down:<br />&nbsp; lda Joy1Data+1<br />&nbsp; and #$04<br />&nbsp; beq _left<br /><br />&nbsp; lda ObjectOffset+4<br />&nbsp; clc<br />&nbsp; adc #$02<br />&nbsp; sta ObjectOffset+4<br /><br />_left:<br />&nbsp; lda Joy1Data+1<br />&nbsp; and #$02<br />&nbsp; beq _right<br /><br />&nbsp; rep #$20<br />&nbsp; dec MapX<br />&nbsp; lda ObjectOffset+2<br />&nbsp; sec<br />&nbsp; sbc #$02<br />&nbsp; sta ObjectOffset+2<br />&nbsp; sep #$20<br /><br />_right:<br />&nbsp; lda Joy1Data+1<br />&nbsp; and #$01<br />&nbsp; beq _done<br /><br />&nbsp; rep #$20<br />&nbsp; inc MapX<br />&nbsp; lda ObjectOffset+2<br />&nbsp; clc<br />&nbsp; adc #$02<br />&nbsp; sta ObjectOffset+2<br /><br />_done:<br />&nbsp; rts<br /><br />.endproc</div></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=6683"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p141739"></a>
				<b class="postauthor">tokumaru</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p141739">Re: Main principles of creating an &quot;object&quot;</a></div><div style="float: right;"><a href="./viewtopic.php?p=141739#p141739"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sun Feb 22, 2015 9:05 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=95.png" width="80" height="80" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sat Feb 12, 2005 9:43 pm<br /><b>Posts:</b> 7356<br /><b>Location:</b> Rio de Janeiro - Brazil
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">The problem is you set aside 48 bytes of RAM for each instanciated object but you're not using them for anything besides the object ID. This will cause all instances of the same type of object to use the same global variables, while in fact you should be using the RAM you set aside for each instance.<br /><br />The variables used by the objects should live inside the object slot. You can do this by assigning an offset to each property. For example, you can create a symbol &quot;ObjectOffset&quot; that equals 8 (i.e. the 9th byte within the object slot). Then you can access it like this:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">lda ObjectTable+ObjectOffset, y</div><br />...assuming Y is pointing to the current object slot. I don't know if this is the same on the 65816, but on the 6502, the amount of operations you can perform using Y indexing is very limited... if this is the case you should consider using X instead of Y to point to the object slots.<br />For multi-byte properties, you can keep using &quot;+1&quot;, &quot;+2&quot;, and so on.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=95"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p141743"></a>
				<b class="postauthor">tokumaru</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p141743">Re: Main principles of creating an &quot;object&quot;</a></div><div style="float: right;"><a href="./viewtopic.php?p=141743#p141743"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sun Feb 22, 2015 9:17 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=95.png" width="80" height="80" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sat Feb 12, 2005 9:43 pm<br /><b>Posts:</b> 7356<br /><b>Location:</b> Rio de Janeiro - Brazil
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Just adding to what I wrote above: Using a block of RAM for each object instance also means that each object handler must initialize the slots they're gonna use.<br /><br />Each time an object is loaded, its handler should initialize all the properties to their default values, before the object can start &quot;living&quot;. This is another reason why it might be interesting to remember each object's PC instead of its type: you won't have to skip the initialization every frame before doing what the object is supposed to be doing, since you can just save the PC after the initialization.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=95"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p141758"></a>
				<b class="postauthor">psycopathicteen</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p141758">Re: Main principles of creating an &quot;object&quot;</a></div><div style="float: right;"><a href="./viewtopic.php?p=141758#p141758"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sun Feb 22, 2015 12:26 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Wed May 19, 2010 6:12 pm<br /><b>Posts:</b> 1106
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Does Espozo know how to use direct page?  I always used direct page for object slots, so I didn't have to keep juggling index registers.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=4383"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p141761"></a>
				<b class="postauthor">tokumaru</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p141761">Re: Main principles of creating an &quot;object&quot;</a></div><div style="float: right;"><a href="./viewtopic.php?p=141761#p141761"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sun Feb 22, 2015 12:34 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=95.png" width="80" height="80" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sat Feb 12, 2005 9:43 pm<br /><b>Posts:</b> 7356<br /><b>Location:</b> Rio de Janeiro - Brazil
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">That's beyond my knowledge, so maybe if you show some sample code he'll prefer that.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=95"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table width="100%" cellspacing="1" class="tablebg">
	<tr align="center">
		<td class="cat"><form name="viewtopic" method="post" action="./viewtopic.php?f=12&amp;t=12356&amp;start=90"><span class="gensmall">Display posts from previous:</span> <select name="st" id="st"><option value="0" selected="selected">All posts</option><option value="1">1 day</option><option value="7">7 days</option><option value="14">2 weeks</option><option value="30">1 month</option><option value="90">3 months</option><option value="180">6 months</option><option value="365">1 year</option></select>&nbsp;<span class="gensmall">Sort by</span> <select name="sk" id="sk"><option value="a">Author</option><option value="t" selected="selected">Post time</option><option value="s">Subject</option></select> <select name="sd" id="sd"><option value="a" selected="selected">Ascending</option><option value="d">Descending</option></select>&nbsp;<input class="btnlite" type="submit" value="Go" name="sort" /></form></td>
	</tr>
	</table>
	

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=12"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=12&amp;t=12356"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>7</strong> of <strong>8</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 118 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"><b><a href="#" onclick="jumpto(); return false;" title="Click to jump to pageâ€¦">Go to page</a> <a href="./viewtopic.php?f=12&amp;t=12356&amp;start=75">Previous</a>&nbsp;&nbsp;<a href="./viewtopic.php?f=12&amp;t=12356">1</a><span class="page-dots"> ... </span><a href="./viewtopic.php?f=12&amp;t=12356&amp;start=45">4</a><span class="page-sep">, </span><a href="./viewtopic.php?f=12&amp;t=12356&amp;start=60">5</a><span class="page-sep">, </span><a href="./viewtopic.php?f=12&amp;t=12356&amp;start=75">6</a><span class="page-sep">, </span><strong>7</strong><span class="page-sep">, </span><a href="./viewtopic.php?f=12&amp;t=12356&amp;start=105">8</a> &nbsp;<a href="./viewtopic.php?f=12&amp;t=12356&amp;start=105">Next</a></b></td>
		
	</tr>
	</table>

</div>

<div id="pagefooter"></div>

<br clear="all" />
<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=25">Other</a> &#187; <a href="./viewforum.php?f=12">SNESdev</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>
	<br clear="all" />

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat"><h4>Who is online</h4></td>
	</tr>
	<tr>
		<td class="row1"><p class="gensmall">Users browsing this forum: No registered users and 3 guests</p></td>
	</tr>
	</table>


<br clear="all" />

<table width="100%" cellspacing="1">
<tr>
	<td width="40%" valign="top" nowrap="nowrap" align="left"></td>
	<td align="right" valign="top" nowrap="nowrap"><span class="gensmall">You <strong>cannot</strong> post new topics in this forum<br />You <strong>cannot</strong> reply to topics in this forum<br />You <strong>cannot</strong> edit your posts in this forum<br />You <strong>cannot</strong> delete your posts in this forum<br />You <strong>cannot</strong> post attachments in this forum<br /></span></td>
</tr>
</table>

<br clear="all" />

<table width="100%" cellspacing="0">
<tr>
	<td><form method="get" name="search" action="./search.php"><span class="gensmall">Search for:</span> <input class="post" type="text" name="keywords" size="20" /> <input class="btnlite" type="submit" value="Go" /><input type="hidden" name="t" value="12356" />
<input type="hidden" name="sf" value="msgonly" />
</form></td>
	<td align="right">
	<form method="post" name="jumpbox" action="./viewforum.php" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	<table cellspacing="0" cellpadding="0" border="0">
	<tr>
		<td nowrap="nowrap"><span class="gensmall">Jump to:</span>&nbsp;<select name="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">

		
			<option value="-1">Select a forum</option>
		<option value="-1">------------------</option>
			<option value="24">NES / Famicom</option>
		
			<option value="2">&nbsp; &nbsp;NESdev</option>
		
			<option value="3">&nbsp; &nbsp;NESemdev</option>
		
			<option value="21">&nbsp; &nbsp;NES Graphics</option>
		
			<option value="6">&nbsp; &nbsp;NES Music</option>
		
			<option value="22">&nbsp; &nbsp;Homebrew Projects</option>
		
			<option value="10">&nbsp; &nbsp;Newbie Help Center</option>
		
			<option value="9">&nbsp; &nbsp;NES Hardware and Flash Equipment</option>
		
			<option value="28">&nbsp; &nbsp;Reproduction</option>
		
			<option value="11">&nbsp; &nbsp;FCdev</option>
		
			<option value="18">&nbsp; &nbsp;NESdev China</option>
		
			<option value="27">&nbsp; &nbsp;NESdev Middle East</option>
		
			<option value="19">&nbsp; &nbsp;NESdev International</option>
		
			<option value="25">Other</option>
		
			<option value="5">&nbsp; &nbsp;General Stuff</option>
		
			<option value="4">&nbsp; &nbsp;Membler Industries</option>
		
			<option value="12" selected="selected">&nbsp; &nbsp;SNESdev</option>
		
			<option value="20">&nbsp; &nbsp;GBDev</option>
		
			<option value="23">&nbsp; &nbsp;Other Retro Dev</option>
		
			<option value="15">&nbsp; &nbsp;Test Forum</option>
		
			<option value="26">Site Issues</option>
		
			<option value="13">&nbsp; &nbsp;phpBB Issues</option>
		
			<option value="14">&nbsp; &nbsp;Web Issues</option>
		
			<option value="16">&nbsp; &nbsp;nesdevWiki</option>
		

		</select>&nbsp;<input class="btnlite" type="submit" value="Go" /></td>
	</tr>
	</table>

	</form>
</td>
</tr>
</table>


</div>

<div id="wrapfooter">
	
	<span class="copyright">Powered by <a href="http://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Group
	</span>
</div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-61452025-2', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>