<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - DSP1 question</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">DSP1 question</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=12&amp;t=10637">http://forums.nesdev.com/viewtopic.php?f=12&amp;t=10637</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>2</strong> of <strong>3</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>byuu</b> [ Mon Nov 04, 2013 1:26 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: DSP1 question</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Oh, look at that, they're on the side.<br /><br />Well, I didn't want to get the camera out, so you'll have to take my word for it.<br /><br />[DSP1] Pilotwings (M7600A \ 0 N 2)<br />[DSP1A] Super 3D Baseball (M7600A \ 36 3)<br />[DSP1B] 3D Ballz (M7600A \ 53 1)<br />[DSP2] Dungeon Master (M7600A \ 1 0 1)<br />[DSP3] SD Gundam GX (M7600A \ 42 3)<br />[DSP4] Planet's Champ - TG3000 (M7600A \ 52 1)<br />[ST010] Exhaust Heat II (M22000C \ 31 2)<br />[ST011] Hayazashi Nidan Morita Shougi (15.00X \ G1 Q)<br />[ST018] Hayazashi Nidan Morita Shougi 2 (M21440C \ 50 3)<br />[Cx4] Rockman X2 (20.0MC \ T D K Y)<br />[Cx4] Rockman X3 (M20000C \ 5N 1)<br />[SA1] Mini Yonku Shining Scorpion 4WD (no crystal)<br />[SPC7110] Tengai Makyou Zero - Far East of Eden (no crystal)<br />[Mario Chip 1] Star Fox (no crystal, but there's a capacitor where it normally would be, PCB labels it L1)<br />[GSU1] Wildtrax (21.4MC \ TDK T)<br />[GSU2] Super Mario - Yoshi's Island (M21440C \ 30 2)<br /><br />DSP1B had a tiny bit of grime on the 6, so it looked a little like M7800A. But I really doubt it's the one exception.<br /><br />ST011 was the only ceramic clock, and it was really, really hard to read, even with a magnifying glass. The G1 Q part is suspect.<br /><br />Thanks for pointing this out. Looks like my timing for the DSP1-4 was a little bit too fast.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Markfrizb</b> [ Mon Nov 04, 2013 4:48 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: DSP1 question</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">byuu wrote:</div><div class="quotecontent">[Mario Chip 1] Star Fox (no crystal, but there's a capacitor where it normally would be, PCB labels it L1)<br />[</div><br /><br /><br />Isn't a &quot;L&quot;  designation for an inductor?   Don't have a Yi near me at the moment.... You sure it's a cap?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Mon Nov 04, 2013 5:47 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: DSP1 question</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Markfrizb wrote:</div><div class="quotecontent"><div class="quotetitle">byuu wrote:</div><div class="quotecontent">[Mario Chip 1] Star Fox (no crystal, but there's a capacitor where it normally would be, PCB labels it L1)<br /></div>Isn't a &quot;L&quot;  designation for an inductor?   Don't have a Yi near me at the moment.... You sure it's a cap?</div><br />Yeah, L is usually an inductor.<br /><br />There's two pertinent boards here, both are odd:<br /><a href="http://www.snescentral.com/pcbboards.php?chip=SHVC-1C0N5S-01" class="postlink">SHVC-1C0N5S-01</a><br /> - has pads for a SMT 74'04 but has a through-hole inductor surface mounted between the pins of where the first inverter would have been. (Inductors in this form factor are often green.)<br /><a href="http://www.snescentral.com/pcbboards.php?chip=SNSP-1C0N5S-01" class="postlink">SNSP-1C0N5S-01</a><br /> - is the one Byuu is talking about, where it's just a generic SMT rectangular prism. But yeah, it's labeled L1, and so I'd assume it's an inductor. SMT prism inductors are usually <em>really</em> low inductance, though; it's hard to get more than a few microhenries in one.<br /><br />Given that neither board has a 74'04, I have to assume the MARIO CHIP has an internal clock source, an internal oscillator driver (and the inductor is used in its self-resonant mode), or it's fed off the 21MHz from the cartridge edge. snescentral only has one side of the PCBs, though, so I can't look for myself.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>whicker</b> [ Tue Nov 05, 2013 12:52 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: DSP1 question</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">lidnariq wrote:</div><div class="quotecontent">, or it's fed off the 21MHz from the cartridge edge. snescentral only has one side of the PCBs, though, so I can't look for myself.</div><br /><br />The second part of what you said.<br /><br />If you half an incoming frequency using a divide by 2 circuit (basically a DFF toggling), you get a really nice 50-50 square wave no matter what distorted garbage comes in. But to get the chip to run at the 21 MHz, well, then you have to have an on-board oscillator.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>nocash</b> [ Tue Nov 05, 2013 2:25 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: DSP1 question</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Thanks for writing down the part numbers &amp; thanks for the photos! After updating the fullsnes.htm timing sections... these are the currently known cartridge/expansion clocks:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; DSPn&nbsp; &nbsp; &nbsp; 7.600MHz&nbsp; &nbsp; Plastic Type &quot;&#91;M&#93;7600A&quot;&nbsp; (used without divider)<br />&nbsp; ST010&nbsp; &nbsp; &nbsp;22.000MHz&nbsp; &nbsp;Plastic Type &quot;&#91;M&#93;22000C&quot; (internally 11.000MHz)<br />&nbsp; ST011&nbsp; &nbsp; &nbsp;15.000MHz&nbsp; &nbsp;Ceramic Type &quot;15.00X&quot;&nbsp; &nbsp; (used without divider)<br />&nbsp; ST018&nbsp; &nbsp; &nbsp;21.440MHz&nbsp; &nbsp;Plastic Type &quot;&#91;M&#93;21440C&quot;<br />&nbsp; CX4&nbsp; &nbsp; &nbsp; &nbsp;20.000MHz&nbsp; &nbsp;Plastic Type &quot;&#91;M&#93;20000C&quot; or &quot;20.0MC/TDKY&quot;<br />&nbsp; MC1&nbsp; &nbsp; &nbsp; &nbsp;&lt;master&gt;&nbsp; &nbsp; SNES Master Clock<br />&nbsp; GSU1&nbsp; &nbsp; &nbsp; 21.4MHz&nbsp; &nbsp; &nbsp;Plastic Type &quot;21.4MC/TDKT&quot;<br />&nbsp; GSU2&nbsp; &nbsp; &nbsp; 21.44MHz&nbsp; &nbsp; Plastic Type &quot;&#91;M&#93;21440C&quot;<br />&nbsp; SA-1&nbsp; &nbsp; &nbsp; &lt;master&gt;&nbsp; &nbsp; SNES Master Clock<br />&nbsp; S-DD1&nbsp; &nbsp; &nbsp;&lt;master&gt;&nbsp; &nbsp; SNES Master Clock<br />&nbsp; SPC7110&nbsp; &nbsp;&lt;master&gt;&nbsp; &nbsp; SNES Master Clock<br />&nbsp; SGB&nbsp; &nbsp; &nbsp; &nbsp;&lt;master&gt;&nbsp; &nbsp; SNES Master Clock<br />&nbsp; SGB2&nbsp; &nbsp; &nbsp; 20.9MHz&nbsp; &nbsp; &nbsp;External oscillator (located on PCBs solder-side)<br />&nbsp; BS-X&nbsp; &nbsp; &nbsp; 18.432MHz&nbsp; &nbsp;Satellaview Receiver Unit (on expansion port)<br />&nbsp; RTC-4513&nbsp; 32.768kHz&nbsp; &nbsp;On-chip 32.768kHz quartz crystal in RTC chip<br />&nbsp; S-3520&nbsp; &nbsp; 32.768kHz&nbsp; &nbsp;External 32.768kHz quartz crystal (SFC-Box)<br />&nbsp; S-RTC&nbsp; &nbsp; &nbsp;? kHz&nbsp; &nbsp; &nbsp; &nbsp;External unknown-frequency crystal<br />&nbsp; ACE&nbsp; &nbsp; &nbsp; &nbsp;&lt;dotclk&gt;&nbsp; &nbsp; SNES Dot Clock (Exertainment RS232 on expansion port)<br /></div><br />Newly added values are DSPn=7.600MHz and confirmed/corrected ST010=22.000MHz. And just discovered: SNES central does now have S-DD1 bottom side pics at <!-- m --><a class="postlink" href="http://www.snescentral.com/article.php?id=0046">http://www.snescentral.com/article.php?id=0046</a><!-- m --> - revealing that the board uses the SNES master clock, too.<br /><br />Only missing value in the above list is the S-RTC clock source (probably 32.768kHz or 32.000kHz, not that it'd be too important, the RTC seconds output should be certainly 1Hz either way).<br /><br /><div class="quotetitle">whicker wrote:</div><div class="quotecontent">If you half an incoming frequency using a divide by 2 circuit (basically a DFF toggling), you get a really nice 50-50 square wave no matter what distorted garbage comes in. But to get the chip to run at the 21 MHz, well, then you have to have an on-board oscillator.</div><br />Interesting theory... makes sense (at leats if the 21MHz SNES master clock is distorted (I've never checked that), or if it has some unexpected voltage). A workaround could be some divide-by-2 then multiply-by-2 circuit (but yeah, it may be cheaper/easier to use an on-board oscillator).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Tue Nov 05, 2013 5:18 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: DSP1 question</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Either way, I suspect the inductor is there to serve as a current-mode lowpass filter, cleaning up the input so that any overtones of 21MHz are filtered out.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>byuu</b> [ Wed Nov 06, 2013 7:15 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: DSP1 question</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />So should we be emulating the M21440C as 21440000hz or as 21477272hz?<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Isn't a &quot;L&quot; designation for an inductor? Don't have a Yi near me at the moment.... You sure it's a cap?</div><br /><br />I'm sure you are right. I don't even know what an inductor is. It was cap-like (eg cyllindrical.)<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Given that neither board has a 74'04, I have to assume the MARIO CHIP has an internal clock source</div><br /><br />It used the SNES 21MHz clock at half frequency. I definitely recall hearing that even this was unreliable, which explains why GSU1 boards have their own crystal. But I wonder how unreliable it is since Star Fox / Mario Chip 1 runs just fine.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Thanks for writing down the part numbers &amp; thanks for the photos!</div><br /><br />Sure. Since you're probably the only other person alive who would ever even consider this ...<br /><br />How do you feel about emulating the tolerances of these oscillators?<br /><br />For instance, a clock rate may nominally be 21477272hz (or 21440000hz maybe?), but in practice, the clock rate varies by a small amount. And for ceramic types, by a larger margin. And the clock can fluctuate a bit as it heats up, and each chip can have their own variances despite being the same part.<br /><br />Do you think it'd be a good thing to introduce some volatility to the clock rates? It might help to catch software that is really poorly written and only works due to an -exact- clock alignment. Such software would fail in many systems, so catching it might be beneficial.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>nocash</b> [ Wed Nov 06, 2013 8:55 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: DSP1 question</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">byuu wrote:</div><div class="quotecontent">So should we be emulating the M21440C as 21440000hz or as 21477272hz?</div><br />As it reads 21440, it should be clearly 21.440xxxMHz. There might some reason why haven't used 21.477272Mhz: Probably the 21440 part was just cheaper, or maybe they wanted to avoid video interference, or (unlikely) 21.477 was too fast for the chip.<br />Of course, emulating it as 21.477272Mhz would be ways easier and won't make too much of a difference.<br /><br /><div class="quotetitle">byuu wrote:</div><div class="quotecontent">I'm sure you are right. I don't even know what an inductor is. It was cap-like (eg cyllindrical.)</div><br />Actually, that shape is more common for resistors (small capacitors usually look more like flat pan-cakes).<br />An inductor is a piece of wire wrapped around a metal core. Like all wires it does (basically) just work as this: You input a voltage at one end, and it does output the same voltage at the other end. Which is just boring. The thing doesn't do much.<br />The special feature is that it behaves like a heavy wheel that gets accellerated by the electrons flowing through it. If you increase/decrease the voltage then it will rotate faster/slower, but as it acts like a <em>heavy</em> wheel it will take some time, and won't accellerate/deaccelerate instantly. In practice: It will keep a constant output voltage even if the input voltage goes up or down for a moment.<br />It could be used to eliminate high frequency noise (unlikely in this case, as it shall certainly pass the 21MHz, and I can't see where higher frequency noise could come from). Or (more likely &amp; as lidnariq said) it's intended to filter out overtones. Eg. if the SNES were outputting something like a 21MHz square-wave, then the signal would (try to) accellerate the wheel instantly on raising and falling edges, but the inductor would refuse to pass the voltages like that, and instead it would spit-out some kind of 21MHz sine-wave.<br /><br /><div class="quotetitle">byuu wrote:</div><div class="quotecontent">How do you feel about emulating the tolerances of these oscillators?</div><br />I wouldn't go that far as doing that. And it would have it's ups and downs. Normal users (gamers) will probably just want the game to work as intended, they won't appreciate it if you make the emulation more unstable (unless a game should rely on unstable timings).<br />It might be useful for developers, though if you are doing it behind their back, then they won't have a clue why their games are crashing once or when. Best might be some stress test option with maybe 4 settings (Normal Clock, Slightly Faster, Slightly Slower, and Randomly Increasing/Decreasing Clock).<br />I doubt that there are too many developers for co-processor games, but for the APU it might be actually useful.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Ramsis</b> [ Wed Nov 06, 2013 10:09 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: DSP1 question</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I wonder what clock signal the SNES PowerPak feeds to the DSP-1, given the fact that there doesn't seem to be any crystal on the PCB ... <img src="./images/smilies/icon_question.gif" alt=":?:" title="Question" /> <br /><br /><br /><img src="http://www.manuloewe.de/snestuff/powerpak/powerpak_vor_umbau.jpg" alt="Image" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Wed Nov 06, 2013 10:14 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: DSP1 question</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">byuu wrote:</div><div class="quotecontent">Do you think it'd be a good thing to introduce some volatility to the clock rates? It might help to catch software that is really poorly written and only works due to an -exact- clock alignment. Such software would fail in many systems, so catching it might be beneficial.</div><br />There are advantages and drawbacks to simulating oscillator frequency ratio variance. The advantage, as you said, is that poorly written programs fail fast on the developer's machine. The drawback is that changing the ratio may change whether or not waiting for the DSP to finish causes a lag frame, breaking movie playback.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Wed Nov 06, 2013 12:29 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: DSP1 question</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">byuu wrote:</div><div class="quotecontent"><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Given that neither board has a 74'04, I have to assume the MARIO CHIP has an internal clock source<br /></div>It used the SNES 21MHz clock at half frequency. I definitely recall hearing that even this was unreliable, which explains why GSU1 boards have their own crystal. But I wonder how unreliable it is since Star Fox / Mario Chip 1 runs just fine.<br /></div> But an inductor by itself won't divide by two. One needs some kind of active logic to divide a frequency by two. (Is there some inside the MARIO CHIP?)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>nocash</b> [ Wed Nov 06, 2013 1:07 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: DSP1 question</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">lidnariq wrote:</div><div class="quotecontent">One needs some kind of active logic to divide a frequency by two. (Is there some inside the MARIO CHIP?)</div><br />Yes - at least optionally: The CPU and the Multiply Unit of the MC1/GSU1/GSU2 can be configured to run at full speed or half speed (there are I/O ports that allow to do that configuration by software). Starfox and (most) GSU1 games are running the CPU at half speed (=around 10MHz). Don't know which multiply speed they do use.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>qwertymodo</b> [ Thu Nov 07, 2013 3:39 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: DSP1 question</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />byuu, unless you're going to start emulating delays down to the gate level within individual chips, emulating oscillator variance isn't likely to do anything useful...<br /><br />Ramsis, if I had to guess, I'd say the PowerPak is generating the clock signal in the FPGA, they tend to have built in hardware for generating all sorts of clock multipliers/dividers.  In turn, I'd guess the FPGA is using the SNES Master Clock signal from the cart edge as its clock source.<br /><br />Also, from the SNESCentral pics of the S-RTC board, that's just a run-of-the-mill 32.768KHz tuning fork.  It gets fed into a 16-bit counter in order to get out millisecond clock ticks.  So, mystery solved, you now have all of them.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>nocash</b> [ Thu Nov 07, 2013 5:45 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: DSP1 question</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">qwertymodo wrote:</div><div class="quotecontent">byuu, unless you're going to start emulating delays down to the gate level within individual chips, emulating oscillator variance isn't likely to do anything useful...</div><br />Well yes, there may be cases where one might need to count timings in fractions of clock cycles, or cases where a signal is just changing so it is neither stable High nor stable Low. But simple timing problems could be emulated. For example an APU uploader that sends data at 100Kbyte/s, but can receive only 99Kbyte/s at the remote side.<br /><br /><div class="quotetitle">qwertymodo wrote:</div><div class="quotecontent">Also, from the SNESCentral pics of the S-RTC board, that's just a run-of-the-mill 32.768KHz tuning fork.  It gets fed into a 16-bit counter in order to get out millisecond clock ticks.  So, mystery solved, you now have all of them.</div><br />The <!-- m --><a class="postlink" href="http://www.snescentral.com/pcbboards.php?chip=SHVC-LJ3R-01">http://www.snescentral.com/pcbboards.ph ... VC-LJ3R-01</a><!-- m --> photo doesn't show a part number. Or are those tiny cylindrical oscillators <strong>always</strong> having 32.768kHz?<br />I think I have also came across circuits that used &quot;32kHz&quot; in the past... but maybe they did mean kilo=1024 in that circuits. And aside from the 32.xxxkHz range, theoretically it should be even possible to put something like a 20MHz quartz into that package.<br />Where do you have the info about the &quot;16-bit counter&quot; from? Do you have a matching Sharp datasheet?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Thu Nov 07, 2013 12:25 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: DSP1 question</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">nocash wrote:</div><div class="quotecontent">Or are those tiny cylindrical oscillators <strong>always</strong> having 32.768kHz?<br /></div>That form factor (especially pay attention to diameter) seems to always be in the tens of kilohertz range. It doesn't necessarily have to be 32KiHz; I'm pretty certain I've seen things in that form factor all the way from 10kHz up to 60kHz or so. <br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I think I have also came across circuits that used &quot;32kHz&quot; in the past... but maybe they did mean kilo=1024 in that circuits.<br /></div>That seems to be more or less the only place where everyone uses kibihertz: 32kHz almost always means 32768Hz. I think it's because it, with a 15-bit counter, makes it utterly trivial to get out a 1Hz clock source for miscellaneous things. <br /><div class="quotetitle">nocash wrote:</div><div class="quotecontent">And aside from the 32.xxxkHz range, theoretically it should be even possible to put something like a 20MHz quartz into that package.<br /></div>I believe the cut of the quartz crystal needed for the frequency range imposes some constraints on housing size and shape; I tentatively think you couldn't get a 20MHz crystal in that specific form factor.<br /><div class="quotetitle">nocash wrote:</div><div class="quotecontent">Where do you have the info about the &quot;16-bit counter&quot; from? Do you have a matching Sharp datasheet?<br /></div>Almost all battery-backed RTCs work the exact same way; a 32KiHz crystal divided in silicon to produce a clock pulse rate anywhere between 2⁰ and 2¹⁵. (e.g. the gameboy's MBC-3)

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>2</strong> of <strong>3</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>