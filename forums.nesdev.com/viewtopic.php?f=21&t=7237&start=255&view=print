<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - NES Screen Tool</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">NES Screen Tool</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=21&amp;t=7237">http://forums.nesdev.com/viewtopic.php?f=21&amp;t=7237</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>18</strong> of <strong>19</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>FARID</b> [ Fri Mar 03, 2017 10:40 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Screen Tool</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">dougeff wrote:</div><div class="quotecontent">You can edit the palette, by loading the exe in a hex editor and searching for the palette array.</div><br /><br />Awesome!<br />Thanks

		
			<br clear="all" /><br />

			<table class="tablebg" width="100%" cellspacing="1">
			<tr>
				<td><b class="genmed">Attachments: </b></td>
			</tr>
			
				<tr>
					<td>
			<span class="genmed">
				<img src="./styles/subsilver2/imageset/icon_topic_attach.gif" width="14" height="18" alt="" title="" /> 
				<a href="./download/file.php?id=8209">nesst_palette_swap.zip</a> [45.98 KiB]
			</span><br />
			<span class="gensmall">Downloaded 101 times</span>
		

		<br />
	</td>
				</tr>
			
			</table>
		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Diskover</b> [ Thu Aug 10, 2017 11:29 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Screen Tool</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />It seems that Shiru has re-updated <a href="https://shiru.untergrund.net/files/nesst.zip" class="postlink">NES Screen Tool to version 2.32</a><br /><br />v2.32 03.08.17 - Sprite duplication, group flip, four palette slots, tile density sort, and more

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>FrankenGraphics</b> [ Fri Aug 11, 2017 1:12 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Screen Tool</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Density sorting - That's interesting! The first use i see is finding tiles with low and/or similar content and test if one is redundant. <br /><br />But in my mind, this sort of thing could maybe also be a useful/effective preconditioner prior to RLE compression (sorting by optimal lengths of runs are obviously even better, but it can't hurt that 0 heavy content is packed in one end).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tschak909</b> [ Fri Aug 11, 2017 3:05 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Screen Tool</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />This tool is indispensable for my work on Wizard of Wor. Absolutely amazing. Hats off to Shiru for his work on this!<br /><br />-Thom

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>FrankenGraphics</b> [ Mon Aug 21, 2017 5:25 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Screen Tool</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I found a bug ...but it's seeded by photoshop. There could be a way to proof NESST, though. Description and workaround below:<br /><br />Sometimes -in photoshop at least-, when saving images as indexed bitmaps, it silently stores multiple entries of the exact same colour.<br /><br />NESST will read this as separate colour entries during import and try to 1) squash colour depth, resulting in scrambled/lossy patterns, and 2) <br /> come up with multiple subpalettes to cover.<br /><br />If you ever find that NESST scrambles your bitmaps/patterns, even though you've been careful to just store 4 indexed colours, here's a workaround:<br /><br />1. Photoshop &gt; file &gt; export &gt; save for web (legacy) <br />2. Select GIF. Select either selective or adaptive indexing. This will merge any dupes and solve the problem. There's a bonus feature to this, too.*<br />3. Save. Open. Re-save as bmp. <br />4. NESST imports will now work. <br /><br />It seems the bug originates from using the colour swatch, if the colours of the swatch were picked with the eyedropper tool in another project window, but i haven't tested it extensively. <br /><br />As for proofing NESST, checking for identical colour entries in index and ignoring the excess entries should work.  <br /><br /><br />========<br />*As a bonus, the indexing mode will sort your colour entries. Adaptive mode puts the most used colour first, which is usually the bg colour, so that's good for NESST imports.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Mon Aug 21, 2017 5:57 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Screen Tool</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />No need to save to GIF and re-save as BMP, you can convert your images to indexed color prior to saving, and work on them that way, using a fixed palette, without running the risk of using the wrong colors by accident.<br /><br />You can go to <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">image -&gt; mode -&gt; indexed color</tt> to palletize your image, using similar controls to those found in the &quot;save for web&quot; dialog.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>FrankenGraphics</b> [ Mon Aug 21, 2017 6:10 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Screen Tool</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />That's true. I was working in indexed mode already - Admittedly, it allowed for 12 colours when i first swapped to it, which gave plenty of room for the bug to manifest itself (NESST detected 6 colours + the bg colour, where only 4 were unique). Normally AFAIK in PS, if you allow for more colours than what is used, those excess colours will be discarded when saving, but this is apparently not the case if dupe entries somehow manage to sneak in. <br /><br />In the save for web dialogue you have a better view of exactly what colours are stored and in what order, which was how i detected what it was that NESST didn't like. But swapping back to rgb and then to indexed once again is quicker, like you said.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Mon Aug 21, 2017 7:09 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Screen Tool</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I think that if you click on the &quot;forced&quot; drop-down and then on &quot;custom&quot; you can see the color table Photoshop generated for you, and you can manipulate it too.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Diskover</b> [ Tue Aug 29, 2017 2:57 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Screen Tool</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The thing I think this tool is missing is the possibility of doing MetaTiles for the backgrounds

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>FrankenGraphics</b> [ Tue Aug 29, 2017 3:09 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Screen Tool</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Shouldn't that be the job of a dedicated map/level editor? Not that i would complain if nesst was expanded in this direction. Just as long as it still would let me reference nametable cells to patterns without forcing the use of metatiles. <br /><br />Maybe derive a list of metatiles based on the current content of the nametable; ignoring any duplicates? More elaborately, that list could in turn be used internally to feed into a 'stamp' type of tool.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Diskover</b> [ Tue Aug 29, 2017 3:17 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Screen Tool</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">FrankenGraphics wrote:</div><div class="quotecontent">Maybe derive a list of metatiles based on the current content of the nametable; ignoring any duplicates? More elaborately, that list could in turn be used internally to feed into a 'stamp' type of tool.</div><br /><br />That would be great

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>FrankenGraphics</b> [ Wed Mar 14, 2018 5:11 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Screen Tool</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Hey shiru, i was wondering if you could look into this?<br /><br />-As of some recent version, NESST saves .chr files as 8kB by default. This causes inconvenience further down the pipe as 95% of the time, the other 4kB is just an empty fill. I was wondering if you could make it so that unless theres some actual content other than a fill on the &quot;B&quot; set, a 4kB file would be defaulted?<br /><br />The current workaround for this is either <br />-saving each file separately rather than all three/four at once; which gives the option to set filesize for chr files.<br />-cut the superfluous 4kB:s in a hex editor<br />-use ca65 and pass a 4kB range for the .incbin directive (not an option in other assemblers).<br />-use powershell or bash to cut it in half<br /><br />So there are options, but adds a step to the process and a bit of required vigilance compared to earlier NESST versions. If an 8kb file gets in by mistake and breaks a boundary, ca65 users will get a warning, asm6 users will see the file assemble silently but it won't run properly.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>dougeff</b> [ Wed Mar 14, 2018 7:23 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Screen Tool</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />You are probably going to have to contact him (email) directly.<br /><br />If I could add a feature, it would be to allow the import graphics lossy to reduce the tile count to a variable # of tiles. Currently it stops removing tiles when it gets to 256, but the save as RLE function doesn't work unless you have at least 1 unused tile, so 255 would make more sense. And I can see situations where I would want to set it to...say 128, maybe.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Wed Mar 14, 2018 8:02 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Screen Tool</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Lossy as in <a href="https://forums.nesdev.com/viewtopic.php?f=21&amp;t=14807" class="postlink">JRoatch's tile reducer</a>?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>FrankenGraphics</b> [ Wed Mar 14, 2018 8:21 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Screen Tool</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I'll try that! thanks<br /><br /><div class="quotetitle">dougeff wrote:</div><div class="quotecontent">Currently it stops removing tiles when it gets to 256, but the save as RLE function doesn't work unless you have at least 1 unused tile, so 255 would make more sense.</div>For this purpose, i think it is ok to decide for yourself which tile is most redundant, though? Especially with the help of the frequency and density sorter tools that were added in the last version.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>18</strong> of <strong>19</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>