<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - I'm surprised by how much emulators disagree...</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">I'm surprised by how much emulators disagree...</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=3&amp;t=5276">http://forums.nesdev.com/viewtopic.php?f=3&amp;t=5276</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>3</strong> of <strong>3</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Tue Jun 09, 2009 4:52 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The download link is right above that. It seems to use JavaScript, so make sure you have it enabled (there's not much you can do on the internet nowadays without JavaScript).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>mattmatteh</b> [ Tue Jun 09, 2009 6:41 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I dont have java or javescript enabled.  A simple download should not need any of that.
<br />
<br />Oh well.   Perhaps when a better upload site is found I can try.
<br />
<br />matt

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Tue Jun 09, 2009 6:44 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">mattmatteh wrote:</div><div class="quotecontent">I dont have java or javescript enabled.  A simple download should not need any of that.</div>
<br />It's a measure against bots that consume bandwidth without displaying the advertisements that fund the service.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Tue Jun 09, 2009 7:12 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">mattmatteh wrote:</div><div class="quotecontent">I dont have java or javescript enabled.</div>
<br />The internet must be a sad place for you if all you have is simple HTML. You're missing a lot, buddy, I'll tell you that.
<br />
<br />You're not missing anything without the ROM I uploaded though. It's just an example of code that requires precise timing to run 100% correctly. Unless you're making an emulator and aiming at perfect timing, this shouldn't be of any interest.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>CartCollector</b> [ Tue Jun 09, 2009 7:20 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I was playing Jurassic Park in Nestopia, which uses a glitch hiding trick similar to tokumaru's, and I noticed it also displays a scanline of the background before it displays a scanline of sprites. Before now I never knew why. That said, it's not very noticeable unless the main character goes beyond the top border of the screen.
<br />
<br />Actually I just tested it in Nintendulator, and it also displays sprites 1 scanline later than the background. So maybe this happens with Jurassic Park on actual hardware too?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Tue Jun 09, 2009 9:32 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">CartCollector wrote:</div><div class="quotecontent">So maybe this happens with Jurassic Park on actual hardware too?</div>
<br />I think it does. I don't know why... That game doesn't seem to share tiles between sprites and background, so there is more than enough time to select all the sprite patterns as the last blank scanline is displayed and then, before the first non-blank scanline is rendered select the background patterns, even though the MMC3 requires quite a few register writes to set the whole pattern table.
<br />
<br />The mapper I'm using switches the whole 8KB of CHR at once, so I can't treat background and sprites differently. Plus I'm using tiles from both sides of the pattern table for sprites. This makes the very end of the last blank scanline (when all background patterns have been fetched and the sprite patterns for the next scanline are about to be fetched) the perfect point to switch all the patterns, but it seems some emulators are not accurate enough to have that point match the real console. It's a shame, because it works perfectly on the console. 
<br />
<br />Maybe if I decided to delay sprite rendering for one more scanline (so that the background would be displayed first, like you say happens in Jurassic Park), I'd have a slightly larger window to accommodate timing issues, but I really don't feel like giving up on something just because a few emulators don't show it right.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>mattmatteh</b> [ Wed Jun 10, 2009 11:13 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent">The internet must be a sad place for you if all you have is simple HTML. You're missing a lot, buddy, I'll tell you that.</div>Not missing the ads.<div class="quotetitle">tokumaru wrote:</div><div class="quotecontent">You're not missing anything without the ROM I uploaded though. It's just an example of code that requires precise timing to run 100% correctly. Unless you're making an emulator and aiming at perfect timing, this shouldn't be of any interest.</div>I am interested in making sure my emulator is accurate.
<br />
<br />matt

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Wed Jun 10, 2009 11:37 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent">You're not missing anything without the ROM I uploaded though. It's just an example of code that requires precise timing to run 100% correctly. Unless you're making an emulator and aiming at perfect timing, this shouldn't be of any interest.</div><br />Or unless someone is still saving up for a PowerPak and, in the meantime, trying to determine which emulator is closest to accurate.<br /><br /><div class="quotetitle">mattmatteh wrote:</div><div class="quotecontent"><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent">[Without script on the Web,] You're missing a lot, buddy, I'll tell you that.</div><br />Not missing the ads.</div>
<br />Most of the annoying ads nowadays are <a href="http://en.wikipedia.org/wiki/SWF" class="postlink">SWF</a> objects. I put a <a href="https://addons.mozilla.org/en-US/firefox/addon/433" class="postlink">filter</a> in my web browser to disable SWF objects for sites not on a whitelist.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>cpow</b> [ Wed Jun 10, 2009 7:00 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">mattmatteh wrote:</div><div class="quotecontent">I dont have java or javescript enabled.  A simple download should not need any of that.<br /><br />Oh well.   Perhaps when a better upload site is found I can try.<br /><br />matt</div>
<br />
<br />I could set up an anonymous access folder at <a href="ftp://www.nesicide.com" class="postlink">ftp://www.nesicide.com</a>...would that work?   <img src="./images/smilies/icon_question.gif" alt=":?:" title="Question" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>mattmatteh</b> [ Thu Jun 11, 2009 11:21 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">NESICIDE wrote:</div><div class="quotecontent">I could set up an anonymous access folder at <a href="ftp://www.nesicide.com" class="postlink">ftp://www.nesicide.com</a>...would that work?   :?:</div>What ever works with wget is preferred.
<br />Thanks
<br />matt

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>3</strong> of <strong>3</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>