<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - NES Palette(s)</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">NES Palette(s)</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=21&amp;t=8121">http://forums.nesdev.com/viewtopic.php?f=21&amp;t=8121</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>4</strong> of <strong>5</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Fri Sep 16, 2011 8:42 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">koitsu wrote:</div><div class="quotecontent">The attribute table limitations are obviously not being considered, amongst other things.</div><br />You haven't really read the thread, have you? The first screen he posted had attribute clashes, but when those were pointed out he fixed it. If it still looks like these limitations are not being considered, it's just because the graphics are really really good, since as far as I can tell, the latest screens are respecting the attribute grid.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I mean really, overscan? Curved corners due to trapezoidal and CRT (electron gun)-specific aspects?  Come on guys, seriously.</div>
<br />I don't think this was ever considered... The very few times things like these were discussed in this thread were just to tell the OP to be careful about the information he's placing near the edges of the screen. PCs obviously don't crop the image, but since NES games always had some "breathing room" around the image it would be a good idea to include that in his game too.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Shiru</b> [ Fri Sep 16, 2011 9:37 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Safe area on TVs always had influence to game stats and messages placement and size.
<br />
<br />TV screen imitation added a lot of feel in <a href="http://www.locomalito.com/juegos_maldita_castilla.php" class="postlink">this project</a>.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>koitsu</b> [ Fri Sep 16, 2011 10:38 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Again: what indication is there that this is a game to be played on a television screen?  And no, I didn't read the full thread because people are already getting totally wild and crazy over "NES focus" despite from the get-go the OP stating it's not a NES game.  Again: it's just an artist mock-up of an in-game screenshot and he wanted an "accurate NES palette" (as we know there is no such thing).  No other information has been given.  <a href="http://www.youtube.com/watch?v=dR_LHlFwlhk#t=0m25s" class="postlink">Settle down, bud!</a>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Carnivac</b> [ Fri Sep 16, 2011 11:43 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Again: it's just an artist mock-up of an in-game screenshot and he wanted an "accurate NES palette" (as we know there is no such thing).  </div>
<br />
<br />I did state that the original image was an actual screenshot from the game, not a mock up.  The later images are then edited with advice from here to help me get a better idea of how to make it truly NES-compatible so I can now go back and edit the game to match.
<br />
<br />Ok, to be clear it's a real playable game.  Yes it's on PC but I'm a bit of a retro nut when it comes to pixelling and I find limited palettes and low resolutions far more fascinating to work with than ridiculous amounts of colors and 'HD' (I loathe HD 2D games such as the awful remake graphics in games like Super Street Fighter II Turbo HD Remix which completely miss the point as to why the pixel sprites worked so well).  Despite any issues I have with Nintendo these days (or ever since I wasted money on the N64) I'm still a fan of their old school stuff like the NES, SNES and Gameboy and still play the games of those systems on emulators for my laptop and PSP (damn I love having thousands of roms on me to play at any time) and I like to homage that era of gaming. 
<br />
<br />Now the point of me coming here and asking for help with the palette and learning about this whole attribute thing is that I thought if I'm trying to make it feel NES-like I may as well go the extra mile and try to design it as if it really was a NES game.  If I finish this and people like it enough that a NES game coder wants to take a shot at programming a real NES rom of it to be played on emulators or even possibly putting onto a cartridge to be played on a real NES, then the game should be easy enough to do as there shouldn't be anything in it going on that the NES can't actually do.  I'd quite happily pass on to them all the extra graphics and NSF music and game notes and everything.
<br />
<br />Anyways I'm still not quite happy with the status bar.  And wondering if I can rework one of the background palettes to make room for a general background palette with some lighter colors in to take care of the status panel and any ingame menus and stuff.  I've nothing else to do today as class has been cancelled this week so I may as well give it a shot.
<br />
<br />Ya know what's weird though?  I spent so much time sorting the attributes thing yesterday that it even affected my dreams last night.  I recall walking about a city full of people and with some strange ability I was able to visually condense all their color groups into a bunch of small reusable palettes.   Very bizarre...

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>koitsu</b> [ Sat Sep 17, 2011 3:59 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />If it's a PC game, then have fun implementing limitations that you really don't need to implement (re: sprite limitations, palette/attribute limitations, etc.).  There is absolutely nothing "NES compatible" about the PC, so porting from a more advanced platform to a platform made 25 years ago is fairly nonsensical.  Remember: we're just talking about pixels and colours here, there's so much else to consider that it's not even worth considering (IMO).
<br />
<br />And FWIW, I don't care for excessive 3D crap these days either.  But I also would not want to play a PC game that acts and behaves exactly like a NES game (with all of the NES's architectural limitations, particularly with regards to the PPU).  Sometimes it's best to make sacrifices and be appreciative of the advancements PC architecture provides.  And this statement comes from someone who really despises x86 architecture.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Carnivac</b> [ Sat Sep 17, 2011 4:17 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I don't get what it is you seem to be trying to achieve with this arguing.  I simply want to make a NES-like game on my laptop here as a hobby project.  I want to keep it to NES limitations as best as possible so that someone who can actually make NES games can have a go at producing it for NES emulators.  The advantage of that being the rom could then just run on any system that already can emulate the NES.   I also like the challenge of limitations and also using them to keep control of a project (no incentive to let things spiral out of control and never get the darn thing finished like I've had happen so many times in the past).
<br />
<br />Think of the PC version as being a NES prototype if nothing else.  The reason there's a PC version at all is that's the only system I know how to make a game on.  I've no real interest in PC gaming other than using my laptop as an emulation machine.
<br />
<br />I just don't know why you seem intent on pushing your negative views onto my personal project in that way.  I came here looking for advice on NES limitations which is what I have been getting from the other much more helpful members.  Everything you've said pretty much goes against the reason I came here looking for help and makes me wonder why you're even posting in this topic.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Sat Sep 17, 2011 4:46 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">koitsu wrote:</div><div class="quotecontent">Again: what indication is there that this is a game to be played on a television screen?</div><br />I'm of the opinion that all PC games should support a mode for a home theater PC.<br /><br /><div class="quotetitle">Carnivac wrote:</div><div class="quotecontent">I want to keep it to NES limitations as best as possible so that someone who can actually make NES games can have a go at producing it for NES emulators.</div><br />Translation: We might get the next Battle Kid or Super Bat Puncher out of this if, after the PC prototype is done, someone decides to join the project as the NES port programmer.<br /><br />So in other words, as you said:<br /><div class="quotetitle">koitsu wrote:</div><div class="quotecontent">Settle down, bud!</div>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Banshaku</b> [ Sat Sep 17, 2011 6:45 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />You shouldn't get it too personal but people here on nesdev are quite vocal and may have strong opinion on some subject so don't let it get to you <img src="./images/smilies/icon_wink.gif" alt=";)" title="Wink" /> We are quite a "colorful" community. Once you pass that stage, you won't mind that much anymore. It may be a shock at the begining <img src="./images/smilies/icon_lol.gif" alt=":lol:" title="Laughing" />
<br />
<br />I love retro style and it's going well.  It there is a chance that someone port it to the nes, even better. So staying by those "limitations" will help that process since the nes has a lot of them, and some of them are quite a pain.
<br />
<br />As for 2D in "HD", most maker don't know what the hell they are making but Arc System, the makers of Blaze Blue, Hard Corps, Guilty gear etc knows what they are doing. This is the rare exception where it actually looks good.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Carnivac</b> [ Sat Sep 17, 2011 6:55 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Ok, fairly huge edit this time.  An all new level layout to display it too.  The purple sky is gone but the benefit of that is I could optimize the background palettes better and free up a whole palette for use as the status panel palette and also use that to do a new chest tile coloring.  
<br />
<br />The palette optimization actually inspired me to dig out some old unused background forestry tiles I did years ago and put them here to give a nice sense of depth and atmosphere.
<br />
<br />The status panel has been overhauled totally and uses a framed look for each player's status stuff that was inspired by the NES port of the Turtles arcade game.  Added dragon portraits in their colors too which can be sprites up there and the hearts have been relegated to 8x8 tiles.  Hopefully the more compact format of the status bar allows it to be seen on any TV without the sides getting chopped off.
<br />
<br />I've added a crate tile using the rock/wood background palette and this can be used like a basic chest, being able to be smashed to reveal a coin or gem would then is counted as collected and disappears (in a similar way to how a coin is bumped out of a ? block in SMB and disappears quickly so it doesn't stick around)
<br />
<br /><img src="http://carnivac.co.uk/temp/nesdragon01edit3.png" alt="Image" />
<br />
<br />I'm really liking how this is looking now.  Somewhat more unified in color scheme and much more NES-like without sacrificing too much of my original graphics. <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Hojo_Norem</b> [ Sat Sep 17, 2011 9:44 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent"><div class="quotetitle">koitsu wrote:</div><div class="quotecontent">Again: what indication is there that this is a game to be played on a television screen?</div><br />I'm of the opinion that all PC games should support a mode for a home theater PC.<br /></div>
<br />
<br />Are we talking about HTPCs connected to flat screens or CRTs?  Most flat screens have the ability to turn overscan off and in every occasion I have connected a PC to a TV there has been the ability to compensate for overscan within the GFX card's drivers.
<br />
<br />Anyhoow, Im loving what I'm seeing here, just if you are going to run the images thrugh a NTSC filter to guage the final result I only ask that you do the same for PAL.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Sat Sep 17, 2011 10:05 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I love the new HUD. You are a really talented artist!
<br />
<br />My only complaint is the green dragon... I mean, his side of the HUD is not mirrored from the other half, so to me it doesn't make sense to mirror just the dragon, it just causes his right side be cropped by nothing. I think it would look much cooler if he was simply facing right too.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Carnivac</b> [ Sat Sep 17, 2011 10:30 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Hojo_Norem wrote:</div><div class="quotecontent"> just if you are going to run the images thrugh a NTSC filter to guage the final result I only ask that you do the same for PAL.</div><br /><br />I'm not sure what that means.<br /><br /><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent">My only complaint is the green dragon... I mean, his side of the HUD is not mirrored from the other half, so to me it doesn't make sense to mirror just the dragon, it just causes his right side be cropped by nothing. I think it would look much cooler if he was simply facing right too.</div>
<br />
<br />Ok I flipped it.  They were originally mirrored but some of it wasn't working right so put them both the same way but I had originally left the green one facing left cos it just looked a bit more dynamic.  I suppose him facing right now makes it easier to spot the differences in the portrait as the dragons are meant to be twins but male and female so have subtle differences.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Sat Sep 17, 2011 11:43 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Carnivac wrote:</div><div class="quotecontent"><div class="quotetitle">Hojo_Norem wrote:</div><div class="quotecontent"> just if you are going to run the images thrugh a NTSC filter to guage the final result I only ask that you do the same for PAL.</div><br />I'm not sure what that means.</div>
<br />The NES and Super NES PPUs take shortcuts when generating the composite video signals. Blargg wrote a program called "snes_ntsc" that applies a filter to a 256x240 pixel image to simulate the artifacts that these shortcuts cause. Do you want me to run it on your latest mock-up?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Carnivac</b> [ Sun Sep 18, 2011 11:21 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">The NES and Super NES PPUs take shortcuts when generating the composite video signals. Blargg wrote a program called "snes_ntsc" that applies a filter to a 256x240 pixel image to simulate the artifacts that these shortcuts cause. Do you want me to run it on your latest mock-up?</div>
<br />
<br />If you like.  I still don't quite get it.
<br />
<br />Anyways I've done some more tinkering with palettes and stuff.  Mainly I wanted to see if there was a way I could bring back the fire and ice dragon idea I originally wanted where a power up would give the dragon the fire ability in the same way as Mario (though with more uses such as a quick small fireball, a more concentrated short range flame and it affecting certain things) and also an ice power up used to freeze and shatter things (like freezing an enemy to stand on, or freezing an airborne enemy to have them crashing down, frozen 16x16 enemies turning into a generic ice block with eyes much the way that in Bubble Bobble enemies in a bubble would have visible eyes which I felt added some charm) but the way I had it before, the palettes wouldn't allow a physical sign that the dragons had one or the other.  I've now swiched things about a bit so that the 2nd player dragon is more of an orange and now both can go red/yellow when they obtain a fire power up and also the other sprite palette has now an icy blue scheme so they can turn blue when they have ice power.  Ok the downside of the color switching is that the coins now have a bit of a reddish look but then NES graphics are all about compromise and I think I can get used to them looking like that.
<br />
<br />Also I added some more edited stuff from past abandoned projects I felt fit well here.  Things like 16x16 3 color enemies and lil fairy thing.
<br />
<br />I was wondering if I could flicker the fire objects between the palettes 5 and 6 for a subtle firey flicker look.
<br />
<br />Also regarding projectiles.  How did various shooters on the NES that fired horizontally deal with the 8 sprites on a row limit?
<br />
<br /><img src="http://carnivac.co.uk/temp/nesdragon01edit4.png" alt="Image" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dwedit</b> [ Sun Sep 18, 2011 12:14 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />How flickering works:
<br />
<br /><img src="http://i.imgur.com/mvM6l.gif" alt="Image" />
<br />
<br />Here's Megaman 2 with a bunch of sprites in the same row.  Everything is flickery.
<br />
<br />Whenever the NES draws sprites, it takes the first 8 sprites it finds in that scanline, and discards the rest.
<br />So the game has to put the sprites in a different order, so a different group of sprites gets discarded instead.  So instead of sprites missing, you get flickering.  This is called "OAM Cycling".
<br />
<br /><img src="http://i.imgur.com/Yas9Y.gif" alt="Image" />
<br />
<br />Here it is again in super slow motion, so you can see that sprites are clearly disappearing.
<br />
<br />If a game has 8 sprites and projectiles, it needs to flicker the sprites so projectiles or sprites don't disappear.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>4</strong> of <strong>5</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>