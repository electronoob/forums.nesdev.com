<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="http://forums.nesdev.com/feed.php?f=22&amp;t=10810" />

<title>nesdev.com</title>
<subtitle>NES Development and Strangulation Records message boards</subtitle>
<link href="http://forums.nesdev.com/index.php" />
<updated>2014-11-17T00:32:20-07:00</updated>

<author><name><![CDATA[nesdev.com]]></name></author>
<id>http://forums.nesdev.com/feed.php?f=22&amp;t=10810</id>
<entry>
<author><name><![CDATA[Light-Dark]]></name></author>
<updated>2014-11-17T00:32:20-07:00</updated>
<published>2014-11-17T00:32:20-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=10810&amp;p=136544#p136544</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=10810&amp;p=136544#p136544"/>
<title type="html"><![CDATA[Re: My First Attempt At A Platformer Engine]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=10810&amp;p=136544#p136544"><![CDATA[
I've been chipping slowly away at this project for a couple of months now and I have more or less got a decent main menu going (Load Adventure is still in the planning stage) with a fully operational Soundtest sub menu (So operational that you can go beyond the song table and play garbage!).<br />Main.nes<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=6291">Light-Dark</a> — Mon Nov 17, 2014 12:32 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tokumaru]]></name></author>
<updated>2014-08-11T18:45:30-07:00</updated>
<published>2014-08-11T18:45:30-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=10810&amp;p=132427#p132427</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=10810&amp;p=132427#p132427"/>
<title type="html"><![CDATA[Re: My First Attempt At A Platformer Engine]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=10810&amp;p=132427#p132427"><![CDATA[
<div class="quotetitle">Kasumi wrote:</div><div class="quotecontent"><br />I just unhide all scanlines on all emulators I use.<br /></div><br />Same here. When developing, it's important to see the whole picture your code is generating.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=95">tokumaru</a> — Mon Aug 11, 2014 6:45 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Light-Dark]]></name></author>
<updated>2014-08-11T18:05:33-07:00</updated>
<published>2014-08-11T18:05:33-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=10810&amp;p=132426#p132426</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=10810&amp;p=132426#p132426"/>
<title type="html"><![CDATA[Re: My First Attempt At A Platformer Engine]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=10810&amp;p=132426#p132426"><![CDATA[
<div class="quotetitle">Kasumi wrote:</div><div class="quotecontent"><br />New ROM fixes all three issues, yes. No, I was not using PAL mode, as Tokumaru guessed I just unhide all scanlines on all emulators I use. <br /><br />One other thing, it seems that either your NMI is disabled while switching screens, or your code to update music isn't in the NMI. You can fix the continued single note while switching screens if you keep NMIs enabled and move your update code there.<br /></div><br /><br />That's good to hear and thank you! I was wondering what was causing that.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=6291">Light-Dark</a> — Mon Aug 11, 2014 6:05 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Kasumi]]></name></author>
<updated>2014-08-11T16:02:05-07:00</updated>
<published>2014-08-11T16:02:05-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=10810&amp;p=132421#p132421</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=10810&amp;p=132421#p132421"/>
<title type="html"><![CDATA[Re: My First Attempt At A Platformer Engine]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=10810&amp;p=132421#p132421"><![CDATA[
New ROM fixes all three issues, yes. No, I was not using PAL mode, as Tokumaru guessed I just unhide all scanlines on all emulators I use. <br /><br />One other thing, it seems that either your NMI is disabled while switching screens, or your code to update music isn't in the NMI. You can fix the continued single note while switching screens if you keep NMIs enabled and move your update code there.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3504">Kasumi</a> — Mon Aug 11, 2014 4:02 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Light-Dark]]></name></author>
<updated>2014-08-11T07:51:41-07:00</updated>
<published>2014-08-11T07:51:41-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=10810&amp;p=132400#p132400</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=10810&amp;p=132400#p132400"/>
<title type="html"><![CDATA[Re: My First Attempt At A Platformer Engine]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=10810&amp;p=132400#p132400"><![CDATA[
<div class="quotetitle">tokumaru wrote:</div><div class="quotecontent"><br /><div class="quotetitle">Light-Dark wrote:</div><div class="quotecontent">I notice your emulator is in PAL mode<br /></div><br />&quot;PAL mode&quot; is a setting that affects timing, not resolution. Both PAL and NTSC consoles generate 240 lines of picture, emulators that crop scanlines in NTSC mode are just (poorly) attempting to simulate the clipping that commonly happens in NTSC TVs, but the amount of picture that's cut varies from TV to TV and you shouldn't rely on that happening. Also, all emulators I know of that crop scanlines allow you to configure how much is cropped.</div><br /><br />Okay I see, my bad.<br /><br /><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent"><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">( you're not supposed to see the sprites in the upper left)<br /></div><br />There <strong>should be no</strong> sprites in the upper left! =) The correct place to hide unused sprites is after scanline 239, past the end of the  picture. A Y coordinate of anything between 239 and 255 will completely hide a sprite. The X coordinate doesn't matter.</div><br /><br />Thank you! That issue has been fixed, sprites that aren't supposed to be displayed are no longer displayed.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=6291">Light-Dark</a> — Mon Aug 11, 2014 7:51 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tokumaru]]></name></author>
<updated>2014-08-11T05:32:45-07:00</updated>
<published>2014-08-11T05:32:45-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=10810&amp;p=132396#p132396</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=10810&amp;p=132396#p132396"/>
<title type="html"><![CDATA[Re: My First Attempt At A Platformer Engine]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=10810&amp;p=132396#p132396"><![CDATA[
<div class="quotetitle">Light-Dark wrote:</div><div class="quotecontent"><br />I notice your emulator is in PAL mode<br /></div><br />&quot;PAL mode&quot; is a setting that affects timing, not resolution. Both PAL and NTSC consoles generate 240 lines of picture, emulators that crop scanlines in NTSC mode are just (poorly) attempting to simulate the clipping that commonly happens in NTSC TVs, but the amount of picture that's cut varies from TV to TV and you shouldn't rely on that happening. Also, all emulators I know of that crop scanlines allow you to configure how much is cropped.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />( you're not supposed to see the sprites in the upper left)<br /></div><br />There <strong>should be no</strong> sprites in the upper left! =) The correct place to hide unused sprites is after scanline 239, past the end of the  picture. A Y coordinate of anything between 239 and 255 will completely hide a sprite. The X coordinate doesn't matter.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=95">tokumaru</a> — Mon Aug 11, 2014 5:32 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Light-Dark]]></name></author>
<updated>2014-08-11T00:16:10-07:00</updated>
<published>2014-08-11T00:16:10-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=10810&amp;p=132383#p132383</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=10810&amp;p=132383#p132383"/>
<title type="html"><![CDATA[Re: My First Attempt At A Platformer Engine]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=10810&amp;p=132383#p132383"><![CDATA[
<div class="quotetitle">Kasumi wrote:</div><div class="quotecontent"><br />Just so you know I'm not crazy: <!-- m --><a class="postlink" href="http://i.imgur.com/3kbQ2pA.gif">http://i.imgur.com/3kbQ2pA.gif</a><!-- m --><br /></div><br /><br /><br />Hmmmm, I notice your emulator is in PAL mode ( you're not supposed to see the sprites in the upper left). Have you tried setting it to NTSC? Here try this: Main.nes<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=6291">Light-Dark</a> — Mon Aug 11, 2014 12:16 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Kasumi]]></name></author>
<updated>2014-08-10T23:59:41-07:00</updated>
<published>2014-08-10T23:59:41-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=10810&amp;p=132381#p132381</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=10810&amp;p=132381#p132381"/>
<title type="html"><![CDATA[Re: My First Attempt At A Platformer Engine]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=10810&amp;p=132381#p132381"><![CDATA[
Just so you know I'm not crazy: <!-- m --><a class="postlink" href="http://i.imgur.com/3kbQ2pA.gif">http://i.imgur.com/3kbQ2pA.gif</a><!-- m --><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3504">Kasumi</a> — Sun Aug 10, 2014 11:59 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Light-Dark]]></name></author>
<updated>2014-08-10T23:43:54-07:00</updated>
<published>2014-08-10T23:43:54-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=10810&amp;p=132379#p132379</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=10810&amp;p=132379#p132379"/>
<title type="html"><![CDATA[Re: My First Attempt At A Platformer Engine]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=10810&amp;p=132379#p132379"><![CDATA[
<div class="quotetitle">Kasumi wrote:</div><div class="quotecontent"><br />Being more specific, I mean start the rom. (black screen, game is in menu mode.) Hold A. Don't let go. Press start. <br /><br />Not holding A+start after the game has begun.<br /></div><br /><br />Weird. I'm doing just that in FCEUX,Jnes and Nestopia and everything is functioning as intended; no hovering. Just to be on the safe side though I'll make sure when the game changes state that it clears the controller input byte and resets all the jumping related bytes.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=6291">Light-Dark</a> — Sun Aug 10, 2014 11:43 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Kasumi]]></name></author>
<updated>2014-08-10T23:35:50-07:00</updated>
<published>2014-08-10T23:35:50-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=10810&amp;p=132376#p132376</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=10810&amp;p=132376#p132376"/>
<title type="html"><![CDATA[Re: My First Attempt At A Platformer Engine]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=10810&amp;p=132376#p132376"><![CDATA[
Being more specific, I mean start the rom. (black screen, game is in menu mode.) Hold A. Don't let go. Press start. <br /><br />Not holding A+start after the game has begun.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3504">Kasumi</a> — Sun Aug 10, 2014 11:35 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Light-Dark]]></name></author>
<updated>2014-08-10T23:31:02-07:00</updated>
<published>2014-08-10T23:31:02-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=10810&amp;p=132375#p132375</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=10810&amp;p=132375#p132375"/>
<title type="html"><![CDATA[Re: My First Attempt At A Platformer Engine]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=10810&amp;p=132375#p132375"><![CDATA[
Thank you for the feedback! Yeah I've kind of moved away from the jetpack style as I have learned more about 6502 programming over the months. I fixed the bug where you can jump off walls and woops I accidentally left some old code in my d-pad down routine (it isn't supposed to do anything) <img src="http://forums.nesdev.com/images/smilies/icon_redface.gif" alt=":oops:" title="Embarassed" />. I haven't been able to replicate the floating via holding start and A yet.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=6291">Light-Dark</a> — Sun Aug 10, 2014 11:31 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Kasumi]]></name></author>
<updated>2014-08-10T22:54:26-07:00</updated>
<published>2014-08-10T22:54:26-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=10810&amp;p=132372#p132372</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=10810&amp;p=132372#p132372"/>
<title type="html"><![CDATA[Re: My First Attempt At A Platformer Engine]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=10810&amp;p=132372#p132372"><![CDATA[
Hmm... I dunno, are you looking for feedback?<br /><br />I'd like to know what kind jump physics you're going for. Currently it seems you're after a jetpack type movement, because it's reversed from a typical jump.<br /><br />Edit: HAH! I read the rest of the topic. Jetpack style it is. Still, I might slow it down a tad for a more jetpack feel. Possibly take a look at the Yoshi's Island flutter mechanics. I've also managed to kind of hover by mashing A, which supports that the player has a jetpack, but it's very difficult to do this, if this is meant to be a mechanic and not a glitch.<br /><br />If you hold A button while pressing start, you can just kinda chill in the air. <br />Edit: Oh, I maybe found out why. $0434 seems to be in charge of how much time is left to hover. At reset it decrements from 0 and wraps through $FF. So you can't float indefinitely as I first thought. Just for a very long time.<br /><br />Similarly, holding left against walls while a new screen loads allows you to jump off walls. (Jump off the pit in the start while holding left+A. The screen you should fall on allows you to go back up to the first screen, but then you fall to the second screen etc.) Holding down while landing allows you to hover a pixel off the ground. I assume you've begun a crouching state that causes this, since it also prevents you from jumping.<br /><br />Not bad progress, though.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3504">Kasumi</a> — Sun Aug 10, 2014 10:54 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Light-Dark]]></name></author>
<updated>2014-08-10T22:29:43-07:00</updated>
<published>2014-08-10T22:29:43-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=10810&amp;p=132371#p132371</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=10810&amp;p=132371#p132371"/>
<title type="html"><![CDATA[Re: My First Attempt At A Platformer Engine]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=10810&amp;p=132371#p132371"><![CDATA[
Okay so over the past 6 months or so I've completely rewritten this engine from the ground up. Main.nes<br /><br />Some new features to the new and improved engine are:<br />- AI<br />- Status Bar<br />- Better jumping physics<br />- Better background collision detection and resolution<br />- Different background collision properties ( An example of this is in the water area of the demo wher the water makes you fall slower and some of it moves you to the right as if there is a current).<br /><br />If anyone wants to pop open an emulator hex editor mess around with things like background collision and AI during run time here are some memory locations and info:<br /><br />$0700-$071A = AI Memory <br />Each AI is 9 bytes in size: y,x,sprattributes,sprite#,Health,xVel,yVel,Action,Frame<br />The action byte, for those who are wondering, basically controls which action &quot;script&quot; is jumped too in the global AI action jump table.<br />(0 = do nothing, 1 = move left and right, 2 = move up and down, 3 = move in a Zig zag wave, 4 = move in a sine wave)<br />$0600-$06FF = Background Collision table<br />Setting bit 7 makes a tile solid, setting bit 0 makes the tile water-like (more resistance to movement than air), bit 1 makes the tile move the player to the right, bit 2 to the left.<br /><br />When you load the ROM the screen will start black, just press start to begin ( it's in the &quot;menu&quot; state and I haven't really implemented a basic menu/title screen yet). Controls are pretty much like any other platformer on the NES d-pad to move left and right and a to jump. Pressing start and select currently modify the action byte of one of the AI's because I was doing some tests. Lastly when you go to the screens right of the starting area, which ultimately go nowhere, you'll notice the graphics are all messed up. That is intentional and not a glitch as I was testing to see if my tileset swapping between different screens functions correctly.<br /><br />So yeah enjoy I guess!<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=6291">Light-Dark</a> — Sun Aug 10, 2014 10:29 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Light-Dark]]></name></author>
<updated>2013-12-21T18:58:00-07:00</updated>
<published>2013-12-21T18:58:00-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=10810&amp;p=122757#p122757</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=10810&amp;p=122757#p122757"/>
<title type="html"><![CDATA[Re: My First Attempt At A Platformer Engine]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=10810&amp;p=122757#p122757"><![CDATA[
<div class="quotetitle">rainwarrior wrote:</div><div class="quotecontent"><br />I'm noting a short grey glitch mid-screen when dying. Are you trying to set the palette while rendering is off? (It should only be written during vblank to avoid this.)<br /></div><br /><br />Thanks! the palette is now set during VBlank.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=6291">Light-Dark</a> — Sat Dec 21, 2013 6:58 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[rainwarrior]]></name></author>
<updated>2013-12-21T15:58:22-07:00</updated>
<published>2013-12-21T15:58:22-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=10810&amp;p=122756#p122756</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=10810&amp;p=122756#p122756"/>
<title type="html"><![CDATA[Re: My First Attempt At A Platformer Engine]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=10810&amp;p=122756#p122756"><![CDATA[
I'm noting a short grey glitch mid-screen when dying. Are you trying to set the palette while rendering is off? (It should only be written during vblank to avoid this.)<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=5165">rainwarrior</a> — Sat Dec 21, 2013 3:58 pm</p><hr />
]]></content>
</entry>
</feed>