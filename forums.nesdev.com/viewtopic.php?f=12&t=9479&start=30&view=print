<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - MAD-1, MAD-2, MAD-R differences?</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">MAD-1, MAD-2, MAD-R differences?</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=12&amp;t=9479">http://forums.nesdev.com/viewtopic.php?f=12&amp;t=9479</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>3</strong> of <strong>8</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>nocash</b> [ Mon Nov 12, 2012 5:50 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MAD-1, MAD-2, MAD-R differences?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">SkinnyV wrote:</div><div class="quotecontent">If you are still in looking for MAD-1A and MAD-R, I have both and would be happy to send your way.</div><br />Don't know whom you want to send them to, but I would take them, gladly.<br />With the parallel port cable I could dump the logic table automatically by software, that's maybe a bit more reliable as manually scribbling down the LED outputs.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>SkinnyV</b> [ Mon Nov 12, 2012 6:09 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MAD-1, MAD-2, MAD-R differences?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Well, I do not really mind who I send it to, I'm just hoping it could help document the chip and be beneficial to people.<br /><br />Alternatively, I could also just build your parallel port adapter and submit the result that I get with your software (if I was told which pin to connect to the DB25 port). It might be much faster that way. I could probably submit the result tonight even.<br /><br />Edit: Chip are ready to have their mysteries solved:) I would just need a quick diagram showing where to hook the mad chip to a DB25 port.<br /><br /><img src="http://www.skinnyv.com/img/MAD.JPG" alt="Image" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>byuu</b> [ Mon Nov 12, 2012 7:02 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MAD-1, MAD-2, MAD-R differences?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />&gt; If you are still in looking for MAD-1A and MAD-R, I have both and would be happy to send your way.<br /><br />That would be fantastic, thank you.<br /><br />But nocash asked first, so you can send to him to be fair. I am in the US and he is in Germany, if that matters.<br /><br />I'd love to have the 1A, 2 and R chips to make my own logic tables. Made my breadboard semi-permanent with short wires and trimmed resistors just for the task of analyzing mapper ICs, heh. I trust other peoples' tables, but I also like getting into this hardware stuff =)<br /><br />&gt; that's maybe a bit more reliable as manually scribbling down the LED outputs.<br /><br />Probably, but I'll be doing three blind tests. There's only 64 possible states, so it's not like I am dumping a ROM chip or something =)<br /><br />&gt; Alternatively, I could also just build your parallel port adapter and submit the result that I get with your software (if I was told which pin to connect to the DB25 port)<br /><br />If that gives you trouble, the LED route -does- work, and requires nothing out of the ordinary =)<br />But yeah, either way is fine.<br /><br />If you could, please match my table format so that I can tell any differences at a glance. If not, I will convert your table to my format, so no worries.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>SkinnyV</b> [ Mon Nov 12, 2012 7:24 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MAD-1, MAD-2, MAD-R differences?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Well, most important thing for now is to dump the truth table IMO, after that I could still mail it to someone I suppose. I would prefer going the parallel port dumper route personally but for that I need to know what goes where.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>nocash</b> [ Mon Nov 12, 2012 7:43 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MAD-1, MAD-2, MAD-R differences?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">SkinnyV wrote:</div><div class="quotecontent">I would just need a quick diagram showing where to hook the mad chip to a DB25 port.</div><br />There is a diagram in the source code file, but it's for 36pin centronics (that way you can use a standard printer cable, and need only short wires in the adaptor). For 25pin you'd need to swap some pins, I can make a diagram for it too, if you need it.<br />VCC was connected to floppy/harddisk supply (red cable), and Vbat, I've been experimentally wiring that here or there.<br />The test program (as it is now) works under dos or win9x. With later windows versions you may have problems to run dos .com files, or to access the parallel port via I/O opcodes; but you could still use it when booting the computer via win9x cdroms, or via usb-sticks or so.<br />EDIT/PS: Default output is to screen, to redirect it to a log file type &quot;mad1 &gt;logfile.txt&quot;<br /><br /><div class="quotetitle">byuu wrote:</div><div class="quotecontent">There's only 64 possible states, so it's not like I am dumping a ROM chip or something =)</div><br />Well, but almost. With reset pin, there are 7 inputs, and  5 outputs, so you'd need to scribble down 640 led states, best repeated 2-3 times to eliminate manual typos. And to be complete, you'd need to repeat it with different VCC-vs-Vbat levels. Recording the 640 bits by software can be done is less than a second.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>SkinnyV</b> [ Mon Nov 12, 2012 7:49 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MAD-1, MAD-2, MAD-R differences?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Something like this?<br /><br /><img src="http://www.skinnyv.com/img/mad2db25.JPG" alt="Image" /><br /><br />Not sure where to hook pin 5 though.<br /><br />Edit: Oups, wrote to fast, you are right nocash, it was indeed supposed to be pin 15 and no pin 25 for mad pin 16. Thanks for pointing it out.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>byuu</b> [ Mon Nov 12, 2012 7:49 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MAD-1, MAD-2, MAD-R differences?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />&gt; Well, but almost. With reset pin, there are 7 inputs<br /><br />When the reset pin 9 is logic lo, all LED pins are logic high. So there's only six effective pins for logging. 64*5 values, it's quicker to do than us talking about it =)<br /><br />Either way though, by all means dump it via parallel, I don't mind <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>blargg</b> [ Mon Nov 12, 2012 7:59 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MAD-1, MAD-2, MAD-R differences?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />byuu's cart dumper is a SNES with the CIC reset disabled, which allows ejecting and inserting carts with the SNES powered on. So he can boot up with a devcart that gets the dumper running, then hotswap to the cart to be dumped an run his code with it inserted. It then copies the ROM to the controller port using a synchronous serial protocol.<br /><br />This approach is nice because it's an actual SNES dumping, so you know it's (very likely) just as it would be if the game were powered up. I say very likely the same because the hotswap gives a slightly different initial sequence to the cart, which some might not like. I think he needed another mod to the SNES so that carts which use some of the CIC signals would still work (Kirby Super Star? Super Mario RPG?).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>nocash</b> [ Mon Nov 12, 2012 8:01 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MAD-1, MAD-2, MAD-R differences?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">SkinnyV wrote:</div><div class="quotecontent">Something like this?</div><br />Yes, exept: MAD.Pin16 to DB25.Pin15/ERR (not DB25.Pin25/GND).<br /><br /><div class="quotetitle">byuu wrote:</div><div class="quotecontent">When the reset pin 9 is logic lo, all LED pins are logic high.</div><br />But you can't know that - unless you <strong>did</strong> have logged all 64 combinates with pin9=low.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>nocash</b> [ Mon Nov 12, 2012 8:07 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MAD-1, MAD-2, MAD-R differences?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">SkinnyV wrote:</div><div class="quotecontent">Not sure where to hook pin 5 though.</div><br />That's the supply output (to the SRAM), it should output 3V when powered by the plain battery, or 5V when powered by the SNES.<br />You can verify the voltage via multimeter. Otherwise just leave it unconnected.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>SkinnyV</b> [ Mon Nov 12, 2012 10:08 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MAD-1, MAD-2, MAD-R differences?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Results are in! I dumped them multiple time from pure DOS. I also dumped the regular MAD-1 just to confirm that the result are accurate compared to the table that was extracted for that one in the past (they seem to be).<br /><br /><a href="http://www.skinnyv.com/misc/MAD1_Table.rar" class="postlink">http://www.skinnyv.com/misc/MAD1_Table.rar</a><br /><br />Here's the setup (I also dumped them with the adapter directly connected to the motherboard port to reduce the risk of interference and signal lost):<br /><br /><img src="http://www.skinnyv.com/img/mad1dumper.JPG" alt="Image" /><br /><br />MAD-1 and MAD-1A seem to be the same but MAD-1R seem to have difference in mapping. I'll let you guys analyze these as I pretty much served my purpose and the rest is above my skill level.<br /><br />I am still willing to send the chip to you Byuu if the table seem to be correct and you still want to flash LED with them :p

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>byuu</b> [ Mon Nov 12, 2012 11:00 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MAD-1, MAD-2, MAD-R differences?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />&gt; byuu's cart dumper is a SNES with the CIC reset disabled, which allows ejecting and inserting carts with the SNES powered on.<br /><br />Believe it or not, it's even fancier than that.<br /><br />It has a special SuperCIC installed by ikari that reinitializes the handshake when it detects a new cart inserted.<br />Without that, SA-1 and S-DD1 games will refuse to respond to ROM read requests; which was meant as an anti-copier trick.<br />Before this, these games were dumped by desoldering the ROMs and reading them directly.<br /><br />This one's the most dangerous, because it's the only piece of my setup that I absolutely cannot duplicate myself. So if it breaks, I lose my ability to dump all SA-1 and Cx4 games.<br /><br />&gt; But you can't know that - unless you did have logged all 64 combinates with pin9=low.<br /><br />True, but then you should test pins 6-16 with inputs of varying voltages, and log the voltage of each pinout (I think when I did pin 6 = GND, pin 8 = Vcc to test, the chip got insanely hot really fast, heh.) Eventually you have to be practical <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /><br /><br />Anyway I don't mean to argue. Your way is nicer but I don't feel like figuring out how to control individual pins on a DB25 port that I don't even have on Linux.<br /><br />&gt; MAD-1 and MAD-1A seem to be the same but MAD-1R seem to have difference in mapping. I'll let you guys analyze these as I pretty much served my purpose and the rest is above my skill level.<br /><br />Awesome, thank you so much!<br /><br />Anyone here able to verify that the difference is the cause of the mapping difference in EVO vs Paladin's Quest?<br />At this point I am 99% sure it is, but 100% is nicer =)<br /><br />&gt; I am still willing to send the chip to you Byuu if the table seem to be correct and you still want to flash LED with them :p<br /><br />I wouldn't mind =)<br /><br />Does anyone know a Digikey part# or a 16-pin DIP socket that will stay put in a breadboard?<br /><br />The MAD-n legs are really delicate, and I'd prefer more sturdy legs, so I can put all the MAD variants into little trays.<br />Kind of silly since we only need the table once, but whatever. It'll look cool and have a fun story behind it.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>SkinnyV</b> [ Mon Nov 12, 2012 11:03 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MAD-1, MAD-2, MAD-R differences?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Why not just solder the socket to a board and then solder some pin header on the side linking with the pin from the socket?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>byuu</b> [ Mon Nov 12, 2012 11:06 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MAD-1, MAD-2, MAD-R differences?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I'm not currently good enough at soldering to pull that off.<br /><br />In fact, I can only just barely get replacement CR2032 battery holders to work on cartridges.<br /><br />D-sub cups are the limit of my ability, and I use every trick I can. 40w iron, heat the pin hole and wire and then push solder into it, tip tinner/cleaner, rosin flux gel, heat shrink tubing after every joint made, etc.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Mon Nov 12, 2012 11:06 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MAD-1, MAD-2, MAD-R differences?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">byuu wrote:</div><div class="quotecontent">Does anyone know a Digikey part# or a 16-pin DIP socket that will stay put in a breadboard?</div> Wire-wrap sockets should be overkill but work great. (e.g. <!-- m --><a class="postlink" href="http://www.mouser.com/ProductDetail/Harwin/D0816-42/?qs=sGAEpiMZZMs%2fSh%2fkjph1tiOpk5oEEfXA3cUkgeGo12s%3d">http://www.mouser.com/ProductDetail/Har ... geGo12s%3d</a><!-- m -->)

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>3</strong> of <strong>8</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>