<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - What happened with SNES CIC reverse engineering?</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">What happened with SNES CIC reverse engineering?</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=12&amp;t=5676">http://forums.nesdev.com/viewtopic.php?f=12&amp;t=5676</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>10</strong> of <strong>17</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Jeroen</b> [ Sun Mar 13, 2011 2:55 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />^^I think he removed that.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Link83</b> [ Sun Mar 13, 2011 4:09 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Sad to hear jims cool has disappeared, his combined NES/SNES CIC clone for AVR sounded really promising <img src="./images/smilies/icon_sad.gif" alt=":(" title="Sad" />
<br />
<br />So was the Tengen CIC clone by kevtris released? There seems to be conflicting info and googling just bought me right back here.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Mon Mar 14, 2011 8:55 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Link83 wrote:</div><div class="quotecontent">So was the Tengen CIC clone by kevtris released? There seems to be conflicting info and googling just bought me right back here.</div>
<br />No, the source code of kevtris' CIC wasn't released (except for an early version which Memblers mentioned, which might have been removed by now). If you meant hardware, RetroZone is selling exactly that CIC.
<br />
<br /><a href="http://thefox.aspekt.fi/Tengen.c" class="postlink">Here's the C source</a> that has all the info needed to write a clone (if you can decipher it <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /> ). In addition you'd need the different initialization bytes for different regions, those should be available in the Tengen CIC RE thread here in the forums.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>kevtris</b> [ Mon Mar 14, 2011 10:07 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Link83 wrote:</div><div class="quotecontent">Sad to hear jims cool has disappeared, his combined NES/SNES CIC clone for AVR sounded really promising <img src="./images/smilies/icon_sad.gif" alt=":(" title="Sad" /><br /><br />So was the Tengen CIC clone by kevtris released? There seems to be conflicting info and googling just bought me right back here.</div>
<br />
<br />Yeah sorry I don't have any CIC code posted any more.  I sold the project so I had to yank it all.  
<br />
<br />There's plenty of info out there to make a new one though,  and the SNES code that Ikari posted should be directly applicable to the NES CIC.
<br />
<br />Also I am unsure if an AVR would work due to cycle uncertainty on startup.  The PIC has an exactly known startup so it worked.  I am not sure if the AVR does.  Just a small think that'd need checking.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Link83</b> [ Tue Mar 15, 2011 7:58 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">kevtris wrote:</div><div class="quotecontent">Yeah sorry I don't have any CIC code posted any more.  I sold the project so I had to yank it all.  <br /><br />There's plenty of info out there to make a new one though,  and the SNES code that Ikari posted should be directly applicable to the NES CIC.<br /><br />Also I am unsure if an AVR would work due to cycle uncertainty on startup.  The PIC has an exactly known startup so it worked.  I am not sure if the AVR does.  Just a small think that'd need checking.</div>
<br />
<br />I understand <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /> Unfortunately I am not that knowledgeable about programming, so i'll just have to hope someone will take up the challenge.
<br />
<br />I would have considered just buying a CIClone from retrozone - $4.00 for the PIC seems fine, its the $14.00 for international shipping that ruins the deal for me <img src="./images/smilies/icon_sad.gif" alt=":(" title="Sad" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>jims cool</b> [ Mon Apr 11, 2011 6:29 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">consolingmyself wrote:</div><div class="quotecontent"><div class="quotetitle">atarimike wrote:</div><div class="quotecontent">Seems like jims cool was on it... but then he disappeared. Anyone got his contact info? Moderators?</div><br />I sent jims cool some CIC chips (NES and SNES) way back in July last year. Was supposed to be helping him test his work but haven't heard from him since.</div>hey guys sorry that I vanished.. atarimike contacted me<br />one of my good friends was struck and killed by a train then I found out my dad had cancer and he passed away shortly after<br /><br />anyway..<br /><div class="quotetitle">kevtris wrote:</div><div class="quotecontent">Also I am unsure if an AVR would work due to cycle uncertainty on startup.  The PIC has an exactly known startup so it worked.  I am not sure if the AVR does.  Just a small think that'd need checking.</div>oh no!!!..... just kidding they work fine <img src="./images/smilies/icon_wink.gif" alt=":wink:" title="Wink" /> lol
<br />
<br />I'm going to touch up the debug version a little then send it out to consolingmyself for testing..
<br />
<br /><span style="color: orange">UPDATE: ATtiny's only have 32 bytes of SRAM so I needed to swap nibbles leaving 16 bytes for the stack.. it's a newer chip so I didn't know of this memory limit.. this will make my code 8-bit and I wont need to interweave the table anymore..  should use about the same in flash and half the SRAM .. maybe 2/3 the cycles... I'm using both v1 and V2 assemblers with the configuration.. thinking I'll add 32bit support.. only instructions that change are rjmp and rcall everything else is already one cycle other then skips.. the other limit is 1k flash memory <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /></span>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Hilmarf</b> [ Tue Apr 26, 2011 10:15 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I got a strange problem....
<br />I maodded a PAL snes with supercic, no problem.
<br />Then I burned the chip the exact same way.
<br />I get graphical errors. No worries I thought after lots of troubleshooting,
<br />then I did another one. Then I get the exact same graphical glitches!
<br />
<br />Now I have two non-working NTSC snes'es (I think..)
<br />Could it be my 500ma china power supply? The SNES'es worked fine without the mod... Could it be that the mod draws just enough amount of extra power that the SNES'es have trouble working?
<br />
<br />I have been using the latest beta build... might be that?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Hilmarf</b> [ Tue Apr 26, 2011 11:41 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I guess it's the powerpak beta cic. No way I could screw up the same way twice without noticing...Would be gratefull if someone could confirm that the newest supercic hex works on a us snes.
<br />
<br />Edit: Got a 5A power supply now...and of course a microchip more or less wouldn't matter... Guess I will burn the old version of supercic and try that.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>ikari_01</b> [ Tue Apr 26, 2011 1:02 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Can you take photos of your mods?
<br />Also, does this happen with all games or just with carts equipped with a SuperCIC key?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Hilmarf</b> [ Tue Apr 26, 2011 1:30 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />NTSC and PAL games boot fine, but they are glitchy, so the mod "works". Official unaltered games.
<br />
<br />Some games have a non glitchy logo, or some animation working but other issues. Most of the time 90% of the screen is garbled.
<br />
<br />Mods are exact as the pictures on wolfsoft.de. I use duo led with grounded pin 7. The LED is also broken. It only lights red and nothing. If I keep reset pushed it switches between red on and off.
<br />
<br />I guess I will wait and see if you fix it, as I have a Powerpak on the way.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>ikari_01</b> [ Tue Apr 26, 2011 1:47 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The SuperCIC firmware is not capable of pulling such a feat <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" />
<br />
<br />You either have:
<br /> - serious mistakes in the wiring
<br /> - corrupted/wrong hex files
<br /> - wrong fuse settings (they are included in the hex file)
<br /> - defective PICs (unlikely because there are two mods with the same errors)
<br />
<br />However none of the above, except wiring errors, can cause graphical glitches. Are they colorful and blocky/pixeled or do they rather look like a loss of synchronization?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Hilmarf</b> [ Tue Apr 26, 2011 1:54 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />"good" to hear <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" />..
<br />
<br />edit:
<br />
<br />ok so I've checksum tested the hex vs the one you posted.. identical
<br />
<br />...that narrows it down to wiring...
<br />
<br />Could I be using to thin wire any place that would cause such a problem?
<br />
<br />See any mistakes here?
<br /><!-- m --><a class="postlink" href="http://wolfsoft.de/wordpress/?p=686">http://wolfsoft.de/wordpress/?p=686</a><!-- m -->
<br />
<br />Edit: They look like loss of syncronization..yes
<br />
<br />
<br />
<br />
<br />Ahhh.. I really want to get to the bottom of this <img src="./images/smilies/icon_sad.gif" alt=":(" title="Sad" />
<br />This makes me depressed.
<br />
<br />Really appriciate if you help me troubleshoot Ikari! (like you already do ^^)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>ikari_01</b> [ Tue Apr 26, 2011 2:08 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Nope, the Wolfsoft mods are 100% correct. Klaus confirmed correct operation to me personally. <img src="./images/smilies/icon_wink.gif" alt=";)" title="Wink" /> (and he shows in the videos that they work even with a US SNES)
<br />
<br />You shouldn't use terribly thin wire for the power supply pins (1 and 14), otherwise it does not matter much. Also keep all the wiring as short as possible.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Hilmarf</b> [ Tue Apr 26, 2011 2:16 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />They are terrible thin.....Bought a terribly thing spindle of wire from china. Last mod I did I used thicker gauge on power. Maybe that indeed is the problem. Thank you sir for helping.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>ikari_01</b> [ Tue Apr 26, 2011 2:17 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />OK, loss of sync <em>might</em> mean the SuperCIC has switched to "pair mode". It's a special mode that can (usually) be entered when there is a SuperCIC key present on the cartridge, with its pair mode configuration pin enabled. In pair mode, 50/60Hz can be remote controlled from the cartridge.
<br />
<br />The SuperCIC lock can sometimes enter unsolicited pair mode when it doesn't run synchronously with the CIC key on the cartridge, i.e. when its clock source fuse (FOSC) is set to internal clock. It should be set to "EC" (external clock, 0x0003).
<br />
<br />If pair mode is entered without an aware counterpart (=SuperCIC key) then pulses on the data lines, sent by the CIC key, can cause rapid switching between 50Hz and 60Hz.
<br />
<br />To see if the SuperCIC is really in pair mode, push reset. If the console resets immediately (as it would without a SuperCIC present) pair mode is engaged.
<br />
<br />Pair mode does not explain the strange LED behaviour though.
<br />
<br />Also triple-check for ever so tiny solder bridges on the PPU pins.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>10</strong> of <strong>17</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>