<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="http://forums.nesdev.com/feed.php?f=6&amp;t=495" />

<title>nesdev.com</title>
<subtitle>NES Development and Strangulation Records message boards</subtitle>
<link href="http://forums.nesdev.com/index.php" />
<updated>2005-08-29T12:22:18-07:00</updated>

<author><name><![CDATA[nesdev.com]]></name></author>
<id>http://forums.nesdev.com/feed.php?f=6&amp;t=495</id>
<entry>
<author><name><![CDATA[dXtr]]></name></author>
<updated>2005-08-29T12:22:18-07:00</updated>
<published>2005-08-29T12:22:18-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=495&amp;p=4142#p4142</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=495&amp;p=4142#p4142"/>
<title type="html"><![CDATA[Viable game sound and music solution]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=495&amp;p=4142#p4142"><![CDATA[
well my track'n'field fingers didn't make this versions sounds get stuck ^^<br />so I think you fixed it<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=15">dXtr</a> — Mon Aug 29, 2005 12:22 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[mbrenaman]]></name></author>
<updated>2005-08-29T10:37:29-07:00</updated>
<published>2005-08-29T10:37:29-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=495&amp;p=4138#p4138</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=495&amp;p=4138#p4138"/>
<title type="html"><![CDATA[Viable game sound and music solution]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=495&amp;p=4138#p4138"><![CDATA[
Welp, I hope no more work needs to be done for it, for now, so I can continue with my game. I just wanted to make sure everything was setup perfectly before I started using it in my project. Maybe after I take a break from it I'll put together some documentation on using it.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=153">mbrenaman</a> — Mon Aug 29, 2005 10:37 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[blargg]]></name></author>
<updated>2005-08-29T10:32:36-07:00</updated>
<published>2005-08-29T10:32:36-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=495&amp;p=4137#p4137</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=495&amp;p=4137#p4137"/>
<title type="html"><![CDATA[Viable game sound and music solution]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=495&amp;p=4137#p4137"><![CDATA[
Trying for perfection on first releases is inefficient, since this leads to lots of small fixes delivered in a short time frame. As long as what you deliver is usable and clearly maintainable, fixes don't have to be made immediately. Minor bugs are usually acceptable as long as they will be fixed in the next release.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=17">blargg</a> — Mon Aug 29, 2005 10:32 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[mbrenaman]]></name></author>
<updated>2005-08-29T08:50:13-07:00</updated>
<published>2005-08-29T08:50:13-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=495&amp;p=4132#p4132</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=495&amp;p=4132#p4132"/>
<title type="html"><![CDATA[Viable game sound and music solution]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=495&amp;p=4132#p4132"><![CDATA[
Ok ok.... sorry about that everyone. I think everything is in order. Same link as above.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=153">mbrenaman</a> — Mon Aug 29, 2005 8:50 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[mbrenaman]]></name></author>
<updated>2005-08-29T08:40:13-07:00</updated>
<published>2005-08-29T08:40:13-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=495&amp;p=4131#p4131</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=495&amp;p=4131#p4131"/>
<title type="html"><![CDATA[Viable game sound and music solution]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=495&amp;p=4131#p4131"><![CDATA[
<div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />mbrenaman &gt; don't know if this is an bugg or not.. but if you push the A and B buttons repeatedly really fast you can make the sounds get stuck. it's easiest to do it when the music is off.<br /></div><br /><br />Oh man... Sorry about that. Thanks for trying it out. I thought I had fixed it. It should be fixed now plus sounds should also not hang during the transition from music on to music off.<br /><br />The fixed version is at the same link as above.<br /><br />EDIT : Darn it, nevermind. I just remembered to try during the transition from music off to on and it screwed up abit.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=153">mbrenaman</a> — Mon Aug 29, 2005 8:40 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[dXtr]]></name></author>
<updated>2005-08-29T03:07:06-07:00</updated>
<published>2005-08-29T03:07:06-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=495&amp;p=4128#p4128</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=495&amp;p=4128#p4128"/>
<title type="html"><![CDATA[Viable game sound and music solution]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=495&amp;p=4128#p4128"><![CDATA[
mbrenaman &gt; don't know if this is an bugg or not.. but if you push the A and B buttons repeatedly really fast you can make the sounds get stuck. it's easiest to do it when the music is off.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=15">dXtr</a> — Mon Aug 29, 2005 3:07 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[mbrenaman]]></name></author>
<updated>2005-08-29T01:19:04-07:00</updated>
<published>2005-08-29T01:19:04-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=495&amp;p=4127#p4127</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=495&amp;p=4127#p4127"/>
<title type="html"><![CDATA[Viable game sound and music solution]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=495&amp;p=4127#p4127"><![CDATA[
Well, thanks to blargg, Soundy's been tested on the real NES. I fixed two small bugs and viola <a href="http://mbrenaman.com/soundy_1_1_2.zip" class="postlink">http://mbrenaman.com/soundy_1_1_2.zip</a><br /><br />And I suppose that's it. Thank you everyone and I'll thank blargg just one more time.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=153">mbrenaman</a> — Mon Aug 29, 2005 1:19 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[blargg]]></name></author>
<updated>2005-08-28T15:32:43-07:00</updated>
<published>2005-08-28T15:32:43-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=495&amp;p=4121#p4121</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=495&amp;p=4121#p4121"/>
<title type="html"><![CDATA[Viable game sound and music solution]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=495&amp;p=4121#p4121"><![CDATA[
I've posted my reply to the thread <a href="http://nesdev.com/bbs/viewtopic.php?p=4120#4120" class="postlink">"Vibrato on square without phase reset"</a>, since your questions are about the technique rather than the Soundy driver.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=17">blargg</a> — Sun Aug 28, 2005 3:32 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Bregalad]]></name></author>
<updated>2005-08-28T12:31:58-07:00</updated>
<published>2005-08-28T12:31:58-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=495&amp;p=4113#p4113</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=495&amp;p=4113#p4113"/>
<title type="html"><![CDATA[Viable game sound and music solution]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=495&amp;p=4113#p4113"><![CDATA[
Cool ! This is great if that method was successfull ! I'm gonna to use it someday, and I've now no reason to stay away from vibratoes/slides in the next sound code I'll write. However...<br />I ask myself why you said #$0f would be written in the sweep units when not wrapping around freq for vibratoes. I understand that the bit 7 should be clear, but scince it's clear the sweep units are totally disabled and have no effect, exept for limited frequency below very small periods (that would be dog whistle or somthing), and bit 3 should be set (down2up sweep) if a frequencey period above $3ff is used (if the 11th bit is set), else the sweep unit will disable the channel when a high period is deteced in up2down mode, even if disabled.<br />However, writing $08 or $0f shouldn't make any difference, or does it ?<br />Also, does writing $40 or $c0 to $4017 while clocking the sweep units manyally make any difference ? And when not clocking them, what should it be written to ?<br /><br />About the sound effects, it's sure the big flaw of this method. All hardware stuff is used to :<br />- Timelengt conter : Only few games uses it, and it can be done very easily with software, and it can be 100% replaced by software, scince it has a one-frame precision, and scince one APU frame is more or less the same than one PPU frame, it'll have the exact same precision.<br />- Triangle timer : This timer feathures more precision, (1/4 of an APU frame or am I wrong ?), so it can't be 100% replaced by software. I think a programm that would write every frame a timing value between $1 and $3 in the timer register, the result will be 1/4, 1/2 and 3/4 of a frame (from now I'll cale frame both PPU frame and APU frames, scince I'll consider them to be equivalent), so it can be shorter and make special "buzzy" sound effects. However, I'm not very sure of this.<br />- Decay unit : This one has sure few precision and I'm sure the software can 100% replace all it's features, with one-frame precision.<br />- Sweep unit : Here you are where the big problem is. I think the sweep units in slow rates can be easily replaced with software, that allow more precision while sweeping so it's definitely better. But, with very fast value, it's able to refresh the frequencey at 1/2 frame percision, which isn't negligable while doing gruble sound effects and this is probably pretty much needed for a game that would have better SFX than just beeps and bleeps. This allow very fast frequencey variations, and eventually make dynamic and cool effects. I'm very unsure on what would be the best results without using them. Maybe the same precision could be reached if the sound code would be triggered twice per frame : One time with the PPU's NMI, and one time with a frame IRQ. However, scince $4017 is manually clocked, the frame IRQ couldn't work as we wan't it to, so scanline IRQ would be needed.<br />Any comment/corrections/ideas, blargg ?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=38">Bregalad</a> — Sun Aug 28, 2005 12:31 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[blargg]]></name></author>
<updated>2005-08-28T10:54:44-07:00</updated>
<published>2005-08-28T10:54:44-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=495&amp;p=4106#p4106</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=495&amp;p=4106#p4106"/>
<title type="html"><![CDATA[Viable game sound and music solution]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=495&amp;p=4106#p4106"><![CDATA[
I realized that the new sweep code will prevent sound effects from using the sweep unit. The other limitations aren't a problem for the music driver, but I think this might be since sweeps are very useful for sound effects.<br /><br />I also found a problem with the NSF, due apparently to the assembler generating bad code (nasty!). I've reported the details privately.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=17">blargg</a> — Sun Aug 28, 2005 10:54 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[mbrenaman]]></name></author>
<updated>2005-08-28T08:20:02-07:00</updated>
<published>2005-08-28T08:20:02-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=495&amp;p=4102#p4102</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=495&amp;p=4102#p4102"/>
<title type="html"><![CDATA[Viable game sound and music solution]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=495&amp;p=4102#p4102"><![CDATA[
Welp blargg, it seems to work. I've done some more work and added your solution and have uploaded a new version <a href="http://mbrenaman.com/soundy_1_1_0.zip" class="postlink">http://mbrenaman.com/soundy_1_1_0.zip</a>. Works in Nintendulator, hope it'll work on the real thing.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />When you was a kid ? I love it right now, personally  <br />Actually, after comparing the two song more seriousely, I think if you would hack Megaman 2 to put your music insted of the original one in Bubbleman stage, nobody would notice it until the final part of the song that is a bit different, exept diehard megaman fans like probably a lot of people in there.<br /></div><br /><br />I meant that as that was the first time I heard it. I have my own NSF collection that I listen to at my computer. Of course, if anyone here found out I would be the subject of much reticule &gt;ha ha&lt;.<br /><br />The tunes sound quite similiar indeed though. The difference's are mainly the key (mine - Ab, megaman 2 Bubbleman tune - Eb) and the format of part C. Did I do it on purpose, yes... But it came out more similiar then I expected &gt;hehe&lt;..<br /><br />Anyways, thanks everyone.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=153">mbrenaman</a> — Sun Aug 28, 2005 8:20 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Bregalad]]></name></author>
<updated>2005-08-26T23:57:57-07:00</updated>
<published>2005-08-26T23:57:57-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=495&amp;p=4086#p4086</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=495&amp;p=4086#p4086"/>
<title type="html"><![CDATA[Viable game sound and music solution]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=495&amp;p=4086#p4086"><![CDATA[
<div class="quotetitle">blargg wrote:</div><div class="quotecontent"><br />See the thread <a href="http://nesdev.com/bbs/viewtopic.php?t=231" class="postlink">"Vibrato on square without phase reset"</a> for demo code and a ROM that show exactly how to do this. I might look into modifying Soundy to do this if nobody else does.<br /></div><br />Yeah, I just remembered that he's got one solution. However, it would work only if you don't use decay unit, sweep units and timelenght counters *at all* in your sound code. This should be okay since you're handling that stuff with software.<br />The common way to do this is effectively to write to $4002/6 anyway, but to be carefull to write only to $4003/7 if the value is different from the previous ones. This needs more variable, but this can be skipped for triangle and noise channels.<br />Else, the pitch slides would be okay because you'd write only once to the high frequencey register, and the clicks wouldn't be really noticable, but for vibratoes arround A, the period will *regulary* be reseted, and you'll have very noticable clicks. You can do as blargg says, or else, another fine method is just to xor the frequencey with 1 regulary. You'll be holding only little vibrato dephts, but the period will never be resseted, even with the infamous A2 note, that is $0fe (%000 - %1111'1110) on NTSC, and it definitely can't have depht more than one single step, else it would crunckle.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />Yea, when I was a kid, I really loved the megaman series music. So you can see I've been watching those tunes in gnsf and kinda adapting the style.<br /></div><br />When you was a kid ? I love it right now, personally  <img src="http://forums.nesdev.com/images/smilies/icon_wink.gif" alt=":wink:" title="Wink" /> <br />Actually, after comparing the two song more seriousely, I think if you would hack Megaman 2 to put your music insted of the original one in Bubbleman stage, nobody would notice it until the final part of the song that is a bit different, exept diehard megaman fans like probably a lot of people in there.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=38">Bregalad</a> — Fri Aug 26, 2005 11:57 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[blargg]]></name></author>
<updated>2005-08-26T18:06:44-07:00</updated>
<published>2005-08-26T18:06:44-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=495&amp;p=4078#p4078</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=495&amp;p=4078#p4078"/>
<title type="html"><![CDATA[Viable game sound and music solution]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=495&amp;p=4078#p4078"><![CDATA[
<div class="quotetitle">tepples wrote:</div><div class="quotecontent"><br />If you want to make your pitch slides [i]really[i] smooth, try turning on the slide unit only when the period is about to cross a multiple of 256, so that you don't have to write to $4003 except on a new note. It's tricky, but it's probably doable.<br /></div><br /><br />See the thread <a href="http://nesdev.com/bbs/viewtopic.php?t=231" class="postlink">"Vibrato on square without phase reset"</a> for demo code and a ROM that show exactly how to do this. I might look into modifying Soundy to do this if nobody else does.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=17">blargg</a> — Fri Aug 26, 2005 6:06 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2005-08-26T17:07:53-07:00</updated>
<published>2005-08-26T17:07:53-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=495&amp;p=4077#p4077</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=495&amp;p=4077#p4077"/>
<title type="html"><![CDATA[Viable game sound and music solution]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=495&amp;p=4077#p4077"><![CDATA[
<div class="quotetitle">mbrenaman wrote:</div><div class="quotecontent"><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">About the period resed, I think you should avoid re-writing to $4003/$4007 during a note, exept if you want do this to have a grumble effect like Just Breed does. This cause problems for some vibratoes<br /></div><br />So should I use the sweep unit to do my pitch changes?</div><br />If you write to $4002/$4006 every frame and then write to $4003/$4007 only when necessary, you'll get clicks only around a few pitches, those called A-0, B-0, D-1, F-1, A-1, D-2, A-2, and A-3 in NT2. If you want to make your pitch slides [i]really[i] smooth, try turning on the slide unit only when the period is about to cross a multiple of 256, so that you don't have to write to $4003 except on a new note. It's tricky, but it's probably doable.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Fri Aug 26, 2005 5:07 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[mbrenaman]]></name></author>
<updated>2005-08-26T16:03:48-07:00</updated>
<published>2005-08-26T16:03:48-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=495&amp;p=4075#p4075</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=495&amp;p=4075#p4075"/>
<title type="html"><![CDATA[Viable game sound and music solution]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=495&amp;p=4075#p4075"><![CDATA[
<div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />Ha, no, I didn't notice that... I missed the whole .nsf itself actually, went straight for the .nes  I noticed there are some sounds that happen when pushing A and B in the .nes file. Are these sounds going to be part of your game?<br /></div><br /><br />Kinda, the nes file is a test program for the sound stuff. Pressing A or B makes a test sound, Start resets the music, and Select stops it. The code is setup to play sound effects but only for one channel. That's why I made the test rom to make sure everything worked right, though those specific sounds might not be in my game.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=153">mbrenaman</a> — Fri Aug 26, 2005 4:03 pm</p><hr />
]]></content>
</entry>
</feed>