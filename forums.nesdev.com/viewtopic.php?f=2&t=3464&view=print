<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Possibility: Disasseblies of both SMB2 and Doki Doki Panic</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Possibility: Disasseblies of both SMB2 and Doki Doki Panic</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=2&amp;t=3464">http://forums.nesdev.com/viewtopic.php?f=2&amp;t=3464</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Hamtaro126</b> [ Sat Jun 30, 2007 6:23 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Possibility: Disasseblies of both SMB2 and Doki Doki Panic</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />This is NOT a request! although someone could, 
<br />
<br />Is it possible for somebody (with my help) to:
<br />
<br />1:Make source code for SMB2 and DDP (And SMB2 Proto?)
<br />
<br />2:Port DDP's Code to NES
<br />
<br />AND
<br />
<br />3: Make a mix of SMB2 with DDP! (Prototype-like Code)
<br />
<br />I know it is not impossible to disassemble games, But it looks like we really need to get down to the nitty gritty of SMB2 and DDP's code!
<br />
<br />This project should be for Loopy and/or Doppleganger to work on!
<br />
<br />For Doppleganger: Make sure you put the CHaRacter banks in the ZIP next time
<br />
<br />NOTE: Turning a FDS Game into NES is as easy as Knowing ASM, Just use Address changes 
<br />
<br />Also, This is just my opinion! Do not think it will happen fast!
<br />
<br />-Hamtaro126
<br />
<br />EDIT: This tool should help you along the way!
<br />
<br /><a href="http://www.romhacking.net/utils/FDSExplorer_V1.3b.zip" class="postlink">http://www.romhacking.net/utils/FDSExplorer_V1.3b.zip</a>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>commodorejohn</b> [ Sat Jun 30, 2007 8:27 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />1. Why, precisely, is porting this so important? There's really no point unless you have a devcart you want DDP on (and it'd be much easier to just graphics-hack SMB2 back to DDP, disable the B-button run, and enable infinite continues than do a full disassembly.)
<br />
<br />2. It's never going to get done unless you do it yourself. Nobody else is particularily desperate to play DDP on real hardware, and if they were they could just build an FDSLoadr cable like I did (I'm assuming a significant number of us have Famiclones or actual Famicoms, or at least an FC-&gt;NES converter.) Nobody really wants this done but you, and nagging people isn't going to suddenly convince them to do it.
<br />
<br />3. Turning an FDS game into a NES game <em>begins</em> with address changes. If the game is larger than 32KB or uses the FDS timer or sound hardware, there's going to be a <em>lot</em> more work involved.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>doppelganger</b> [ Sat Jun 30, 2007 8:33 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Possibility: Disasseblies of both SMB2 and Doki Doki Pan</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Okay...several points I want to make here.
<br />
<br />1. Saying something isn't a request doesn't necessarily make it not a request.
<br />2. Point number one being the case, WE DO NOT TAKE REQUESTS.
<br />3. If someone reverse-engineered Doki Doki Panic or SMB2, why would they need to do the other one also?
<br />4. Do we really in fact *need* to get to the nitty-gritty of anything?
<br />5. Doki-Doki Panic's code has already been ported to the NES in the form of SMB2!
<br />6. I'm not really going to touch your item number three, since it looks redundant.
<br />7. The disassembly of SMB was for the program rom, not the character rom, hence the character banks were not included.  They don't really need to be reverse-engineered anyway...as I have already made an incredibly thorough memory map of both the program AND character roms (I posted the link at the bottom).
<br />8. Porting an FDS game is not always as easy as address changes, as I'm sure the person who did the NES hack of SMB2j will attest (I don't remember who you are, will you speak up on this?)
<br />9. If you want something done so badly, do what I did and do it yourself.
<br />
<br /><a href="http://www.geocities.com/deethefigurine/smbmem.txt" class="postlink">http://www.geocities.com/deethefigurine/smbmem.txt</a>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>oRBIT2002</b> [ Sun Jul 01, 2007 1:29 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Possibility: Disasseblies of both SMB2 and Doki Doki Pan</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Hamtaro126 wrote:</div><div class="quotecontent"><br />EDIT: This tool should help you along the way!<br /><br /><a href="http://www.romhacking.net/utils/FDSExplorer_V1.3b.zip" class="postlink">http://www.romhacking.net/utils/FDSExplorer_V1.3b.zip</a></div>
<br />
<br />Wow, my tool has ended up on Romhacking.net.. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dwedit</b> [ Sun Jul 01, 2007 4:38 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Porting an FDS game to Mapper 42 on the other hand...

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Mon Jul 02, 2007 3:06 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Wouldn't it be easier to port those FDS games that don't use obscure copy authentication techniques to PowerPak, given that PowerPak has a healthy amount of RAM in $6000-$DFFF? We'd just need a BIOS replacement that fakes FDS file reads as FAT file reads.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dwedit</b> [ Mon Jul 02, 2007 7:09 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />You don't need to be able to access FAT, you just need to preload the 128k of disk data to some other banks.  Then when you need to read off the disk, just bankswitch and read.
<br />Writing to the disk on the other hand...

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>kevtris</b> [ Mon Jul 09, 2007 10:14 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Dwedit wrote:</div><div class="quotecontent">Porting an FDS game to Mapper 42 on the other hand...</div>
<br />
<br />No need... those enterprising pirates already did it.
<br />
<br />I dumped and emulated a pirate doki doki panic cart.  It seems to be exactly like the FDS version, including the FDS sound (if you enable that in your emulator)!  Seems to play the same and everything.  The only diff is you can't save your progress to disk of course.
<br />
<br />Emulating it is... fun to say the least.  Getting it to work on emulators might be fun and tricky since it uses odd banking, and stuff like RAM under ROM.  (you can write to ROM which writes to RAM underneath, then you switch the ROM out) and it has some other totally bizarre functionality too.
<br />
<br />I have a document I wrote for it but I don't know if it's complete;  I dumped this awhile back and never released it.  I got it working on my FPGA NES though so I know the dump is good.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Josh</b> [ Tue Jul 10, 2007 10:30 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">kevtris wrote:</div><div class="quotecontent">it uses odd banking, and stuff like RAM under ROM.  (you can write to ROM which writes to RAM underneath, then you switch the ROM out)</div><br /><br />Hmm. Interesting. This was standard practice on the Commodore 64 (which also used a 6502 derivative) but I haven't seen it in any NES/Famicom games previously.<br /><br /><div class="quotetitle">kevtris wrote:</div><div class="quotecontent">I have a document I wrote for it but I don't know if it's complete;  I dumped this awhile back and never released it.  I got it working on my FPGA NES though so I know the dump is good.</div>
<br />
<br />Any chance you could post the partial document on your website?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>commodorejohn</b> [ Wed Jul 11, 2007 7:51 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Hmm, I'd thought about the write-redirecting thing for an idea I had (an updated FDS-type thing using standard 3.5" floppies,) just to give it more RAM while keeping the BIOS in the same place. Interesting.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>NotTheCommonDose</b> [ Wed Jul 11, 2007 3:05 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />[quote=&quot;Josh&quot;][quote=&quot;kevtris&quot;]it uses odd banking, and stuff like RAM under ROM.  (you can write to ROM which writes to RAM underneath, then you switch the ROM out)[/quote]
<br />
<br />Hmm. Interesting. This was standard practice on the Commodore 64 (which also used a 6502 derivative) but I haven't seen it in any NES/Famicom games previously.
<br />
<br />[quote=&quot;kevtris&quot;]I have a document I wrote for it but I don't know if it's complete;  I dumped this awhile back and never released it.  I got it working on my FPGA NES though so I know the dump is good.[/quote]
<br />
<br />Any chance you could post the partial document on your website?[/quote]
<br />
<br />Or the pirate cart for use in emulators?

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>