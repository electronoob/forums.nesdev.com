<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Resampling and Solstice records</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Resampling and Solstice records</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=3&amp;t=9374">http://forums.nesdev.com/viewtopic.php?f=3&amp;t=9374</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Eugene.S</b> [ Sun Oct 07, 2012 8:14 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Resampling and Solstice records</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Hi, nesdev. I have an interesting question.<br />Why Retrocopy sounds <strong>much better</strong> than other emulators and even <strong>real chip(!)</strong>, without a &quot;ladder&quot; effect?<br />Here is records from Solstice. It was done from Dendy with TA-03NP1-chip<br /><a href="http://www.fileden.com/files/2012/4/10/3290288/Solstice_ta03np1.flac" class="postlink">Dendy TA-03NP1</a> (it doesn't have duty cycles bug)<br /><a href="http://www.fileden.com/files/2012/4/10/3290288/Solstice_retrocopy.flac" class="postlink">Retrocopy</a>, quality=&quot;<a href="http://savepic.su/2589300.htm" class="postlink">HolyShit</a>&quot;, cutoff=&quot;disabled&quot;<br /><br />And here is recordings from other emulators: <br /><a href="http://www.fileden.com/files/2012/4/10/3290288/nestopia_solstice.flac" class="postlink">Nestopia</a><br /><a href="http://www.fileden.com/files/2012/4/10/3290288/nintendulator_solstice.flac" class="postlink">Nintendulator</a><br /><a href="http://www.fileden.com/files/2012/4/10/3290288/punes_solstice.flac" class="postlink">puNES</a>, quality=&quot;high&quot;<br /><a href="http://www.fileden.com/files/2012/4/10/3290288/nesicide_solstice.flac" class="postlink">Nesicide</a> (1.020)<br /><br /><a href="http://www.fileden.com/files/2012/4/10/3290288/bsnes_solstice_ntsc.flac" class="postlink">bsnes_ntsc_mode</a>, resampler=&quot;sinc&quot;<br /><a href="http://www.fileden.com/files/2012/4/10/3290288/fceux_solstice_ntsc.flac" class="postlink">fceux_ntsc_mode</a>, quality=&quot;highest&quot;<br /><a href="http://www.fileden.com/files/2012/4/10/3290288/rocknes_solstice_ntsc.flac" class="postlink">rocknes_ntsc_mode</a>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>rainwarrior</b> [ Sun Oct 07, 2012 10:18 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Resampling and Solstice records</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Well, right off the bat it starts with periodic noise, which is not really a fair sound to compare, since there is not really a way to initialize it predictably on hardware. Every playback is going to have a different tone. (Similarly, different emulators will probably start with it intialized differently.)<br /><br />Other than the noise, what exactly are you comparing, and what do you like about Retrocopy, specifically? Also, what is a &quot;ladder&quot;?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Eugene.S</b> [ Sun Oct 07, 2012 11:27 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Resampling and Solstice records</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Also, what is a &quot;ladder&quot;?</div><br />First part of song recorded from real chip (with &quot;ladder&quot; effect), second part recorded from retrocopy (without &quot;ladder&quot;).<br /><!-- m --><a class="postlink" href="http://www.fileden.com/files/2012/4/10/3290288/1.ladder%202.no-ladder.flac">http://www.fileden.com/files/2012/4/10/ ... adder.flac</a><!-- m --><br /><br />I mean &quot;Ladder&quot; is discrete fading:<br /><a href="http://savepic.su/2682262.htm" class="postlink"><img src="http://savepic.su/2682262m.png" alt="Image" /></a><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">and what do you like about Retrocopy, specifically?</div><br />High-frequences are much clean and clear than other emulators have.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>rainwarrior</b> [ Sun Oct 07, 2012 5:10 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Resampling and Solstice records</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Oh, well, yes, the &quot;ladder&quot; style is how the hardware does it, though I'm not sure that really makes a whole lot of difference in the sound.<br /><br />Still, periodic noise is the worst thing you can possibly be comparing between NES emulators and hardware, if you want to find out anything about what's going on. As I've said, the shape of the noise is random from moment to moment and can't be reliably set.<br /><br />Many emulators (and the NES itself) have a lowpass filter dampening some of the higher frequency output from the 2A03. If you want to skip the filter, some players (e.g. <a href="http://rainwarrior.ca/projects/nsfplay/" class="postlink">NSFPlay</a>) are configurable.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Grapeshot</b> [ Sun Oct 07, 2012 8:05 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Resampling and Solstice records</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The difference there is the high pass filter used to remove any DC offset. The NES only had a single ended voltage supply, so the audio output was between 0 and 5 volts at all times. Most other equipment expects to receive a signal with no DC offset, so an RC high pass filter was used to eliminate the DC offset in the output signal.<br /><br />Most emulators do things the same way, producing the audio signal as an unsigned number and then applying a simple single pole high pass filter to prevent popping sounds when stopping or starting games. This also means that it's simple to use a table to emulate the nonlinearity of the original NES DAC.<br /><br />Retrocopy on the other hand seems to generate unsigned audio samples directly and doesn't use a high pass filter. This probably also means that it doesn't emulate the nonlinear DAC correctly, and the level of the DMC output won't affect the volume of the triangle channel the way it should. However it does sound &quot;cleaner&quot; than a real NES.<br /><br />Compare the output in these 2 versions of my emulator (turn filtering on in the settings first).<br /><br /><!-- m --><a class="postlink" href="http://code.google.com/p/halfnes/downloads/detail?name=HalfNES%200.051.zip">http://code.google.com/p/halfnes/downlo ... 00.051.zip</a><!-- m --><br /><br /><!-- m --><a class="postlink" href="http://code.google.com/p/halfnes/downloads/detail?name=HalfNES%200.034.zip">http://code.google.com/p/halfnes/downlo ... 00.034.zip</a><!-- m --><br /><br />The older version is the last one before I implemented the nonlinear DAC effect.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>rainwarrior</b> [ Sun Oct 07, 2012 11:13 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Resampling and Solstice records</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />NSFPlay lets you turn off the highpass filter and the nonlinear DAC if you like (if you feel like making a quick comparison).<br /><br />I don't think the highpass filter or using a signed square wave really makes that much of an audible difference, unless your highpass filter is fairly high (for DC filtering it doesn't need to be).<br /><br />The signed square implementation probably results in quieter volume change noise (basically a very quiet 60hz hum during volume slides).<br /><br />The nonlinear DAC makes a bigger difference, though mostly by affects the sound by the adjustment of triangle/noise/DMC volumes, as you mentioned, Grapeshot. It also colours the sound a little, but that's kinda subtle.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>