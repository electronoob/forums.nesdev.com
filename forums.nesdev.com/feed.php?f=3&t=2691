<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="http://forums.nesdev.com/feed.php?f=3&amp;t=2691" />

<title>nesdev.com</title>
<subtitle>NES Development and Strangulation Records message boards</subtitle>
<link href="http://forums.nesdev.com/index.php" />
<updated>2006-11-21T01:56:22-07:00</updated>

<author><name><![CDATA[nesdev.com]]></name></author>
<id>http://forums.nesdev.com/feed.php?f=3&amp;t=2691</id>
<entry>
<author><name><![CDATA[baisoku]]></name></author>
<updated>2006-11-21T01:56:22-07:00</updated>
<published>2006-11-21T01:56:22-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=2691&amp;p=19701#p19701</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=2691&amp;p=19701#p19701"/>
<title type="html"><![CDATA[CPU opcode timing test]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=2691&amp;p=19701#p19701"><![CDATA[
blargg, wow zexall is <strong>crazy</strong>. that wild hair is bugging me and i think i'll put together an NES image of W.L.'s tests once i dequeue enough other high priority tasks.<br />And yes, z80 is an ugly, ugly thing.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=35">baisoku</a> — Tue Nov 21, 2006 1:56 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[blargg]]></name></author>
<updated>2006-11-20T09:28:34-07:00</updated>
<published>2006-11-20T09:28:34-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=2691&amp;p=19678#p19678</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=2691&amp;p=19678#p19678"/>
<title type="html"><![CDATA[CPU opcode timing test]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=2691&amp;p=19678#p19678"><![CDATA[
There are three different tests that can be performed based on what buttons you hold when the test is starting: official opcodes only, official + the various NOPs, and all (except branches, since I released a separate test for them). The readme summarizes how the NOPs behave, and they're simple to implement. The verified timing tables are there too.<br /><br />baisoku, yeah, the zexall test also used one BIOS routine at address 5 to print characters and strings, so I had to write a simple shell for it. Simpler than tracking down a Z80 assembler and getting the sources reassembled.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=17">blargg</a> — Mon Nov 20, 2006 9:28 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Zepper]]></name></author>
<updated>2006-11-20T07:56:47-07:00</updated>
<published>2006-11-20T07:56:47-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=2691&amp;p=19676#p19676</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=2691&amp;p=19676#p19676"/>
<title type="html"><![CDATA[CPU opcode timing test]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=2691&amp;p=19676#p19676"><![CDATA[
Zero page? Not implicit? So, I guess... Fixed. <br />Guess I'll take a break about unimplemented opcodes... 0Ch.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=39">Zepper</a> — Mon Nov 20, 2006 7:56 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[hap]]></name></author>
<updated>2006-11-20T07:45:53-07:00</updated>
<published>2006-11-20T07:45:53-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=2691&amp;p=19675#p19675</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=2691&amp;p=19675#p19675"/>
<title type="html"><![CDATA[CPU opcode timing test]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=2691&amp;p=19675#p19675"><![CDATA[
Opcode 4 is an undocumented zeropage NOP. Perhaps another bug in the addressing mode?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=115">hap</a> — Mon Nov 20, 2006 7:45 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Zepper]]></name></author>
<updated>2006-11-20T06:53:49-07:00</updated>
<published>2006-11-20T06:53:49-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=2691&amp;p=19674#p19674</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=2691&amp;p=19674#p19674"/>
<title type="html"><![CDATA[CPU opcode timing test]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=2691&amp;p=19674#p19674"><![CDATA[
<strong>Wait...</strong><br />Are there TWO versions of that 6502 timing test? One says "Official instructions only" (16 seconds) 09/20/2006, and PASSED. The other says 12 seconds (09/14/2006) and it gives error on opcode 04h (emulator 4, correct 3).<br /><br />So... what's up??? -_-;;<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=39">Zepper</a> — Mon Nov 20, 2006 6:53 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[baisoku]]></name></author>
<updated>2006-11-19T20:29:15-07:00</updated>
<published>2006-11-19T20:29:15-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=2691&amp;p=19668#p19668</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=2691&amp;p=19668#p19668"/>
<title type="html"><![CDATA[CPU opcode timing test]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=2691&amp;p=19668#p19668"><![CDATA[
So i was able to find the original disk images of the CPU tests i spoke of above. I converted from .D64 -&gt; Turbo Macro Pro assembler .ASM format, then to plaintext assembler. It should be relatively easy to convert this to something that will assemble for nes.<br />You can find them here: <a href="http://www.baisoku.org/pc64test.zip" class="postlink">http://www.baisoku.org/pc64test.zip</a><br />If anyone makes something useful out of this, let me know. I might get a wild hair and do something myself.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=35">baisoku</a> — Sun Nov 19, 2006 8:29 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[baisoku]]></name></author>
<updated>2006-11-19T20:29:44-07:00</updated>
<published>2006-11-19T18:14:34-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=2691&amp;p=19658#p19658</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=2691&amp;p=19658#p19658"/>
<title type="html"><![CDATA[CPU opcode timing test]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=2691&amp;p=19658#p19658"><![CDATA[
Sounds similar to the testsuite that i used to use for my 6502 emulator. Wolfgang Lorenz (PC64) wrote a whole bunch of C64 6510 tests, each opcode having its own test binary. John Saeger (z26) pointed me towards these tests.<br />If i wasn't lazy, the right thing to do would have been to just disassemble them and extract the actual code, creating a megatest for all ops. But, i'm lazy, so i wrote a minimalist C64 emulation shell which had a simple memory map and handled the "output a string" system call.<br />If folks are interested, i can disassemble the code for all the tests and build a rom image.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=35">baisoku</a> — Sun Nov 19, 2006 6:14 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[blargg]]></name></author>
<updated>2006-11-19T17:57:41-07:00</updated>
<published>2006-11-19T17:57:41-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=2691&amp;p=19656#p19656</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=2691&amp;p=19656#p19656"/>
<title type="html"><![CDATA[CPU opcode timing test]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=2691&amp;p=19656#p19656"><![CDATA[
Nice to hear you're passing the CPU timing test. Seems like you spent a lot of time tracking down problems a month or two ago.<br /><br />Along the lines of this test, I recently wrote a Z80 emulator (an ugly, ugly processor) and found a great test suite called <a href="http://www.mdfs.net/Software/Z80/Exerciser/" class="postlink">zexall</a> which tries millions of test cases on all instructions and catches very obscure problems. I want to figure out how it works and write an equivalent for the 6502. The beauty of its design is that it just takes a 32-bit checksum of every intermediate processor state and compares these with the correct value when run on the real thing, so the code itself is quite short. Unfortunately it can't give you much detail on the problem, so you have to run in parallel with a CPU core that passes the test.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=17">blargg</a> — Sun Nov 19, 2006 5:57 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Zepper]]></name></author>
<updated>2006-11-19T15:05:37-07:00</updated>
<published>2006-11-19T15:05:37-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=2691&amp;p=19649#p19649</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=2691&amp;p=19649#p19649"/>
<title type="html"><![CDATA[CPU opcode timing test]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=2691&amp;p=19649#p19649"><![CDATA[
Sorry to bother you, I already found the "extra" cycle. My bad, thanks anyway. The test has PASSED. ^_^<br /><br />The "extra" was in the addressing mode, an ugly bug.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=39">Zepper</a> — Sun Nov 19, 2006 3:05 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[blargg]]></name></author>
<updated>2006-11-19T14:18:35-07:00</updated>
<published>2006-11-19T14:18:35-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=2691&amp;p=19648#p19648</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=2691&amp;p=19648#p19648"/>
<title type="html"><![CDATA[CPU opcode timing test]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=2691&amp;p=19648#p19648"><![CDATA[
Did it mention "WITH PAGE CROSS" or not? Post the relevant code that emulates opcode $01 in your emulator (ORA indirect,x). It should always take 6 CPU clocks.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=17">blargg</a> — Sun Nov 19, 2006 2:18 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Zepper]]></name></author>
<updated>2006-11-19T07:57:57-07:00</updated>
<published>2006-11-19T07:57:57-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=2691&amp;p=19641#p19641</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=2691&amp;p=19641#p19641"/>
<title type="html"><![CDATA[CPU opcode timing test]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=2691&amp;p=19641#p19641"><![CDATA[
Opcode 01h with timing 7, should be 6.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=39">Zepper</a> — Sun Nov 19, 2006 7:57 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[blargg]]></name></author>
<updated>2006-11-19T07:42:46-07:00</updated>
<published>2006-11-19T07:42:46-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=2691&amp;p=19640#p19640</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=2691&amp;p=19640#p19640"/>
<title type="html"><![CDATA[CPU opcode timing test]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=2691&amp;p=19640#p19640"><![CDATA[
I'm not sure. The test is quite lenient in its NMI timing requirements, allowing for around 16 CPU cycles error in either direction. I forget, what result do you get when you run it?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=17">blargg</a> — Sun Nov 19, 2006 7:42 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Zepper]]></name></author>
<updated>2006-11-19T07:04:31-07:00</updated>
<published>2006-11-19T07:04:31-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=2691&amp;p=19639#p19639</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=2691&amp;p=19639#p19639"/>
<title type="html"><![CDATA[CPU opcode timing test]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=2691&amp;p=19639#p19639"><![CDATA[
- Let's assume the opcodes timing are correct, but still giving errors in the test ROM. If this is the case, so what could it be? Interrupts timing, as RESET/IRQ/NMI? I can't think another thing...<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=39">Zepper</a> — Sun Nov 19, 2006 7:04 am</p><hr />
]]></content>
</entry>
</feed>