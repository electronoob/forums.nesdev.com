<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - MAD-1, MAD-2, MAD-R differences?</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">MAD-1, MAD-2, MAD-R differences?</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=12&amp;t=9479">http://forums.nesdev.com/viewtopic.php?f=12&amp;t=9479</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>4</strong> of <strong>8</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>SkinnyV</b> [ Mon Nov 12, 2012 11:19 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MAD-1, MAD-2, MAD-R differences?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">byuu wrote:</div><div class="quotecontent">I'm not currently good enough at soldering to pull that off.<br /><br />In fact, I can only just barely get replacement CR2032 battery holders to work on cartridges.<br /><br />D-sub cups are the limit of my ability, and I use every trick I can. 40w iron, heat the pin hole and wire and then push solder into it, tip tinner/cleaner, rosin flux gel, heat shrink tubing after every joint made, etc.</div><br /><br /><br />No problem, I'll do it for you and send it along the chip if you want.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>nocash</b> [ Mon Nov 12, 2012 11:57 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MAD-1, MAD-2, MAD-R differences?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />&gt; <!-- m --><a class="postlink" href="http://www.skinnyv.com/misc/MAD1_Table.rar">http://www.skinnyv.com/misc/MAD1_Table.rar</a><!-- m --><br />Thanks!<br /><br />For the lines with &quot;bad&quot; markings - it looks as if you've swapped pin3 and pin4 of the MAD chip. Could you fix that and make new logs?<br /><br />And for the Vbat-vs-VCC, could you test that, too? Wiring the Vbat supply input to 5V (a bit higher than in reality, but it should survice), and the VCC supply input to GND should do it. The log should then show two &quot;bad&quot; lines for MAD-1, and... whatever for MAD-R.<br /><br />Oh and can you wait a few days before sending the chips to byuu? I'll try to make a logic table for MAD-R, and add some ok/bad auto-verify to the test program - which, maybe you could test that, too (if you've time for it), and maybe I'll come up with 1-2 other strange test ideas in next days.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>SkinnyV</b> [ Tue Nov 13, 2012 12:08 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MAD-1, MAD-2, MAD-R differences?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Ah sorry if there was a swapped pin, I had to rewire it midway because of a crap socket and must have made a mistake there. I'll definitely redump when I get home later and will do any other test you might need before shipping them to byuu. As for vbat, I can feed it what you want, doesn't have to be 5v.<br /><br />Edit: Here you go, it should be ok now (same link as before):<br /><br /><a href="http://www.skinnyv.com/misc/MAD1_Table.rar" class="postlink">http://www.skinnyv.com/misc/MAD1_Table.rar</a><br /><br />I had started with the Vbat vs VCC but the chip was getting very hot so I'll try again tomorrow with tweaked voltage (it's the middle of the night here, I only got up because I was annoyed at my pin mistake lol)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>nocash</b> [ Tue Nov 13, 2012 1:21 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MAD-1, MAD-2, MAD-R differences?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">SkinnyV wrote:</div><div class="quotecontent">As for vbat, I can feed it what you want, doesn't have to be 5v.</div><br />Then best use Vbat=3V (as with real battery) and VCC=GND (as when SNES switched off).<br /><br />Oh, just for the records, and what MAD-1 did you use? Mine is marked &quot;MAD-1, XLU2230, 443 175A&quot;.<br /><br />There is also another variant marked &quot;&lt;TexasInstrumentsLogo&gt; 49CH4VK, Nintendo(r) MAD-1&quot; (seen on a SHVC-1A3M-21 board).<br /><br />---<br /><br />I've compared MAD-1 vs MAD-R logs, and found 3 differences:<br /><br />1) In all modes, OUT4 is RESET (inverse of the /RES input) on MAD-R (and /ROM.CS for single-ROM carts on MAD-1). Maybe the &quot;R&quot; in MAD-R was meant to indicate this &quot;Reset-inverter&quot; feature. No idea what this could be used for, it'd be useful for DSP carts - but those carts are using MAD-2, not MAD-R.<br /><br />2) In LoROM mode, /ROM.CS0 and /ROM.CS1 are triggered when Addr3=Low on MAD-R (or when Addr0=High on MAD-1). Addr3 is usually wired to A22, causing the different memory mapping that byuu has discovered.<br /><br />3) And, also in LoROM mode, the /AUX output triggers when Addr2=Low on MAD-R with Addr0-1=Don't care(whilst MAD-1 wants Addr0=Low and Addr1=Low and Addr2=High). This should make no difference in practice, as the /AUX pin isn't used in any cartridges (as far as I know).<br /><br />In HiROM mode, MAD-1 and MAD-R are behaving identically (aside from the reset-inverter feature).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>nocash</b> [ Tue Nov 13, 2012 2:30 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MAD-1, MAD-2, MAD-R differences?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Here's a newer version of the parallel port test program,<br /><div class="attachtitle">Attachment:</div><div class="attachcontent">
			<span class="genmed">
				<img src="./styles/subsilver2/imageset/icon_topic_attach.gif" width="14" height="18" alt="" title="" /> 
				<a href="./download/file.php?id=170">Madr.zip</a> [4.87 KiB]
			</span><br />
			<span class="gensmall">Downloaded 31 times</span>
		

		<br />
	</div><br />mad1.com for MAD-1 is left unchanged, nothing there<br />madr.com for MAD-R is a new variant, and should display &quot;ok&quot; in all lines for the MAD-R<br />(unless I got something wrong in madr.com).<br /><br />When using Vbat instead of VCC then the /SRAM.CS output should be probably forced high on both MAD-1 and MAD-R (and display &quot;bad&quot; in places where the bit would be usually low).<br /><br />Oh, and the chip is called MAD-R, not MAD1R.LOG, please :-)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>magno</b> [ Tue Nov 13, 2012 3:16 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MAD-1, MAD-2, MAD-R differences?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />---------EDITED--------------<br /><br /><br />It looks like there is no need for me to check MAD-R since you already did it. Congratulations! <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /><br />Anyway, I'm curious about at which input voltage MAD-1 drives /SRAM = HI and Vbatt = 3.3V to enter SRAM stand-by mode.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>nocash</b> [ Tue Nov 13, 2012 4:37 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MAD-1, MAD-2, MAD-R differences?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The  SHVC-2J3M-01 schematic (you meant here <!-- l --><a class="postlink-local" href="http://forums.nesdev.com/viewtopic.php?p=102792#p102792">viewtopic.php?p=102792#p102792</a><!-- l --> right?) looks great. Oh yeah, the /RESET on SRAM CE pin 26 is intersting, it isn't MAD-R specific though; it'd be same when using a MAD-1 on the same PCB :-)<br /><br />There's absolutely no SRAM-related difference between MAD-1 and MAD-R (the SRAM./CS pin, MAD.Pin2 follows exactly the same logic on both chips, and if you look at the SHVC-2J3M-01 PCB text layer, you'll see that U4 can be either MAD-1 or MAD-R).<br /><br />The MAD-R's inverted reset output is on MAD.Pin4, and isn't connected at all, and thus doesn't affect SRAM. I think it might have been some beta-version for later DSP cartridges, maybe the MAD-2 is having similar reset feature. But as by now the MAD-2 pin-outs &amp; logic-table are both unknown... does anybody have that chip?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>magno</b> [ Tue Nov 13, 2012 5:39 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MAD-1, MAD-2, MAD-R differences?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">nocash wrote:</div><div class="quotecontent">The  SHVC-2J3M-01 schematic (you meant here <!-- l --><a class="postlink-local" href="http://forums.nesdev.com/viewtopic.php?p=102792#p102792">viewtopic.php?p=102792#p102792</a><!-- l --> right?) looks great. Oh yeah, the /RESET on SRAM CE pin 26 is intersting, it isn't MAD-R specific though; it'd be same when using a MAD-1 on the same PCB <img src="./images/smilies/icon_smile.gif" alt=":-)" title="Smile" /><br /><br />There's absolutely no SRAM-related difference between MAD-1 and MAD-R (the SRAM./CS pin, MAD.Pin2 follows exactly the same logic on both chips, and if you look at the SHVC-2J3M-01 PCB text layer, you'll see that U4 can be either MAD-1 or MAD-R).<br /><br />The MAD-R's inverted reset output is on MAD.Pin4, and isn't connected at all, and thus doesn't affect SRAM. I think it might have been some beta-version for later DSP cartridges, maybe the MAD-2 is having similar reset feature. But as by now the MAD-2 pin-outs &amp; logic-table are both unknown... does anybody have that chip?</div><br /><br />Oh, my fault! I misread &quot;OUT2&quot;, not &quot;OUT4&quot;, so please forget all I wrote <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br /><br />As for MAD-2, I have a Mario Kart with it, but it's my favourite game so I prefer not to destroy it. Anyway, I'll search in my old and dirty cartridges just in case I have another one...

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>byuu</b> [ Tue Nov 13, 2012 5:40 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MAD-1, MAD-2, MAD-R differences?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Nope. Of all 721 carts I own, every single one is MAD-1 (and the one MAD-R [and of course, boards with no MAD chip.])<br /><br />Just noting for others, look in your DSP1 games (Mario Kart, Pilotwings, Suzuka 8 Hours, Lock On, Ballz 3D, etc.)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>magno</b> [ Tue Nov 13, 2012 5:48 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MAD-1, MAD-2, MAD-R differences?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">byuu wrote:</div><div class="quotecontent">Just noting for others, look in your DSP1 games (Mario Kart, Pilotwings, Suzuka 8 Hours, Lock On, Ballz 3D, etc.)</div><br /><br />Some fellows at ElOtroLado (spanish retro forum) have located a cheap japanese game with it:<br /><br /><strong>Drift King Shutokou Battle 2</strong> (SHVC-2K3X-10) (<a href="http://www.elotrolado.net/viewtopic.php?f=80&amp;t=1633607&amp;p=1730582231#p1730582231" class="postlink">Photo</a>)<br /><br />And of course, Mario Kart (SHVC-1K1X-10) (<a href="http://www.elotrolado.net/viewtopic.php?f=80&amp;t=1633607&amp;p=1730583368#p1730583368" class="postlink">Photo</a>)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>byuu</b> [ Tue Nov 13, 2012 7:46 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MAD-1, MAD-2, MAD-R differences?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />MAD-2 A ... Nintendo sure does love revising things that already work.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>nocash</b> [ Tue Nov 13, 2012 8:26 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MAD-1, MAD-2, MAD-R differences?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />&gt; As for MAD-2, I have a Mario Kart with it, but it's my favourite game so I prefer not to destroy it.<br />How about drawing one of those cool MagnoCAD schematics for it? Assuming that you won't need to destroy anything for that purpose.<br /><br />&gt; MAD-2 A ... Nintendo sure does love revising things that already work.<br />Yeah. Although, now when looking for it... I couldn't find any &quot;MAD-2&quot; photos, only &quot;MAD-2 A&quot;. Maybe that was the first and only version?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>magno</b> [ Tue Nov 13, 2012 9:44 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MAD-1, MAD-2, MAD-R differences?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">nocash wrote:</div><div class="quotecontent">&gt; As for MAD-2, I have a Mario Kart with it, but it's my favourite game so I prefer not to destroy it.<br />How about drawing one of those cool MagnoCAD schematics for it? Assuming that you won't need to destroy anything for that purpose.<br /></div><br /><br />Hahaha! <img src="./images/smilies/icon_mrgreen.gif" alt=":mrgreen:" title="Mr. Green" /> I'll look for the cartridge and will try my best <img src="./images/smilies/icon_wink.gif" alt=";)" title="Wink" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>nocash</b> [ Tue Nov 13, 2012 10:06 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MAD-1, MAD-2, MAD-R differences?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Your best on drawing... or your best on trying not destroy things that are getting in your way? :-)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>SkinnyV</b> [ Tue Nov 13, 2012 5:18 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MAD-1, MAD-2, MAD-R differences?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />You asked for the chip id , here they are:<br /><br />MAD-1:<br />BU2230<br />416 139<br /><br />MAD-1 A:<br />BU2230A<br />551 120<br /><br />MAD-R:<br />BU2220<br />317 171a<br /><br />About the Vbat test, I am not sure if I am doing something wrong but all I get is BAD line for everything with OUT 2 /SRAM set to high and all the other OUT to low. I included the log in the file (same link as before) but I doubt I did it correctly). What I did is tie the VCC (MAD pin 6) to GND ( my computer power supply ground) and VBAT (MAD pin 7) to a adjustable voltage regulator set to 3V and hooked up to computer PSU 5V line and neg to GND)

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>4</strong> of <strong>8</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>