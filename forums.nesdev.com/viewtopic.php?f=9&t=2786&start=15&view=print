<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Universal NES flash cartridge considerations</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Universal NES flash cartridge considerations</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=9&amp;t=2786">http://forums.nesdev.com/viewtopic.php?f=9&amp;t=2786</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>2</strong> of <strong>5</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>dXtr</b> [ Sat Dec 09, 2006 2:23 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">bunnyboy wrote:</div><div class="quotecontent">Complete carts will have the cic chip installed from the donor cart, so I could do something like you send in a pal cart and I will take the cic off that.  Just the board will have the cic empty.  Of course that all might change once the cic is cracked and put onto a pic chip.</div>
<br />
<br />great <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>bunnyboy</b> [ Sat Dec 09, 2006 3:13 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I made a quick video ( <a href="http://www.nespowerpak.com/powerpak.mov" class="postlink">www.nespowerpak.com/powerpak.mov</a> ) that shows the basic usage.  Ignore the colors they are horrid!  <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />  It boots to show rom version and card version.  Press a button to get to the games list, showing only .nes files and folders.  If there are more games than lines of text then the whole screen scrolls.  Choose a game to get to the options where you can load wram file from card and set up to 3 game genie codes.  Ignore the arcade dips, that cant be done without additional hardware on the expansion port.  Choose Start Game and everything will load up, game starts when its done loading.  If you hit reset and the game header says it has battery ram then there is a screen for saving the battery ram back to the card.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Sat Dec 09, 2006 3:43 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The main issue is that compact flash cards are expensive and I don't know how different models it exists. They often are application-specific, tough I don't know much about them.
<br />How hard will it be to have the connector fit in a NES case and to insert the cart with it in the NES ?
<br />Other than that the project really looks incredible, maybe worth $150.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>bunnyboy</b> [ Sat Dec 09, 2006 4:14 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Compact flash cards are really cheap, 256MB are ~$9 on ebay including shipping which is enough to hold every USA game.  That is comparable to usb drives and sd cards.  So far I havent found a card that fails and I have used about 5 cards from 3 companies.  There is nothing application specific about them, at least not using them in the memory mode.
<br />
<br />The cf card fits entirely inside the cart case, there is no clearance to have it sticking out in a toaster nes.  That also means with a toaster nes you cant just keep the PowerPak inside the nes and put the cf card in.  If you have a top loader then you can insert the cf card without removing the PowerPak.  Some picts to make it more clear:
<br />
<br />CF card inside PowerPak (the black part):
<br /><img src="http://www.nespowerpak.com/card1.jpg" alt="Image" />
<br />
<br />Eject button flipped out:
<br /><img src="http://www.nespowerpak.com/card2.jpg" alt="Image" />
<br />
<br />CF card ejected:
<br /><img src="http://www.nespowerpak.com/card3.jpg" alt="Image" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Sun Dec 10, 2006 2:25 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><img src="./images/smilies/icon_eek.gif" alt=":shock:" title="Shocked" /> Congratulations ! I really didn't think a such thing were possible !
<br />
<br />About expansion sound, while techincally you cannot directly have an audio pin I think you could just use all expansion pins as digial outputs for audio, and sell a separate device that would plug on the expansion port under the nes with a DAC on it that will mix the digiat cartridge audio with the analog audio from the NES together. Since there is 10 EXP pins, you could use 8 bits-for DAC (supporting every FC sound chip ever made, including the 4-bit FDS, 5-bit MMC5, 6-bit VRCVI and 8-bit VRCVII and all others wich are less bits anyway). That would leave one pin for clocking the DAC, and one pin left for backwards compatibility with analog sound (typically a switch could control between analog mode where audio is directly passed trough pin 18 (backwards compatible), and digital mode where audio is passed trough all other pins). The digital mode would seriously increase noise immunity, since the DAC would be placed much closer to the actual audio output, and won't pass trough the whole NES's mainboards.
<br />Anyway, even without this, your projects sound like the best hardware project ever made on the NES.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>timofonic</b> [ Sun Dec 10, 2006 3:11 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />This is very interesting! I wanted a device like this since years <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" />
<br />
<br />What about a Famicom version? I always liked the Famicom a lot more than the NES, the American/European version in my opinion is too ugly. I think you probably can run roms designed for NES too using your cart, am I wrong?
<br />
<br />Why still need to using the CIC chip from an original cart? Why not emulating it on the CPLD/FPGA? This could save a lot the price of the device.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Sun Dec 10, 2006 3:19 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">What about a Famicom version? I always liked the Famicom a lot more than the NES, the American/European version in my opinion is too ugly.<br /></div><br />Heh, you're not the only one to think that. While I've never seen any real Famicom, it looks much better on pics. But anyways games are compatible (at least US/Japan, PAL compatibility is limited).<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Why still need to using the CIC chip from an original cart? Why not emulating it on the CPLD/FPGA? This could save a lot the price of the device.</div>
<br />Because the algorithms of the CIC aren't fully understood yet, only partically.
<br />However, I think he'll allow oredering one without CIC if yours is defeated and if you want to save ~$5 on a ~$150 ammount.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Jagasian</b> [ Sun Dec 10, 2006 4:46 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">The main issue is that compact flash cards are expensive and I don't know how different models it exists. They often are application-specific, tough I don't know much about them.</div>
<br />
<br />Just the other week, I bought a 2GB compact flash card for $40 at CompUSA.  Such a card is large enough to hold every NES game.
<br />
<br />If you are shooting for Mars, maybe you could also support compressed ROMs.  LZO may be fast enough to decompress on the NES:
<br /><!-- m --><a class="postlink" href="http://www.oberhumer.com/opensource/lzo/">http://www.oberhumer.com/opensource/lzo/</a><!-- m -->

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>No Carrier</b> [ Sun Dec 10, 2006 7:47 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I just have to say.. this looks amazing. I'll watch this thread for updates!
<br />
<br />NC

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lungdart</b> [ Sun Dec 10, 2006 9:00 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Thats amazing! I was waiting on the funky flash cart for a while, and now that his schematics are released, I might still hold off for this.
<br />
<br />My only question is, why CF? why not SD? Isn't that more of the defacto standard these days?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Memblers</b> [ Sun Dec 10, 2006 9:39 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">lungdart wrote:</div><div class="quotecontent">My only question is, why CF? why not SD? Isn't that more of the defacto standard these days?</div>
<br />
<br />Because the NES CPU is controlling it directly.  SD communicates through serial, so it could be roughly 10 times slower.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>kyuusaku</b> [ Sun Dec 10, 2006 9:52 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />bunnyboy:  how is the NES putting the FPGA in slave parallel mode? Is that what the smaller SOICs do?
<br />
<br />How does the cart retain WRAM until you get back to the menu to back it up?
<br />
<br />Will you release the pin constraints so people can develop their own mappers?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>baisoku</b> [ Sun Dec 10, 2006 10:44 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Wow, this is the end-all devcart. Very impressive.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>dvdmth</b> [ Sun Dec 10, 2006 11:06 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Wow, custom cart that just might work!  $150 to play potentially any NTSC game sounds like a good deal!
<br />
<br />Three GameGenie codes is rather restrictive.  I know that's all you get on a real GG, but I always hated that limitation.  Could you expand this number to something less annoying?  (Ideally, one should be able to insert codes as long as there is space in the mapping hardware for them, but if a hard limit is easier to implement, I'd be satisfied with six codes, the functional equivalent of two GameGenies connected to each other.)
<br />
<br />Will the mapper implementations be open source, so that others can correct any errors that might've been made?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Sun Dec 10, 2006 11:22 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Hey, what kind of devices do you need to be able to use your CF cart with a PC ? Do you need an expansion PCI cart, or is there a device that place in the front of a PC and that is IDE/Floppy compatible ? Are those expensive ?

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>2</strong> of <strong>5</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>