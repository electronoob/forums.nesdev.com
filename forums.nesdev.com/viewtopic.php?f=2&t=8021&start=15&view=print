<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Current status of Mario Adventure on PowerPak?</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Current status of Mario Adventure on PowerPak?</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=2&amp;t=8021">http://forums.nesdev.com/viewtopic.php?f=2&amp;t=8021</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>2</strong> of <strong>3</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>NESHomebrew</b> [ Thu Aug 04, 2011 9:01 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><!-- m --><a class="postlink" href="http://nesdev.com/bbs/viewtopic.php?t=6018">http://nesdev.com/bbs/viewtopic.php?t=6018</a><!-- m -->

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>3gengames</b> [ Thu Aug 04, 2011 9:38 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">WhatULive4 wrote:</div><div class="quotecontent">http://nesdev.com/bbs/viewtopic.php?t=6018</div>
<br />
<br />Which has no end with details either.
<br />
<br />And it also says it's CHR-RAM switched and doesn't use WRAM? I don't understand THAT....

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dwedit</b> [ Thu Aug 04, 2011 10:14 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Mario Adventure does some minor illegal stuff.  It uses both sides of the pattern tables for 8x16 sprites, which breaks the MMC3 scanline counter and causes the status bar to move up and down during gameplay depending on which sprites are visible.  Emulators weren't as good back then, so Dahrkdaiz didn't realize that it caused problems.  Newer emulators do things more correctly, which shows the true effects of the hacks.
<br />
<br />Someone would need to make a game-specific mapper that operates the scanline counter differently, so it would act like an older emulator.
<br />
<br />As for the game not booting, no clue why there would be any problems.  Just pad out the CHR to the nearest power of 2 with blank space if you need to.  Should just be the same cartridge as Kirby's Adventure.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>3gengames</b> [ Thu Aug 04, 2011 10:41 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />But they take MMC3 boards and just upgrade the RAM. I don't think MMC3 is the problem....
<br />
<br />I hate hacks, especially ones that are good, heh.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Fri Aug 05, 2011 6:06 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Dwedit wrote:</div><div class="quotecontent">Mario Adventure does some minor illegal stuff.  It uses both sides of the pattern tables for 8x16 sprites, which breaks the MMC3 scanline counter and causes the status bar to move up and down during gameplay depending on which sprites are visible.  Emulators weren't as good back then, so Dahrkdaiz didn't realize that it caused problems.  Newer emulators do things more correctly, which shows the true effects of the hacks.<br /><br />Someone would need to make a game-specific mapper that operates the scanline counter differently, so it would act like an older emulator.<br /><br />As for the game not booting, no clue why there would be any problems.  Just pad out the CHR to the nearest power of 2 with blank space if you need to.  Should just be the same cartridge as Kirby's Adventure.</div>
<br />That's what we all thought, but somehow this guy manages to make repros of the game. I doubt he's making his own mapper...

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>infiniteneslives</b> [ Fri Aug 05, 2011 7:34 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I've heard he's messed around with the code a bit perhaps this is why.  I've got a dump of his repro I'll have to patch my own copy and compare to see if this is indeed the case.
<br />
<br />EDIT: the only difference was in the header bytes 5 and 6.
<br />
<br />My patch:  14 42
<br />dumped copy:  20 43
<br />
<br />Now I realize that wouldn't make a difference in the rom images if you were to make a repro, but it could affect how the power pak does things?  I'll have to check some more with where I got it.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>infiniteneslives</b> [ Sat Aug 06, 2011 11:52 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Talking with @coinhaven at thenesdump.com apparently all you need to do is swap out the WRAM for the 150ns SRAM to get it working on a TSROM.  No battery backing with that though, does the game actually make use of battery backed saves?  It would seem it shouldn't in the spirit of the originals, but I've never played.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>marvelus10</b> [ Sat Aug 06, 2011 11:30 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">infiniteneslives wrote:</div><div class="quotecontent">Talking with @coinhaven at thenesdump.com apparently all you need to do is swap out the WRAM for the 150ns SRAM to get it working on a TSROM.  No battery backing with that though, does the game actually make use of battery backed saves?  It would seem it shouldn't in the spirit of the originals, but I've never played.</div>
<br />
<br />
<br />I can confirm this as I have a working cart I made myself.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>3gengames</b> [ Sun Aug 07, 2011 9:04 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">marvelus10 wrote:</div><div class="quotecontent"><div class="quotetitle">infiniteneslives wrote:</div><div class="quotecontent">Talking with @coinhaven at thenesdump.com apparently all you need to do is swap out the WRAM for the 150ns SRAM to get it working on a TSROM.  No battery backing with that though, does the game actually make use of battery backed saves?  It would seem it shouldn't in the spirit of the originals, but I've never played.</div><br /><br /><br />I can confirm this as I have a working cart I made myself.</div>
<br />
<br />Okay then that's all it is....would putting the sprite table inside WRAM make it need that? Although the SMB3 game engine puts it at $200-$2FF, and I doubt these hackers changed that...

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dwedit</b> [ Sun Aug 07, 2011 9:46 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Hackers did not change origin of sprite DMA.  Still $02xx.
<br />
<br />The game does save some things, like worlds completed and number of coins.  I think it's about 3 bytes of save data.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>3gengames</b> [ Sun Aug 07, 2011 9:47 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Dwedit wrote:</div><div class="quotecontent">Hackers did not change origin of sprite DMA.  Still $02xx.</div>
<br />
<br />Well what else can the PPU do to WRAM them?  <img src="./images/smilies/icon_question.gif" alt=":?:" title="Question" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Hojo_Norem</b> [ Mon Aug 08, 2011 11:46 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Dwedit wrote:</div><div class="quotecontent">Hackers did not change origin of sprite DMA.  Still $02xx.<br /><br />The game does save some things, like worlds completed and number of coins.  I think it's about 3 bytes of save data.</div>
<br />
<br />I just too a look at SMA's readme and it say this about saving:
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">Saving:<br /><br />The game will save some of your progress as you go along. The game saves the following statuses:<br /><br />Coins<br />Score<br />Time<br />All Items<br />Item Box<br />Kuribo Shoe Storage<br />Worlds Completed<br />Keys Gotten<br />Locks Unlocked<br /></div>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>infiniteneslives</b> [ Mon Aug 08, 2011 6:32 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />So it sounds like it would be best to put it on a TKROM board then.  I guess you could always battery back it yourself on a TSROM.
<br />
<br />But it sounds like the guys making these repros don't even bother with battery save.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>marvelus10</b> [ Tue Aug 09, 2011 1:58 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I think and don't quote me on this, remember before changing out the WRAM that it did not work at all on a TKROM board. But worked with audio out of sync and accelerated then froze on a TSROM board. So when the WRAM swap was sugested I just planted it on a TSROM board and all was good. I never did go back and try the TKROM board. Maybe sometime this week I will try it out if I get a chance. It would make senseif you wanted to take advantage of the save feature.
<br />
<br />Im currently using a NES-TSROM-03 board with MMC3A

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>3gengames</b> [ Tue Aug 09, 2011 2:19 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />So is it possible the game shoves sound samples into the WRAM?

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>2</strong> of <strong>3</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>