<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - I feel like making ca65 project templates</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">I feel like making ca65 project templates</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=2&amp;t=7277">http://forums.nesdev.com/viewtopic.php?f=2&amp;t=7277</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Wed Dec 15, 2010 4:13 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>I feel like making ca65 project templates</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />So I feel like making some project templates for ca65, consisting of a simple program that displays "hello world" and beeps the speaker when the player presses A. And I feel like making them for every mapper that one might consider using for a homebrew game.
<br />
<br /><div class="quotetitle">In <a href="http://nesdev.com/bbs/viewtopic.php?p=71511#71511" class="postlink">this post</a>, tokumaru wrote:</div><div class="quotecontent">CA65 seems like a very professional choice, and I guess I would use it if I didn't have to spend so much time tinkering with it before getting it to do anything useful.</div>
<br />That's probably my fault for not making project templates for each major cartridge board. Which boards do you anticipate people wanting to use for quick projects, besides NROM-128/256, UNROM/UOROM, and SNROM?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>clueless</b> [ Wed Dec 15, 2010 4:21 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Nah... Finish your compo entry!  If  Jeroen's compo is abandoned, then those of us working on entries can do something else with our work.  Maybe make a combo-cart or still have a contest, but with some alternate judging and prizes (real or imagined).  Or make a combo-cart, sell on retrousb and split for profits, and open-source it 2 years later?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Wed Dec 15, 2010 4:29 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Sounds like an interesting idea. I'm pretty lost when it comes to configuring these complex assemblers, so much that I don't even know what files are supposed to be created/modified. I am also clueless about the actual assembly process... I am used to giving a program source code and it spitting out a binary image, so I don't really know why you'd need intermediary things like object files and what the hell linking is.
<br />
<br />But I wouldn't like things to be so easy that I could overlook those details completely, I would actually like to understand why they exist, because I hate doing things I don't understand. I'm a person that is not satisfied to simply get the expected results, I must understand why I got such results. I don't like to just feel "lucky" that it all worked, because luck is not something you can count on, knowledge is. So if I don't understand it, I don't use it.
<br />
<br />Regarding mappers, I'm sure that CNROM and TxROM are very popular. Other MMC1 boards too.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>3gengames</b> [ Wed Dec 15, 2010 5:07 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Agreed on those boards. Just simple demos for all the mappers would be good, and just adjust for the board by the user. It wouldn't be that hard with a good template! <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" />
<br />
<br />
<br />And yeah, I don't like using anything I didn't write, sort of because I don't trust it, but I also feel like I'm not doing the work so I stay away from any one elses stuff. ^_^

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MetalSlime</b> [ Wed Dec 15, 2010 10:30 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent">Sounds like an interesting idea. I'm pretty lost when it comes to configuring these complex assemblers, so much that I don't even know what files are supposed to be created/modified. </div><br /><br />For ca65, a guy named SecretServiceDude posted his configuration for an UNROM project a couple years ago.  It's here:<br /><br /><!-- m --><a class="postlink" href="http://nesdev.com/bbs/viewtopic.php?p=39883#39883">http://nesdev.com/bbs/viewtopi ... 9883#39883</a><!-- m --><br /><br />If you study it briefly (starting with the batch file) you should get a general idea of how it all fits together.  Once you have a sample to work off of it's not too much trouble to learn.  When I started, I just copy/pasted SecretServiceDude's project and spent an afternoon tinkering with it, using the <a href="http://www.cc65.org/doc/ld65.html" class="postlink">ld65</a> and <a href="http://www.cc65.org/doc/ca65.html" class="postlink">ca65 docs</a> for reference.  I fiddled around making configs for other mappers and shuffling around where different segments of code went.  Peeking at the .lst and .map files that were generated helped me understand what was happening at each step and it all came together for me.  You just have to get your hands dirty.<br /><br /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">So I feel like making some project templates for ca65, consisting of a simple program that displays "hello world" and beeps the speaker when the player presses A.</div>
<br />
<br />Another thing you might add to the templates would be bank-switching code, PRG and CHR where applicable.  If the mappers are configurable you could set up environment variables and conditional assembly.  It would make the templates easier to use right out of the box.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Wave</b> [ Thu Dec 16, 2010 1:35 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">MetalSlime wrote:</div><div class="quotecontent">Another thing you might add to the templates would be bank-switching code, PRG and CHR where applicable.  If the mappers are configurable you could set up environment variables and conditional assembly.  It would make the templates easier to use right out of the box.</div>
<br />That's what I'm trying to do with my "framework" for neshla. It has a file for mapper capabilities, such as mirroring, chr banking, prg banking... And uses #ifdef areas depending on mapper defined for de project.
<br />Currently supports: 
<br />MMC1, MMC3, AXROM, GXROM, CPROM, BXROM, UXROM, CNROM
<br />
<br />Header file-&gt; <!-- m --><a class="postlink" href="http://neshlagamefw.svn.sourceforge.net/viewvc/neshlagamefw/bin/include/nesex/nes_mappers_ex.h?revision=1&amp;content-type=text%2Fplain">http://neshlagamefw.svn.sourceforge.net ... xt%2Fplain</a><!-- m -->
<br />ASM file -&gt; <!-- m --><a class="postlink" href="http://neshlagamefw.svn.sourceforge.net/viewvc/neshlagamefw/bin/lib/nesex/nes_mappers_ex.as?revision=1&amp;content-type=text%2Fplain">http://neshlagamefw.svn.sourceforge.net ... xt%2Fplain</a><!-- m -->

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MetalSlime</b> [ Thu Dec 16, 2010 6:16 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Wow.  That's pretty handy.  So all the user would have to do is say "I'm using AXROM" and everything would be set up for them.  Nice.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Wave</b> [ Thu Dec 16, 2010 7:48 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">MetalSlime wrote:</div><div class="quotecontent">Wow.  That's pretty handy.  So all the user would have to do is say "I'm using AXROM" and everything would be set up for them.  Nice.</div>
<br />Yes, and you could change from one mapper to another if the newer can do at least what the older could (or can do it in combination, like changing 8k chr in mmc3, the framework automaticaly does 2x2x1x1x1x1 (or viceversa) instead) <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Mon Dec 27, 2010 7:27 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Just to let you know, the development version of CC65 makes it possible for the linker config file to import symbols. This should allow a pretty easy to use, multi-mapper template to be made, while using only one configuration file. I'm not completely sure how well it'd work, haven't thought it through yet, but I think it should work...
<br />
<br />Something like this should be possible:
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; ; - these define the ROM structure<br />&nbsp; .define NUM_PRG_BANKS&nbsp; &nbsp;4<br />&nbsp; .define MAPPER&nbsp; &nbsp;2 ; etc...<br />&nbsp; ; - this include file calculates a bunch of variables like segment sizes<br />&nbsp; ;&nbsp; &nbsp;based on the symbols defined above, and exports them for<br />&nbsp; ;&nbsp; &nbsp;the linker configuration file<br />&nbsp; ; - for example, if it wants to &quot;remove&quot; a segment, it can set its size<br />&nbsp; ;&nbsp; &nbsp;to 0<br />&nbsp; ; - it also defines the iNES header<br />&nbsp; .include &quot;std_nes.inc&quot;<br /></div>
<br />
<br />Something like this should make it a lot easier for newcomers to get started with CA65.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>ManicGenius</b> [ Sat Jan 01, 2011 9:26 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Yes please make some. I need to get a starting foothold on this thing.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>