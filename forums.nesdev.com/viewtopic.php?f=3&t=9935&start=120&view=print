<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Please try my NES emulator HDNes</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Please try my NES emulator HDNes</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=3&amp;t=9935">http://forums.nesdev.com/viewtopic.php?f=3&amp;t=9935</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>9</strong> of <strong>19</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Mon May 26, 2014 5:35 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Please try my NES emulator HDNes</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Trevor_NT wrote:</div><div class="quotecontent">I'm not really interested in HD graphics, but to be able to play NES games with their original graphics and no flicker would be quite revolutionary.</div><br />Not that revolutionary. Nestopia, for example, has had this feature for ages: Machine =&gt; Options =&gt; No Sprite Limit. Nestopia's implementation is slightly questionable, though, because the setting also affects the sprite overflow flag which could cause some games to break.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Mon May 26, 2014 6:42 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Please try my NES emulator HDNes</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I think FCEUX has a &quot;disable 8 sprites limit&quot; switch, which eliminates flicker due to overdraw limit. It might be one of the things that old vs. new PPU changes. It won't eliminate intentional flicker where a sprite isn't drawn at all in one or more frames, like injured Mario in SMB1 or the smoke and explosions in Thwaite; for that, you need a motion blur filter as seen in GBA emulators.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Trevor_NT</b> [ Mon May 26, 2014 10:07 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Please try my NES emulator HDNes</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">thefox wrote:</div><div class="quotecontent"><div class="quotetitle">Trevor_NT wrote:</div><div class="quotecontent">I'm not really interested in HD graphics, but to be able to play NES games with their original graphics and no flicker would be quite revolutionary.</div><br />Not that revolutionary. Nestopia, for example, has had this feature for ages: Machine =&gt; Options =&gt; No Sprite Limit. Nestopia's implementation is slightly questionable, though, because the setting also affects the sprite overflow flag which could cause some games to break.</div><br /><br />I know some emulators have this option, but... maybe I'm being silly, but does it actually work?<br /><br />I'm talking, off the top of my head, about games like Konami World 2, Super Dodge Ball (<!-- m --><a class="postlink" href="https://www.youtube.com/watch?v=ARmZjy2HF_4">https://www.youtube.com/watch?v=ARmZjy2HF_4</a><!-- m -->) and Guerilla War/Guevara, which are flickerfests I never could solve. Also, there is this effect with the tiles in the background, in which they blink distractingly when scrolling into the screen (You can see it here, right side of the screen: <!-- m --><a class="postlink" href="http://youtu.be/8BOv7GuhdB0">http://youtu.be/8BOv7GuhdB0</a><!-- m --> . Also, notice the UI permanently glitching on the lower left corner.)<br /><br />Anyway, if HDNes could have a mode like I described and it brought any gains in the sense of more stability to the graphics, that would be awesome.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Mon May 26, 2014 10:40 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Please try my NES emulator HDNes</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The effect at the right side of SMB3 is a consequence of the fact that the NES has enough video memory for two screens. Because SMB3 levels are two screens tall, it stacks the two screens on top of each other. This means a 16-pixel-wide color area straddles the scrolling seam between the left and right sides of the screen. And often this color area will end up discolored because making it correct for one side will make it incorrect for the other side.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MottZilla</b> [ Mon May 26, 2014 2:33 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Please try my NES emulator HDNes</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Super Dodgeball looks like it flickers because there are too many sprites to display in a frame, and then it also might flickers due to the sprite scanline limit. Eliminating the scanline limit would reduce flicker only slightly. You'd need a specific emulator hack/feature on a per game basis that would allow the game to draw and display all characters every frame. It could be done.<br /><br />I'm not sure if Guerrilla War is the same deal but it's likely. <br /><br />The SMB3 glitches, the palette issues could be hidden by not drawing that edge of the screen. Some emulators allow this by an option menu. The glitch in the bottom status bar is related to IRQ and PPU timing. This can be fixed in emulation by changing the way the PPU behaves.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>mkwong98</b> [ Mon May 26, 2014 7:08 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Please try my NES emulator HDNes</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The flickering glitch can't be corrected by graphics pack function. This is because the function replaces graphics, so it only works on objects which are visible in the original. On the other hand, the palette glitch can be corrected by defining a default replacement for the tile regardless of the actual palette being used.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Trevor_NT</b> [ Mon May 26, 2014 7:13 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Please try my NES emulator HDNes</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">MottZilla wrote:</div><div class="quotecontent">Super Dodgeball looks like it flickers because there are too many sprites to display in a frame, and then it also might flickers due to the sprite scanline limit. Eliminating the scanline limit would reduce flicker only slightly. You'd need a specific emulator hack/feature on a per game basis that would allow the game to draw and display all characters every frame. It could be done.<br /><br />I'm not sure if Guerrilla War is the same deal but it's likely. <br /><br />The SMB3 glitches, the palette issues could be hidden by not drawing that edge of the screen. Some emulators allow this by an option menu. The glitch in the bottom status bar is related to IRQ and PPU timing. This can be fixed in emulation by changing the way the PPU behaves.</div><br /><br />That's why I gave that suggestion. I understand that HDNes, by overlaying the original rendering system with new graphics, also bypasses all these glitches.<br /><br />If there was a mode in which the original graphics were automatically rendered in this new system, as if they were a graphics pack, like the one created for Super Mario Bros... see what I mean?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Trevor_NT</b> [ Mon May 26, 2014 7:15 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Please try my NES emulator HDNes</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">mkwong98 wrote:</div><div class="quotecontent">The flickering glitch can't be corrected by graphics pack function. This is because the function replaces graphics, so it only works on objects which are visible in the original. On the other hand, the palette glitch can be corrected by defining a default replacement for the tile regardless of the actual palette being used.</div><br /><br />Wait... you mean that Super Dodge Ball with an HD graphics pack would glitch in the same way?<br /><br />Edit: Let's be clear. If I create from scratch an HD graphics pack for a game like Super Dodge Ball, would these new graphics also glitch?<br /><br />If not, wouldn't it be possible to create a function in the emu that extracts the original graphics, the tiles and such, organizes and allocate them on the fly in RAM, and displays them as if they were a graphics pack, to bypass these glitches?<br /><br />Again, sorry for talking theoretically, I'm travelling and can't test HDNes here.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MottZilla</b> [ Mon May 26, 2014 11:27 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Please try my NES emulator HDNes</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />It would have the same flickering because the game exceeds the amount of sprites that can exist on the screen at one time. You can place 64 sprites anywhere on the screen you want each frame. When a game has too many objects to drawn than will fit into this list, some don't get drawn. So it will cycle through these objects to draw them in a way where they all get a turn to be seen.<br /><br />This means the game needs to have its programming changed so that when it goes to draw objects (building the Sprite RAM table) that it builds an even bigger table to send to the emulator's modified PPU which can draw all the objects. That's the basic idea.<br /><br />The flickering isn't a &quot;glitch&quot;. The flicker is the result of the hardware limitation of the NES PPU. It could be improved in emulation with per-game attention.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>mkwong98</b> [ Tue May 27, 2014 12:51 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Please try my NES emulator HDNes</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Yes, it is beyond the scope of the graphics pack function to eliminate flickering as MottZilla posted. <br /><br />How does motion blur filter on GBA emulator work? Do you think it would help if I paint the previous frame with 50% transparency on top of the current frame?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Trevor_NT</b> [ Tue May 27, 2014 1:11 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Please try my NES emulator HDNes</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Oh, I get it now. I thought a rendering system that made the HD packs possible would be some sort of overlay that necessarily had the side effect of eliminating the glitches, but I was obviously wrong.<br /><br />Just saw this video, and at 00:00:16, when Link gets close to the enemy and attacks, the sprite flickers.<br /><br /><!-- m --><a class="postlink" href="http://youtu.be/DknjUcQ7jaw">http://youtu.be/DknjUcQ7jaw</a><!-- m --><br /><br />But, anyway... seeing this game with those improved graphics is quite a revelation. HDNes is a very cool project, congrats.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>mkwong98</b> [ Tue May 27, 2014 1:37 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Please try my NES emulator HDNes</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Trevor_NT wrote:</div><div class="quotecontent">Oh, I get it now. I thought a rendering system that made the HD packs possible would be some sort of overlay that necessarily had the side effect of eliminating the glitches, but I was obviously wrong.<br /><br />Just saw this video, and at 00:00:16, when Link gets close to the enemy and attacks, the sprite flickers.<br /><br /><!-- m --><a class="postlink" href="http://youtu.be/DknjUcQ7jaw">http://youtu.be/DknjUcQ7jaw</a><!-- m --><br /><br />But, anyway... seeing this game with those improved graphics is quite a revelation. HDNes is a very cool project, congrats.</div><br /><br />Thanks. I'm really impressed by the video too. And I'm very surprised that he actually works out how to replace sound tracks. It requires in depth knowledge of the games.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Tue May 27, 2014 7:51 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Please try my NES emulator HDNes</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">mkwong98 wrote:</div><div class="quotecontent">And I'm very surprised that he actually works out how to replace sound tracks. It requires in depth knowledge of the games.</div><br />Replacing music is the same skill set as ripping NSFs. In fact, if you have an NSF, you already know how where to look in the code to remove the game's own music player and replace it with writes to the &quot;play track&quot; register.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>mkwong98</b> [ Tue May 27, 2014 6:33 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Please try my NES emulator HDNes</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">Replacing music is the same skill set as ripping NSFs. In fact, if you have an NSF, you already know how where to look in the code to remove the game's own music player and replace it with writes to the &quot;play track&quot; register.</div><br /><br />Then I need to learn how to read NSF files. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Tygerbug</b> [ Sun Jun 29, 2014 6:17 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Please try my NES emulator HDNes</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I enjoyed your HD sprite pack for Kung Fu. Wouldn't mind seeing a video of that!<br /><br />  I sketched out some HD sprites for Super Mario Bros 3 ages ago, but haven't finished work on them yet. Been overwhelmed with things.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>9</strong> of <strong>19</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>