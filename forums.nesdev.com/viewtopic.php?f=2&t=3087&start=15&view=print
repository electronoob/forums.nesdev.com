<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Forbidden Four: Make your own pirate multi</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Forbidden Four: Make your own pirate multi</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=2&amp;t=3087">http://forums.nesdev.com/viewtopic.php?f=2&amp;t=3087</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>2</strong> of <strong>4</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>NotTheCommonDose</b> [ Fri Oct 12, 2007 5:28 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Building Forbidden Multicart
<br />press any key to continue.   .   .
<br />How long does this take?
<br />
<br />Nwever mind this is great.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>coinheaven</b> [ Sun Oct 14, 2007 7:04 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />how do you convert a rom to ines format?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dwedit</b> [ Sun Oct 14, 2007 7:13 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />With a Hex Editor
<br />Type in:
<br />NES 0x1A (prg size/16k) (chr size/8k) (mapper*0x10 | flags), then 9x 00's.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>coinheaven</b> [ Mon Oct 15, 2007 12:05 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />ok, ill give it a shot then.  thanks

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>NotTheCommonDose</b> [ Mon Oct 15, 2007 4:57 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I didn't convert them to iNES. I just used NES and it still worked. Try  the Zelda PRG0.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Mon Oct 15, 2007 7:04 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">NotTheCommonDose wrote:</div><div class="quotecontent">I didn't convert them to iNES. I just used NES and it still worked.</div>
<br />That's because .nes files are almost always in iNES format or an extension thereof.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>albailey</b> [ Wed Oct 17, 2007 7:29 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Hi Tepples,
<br />
<br /> I'm curious about the technical aspects of making the multi-cart.  I've never used MMC1 before so I'm only going by what I read in a doc by firebug.
<br />
<br />I see from your asm code you use  32K bankswitching (bit 3 of register but you do not do this for Zelda.   You mentioned something about the Zelda init code.   Is this how you are able to deal with Zelda's vectors (NMI, reset, etc..)  if you dont clobber 0xFFFA-0xFFFF.
<br />
<br />One other question.  This one is not very important.  I assume you are able to use the NROM 128 games because you ensure that the 16K goes into the $8000-$FFFF memory and it doesnt matter what goes in the $000-7FFF bank.  Are there "known" games where this is not a safe assumption. Meaning that the coder is expecting his $0000-$7FFF memory to be the same and is making reference to those addresses instead of the ones in the $8000-FFFF range?
<br />
<br />Al

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Wed Oct 17, 2007 8:01 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">albailey wrote:</div><div class="quotecontent"> I'm curious about the technical aspects of making the multi-cart.  I've never used MMC1 before so I'm only going by what I read in a doc by firebug.</div><br />The info for a lot of mappers in Firebug's doc is slightly outdated. When in doubt, I'd be more inclined to trust NESdevWiki articles such as <a href="http://wiki.nesdev.com/w/index.php/MMC1" class="postlink">MMC1</a>, which incorporate newly discovered information.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I see from your asm code you use  32K bankswitching (bit 3 of register but you do not do this for Zelda.</div><br />For Zelda, I jump to where Zelda expects to jump.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">You mentioned something about the Zelda init code.   Is this how you are able to deal with Zelda's vectors (NMI, reset, etc..)  if you dont clobber 0xFFFA-0xFFFF.</div><br />Zelda's mapper init code lies in the $FFxx page. Right when it's about to load a bank into $8000-$BFFF and jump to the main code, I patch it to switch a different bank (the menu) into $8000 and jump to a different address (part 1 of the menu).<br /><br />The menu has three parts: <ol style="list-style-type: decimal"><li>BOOTCODE: Loader for part 2, running in ROM </li><li>RAMCODE: A <a href="http://en.wikipedia.org/wiki/Trampoline_%28computers%29" class="postlink">trampoline</a> that copies CHR data from ROM to RAM and switches banks, running in RAM </li><li>CODE: The menu proper </li></ol>Part 1 copies part 2 from ROM to RAM, sets up part 3 as the desired ROM to run, and jumps to part 3.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I assume you are able to use the NROM 128 games because you ensure that the 16K goes into the $8000-$FFFF memory and it doesnt matter what goes in the $000-7FFF bank.  Are there "known" games where this is not a safe assumption.</div>
<br />You mean loading 16 KB into $C000-$FFFF and not into $8000-$BFFF. Yes, some NROM-128 games depend on $C000-$FFFF being mirrored down into $8000-$BFFF. But as far as I can tell, Mario Bros. and Ice Climber are not two of them, and those were my main impetus for developing this multi.
<br />
<br />In fact, I could probably replace one of the NROM-128 games with an NROM-256 game by implementing some simplistic CHR compression. Contra used a form of RLE compression, and so did my Who's Cuter demo. But I probably won't bother, nor will I bother about Galaxian.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dwedit</b> [ Thu Oct 18, 2007 12:43 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Hell, use aplib instead of RLE for better compression.  Now someone just needs to make a VRAM version <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Thu Oct 18, 2007 6:24 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I have recently made a LZSS compressor/decompressor, and coded the decompression routine in 6502 asm (writing to VRAM). The code is quite "raw", since these are my own tests, but if interests anyone, you're all free to test it out and play with it. There most likely are bugs. Download here: <a href="http://www.sendspace.com/file/vkcw2o" class="postlink">http://www.sendspace.com/file/vkcw2o</a>.
<br />
<br />There is no documentation at all, just messy code. This will work on windows machines, just drop the file to compress over the "compress.wsf", and decompress files by dropping them over "decompress.wsf". Keep in mind that this is all done with windows scripting (meaning that the code is all there), so it does take a long time to compress. Just wait and it will eventually finish. I wouldn't try this with very large files though.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Fri Mar 21, 2008 2:12 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />They're <a href="http://nesdev.com/bbs/viewtopic.php?p=31908#31908" class="postlink">talking about this over in NESemdev</a>, treating it as an MMC1 emulation test case. But before we go tweaking emulators to run <a href="http://nesdevwiki.org/index.php/Program_Compatibility" class="postlink">invalid code that another emulator happens to run</a>, I'd like to know: Has anybody ever run this on an NES, either through a PowerPak or (better) through a hacked-up SNROM board?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>NotTheCommonDose</b> [ Fri Mar 21, 2008 7:26 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">Galaxian isn't in Animal Crossing. (Neither is Pitfall or Golden Axe, but that's another story.) I could (barely) fit Tetramino into the menu segment, but that's not in AC either, and my whole point of making something AC-related is to get as far away from Tetris as I can.</div>
<br />
<br />There are no references to Galaxian in Animal Crossing and is also a NES game. The golden axe is an Item you use to cut down trees infinitely but is a SNES game not NES unless theres a pirate or some sort that I'm not aware of. Also the pitfall is an item used to play a joke on a unwitting idiot and some people think it's a NES game actually called Super Pitfall. What does Galaxian have to do with AC?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Fri Mar 21, 2008 7:50 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">NotTheCommonDose wrote:</div><div class="quotecontent"><div class="quotetitle">tepples wrote:</div><div class="quotecontent">Galaxian isn't in Animal Crossing. (Neither is Pitfall or Golden Axe, but that's another story.)</div><br />There are no references to Galaxian in Animal Crossing</div>
<br />Which was exactly the point that I was trying to explain to people requesting specific support for games that were not in AC.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>NotTheCommonDose</b> [ Sat Mar 22, 2008 7:06 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I guess they never played AC.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>coinheaven</b> [ Wed Mar 26, 2008 7:29 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">NotTheCommonDose wrote:</div><div class="quotecontent">Building Forbidden Multicart<br />press any key to continue.   .   .<br />How long does this take?<br /><br />Nwever mind this is great.</div>
<br />
<br />i get stuck here as well.  after i press a key, the program closes out.  what went wrong?

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>2</strong> of <strong>4</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>