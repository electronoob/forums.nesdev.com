<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - NES Video Capture Recommendation</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="https://forums.nesdev.com/">https://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">NES Video Capture Recommendation</span><br /><span class="gensmall"><a href="https://forums.nesdev.com/viewtopic.php?f=10&amp;t=13480">https://forums.nesdev.com/viewtopic.php?f=10&amp;t=13480</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Great Hierophant</b> [ Wed Nov 11, 2015 12:39 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>NES Video Capture Recommendation</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I am interested in capturing the native composite video from my NES.  Obviously I would like to get something as close to the image as I see on my CRT, or at least can do some reasonable justice to the NES video signal.  I know most capture devices have problems with the 240p mode and usually capture two interlaced frames.  A friend of mine said he used script for avisynth to separate the interlaced frames to eliminate the combing artifacts and provide ~60 true frames.  Then he upscaled the video to 1080p/60 so it would display properly for Youtube, but that was for a captures of IBM PC CGA composite video with artifact colors.  I would like a solution that minimizes artifacting as the NES's video intended.  <br /><br />The HD Retrovision page suggests that the Elgato Game Capture HD an an Avermedia device can handle the composite 240p signal correctly, but not component.  Fortunately I do not need component 240p just yet.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Wed Nov 11, 2015 12:58 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Video Capture Recommendation</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Great Hierophant wrote:</div><div class="quotecontent">I know most capture devices have problems with the 240p mode and usually capture two interlaced frames.</div><br />From my experience with cheap video capture devices (which is all I have ever been able to afford), you don't even get interlaced video if you use the bundled software, which often just drops entire fields. Fortunately, there are programs you can download that will capture interlaced video.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">A friend of mine said he used script for avisynth to separate the interlaced frames to eliminate the combing artifacts and provide ~60 true frames.</div><br />Yes, this is possible. You might also need to adjust the frame rate and/or audio duration, since the NES deviates from the standard NTSC frame rate slightly.<br /><br />Another option is to use a DVD recorder, so you don't have to worry about the capture process, and then you rip the DVD and do the post processing (deinterlacing, scaling, etc.) on the PC. James Rolfe, the AVGN, does this. The main disadvantage with this approach is that you start out with MPEG2 compressed video as your master recording, but that might not be so bad at high quality settings.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Wed Nov 11, 2015 12:59 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Video Capture Recommendation</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I don't have anything to recommend, but you might be able to get pretty decent quality even from cheap devices if you're willing to do some post-processing. I have cheap USB capture stick and I think the capture quality from it is fairly good (although I don't have a video of it to show, maybe I'll make one later). It does do the bogus deinterlacing for 240p signals though, so it does need some AviSynth post-processing for NES video.<br /><br />VirtualDub is a good tool for capturing.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Wed Nov 11, 2015 1:06 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Video Capture Recommendation</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Composite video looks quite shitty no matter how you capture it, so I think it's a waste to get expensive capture devices. The important thing is to make sure that no frames/fields are being dropped during the capture, so you can post-process the video and make it look more authentic.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>rainwarrior</b> [ Wed Nov 11, 2015 1:14 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Video Capture Recommendation</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I have a cheap Diamond VC500 (~$40) that I've used for NES a bunch of times. NES has such a low quality of output, I don't think it would make much difference to buy an expensive capture device.<br /><br />I've attached an image of what my cheap thing looked like after de-interlacing (click on the picture, the resized version seems to corrupt).<br /><br />My only problem with it is the audio speed seems to drift up and down slightly over time, not sure if this is because of NES' nonstandard framerate or what, but I tend to just record the audio separately; it still syncs with the video that way but I don't get the pitch drift. Not sure if this is a common problem with the VC500 or just mine.

		
			<br clear="all" /><br />

			<table class="tablebg" width="100%" cellspacing="1">
			<tr>
				<td><b class="genmed">Attachments: </b></td>
			</tr>
			
				<tr>
					<td>
			<a href="./download/file.php?id=4402&amp;mode=view"><img src="./download/file.php?id=4402&amp;t=1" alt="gimmick_deinterlace.gif" /></a><br />
			<span class="gensmall">gimmick_deinterlace.gif [ 119.14 KiB | Viewed 2801 times ]</span>
		

		<br />
	</td>
				</tr>
			
			</table>
		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Wed Nov 11, 2015 1:49 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Video Capture Recommendation</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />That's about the same quality I get from my cheap PCI capture card.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Great Hierophant</b> [ Wed Nov 11, 2015 3:19 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Video Capture Recommendation</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />My friend uses VirtualDub for his capturing software.  I had previously thought that VirtualDub was solely an editor, but now I am corrected.  He also used a $40 device, a Dazzle DVC100.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>rainwarrior</b> [ Wed Nov 11, 2015 3:28 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Video Capture Recommendation</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I tend to use avisynth to edit/process video, and virtualdub to host my avisynth scripts so I can preview them and count frames, etc. Then when the script is finished, I use virtualdub for the final encode and export.<br /><br />VirtualDub itself is not a very good editor, but it's pretty usable by itself for simple changes, e.g. deinterlace, resize, etc.<br /><br />It also does have a video capture feature, yes. Not too much special about this, but it has better customizability of encoding than most capture software I've seen. A capture device will probably come with its own minimally-functional capture software that you can use too.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Wed Nov 11, 2015 4:07 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Video Capture Recommendation</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">rainwarrior wrote:</div><div class="quotecontent">A capture device will probably come with its own minimally-functional capture software that you can use too.</div><br />The one that came with mine applied non-optional deinterlacing that consisted in dropping every other field. This is already pretty bad when applied to regular NTSC video, but it's even worse on video game footage. I had access to at least one other card and its bundled capture software that did the same thing. I guess you should test whatever comes with your device though, there's always the chance it'll do a decent enough job.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Great Hierophant</b> [ Tue Nov 24, 2015 12:50 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Video Capture Recommendation</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Okay, I had another question: Is it possible to de-interlace in close enough to real time to be suitable for streaming?<br /><br />I see it as a two step process for your average capture device.  First, you deinterlace the video so that instead of having 480i, you have 240p.  Second, you upscale 240p to 720p so that Youtube or Twitch will output 60p.  As an optional third step, you combine the video from the game with feed from a camera pointed at the player.  <br /><br />How feasible is this to do in anything close to real time?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Tue Nov 24, 2015 1:40 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Video Capture Recommendation</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Great Hierophant wrote:</div><div class="quotecontent">Second, you upscale 240p to 720p so that Youtube or Twitch will output 60p.</div><br />Lack of high motion support in LDTV (240p) or EDTV (480p) resolution from the major services disappoints me.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>rainwarrior</b> [ Tue Nov 24, 2015 1:41 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Video Capture Recommendation</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Yes, you can de-interlace in real time; simple de-interlacing is less CPU intensive than most video filters. The question of whether you can do what you want in real time is really about how much processing power you have available, and what kind of load you're putting on it. You <em>probably</em> have enough power to do what you want.<br /><br />One thing you should note, though, is that de-interlacing usually means doubling the framerate, i.e. 480i 30fps becomes 240p 60fps. Most streams I've seen only run at 30fps, and what you tend to get is every second frame dropped (which causes invisible characters if they do a 50% flicker, e.g. mega man taking damage). 60fps also doubles your CPU processing load, since you've got twice as much data to process.<br /><br />Alternative to de-interlace: do a linear resize from 480 to 240 pixels in height, which blends the two interlaced frames, but retains 30fps. Upscale from there.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Tue Nov 24, 2015 1:45 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Video Capture Recommendation</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">rainwarrior wrote:</div><div class="quotecontent">One thing you should note, though, is that de-interlacing usually means doubling the framerate, i.e. 480i 30fps becomes 240p 60fps. Most streams I've seen only run at 30fps, and what you tend to get is every second frame dropped (which causes invisible characters if they do a 50% flicker, e.g. mega man taking damage). 60fps also doubles your CPU processing load, since you've got twice as much data to process.</div><br />Which is why it surprises me that the streaming services allow high motion only for 720p or larger sources.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Alternative to de-interlace: do a linear resize from 480 to 240 pixels in height, which blends the two interlaced frames, but retains 30fps. Upscale from there.</div><br />That's what I've typically done. But you have to make sure that your capture tool correctly aligns the two fields rather than offsetting them by one line, or your recording will be a blurfest. I've had to introduce a compensating offset when processing NES recordings made with my Philips DVDR3505.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>rainwarrior</b> [ Tue Nov 24, 2015 2:05 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Video Capture Recommendation</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The 60fps modes really aren't oriented toward LD content at all. (I'm not surprised in the least that they don't target this, though.)<br /><br />Even if the service offers 720/60, generally it will fall back to 720/30 for people watching whenever they can't meet the bandwidth requirement, and in every case I've seen it does it by dropping every second frame (i.e. the invisible mega man problem again). In an even worse case where they have the bandwidth, but can't meet the CPU/GPU requirement, the framerate gets hella choppy whenever 60fps is engaged (this happened to me when Firefox blacklisted my GPU).<br /><br />Dropping odd frames is normally not a problem for modern games, as they expect variable framerates and almost never use flicker transparency, but for NES games it might be worth your while to just target 30fps for your stream.<br /><br /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">You have to make sure that your capture tool correctly aligns the two fields rather than offsetting them by one line, or your recording will be a blurfest. I've had to introduce a compensating offset when processing NES recordings made with my Philips DVDR3505.</div><br />LOL, that's gross. I've never seen that happen before, but there's an infinite number of ways somebody can screw it up, I suppose.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Tue Nov 24, 2015 9:04 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Video Capture Recommendation</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I recently did some capture tests, and I have to say that the capture quality from my el cheapo capture card was worse than I remembered. Notably, there were severe ringing artifacts around transitions. This is a cropped shot (2x nearest-neighbor upscaled) from Gremlins 2 on NTSC NES:<div class="attachtitle">Attachment:</div><div class="attachcontent">
			<a href="./download/file.php?id=4483&amp;mode=view"><img src="./download/file.php?id=4483&amp;t=1" alt="gremlins-ringing.png" /></a><br />
			<span class="gensmall">gremlins-ringing.png [ 52.92 KiB | Viewed 2633 times ]</span>
		

		<br />
	</div><br />I'm open for ideas if somebody knows good ways to diminish the effect in AviSynth post-processing. (My first quick hack was to apply a simple horizontal blur, which did work somewhat OK, but probably better ways exist.)<br /><br />I'll probably post some post-processed videos later, since I took the time to set this thing up.<br /><br />I also did some experimenting with live processing, and I was able to apply the AviSynth stuff live by creating a DirectShow .grf (&quot;graph&quot;) file for the capture card's connections, and then open that in AviSynth with directshowsource(). I couldn't find a way to stream AviSynth's output directly to something like OBS, so I had to resort to doing a window capture from MPC-HC.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>