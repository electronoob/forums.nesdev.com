<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="http://forums.nesdev.com/feed.php?f=10&amp;t=7878" />

<title>nesdev.com</title>
<subtitle>NES Development and Strangulation Records message boards</subtitle>
<link href="http://forums.nesdev.com/index.php" />
<updated>2011-06-18T19:04:04-07:00</updated>

<author><name><![CDATA[nesdev.com]]></name></author>
<id>http://forums.nesdev.com/feed.php?f=10&amp;t=7878</id>
<entry>
<author><name><![CDATA[qbradq]]></name></author>
<updated>2011-06-18T19:04:04-07:00</updated>
<published>2011-06-18T19:04:04-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=7878&amp;p=80116#p80116</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=7878&amp;p=80116#p80116"/>
<title type="html"><![CDATA[How many clock cycles fit in one vblank?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=7878&amp;p=80116#p80116"><![CDATA[
Cool! I'll have to fiddle with this some. I think it could really help my Zeldroidvania game <img src="http://forums.nesdev.com/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3706">qbradq</a> — Sat Jun 18, 2011 7:04 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[cpow]]></name></author>
<updated>2011-06-18T18:50:09-07:00</updated>
<published>2011-06-18T18:50:09-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=7878&amp;p=80111#p80111</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=7878&amp;p=80111#p80111"/>
<title type="html"><![CDATA[How many clock cycles fit in one vblank?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=7878&amp;p=80111#p80111"><![CDATA[
<div class="quotetitle">qbradq wrote:</div><div class="quotecontent"><br />I was referring to the visualization. Can I run any ROM with timer writes in that or does it have to be a NESICIDE project?<br /></div><br /><br />You can run any ROM it doesn't have to be a NESICIDE project (the nesyar example shown is not a NESICIDE project).  If you want to save the markers between runs you can just save the project from the ROM.<br /><br />At the moment I don't have support for the in-code timers that Nintendulator uses (it's just using UI-marked regions of code, not actual code writing to NES "timers").  I'm going to add that though since it seems popular.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3705">cpow</a> — Sat Jun 18, 2011 6:50 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[qbradq]]></name></author>
<updated>2011-06-18T17:24:13-07:00</updated>
<published>2011-06-18T17:24:13-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=7878&amp;p=80107#p80107</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=7878&amp;p=80107#p80107"/>
<title type="html"><![CDATA[How many clock cycles fit in one vblank?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=7878&amp;p=80107#p80107"><![CDATA[
I was referring to the visualization. Can I run any ROM with timer writes in that or does it have to be a NESICIDE project?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3706">qbradq</a> — Sat Jun 18, 2011 5:24 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[cpow]]></name></author>
<updated>2011-06-18T15:23:56-07:00</updated>
<published>2011-06-18T15:23:56-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=7878&amp;p=80100#p80100</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=7878&amp;p=80100#p80100"/>
<title type="html"><![CDATA[How many clock cycles fit in one vblank?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=7878&amp;p=80100#p80100"><![CDATA[
<div class="quotetitle">qbradq wrote:</div><div class="quotecontent"><br />Dang CPOW! That's awesome! Is that something you wrote? Where can I get it?<br /></div><br /><br />It just struck me that you might have been referring to the game visual, not the tool.  No, I did not write nesyar.  That was authored by clueless.  Haven't seen him around in a while though.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3705">cpow</a> — Sat Jun 18, 2011 3:23 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[cpow]]></name></author>
<updated>2011-06-18T14:32:59-07:00</updated>
<published>2011-06-18T14:32:59-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=7878&amp;p=80099#p80099</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=7878&amp;p=80099#p80099"/>
<title type="html"><![CDATA[How many clock cycles fit in one vblank?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=7878&amp;p=80099#p80099"><![CDATA[
<div class="quotetitle">tepples wrote:</div><div class="quotecontent"><br /><div class="quotetitle">cpow wrote:</div><div class="quotecontent">Plan is to add min/max/avg also to cycle counts.<br /></div><br />With <a href="http://en.wikipedia.org/wiki/Sparkline" class="postlink">sparklines</a>?</div><br /><br />Funny you should mention that tepples!  I attended Edward Tufte's "Information Design" seminar last year.  As part of that I got signed copies of all four of his books and a poster.  I am a strong believer in techniques for visualization of information.  Sparklines are so obviously useful, concise, and unencumbered with need for prior knowledge of the visualization technique.<br /><br />I could probably whip up a sparkline control in Qt pretty quick...so now that you've planted the idea, expect to see it.   <img src="http://forums.nesdev.com/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3705">cpow</a> — Sat Jun 18, 2011 2:32 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[cpow]]></name></author>
<updated>2011-06-18T14:26:38-07:00</updated>
<published>2011-06-18T14:26:38-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=7878&amp;p=80097#p80097</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=7878&amp;p=80097#p80097"/>
<title type="html"><![CDATA[How many clock cycles fit in one vblank?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=7878&amp;p=80097#p80097"><![CDATA[
<div class="quotetitle">qbradq wrote:</div><div class="quotecontent"><br />Dang CPOW! That's awesome! Is that something you wrote? Where can I get it?<br /></div><br /><br />It's part of NESICIDE, which is something I wrote, yes. <img src="http://forums.nesdev.com/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3705">cpow</a> — Sat Jun 18, 2011 2:26 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Bregalad]]></name></author>
<updated>2011-06-18T13:07:49-07:00</updated>
<published>2011-06-18T13:07:49-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=7878&amp;p=80095#p80095</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=7878&amp;p=80095#p80095"/>
<title type="html"><![CDATA[How many clock cycles fit in one vblank?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=7878&amp;p=80095#p80095"><![CDATA[
<div class="quotetitle">koitsu wrote:</div><div class="quotecontent"><br />Aww cpow, reminding me of my Apple IIGS days where you'd change the system border colour to something of your choice at the start of your routine, then back to whatever it was previously at the end, effectively using the border as a way to tell how much CPU time something took.  <img src="http://forums.nesdev.com/images/smilies/icon_smile.gif" alt=":-)" title="Smile" />  So happy.<br /></div><br />You can do that on the NES with the $2001 register.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=38">Bregalad</a> — Sat Jun 18, 2011 1:07 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[koitsu]]></name></author>
<updated>2011-06-18T11:36:35-07:00</updated>
<published>2011-06-18T11:36:35-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=7878&amp;p=80093#p80093</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=7878&amp;p=80093#p80093"/>
<title type="html"><![CDATA[How many clock cycles fit in one vblank?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=7878&amp;p=80093#p80093"><![CDATA[
Aww cpow, reminding me of my Apple IIGS days where you'd change the system border colour to something of your choice at the start of your routine, then back to whatever it was previously at the end, effectively using the border as a way to tell how much CPU time something took.  :-)  So happy.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3">koitsu</a> — Sat Jun 18, 2011 11:36 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[qbradq]]></name></author>
<updated>2011-06-18T11:23:50-07:00</updated>
<published>2011-06-18T11:23:50-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=7878&amp;p=80092#p80092</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=7878&amp;p=80092#p80092"/>
<title type="html"><![CDATA[How many clock cycles fit in one vblank?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=7878&amp;p=80092#p80092"><![CDATA[
Dang CPOW! That's awesome! Is that something you wrote? Where can I get it?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3706">qbradq</a> — Sat Jun 18, 2011 11:23 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2011-06-18T08:38:43-07:00</updated>
<published>2011-06-18T08:38:43-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=7878&amp;p=80082#p80082</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=7878&amp;p=80082#p80082"/>
<title type="html"><![CDATA[How many clock cycles fit in one vblank?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=7878&amp;p=80082#p80082"><![CDATA[
<div class="quotetitle">cpow wrote:</div><div class="quotecontent"><br />Plan is to add min/max/avg also to cycle counts.<br /></div><br />With <a href="http://en.wikipedia.org/wiki/Sparkline" class="postlink">sparklines</a>?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Sat Jun 18, 2011 8:38 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[thefox]]></name></author>
<updated>2011-06-18T01:21:04-07:00</updated>
<published>2011-06-18T01:21:04-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=7878&amp;p=80067#p80067</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=7878&amp;p=80067#p80067"/>
<title type="html"><![CDATA[How many clock cycles fit in one vblank?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=7878&amp;p=80067#p80067"><![CDATA[
Yet another option is to use <a href="http://nesdev.com/bbs/viewtopic.php?t=6773" class="postlink">NintendulatorDX</a> with code like this:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">nmi:<br />  sta $4020 ; Start the timer.<br /><br />  ; TODO: Do the vblank updates here.<br /><br />  sta $4030 ; Stop the timer.<br /><br />  rti<br /></div><br />Then you can see the number of cycles taken by the vblank updates in the debugging window. As long as the "max" value is less than ~2270, you're in the good.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=80">thefox</a> — Sat Jun 18, 2011 1:21 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[cpow]]></name></author>
<updated>2011-06-17T19:48:53-07:00</updated>
<published>2011-06-17T19:48:53-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=7878&amp;p=80052#p80052</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=7878&amp;p=80052#p80052"/>
<title type="html"><![CDATA[How many clock cycles fit in one vblank?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=7878&amp;p=80052#p80052"><![CDATA[
<div class="quotetitle">tokumaru wrote:</div><div class="quotecontent"><br /><div class="quotetitle">qbradq wrote:</div><div class="quotecontent">One thing I do is to set a breakpoint at the end of my VBlank routine in Nintendulator. It has this nice feature in e debugger that shows you what scan line and pixel you are on.<br /></div><br />I'd like to second this suggestion.</div><br /><br />I'll put an alternative out there:<br /><br /><img src="http://img703.imageshack.us/img703/7448/exevis.png" alt="Image" /><br /><br />I set up the red execution marker in the nesyar source over its entire NMI routine, and the green marker over the jsr to the sound routine.  The Execution Visualizer shows me where each marked code region is executing in the PPU frame and how many CPU cycles it took last time it ran.  It's a bit hard to see in the image but the area to the right of the quotile shield is HBLANK (the red/green stretches into it.  The image is 341x262 (or 341x312) pixels big, so you can see it covers the entire PPU clock domain and shows where the CPU is doing whatever you marked to see.  I can add eight different marked regions and see where they are in relation to each other or how long they are taking.  Plan is to add min/max/avg also to cycle counts.  In the image, the top left (0,0) is the screen pixel (0,0), so VBLANK time is at the bottom (where it's all red).  Obviously nesyar eats into the screen time  a bit in NMI but only to do sound updates.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3705">cpow</a> — Fri Jun 17, 2011 7:48 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tokumaru]]></name></author>
<updated>2011-06-17T17:06:26-07:00</updated>
<published>2011-06-17T17:06:26-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=7878&amp;p=80044#p80044</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=7878&amp;p=80044#p80044"/>
<title type="html"><![CDATA[How many clock cycles fit in one vblank?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=7878&amp;p=80044#p80044"><![CDATA[
<div class="quotetitle">qbradq wrote:</div><div class="quotecontent"><br />One thing I do is to set a breakpoint at the end of my VBlank routine in Nintendulator. It has this nice feature in e debugger that shows you what scan line and pixel you are on.<br /></div><br />I'd like to second this suggestion.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=95">tokumaru</a> — Fri Jun 17, 2011 5:06 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[qbradq]]></name></author>
<updated>2011-06-17T16:26:02-07:00</updated>
<published>2011-06-17T16:26:02-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=7878&amp;p=80043#p80043</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=7878&amp;p=80043#p80043"/>
<title type="html"><![CDATA[How many clock cycles fit in one vblank?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=7878&amp;p=80043#p80043"><![CDATA[
One thing I do is to set a breakpoint at the end of my VBlank routine in Nintendulator. It has this nice feature in e debugger that shows you what scan line and pixel you are on.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3706">qbradq</a> — Fri Jun 17, 2011 4:26 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Dwedit]]></name></author>
<updated>2011-06-17T14:24:31-07:00</updated>
<published>2011-06-17T14:24:31-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=7878&amp;p=80035#p80035</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=7878&amp;p=80035#p80035"/>
<title type="html"><![CDATA[How many clock cycles fit in one vblank?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=7878&amp;p=80035#p80035"><![CDATA[
262 total scanlines, 240 are visible.<br />1 scanline is the pre-vblank scanline and you can't use it unless you have IRQs or other timed code to know when that scanline is coming.<br />1 scanline is the pre-render scanline, you can use it as extra vblank time if you turn off the screen, then do a complete set of scroll writes after turning the screen back on.<br /><br />If you just use the normal vblank lines, that's 21 scanlines at 341 PPU cycles (113.666 CPU cycles) each, for 2387 total CPU cycles.  Of course, there's also the NMI interrupt triggering, and all your other code to get ready to start spitting out graphics, so there's less time than that actually available for your graphics display loop.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=53">Dwedit</a> — Fri Jun 17, 2011 2:24 pm</p><hr />
]]></content>
</entry>
</feed>