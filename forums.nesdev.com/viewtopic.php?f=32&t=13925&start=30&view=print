<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Russian Roulette [Complete!]</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Russian Roulette [Complete!]</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=32&amp;t=13925">http://forums.nesdev.com/viewtopic.php?f=32&amp;t=13925</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>3</strong> of <strong>5</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>rainwarrior</b> [ Tue May 03, 2016 2:22 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Russian Roulette [Testers Needed]</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Had not tried with the zapper (I don't have a CRT, and when you said &quot;trigger&quot; i thought you just meant the in-game trigger).<br /><br />Tried it now. No problems in 1 player mode, but in 2 player mode if I pull the zapper (in port 2) trigger when it's player 1's turn, I get severe graphical corruption. Looks like nametables are messed up kind of randomly, and also the CHR banking gets changed.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Jedi QuestMaster</b> [ Sun May 08, 2016 9:38 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Russian Roulette [Testers Needed]</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Here's an update to the rom: <div class="attachtitle">Attachment:</div><div class="attachcontent">
			<span class="genmed">
				<img src="./styles/subsilver2/imageset/icon_topic_attach.gif" width="14" height="18" alt="" title="" /> 
				<a href="./download/file.php?id=5681">RussianRoulette.nes</a> [288.03 KiB]
			</span><br />
			<span class="gensmall">Downloaded 134 times</span>
		

		<br />
	</div><br /><br />The main issue I've noticed now (on my side at least) is that the zapper trigger doesn't always register a trigger pull in-game. Let me know what other issues you run into. Thanks everyone!

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>rainwarrior</b> [ Wed May 11, 2016 11:49 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Russian Roulette [Testers Needed]</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I don't see any graphical problems with the zapper anymore, but the trigger is really unreliable. I might have to pull it 10 times just to get the shot to fire.<br /><br />You might take a look at how Duck Hunt or other games read the zapper trigger. There's usually some kinda debounce filter going on.<br /><br />I wrote some <a href="http://forums.nesdev.com/viewtopic.php?f=9&amp;t=13021" class="postlink">Zapper test ROMs</a> a while ago when I wanted to know what kind of signals you get from the zapper. It's a bit of a mess, really.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Jedi QuestMaster</b> [ Sun May 15, 2016 10:57 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Russian Roulette [Testers Needed]</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Are those test roms open source?<br /><br />They seem to work fine:<br /><br /><strong>zapper_light.nes</strong> makes a buzz whenever the zapper is aimed at the white space (with precision) and sometimes goes off a little when I wag the lightgun at my bright, flourescent lights<br /><br /><strong>zapper_trigger.nes</strong> is very interesting! The buzz goes off when the trigger is partially pulled (there is an audible click in the zapper itself), but the buzz stops when the trigger is completely pulled. (I didn't know the lightgun could do this.) Is this how the test is supposed to work?<br /><br />Edit: Oh yeah, thanks! <img src="./images/smilies/icon_redface.gif" alt=":oops:" title="Embarassed" />  <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>rainwarrior</b> [ Mon May 16, 2016 12:23 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Russian Roulette [Testers Needed]</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I can't seem to find the source, but as I recall both ROMs just continually poll either the &quot;light&quot; or the &quot;trigger&quot; bit; if set it flips the value written to $4011 (buzz) and waits until the next NMI to start polling again.<br /><br />Yes the trigger starts to signal on about halfway into a pull, and it turns off somewhere roughly on the &quot;zap&quot;, and there's a lot of bounce/noise at either transition. (Slow pulls are particularly bad.)<br /><br />There's also no way to distinguish half pull then release from pulling to &quot;zap&quot;. Either way counts as a shot, generally.<br /><br /><br />Edit: I found the source, cleaned it up a little and posted it in that thread.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>darryl.revok</b> [ Sat May 28, 2016 7:59 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Russian Roulette [Testers Needed]</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Is this going to be a Compo entry? I was thinking so since you linked it from the Compo planning thread.<br /><br />Just thinking this could be moved into the Compo 2016 subforum.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Jedi QuestMaster</b> [ Mon May 30, 2016 8:46 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Russian Roulette [Testers Needed]</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">darryl.revok wrote:</div><div class="quotecontent">Is this going to be a Compo entry? I was thinking so since you linked it from the Compo planning thread.<br /><br />Just thinking this could be moved into the Compo 2016 subforum.</div>Sure, that would be splendid.<br /><br />Here's the latest update.<br /><br /><div class="attachtitle">Attachment:</div><div class="attachcontent">
			<span class="genmed">
				<img src="./styles/subsilver2/imageset/icon_topic_attach.gif" width="14" height="18" alt="" title="" /> 
				<a href="./download/file.php?id=5906">RussianRoulette.nes</a> [288.03 KiB]
			</span><br />
			<span class="gensmall">Downloaded 121 times</span>
		

		<br />
	</div><br />I'm getting graphical glitches again; this time horizontal bars in certain tile spaces. Anyone else noticing these?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Mon May 30, 2016 9:33 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Russian Roulette [Testers Needed]</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Jedi QuestMaster wrote:</div><div class="quotecontent">I'm getting graphical glitches again; this time horizontal bars in certain tile spaces. Anyone else noticing these?</div><br />Where are you running it?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Jedi QuestMaster</b> [ Mon May 30, 2016 9:52 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Russian Roulette [Testers Needed]</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">thefox wrote:</div><div class="quotecontent">Where are you running it?</div><br /><span style="font-size: 90%; line-height: normal">On a PowerPak.</span>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Mon May 30, 2016 10:02 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Russian Roulette [Testers Needed]</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />This diagnostic from NDX might be a clue:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">Warning: Writing to $2007 while PPU is rendering (PC = $EBFA)&nbsp; (further messages suppressed)<br /></div>(Appears when the DEMO mode starts.)<br /><br />There was/is a glitch in most PowerPak mappers causing PPU writes during rendering (which signifies a bug in the program 99.9% of the time) to leak through to PowerPak's CHR-RAM chip. Details at <!-- l --><a class="postlink-local" href="http://forums.nesdev.com/viewtopic.php?f=9&amp;t=11339">viewtopic.php?f=9&amp;t=11339</a><!-- l -->.<br /><br />I worked around the glitch in PowerMappers v23 (at <!-- m --><a class="postlink" href="https://kkfos.aspekt.fi/">https://kkfos.aspekt.fi/</a><!-- m -->), but naturally this is something that's better fixed in the game itself.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>calima</b> [ Tue May 31, 2016 2:03 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Russian Roulette [Testers Needed]</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />ebfa is inside the NMI routine, specifically _flush_vram_update in neslib. The first update which loads the gun writes about 55 bytes to the nametable, which should be well below the 160 bytes recommendation even with the general overhead.<br /><br />The normal frame code likewise doesn't get even close to overdoing a frame, it stays below 1/5 with occasional spikes to 1/4.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Jedi QuestMaster</b> [ Thu Jun 02, 2016 11:41 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Russian Roulette [Testers Needed]</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">thefox wrote:</div><div class="quotecontent">I worked around the glitch in PowerMappers v23 (at <!-- m --><a class="postlink" href="https://kkfos.aspekt.fi/">https://kkfos.aspekt.fi/</a><!-- m -->), but naturally this is something that's better fixed in the game itself.</div><br />I used to have those! <img src="./images/smilies/icon_surprised.gif" alt=":o" title="Surprised" /> Okay, thanks. I'll try it out when I have time.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Jedi QuestMaster</b> [ Sat Jun 04, 2016 11:06 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Russian Roulette [Testers Needed]</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I tried out the ROM with PowerMappers v23 and don't see graphical glitches anymore.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Jedi QuestMaster</b> [ Wed Jun 15, 2016 9:04 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Russian Roulette [Testers Needed]</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Is there anyone out there willing to help out solely with the Zapper functions? I'd need someone who knows how to program and has the hardware to test it.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Wed Jun 15, 2016 9:08 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Russian Roulette [Testers Needed]</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Remind me what exactly it is you need done with the zapper? Just the bit where it's missing the trigger?

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>3</strong> of <strong>5</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>