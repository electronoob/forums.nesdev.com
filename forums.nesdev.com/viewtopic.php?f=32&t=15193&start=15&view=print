<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Progress Thread - Twin Dragons</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Progress Thread - Twin Dragons</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=32&amp;t=15193">http://forums.nesdev.com/viewtopic.php?f=32&amp;t=15193</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>2</strong> of <strong>7</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>glutock</b> [ Thu Dec 22, 2016 1:56 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Progress Thread - Twin Dragons (working title)</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">na_th_an wrote:</div><div class="quotecontent">It seems that you are using horizontal mirroring. Wouldn't vertical mirroring be more suited for a horizontal scrolling game, or are you planning 8 way scrolling or vertical stages?</div><br /><br />I had a 4-way scrolling engine that I used for 1-screen mode. I wanted to use it quickly for the compo, so I disabled the vertical scrolling feature to do a horizontal side scrolling game, using horizontal mirroring. Not the ideal solution because of the attribute glitches on the right, but it's not that bad.<br /><br /><div class="quotetitle">dougeff wrote:</div><div class="quotecontent">I could only get it to work with 1 emulator, FCEUX, (out of 4 that I tested)...I guess because it is mapper 28.<br /><br />It's kind of hard to jump onto a small platform (box)...or rather, too easy to jump completely over it.<br /><br />The music crashed after a minute or two.<br /><br />Otherwise, looks good. Hope you finish it soon.  <img src="./images/smilies/icon_mrgreen.gif" alt=":mrgreen:" title="Mr. Green" /></div><br /><br />The ROM works fine with FCEUX, Mesen, and puNES as far as I can tell. Also works ok on the AVS+Everdrive.<br />Maybe I got used to it, but I found jumping on a small platform was ok. Are you testing with keyboard or controller ?<br />However I can tweak the physics a bit to help.<br />I used a famitracker song from a friend for the music. It initially uses VRC6 expansion so that's why it may feels &quot;empty&quot; sometimes.<br />The song ends weirdly, but it's not a crash. There's no loop.<br /><br /><div class="quotetitle">rainwarrior wrote:</div><div class="quotecontent">Though nes2edit.exe complains it has inconsistent/malformed data in the header? (Not sure why, though, the header looks OK?) Maybe it's the use of byte 9 to suggest PAL, which most emulators ignore?<br /><br />(If you want FCEUX to automatically use PAL mode for it, you can put &quot;(E)&quot; on the end of the filename.)<br /></div><br /><br />Yes I tried to use the byte 9 for PAL but I guess I should set it back to $00.<br />I figured out that using &quot;(E)&quot; on the filename switch automatically the region in FCEUX (at least).<br /><br />Thanks for the feedback so far !

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>surt</b> [ Thu Dec 22, 2016 10:51 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Progress Thread - Twin Dragons (working title)</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Very cool.<br /><br />Only issues I've found is the PCs walk animation seems to play a frame or two too long when coming to a stop and possibly related changing direction while walking has a jarring delay.<br /><br /><div class="quotetitle">glutock wrote:</div><div class="quotecontent">I guess that Dinky will have to rescue Minky <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />.</div>The idea I had in my head was that the Dinky Drakes: Dinky and Minky (basically Mario and Luigi) are rescuing their absent-minded professor of archaeology father (their Peach/Henry Jones Sr.).<br /><br /><div class="quotetitle">dougeff wrote:</div><div class="quotecontent">My only issue issue, is, the clouds look upside down. If you study cloud science, there's something called a 'ceiling', below it, the temperature and pressure aren't right for cloud formation. So, the bottom of clouds tend to have a flat appearance.</div>They were originally intended to be used as platforms.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>glutock</b> [ Fri Dec 23, 2016 5:17 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Progress Thread - Twin Dragons (working title)</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Dinky can finally die, it brings you back to the title screen for now.<br />New ROM version attached<br /><br />See OP for latest ROM.<br /><br /><div class="quotetitle">surt wrote:</div><div class="quotecontent">Only issues I've found is the PCs walk animation seems to play a frame or two too long when coming to a stop and possibly related changing direction while walking has a jarring delay.</div><br /><br />I think I can adjust that.<br /><br /><div class="quotetitle">surt wrote:</div><div class="quotecontent">The idea I had in my head was that the Dinky Drakes: Dinky and Minky (basically Mario and Luigi) are rescuing their absent-minded professor of archaeology father (their Peach/Henry Jones Sr.).</div><br /><br />If you have any detailed idea of what you expect the game to be or look like, feel free to share your thoughts.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>glutock</b> [ Thu Dec 29, 2016 4:55 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Progress Thread - Twin Dragons (working title)</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Quick update :<br /><br />- a lot of bugs have been fixed<br />- 45Â° slopes are completely implemented<br />- player can jump down from one-way platforms / moving platforms by pressing down+jump<br />- background CHR is now full, and contains tiles for 2 worlds<br /><br /><img src="http://www.squirrelskitchen.com/nes/platformer-20161227-1.png" alt="Image" /><br /><br /><img src="http://www.squirrelskitchen.com/nes/falldown.gif" alt="Image" /><br /><br /><img src="http://www.squirrelskitchen.com/nes/slopes.gif" alt="Image" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>na_th_an</b> [ Fri Dec 30, 2016 5:04 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Progress Thread - Twin Dragons (working title)</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Beautiful, this is beautiful. Congrats.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Fri Dec 30, 2016 10:10 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Progress Thread - Twin Dragons</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />This looks really nice! It looks a little strange how the mushroom simply disappears when it dies though... Maybe you could add a little explosion or something? The moving platform suddenly appearing and disappearing at the edge of the screen instead of smoothly scrolling in and out is a little distracting too.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>glutock</b> [ Fri Dec 30, 2016 10:19 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Progress Thread - Twin Dragons</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent">This looks really nice! It looks a little strange how the mushroom simply disappears when it dies though... Maybe you could add a little explosion or something? The moving platform suddenly appearing and disappearing at the edge of the screen instead of smoothly scrolling in and out is a little distracting too.</div><br /><br />The mushroom will definitely have a death animation.<br /><br />I struggled a bit with the moving platform for a smooth apparition but haven't found a good / clean solution for now ...<br />I'll have a deeper look at it if I have enough time.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Fri Dec 30, 2016 1:36 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Progress Thread - Twin Dragons</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">glutock wrote:</div><div class="quotecontent">The mushroom will definitely have a death animation.</div><br />Cool!<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I struggled a bit with the moving platform for a smooth apparition but haven't found a good / clean solution for now ...<br />I'll have a deeper look at it if I have enough time.</div><br />This isn't the most terrible thing ever, and even some games from back in the day had objects &quot;popping&quot; near the edges of the screen. But your game looks very good, better than the average commercial NES game, so it'd be nice if all the action was as smooth as possible to top it off.<br /><br />I don't know how your meta-sprite system works, but as long as you work with 16-bit coordinates when generating the OAM entries, it should be easy to tell when individual sprites are off screen so you can skip them. You also need the &quot;active area&quot; to be a bit wider than the screen, so objects are activated a little ahead of time, and deactivated after they're entirely off screen.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Lazycow</b> [ Sat Dec 31, 2016 1:43 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Progress Thread - Twin Dragons (working title)</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Very adorable graphics! And the gameplay looks very polished, too.<br />How do you handle these 45 degree slanted blocks and these moving platforms, collision-wise? (platforms are sprites, right?)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>koitsu</b> [ Sat Dec 31, 2016 2:17 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Progress Thread - Twin Dragons (working title)</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">glutock wrote:</div><div class="quotecontent">I had a 4-way scrolling engine that I used for 1-screen mode. I wanted to use it quickly for the compo, so I disabled the vertical scrolling feature to do a horizontal side scrolling game, using horizontal mirroring. <span style="text-decoration: underline">Not the ideal solution because of the attribute glitches on the right</span>, but it's not that bad.</div><br />Then these posts/threads might interest you:<br /><br /><!-- l --><a class="postlink-local" href="http://forums.nesdev.com/viewtopic.php?p=102614#p102614">viewtopic.php?p=102614#p102614</a><!-- l --><br /><!-- l --><a class="postlink-local" href="http://forums.nesdev.com/viewtopic.php?f=10&amp;t=7844">viewtopic.php?f=10&amp;t=7844</a><!-- l --><br /><br />I swear I saw a post from Bregalad (I think it was him, could be wrong -- edit: ah yes, <a href="http://forums.nesdev.com/viewtopic.php?p=79592#p79592" class="postlink">it's here</a>) with a demonstration of this in effect; basically the &quot;glitching&quot; is seen on both sides of the screen (vs. entirely on the right), and visually it's a lot more tolerable (less noticeable).  But then again, the &quot;glitching&quot; in question is something that does have a kind of &quot;NES feel&quot; to it, that is to say, it has a nostalgia associated with it.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>glutock</b> [ Sat Dec 31, 2016 3:05 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Progress Thread - Twin Dragons</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent">I don't know how your meta-sprite system works, but as long as you work with 16-bit coordinates when generating the OAM entries, it should be easy to tell when individual sprites are off screen so you can skip them. You also need the &quot;active area&quot; to be a bit wider than the screen, so objects are activated a little ahead of time, and deactivated after they're entirely off screen.</div><br /><br />My &quot;active area&quot; is 64px wide on each side. Objects are only spawn in those zones, and deactivated/destroyed if too far. As long as they're on screen or in the active zones, they're processed (still moving, colliding, etc).<br /><br /><div class="quotetitle">Lazycow wrote:</div><div class="quotecontent">Very adorable graphics! And the gameplay looks very polished, too.<br />How do you handle these 45 degree slanted blocks and these moving platforms, collision-wise? (platforms are sprites, right?)</div><br /><br />I'm using height map for slopes.<br />Here's how I dit it :<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">// horizontal collision :<br /><br />if the actor's hotspot collide with slope for the first time then<br />&nbsp; &nbsp; decrement actor Y position<br />&nbsp; &nbsp; set on-slope flag<br />&nbsp; &nbsp; never collide with slopes<br />else<br />&nbsp; &nbsp; do normal collision checks<br />end if<br /><br />// vertical collision :<br /><br />if the actor's hotspot collide with slope then<br />&nbsp; &nbsp; if the player is jumping, then <br />&nbsp; &nbsp; &nbsp; &nbsp; don't collide and return<br />&nbsp; &nbsp; else // here the player is walking or standing or falling<br />&nbsp; &nbsp; &nbsp; &nbsp; if the player's Y position is 'under' the height map value or 3px above, then<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'glue' the actor to the slope using the height map<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return<br />&nbsp; &nbsp; &nbsp; &nbsp; else<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; don't collide and return<br />&nbsp; &nbsp; &nbsp; &nbsp; end if<br />&nbsp; &nbsp; end if<br />else<br />&nbsp; &nbsp; do normal vertical collision checks<br />end if<br /><br />// gravity :<br /><br />if player is on slope and going down the slope then<br />&nbsp; &nbsp; add X speed to gravity (or instead gravity or juste double gravity)<br />&nbsp; &nbsp; // it avoids jerky movement from a slope tile to an other<br />end if<br /><br /></div><br /><br /><div class="quotetitle">koitsu wrote:</div><div class="quotecontent">Then these posts/threads might interest you:<br /><br /><!-- l --><a class="postlink-local" href="http://forums.nesdev.com/viewtopic.php?p=102614#p102614">viewtopic.php?p=102614#p102614</a><!-- l --><br /><!-- l --><a class="postlink-local" href="http://forums.nesdev.com/viewtopic.php?f=10&amp;t=7844">viewtopic.php?f=10&amp;t=7844</a><!-- l --><br /><br />I swear I saw a post from Bregalad (I think it was him, could be wrong -- edit: ah yes, <a href="http://forums.nesdev.com/viewtopic.php?p=79592#p79592" class="postlink">it's here</a>) with a demonstration of this in effect; basically the &quot;glitching&quot; is seen on both sides of the screen (vs. entirely on the right), and visually it's a lot more tolerable (less noticeable).  But then again, the &quot;glitching&quot; in question is something that does have a kind of &quot;NES feel&quot; to it, that is to say, it has a nostalgia associated with it.</div><br /><br />Yes, I read those threads before, and thought about doing something like this. However, like you said, it has a &quot;NES feel&quot; so I won't change it for now. But I'll definitely try something if I've got spare time before deadline !

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>glutock</b> [ Sat Dec 31, 2016 4:39 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Progress Thread - Twin Dragons</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Lazycow wrote:</div><div class="quotecontent">Very adorable graphics! And the gameplay looks very polished, too.<br />How do you handle these 45 degree slanted blocks and these moving platforms, collision-wise? (platforms are sprites, right?)</div><br /><br />Sorry I forgot to answer the second part of your question about moving platforms.<br /><br />Yes platforms are sprites.<br />Before updating actors, I update platforms first (2 max on screen at the same time in my engine for now but can be more).<br />This way, their position is updated, and if there are actors on platforms, their position is updated too.<br />After that I update actors, and check for actor/platform collision if needed.<br /><br />I don't know if it's the best way to do it, but it works for me.<br />Tell me if you need more details.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>glutock</b> [ Thu Jan 05, 2017 3:20 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Progress Thread - Twin Dragons</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Item collect and enemy death animations, and a lot of bugs fixed !<br />Next step : flying enemies !<br /><br /><img src="http://squirrelskitchen.com/nes/collect.gif" alt="Image" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>FrankenGraphics</b> [ Fri Jan 06, 2017 4:55 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Progress Thread - Twin Dragons</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Nice! The button press widget is a nice touch, too. I wonder if it would feel a little more natural if the powerup/red chili would move to the north-east corner instead of the north-west? Not that i think either is right or wrong; it's just something i reflected on. <br /><br />Will there be a sound effect when taking out enemy objects? The plucking sound in SMB always felt satisfying.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Fri Jan 06, 2017 8:08 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Progress Thread - Twin Dragons</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I think that particular &quot;button press widget&quot; is part of the emulator. I remember seeing it in FCEUX.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>2</strong> of <strong>7</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>