<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Basic Questions and Not so Basic Questions?</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Basic Questions and Not so Basic Questions?</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=10&amp;t=1543">http://forums.nesdev.com/viewtopic.php?f=10&amp;t=1543</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>2</strong> of <strong>2</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Sun May 21, 2006 8:20 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />True, Quietust. I detect some sort of lack of focus on the part of the person asking the questions, seeing how totally different questions are asked in a very short period of time.
<br />
<br />It's not like anyone can master all aspects of NES programming in a few weeks. It's better to focus on one thing. After that's covered, then you move on to the next point.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>blargg</b> [ Sun May 21, 2006 8:43 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">never-obsolete wrote:</div><div class="quotecontent">in any group of people, the correlation of members and childish antics rise together.</div><br /><br />What's the use of making an ass of oneself without an audience?<br /><br /><div class="quotetitle">Quietust wrote:</div><div class="quotecontent">I guess the main issue at hand here is when a user asks a bunch of complicated questions and we spend our time to answer them, and afterwards the user asks us the simplest possible questions whose answers are prerequisites for understanding any of the issues behind the user's previous questions, thus giving the impression that the user's sole objective was nothing more than to waste our time.</div>
<br />
<br />I tend to have this reaction when someone wants spoon-feeding, which <em>is</em> a total waste of time. No matter how much you feed them, they're right back at square one the moment they swallow. Unless you feed them something equivalent to ""type '<em>man man</em>' and get back with me after you've explored it".

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>nineTENdo</b> [ Mon May 22, 2006 7:30 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Quietust wrote:</div><div class="quotecontent">and afterwards the user asks us the simplest possible questions whose answers are prerequisites for understanding any of the issues behind the user's previous questions, thus giving the impression that the user's sole objective was nothing more than to waste our time.</div>
<br />
<br />My previous questions still hold ground for me and everone else who learns from them.  I read in a previous forum on how its not good to just copy and paste code but to actually learn how it works "bitwise".  Well now the "man why didnt he do this" or  " think he meant this" or " im pretty sure its this"  from reading code just got me frustrated and i wanted those "im not entirly sures" to be for certain.
<br />
<br />Its a pain in the ass when you see something like ROL $02 and theres no declaration for it in the variables list.   Then that makes you think "is it rotating the 2 bit".  Heres what im triping out on:
<br />
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">Joy loop:<br />lda&nbsp; &nbsp;$4016<br />and&nbsp; #$03&nbsp; &nbsp; &nbsp;; this <br />cmp #$01<br />rol&nbsp; &nbsp;$02&nbsp; &nbsp; &nbsp; &nbsp; ;this<br />dex<br />bne joyloop<br /><br />lda $02&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; this<br />sta joystick1<br /><br />rts</div>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Disch</b> [ Mon May 22, 2006 8:54 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Well I find that method of joy reading to be inefficient and fugly (the CMP could be avoided altogether, and the AND is rather strange).  To disect code like this, all you have to do is break it down step by step.  Every instruction does a very small task, and if you look at what each instruction is doing, you can figure out what the whole block of code is doing.
<br />
<br />This code in paticular makes heavy use of the C flag.  So knowing how the C flag works with ROL and CMP is vital to understanding this code.  Knowing what the $4016 register does is also important.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>abonetochew</b> [ Mon May 22, 2006 9:12 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />doesn't ROL $02 mean:
<br />- read the byte at $02
<br />- shift left once through the carry flag
<br />- write back to $02

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Mon May 22, 2006 9:48 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Yeah. I guess that joypad reading loop is reading the state of each button and shifting them into the byte at $02.
<br />
<br />I don't know where the idea that the "$02" was the number of times to shift the value came from... I guess newer CPU architectures allow that, but it is certainly not true for the 6502.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>blargg</b> [ Mon May 22, 2006 1:39 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The 6502 assembler format is somewhat confusing when compared to more modern ones. Usually an unqualified number is an immediate constant, not a memory address. The 6502 instructions are unusually consistent and flexible compared to other processors of the time, so the particular instruction is determined in large part by the <em>types</em> of the operands, rather than just the mnemonic. It's doubly confusing when people don't name memory locations, resulting in ROL 2 not doing the obvious "rotate left by 2 bits".

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Mon May 22, 2006 2:59 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Imagine any small number that doesn't have a # before it being prefixed by a letter 'r'. Thus, ROL 2 becomes ROL r2, which might be easier to understand if you think of zero page as a pseudo-register file stored in RAM.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Quietust</b> [ Mon May 22, 2006 4:46 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The purpose for doing "AND #$03 | CMP #$01" is so that the code will work properly on a Famicom with special controllers, which appear on D1 instead of D0. If the result turns out to be 0, "CMP #$01" will leave carry clear, whereas results of 1 (hardwired controller pressed), 2 (custom controller pressed), or 3 (both controllers pressed) will result in the button being picked up.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>never-obsolete</b> [ Mon May 22, 2006 6:12 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I don't know where the idea that the "$02" was the number of times to shift the value came from<br /></div>
<br />
<br />that statement was posted earlier in the thread, but made no sense to me, so i brought it up to avoid misinformation.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>blargg</b> [ Mon May 22, 2006 7:42 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">Imagine any small number that doesn't have a # before it being prefixed by a letter 'r'. Thus, ROL 2 becomes ROL r2, which might be easier to understand if you think of zero page as a pseudo-register file stored in RAM.</div>
<br />
<br />What a nifty idea! Add this to your standard 6502 defines:
<br />
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">r0 = $0<br />r1 = $1<br />...<br />rf = $f<br /><br />sta r0<br />lda r1<br />adc r2<br />rol r3<br /></div>
<br />
<br />End the confusion and think of them as bunch of new semi-fast (scratch) registers!

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Disch</b> [ Mon May 22, 2006 7:52 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Heh... that would just confuse me more.  It's like those identifiers which are harder to remember than the address they represent.
<br />
<br />like "STA S1FL" instead of "STA $4002"... it's like what's the point.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Mon May 22, 2006 8:06 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />But then I use the first 16 bytes of RAM only for local variables within a subroutine or within a tightly coupled set of subroutines, and I document what they do in comments.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>mozz</b> [ Tue May 30, 2006 10:43 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><a href="http://www.catb.org/~esr/faqs/smart-questions.html" class="postlink">How To Ask Questions The Smart Way</a> by Eric S. Raymond.
<br />
<br />An oldie but a goodie.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>2</strong> of <strong>2</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>