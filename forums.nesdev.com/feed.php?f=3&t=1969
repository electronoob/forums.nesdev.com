<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="http://forums.nesdev.com/feed.php?f=3&amp;t=1969" />

<title>nesdev.com</title>
<subtitle>NES Development and Strangulation Records message boards</subtitle>
<link href="http://forums.nesdev.com/index.php" />
<updated>2006-09-08T08:27:38-07:00</updated>

<author><name><![CDATA[nesdev.com]]></name></author>
<id>http://forums.nesdev.com/feed.php?f=3&amp;t=1969</id>
<entry>
<author><name><![CDATA[n6]]></name></author>
<updated>2006-09-08T08:27:38-07:00</updated>
<published>2006-09-08T08:27:38-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=1969&amp;p=17100#p17100</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=1969&amp;p=17100#p17100"/>
<title type="html"><![CDATA[mmc1 character bank swaping]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=1969&amp;p=17100#p17100"><![CDATA[
my problem is solved, my writes to 0x6000-0x7FFF didn't work properly.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=766">n6</a> — Fri Sep 08, 2006 8:27 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[blargg]]></name></author>
<updated>2006-09-06T17:29:17-07:00</updated>
<published>2006-09-06T17:29:17-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=1969&amp;p=17017#p17017</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=1969&amp;p=17017#p17017"/>
<title type="html"><![CDATA[mmc1 character bank swaping]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=1969&amp;p=17017#p17017"><![CDATA[
If you're posting a few quick images to a board like this and your program outputs only .bmp, it might be worth the few extra seconds of download to not bother with conversion to another image format. But for a general web page, using .bmp would be idiotic.<br /><br />Now I'm quite sure we've wasted whatever benefit could have been gained now and in the future by avoiding converting .bmp in these cases. <img src="http://forums.nesdev.com/images/smilies/icon_smile.gif" alt=":)" title="Smile" /><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=17">blargg</a> — Wed Sep 06, 2006 5:29 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2006-09-06T15:49:13-07:00</updated>
<published>2006-09-06T15:49:13-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=1969&amp;p=17007#p17007</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=1969&amp;p=17007#p17007"/>
<title type="html"><![CDATA[mmc1 character bank swaping]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=1969&amp;p=17007#p17007"><![CDATA[
<div class="quotetitle">Disch wrote:</div><div class="quotecontent"><br />On a side note:  .bmp?  No .bmp has any place on the internet.<br /></div><br />I agree that it's not a good generic format for web images because all graphical web browsers in common use support PNG. But it's useful if I'm providing .bmp.zip (which is pretty much what .png is) because I'm using .bmp for textures in a PC program that I have developed, right? At least that's what I'm doing in <a href="http://www.pineight.com/lj/" class="postlink">a reference implementation of the tetromino game</a> because statically linking libpng would make the download bigger than just zipping the sample skins, which are in .bmp format.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Wed Sep 06, 2006 3:49 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[n6]]></name></author>
<updated>2006-09-06T12:26:31-07:00</updated>
<published>2006-09-06T12:26:31-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=1969&amp;p=16997#p16997</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=1969&amp;p=16997#p16997"/>
<title type="html"><![CDATA[mmc1 character bank swaping]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=1969&amp;p=16997#p16997"><![CDATA[
<div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />if nestest passes, why do you think it is a cpu bug ?<br /></div><br />1. The behaviour looks more like a read/write error more then a rendering problem I think.<br />2. because nestest have passed earlier even cause it was bugs.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />if the nestress cursor doest appear, dont you think that might be a problem worth fixing ?<br /></div><br />Of course it is, but I think that is a cpu bug as well.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />have you gotten any of blargg's test to work ? you might have a bug in the ppu and/or sprites.<br /></div><br />That the sprite wasnt shown was a ppu bug but its still not possible to select.<br />All ppu test passes, Ive very inaccurate sprite hit and max sprites code so these tests fail a lot, but I don't think these flags have with the todo.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />also, you might want to start another thread if its off topic.<br /></div><br />Yeah I know, just wanted to answer, I first thought it was a similiar problem as you had.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=766">n6</a> — Wed Sep 06, 2006 12:26 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[mattmatteh]]></name></author>
<updated>2006-09-06T12:04:07-07:00</updated>
<published>2006-09-06T12:04:07-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=1969&amp;p=16996#p16996</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=1969&amp;p=16996#p16996"/>
<title type="html"><![CDATA[mmc1 character bank swaping]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=1969&amp;p=16996#p16996"><![CDATA[
if nestest passes, why do you think it is a cpu bug ?<br /><br />if the nestress cursor doest appear, dont you think that might be a problem worth fixing ?<br /><br />have you gotten any of blargg's test to work ?  you might have a bug in the ppu and/or sprites.<br /><br />also, you might want to start another thread if its off topic.<br /><br />matt<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=170">mattmatteh</a> — Wed Sep 06, 2006 12:04 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[n6]]></name></author>
<updated>2006-09-06T06:26:03-07:00</updated>
<published>2006-09-06T06:26:03-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=1969&amp;p=16991#p16991</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=1969&amp;p=16991#p16991"/>
<title type="html"><![CDATA[mmc1 character bank swaping]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=1969&amp;p=16991#p16991"><![CDATA[
nestest passes, the nestress cursor doesnt appear and I can't select so I can just run the PPU test, but I also think it is a CPU-bug more then a mapperbug I'll look through the opcodes once again, thanks<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=766">n6</a> — Wed Sep 06, 2006 6:26 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Disch]]></name></author>
<updated>2006-09-05T20:29:14-07:00</updated>
<published>2006-09-05T20:29:14-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=1969&amp;p=16985#p16985</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=1969&amp;p=16985#p16985"/>
<title type="html"><![CDATA[mmc1 character bank swaping]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=1969&amp;p=16985#p16985"><![CDATA[
On a side note:  .bmp?  No .bmp has any place on the internet.<br /><br />On the actual note:<br /><br />I don't really see how this could be a CHR problem -- something else seems to be going terribly wrong here.  Metroid shows doors (which appear to be sprites) on both the left and right sides of the screen ... when in fact there are NO doors at that point in the game.  So the game is drawing doors when it shouldn't be... which is a big red flag saying "hey, the game code isn't executing properly"<br /><br /><br />Have you passed the nestest ROM and/or the CPU portion of NEStress?<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />I can see that bit4 of register 3 is written to, actually I dont exactly understand what it is, is it important for these games?<br /></div><br /><br />I don't think bit 4 of reg 3 is <em>EVER</em> set in Metroid or Final Fantasy.<br /><br />Sounding more and more like a CPU bug.<br /><br />What it does, though, is when set, it will make the cartridge RAM at $6000-7FFF inaccessable.  If set and the game tries to write there, the writes will do nothing ... and reads will get open bus.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=33">Disch</a> — Tue Sep 05, 2006 8:29 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[n6]]></name></author>
<updated>2006-09-05T16:42:55-07:00</updated>
<published>2006-09-05T16:42:55-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=1969&amp;p=16963#p16963</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=1969&amp;p=16963#p16963"/>
<title type="html"><![CDATA[mmc1 character bank swaping]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=1969&amp;p=16963#p16963"><![CDATA[
Nope, it wasnt the nametable... about the same thing happens with ff1, when the game starts the airship appears in a green area.<br /><br />here is screenshots from both games:<br /><a href="http://www.nancy-6.com/me.bmp" class="postlink">http://www.nancy-6.com/me.bmp</a><br /><a href="http://www.nancy-6.com/ff.bmp" class="postlink">http://www.nancy-6.com/ff.bmp</a><br /><br />in ff its like in metroid when you have selected your names and the game is about to start, this happens.<br /><br />I can see that bit4 of register 3 is written to, actually I dont exactly understand what it is, is it important for these games?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=766">n6</a> — Tue Sep 05, 2006 4:42 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Disch]]></name></author>
<updated>2006-09-05T15:48:24-07:00</updated>
<published>2006-09-05T15:48:24-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=1969&amp;p=16959#p16959</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=1969&amp;p=16959#p16959"/>
<title type="html"><![CDATA[mmc1 character bank swaping]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=1969&amp;p=16959#p16959"><![CDATA[
<div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />Metroid looks fine until I start the actual game then everything is filled with a single tile.<br /></div><br /><br />Are you sure this isn't a nametable mirroring issue?  Double-check your MMC1 mirroring code to make sure it's doing things right.<br /><br />EDIT -- actually, in retrospect I doubt this is the issue, but it can't hurt to check it anyway.<br /><br /><div class="quotetitle">n6 wrote:</div><div class="quotecontent"><br />I still don't exactly understand what happens when CHR selecting occurs if CHR-RAM is used.<br /></div><br /><br />The same thing.  Just instead of ROM, it's RAM.<br /><br />Most MMC1 games with CHR-RAM will just throw the mapper into 8k mode, and maybe write 0 to the CHR regs once at startup, then just leave it like that forever.<br /><br /><br />Some games for other mappers (notably:  Lagrange Point)  will actually require that you have CHR-RAM selectable just as if it were CHR-ROM<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=33">Disch</a> — Tue Sep 05, 2006 3:48 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2006-09-05T10:35:44-07:00</updated>
<published>2006-09-05T10:35:44-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=1969&amp;p=16951#p16951</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=1969&amp;p=16951#p16951"/>
<title type="html"><![CDATA[mmc1 character bank swaping]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=1969&amp;p=16951#p16951"><![CDATA[
<div class="quotetitle">blargg wrote:</div><div class="quotecontent"><br />Suggestion: end the potential confusion and u the word "select" in place of "swap".<br /></div><br />Unless you're trying to run an emulator on a machine with less RAM than the ROM that you're trying to run. Then you have to load the ROM as a swap file. But I'm glad that Dwedit managed to get so much of the NES library playable in PocketNES on the GBA Movie Player.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Tue Sep 05, 2006 10:35 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[n6]]></name></author>
<updated>2006-09-05T10:32:31-07:00</updated>
<published>2006-09-05T10:32:31-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=1969&amp;p=16950#p16950</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=1969&amp;p=16950#p16950"/>
<title type="html"><![CDATA[mmc1 character bank swaping]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=1969&amp;p=16950#p16950"><![CDATA[
<div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />think that was it. a quick hack and zelda, metroid, final fantasy, and bionic commando looked alot better.<br /></div><br />What did you do? Metroid looks fine until I start the actual game then everything is filled with a single tile.<br /><br />I still don't exactly understand what happens when CHR selecting occurs if CHR-RAM is used.<br /><br />thanks<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=766">n6</a> — Tue Sep 05, 2006 10:32 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[blargg]]></name></author>
<updated>2006-09-01T22:20:10-07:00</updated>
<published>2006-09-01T22:20:10-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=1969&amp;p=16821#p16821</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=1969&amp;p=16821#p16821"/>
<title type="html"><![CDATA[mmc1 character bank swaping]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=1969&amp;p=16821#p16821"><![CDATA[
Suggestion: end the potential confusion and u the word "select" in place of "swap". We are the word makers, the dreamers of dreams. If you select something again, nothing changes. If you swap something twice, you get back to the original. Swap implies more state than exists, while select doesn't.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=17">blargg</a> — Fri Sep 01, 2006 10:20 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Disch]]></name></author>
<updated>2006-09-01T21:41:57-07:00</updated>
<published>2006-09-01T21:41:57-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=1969&amp;p=16819#p16819</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=1969&amp;p=16819#p16819"/>
<title type="html"><![CDATA[mmc1 character bank swaping]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=1969&amp;p=16819#p16819"><![CDATA[
<div class="quotetitle">mattmatteh wrote:</div><div class="quotecontent"><br />i suppose i was referring to what happens when there is a change on reg 0.<br /></div><br /><br />Changing the mode simply changes how the CHR regs are applied.  The behavior can be inferred from the page on the wiki.<br /><br />Remember that no actual "swap" takes place... it's just the mapper replacing the high address bits with an internal register.  The order the regs are written does not matter in the end... ultimately, it comes down to the contents of the registers.<br /><br />At ANY time bit 4 of reg 0 is clear, reg 1 is used as the 8k page number, and at any time bit 4 of reg 0 is set, regs 1 and 2 will be used as the 4k page number.<br /><br /><br />In an emulator, if you use a "swap" style approach, you <em>will</em> have to reswap everything on a reg 0 write if the mode changes.  Many emus do this by having a "sync" function:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">void Sync&#40;&#41;<br />&#123;<br />  if&#40;reg0 &amp; 0x10&#41;   // 4k mode<br />  &#123;<br />    SwapCHR_4k&#40;0x0000,reg1&#41;;<br />    SwapCHR_4k&#40;0x1000,reg2&#41;;<br />  &#125;<br />  else    // 8k mode<br />    SwapCHR_8k&#40;0x0000,reg1 &gt;&gt; 1&#41;;<br />&#125;<br /></div><br /><br />Then all Sync on every related reg write (in this case, regs 0-2)<br /><br /><br /><br />Many mappers operate this way (MMC3 and MMC5 included).  Mode changes often have an immediate effect and will need to have things reswapped using the contents of each register.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=33">Disch</a> — Fri Sep 01, 2006 9:41 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[mattmatteh]]></name></author>
<updated>2006-09-01T20:10:22-07:00</updated>
<published>2006-09-01T20:10:22-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=1969&amp;p=16815#p16815</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=1969&amp;p=16815#p16815"/>
<title type="html"><![CDATA[mmc1 character bank swaping]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=1969&amp;p=16815#p16815"><![CDATA[
i think that was it.  a quick hack and zelda, metroid, final fantasy, and bionic commando looked alot better.<br /><br />thanks !!<br /><br />matt<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=170">mattmatteh</a> — Fri Sep 01, 2006 8:10 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Memblers]]></name></author>
<updated>2006-09-01T19:07:40-07:00</updated>
<published>2006-09-01T19:07:40-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=1969&amp;p=16812#p16812</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=1969&amp;p=16812#p16812"/>
<title type="html"><![CDATA[mmc1 character bank swaping]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=1969&amp;p=16812#p16812"><![CDATA[
Looks to me like most of the games you list as being messed up use CHR-RAM (except RC Pro-AM, I think, I'm just going from memory), so they wouldn't use CHR switching at all.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=10">Memblers</a> — Fri Sep 01, 2006 7:07 pm</p><hr />
]]></content>
</entry>
</feed>