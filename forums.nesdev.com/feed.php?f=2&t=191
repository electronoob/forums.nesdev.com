<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="http://forums.nesdev.com/feed.php?f=2&amp;t=191" />

<title>nesdev.com</title>
<subtitle>NES Development and Strangulation Records message boards</subtitle>
<link href="http://forums.nesdev.com/index.php" />
<updated>2006-01-31T14:45:56-07:00</updated>

<author><name><![CDATA[nesdev.com]]></name></author>
<id>http://forums.nesdev.com/feed.php?f=2&amp;t=191</id>
<entry>
<author><name><![CDATA[Memblers]]></name></author>
<updated>2006-01-31T14:45:56-07:00</updated>
<published>2006-01-31T14:45:56-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=191&amp;p=8887#p8887</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=191&amp;p=8887#p8887"/>
<title type="html"><![CDATA[scanline &quot;detecting&quot;]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=191&amp;p=8887#p8887"><![CDATA[
It's here:<br /><a href="http://memblers.home.comcast.net/fautest.zip" class="postlink">http://memblers.home.comcast.net/fautest.zip</a><br /><br />There's more info further into this thread:<br /><a href="http://nesdev.com/bbs/viewtopic.php?t=757" class="postlink">http://nesdev.com/bbs/viewtopic.php?t=757</a><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=10">Memblers</a> — Tue Jan 31, 2006 2:45 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Anonymous]]></name></author>
<updated>2006-01-31T11:59:59-07:00</updated>
<published>2006-01-31T11:59:59-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=191&amp;p=8872#p8872</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=191&amp;p=8872#p8872"/>
<title type="html"><![CDATA[download FAU]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=191&amp;p=8872#p8872"><![CDATA[
where can i download FAU???<br />or it is only stuff of memblers..<br />i would like seeing code of FAU..<p>Statistics: Posted by Guest — Tue Jan 31, 2006 11:59 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Bregalad]]></name></author>
<updated>2006-01-31T10:56:45-07:00</updated>
<published>2006-01-31T10:56:45-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=191&amp;p=8859#p8859</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=191&amp;p=8859#p8859"/>
<title type="html"><![CDATA[scanline &quot;detecting&quot;]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=191&amp;p=8859#p8859"><![CDATA[
FAU is a demo written by memblers that change the palette midframe.<br />However, for pratical reason, I really think everyone must consider the NES to not be able to change the palette midframe (without blanking a portion of the screen).<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=38">Bregalad</a> — Tue Jan 31, 2006 10:56 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Anonymous]]></name></author>
<updated>2006-01-31T10:41:59-07:00</updated>
<published>2006-01-31T10:41:59-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=191&amp;p=8853#p8853</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=191&amp;p=8853#p8853"/>
<title type="html"><![CDATA[what is FAU??]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=191&amp;p=8853#p8853"><![CDATA[
Im new here. i read FAU, changing palette.<br /><br />what is FAU??. can you give me a link? please<p>Statistics: Posted by Guest — Tue Jan 31, 2006 10:41 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tokumaru]]></name></author>
<updated>2006-01-31T09:17:22-07:00</updated>
<published>2006-01-31T09:17:22-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=191&amp;p=8852#p8852</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=191&amp;p=8852#p8852"/>
<title type="html"><![CDATA[Re: scanline &quot;detecting&quot;]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=191&amp;p=8852#p8852"><![CDATA[
<div class="quotetitle">pragma wrote:</div><div class="quotecontent"><br />If I may: 28 cycles is more than enough time to write to a palette register or two, which is great for doing color cycling effects like copper bars.  The timing would be tough to get right for a full-on game project, but it looks pretty nifty in demos.<br /></div><br />Yeah, there is a thread going on about this: <!-- m --><a class="postlink" href="http://nesdev.com/bbs/viewtopic.php?t=1019">http://nesdev.com/bbs/viewtopic.php?t=1019</a><!-- m --><br />It is very discouraging, though.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />Its a shame that the NES dosen't have an hblank interrupt.  Sometimes, I miss VGA programming.<br /></div><br />VGA programming was indeed very fun.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=95">tokumaru</a> — Tue Jan 31, 2006 9:17 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[pragma]]></name></author>
<updated>2006-01-31T08:43:47-07:00</updated>
<published>2006-01-31T08:43:47-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=191&amp;p=8849#p8849</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=191&amp;p=8849#p8849"/>
<title type="html"><![CDATA[Re: scanline &quot;detecting&quot;]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=191&amp;p=8849#p8849"><![CDATA[
<div class="quotetitle">tokumaru wrote:</div><div class="quotecontent"><br />I'll try to cover the rest.<br /><br /><div class="quotetitle">lord_Chile wrote:</div><div class="quotecontent">how long is hblank cycles????<br />how can i wait for a hblank??<br /></div><br /><br />HBlank is about 85 PPU cycles long, wich is about 28 CPU cycles. There is no way to "wait" for it as there is with VBlank. You can run timed code based on previous events (like a sprite 0 hit or a mapper IRQ) so you can hopefully execute something during HBlank, but that's about it. Don't bother with it, there is so little time in HBlank that you'll hardly be able to do something usefull with it.</div><br /><br />If I may: 28 cycles is more than enough time to write to a palette register or two, which is great for doing color cycling effects like copper bars.  The timing would be tough to get right for a full-on game project, but it looks pretty nifty in demos.  Also, I'd reckon that almost no emulator is likely to get the timing right so you'd have to run it on real hardware to get it right.<br /><br />Its a shame that the NES dosen't have an hblank interrupt.  Sometimes, I miss VGA programming.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=273">pragma</a> — Tue Jan 31, 2006 8:43 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tokumaru]]></name></author>
<updated>2006-01-31T08:26:37-07:00</updated>
<published>2006-01-31T08:26:37-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=191&amp;p=8848#p8848</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=191&amp;p=8848#p8848"/>
<title type="html"><![CDATA[Re: scanline &quot;detecting&quot;]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=191&amp;p=8848#p8848"><![CDATA[
I'll try to cover the rest.<br /><br /><div class="quotetitle">lord_Chile wrote:</div><div class="quotecontent"><br />how long is hblank cycles????<br />how can i wait for a hblank??<br /></div><br /><br />HBlank is about 85 PPU cycles long, wich is about 28 CPU cycles. There is no way to "wait" for it as there is with VBlank. You can run timed code based on previous events (like a sprite 0 hit or a mapper IRQ) so you can hopefully execute something during HBlank, but that's about it. Don't bother with it, there is so little time in HBlank that you'll hardly be able to do something usefull with it.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />do exists any nes game that use nearly all vblank time<br />brutally just in order to run for 100% the limit of vblank and game see good with no glitches??....<br /></div><br />Using all the VBlank time is a common thing for scrollers, that need to redraw large parts of the screen every frame. The glitches we may get from scrolling are caused by the low resolution of the attributes and has nothing to do with VBlank. But your game will be very glitchy if if you write to the PPU past VBlank time, so, be sure you don't.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />I was thinking that vblank take all screen in order to refresh.. then what about definition: vblank is when gun of light point the lower right of TV. and it's going to upper left of TV in order to repositionate cursor???<br /></div><br />That's exactly what VBlank is: the time the light beam that draws the picture to the TV takes to move from the bottom right corner to the top left corner, to start drawing the next frame. Jus as HBlank is the time it takes to move from the right end of the scanline back to the beginning of the next, to the left.<br /><br />I don't know why VBlank is accounted as regular scanlines... I think the 20 scanlines figure just means that VBlank takes the same ammount of time as 20 rendered scanlines would. I can't be sure on that, though.<br /><br />EDIT:<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />what, vblank is 20 lines not 240 of TV??<br /></div><br />The 20 VBlank scanlines are one thing and the 240 rendered scanlines are another thing. They both exist, one before the other. First there are the 20 VBlank scanlines and then there are the 240 scanlines of actual picture. You can't draw to the PPU during the 240 rendered scanlines, only during the 20 VBlank ones. That's why you have to *wait* for the start of these 20 scanlines, so you can use all avaliable time for drawing, and be sure you're done before the 20 scanlines are.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=95">tokumaru</a> — Tue Jan 31, 2006 8:26 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Anonymous]]></name></author>
<updated>2006-01-31T08:04:00-07:00</updated>
<published>2006-01-31T08:04:00-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=191&amp;p=8846#p8846</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=191&amp;p=8846#p8846"/>
<title type="html"><![CDATA[what, vblank is 20 lines not 240 of TV??]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=191&amp;p=8846#p8846"><![CDATA[
<div class="quotetitle">Fx3 wrote:</div><div class="quotecontent"><br />VBlank takes 20 scanlines, or from scanline 0 up to 19.<br /></div><br /><br /><br />I was thinking that vblank take all screen in order to refresh.. then what about definition: vblank is when gun of light point the lower right of TV. and it's going to upper left of TV in order to repositionate cursor???<p>Statistics: Posted by Guest — Tue Jan 31, 2006 8:04 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Zepper]]></name></author>
<updated>2006-01-31T07:49:41-07:00</updated>
<published>2006-01-31T07:49:41-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=191&amp;p=8845#p8845</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=191&amp;p=8845#p8845"/>
<title type="html"><![CDATA[scanline &quot;detecting&quot;]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=191&amp;p=8845#p8845"><![CDATA[
VBlank takes 20 scanlines, or from scanline 0 up to 19. <br />Scanline 20 is a pre-rendered one.<br />Scanlines 21-260 are the visible field and... 261 the PPU does nothing.<br /><br />VBlank is 20*262 PPU cycles long, minus 1 on odd frames if background is enabled. To convert it into CPU cycles, just divide by 3.<br /><br />AFAIK, the PPU starts at scanline 21. I didn't understand about "wait for VBlank in 1 cycle"... o.O<br /><br />HBlank starts at PPU cycle 256 up to 341 (per line).<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=39">Zepper</a> — Tue Jan 31, 2006 7:49 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Anonymous]]></name></author>
<updated>2006-01-31T07:30:11-07:00</updated>
<published>2006-01-31T07:30:11-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=191&amp;p=8843#p8843</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=191&amp;p=8843#p8843"/>
<title type="html"><![CDATA[Re: scanline &quot;detecting&quot;]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=191&amp;p=8843#p8843"><![CDATA[
how long is Vblank on cycles????<br />when i wait for vblank, i take it on cycle 1??<br /><br />how long is hblank cycles????<br />how can i wait for a hblank??<br /><br />do exists any nes game that use nearly all vblank time<br />brutally just in order to run for 100% the limit of vblank and game see good with no glitches??....<p>Statistics: Posted by Guest — Tue Jan 31, 2006 7:30 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tokumaru]]></name></author>
<updated>2006-01-30T22:43:19-07:00</updated>
<published>2006-01-30T22:43:19-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=191&amp;p=8825#p8825</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=191&amp;p=8825#p8825"/>
<title type="html"><![CDATA[scanline &quot;detecting&quot;]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=191&amp;p=8825#p8825"><![CDATA[
<div class="quotetitle">Hyde wrote:</div><div class="quotecontent"><br />The scheme used by Guardian Legend is more complicated than that. That game uses DMC IRQs as a timer so that it knows when to update the status bar whenever 64 sprites are to be displayed on the screen without wasting the primary object.<br /></div><br />Sorry for bringing such an old topic back but... So Guardian Legend does not use that method for detecting a scanline, but I found a game that does: Big Nose Freaks Out.<br /><br />You can clearly see a square at the right bottom right corner of the screen, right before the screen is turned off. Now, I don't know how valid this technique can be... I mean, the screen is disabled early so that the programmer has more time to write stuff to VRAM. But by using sprite 0 hit for that the programmer looses time waiting for the hit.<br /><br />I know they are different types of "time", but still... if you can't process much during rendering you won't have much to draw in VBlank. Well, the game must have it's reasons. The ammount of screen it cuts is enough to avoid color glitches (without complicated handling of the attribute bytes) when scrolling vertically, at least.<br /><br />Again, sorry to bring such an old topic back up.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=95">tokumaru</a> — Mon Jan 30, 2006 10:43 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2005-04-06T19:40:29-07:00</updated>
<published>2005-04-06T19:40:29-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=191&amp;p=1781#p1781</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=191&amp;p=1781#p1781"/>
<title type="html"><![CDATA[scanline &quot;detecting&quot;]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=191&amp;p=1781#p1781"><![CDATA[
The Adventure of Link does just rewrite the background to display its text boxes. Either you don't notice a less-than-8-pixel deviation in the horizontal position of the box, or the game just gently scrolls to an even multiple of 8 pixels when a text box pops up.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Wed Apr 06, 2005 7:40 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Memblers]]></name></author>
<updated>2005-04-06T15:44:24-07:00</updated>
<published>2005-04-06T15:44:24-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=191&amp;p=1778#p1778</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=191&amp;p=1778#p1778"/>
<title type="html"><![CDATA[scanline &quot;detecting&quot;]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=191&amp;p=1778#p1778"><![CDATA[
They could do something like that, but it's not easy to get the timing down.  I know at least Marble Madness does something like that for it's text display.  And Pirates! splits the screen in half, with text on one side and graphics on the other (when you enter a town).<br /><br />A lot of games by Rare use single-screen mode.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=10">Memblers</a> — Wed Apr 06, 2005 3:44 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Anonymous]]></name></author>
<updated>2005-04-06T13:38:28-07:00</updated>
<published>2005-04-06T13:38:28-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=191&amp;p=1777#p1777</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=191&amp;p=1777#p1777"/>
<title type="html"><![CDATA[scanline &quot;detecting&quot;]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=191&amp;p=1777#p1777"><![CDATA[
In regards to #3.  Think about Simon's Quest or Adventure of Link, where they just have a box somewhere in the middle of the screen to display text in.<br /><br />I understand that has to be done using the pattern/name tables, since obviously that would be a lot of 8x8 sprites otherwise.  But, how do they display that box?  Those games don't scroll by the tile, so they can't just be rewriting part of the background.  I figured they were using some combination of scanline interrupts (to start and end the textbox vertically) and then maybe some kind of horizontal interrupt (to start and end the textbox horizontally).  This way the textbox can appear appear and be surrounded by the rest of the background on all sides.<br /><br />Does that make any sense?<br /><br />Also, is there any game that used single-screen mirroring?<p>Statistics: Posted by Guest — Wed Apr 06, 2005 1:38 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Hyde]]></name></author>
<updated>2005-04-06T00:10:34-07:00</updated>
<published>2005-04-06T00:10:34-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=191&amp;p=1767#p1767</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=191&amp;p=1767#p1767"/>
<title type="html"><![CDATA[Re: (none)]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=191&amp;p=1767#p1767"><![CDATA[
<div class="quotetitle">Omni wrote:</div><div class="quotecontent"><br />1.  Is it not possible to change the sprite-zero/eight-sprites-per-scanline flags manually?  (high probability of being a stupid question)<br /></div><br />Nope.<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />2. Why wasn't something so useful as scanline counting made an internal feature of the system?  (...if anyone has any suggestion or opinion)<br /></div><br />Who knows. Perhaps the engineers just thought it would be best (cheapest) if game companies came up their own mapper designs, thus  placing almost no restrictions on how they should implement scanline counters.<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />3.  Can you actually alter rendering during the horizontal blank?  As in, actually change the data displayed past a certain X position, and then change it back later?  (simply, having a thick bar going down the entire center of the screen, or, combine with V-blank, and have a horizontal and vertically bound area in the screen?)<br /><br />I think I may have read that some memory mappers may do something like number #3 (essentially horizontal split-screen).  Just wondering if it was possible otherwise...<br /></div><br />I am not understanding what you are trying to say here.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=22">Hyde</a> — Wed Apr 06, 2005 12:10 am</p><hr />
]]></content>
</entry>
</feed>