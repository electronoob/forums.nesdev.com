<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - All my questions are here.. ;o)</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">All my questions are here.. ;o)</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=10&amp;t=1064">http://forums.nesdev.com/viewtopic.php?f=10&amp;t=1064</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>5</strong> of <strong>10</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lord of chile</b> [ Fri Feb 17, 2006 12:32 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>another thing</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />ok, muchas gracias por la respuesta tokumaru.
<br />
<br />another question is: 
<br />
<br />any people says that super mario bros uses horizontal mirroring.
<br />
<br />i see in ines header readers of emulators that super mario bros is vertical mirroring.. it's correct???
<br />
<br />Because, I agree that smb is vertical mirroring. smb is vertical because if smb was horizontal, all graphics behind (left) of super mario bros would get messed up on left side when super mario is walking to right side!!! because of the mirroring, no??

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>hap</b> [ Fri Feb 17, 2006 12:40 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />SMB uses vertical mirroring...
<br />
<br />you probably had 'horizontal scrolling' mixed up with mirroring.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Fri Feb 17, 2006 1:20 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Another reason for the mixup: Does Nintendo's terminology for the mirroring solder pads on NROM boards match the homebrew community's terminology?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Quietust</b> [ Fri Feb 17, 2006 1:24 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">Does Nintendo's terminology for the mirroring solder pads on NROM boards match the homebrew community's terminology?</div>
<br />
<br />No, it does not - Nintendo-made NES cart PCBs all label their mirroring pads "H" for Horizontal Scrolling (i.e. Vertical Mirroring) and "V" for Vertical Scrolling (i.e. Horizontal Mirroring).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Fri Feb 17, 2006 1:31 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: another thing</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">lord of chile wrote:</div><div class="quotecontent">ok, muchas gracias por la respuesta tokumaru.</div><br />You're welcome.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Because, I agree that smb is vertical mirroring. smb is vertical because if smb was horizontal, all graphics behind (left) of super mario bros would get messed up on left side when super mario is walking to right side!!! because of the mirroring, no??</div>
<br />For a horizontal scroller, you'd want to use vertical mirroring to avoid glitches at the sides of the screen, that's right. However, many official games seem to use horizontal mirroring when scrolling horizontally, such as SMB3 and Kirby's Adventure. And the glitches do show a lot.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Fri Feb 17, 2006 1:36 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />SMB3 and Kirby's Adventure also do a heck of a lot of vertical scrolling and free 2D scrolling, and you can't easily do that and have a status bar if you use vertical mirroring.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Fri Feb 17, 2006 1:45 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />About textboxes, I have several info for you.
<br />Do you want to build a RPG for the NES later ? You already asked questions about batteries, so this definitely becomes "suspicious" hehe. Good luck.
<br />Because the NES has only one BG layer, most games writes the textboxes "above" the background. They do need to write 2 or 4 rows at time to have no attribute glitches (because the box won't have the same color bits as the background behind).
<br />Then, when the window closes, you'll also have to rewrite the map data that is behind the box to the name table, and the map's color to the attribute table.
<br />The "easy" way to do it is to read the old nametable and attribute table via $2007 and store it to RAM, to be restored later. This is lazy, waste RAM abd VBlank time for hardcore vblanktimesavers, but works well.
<br />It is not so hard to read the map cordinates and rewrite it to the screen. I do that in my current game when the menu closes, and it is actually very easy to do, just some math is involved.
<br />About writing text, each game has its own engine. Final Fantasy works pretty lazy, they write the whole string of text one row at time, wait to the player push A and shows what's next. Dragon Quest games have a better text phraser, that write letters after letters, and have a blinking cursor to wait the player to press A. It's up to you to determine what is the most confortable for the player.
<br />Final Fantasy I is doing a special trick : It does write the window in the alternate nametable. Because it uses vertical mirroring, the engine still couldn't allow to scroll while a textbox is open, but it allow a cool effect when they pop up that isn't there in Final Fantasy II and III.
<br />To allow scrolling when a textbox is open, you'll have to use one-screen mirroring (or maybe horizontal, but needs to be tricky, especially on a PAL system that doesn't hide the top and bottom 8 scanlines).
<br />I do have no RPG that does that in mind, but I was thinking doing that in Ecological Evolution (not sure yet).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Fri Feb 17, 2006 8:21 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Hey, I have a suggestion for the text boxes. Let me show a picture of the idea first:<img src="http://www.nesstuff.kit.net/rpg_text.gif" alt="Image" />
<br />Now, this represents the 2 name tables, in vertical mirroring mode. The dotted red line is splitting the 2 name tables. The green parts are the map that was previously rendered to the name tables. The light part is where the camera is (the red spot represents the scroll values). The gray part is where you <strong>would</strong> draw the text box if you were to draw it in place (I'm assuming the text box stays at the bottom of the screen). But if instead you draw it in the yellow part, you can have it appear with the "sliding" effect (by splitting  the screen). The background wouldn't be overwritten, so, when the text box goes away you just keep scrolling normally. And you could have all of that using vertical mirroring, the best for scrolling without any visible glitches. Of course, you woudn't be able to scroll when the text box is active.
<br />
<br />I don't usually play RPG's, but I'd guess at least some have already done it like this.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Sat Feb 18, 2006 1:34 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />That's just what FF1 does. It also copies the tiles of the border of the screen to the second name table to not have the text box take the full screen.
<br />This wasn't maintened in FF2 and FF3.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Sat Feb 18, 2006 8:20 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">Because it uses <strong>vertical mirroring</strong>, the engine still couldn't allow to scroll while a textbox is open</div>
<br />Sorry. For some reason I missed the "vertical" part and assumed it used horizontal mirroring. I guess it's because you said "alternate name table", and it sounded like it used only one name table for the text box, but it usually spans across the 2 of them, at the parts not currently showing.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lord_Chile</b> [ Mon Feb 20, 2006 10:34 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>heheh i like rpgs</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />i like rpgs, some day i am going to make a rpg game of my life..
<br />
<br />just im very creative, i dont like final fantasy 19, no..
<br />
<br />just it will be "Luis's hidden life crystals" or another.. and just nesdev guys are going to appears in my game =o).. and i dream with a sequel for snes and n64... some day... more later..
<br />
<br />im fanatic of terranigma in spanish for snes.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lord_Chile</b> [ Mon Feb 20, 2006 10:43 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>question</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />i play super mario bros 3, i think that it uses horizontal mirroring because it's more easy to designers get mario going to left and going to right using horizontal M.. 
<br />
<br />it's because smb3 can go around all the stage for left and right..
<br />
<br />smb1 only was walking into right then it uses vertical, but smb3 walking into two directions is good use horizontal mirroring here..
<br />
<br />are correct my conclusions??
<br />
<br />yeah, the glitch is very notorious in smb3, horizontal scrolling with horizontal mirroring.. but i think that programmers take control of this because this glitch without control is ultra notorious and would messed up very much part of screen.. there is control of this glitch on smb3 no??
<br />
<br />and another is: what is the official megaman 3 bug???
<br />i dont see bugs in megaman 3

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Mon Feb 20, 2006 9:18 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: question</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">lord_Chile wrote:</div><div class="quotecontent">i think that it uses horizontal mirroring because it's more easy to designers get mario going to left and going to right using horizontal M..</div><br />it's actually related to the fact that SMB3 can move up and down. And it has a status bar. If you scroll up and down using vertical mirroring, there is no way you can have an area in the name tables reserved for a status bar, it would be overwritten all the time. The solution used in SMB3 was to use horizontal mirroring, with the status bar fixed at the very bottom of the second screen.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">smb1 only was walking into right then it uses vertical, but smb3 walking into two directions is good use horizontal mirroring here..</div><br />SMB1 has the limitation of not scrolling to the left because of the way the levels are decompressed, it has nothing to do with mirroring.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">yeah, the glitch is very notorious in smb3, horizontal scrolling with horizontal mirroring.. but i think that programmers take control of this because this glitch without control is ultra notorious and would messed up very much part of screen.. there is control of this glitch on smb3 no??</div>
<br />Well, the programmers know the glitches are there, and there is no way to get rid of them in that situation (horizontal mirroring + side scrolling). It happens because when using horizontal mirroring, you get a drawing space that's 256 pixels wide and 480 pixels tall. 256 is exactly the ammount of pixels displayed in a line on the TV, so if you scroll even a little bit to the right, what will show on the right is exactly what was just left behind, on the left.
<br />
<br />You don't get any extra space to use as a drawing buffer, hidden from the player. The NES has the option to hide the leftmost 8 pixels. This way you get a hidden place to draw things, but it's only wide enough to avoid glitches related to patterns (since you can draw columns of tiles that are 8 pixels wide, just as the buffer) but not the ones related to color, since the color resolution in the NES is 16 pixels, not 8.
<br />
<br />So, in SMB3 you'll often see that the colors are wrong in the righmost column. The colors will be the ones that belonged to the blocks that are disappearing at the left.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lord_Chile</b> [ Mon Feb 27, 2006 4:31 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>about attribute table...am i calculating correctly??</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Question about nametables.. i understand pattern tbl, name tbl, because im programming a graphic decoder in php. But my problem is with attribute table.. am i calculating correctly????
<br />
<br />see it, each (*) is representing one tile.:
<br />
<br />******************************** 
<br />********************************
<br />********************************
<br />********************************	
<br />
<br />fig 1.0 (showing 4 rows of tiles and cols of 32 tiles) (representing 8 bytes for attr table)
<br />	
<br />For each 4 rows of tiles=8 bytes in attribute table	
<br />
<br />groups of 4x4 tiles (each group=1 byte) in attribute table.
<br />
<br />1-4     row of tiles      	8 bytes
<br />5-8     row of tiles 	16 bytes
<br />9-12   row of tiles	24 bytes
<br />13-16 row of tiles	32 bytes
<br />17-20 row of tiles	40 bytes
<br />21-24 row of tiles	48 bytes
<br />25-28 row of tiles	56 bytes
<br />29-32 row of tiles      64 bytes
<br />
<br />but if nametable is 32 cols x 30 rows of tiles......
<br />
<br />30 rows of tiles doesnt match with my calculations, because the byte number 64 in attribute table contains high color bits for 31-32 row of tiles, too. This area is unused?????  
<br />
<br />I think it would be 4 bytes unused, am i calculating correctly???? 
<br />
<br />On a past post, Disch wrote: 
<br />
<br />"The bottom 2 rows of the attribute table are used when the attribute table is used as nametable data."
<br />
<br />what mean, "when attribute table is used as nametable data??", when it is?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>abonetochew</b> [ Mon Feb 27, 2006 3:41 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: about attribute table...am i calculating correctly??</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">lord_Chile wrote:</div><div class="quotecontent">what mean, "when attribute table is used as nametable data??", when it is?</div>
<br />
<br />If I understand correctly, this is how it normally works:
<br />- The nametable is located from $000 to $3BF in its "page" (so nametable 0 is in $2000-$23BF), it's only 30 tiles tall, leaving the space from $3C0-$3FF for attributes
<br />- The PPU is smart enough to skip over the attribute bytes and go directly back to the top of the nametable after drawing the bottom tiles
<br />
<br />The PPU only skips the attribute bytes when it gets there on its own.  If you set the vertical scroll between 240 and 255, it will start in the attribute area instead of the nametable area.  Since it never hit the line 240 boundary, the PPU will mistakenly read the attribute bytes and use them as nametable bytes.  When this happens, it also uses the (normally useless) last few attribute bits to select colors for the tiles.
<br />
<br />Is this correct / did it make sense?

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>5</strong> of <strong>10</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>