<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<link rel="icon" href="/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />

<title>nesdev.com &bull; View topic - Scrolling and indirect addressing</title>

<link rel="alternate" type="application/atom+xml" title="Feed - nesdev.com" href="http://forums.nesdev.com/feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - News" href="http://forums.nesdev.com/feed.php?mode=news" /><link rel="alternate" type="application/atom+xml" title="Feed - All forums" href="http://forums.nesdev.com/feed.php?mode=forums" /><link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="http://forums.nesdev.com/feed.php?mode=topics" /><link rel="alternate" type="application/atom+xml" title="Feed - Active Topics" href="http://forums.nesdev.com/feed.php?mode=topics_active" /><link rel="alternate" type="application/atom+xml" title="Feed - Forum - Newbie Help Center" href="http://forums.nesdev.com/feed.php?f=10" /><link rel="alternate" type="application/atom+xml" title="Feed - Topic - Scrolling and indirect addressing" href="http://forums.nesdev.com/feed.php?f=10&amp;t=1395" />

<link rel="stylesheet" href="./style.php?id=1&amp;lang=en" type="text/css" />

<script type="text/javascript">
// <![CDATA[


function popup(url, width, height, name)
{
	if (!name)
	{
		name = '_popup';
	}

	window.open(url.replace(/&amp;/g, '&'), name, 'height=' + height + ',resizable=yes,scrollbars=yes,width=' + width);
	return false;
}

function jumpto()
{
	var page = prompt('Enter the page number you wish to go to:', '1');
	var per_page = '';
	var base_url = '';

	if (page !== null && !isNaN(page) && page == Math.floor(page) && page > 0)
	{
		if (base_url.indexOf('?') == -1)
		{
			document.location.href = base_url + '?start=' + ((page - 1) * per_page);
		}
		else
		{
			document.location.href = base_url.replace(/&amp;/g, '&') + '&start=' + ((page - 1) * per_page);
		}
	}
}

/**
* Find a member
*/
function find_username(url)
{
	popup(url, 760, 570, '_usersearch');
	return false;
}

/**
* Mark/unmark checklist
* id = ID of parent container, name = name prefix, state = state [true/false]
*/
function marklist(id, name, state)
{
	var parent = document.getElementById(id);
	if (!parent)
	{
		eval('parent = document.' + id);
	}

	if (!parent)
	{
		return;
	}

	var rb = parent.getElementsByTagName('input');
	
	for (var r = 0; r < rb.length; r++)
	{
		if (rb[r].name.substr(0, name.length) == name)
		{
			rb[r].checked = state;
		}
	}
}



// ]]>
</script>
</head>
<body class="ltr">

<a name="top"></a>

<div id="wrapheader">

	<div id="logodesc">
	</div>

	<div id="menubar">

		<table width="100%" cellspacing="0">
		<tr>
			<td rowspan="2"><a href="./index.php"><img src="./styles/subsilver2/imageset/site_logo.gif" alt="" title="" /></a></td>
			<td width="100%" align="center"><h1>nesdev.com</h1><span class="gen">NES Development and Strangulation Records message boards</span></td>
		</tr>
		<tr>
			<td align="center">
				<a href="./faq.php"><img src="./styles/prosilver/theme/images/icon_mini_faq.gif" width="12" height="13" alt="*" /> FAQ</a>
				&nbsp; &nbsp;<a href="./search.php"><img src="./styles/prosilver/theme/images/icon_mini_search.gif" width="12" height="13" alt="*" /> Search</a>
				<br />	
				 &nbsp;<a href="./ucp.php?mode=register"><img src="./styles/prosilver/theme/images/icon_mini_register.gif" width="12" height="13" alt="*" /> Register</a>
					&nbsp; &nbsp;<a href="./ucp.php?mode=login"><img src="./styles/prosilver/theme/images/icon_mini_login.gif" width="12" height="13" alt="*" /> Login</a>&nbsp;
			</td>
		</tr>
		</table>
	</div>

	<div id="datebar">
		<table width="100%" cellspacing="0">
		<tr>
			<td class="gensmall"></td>
			<td class="gensmall" align="right">It is currently Thu Aug 30, 2012 2:55 pm<br /></td>
		</tr>
		</table>
	</div>

</div>

<div id="wrapcentre">

	
	<p class="searchbar">
		<span style="float: left;"><a href="./search.php?search_id=unanswered">View unanswered posts</a> | <a href="./search.php?search_id=active_topics">View active topics</a></span>
		
	</p>
	

	<br style="clear: both;" />

	<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=24">NES / Famicom</a> &#187; <a href="./viewforum.php?f=10">Newbie Help Center</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>

	<br />

<div id="pageheader">
	<h2><a class="titles" href="./viewtopic.php?f=10&amp;t=1377">Scrolling and indirect addressing</a></h2>


	<p class="moderators">Moderator: <a href="./memberlist.php?mode=group&amp;g=320">Moderators</a></p>

</div>

<br clear="all" /><br />

<div id="pagecontent">

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=10"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=10&amp;t=1377"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>1</strong> of <strong>1</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 11 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"></td>
		
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat">
			<table width="100%" cellspacing="0">
			<tr>
				<td class="nav" nowrap="nowrap">&nbsp;
				<a href="./viewtopic.php?f=10&amp;t=1377&amp;view=print" title="Print view">Print view</a>
				</td>
				<td class="nav" align="right" nowrap="nowrap"><a href="./viewtopic.php?f=10&amp;t=1377&amp;view=previous">Previous topic</a> | <a href="./viewtopic.php?f=10&amp;t=1377&amp;view=next">Next topic</a>&nbsp;</td>
			</tr>
			</table>
		</td>
	</tr>

	</table>


	<table class="tablebg" width="100%" cellspacing="1">
	
		<tr>
			<th>Author</th>
			<th>Message</th>
		</tr>
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p11867"></a>
				<b class="postauthor">L0p1N</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p11867">Scrolling and indirect addressing</a></div><div style="float: right;"><a href="./viewtopic.php?p=11867#p11867"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Apr 13, 2006 11:27 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Nov 01, 2004 7:33 am<br /><b>Posts:</b> 29
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Greets, I want to write some small sine-scrolling demo, for which I calculated the sine-values with a small c++ program (the values look strange to me...) and pasted them into a value in bank 0. First, the values were to many to fit in one .db so I used three lines of .db to store the values in. When increasing the offset for the indirect addressing this shouldn't matter when the three .db are one behind the other. Now there is some code to load bckgrnd data, initialise ppu and so on. While VBlank I use a timer to slow the program down a bit, then I load the new scrolling value with
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; &nbsp;ldy counter<br />&nbsp; &nbsp;lda &#91;sintable&#93;,y&nbsp; &nbsp;;while y increasing every drawn frame<br />&nbsp; &nbsp;sta temp<br /></div><br />Then there is only<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; &nbsp;lda temp<br />&nbsp; &nbsp;sta $2005<br />&nbsp; &nbsp;lda #0<br />&nbsp; &nbsp;sta $2005<br />;turn screen on<br />&nbsp; &nbsp;lda #%00001000<br />&nbsp; &nbsp;sta $2000<br />&nbsp; &nbsp;lda #%10011110<br />&nbsp; &nbsp;sta $2001<br /><br />&nbsp; &nbsp;jmp waitblank<br /></div>
<br />remaining. When assembling and loading the programm, it seems that scrolling only switches between 10 and something around 255, but does not use the values in the sintable. When loading a constant value or the temp-value for the timer in $2005 it works. The problem seems to be my indirect addressing. Can somebody please tell me what's wrong?</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=31"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p11869"></a>
				<b class="postauthor">Disch</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p11869"></a></div><div style="float: right;"><a href="./viewtopic.php?p=11869#p11869"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Apr 13, 2006 11:42 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=33.png" width="65" height="75" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Wed Nov 10, 2004 6:47 pm<br /><b>Posts:</b> 1670
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">It sounds like you want Absolute,X/Y mode, not Indirect,Y.  If 'sintable' is a label to the start of the table itself, you'll just want to load sintable+Y ... not (sintable)+Y.
<br />
<br />Indirect,Y mode would be used if you have a pointer to the start of the table... rather than accessing the table directly.
<br />
<br />so this is probably what you meant to go with:
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; ldy counter<br />&nbsp; lda sintable,Y<br />&nbsp; sta tmp<br /></div>
<br />
<br />Or rather... ldx / Absolute,X would be a more 'typical' approach.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=33"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p11871"></a>
				<b class="postauthor">L0p1N</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p11871"></a></div><div style="float: right;"><a href="./viewtopic.php?p=11871#p11871"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Apr 13, 2006 12:21 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Nov 01, 2004 7:33 am<br /><b>Posts:</b> 29
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Tried it, no changes.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=31"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p11872"></a>
				<b class="postauthor">Disch</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p11872"></a></div><div style="float: right;"><a href="./viewtopic.php?p=11872#p11872"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Apr 13, 2006 12:38 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=33.png" width="65" height="75" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Wed Nov 10, 2004 6:47 pm<br /><b>Posts:</b> 1670
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Well then I'm afraid I can't help you without seeing more of the source.
<br />
<br />Could you upload it to a page and link it here or something?</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=33"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p11873"></a>
				<b class="postauthor">L0p1N</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p11873"></a></div><div style="float: right;"><a href="./viewtopic.php?p=11873#p11873"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Apr 13, 2006 12:46 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Nov 01, 2004 7:33 am<br /><b>Posts:</b> 29
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Thanks, that's very kind that you'll be looking at the whole code, thought first it would be too big to post here (didn't want to spam)
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; &nbsp;.inesprg 1&nbsp; &nbsp;; one &#40;1&#41; bank of program code<br />&nbsp; &nbsp;.ineschr 1&nbsp; &nbsp;; one &#40;1&#41; bank of picture data<br />&nbsp; &nbsp;.inesmap 0&nbsp; &nbsp;; we use mapper 0<br />&nbsp; &nbsp;.inesmir 1&nbsp; &nbsp;; Mirror setting always 1.<br /><br />&nbsp; &nbsp;.bank 1&nbsp; &nbsp;; following goes in bank 1<br />&nbsp; &nbsp;.org $FFFA&nbsp; ; start at $FFFA<br />&nbsp; &nbsp;.dw 0&nbsp; &nbsp; ; dw stands for Define Word and we give 0 as address for NMI routine<br />&nbsp; &nbsp;.dw Start ; give address of start of our code for execution on reset of NES.<br />&nbsp; &nbsp;.dw 0&nbsp; &nbsp;; give 0 for address of VBlank interrupt handler, we tell PPU not to<br />&nbsp; &nbsp;; make an interrupt for VBlank.<br /><br />&nbsp; &nbsp;.bank 0&nbsp; &nbsp;; bank 0 - our place for code.<br />&nbsp; &nbsp;.org $0000<br />addrLO&nbsp; &nbsp;.db 0<br />addrHI&nbsp; &nbsp;.db 0<br /><br />counter&nbsp; &nbsp;.db 0<br />temp&nbsp; &nbsp;.db 0<br />timer&nbsp; &nbsp;.db 0<br /><br />sintable&nbsp; &nbsp;.db 0, 4, 9, 13, 17, 21, 26, 30, 34, 38, 43, 47, 51, 56, 60, 64, 68, 73, 77, 81, 86, 90<br />;sintable2&nbsp; &nbsp;.db 94, 98;, 103, 107, 111, 115, 120, 124, 128, 133, 137, 141, 145, 150, 154, 158, <br />sintable3&nbsp; &nbsp;.db 162, 167, 171, 175, 180, 184, 188, 192, 197, 201, 205, 210, 214, 218, 222; as said these values look wrong to me<br />;227, 231, 235, 239, 244, 248, 252, 256<br />&nbsp; &nbsp;.org $0200<br /><br /><br />&nbsp; &nbsp;.org $8000&nbsp; ; code starts at $8000<br />&nbsp; &nbsp;<br />Start:&nbsp; <br />&nbsp; &nbsp;lda #%00001000&nbsp; ; do the setup of PPU<br />&nbsp; &nbsp;sta $2000&nbsp; &nbsp; &nbsp; &nbsp;; that we<br />&nbsp; &nbsp;lda #%10011110&nbsp; ; talked about<br />&nbsp; &nbsp;sta $2001&nbsp; &nbsp; &nbsp; &nbsp;; on a previous day<br /><br />&nbsp; &nbsp;ldx #$00&nbsp; &nbsp; ; clear X<br /><br />&nbsp; &nbsp;lda #$3F&nbsp; &nbsp; ; have $2006 tell<br />&nbsp; &nbsp;sta $2006&nbsp; &nbsp;; $2007 to start<br />&nbsp; &nbsp;lda #$00&nbsp; &nbsp; ; at $3F00 &#40;pallete&#41;.<br />&nbsp; &nbsp;sta $2006<br /><br />loadpal:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ; this is a freaky loop<br />&nbsp; &nbsp;lda tilepal, x&nbsp; ; that gives 32 numbers<br />&nbsp; &nbsp;sta $2007&nbsp; &nbsp; &nbsp; &nbsp;; to $2007, ending when<br />&nbsp; &nbsp;inx&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; X is 32, meaning we<br />&nbsp; &nbsp;cpx #32&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; are done.<br />&nbsp; &nbsp;bne loadpal&nbsp; &nbsp; &nbsp;; if X isn't =32, goto &quot;loadpal:&quot; line.<br /><br /><br />;Background/Titelbild laden<br />&nbsp; &nbsp;ldx #0<br />&nbsp; &nbsp;lda #$20&nbsp; ; set the destination address in PPU memory<br />&nbsp; &nbsp; &nbsp;sta $2006&nbsp; ; should be $2000<br />&nbsp; &nbsp; &nbsp;stx $2006<br />&nbsp; &nbsp; &nbsp;lda #low&#40;nametable1&#41;&nbsp; &nbsp;; put the high and low bytes of the address &quot;backg&quot;<br />&nbsp; &nbsp; &nbsp;sta addrLO&nbsp; &nbsp; &nbsp; &nbsp; ; into the variables so we can use indirect addressing.<br />&nbsp; &nbsp; &nbsp;lda #high&#40;nametable1&#41;<br />&nbsp; &nbsp; &nbsp;sta addrHI<br /><br />&nbsp; &nbsp;ldx #4&nbsp; ; number of 256-byte chunks to load<br />&nbsp; &nbsp; &nbsp;ldy #0<br />loopTable1:<br />&nbsp; &nbsp; &nbsp;lda &#91;addrLO&#93;,y<br />&nbsp; &nbsp; &nbsp;sta $2007&nbsp; &nbsp; &nbsp;; load 256 bytes<br />&nbsp; &nbsp; &nbsp;iny<br />&nbsp; &nbsp; &nbsp;bne loopTable1<br />;--------------------<br />&nbsp; &nbsp; &nbsp;inc addrHI&nbsp; ; increment high byte of address backg to next 256 byte chunk<br />&nbsp; &nbsp; &nbsp;dex&nbsp; &nbsp; &nbsp; &nbsp; ; one chunk done so X = X - 1.<br />&nbsp; &nbsp; &nbsp;bne loopTable1&nbsp; &nbsp;; if X isn't zero, do again<br /><br /><br />&nbsp; &nbsp;ldx #0<br />&nbsp; &nbsp;lda #$24&nbsp; ; set the destination address in PPU memory<br />&nbsp; &nbsp; &nbsp;sta $2006&nbsp; ; should be $2000<br />&nbsp; &nbsp; &nbsp;stx $2006<br />&nbsp; &nbsp; &nbsp;lda #low&#40;nametable2&#41;&nbsp; &nbsp;; put the high and low bytes of the address &quot;backg&quot;<br />&nbsp; &nbsp; &nbsp;sta addrLO&nbsp; &nbsp; &nbsp; &nbsp; ; into the variables so we can use indirect addressing.<br />&nbsp; &nbsp; &nbsp;lda #high&#40;nametable2&#41;<br />&nbsp; &nbsp; &nbsp;sta addrHI<br /><br />&nbsp; &nbsp;ldx #4&nbsp; ; number of 256-byte chunks to load<br />&nbsp; &nbsp; &nbsp;ldy #0<br />loopTable2:<br />&nbsp; &nbsp; &nbsp;lda &#91;addrLO&#93;,y<br />&nbsp; &nbsp; &nbsp;sta $2007&nbsp; &nbsp; &nbsp;; load 256 bytes<br />&nbsp; &nbsp; &nbsp;iny<br />&nbsp; &nbsp; &nbsp;bne loopTable2<br />;--------------------<br />&nbsp; &nbsp; &nbsp;inc addrHI&nbsp; ; increment high byte of address backg to next 256 byte chunk<br />&nbsp; &nbsp; &nbsp;dex&nbsp; &nbsp; &nbsp; &nbsp; ; one chunk done so X = X - 1.<br />&nbsp; &nbsp; &nbsp;bne loopTable2&nbsp; ; if X isn't zero, do again<br /><br /><br /><br />&nbsp; &nbsp;lda #0<br />&nbsp; &nbsp;sta counter<br />&nbsp; &nbsp;sta timer<br /><br />waitblank:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; this is the wait for VBlank code from above<br />&nbsp; &nbsp;lda $2002&nbsp; ; load A with value at location $2002<br />&nbsp; &nbsp;bpl waitblank&nbsp; ; if bit 7 is not set &#40;not VBlank&#41; keep checking<br /><br />&nbsp; &nbsp;lda #$00&nbsp; &nbsp;; these lines tell $2003<br />&nbsp; &nbsp;sta $2003&nbsp; ; to tell<br />&nbsp; &nbsp;lda #$00&nbsp; &nbsp;; $2004 to start<br />&nbsp; &nbsp;sta $2003&nbsp; ; at $0000.<br /><br />;Screen abschalten<br />&nbsp; &nbsp;lda #$00<br />&nbsp; &nbsp;sta $2001<br /><br />&nbsp; &nbsp;lda #%00001000<br />&nbsp; &nbsp;sta $2000<br />&nbsp; &nbsp;lda #%10011110<br />&nbsp; &nbsp;sta $2001<br /><br /><br /><br />&nbsp; &nbsp;lda timer<br />&nbsp; &nbsp;cmp #20<br />&nbsp; &nbsp;beq resettimer<br />&nbsp; &nbsp;inc timer<br />&nbsp; &nbsp;jmp dontresettimer<br />resettimer:<br />&nbsp; &nbsp;lda #0<br />&nbsp; &nbsp;sta timer<br />&nbsp; &nbsp;jmp screenon<br />dontresettimer<br />&nbsp; &nbsp;lda counter<br />&nbsp; &nbsp;cmp #15<br />&nbsp; &nbsp;beq resetcounter<br />&nbsp; &nbsp;ldy counter<br />&nbsp; &nbsp;lda sintable,y<br />&nbsp; &nbsp;sta temp<br />&nbsp; &nbsp;inc counter<br /><br />&nbsp; &nbsp;jmp screenon<br />resetcounter:<br />&nbsp; &nbsp;lda #0<br />&nbsp; &nbsp;sta counter<br />&nbsp; &nbsp;sta temp<br /><br />screenon:<br />&nbsp; &nbsp;lda temp<br />&nbsp; &nbsp;sta $2005<br />&nbsp; &nbsp;lda #0<br />&nbsp; &nbsp;sta $2005<br />;Screen anschalten<br />&nbsp; &nbsp;lda #%00001000<br />&nbsp; &nbsp;sta $2000<br />&nbsp; &nbsp;lda #%10011110<br />&nbsp; &nbsp;sta $2001<br /><br />&nbsp; &nbsp;jmp waitblank<br /><br />tilepal: .incbin &quot;scroll.pal&quot;<br />nametable1: .incbin &quot;scroll.nam&quot;<br />nametable2: .incbin &quot;scroll2.nam&quot;<br /><br />&nbsp; &nbsp;.bank 2&nbsp; &nbsp;; switch to bank 2<br />&nbsp; &nbsp;.org $0000&nbsp; ; start at $0000<br />&nbsp; &nbsp;.incbin &quot;scroll.bkg&quot;<br />&nbsp; &nbsp;.incbin &quot;scroll.spr&quot;<br /></div></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=31"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p11874"></a>
				<b class="postauthor">Disch</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p11874"></a></div><div style="float: right;"><a href="./viewtopic.php?p=11874#p11874"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Apr 13, 2006 1:53 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=33.png" width="65" height="75" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Wed Nov 10, 2004 6:47 pm<br /><b>Posts:</b> 1670
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">L0p1n wrote:</div><div class="quotecontent">thought first it would be too big to post here</div>
<br />
<br />Well... I didn't really want you to paste the thing here -- that's why I said maybe upload it to a page or something and just post a link.  =P  Guess I should've been more specific... but oh well.  It's not TOO huge.
<br />
<br />Anyway... the problem that stands out right away is that you're trying to .db in RAM ($0000-07FF) which doesn't work.  Your assembled file will only contain ROM (that's why they're called "ROMs").  So anything you put in RAM via a .db line will not be visible to any emulator (or to the actual system).
<br />
<br />Put that sine table in ROM.  You wouldn't want something like that in RAM anyway.
<br />
<br />
<br />And yes... your sine table doesn't look anything like a sine wave to me either.  (Not to mention chunks of it are commented out... is that intentional?)</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=33"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p11921"></a>
				<b class="postauthor">L0p1N</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p11921"></a></div><div style="float: right;"><a href="./viewtopic.php?p=11921#p11921"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Apr 14, 2006 9:20 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Nov 01, 2004 7:33 am<br /><b>Posts:</b> 29
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">thx, I already thought it was that rom/ram difference. But why doesn't nesasm warn me while assembling when I write values to ram when they won't be in the rom image?
<br />The sinwave is really wrong, but i don't know how to calculate the values I need. I've just written a small c++ prog with a for-loop which uses sin(); values of the variable used in the loop, which I then multiply by 100 and divide by 360 (or *360/100, forgot it). Don't have the program anymore but I think the loop went from 1 to 60 or something around that and the values in the sintable .db are those my program printed then. Can you help me with the calculation of the sine-values?</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=31"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p11922"></a>
				<b class="postauthor">Disch</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p11922"></a></div><div style="float: right;"><a href="./viewtopic.php?p=11922#p11922"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Apr 14, 2006 9:39 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=33.png" width="65" height="75" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Wed Nov 10, 2004 6:47 pm<br /><b>Posts:</b> 1670
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">L0p1N wrote:</div><div class="quotecontent">But why doesn't nesasm warn me while assembling when I write values to ram when they won't be in the rom image?</div><br /><br />Beats me.  The typical 6502 assembler wouldn't know the difference (since any address could be RAM/ROM depending on the system)... but since nesasm specifically targets the NES you'd think it would know.  Oh well.<br /><br />Just remember:<br /><br />$0000-07FF = RAM (space for your variables)<br />$8000-FFFF = ROM (space for everything else)<br /><br /><br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">The sinwave is really wrong, but i don't know how to calculate the values I need. I've just written a small c++ prog with a for-loop which uses sin(); values of the variable used in the loop, which I then multiply by 100 and divide by 360 (or *360/100, forgot it).</div>
<br />
<br />Assuming you want values from 1-255 (where sin(0) = 128), something like the following will work (note: haven't tested this, but it'd probably work):
<br />
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">int i;<br />for&#40;i = 0; i &lt; table_size; i++&#41;<br />&#123;<br />&nbsp; sine_table&#91;i&#93; = &#40;BYTE&#41;&#40;&nbsp; sin&#40;2 * PI * i / table_size&#41; * 127 &#41; + 128;<br />&#125;<br /></div></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=33"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p11924"></a>
				<b class="postauthor">L0p1N</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p11924"></a></div><div style="float: right;"><a href="./viewtopic.php?p=11924#p11924"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Apr 14, 2006 9:55 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Nov 01, 2004 7:33 am<br /><b>Posts:</b> 29
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Compiled the code (using Borland C++ Builder 5). I got some errors: It doesn't know "PI" (it's called "M_PI" in Borland), fixed it. The second error was that the compiler didn't know "(BYTE)", which seems to me like a typecast from float to byte. Never did a typecast to byte (only from c-string to ansi-string for windows programming), wondering why it won't work. Deleting the "(BYTE)"-Part from the code it compiles and shows values which seem correct to me. But is there a reason the wave starts with 128? I want a horizontal sine-wave-scroll from 0 to 255. Just leave the "+128" away?</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=31"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p11926"></a>
				<b class="postauthor" style="color: #AA0000">Memblers</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p11926"></a></div><div style="float: right;"><a href="./viewtopic.php?p=11926#p11926"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Apr 14, 2006 10:12 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td class="postdetails">Site Admin</td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=10.jpg" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Sep 20, 2004 6:04 am<br /><b>Posts:</b> 2711<br /><b>Location:</b> Indianapolis
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">For generating sine tables, this program is great:
<br /><a href="http://nesdev.com/rollcost.zip" class="postlink">http://nesdev.com/rollcost.zip</a></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=10"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p11931"></a>
				<b class="postauthor">Disch</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p11931"></a></div><div style="float: right;"><a href="./viewtopic.php?p=11931#p11931"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Apr 14, 2006 11:17 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=33.png" width="65" height="75" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Wed Nov 10, 2004 6:47 pm<br /><b>Posts:</b> 1670
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">L0p1N wrote:</div><div class="quotecontent">Compiled the code (using Borland C++ Builder 5). I got some errors: It doesn't know "PI" (it's called "M_PI" in Borland), fixed it.</div><br /><br />I didn't know about M_PI, actually.  I usually just #define my own PI.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"> The second error was that the compiler didn't know "(BYTE)", which seems to me like a typecast from float to byte. Never did a typecast to byte (only from c-string to ansi-string for windows programming), wondering why it won't work.</div><br /><br />again I ususally typedef my own var types for fixed var sizes.  Although I suppose you could typecast it as (unsigned char) instead.<br /><br />I make it a habit to typecast when converting var types.  Especially when going floating-point-&gt;integer like in the above code<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">But is there a reason the wave starts with 128? I want a horizontal sine-wave-scroll from 0 to 255. Just leave the "+128" away?</div>
<br />
<br />sine starts at the "center line" -- which in this case would be 128.  If you want to start at a different point in the wave, you'll have to offset the position:
<br />
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; sine_table&#91;i&#93; = &#40;BYTE&#41;&#40;&nbsp; sin&#40;2 * PI * i / table_size + &#40;3* PI / 2&#41;&#41; * 127 &#41; + 128;<br /></div>
<br />
<br />see added (3*PI/2).  This will start it 3/4ths of the way through the sine wave (which will put it at -1).
<br />
<br />That should start the table with a value of $01 (the minimum you'll get since the range is 01-FF... if you want the range 00-FE then add 127 at the end instead of 128... making the range 00-FF would be a bit more extra work I don't care to think about right now)
<br />
<br />Whatever you do, do NOT just remove the +128 at the end, as that will "break" the table in half.
<br />
<br />
<br />Or go with Membler's suggestion and take the easy way out, heh ;D.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=33"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table width="100%" cellspacing="1" class="tablebg">
	<tr align="center">
		<td class="cat"><form name="viewtopic" method="post" action="./viewtopic.php?f=10&amp;t=1377"><span class="gensmall">Display posts from previous:</span> <select name="st" id="st"><option value="0" selected="selected">All posts</option><option value="1">1 day</option><option value="7">7 days</option><option value="14">2 weeks</option><option value="30">1 month</option><option value="90">3 months</option><option value="180">6 months</option><option value="365">1 year</option></select>&nbsp;<span class="gensmall">Sort by</span> <select name="sk" id="sk"><option value="a">Author</option><option value="t" selected="selected">Post time</option><option value="s">Subject</option></select> <select name="sd" id="sd"><option value="a" selected="selected">Ascending</option><option value="d">Descending</option></select>&nbsp;<input class="btnlite" type="submit" value="Go" name="sort" /></form></td>
	</tr>
	</table>
	

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=10"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=10&amp;t=1377"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>1</strong> of <strong>1</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 11 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"></td>
		
	</tr>
	</table>

</div>

<div id="pagefooter"></div>

<br clear="all" />
<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=24">NES / Famicom</a> &#187; <a href="./viewforum.php?f=10">Newbie Help Center</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>
	<br clear="all" />

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat"><h4>Who is online</h4></td>
	</tr>
	<tr>
		<td class="row1"><p class="gensmall">Users browsing this forum: No registered users and 1 guest</p></td>
	</tr>
	</table>


<br clear="all" />

<table width="100%" cellspacing="1">
<tr>
	<td width="40%" valign="top" nowrap="nowrap" align="left"></td>
	<td align="right" valign="top" nowrap="nowrap"><span class="gensmall">You <strong>cannot</strong> post new topics in this forum<br />You <strong>cannot</strong> reply to topics in this forum<br />You <strong>cannot</strong> edit your posts in this forum<br />You <strong>cannot</strong> delete your posts in this forum<br />You <strong>cannot</strong> post attachments in this forum<br /></span></td>
</tr>
</table>

<br clear="all" />

<table width="100%" cellspacing="0">
<tr>
	<td><form method="get" name="search" action="./search.php"><span class="gensmall">Search for:</span> <input class="post" type="text" name="keywords" size="20" /> <input class="btnlite" type="submit" value="Go" /><input type="hidden" name="t" value="1377" />
<input type="hidden" name="sf" value="msgonly" />
</form></td>
	<td align="right">
	<form method="post" name="jumpbox" action="./viewforum.php" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	<table cellspacing="0" cellpadding="0" border="0">
	<tr>
		<td nowrap="nowrap"><span class="gensmall">Jump to:</span>&nbsp;<select name="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">

		
			<option value="-1">Select a forum</option>
		<option value="-1">------------------</option>
			<option value="24">NES / Famicom</option>
		
			<option value="2">&nbsp; &nbsp;NESdev</option>
		
			<option value="3">&nbsp; &nbsp;NESemdev</option>
		
			<option value="21">&nbsp; &nbsp;NES Graphics</option>
		
			<option value="6">&nbsp; &nbsp;NES Music</option>
		
			<option value="9">&nbsp; &nbsp;NES Hardware and Flash Equipment</option>
		
			<option value="22">&nbsp; &nbsp;Homebrew Projects</option>
		
			<option value="10" selected="selected">&nbsp; &nbsp;Newbie Help Center</option>
		
			<option value="11">&nbsp; &nbsp;FCdev</option>
		
			<option value="18">&nbsp; &nbsp;NESdev China</option>
		
			<option value="19">&nbsp; &nbsp;NESdev International</option>
		
			<option value="25">Other</option>
		
			<option value="5">&nbsp; &nbsp;General Stuff</option>
		
			<option value="4">&nbsp; &nbsp;Membler Industries</option>
		
			<option value="12">&nbsp; &nbsp;SNESdev</option>
		
			<option value="20">&nbsp; &nbsp;GBDev</option>
		
			<option value="23">&nbsp; &nbsp;Other Retro Dev</option>
		
			<option value="15">&nbsp; &nbsp;Test Forum</option>
		
			<option value="26">Site Issues</option>
		
			<option value="13">&nbsp; &nbsp;phpBB Issues</option>
		
			<option value="14">&nbsp; &nbsp;Web Issues</option>
		
			<option value="16">&nbsp; &nbsp;nesdevWiki</option>
		

		</select>&nbsp;<input class="btnlite" type="submit" value="Go" /></td>
	</tr>
	</table>

	</form>
</td>
</tr>
</table>


</div>

<div id="wrapfooter">
	
	<span class="copyright">Powered by <a href="http://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Group
	</span>
</div>

</body>
</html>