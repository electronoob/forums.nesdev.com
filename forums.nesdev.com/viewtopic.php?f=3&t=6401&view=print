<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - young indiana jones new ppu discovery, nestopia help...</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">young indiana jones new ppu discovery, nestopia help...</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=3&amp;t=6401">http://forums.nesdev.com/viewtopic.php?f=3&amp;t=6401</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>15</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>*Spitfire_NES*</b> [ Fri May 21, 2010 4:18 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>young indiana jones new ppu discovery, nestopia help...</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Hi all, 
<br />
<br />Have lurked the boards for a long while and decided to join up today to get in the fun with everyone.    
<br />
<br />Had a question that maybe more experienced programmers or emudevs might be able to help with. 
<br />
<br />On young indiana jones chronicles when you get to the end of level 1 a cannonball gets shot onto the ground and makes the screen turn red for a second as if it's a timing issue as well as level 2, the screen starts shaking uncontrollably whenever you move. My question to you guys is this a timing related issue or mapper problem?
<br />
<br />BY the way the emus used to test this all prove the same result. Nestopia which is the emu of my choice, jnes, nintendulator and others. 
<br />
<br />If anyone might be able to help or give insight i would greatly appreciate it. Ive tested this game on the real hardware as well and it is perfect, obviously on the real nes with no glitches like the ones appearing on all the emulators. 
<br />
<br />Im sorry if i posted this in the wrong place just wanted to get this out here as im trying to figure it out. I'm hoping marty will return to work on nestopia as i have no real coding experience nor do i have knowledge on the innner workings on the nes itself. I am reading into it though so i can try to work on my own projects. 
<br />
<br />Thanks again and hope to hear from someone who knows what this issue is. 
<br />
<br />SN-

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Eightbit Allstar</b> [ Sun May 23, 2010 7:15 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />It's most likely a bad dump.
<br />
<br />There's a Polish translation of this game which fixes the faulty V-scroll.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>*Spitfire_NES*</b> [ Sun May 23, 2010 8:18 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Eightbit Allstar wrote:</div><div class="quotecontent">It's most likely a bad dump.<br /><br />There's a Polish translation of this game which fixes the faulty V-scroll.</div>
<br />
<br />thanks for the info!  ill look into this and see what i can do. i thought it was weird that it played this way on every nes emulator i had tried it on, lol.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>BootGod</b> [ Mon May 24, 2010 5:36 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I'll make a note to redump my cart soon to verify whether it's a bad dump or incorrect emulation. I tried playing my dump and experienced the same problems you mentioned.
<br />
<br />Does the CRC of yours match mine? <!-- m --><a class="postlink" href="http://bootgod.dyndns.org:7777/profile.php?id=699">http://bootgod.dyndns.org:7777/profile.php?id=699</a><!-- m -->

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>*Spitfire_NES*</b> [ Mon May 24, 2010 6:29 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">BootGod wrote:</div><div class="quotecontent">I'll make a note to redump my cart soon to verify whether it's a bad dump or incorrect emulation. I tried playing my dump and experienced the same problems you mentioned.<br /><br />Does the CRC of yours match mine? <!-- m --><a class="postlink" href="http://bootgod.dyndns.org:7777/profile.php?id=699">http://bootgod.dyndns.org:7777/profile.php?id=699</a><!-- m --></div>
<br />
<br />
<br />hey bootgod thanks for the answer! yea the crcs match and as well as ive tried 5 diff rom dumps on nestopia all with the same result. EVERY emu does the exact same thing though. jnes, fce, mednafen, nintendulator, they all do. nestopia is the emu of choice though. 
<br />
<br />interesting enough though, someone on youtube made a v-scroll patch all you have to do is go to youtube and type in "young indiana jones chronicles pl" there is no link for the patch though nor any explanation on how to do it.
<br />
<br />hope to hear from you soon and thanks for your input in this thread. 
<br />
<br />*SpiTfiRe*

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>BootGod</b> [ Wed May 26, 2010 5:48 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Well I redumped it and it matched my previous one. Considering you've tried 5 different copies and all of them experienced the same problem would suggest it's an emulation bug.
<br />
<br />Still is a bit surprising, it uses a very common board and I thought the MMC3 was quite well understood.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Wed May 26, 2010 5:58 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">BootGod wrote:</div><div class="quotecontent">Still is a bit surprising, it uses a very common board and I thought the MMC3 was quite well understood.</div>
<br />Well, even NROM games can pull tricks that are hard to emulate. I'm really curious to know what the problem is now.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>*Spitfire_NES*</b> [ Wed May 26, 2010 7:31 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />i appreciate your responses bootgod. that dude on youtube i was posting about made some kind of "faulty v-scroll patch" or so he says. i have contacted him and am awaiting further info on exactly what he did. 
<br />
<br />looks like there might be a couple games left that aren't fully emulated. i know most people prob don't play young Indiana Jones a lot, but i figured someone else would have found this. or maybe they have and dont care, ahaha. 
<br />
<br />as far as i know nestopia has problems with 2 games, family circuit 91, and this game. 
<br />
<br />i still am thinking it is perhaps some weird small timing issue on level 1, as far as level 2 goes its almost makes you dizzy the way the screen jerks around and stuff. 
<br />
<br />looking forward to hearing any updated on this and once again i appreciate all the input. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>*Spitfire_NES*</b> [ Sun May 30, 2010 10:12 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />well i managed to track down the ips patch for this one, still scrolling is ugly and semi-tolerable, apparently this ips patch only disables the vertical scrolling. if anyone is interested in checking this out let me know and ill shoot you a link. the link is only to an ips patch so no roms or what-not. 
<br />
<br />in the meantime im hoping to find out more about what the issue with this and as always, i appreciate any and everyone's input on this matter. 
<br />
<br />SN-

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>*Spitfire_NES*</b> [ Sun Jun 06, 2010 9:35 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />with all this talk of mmc3 would timing have alot to do with why this game is so jerky and all? just wondering if anyone knows i know bootgod had posted some info on here.  <img src="./images/smilies/icon_cool.gif" alt="8)" title="Cool" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>jwdonal</b> [ Sun Jun 06, 2010 10:52 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I just checked on my emu and that game uses MMC3 IRQs.  It could be one of the following things that I can think of (if it is in fact an MMC3 problem):
<br />
<br />- It could be that none of the emulators you tested are using the appropriate IRQ behavior for MMC3 for that particular game.  There are 2 types of behaviors for the IRQ output of MMC3.  No one has decided on how to name these 2 behaviors yet so I'll just call them "normal" and "alternate".  There is nothing in the game header to tell you which behavior to use.  You have to do it by hash/CRC.
<br />
<br />- It could actually be something to do with new behavior that we've (Blargg) just (today) discovered in MMC3.  Found here: <!-- m --><a class="postlink" href="http://nesdev.com/bbs/viewtopic.php?t=6467">http://nesdev.com/bbs/viewtopic.php?t=6467</a><!-- m -->  That link also explains the 2 types of IRQ behaviors.  Mind you that RevA vs. RevB is _not_ a good name for that post.  It should say something more like "normal" vs. "alternate" as I mentioned above.
<br />
<br />Although it may not be an MMC3 problem at all.  However, I would think that a CPU/PPU core bug would be unlikely especially since _all_ of the emulators you tried did the same thing.  I think it's more likely to be an MMC3 mapper bug.  But I am _NOT_ a mapper expert.
<br />
<br />Unfortunately, I couldn't even get to level 2 to see if the glitching happened on my emu - I keep dying! And I don't have game genie codes implemented yet. Haha.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>jwdonal</b> [ Mon Jun 07, 2010 8:39 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Okay, so I just tried the game on my emu with both types of IRQ behaviors and neither one fixes the red flashing.
<br />
<br />Just FYI, my mapper has the IRQ "fix" that was mentioned above and passes both of Blargg's MMC3 style IRQ tests.
<br />
<br />Hmm...it would awesome if someone could figure out what this bug is.  If every single emulator out there has the same exact problem, then fixing this bug might lead to a new discovery of the inner workings of the NES, or correct an assumption or conclusion that was incorrectly made it the past.  Figuring out what this bug is might also solve some long unsolved riddle of the original hardware.  Pretty neat if you think about.  And certainly not far-fetched, I mean, come on, _every_ emulator having the same problem????  Wow.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>BootGod</b> [ Tue Jun 08, 2010 3:31 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Can the IRQ behavior be determined solely by the MMC3 revision? I'm just wondering if my DB needs to expand on this or if the revision is enough.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>*Spitfire_NES*</b> [ Tue Jun 08, 2010 7:55 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />interesting stuff and i for one, can't wait to see what the issue is. i appreciate everyone's responses. Im more fascinated with finding out what the issue is more so than the game playing. lol. 
<br />
<br />maybe it has nothing to do with the mmc3 at all perhaps??

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>James</b> [ Tue Jun 08, 2010 10:01 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Just found something potentially interesting here.  I switched to vertical mirroring mode during the cannonball section of level 1 and while the background was incorrect, the screen shook like it's supposed to.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>15</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>