<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Life Bar made of sprites demo</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Life Bar made of sprites demo</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=22&amp;t=9553">http://forums.nesdev.com/viewtopic.php?f=22&amp;t=9553</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>3</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Sat Dec 01, 2012 3:41 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Life Bar made of sprites demo</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />This demo is pretty simple, you can simply select your HP and maximum HP, and a lifebar is drawn with sprites, which is a good alternative to status bars in platformers (makes scrolling more convenient).<br /><br />The particularity is that it's coded entirely in C, thanks to Shiru's devkit. This would not have been possible without it, so all thanks goes to him.

		
			<br clear="all" /><br />

			<table class="tablebg" width="100%" cellspacing="1">
			<tr>
				<td><b class="genmed">Attachments: </b></td>
			</tr>
			
				<tr>
					<td>
			<span class="gensmall"><b>File comment:</b> Downgraded to &quot;old&quot; zip</span><br />
		
			<span class="genmed">
				<img src="./styles/subsilver2/imageset/icon_topic_attach.gif" width="14" height="18" alt="" title="" /> 
				<a href="./download/file.php?id=209">lifebar.zip</a> [6.13 KiB]
			</span><br />
			<span class="gensmall">Downloaded 122 times</span>
		

		<br />
	</td>
				</tr>
			
			</table>
		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Kasumi</b> [ Sun Dec 02, 2012 1:58 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Life Bar made of sprites demo</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Is this .7z not working for anyone else? Give me an operation failed when I try to extract it.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>3gengames</b> [ Sun Dec 02, 2012 2:30 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Life Bar made of sprites demo</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Worked for me with Linux Mint 14's default decompressing tool

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Nioreh</b> [ Sun Dec 02, 2012 2:32 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Life Bar made of sprites demo</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Doesn't work here. Something weird with the file.  <img src="./images/smilies/icon_sad.gif" alt=":(" title="Sad" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Sun Dec 02, 2012 2:36 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Life Bar made of sprites demo</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The 7z command-line utility claims it's compressed with &quot;LZMA2&quot; instead of &quot;LZMA&quot;

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Denine</b> [ Sun Dec 02, 2012 6:38 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Life Bar made of sprites demo</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />It works with Winrar for me.<br />Anyway, very nice demo. It's really smooth. <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Sun Dec 02, 2012 8:36 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Life Bar made of sprites demo</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />About the &quot;LZMA2&quot; issue: Just a guess, but have you tried upgrading to newer 7-Zip?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>blargg</b> [ Sun Dec 02, 2012 9:59 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Life Bar made of sprites demo</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Maybe we could &quot;downgrade&quot; to classic .zip so that basically everyone can unpack it? It might get a few K bigger, which would make downloading take a whole fraction of a second longer to do.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Sun Dec 02, 2012 10:13 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Life Bar made of sprites demo</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Yeah, for the size of files that we usually deal with on this board, the .7z format is most useful only for cases where solid archives are a big win. This usually involves archives of several nearly identical files, such as NTSC and PAL versions of a single ROM, or a generic ROM along with specially numbered ROMs for those who won, placed, or showed in a contest.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Heavy</b> [ Sun Dec 02, 2012 11:39 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Life Bar made of sprites demo</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Sorry to burst your bubble, but there seems to be an issue.  The first 4 points seem to be off somehow.  To see, set the total (right side) to 520 and then count your current (left side) up from 0-5.  I think the issue is from numbers 512 and up.  However, I couldn't pinpoint it due to another bug.  If your current amount is at 000 and your total is 511, then you try to move the total up to 512, it freezes the ROM.  Lol, anyone need a playtester?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Sik</b> [ Mon Dec 03, 2012 7:22 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Life Bar made of sprites demo</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">blargg wrote:</div><div class="quotecontent">Maybe we could &quot;downgrade&quot; to classic .zip so that basically everyone can unpack it? It might get a few K bigger, which would make downloading take a whole fraction of a second longer to do.</div><br />Also emulators usually can open ROMs in ZIP files but not 7Z files, so if it was in a ZIP you wouldn't even need to extract it, but these days making a 7Z file is easier than making a ZIP file (even if just due to UI convenience) not to mention it compresses better.<br /><br />Of course, for a NES ROM there's the question about whether it's even <em>needed</em> to compress it...

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Mon Dec 03, 2012 7:31 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Life Bar made of sprites demo</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />@sik : I didn't compress just the ROM, but also the sources, with all my project where I haven't lost them yet.<br /><br />@Heavy : No problem, you don't have to be sorry. Yes I also had random crashes before I don't know if it is a bug in my code or in the compilation. I'd have to see where in the code it hangs to figure it out.<br />Apparently, it takes up to 40% of the CPU time just to display the status bar. Of course in an actual game this would never be acceptable, and yes, honesty I don't know how Shiru did to make fully playable games with CC65. Congratulations to him.<br />However once you've coded something in C you don't ever want to return to assembly ! So I don't know what to do now haha.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Shiru</b> [ Mon Dec 03, 2012 7:40 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Life Bar made of sprites demo</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I guess that all these divide by 10 and modulo by 10 take up most of the CPU time. As you don't really need to calculate this every frame, only when the value has changed, it won't be much of problem in an actual game. May even add some style, as a slowdown while getting hit makes sort of feedback. See Battletoads and Double Dragons that freezes a bit when you hit someone, because it playing PCM samples.<br /><br />C also could be used for prototyping purposes, as long as the code fits the ROM - you just create something that maybe doesn't work smoothly, then rewrite the most time consuming parts into assembly code, piece by piece.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Mon Dec 03, 2012 7:45 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Life Bar made of sprites demo</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Yes, you are totally right.<br />I could also write the &quot;itoa&quot; routine in assembly once I know the main engine is working.<br /><br />And yes, prototyping in C then porting in assembly could sometimes be faster in development than doing everything in assembly, since you can know exactly how to write your code in assembly before actually doing it.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Mon Dec 03, 2012 7:51 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Life Bar made of sprites demo</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Checklist for reimplementing this in assembly language:<br /><ul><li>16-bit by 16-bit multiplication (try 6502.org) </li><li>16-bit by 16-bit division (try 6502.org) </li><li>Efficient binary to decimal conversion (try <a href="http://wiki.nesdev.com/w/index.php/16-bit_BCD" class="postlink">wiki.nesdev.com</a>) </li></ul><br /><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">And yes, prototyping in C then porting in assembly could sometimes be faster in development than doing everything in assembly, since you can know exactly how to write your code in assembly before actually doing it.</div><br />Better yet, prototype in Python or ActionScript and then port to assembly. It worked for Streemerz, it worked for the CHR optimization tools in <a href="http://forums.nesdev.com/viewtopic.php?f=22&amp;t=9119" class="postlink">my NES graphics editor</a>, and I hope it'll work for my current project.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>3</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>