<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Family BASIC Lessons</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Family BASIC Lessons</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=10&amp;t=15679">http://forums.nesdev.com/viewtopic.php?f=10&amp;t=15679</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>4</strong> of <strong>5</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lancuster</b> [ Mon May 22, 2017 9:23 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Family BASIC Lessons</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Who knows, the engine of this program can support sprites larger than 2x2 tiles?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Pokun</b> [ Tue May 23, 2017 2:22 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Family BASIC Lessons</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The command DEF SPRITE allows you to define each 8x8 sprite (OAM entry) manually, if I remember correctly, while DEF MOVE will automatically make an animated 2x2 character metasprite. It was a long time ago I played around with this so I can't really help, sorry.<br /><br /><div class="quotetitle">lancuster wrote:</div><div class="quotecontent">How to paste code into Nestopia?</div><br />It's in the emulator menu I think. Or just press F12.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lancuster</b> [ Tue May 23, 2017 9:06 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Family BASIC Lessons</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />So I can insert sprites Mario or another character from another game without any changes? I'm asking to know if the game will work normally after I specify a larger number of tiles.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Pokun</b> [ Wed May 24, 2017 6:03 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Family BASIC Lessons</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Yes it should work. Though I'd test with a few sprites first to make sure it works as you expect. You need to follow the same format for animations to work.<br /><br />I checked the manual and it seems DEF SPRITE doesn't simply make an OAM entry as I thought. It makes an animated 2x2 character big metasprite if you pass a 1 to parameter B (as explained in the manual on page 88). You have to pass 0 to parameter B if you only want a single 8x8 dot sprite (but it's also animated).<br /><br />Just remember that doing bigger metasprites is going to take more code and therefore also use up more program memory.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lancuster</b> [ Wed May 24, 2017 8:46 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Family BASIC Lessons</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Clear. How to use the editor background and music which commands are responsible for it? I tried to draw back, but nothing happened.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Pokun</b> [ Thu May 25, 2017 1:08 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Family BASIC Lessons</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The background editor is accessed from a new command in V3, you type BGTOOL (in earlier versions you just access it from the BASIC menu). V3 also allows saving the background to battery RAM. Read the original manual (not the V3 manual) on how to use it, and read the V3 manual to see how you save and such in V3.<br /><br />Sound is done using an MML (Music Macro Language) which allows you to use the APU's two square channels and the triangle channel. It's done with the PLAY command (page 80~81 in the original manual). Sound effects are simple to do in MML, but if you want to make background music that runs in parallel to your game using MML, you'll have to write a sound engine that runs every main loop of your program.<br /><br />For the noise channel you either have to <a href="http://www.famicomworld.com/forum/index.php?topic=12116.0" class="postlink">POKE the APU registers</a> or write the sound engine in 6502 subroutines and CALL them.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lancuster</b> [ Thu May 25, 2017 4:47 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Family BASIC Lessons</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I understand that a &quot;spacebar&quot; is responsible for the printing of tiles on the screen, and F1-F4 - for their palette. But I don't know how to choose the other tiles.<br />Also I wanted to clarify, whether the use of abbreviations to save more space for code.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Pokun</b> [ Thu May 25, 2017 5:29 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Family BASIC Lessons</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Have you downloaded the <a href="http://famicomworld.com/Personal/uglyjoe/FamilyBasicManual.pdf" class="postlink">manual</a> at all? It explains how to use the editor better than I can.<br /><br />Yes if memory is a concern you can sacrifice readability by using more abbreviations and cut down on spaces (the interpreter mostly ignores spaces). I've never done it, but I also never done a big enough project where memory became a problem.

		
			<br clear="all" /><br />

			<table class="tablebg" width="100%" cellspacing="1">
			<tr>
				<td><b class="genmed">Attachments: </b></td>
			</tr>
			
				<tr>
					<td>
			<span class="gensmall"><b>File comment:</b> The rest of the manual is in this text file, but it's mostly not related to BASIC.</span><br />
		
			<span class="genmed">
				<img src="./styles/subsilver2/imageset/icon_topic_attach.gif" width="14" height="18" alt="" title="" /> 
				<a href="./download/file.php?id=9025">fabaman-t_v1.0.txt</a> [43.32 KiB]
			</span><br />
			<span class="gensmall">Downloaded 60 times</span>
		

		<br />
	</td>
				</tr>
			
			</table>
		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lancuster</b> [ Fri May 26, 2017 5:38 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Family BASIC Lessons</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />It turns out that the program can only play 7 notes plus the change of tone and other indicators?..<br />By the way, about BGTOOL in this document is not a word. Give me some examples or tutorials.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Pokun</b> [ Fri May 26, 2017 12:56 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Family BASIC Lessons</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">lancuster wrote:</div><div class="quotecontent">It turns out that the program can only play 7 notes plus the change of tone and other indicators?..</div><br />The MML gives you full control of the <a href="https://wiki.nesdev.com/w/index.php/APU_Pulse" class="postlink">square</a> duty cycle setting (Y0~Y3), hardware saw envelope flag (M1 and M0 for on and off respectively) and volume (V0~V15, V0 is silent and V15 is loudest, only works for square channel and if saw envelope is off). You also have six full octaves (O0~O5) with twelve notes each (A~#F, plus a &quot;rest&quot; note R), eight levels of tempo per note (T1~T8) and a length counter per note (x0~x9).<br />Square channel 1 is called channel A in the manual, Square channel 2 is B and the Triangle channel is C. You can play all three of them at the same time as explained in the manual (multiphonic).<br /><br />Making a sound engine in Family BASIC is probably very memory consuming so it's quite rare to see games with background music. Most games only use it for sound effects or when playing a short Title Screen or Game Over melody when the game isn't accepting input from the player, so that a sound engine isn't needed.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">By the way, about BGTOOL in this document is not a word. Give me some examples or tutorials.</div><br />BGTOOL is a command in V3 only, and the original manual doesn't mention it. The name of the actual editor is BG GRAPHIC. Usage is explained on page 40 in the manual. The main difference in V3 is that you don't type SYSTEM (that will shut down the game), instead you type BGTOOL to access it. Read from page 40 and ask again if there's something that's not clear.<br /><br /><br />The V3 manual can be found <a href="http://www.famicomworld.com/forum/index.php?topic=10276.0" class="postlink">here</a>. I included the translation in the attachment of this post.

		
			<br clear="all" /><br />

			<table class="tablebg" width="100%" cellspacing="1">
			<tr>
				<td><b class="genmed">Attachments: </b></td>
			</tr>
			
				<tr>
					<td>
			<span class="gensmall"><b>File comment:</b> Translated V3 manual. Translation is incomplete but the most important parts are translated, including the register for the commands that are new in V3 and how to use the new backup features.</span><br />
		
			<span class="genmed">
				<img src="./styles/subsilver2/imageset/icon_topic_attach.gif" width="14" height="18" alt="" title="" /> 
				<a href="./download/file.php?id=9040">fambasv3_t.txt</a> [41.06 KiB]
			</span><br />
			<span class="gensmall">Downloaded 54 times</span>
		

		<br />
	</td>
				</tr>
			
			</table>
		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lancuster</b> [ Sun Jul 08, 2018 4:24 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Family BASIC Lessons</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I just got back to deal. <img src="./images/smilies/icon_wink.gif" alt=":wink:" title="Wink" /> <br />I would like to find out what values are responsible for including BIGTOOL and other commands that can't be entered on a standard keyboard, due to the lack of such keys. Who can tell how to find these values in the ROM to move commands to existing keys for programming without a proprietary keyboard?<br /><strong>Like this:</strong><br /><em>CTRL+W - change language to English<br />CTRL+V - change language to Japanese</em>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Pokun</b> [ Sun Jul 08, 2018 7:58 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Family BASIC Lessons</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />It's BGTOOL not BIGTOOL and doesn't require any special characters to enter. But it's only available in V3. If it doesn't work I guess you are running V1 or V2.<br /><br />I'm not sure what you are talking about standard keyboard. There is only one keyboard for Famicom unless you are using a Famiclone one? Or are you running on an emulator? The emulator should emulate all keys, but it may fail to support all PC keyboards. Some emulators doesn't allow my Swedish keyboard to use all keys (I forgot which).<br /><br />For control codes look at page 104 in the manual. For example CTR+V is the same as the kana key and CTR+W goes back into alphanumeric mode. CTR+G is the same as entering BEEP and the most useful of all: CTR+D (restores sprites, palettes etc to default).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lancuster</b> [ Sun Jul 08, 2018 1:40 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Family BASIC Lessons</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Pokun wrote:</div><div class="quotecontent">It's BGTOOL not BIGTOOL and doesn't require any special characters to enter. But it's only available in V3. If it doesn't work I guess you are running V1 or V2.<br /><br />I'm not sure what you are talking about standard keyboard. There is only one keyboard for Famicom unless you are using a Famiclone one? Or are you running on an emulator? The emulator should emulate all keys, but it may fail to support all PC keyboards. Some emulators doesn't allow my Swedish keyboard to use all keys (I forgot which).<br /><br />For control codes look at page 104 in the manual. For example CTR+V is the same as the kana key and CTR+W goes back into alphanumeric mode. CTR+G is the same as entering BEEP and the most useful of all: CTR+D (restores sprites, palettes etc to default).</div><br />On the emulator. I tried to find the missing keys on the keyboard (like &quot;GRAPH&quot;) and didn't find them. On Virtuanes doesn't want to be printed &quot;:&quot; and &quot;;&quot;. Because STТONES only supports Virtuanes, I'll have to have programming on it.<br /><img src="https://i.kinja-img.com/gawker-media/image/upload/18j2wxf2nq8dtjpg.jpg" alt="Image" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Gilbert</b> [ Sun Jul 08, 2018 6:15 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Family BASIC Lessons</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The <a href="http://virtuanes.s1.xrea.com/vhelp/etc_con.html" class="postlink">online help</a> of VirtuaNES lists some of the key assignments:<br />STOP: End<br />CLR/HOME: Home<br />GRAPH: Press and hold/release PageDown,PageUp<br />KANA: F12

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Sun Jul 08, 2018 7:10 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Family BASIC Lessons</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Gilbert wrote:</div><div class="quotecontent">GRAPH: Press and hold/release PageDown,PageUp</div><br />How practical is that on laptops where PageDown and PageUp are behind the Fn modifier key? On a Dell Inspiron 11 3000 series, for example, they're Fn+Down and Fn+Up.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>4</strong> of <strong>5</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>