<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - a new alternative to iNES</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">a new alternative to iNES</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=3&amp;t=6558">http://forums.nesdev.com/viewtopic.php?f=3&amp;t=6558</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>3</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>etabeta</b> [ Sat Jul 03, 2010 3:41 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>a new alternative to iNES</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Even if I've spent quite some time, in the past year, to improve compatibility in the NES emulation of MESS (by adding new mappers, by adding support for UNIF files and by implementing preliminary iNES 2.0 support), I have never been really happy with the current NES formats.
<br />Being my background mainly related to MAME, I've always been under the impression that gluing together the different chip contents + an 'arbitrary' header was not the best solution. Especially, given the large number of ROMs floating around with the wrong header (while working on pirate mappers, I have found tons of chinese roms generically assigned to Mapper 4 or 0, which in fact required different features to work), and the generic lack of consensus on some mapper numbers for obscure chinese carts.
<br />
<br />This is why, starting from today, MESS publicly supports loading zipfiles containing separate PRG and CHR files, <strong>in addition</strong> to iNES and UNIF! 
<br />The matching between the ROM files and the correspondent boards is obtained through a .xml database which gets read when carts are loaded and which is public for anyone to use (as long as new findings about obscure boards are made public so that anyone can use them): you can get a copy from this link (click on 'plain' and save the ~2.5MB xml file)
<br />
<br /><!-- m --><a class="postlink" href="http://git.redump.net/cgit.cgi/mess/tree/hash/nes.xml">http://git.redump.net/cgit.cgi/mess/tree/hash/nes.xml</a><!-- m -->
<br />
<br />Before getting into the xml details, I would like to point out that only 3 things are required to add support for these files in any emu:
<br />1. an xml parser, to read info from nes.xml about the board type, the memory sizes, the mirroring, the dispwitches, the peripherals, etc.
<br />2. the capability to load separate files from inside a zipfile based on checksums or filenames (like MAME, Nebula and FBA do for arcade romsets)
<br />3. a lookup table to pass from the board type [read in nes.xml] to the correct mapper emulation. NEStopia has a lookup table of this sort in src/core/boards/NstBoard.h, if a reference is needed
<br />
<br />once the file is loaded in memory and the emulator has chosen the appropriate read/write handlers, emulation can go on as it would usually do after loading an iNES file to memory. 
<br />
<br />Now let's focus on the xml format. Let's examine a typical entry (in this case for Aerobic Studio)
<br />
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; &nbsp;&lt;software name=&quot;train3as&quot; supported=&quot;partial&quot;&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&lt;!-- Serial: FT-03 - Release Date: 1987-02-26 - Alternative Title: ãƒ•ã‚¡ãƒŸãƒªãƒ¼ãƒˆãƒ¬ãƒ¼ãƒŠãƒ¼â‘¢ ã‚¨ã‚¢ãƒ­ãƒ“ã‚¹ã‚¿ã‚¸ã‚ª --&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&lt;description&gt;Family Trainer 3: Aerobics Studio &#40;Jpn&#41;&lt;/description&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&lt;year&gt;1987&lt;/year&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&lt;publisher&gt;Bandai&lt;/publisher&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&lt;part name=&quot;cart&quot; interface=&quot;nes_cart&quot;&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;feature name=&quot;pcb&quot; value=&quot;BANDAI-PT-554&quot; /&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;feature name=&quot;mirroring&quot; value=&quot;horizontal&quot; /&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;feature name=&quot;peripherals&quot; value=&quot;ftrainer&quot; /&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;dataarea name=&quot;prg&quot; size=&quot;32768&quot;&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;rom name=&quot;aerob pr&quot; size=&quot;32768&quot; crc=&quot;f8da2506&quot; sha1=&quot;c14075b1b7c98b684870e8d85b7ff2b462e3cd10&quot; offset=&quot;00000&quot; /&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;/dataarea&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;dataarea name=&quot;chr&quot; size=&quot;32768&quot;&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;rom name=&quot;aerob ch&quot; size=&quot;32768&quot; crc=&quot;ff1d2bfd&quot; sha1=&quot;c41872d3c28230f3a907db9bf46568ca8a789e22&quot; offset=&quot;00000&quot; /&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;/dataarea&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;dataarea name=&quot;adpcm&quot; size=&quot;262144&quot;&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;rom name=&quot;m50805&quot; status=&quot;nodump&quot; offset=&quot;00000&quot; /&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;/dataarea&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&lt;/part&gt;<br />&nbsp; &nbsp;&lt;/software&gt;<br /></div><br /><br />Each game is in a &lt;software&gt; node with a "name" attribute (a shortname like MAME uses: the emulator will then look for the files inside a train3as.zip file) and a "supported" attribute (this is MESS specific, but other emus can strip it out with e.g. a perl script). <br /><br />Then, we have the basic info which could be shown in the emu UI: <br />- &lt;description&gt; for the complete name of the game<br />- &lt;year&gt; &amp; &lt;publisher&gt; for the corresponding info<br />the commented out fields (serial, release date &amp; alt titles) might be re-added later, I'm not sure (this xml format is used for many systems in MESS, so some compromise had to be accepted)<br /><br />Finally, &lt;part&gt; includes everything an emulator needs to know to emulate this specific piece of software (the "name" and "interface" attributes are internally used by MESS to know this is NES and not another console). <br /><br />Ideally, an emulator could start any file of the xml list by simply parsing the part node: <br />- from &lt;features&gt;, you would find out: which "pcb" the game uses (in this case a Bandai CNROM variant containing an additional sound chip), so that you can choose the required mapper; if the game has hardwired "mirroring", horizontal in this case; if the game supports particular peripherals; etc. for some particular pcb there might be specific features, e.g. the pin settings for protected CNROM games, or the pin connections for Konami VRC-2, VRC-4 and VRC-6 games, or the chip revision for MMC1 and MMC3 (to handle different MMC3 IRQ or Mapper 1 vs. Mapper 155 emulation)...<br />- from &lt;dataarea&gt;, you would find out which chips were present on the pcb: in the example we have the expected "chr" and "prg", plus a "adpcm" area for the content of the audio chip, if we ever manage to dump it. Other possible 'dataarea' are "vram" (if present on the board), "wram" and "bwram" for PRG RAM with or without battery, "mapper_ram" and "mapper_bram" for mappers which have internal RAM with or without battery like MMC5, MMC6 &amp; Taito X1-005. At start, an emu should simply load prg &amp; chr, and take note of the other dataarea to setup VRAM &amp; WRAM like it would do by parsing the iNES header<br />- from &lt;dipswitch&gt;, you would read if the cart had switches on it (this is needed for a few pirate multicarts)<br /><br />Here are other three examples for Excitebike, Shin Satomi Hakkenden and Taito Grand Prix, respectively<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; &nbsp;&lt;software name=&quot;excitbik&quot;&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&lt;!-- Serial: NES-EB &#40;EEC/NOE/ESP&#41; - Release Date: 1986 --&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&lt;description&gt;Excitebike &#40;Euro&#41;&lt;/description&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&lt;year&gt;1986&lt;/year&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&lt;publisher&gt;Nintendo&lt;/publisher&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&lt;part name=&quot;cart&quot; interface=&quot;nes_cart&quot;&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;feature name=&quot;pcb&quot; value=&quot;NES-NROM-128&quot; /&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;feature name=&quot;mirroring&quot; value=&quot;vertical&quot; /&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;dataarea name=&quot;prg&quot; size=&quot;32768&quot;&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;rom name=&quot;pal-eb-0 prg&quot; size=&quot;16384&quot; crc=&quot;0b5667e9&quot; sha1=&quot;8c37839c645d54184df6273e481527d4cfa312d2&quot; offset=&quot;00000&quot; /&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;rom size=&quot;16384&quot; offset=&quot;4000&quot; loadflag=&quot;reload&quot; /&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;/dataarea&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;dataarea name=&quot;chr&quot; size=&quot;8192&quot;&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;rom name=&quot;hvc-eb-0 chr&quot; size=&quot;8192&quot; crc=&quot;e5f72401&quot; sha1=&quot;a8bf028e1a62677e48e88cf421bb2a8051eb800c&quot; offset=&quot;00000&quot; /&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;/dataarea&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&lt;/part&gt;<br />&nbsp; &nbsp;&lt;/software&gt;<br /><br />&nbsp; &nbsp;&lt;software name=&quot;shinsato&quot;&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&lt;!-- Serial: TDF-91 - Release Date: 1989-12-08 - Alternative Title: æ–° é‡Œè¦‹å…«çŠ¬ä¼&nbsp; å…‰ã ¨é—‡ã ®æˆ¦ã „ --&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&lt;description&gt;Shin Satomi Hakkenden: Hikari to Yami no Tatakai &#40;Jpn&#41;&lt;/description&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&lt;year&gt;1989&lt;/year&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&lt;publisher&gt;Toei Animation&lt;/publisher&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&lt;part name=&quot;cart&quot; interface=&quot;nes_cart&quot;&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;feature name=&quot;pcb&quot; value=&quot;HVC-SNROM&quot; /&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;feature name=&quot;mmc1_type&quot; value=&quot;MMC1B2&quot; /&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;dataarea name=&quot;prg&quot; size=&quot;262144&quot;&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;rom name=&quot;tdf-91-0 prg&quot; size=&quot;262144&quot; crc=&quot;23e9c736&quot; sha1=&quot;835a0f9a3ddd516cecbccf34fbe8f7632f297558&quot; offset=&quot;00000&quot; /&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;/dataarea&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;!-- 8k VRAM on cartridge --&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;dataarea name=&quot;vram&quot; size=&quot;8192&quot;&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;/dataarea&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;!-- 8k WRAM on cartridge, battery backed up --&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;dataarea name=&quot;bwram&quot; size=&quot;8192&quot;&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;/dataarea&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&lt;/part&gt;<br />&nbsp; &nbsp;&lt;/software&gt;<br /><br />&nbsp; &nbsp;&lt;software name=&quot;taitogp&quot;&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&lt;!-- Serial: TFC-TG-5500 &#40;15&#41; - Release Date: 1987-12-18 - Alternative Title: ã‚¿ã‚¤ãƒˆãƒ¼ã‚°ãƒ©ãƒ³ãƒ—ãƒª æ „å…‰ã ¸ã ®ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ --&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&lt;description&gt;Taito Grand Prix: Eikou e no License &#40;Jpn&#41;&lt;/description&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&lt;year&gt;1987&lt;/year&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&lt;publisher&gt;Taito&lt;/publisher&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&lt;part name=&quot;cart&quot; interface=&quot;nes_cart&quot;&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;feature name=&quot;pcb&quot; value=&quot;TAITO-X1-005&quot; /&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;feature name=&quot;x1-pin17&quot; value=&quot;CHR A17&quot; /&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;feature name=&quot;x1-pin31&quot; value=&quot;CIRAM A10&quot; /&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;dataarea name=&quot;prg&quot; size=&quot;131072&quot;&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;rom name=&quot;pr0 x3-018&quot; size=&quot;131072&quot; crc=&quot;17627d4b&quot; sha1=&quot;5a8680dce5f2f2ecb28ef592b7418b2371fe98f4&quot; offset=&quot;00000&quot; /&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;/dataarea&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;dataarea name=&quot;chr&quot; size=&quot;131072&quot;&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;rom name=&quot;ch x3-019&quot; size=&quot;131072&quot; crc=&quot;505aa340&quot; sha1=&quot;8890e530e9b1485bfeb7e73669104edce8fa625f&quot; offset=&quot;00000&quot; /&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;/dataarea&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;!-- 128b Internal RAM &#40;battery backed up&#41; in the X1-005 chip --&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;dataarea name=&quot;mapper_bram&quot; size=&quot;128&quot;&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;/dataarea&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&lt;/part&gt;<br />&nbsp; &nbsp;&lt;/software&gt;<br /></div>
<br />
<br />Notice that, as shown by Excitebike, the "prg" dataarea is always at least 32KB wide, with smaller roms reloaded/mirrored where necessary
<br />
<br />A few more remarks:
<br />
<br />Concerning accuracy of the info in the xml list, the first part of the list is very precise, being based on the latest version of Bootgod's database.
<br />On the other hand, the second part is not so complete (yet): it contains files (around 2500)  from various other collections (GoodNES, nointro and NonGoodNES), with pcb, mirroring and vram/wram settings taken from the headers. As such, there might be mistakes which I hope to fix little by little... Moreover, additional info are mostly missing (I will add them next, but I thought checksums had definitely priority over Manufacturers and Release Dates <img src="./images/smilies/icon_wink.gif" alt=";)" title="Wink" /> ) and some Alt sets might actually be bad dumps which got incorrectly labeled, and they will need further investigations to be sorted out. 
<br />However, I think the current list is not that bas as a starting point, given that 95% of the games shows something when loaded <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />
<br />
<br />Concerning included file, you might notice that the xml list does not contain hacks or translations: this is done in purpose, since in my opinion these should be made available as IPS patches (to be applied at loading time, after the separate prg &amp; chr have been loaded into memory). On the other hand, dumps from pirate carts are included.
<br />
<br />Finally, concerning the file availability (a not so trivial question, given that it's what basically killed the nice UNIF format), conversion from iNES &amp; UNIF is pretty easy since it mainly consists of splitting PRG and CHR chunks from the existing files: MESS is already capable of dumping out the data when the user loads one of his files, if required, and rommanager programs like clrmame or romvault can use the xml list to create zip archives with the correct names from the split files. Also, there is a group of users actively splitting the files so that ready-to-use zipfiles might <em>appear</em> soon-ish through rom collector websites. I'm not sure this will be enough to gain some momentum,
<br />but I hope I can find some more people not exactly happy with the iNES format and the arbitrary mapper numbers <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />
<br />
<br />Of course, I'd be interested in feedback and suggestions (as well as critics, of course) and I'm ready to answer to any question which might arise.
<br />
<br />That's all folks. Thanks for reading. Cheers.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Sat Jul 03, 2010 4:12 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: a new alternative to iNES</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />A bit of constructive criticism:
<br />
<br /><div class="quotetitle">etabeta wrote:</div><div class="quotecontent">This is why, starting from today, MESS publicly supports loading zipfiles containing separate PRG and CHR files</div><br />In other words, "Now supports Pasofami split format!"<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">The matching between the ROM files and the correspondent boards is obtained through a .xml database</div><br />So it's <em>almost</em> Pasofami, just with the board spec in a central XML database instead of a .prm file. But then how can a homebrew game add itself to the database? Should a zipfile include its own nes.xml? Or did you intend it only for ROM images of games that have been released commercially or otherwise satisfy English Wikipedia's notability criteria?<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; &nbsp;&lt;software name=&quot;train3as&quot; supported=&quot;partial&quot;&gt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&lt;!-- Serial: FT-03 - Release Date: 1987-02-26 - Alternative Title: ãƒ•ã‚¡ãƒŸãƒªãƒ¼ãƒˆãƒ¬ãƒ¼ãƒŠãƒ¼â‘¢ ã‚¨ã‚¢ãƒ­ãƒ“ã‚¹ã‚¿ã‚¸ã‚ª --&gt;<br /></div></div><br />Shouldn't text in XML be in UTF-8 rather than Shit-JIS?<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; &nbsp;&lt;software name=&quot;excitbik&quot;&gt;</div></div><br />Who registers software names and publisher names?<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; &nbsp;&nbsp; &nbsp;&lt;description&gt;Taito Grand Prix: Eikou e no License &#40;Jpn&#41;&lt;/description&gt;</div></div><br />"no License" sounds like something Tengen or Color Dreams might do <img src="./images/smilies/icon_smile.gif" alt=":-)" title="Smile" /><br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Concerning included file, you might notice that the xml list does not contain hacks or translations: this is done in purpose, since in my opinion these should be made available as IPS patches (to be applied at loading time, after the separate prg &amp; chr have been loaded into memory).</div>
<br />If you want to handle them like MAME handles clones, a zipfile with an IPS in it would have the main ROM as its parent. But then IPS isn't so good at handling disassemble-patch-reassemble hacks such as the newer SMB1 hacks based on <a href="http://www.romhacking.net/docs/344/" class="postlink">Doppelganger's SMBDis</a>. Those would be better served by xdelta than by IPS, as KaioShin of Romhacking.net suggested to me.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>3gengames</b> [ Sat Jul 03, 2010 8:06 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Well I definently think this is cool but I kinda think that it's a bad thing. iNES is the standard for a reason, so it can be standardized. I don't think MESS should be trying to change it, it should conform to it IMO. I also believe that maybe it should have this data in it if needed but just solve it via checksum and ROM size list, we shouldn't need a whole new zip file with multiple files and such when with iNES we just have one file that if need be, we could find what game it is through a database inside the emulator/program (Bootgod's site is amazing) Well thats my opinion but others can definently go off to a new standard it won't matter to my FCEUX and NESASM3 <img src="./images/smilies/icon_razz.gif" alt=":P" title="Razz" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MottZilla</b> [ Sat Jul 03, 2010 8:32 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />You're not likely to succeed in replacing iNES with a far more complicated format. iNES has some short falls but overall works well. Beats implementing some XML parser and other such things.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>etabeta</b> [ Sun Jul 04, 2010 1:41 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: a new alternative to iNES</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />thanks a lot for the comments, tepples
<br />
<br /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">In other words, "Now supports Pasofami split format!"</div><br /><br />I was not sure Pasofami format was exactly like this (no files seems to be still available), but then yes: I have resurrected the separate PRG/CHR thing<br /><br /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">But then how can a homebrew game add itself to the database? Should a zipfile include its own nes.xml? Or did you intend it only for ROM images of games that have been released commercially or otherwise satisfy English Wikipedia's notability criteria?</div><br /><br />well, so far I tried to list all and only the carts released for the real hardware (both licensed and unlicensed). <br /><br />one of the reasons we added xml lists to MESS (for several systems) is that we received a lot of bug reports due to bad dumps. In the NES case we also had reports due to corrupted headers, or headerless roms (which got spread out with early nointro datfiles). this xml list offers a list of best-dump-to-knowledge to check bugs against, and therefore I was initially concerned with released games for the most part<br /><br />eventually, I'd be interested to add homebrew programs which run on the real hardware, but I simply haven't got around to it yet.<br /><br />shipping a single-set xml file with the software is another possibility as well, I really haven't spent too much time on this yet.<br /><br /><br /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">Shouldn't text in XML be in UTF-8 rather than Shit-JIS?</div><br /><br />to say the truth, I directly extracted the Japanese titles from bootgod's db, without checking the encoding. I will check the issue (especially if we decide to uncomment the alternative titles)<br /><br /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">Who registers software names and publisher names?</div><br /><br />so far I've been the only one working on the list (that's why additional info are often missing: for start, I devoted a lot more attention to the checksums than to titles/manufacturer/release date), but now that it's public any contribution and help would be very welcome.<br /><br />we also plan to eventually create some sort of PHP interface in our wiki to make list improvements a community effort, but we're still working on it<br /><br /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">If you want to handle them like MAME handles clones, a zipfile with an IPS in it would have the main ROM as its parent. But then IPS isn't so good at handling disassemble-patch-reassemble hacks such as the newer SMB1 hacks based on <a href="http://www.romhacking.net/docs/344/" class="postlink">Doppelganger's SMBDis</a>. Those would be better served by xdelta than by IPS, as KaioShin of Romhacking.net suggested to me.</div>
<br />
<br />well, if these hacks get released as iNES files rather than patches, then they might be as well released as separate PRG+CHR with an additional xml file, like homebrew...
<br />
<br />however, this is definitely one of the reasons we would never drop immediately iNES even if this format would meet immediate consensus and success: too many nice hombrew programs and interesting ASM hacks are only available in iNES format and sometimes an IPS (or UPS) patch is not enough

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>etabeta</b> [ Sun Jul 04, 2010 1:45 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Thanks for the replies to 65024U and MottZilla as well. I hope you won't get offended if I merged the counter-replies to your critics in a single post
<br />
<br /><div class="quotetitle">65024U wrote:</div><div class="quotecontent">Well I definently think this is cool but I kinda think that it's a bad thing. iNES is the standard for a reason, so it can be standardized. I don't think MESS should be trying to change it, it should conform to it IMO. </div><br /><br />MESS supports around 150 different iNES mappers and will continue to support the format, because too many users are only interested into playing and will simply keep using their old iNES files.<br /><br />there is no big kill-iNES-and-impose-a-new-standard conspiracy behind this <img src="./images/smilies/icon_wink.gif" alt=";)" title="Wink" /><br /><br />just an(other) attempt to overcome some of the iNES limitations with an alternative approach<br /><br /><div class="quotetitle">MottZilla wrote:</div><div class="quotecontent">You're not likely to succeed in replacing iNES with a far more complicated format.</div><br /><br />let me clarify this point again: I do not plan to replace iNES files. <br /><br />that said, I do not think it is a very complicated format (except for the xml parsing): say that you have the parser, then you simply <br />1. read the xml, extracting pcb type and the info about PRG and CHR checksums and sizes<br />2. load from zip the files with the expected checksums<br />3. store the files in memory with prg followed by chr<br /><br />now your emulator can treat the file like a iNES one! simply use the pcb type to choose mapper, divide prg size by 16k and you get prg_chunks, divide chr size by 8k and you get chr_chunks... then you're ready to start emulation.<br /><br />of course, if you do not want to add an xml parser (despite libexpat being free), the format becomes complicate to support. <br /><br />however, I'd like to stress once more that I'm just offering an alternative, not trying to evangelize other emu authors. this alternative seems to work pretty fine in MESS, but I agree that it might not fit other people needs.<br /><br />Overall, I'm already happy you spent some time reading my posts <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br /><br /><div class="quotetitle">65024U wrote:</div><div class="quotecontent">I also believe that maybe it should have this data in it if needed but just solve it via checksum and ROM size list, we shouldn't need a whole new zip file with multiple files and such when with iNES we just have one file that if need be, we could find what game it is through a database inside the emulator/program (Bootgod's site is amazing)</div><br /><br />well, my xml list is generated from bootgod db and it just adds a lot of carts which haven't still be verified with bootgod's quality standards <img src="./images/smilies/icon_wink.gif" alt=";)" title="Wink" /><br /><br />also, MESS already have a series of crc hacks to handle multiple boards sharing the same mapper... I've just always thought that relying on checksums sort of defeat the point of using files with an header (see below)...<br /><br />about the choice of separate files, I made the following reasoning:<br />1. let's say you want to use an internal crc list or an internal database like e.g. NEStopia does... well, doesn't this beat the whole point of having an header? if you have to identify boards based on the crc, then you could add to your database the mapper number as well, and the header would become pointless/unused<br /><br />2. once the header is not so useful anymore, we might start thinking about headerless roms... but then why don't support the real content of the carts (like documented by bootgod) instead of files which glue together PRG and CHR? I know my MAME experience is probably the reason behind this second point, but if it has proven to be working for arcade games, why should it be so bad for NES?<br /><br /><br /><div class="quotetitle">MottZilla wrote:</div><div class="quotecontent">iNES has some short falls but overall works well. </div><br /><br />except for the need of submappers in many cases (mappers 32, 34, 71, 78, 113, 153, 185 &amp; 242), except for not being able to natively support Galaxian with its 8K PRG, except for some Chinese dumpers assigning new mapper numbers without anyone tracking them (except maybe Cah4e3), except for the wrong/corrupted headers the users might have, except that even if you fix the headers or upgrade them to iNES2.0 next GoodNES might change them back or the users might never update the headers in their collections... etc... etc...<br /><br />I know that iNES is not that bad (and MESS will keep supporting it, of course), but I was personally not satisfied with it <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br /><br /><div class="quotetitle">65024U wrote:</div><div class="quotecontent">Well thats my opinion but others can definently go off to a new standard it won't matter to my FCEUX and NESASM3 <img src="./images/smilies/icon_razz.gif" alt=":P" title="Razz" /></div>
<br />
<br />If you're simply not interested in the thing (or you don't want to touch xml), I respect your opinion.
<br />but if you see any design flaw which makes the format incompatible with your projects, please let me know: I'm always open to suggestions

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>RetroRalph</b> [ Sun Jul 04, 2010 6:13 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I think moving past INES is an important thing for the future. However I'm not sure some XML + rom thing is the best way forward. Firstly it doesn't help either emulator authors or end users. With no standardized compression/format for the actual ROM data we will still be left to support a myriad of formats for the data, or a format such as ZIP which is antiquidated. Who wants RAR, ZIP, 7ZIP, TAR, GZ, etc support in every single emulator? It's a waste.
<br />
<br />Secondly, it seems XML is favoured because of the ability to 'be liquid' in the future when it comes to adding new features. Considering the games we are covering here are almost 30 years old, we pretty much know what they contain, the best solution is to have people spend the hundreds of hours necessary to write appropriate things for each game, and bundling data into appropriate containers. Not adding simple INES -&gt; XML converters which do nothing except change the data into another form.
<br />
<br />Any solution which doesn't involve some people spending the hundreds of hours going over  each game isn't really a solution and will never take off. I know from my experience with RetroCopy and the new .GAME format, without people helping you with the databases there is pretty much no point in trying a new format.
<br />
<br />As a developer I look at what you have done etabeta and go, what do I get out of it? If you can't offer developers a positive benefit they aren't going to take a new thing up. MESS isn't like MAME in that it can dictate formats as very few people actually use it. Without proper consultation of developers it's pretty much going to be like running on a treadmill any time you waste on such an endeavor.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Sun Jul 04, 2010 6:44 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>NESMiss.txt</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">etabeta wrote:</div><div class="quotecontent">eventually, I'd be interested to add homebrew programs which run on the real hardware</div><br />With PowerPak becoming more widespread, it's far more common for homebrew to work as advertised on an NES.<br /><br />Because a homebrew game might be released early and often, a database (or section) designed for homebrew should probably not list outdated dumps. For example, <a href="http://pdroms.de/files/711/" class="postlink">the entry for LJ65 on pdroms.de</a> lists only the latest version (0.41). But common ROM cataloging tools are designed for commercial games, and far more prototypes can be found for a homebrew game than for a commercial game. The database might end up with entries for versions 0.01, 0.02, 0.03, 0.04, ..., 0.45, 0.46 of a program, as if they were alternate dumps. It becomes complicated when cataloging tools such as GoodNES include a function to spit out NESMiss.txt, a report listing ROMs in the database that the tool could not find. The presence of outdated dumps in the default view of NESMiss.txt encourages people to try to collect a "compl33t GoodNES set!!!11" including every outdated prototype version ever released. That's why the copyright screens of very early versions of LJ65 (formerly Tetramino) included notices to the maintainer of GoodNES that they weren't yet ready for wide distribution, let alone for the database.<br /><br />And while researching this reply, I found your post in a <a href="http://www.allgoodthings.us/mambo/index.php?option=com_simpleboard&amp;Itemid=42&amp;func=view&amp;id=272&amp;catid=5" class="postlink">discussion on how NESMiss.txt expresses excluded ROM categories</a>. (And is that the distributed.net cow head in Cowering's favicon?)<br /><br /><div class="quotetitle">etabeta wrote:</div><div class="quotecontent">I hope you won't get offended if I merged the counter-replies to your critics in a single post </div><br />In fact, that's common practice on this and many other phpBB boards I've used. The problem with merging happens when a comment mixes replies to on-topic and off-topic posts, and a moderator wants to split off the OT discussion. Moderators can split a topic but not an individual post.<br /><br /><div class="quotetitle">etabeta wrote:</div><div class="quotecontent">of course, if you do not want to add an xml parser (despite libexpat being free)</div><br />It's free as in speech, but not free as in memory. Some NES emulators run on platforms with 4 MB of RAM or even less: see nesDS and PocketNES.<br /><br /><div class="quotetitle">etabeta wrote:</div><div class="quotecontent">if it has proven to be working for arcade games, why should it be so bad for NES? </div><br />Apart from "arcade consoles" such as PlayChoice, CPS, and Neo Geo, a given arcade system board supports only one or a few games, and they have far less of a homebrew scene than consoles. (There's Vantris, a falling block game for Vanguard hardware, and what else?) This makes adding a game less cumbersome, as the emulator developer has to add support to the emulator's code anyway.<br /><br /><div class="quotetitle">etabeta wrote:</div><div class="quotecontent">except for the need of submappers in many cases (mappers 32, 34</div>
<br />I see 34 and think BNROM. <a href="http://wiki.nesdev.com/w/index.php/INES_Mapper_034" class="postlink">The wiki page for 34</a> claims that BNROM and NINA-001 are easy to distinguish: NINA-001 has CHR ROM.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>etabeta</b> [ Sun Jul 04, 2010 7:05 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">RetroRalph wrote:</div><div class="quotecontent">As a developer I look at what you have done etabeta and go, what do I get out of it? If you can't offer developers a positive benefit they aren't going to take a new thing up. </div><br /><br />well, it replaces the need of a mapper number with a string of the board name: there would be no risk of multiple boards assigned to the same mapper, or the need of changing number to the mapper at a later stage (quite difficult after you have released a rom with the wrong header). nor limits on the number of mappers would be present anymore.<br /><br />also, from the point of view of emu authors, with the xml list VRC2, VRC4 and VRC6 code can be simplified a lot, based on the pin settings (which basically shifts which bits control chr/prg bankswitch)<br /><br />similarly Taito X1-005 and Mapper 185 games can be setup more easily at start without a crc check, but simply parsing accurately the pin 'features' in the xml<br /><br />again, the controller needed by some game can be retrieved by the xml and also the dipswitches that some pirate multicart have.<br /><br />all these aspects could be handled by using a list of crc in the emulator source, but it's much more transparent when externalized. <br /><br />also, it's easier when a new cart gets dumped: say you put in the source the dipswicthes for a 65-in-1 cart and then a 77-in-1 different cart get dumped with the same cart hw but different switch settings: if you use an internal crc list you have to release a new version of the emu with the new crc; in this way you just have to add the xml entry and the emulator would read the enw settings without even the need of recompiling it...<br /><br /><div class="quotetitle">RetroRalph wrote:</div><div class="quotecontent">Secondly, it seems XML is favoured because of the ability to 'be liquid' in the future when it comes to adding new features. Considering the games we are covering here are almost 30 years old, we pretty much know what they contain, the best solution is to have people spend the hundreds of hours necessary to write appropriate things for each game, and bundling data into appropriate containers. Not adding simple INES -&gt; XML converters which do nothing except change the data into another form.</div><br /><br />except that a few years ago pirate carts with dispwitches started to get dumped. something completely unexpected when iNES got created...<br /><br />except that a couple of years ago, bootgod proved that some boards (CNROM now assigned to mapper 185) have a copy protection involving particular pins on the board and that each setting would result in a different protection scheme.<br /><br />there are continuously new findings about these games, despite their age: as such, we could expect some more extension to be needed in the future (even if for smaller and smaller tidbits)<br /><br /><br /><div class="quotetitle">RetroRalph wrote:</div><div class="quotecontent">Any solution which doesn't involve some people spending the hundreds of hours going over  each game isn't really a solution and will never take off. I know from my experience with RetroCopy and the new .GAME format, without people helping you with the databases there is pretty much no point in trying a new format.</div><br /><br />erm... did you take a look at the link in the original post? the database has already been created (by me, partially based on bootgod amazing website) and it lists ~3600 images... of course, I would appreciate *a lot* correction and external contributions, but the initial work has already been done.<br /><br />also the format is simpler than .GAME, in the sense that is plain zip (no rar, no 7z, no gz... only zip) containing a few prg and chr files, expected to have the exact checksum listed in the provided xml database... and nothing else.<br /><br />also it does not require tons of changes to support it (except for the xml parser, I know): you load the separate files one after the other and then you can treat it like a iNES file<br /><br /><br /><div class="quotetitle">RetroRalph wrote:</div><div class="quotecontent">MESS isn't like MAME in that it can dictate formats as very few people actually use it. Without proper consultation of developers it's pretty much going to be like running on a treadmill any time you waste on such an endeavor.</div>
<br />
<br />I'm not trying to dictate anything and I would really like to know where you did take this impression from... 
<br />I was unsatisfied with iNES and displeased that neither UNIF nor iNES2.0 were getting success. I looked for inspiration in NEStopia (with its emulation based on the board types and its internal xml db) and in bootgod's website, and I pushed their approach to the extreme consequences because it matched my needs, my background and MESS capabilities.
<br />
<br />Once the list was ready, I thought the result could be of interested for other developers as well. I also added the controller and dipswitch settings, that MESS cannot even use at the moment, because they could be of use for some other (better) emulator. that's all.
<br />
<br />I don't expect iNES to be dropped at all (and indeed MESS will always keep supporting it). hence if you don't like xml, feel free to ignore it.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>etabeta</b> [ Sun Jul 04, 2010 7:20 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NESMiss.txt</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">Because a homebrew game might be released early and often, a database (or section) designed for homebrew should probably not list outdated dumps. For example, <a href="http://pdroms.de/files/711/" class="postlink">the entry for LJ65 on pdroms.de</a> lists only the latest version (0.41). But common ROM cataloging tools are designed for commercial games, and far more prototypes can be found for a homebrew game than for a commercial game. The database might end up with entries for versions 0.01, 0.02, 0.03, 0.04, ..., 0.45, 0.46 of a program, as if they were alternate dumps. </div><br /><br />nope: outdated entries could be removed from the database, of course <img src="./images/smilies/icon_wink.gif" alt=";)" title="Wink" /><br /><br /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">It's free as in speech, but not free as in memory. Some NES emulators run on platforms with 4 MB of RAM or even less: see nesDS and PocketNES.</div><br /><br />touche'. but I'm not really an expert about 'handheld' NES emu, so I'm going to do some research before suggesting anything about it.<br /><br /><br /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">Apart from "arcade consoles" such as PlayChoice, CPS, and Neo Geo, a given arcade system board supports only one or a few games, and they have far less of a homebrew scene than consoles. (There's Vantris, a falling block game for Vanguard hardware, and what else?) This makes adding a game less cumbersome, as the emulator developer has to add support to the emulator's code anyway.</div><br /><br />the same holds true if you replace "arcade board" with "cart pcb/mapper". there are mappers which only support 1 or 2 games and "the emulator developer has to add support to the emulator's code anyway" <img src="./images/smilies/icon_wink.gif" alt=";)" title="Wink" /><br /><br /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">I see 34 and think BNROM. <a href="http://wiki.nesdev.com/w/index.php/INES_Mapper_034" class="postlink">The wiki page for 34</a> claims that BNROM and NINA-001 are easy to distinguish: NINA-001 has CHR ROM.</div>
<br />
<br />ok, I took the wrong example. but it only means that instead of checking for the submapper but in iNES 2.0 I need to add to my emu
<br />
<br />if CHRROM -&gt; use NINA
<br />else -&gt; use BNROM
<br />
<br />until we find an obscure NINA game which has only PRGROM and only writes to 0x7ffd <img src="./images/smilies/icon_wink.gif" alt=";)" title="Wink" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>RetroRalph</b> [ Sun Jul 04, 2010 7:57 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">etabeta wrote:</div><div class="quotecontent">all these aspects could be handled by using a list of crc in the emulator source, but it's much more transparent when externalized. </div><br /><br />Agreed, I don't think INES is the best solution, but what you have offered is merely a minor improvement.<br /><br /><div class="quotetitle">etabeta wrote:</div><div class="quotecontent">also, it's easier when a new cart gets dumped: say you put in the source the dipswicthes for a 65-in-1 cart and then a 77-in-1 different cart get dumped with the same cart hw but different switch settings: if you use an internal crc list you have to release a new version of the emu with the new crc; in this way you just have to add the xml entry and the emulator would read the enw settings without even the need of recompiling it...</div><br /><br />Well this is taking the simple case isn't it? A "major" finding would still require new information to be added and every emulator to be recompiled. Simple things can already be handled with INES or pretty much any decent format. XML isn't some magic bullet, and it requires decent amounts of code to support (RetroCopy already supports it so it's not an issue from my perspective).<br /><br /><div class="quotetitle">etabeta wrote:</div><div class="quotecontent">there are continuously new findings about these games, despite their age: as such, we could expect some more extension to be needed in the future (even if for smaller and smaller tidbits)</div>
<br />
<br />I'm not advising a 100% closed solution is possible at this point, however it seems to me most of what you have done is automation with a few tweaks on top. You can't take your few hours? of work and expect it to matter much when hundreds, likely thousands of hours is required.
<br />
<br />You are merely fixing small issues with INES, you aren't helping to cover all cases needed by emulators going forward. Unless you have a complete solution that fixes all issues and improves on nearly every aspect of INES I can't see how you can champion a minor improvement that no emulator supports. For something that RetroCopy requires I don't see any real benefits for me to convert, and that to me is what matters. Until you cover all the cases that *I* need, which is a rather advanced setting, you won't have a good replacement for INES.
<br />
<br />That said, I welcome any improvements you can do because my helpers will be taking everything they can when they add NES support to .GAME <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /> Or alternatively if you do want to get serious about it I welcome a complete solution, I'd prefer not to be the one that does all the work (or manages it rather).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>etabeta</b> [ Sun Jul 04, 2010 8:28 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">RetroRalph wrote:</div><div class="quotecontent">Agreed, I don't think INES is the best solution, but what you have offered is merely a minor improvement. </div><br /><br />yet it is exactly the kind of minor improvements which has lead in the past to the proposal of UNIF and iNES2.0 formats...<br /><br />what would you suggest as a major improvement?<br /><br /><div class="quotetitle">RetroRalph wrote:</div><div class="quotecontent">Well this is taking the simple case isn't it? A "major" finding would still require new information to be added and every emulator to be recompiled. </div><br /><br />of course I took a simple case. any 'revolutionary' new finding will always require major changes in the emulators and no well studied format could take care of the emulation issues for you <img src="./images/smilies/icon_wink.gif" alt=";)" title="Wink" /><br /><br />still, no matter how easy it might seems to you, iNES could not handle these easy cases as transparently as an external xml list, nor UNIF could (except if a new [DIPS] chunk gets added to the format)<br /><br /><div class="quotetitle">RetroRalph wrote:</div><div class="quotecontent">You can't take your few hours? of work and expect it to matter much when hundreds, likely thousands of hours is required. </div><br /><br />leaving aside the fact that <br />* I have spent 6 months on this before disclosing it yesterday (and you can also publicly review in the MESS svn the past 2 months of work on the emulator side, after the long time spent by myself and judge and micko on the xml side), <br />* I have had several discussions with bootgod about both the xml and several tiny pcb details since last January<br />* I have tested briefly *ALL* 3625 images to check obvious mis-assigned boards and/or mirroring settings<br /><br />you should not forget the *years* which have been spent by other emu authors on matching mappers number to pcb boards... <br />something which resulted in the wonderful "board" files you can see in NEStopia source (namely src/core/board/NstBoard.c &amp; .h) and which I was able to use the founding stone when I decided to build up my list <br /><br /><br /><div class="quotetitle">RetroRalph wrote:</div><div class="quotecontent">You are merely fixing small issues with INES, you aren't helping to cover all cases needed by emulators going forward. [snip]..[snip] Until you cover all the cases that *I* need, which is a rather advanced setting </div>
<br />
<br />you can consider them as small issues, but they cover most complaints other authors reported over the years.
<br />
<br />please be so kind to give me some examples of *all* the cases you think you will encounter and I will happily take a look at them... until then, I still think a 1:1 representation of the cart hardware (as the separate files + xml &lt;fearure&gt; fields allow) is way more effective than .GAME <img src="./images/smilies/icon_wink.gif" alt=";)" title="Wink" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>RetroRalph</b> [ Sun Jul 04, 2010 9:04 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">etabeta wrote:</div><div class="quotecontent">yet it is exactly the kind of minor improvements which has lead in the past to the proposal of UNIF and iNES2.0 formats...</div><br /><br />Both formats failed to gain any traction.<br /><br /><div class="quotetitle">etabeta wrote:</div><div class="quotecontent">what would you suggest as a major improvement?</div><br /><br />Standardized advanced compression (7ZIP), proper integrity checking, proper naming schemes including a global naming system for linking different systems. Multiple name to rom linking. Ease of use, to support .GAME requires almost no code for the emulator itself and is more simple than an XML parser to add. Details of game such as input devices, number of players, ports used, slots used, etc. .GAME has all these for supported systems. In essence, everything you need to know about a game for an emulator is there. You can argue "it's XML, we can add them", but the point is it's not there now is it. Comparing what you've done to say UNIF is like comparing FireFox 3.5 to 3.6.<br /><br /><div class="quotetitle">etabeta wrote:</div><div class="quotecontent">still, no matter how easy it might seems to you, iNES could not handle these easy cases as transparently as an external xml list, nor UNIF could (except if a new [DIPS] chunk gets added to the format)</div><br /><br />That isn't really the point I think. Is it easier to add a few CRC checks for the minority of games or add a complete new ROM format that does it? The answer is simple. Until you have some side benefits, all the things I mentioned for instance, who is going to convert to it? What is the reward for doing so?  The chance a few undiscovered pirate boards may work without recompiling? The line will be long.<br /><br /><div class="quotetitle">etabeta wrote:</div><div class="quotecontent">leaving aside the fact that <br />* I have spent 6 months on this before disclosing it yesterday (and you can also publicly review in the MESS svn the past 2 months of work on the emulator side, after the long time spent by myself and judge and micko on the xml side), <br />* I have had several discussions with bootgod about both the xml and several tiny pcb details since last January<br />* I have tested briefly *ALL* 3625 images to check obvious mis-assigned boards and/or mirroring settings<br /><br />you should not forget the *years* which have been spent by other emu authors on matching mappers number to pcb boards... <br />something which resulted in the wonderful "board" files you can see in NEStopia source (namely src/core/board/NstBoard.c &amp; .h) and which I was able to use the founding stone when I decided to build up my list </div>
<br />
<br />I am very thankful of those that have spent their time trying to improve the NES scene in any way possible, even your attempt here. I welcome change.
<br />
<br />However if you spent 6 months coming up with what you did you haven't worked optimally in my opinion. In reality whatever work you've done is going to be mostly wasted because what you offer isn't a complete solution for emulators going forward. REsolving the problems of the 1990s isn't going to help those of us in 2010.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>etabeta</b> [ Sun Jul 04, 2010 9:42 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">RetroRalph wrote:</div><div class="quotecontent">Standardized advanced compression (7ZIP), proper integrity checking, proper naming schemes including a global naming system for linking different systems. Multiple name to rom linking. Ease of use, to support .GAME requires almost no code for the emulator itself and is more simple than an XML parser to add. Details of game such as input devices, number of players, ports used, slots used, etc. .GAME has all these for supported systems. In essence, everything you need to know about a game for an emulator is there. You can argue "it's XML, we can add them", but the point is it's not there now is it. Comparing what you've done to say UNIF is like comparing FireFox 3.5 to 3.6.</div><br /><br />Most of the things you listed would probably belong more to a frontend than to an emulator, imho, and the one who don't (like the controller devices) are already listed above. <br />As such, personally I'm not interested to include the things you mentioned directly into the emulation.<br /><br /><div class="quotetitle">RetroRalph wrote:</div><div class="quotecontent">That isn't really the point I think. Is it easier to add a few CRC checks for the minority of games or add a complete new ROM format that does it? The answer is simple. Until you have some side benefits, all the things I mentioned for instance, who is going to convert to it? What is the reward for doing so?  The chance a few undiscovered pirate boards may work without recompiling? The line will be long.</div><br /><br />didn't I say more than once that the multicart dump was just a stupid example which came easily to my mind? rather than list other small advantage I will repeat my (few) points<br /><br />1. imho the list of crc is a gross hack and defeats from start the usage of headered files (call it NES, UNIF or GAME) <img src="./images/smilies/icon_wink.gif" alt=";)" title="Wink" /><br />2. simplifying (as Marty first did, and as I was able to do as well) the emulation of Konami Boards is more than enough as a side effect for me. <br />3. accurately represent and describe the content of the carts is an added value, and cannot harm the documentation side of emulation<br /><br />feel free to disagree. as I said I'm not forcing anyone to use the format I added to MESS.<br /><br /><div class="quotetitle">RetroRalph wrote:</div><div class="quotecontent">However if you spent 6 months coming up with what you did you haven't worked optimally in my opinion. In reality whatever work you've done is going to be mostly wasted because what you offer isn't a complete solution for emulators going forward. REsolving the problems of the 1990s isn't going to help those of us in 2010.</div>
<br />
<br />I had a goal in mind and I reached it with the easier solution I could think of (a solution which makes wonder for ~9000 games in MAME). 
<br />this same solution would also allow people with the right instruments like bootgod to repair broken carts. is this enough for me? yes, in my eyes it is.
<br />
<br />That said, I'm not interested in converting anyone to see separate PRG &amp; CHR as a revolution. 
<br />They just represent an alternative approach to iNES. In particular, an approach capable to address most past complaints and all my needs in MESS. And an approach publicly available to anyone who wants to use it.
<br />
<br />If no one wants to use it, ok, I'm still happy with the result I obtained for the reasons I listed above. In the end it's just an hobby <img src="./images/smilies/icon_wink.gif" alt=";)" title="Wink" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>blargg</b> [ Sun Jul 04, 2010 9:47 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />In other words, this is research/an experiment in another way of representing NES cartridges digitally. The results of this will help anyone in the future considering a similar approach. Maybe it won't pan out for some/all uses, but it will provide actual experience.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>3</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>