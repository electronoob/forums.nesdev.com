<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - young indiana jones new ppu discovery, nestopia help...</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">young indiana jones new ppu discovery, nestopia help...</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=3&amp;t=6401">http://forums.nesdev.com/viewtopic.php?f=3&amp;t=6401</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>11</strong> of <strong>14</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>plasturion</b> [ Sun Jun 19, 2011 1:36 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />That's strange, did you tried to rebuild your project?
<br />If this still occurs try download new source code, copy all needed files, and then open project and compile it.
<br />I did it while ago, and everything seems to be ok.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>*Spitfire_NES*</b> [ Sun Jun 19, 2011 10:50 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />yea, i got past the error so i started over, now im getting LNK errors for some reason. 
<br />
<br />its saying the same thing is defined twice. haha. wth. <img src="./images/smilies/icon_razz.gif" alt=":P" title="Razz" />
<br />
<br />it says LNK2005 private: unsigned int_fastcall already defined in nstnamcot163.obj

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>plasturion</b> [ Sun Jun 19, 2011 4:09 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Did you really rebuilded your project? Sounds like linker bug, so everything was compiled successful.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>*Spitfire_NES*</b> [ Sun Jun 19, 2011 4:58 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">plasturion wrote:</div><div class="quotecontent">Did you really rebuilded your project? Sounds like linker bug, so everything was compiled successful.</div>
<br />
<br />yea i got it to work. thanks alot plasturion ive learned alot from you dude. <img src="./images/smilies/icon_razz.gif" alt=":P" title="Razz" />. im now looking at the castlevania cross bug when beating Medusa, and the strange glitch in ninja gaiden. 
<br />
<br />on a side note, anyone know why using some ips patches with nestopia causes mapper errors? when i try to use the english patch for dragon scroll it causes a mapper error but not when i play the unpatched game.  its weird..

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>plasturion</b> [ Mon Jun 20, 2011 12:27 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">*Spitfire_NES* wrote:</div><div class="quotecontent">yea i got it to work. thanks alot plasturion ive learned alot from you dude. <img src="./images/smilies/icon_razz.gif" alt=":P" title="Razz" />. im now looking at the castlevania cross bug when beating Medusa, and the strange glitch in ninja gaiden. </div><br />I'll try throw an eye on this games.<br /><br /><div class="quotetitle">*Spitfire_NES* wrote:</div><div class="quotecontent">on a side note, anyone know why using some ips patches with nestopia causes mapper errors? when i try to use the english patch for dragon scroll it causes a mapper error but not when i play the unpatched game.  its weird..</div>
<br />
<br />I think is because of adjust database. Looks like nestopia has pretty low compatibility without it (especially Konami boards - look at NstBoard.cpp case 23). Database use CRC and SHA1 check for identify originally dumped roms, so patched game will be not recognized. There is a way to make patched game works adding new entry in external database, but this is little complicated, and you have to somehow calculate SHA1 with different application.
<br />The best way is using last Nestopia without adjust database(v1.37) for patched roms.
<br />
<br />And if we're talking about Nestopia v1.38 and above the best way is create a database with checksums of patched roms unsupported by default. Here is the example how it should looks entry for patched Dragon Scroll -&gt; <a href="http://detach.republika.pl/xternDatabase.xml" class="postlink">xternDatabase.xml</a>
<br />You have to apply .ips patch into rom before you load in Nestopia.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>*Spitfire_NES*</b> [ Mon Jun 20, 2011 12:38 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />so this needs to be added into the nstdatabase zip file you mean? and the rom needs to be patched with an ips pather before right? or do you mean softpatching. interestingly enough soft patching does work for some konami games in nestopia but not others. lol. <img src="./images/smilies/icon_razz.gif" alt=":P" title="Razz" /> but id love to play dragon scroll translated in here, thanks plasturion. whats the best way to figure out the values to add into the database to play these games? or better yet how did you figure out those values&gt;?  <img src="./images/smilies/icon_lol.gif" alt=":lol:" title="Laughing" /> 
<br />
<br />yea if you do look at those other games let me know if you see anything interesting. <img src="./images/smilies/icon_razz.gif" alt=":P" title="Razz" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>James</b> [ Mon Jun 20, 2011 12:40 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">*Spitfire_NES* wrote:</div><div class="quotecontent">castlevania cross bug when beating Medusa</div>
<br />what's the bug?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>*Spitfire_NES*</b> [ Mon Jun 20, 2011 1:13 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />3. Castlevania - When defeating Medusa (prior to the last boss) sometimes you will receive the cross which destroys all enemies on the screen. Both issues 2 &amp; 3 possible timing related bugs. Both noted here: 
<br />
<br /><!-- m --><a class="postlink" href="http://forums.bannister.org/ubbthreads.php?ubb=showflat&amp;Number=50410#Post50410">http://forums.bannister.org/ubbthreads. ... #Post50410</a><!-- m -->
<br />
<br />
<br />hey james, about the ninja gaiden thing, shouldnt i be looking in the mmc mapper?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>plasturion</b> [ Mon Jun 20, 2011 1:33 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">*Spitfire_NES* wrote:</div><div class="quotecontent">so this needs to be added into the nstdatabase zip file you mean? and the rom needs to be patched with an ips pather before right? or do you mean softpatching. interestingly enough soft patching does work for some konami games in nestopia but not others. lol. </div>
<br />
<br />Yes rom needs to be patched before, and some konami games works - for example Esper dream 2 works good, so not every kind of mappers from konami are the same. 
<br />If you look at NstBoard.cpp you figure out that there's no support for default mapper 23. (i just changed for a while few lines and do something illegal there - define default type as KONAMI_VRC2, only to make this game load and read the SHA1) You have choice to build entry in internal database or add to external as optional. You can use both databases in the same time. And if you thinking about most popular translation that you like, you probably can put this entries into internal database, extending .exe file a little bit, so i'm not sure this is good idea.
<br />
<br />I changed a little bit videofilter what do you think about this?
<br />
<br /><img src="http://detach.republika.pl/mario.PNG" alt="Image" /><img src="http://detach.republika.pl/contra.PNG" alt="Image" />
<br />I allways wants to play mario from end to begining. =&gt;

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>*Spitfire_NES*</b> [ Mon Jun 20, 2011 1:46 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />how did you do that? thats awesome man! let me know...hahah <img src="./images/smilies/icon_razz.gif" alt=":P" title="Razz" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Mon Jun 20, 2011 1:52 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Or how to play a new levels in a well known old game  <img src="./images/smilies/icon_wink.gif" alt=":wink:" title="Wink" /> 
<br />I admit the idea is pretty cool.
<br />
<br />Although you'd be somewhat familiar with that if you have played Castlevania Symphony of the Night.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>plasturion</b> [ Mon Jun 20, 2011 2:07 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">*Spitfire_NES* wrote:</div><div class="quotecontent">what did you change in the filter? which one? blaargs ntsc composite?<br /><br />i added your entry into nstdatabase.xml and still get unsopported mapper for dragon scroll translation. :O</div>
<br />I just modified NstVideoFilterNone.cpp. 
<br />Is <a href="http://www.emuparadise.me/translations/NES%20IPS/Dragon%20Scroll%20-%20Resurrection%20of%20the%20Demon%20Dragon.php" class="postlink">[This]</a> the same patch?
<br />Donwload xternDatabase.xml. Select Options -&gt; Database... add external checkboks and browse selecting this dbase, then open patched Dragon Scroll.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>*Spitfire_NES*</b> [ Mon Jun 20, 2011 2:55 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />sorry bout that plasturion i got it to work. 
<br />
<br />haha so if you add this change to the filter all games will be backwards? lol. id love to try it out. but i guess theres no way to make it correct and have it backward right? would have to have 2 exe's? thats still cool. send it my way if you dont mind thats awesome! level flips! <img src="./images/smilies/icon_razz.gif" alt=":P" title="Razz" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>plasturion</b> [ Mon Jun 20, 2011 3:53 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Yeah, thats only videofilter, so all games will be mirror-imaged. I modified only "Standard", others works normal. I often use NTSC - that's was my fav, but now i don't know. I think i could add checkbox to filter options to make mirror-image to be selectable. If you want make some ips-translations list of patches that not working with nestopia (zip them and upload somwhere, i'll try to find CRC and SHA1 to make them be recognized by internal db).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>*Spitfire_NES*</b> [ Mon Jun 20, 2011 5:37 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />ok man thank! im gonna get on that and send you something soon. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /> when you can, id like to try out the level flipped stuff you did and see how it is. im interested for sure. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>11</strong> of <strong>14</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>