<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="http://forums.nesdev.com/feed.php?f=2&amp;t=394" />

<title>nesdev.com</title>
<subtitle>NES Development and Strangulation Records message boards</subtitle>
<link href="http://forums.nesdev.com/index.php" />
<updated>2005-07-21T01:51:22-07:00</updated>

<author><name><![CDATA[nesdev.com]]></name></author>
<id>http://forums.nesdev.com/feed.php?f=2&amp;t=394</id>
<entry>
<author><name><![CDATA[Bregalad]]></name></author>
<updated>2005-07-21T01:51:22-07:00</updated>
<published>2005-07-21T01:51:22-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=394&amp;p=2958#p2958</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=394&amp;p=2958#p2958"/>
<title type="html"><![CDATA[Reading data from CHR-ROM?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=394&amp;p=2958#p2958"><![CDATA[
<div class="quotetitle">AWJ wrote:</div><div class="quotecontent"><br />Dragon Quest used a CNROM-like board, since it was developed when that was the only kind of bankswitched Famicom cartridge available; it has <em>entire banks</em> of its CHR ROM filled with data.<br /></div><br />It has one bank for graphics, one half for the title screen, and the rest (20 Kbytes) is just data. When it was released, it was a hit technically but it had very bad graphics (except the monster design).<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=38">Bregalad</a> — Thu Jul 21, 2005 1:51 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Quietust]]></name></author>
<updated>2005-07-20T23:39:04-07:00</updated>
<published>2005-07-20T23:39:04-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=394&amp;p=2955#p2955</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=394&amp;p=2955#p2955"/>
<title type="html"><![CDATA[Reading data from CHR-ROM?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=394&amp;p=2955#p2955"><![CDATA[
Snake Rattle 'n Roll stores its MUSIC data in CHR ROM. Evidently, this made the NSF rip quite an interesting task.<br /><br />And yes, CHR-ROM can only be read during VBLANK (or whenever you disable rendering, such as during level load transitions)<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=7">Quietust</a> — Wed Jul 20, 2005 11:39 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Dwedit]]></name></author>
<updated>2005-07-20T22:26:14-07:00</updated>
<published>2005-07-20T22:26:14-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=394&amp;p=2954#p2954</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=394&amp;p=2954#p2954"/>
<title type="html"><![CDATA[Reading data from CHR-ROM?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=394&amp;p=2954#p2954"><![CDATA[
M.C. Kids stores levels in CHR ROM as well.  So does Lemmings.<br /><br />So can you only read CHR ROM during vblank?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=53">Dwedit</a> — Wed Jul 20, 2005 10:26 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Anonymous]]></name></author>
<updated>2005-07-19T21:12:32-07:00</updated>
<published>2005-07-19T21:12:32-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=394&amp;p=2925#p2925</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=394&amp;p=2925#p2925"/>
<title type="html"><![CDATA[Reading data from CHR-ROM?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=394&amp;p=2925#p2925"><![CDATA[
Dragon Quest used a CNROM-like board, since it was developed when that was the only kind of bankswitched Famicom cartridge available; it has <em>entire banks</em> of its CHR ROM filled with data.<p>Statistics: Posted by Guest — Tue Jul 19, 2005 9:12 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[RedComet]]></name></author>
<updated>2005-07-09T23:34:13-07:00</updated>
<published>2005-07-09T23:34:13-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=394&amp;p=2699#p2699</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=394&amp;p=2699#p2699"/>
<title type="html"><![CDATA[Reading data from CHR-ROM?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=394&amp;p=2699#p2699"><![CDATA[
That's me above. Forgot to log-on.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=85">RedComet</a> — Sat Jul 09, 2005 11:34 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Anonymous]]></name></author>
<updated>2005-07-09T23:32:01-07:00</updated>
<published>2005-07-09T23:32:01-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=394&amp;p=2698#p2698</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=394&amp;p=2698#p2698"/>
<title type="html"><![CDATA[Reading data from CHR-ROM?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=394&amp;p=2698#p2698"><![CDATA[
That's exactly what it's doing. I didn't know you use CHR-ROM as extra PRG-ROM though, or that you could read $2007. Thanks a lot guys. <img src="http://forums.nesdev.com/images/smilies/icon_smile.gif" alt=":)" title="Smile" /><p>Statistics: Posted by Guest — Sat Jul 09, 2005 11:32 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Disch]]></name></author>
<updated>2005-07-09T06:54:40-07:00</updated>
<published>2005-07-09T06:54:40-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=394&amp;p=2686#p2686</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=394&amp;p=2686#p2686"/>
<title type="html"><![CDATA[Reading data from CHR-ROM?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=394&amp;p=2686#p2686"><![CDATA[
Yeah I wasn't sure about FF3... my mistake.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=33">Disch</a> — Sat Jul 09, 2005 6:54 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Bregalad]]></name></author>
<updated>2005-07-09T02:14:06-07:00</updated>
<published>2005-07-09T02:14:06-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=394&amp;p=2683#p2683</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=394&amp;p=2683#p2683"/>
<title type="html"><![CDATA[Reading data from CHR-ROM?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=394&amp;p=2683#p2683"><![CDATA[
Wrong, Final Fantasy 3 doesn't read the CHRRAM, it has a RAM copy of the water tile, and it does rotate it <em>right</em> then write them to $2007 every frame. Final Fantasy 2, however, does pretty much the same but reads the CHRRAM rotate it <em>left</em> and write to it.<br />Inster brackpoint with FCEUXD is slightly easy, but if you check for a read that doesn't occur, it will of course not work.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=38">Bregalad</a> — Sat Jul 09, 2005 2:14 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Disch]]></name></author>
<updated>2005-07-08T21:53:41-07:00</updated>
<published>2005-07-08T21:53:41-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=394&amp;p=2679#p2679</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=394&amp;p=2679#p2679"/>
<title type="html"><![CDATA[Reading data from CHR-ROM?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=394&amp;p=2679#p2679"><![CDATA[
FCEUXD <em>should</em> allow you to set breakpoints on PPU reads.  At least the option is there... does it not work or something?<br /><br />When adding a breakpoint, just select the "PPU mem" radio button and keep the address between $0000-$1FFF (PPU area where CHR is stored).<br /><br />Or... you could just set a breakpoint on $2007 reads to accomplish the same thing if that doesn't work for some reason.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=33">Disch</a> — Fri Jul 08, 2005 9:53 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Memblers]]></name></author>
<updated>2005-07-08T21:49:58-07:00</updated>
<published>2005-07-08T21:49:58-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=394&amp;p=2678#p2678</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=394&amp;p=2678#p2678"/>
<title type="html"><![CDATA[Reading data from CHR-ROM?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=394&amp;p=2678#p2678"><![CDATA[
If you can't use breakpoints, maybe you can find the code that loads the pointer to the CHR data (2 immediate loads and stores to $2006).  Then you just need to know where in CHR the data begins.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=10">Memblers</a> — Fri Jul 08, 2005 9:49 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Disch]]></name></author>
<updated>2005-07-08T21:50:49-07:00</updated>
<published>2005-07-08T21:43:44-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=394&amp;p=2677#p2677</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=394&amp;p=2677#p2677"/>
<title type="html"><![CDATA[Reading data from CHR-ROM?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=394&amp;p=2677#p2677"><![CDATA[
SMB does this as well<br /><br />Anyway, $2007 is readable.  When read it operates the same way as is written to... only the reads are buffered.  Once you read, the value currently in the buffer gets returned, and the byte at the current PPU address goes in the buffer, then the PPU address is incremented normally.<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">LDA #$00<br />STA $2000  ; increment PPU address by 1<br />STA $2001  ; turn off rendering<br /><br />STA $2006<br />STA $2006  ; set ppu address to start of CHR<br /><br />LDA $2007  ; buffered read, this is garbage<br />LDA $2007  ; this will be the first byte of CHR &#40;ppu $0000&#41;<br />LDA $2007  ; this will be the second byte of CHR &#40;ppu $0001&#41;<br /></div><br /><br />edit:<br /><br />also, I believe Final Fantasy 3 may use this method with CHR-RAM to read and modify CHR for some animation (look at its overworld water animation once).  I did something like that when I added an overworld water animation hack to Final Fantasy 1 (read CHR-RAM, roll it, write it back)<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=33">Disch</a> — Fri Jul 08, 2005 9:43 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[RedComet]]></name></author>
<updated>2005-07-08T20:49:48-07:00</updated>
<published>2005-07-08T20:49:48-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=394&amp;p=2675#p2675</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=394&amp;p=2675#p2675"/>
<title type="html"><![CDATA[Reading data from CHR-ROM?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=394&amp;p=2675#p2675"><![CDATA[
I've encountered two games now that do this, but I thought it was impossible. The games are Dragonball Z 3 and Dragonball Z Gaiden. They use Mapper 16 and have 16 banks of PRG-ROM, but some data (title screen for one and some minor text for another) is stored in the area of the rom that *should* be CHR-ROM. FCEUXD won't allow me to set a breakpoint for this area either, either. Anyone care to explain HOW this works?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=85">RedComet</a> — Fri Jul 08, 2005 8:49 pm</p><hr />
]]></content>
</entry>
</feed>