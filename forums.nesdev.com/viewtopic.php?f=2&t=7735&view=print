<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Multidirectional scrolling</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Multidirectional scrolling</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=2&amp;t=7735">http://forums.nesdev.com/viewtopic.php?f=2&amp;t=7735</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>3</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Sun May 08, 2011 10:13 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">In <a href="http://nesdev.com/bbs/viewtopic.php?p=77821#77821" class="postlink">this post</a>, Banshaku wrote:</div><div class="quotecontent">And instead of talking about mappers we should focus on making simpler game with less hardware</div><br />And "lose [your] interest right away", as <a href="http://nesdev.com/bbs/viewtopic.php?p=44791#44791" class="postlink">you put it</a> <img src="./images/smilies/icon_razz.gif" alt=":P" title="Razz" /><br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">so we can have some code base to work on more ambitious projects. I guess that was people in the past did indirectly anyway.</div>
<br />And that's what I continue to do, despite strong suggestions from <em>someone</em> to make something that scrolls already.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Sun May 08, 2011 12:13 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">And that's what I continue to do, despite strong suggestions from <em>someone</em> to make something that scrolls already.</div>
<br />That would be me, right? =)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>qbradq</b> [ Sun May 08, 2011 12:46 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I found scrolling to be needed for the project I want to do, unfortunately.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Sun May 08, 2011 12:51 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Scrolling is easier than most people think, specially if it's just in one axis. Horizontal scrolling is particularly easy, due to the fact that nametables are 256 pixels wide.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Sun May 08, 2011 1:04 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Yeah scrolling one direction at a time is easy but scrolling both at the same time (free-directional scrolling) is a nightmare, I got weird bugs every time I tried to do that because the update logic for one axis would interfere with the logic of the other axis.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Sun May 08, 2011 1:19 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent">Scrolling is easier than most people think</div>
<br />Efficiently organizing data for scrolling, on the other hand, isn't necessarily trivial. Nor is creating several km worth of map data to be scrolled over.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Banshaku</b> [ Sun May 08, 2011 3:58 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">And "lose [your] interest right away", as <a href="http://nesdev.com/bbs/viewtopic.php?p=44791#44791" class="postlink">you put it</a> <img src="./images/smilies/icon_razz.gif" alt=":P" title="Razz" /></div>
<br />
<br />Making a game with less complicated hardware doesn't mean that it's a single screen game.  And with a mmc1 like from retrousb you could make something similar to Ninja Gaiden.
<br />
<br />I don't know how you got back that post and what was the purpose in the first place to digg it up.  It doesn't bring much to what I said about "let focus on games instead of making a new mapper".

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Sun May 08, 2011 4:44 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">Yeah scrolling one direction at a time is easy but scrolling both at the same time (free-directional scrolling) is a nightmare, I got weird bugs every time I tried to do that because the update logic for one axis would interfere with the logic of the other axis.</div><br />I'm sure you would eventually get it right if you hadn't given up. I too have found weird bugs while trying to implement free scrolling, but once I stopped and planned everything beforehand I only needed minor tweaks to get it working.<br /><br /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">Efficiently organizing data for scrolling, on the other hand, isn't necessarily trivial. Nor is creating several km worth of map data to be scrolled over.</div>
<br />Even simple puzzle games can benefit from rooms slightly larger than a single screen... No being able to see everything that's going on might even add to the fun. Not all levels must be several kilometers long.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dwedit</b> [ Sun May 08, 2011 7:53 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I've gotten free scrolling to work fine.  Should I write a tutorial?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>3gengames</b> [ Sun May 08, 2011 8:07 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I think free scrolling isn't that hard. I think it's combining it with compression (the "efficiently organizing" that tepples talks about) that's difficult, at least I feel like it would be.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Sun May 08, 2011 9:11 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">3gengames wrote:</div><div class="quotecontent">I think free scrolling isn't that hard. I think it's combining it with compression (the "efficiently organizing" that tepples talks about) that's difficult, at least I feel like it would be.</div>
<br />So you probably haven't written an 8-way scroller yourself, have you? <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /> It IS hard, there are so many chances to be "off by one" that you really have to be very careful when designing how you're going to go about it. I'm of course talking about "real" limitless scrolling with variable scrolling speeds, not the SMB3 way (vertical scroll is limited to 2 screen heights, it only needs to update columns) or the Gauntlet way (4-screen mirroring, screen limited to 512x480).
<br />
<br />That said, if you are systematic about it's not too bad. But it is hard in my book as far as NESDev goes.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>3gengames</b> [ Sun May 08, 2011 9:48 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I haven't, but I've been thinking about it. [And sadly, came to the conclusion I'd probably just do it the SMB3 way to save the headach.] but I think I should rephrase. Doing it with compression and not using a ton of RAM would be hard. And to add to it, I also was thinking of a way to also update a 60 byte table to also keep track of walkable spaces. That seemed easy, but yet it uses 60 bytes of RAM. I'm not sure if anyone else has better methods, but with low CPU costs. Does anyone use a RAM table for collision on the background so you don't have to read the PPU?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Mon May 09, 2011 4:52 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">3gengames wrote:</div><div class="quotecontent">Doing it with compression and not using a ton of RAM would be hard.</div><br />Map decompression and nametable updates should, in theory, be 2 different systems. Anyway, if you use fixed-size compression (i.e. not RLE, LZ and the like), decoding it in real time isn't so hard.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I'm not sure if anyone else has better methods, but with low CPU costs. Does anyone use a RAM table for collision on the background so you don't have to read the PPU?</div>
<br />I doubt anyone reads the PPU for collision. If they do, they certainly shouldn't. VBlank time is already too short if you're only writing to VRAM, imagine if you also had to read it in order to make game decisions...
<br />
<br />I'm not sure if RAM tables are the best option either, because they wouldn't work well with slopes and blocks more complex than solid/empty unless they used much more than 60 bytes of RAM.
<br />
<br />For collision decisions I just read directly from the level map. Once I have a metatile's index I have access to all of its collision information.
<br />
<br />Now I really really think it's time for a split!

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Mon May 09, 2011 5:07 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />What always bugged me is that the vertical scroll and horizontal scroll routines would work fine on their own, but they would randomly interfere eachother when working at the same time.
<br />
<br />Doing 4-way scrolling like Final Fantasy or Dragon Warrior is easy for example, as the horizontal scrolling can assume the vertical scrolling is at an integer number of metatile and vice-versa.
<br />
<br />When you want true free-directional scrolling, the problem is that if the scrolling of the "other direction" (that is, vertical axis for the horizontal scrolling routine and vice-versa) might not be an integer number of metatiles so you don't know how you are supposed to do your updates, because it depends on what the "other" routine is doing at the moment. (I hope my english wording of the problem makes sense).
<br />
<br />I've tried this with both metatile based maps, and maps directly stored as spearate NES screens (raw name and attribute tables) and I encountered a similar problem on both attemps.
<br />
<br />I'm pretty sure there is a fix available but it would probably mean use a more complex algorithm where there is a signle routine doing the scroll into all directions instead of two horizontal and vertical scrolling routines called one after eachother.
<br />
<br />There is no reason to implement compression first, you need to make it work with uncompressed maps, then adding comperssion is as simple as replace all data load from map (which should be something like a lda [Map],Y) by a subroutine that will load data from the compressed map (for this reason it's important that the compession data is randomly acessible, pseudo-randomly acessible, or that the map is entierely decompressed in RAM).
<br />
<br />I finally lost interest in this when I figured that all NES project I'll do in the near future would anyways scroll only one direction at a time.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>clueless</b> [ Mon May 09, 2011 7:57 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Dwedit wrote:</div><div class="quotecontent">I've gotten free scrolling to work fine.  Should I write a tutorial?</div>
<br />
<br />Yes please.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>3</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>