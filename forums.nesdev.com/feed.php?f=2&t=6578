<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="http://forums.nesdev.com/feed.php?f=2&amp;t=6578" />

<title>nesdev.com</title>
<subtitle>NES Development and Strangulation Records message boards</subtitle>
<link href="http://forums.nesdev.com/index.php" />
<updated>2010-07-15T06:11:07-07:00</updated>

<author><name><![CDATA[nesdev.com]]></name></author>
<id>http://forums.nesdev.com/feed.php?f=2&amp;t=6578</id>
<entry>
<author><name><![CDATA[thefox]]></name></author>
<updated>2010-07-15T06:11:07-07:00</updated>
<published>2010-07-15T06:11:07-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6578&amp;p=64258#p64258</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6578&amp;p=64258#p64258"/>
<title type="html"><![CDATA[Looking For Inspiration]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6578&amp;p=64258#p64258"><![CDATA[
I actually had a similar problem when I was developing the <a href="http://nesdev.com/bbs/viewtopic.php?t=6024" class="postlink">save state mappers</a> but I don't remember at all how I solved it. <img src="http://forums.nesdev.com/images/smilies/icon_confused.gif" alt=":?" title="Confused" /> Sorry. It might have been a change I made to the actual mapper.<br /><br />But for now, one thing you could try is playing a game like <a href="http://bootgod.dyndns.org:7777/profile.php?id=3642" class="postlink">Final Fantasy I &amp; II</a> which uses 32K SRAM and see if PowerPak saves the full 32K when playing it (fill the SAV file with some markers before playing &amp; saving).<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=80">thefox</a> — Thu Jul 15, 2010 6:11 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[neilbaldwin]]></name></author>
<updated>2010-07-15T04:05:13-07:00</updated>
<published>2010-07-15T04:05:13-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6578&amp;p=64253#p64253</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6578&amp;p=64253#p64253"/>
<title type="html"><![CDATA[Looking For Inspiration]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6578&amp;p=64253#p64253"><![CDATA[
<div class="quotetitle">Bregalad wrote:</div><div class="quotecontent"><br />I said 128k was required, but it don't work with lower sizes.<br /></div><br /><br />Sorry, I was doing that from some (evidently) false memory without actually referring back to the thread. <img src="http://forums.nesdev.com/images/smilies/icon_sad.gif" alt=":(" title="Sad" /><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3896">neilbaldwin</a> — Thu Jul 15, 2010 4:05 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Bregalad]]></name></author>
<updated>2010-07-15T01:12:11-07:00</updated>
<published>2010-07-15T01:12:11-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6578&amp;p=64251#p64251</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6578&amp;p=64251#p64251"/>
<title type="html"><![CDATA[Looking For Inspiration]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6578&amp;p=64251#p64251"><![CDATA[
I said 128k was required, but it don't work with lower sizes.<br /><br />About the power pak I don't know. Maybe the 32k sav file is for SNES games (even though most SNES games still use 8k, some are 32k I think).<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=38">Bregalad</a> — Thu Jul 15, 2010 1:12 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[neilbaldwin]]></name></author>
<updated>2010-07-15T00:05:26-07:00</updated>
<published>2010-07-15T00:05:26-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6578&amp;p=64249#p64249</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6578&amp;p=64249#p64249"/>
<title type="html"><![CDATA[Looking For Inspiration]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6578&amp;p=64249#p64249"><![CDATA[
That's what is strange. PowerPak comes with "blank" .sav files, one 8K and one 32K so there is obvious <em>intention</em> for it to work, somehow.<br /><br />When I load up the ROM and point it at the save file it doesn't complain about the size (32K) but then again you might be able to point it at anything, I don't know how much validation PowerPak uses.<br /><br />Something I noticed last night is that contrary to what Bregalad said, I managed to get it working with a 128K ROM size, as opposed to the 256K that he said was required. I'll try making a 256K ROM and retest on PowerPak, just in case.<br /><br />But yes, at the end of the day, it could just be that iNES 2.0 is not supported.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3896">neilbaldwin</a> — Thu Jul 15, 2010 12:05 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tokumaru]]></name></author>
<updated>2010-07-14T22:58:29-07:00</updated>
<published>2010-07-14T22:58:29-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6578&amp;p=64248#p64248</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6578&amp;p=64248#p64248"/>
<title type="html"><![CDATA[Looking For Inspiration]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6578&amp;p=64248#p64248"><![CDATA[
Maybe the PowerPak doesn't read iNES 2.0 yet. How does it use more than 8KB of WRAM then?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=95">tokumaru</a> — Wed Jul 14, 2010 10:58 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Banshaku]]></name></author>
<updated>2010-07-14T20:48:58-07:00</updated>
<published>2010-07-14T20:48:58-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6578&amp;p=64240#p64240</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6578&amp;p=64240#p64240"/>
<title type="html"><![CDATA[Looking For Inspiration]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6578&amp;p=64240#p64240"><![CDATA[
May educated guess is that the powerpak "mappers" doesn't support it properly yet. Since it's emulates the mapper in hardware, that would be the most plausible reason.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3559">Banshaku</a> — Wed Jul 14, 2010 8:48 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[neilbaldwin]]></name></author>
<updated>2010-07-14T16:28:13-07:00</updated>
<published>2010-07-14T16:28:13-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6578&amp;p=64221#p64221</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6578&amp;p=64221#p64221"/>
<title type="html"><![CDATA[Looking For Inspiration]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6578&amp;p=64221#p64221"><![CDATA[
<img src="http://forums.nesdev.com/images/smilies/icon_sad.gif" alt=":(" title="Sad" /><br /><br />Doesn't seem to work on PowerPak. Only the first 8kb of the .sav file is written to.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3896">neilbaldwin</a> — Wed Jul 14, 2010 4:28 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[neilbaldwin]]></name></author>
<updated>2010-07-14T16:12:06-07:00</updated>
<published>2010-07-14T16:12:06-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6578&amp;p=64219#p64219</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6578&amp;p=64219#p64219"/>
<title type="html"><![CDATA[Looking For Inspiration]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6578&amp;p=64219#p64219"><![CDATA[
<div class="quotetitle">tokumaru wrote:</div><div class="quotecontent"><br /><div class="quotetitle">neilbaldwin wrote:</div><div class="quotecontent">*wanders off to read about CHR RAM*<br /></div><br />There is no mystery here. The difference is that with CHR-ROM the tiles are "magically" in place for you to use, but with CHR-RAM you have to populate the pattern tables yourself (using $2006 and $2007, like with other kinds of VRAM updates) before using the tiles.<br /><br />Also, since there is no bankswitching, if you need to change tiles you have to manually rewrite them byte by byte, something that obviously takes longer than bankswitching.</div><br /><br />Yep, got it <img src="http://forums.nesdev.com/images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br /><br />Works fine. Need to test on PowerPak now.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3896">neilbaldwin</a> — Wed Jul 14, 2010 4:12 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tokumaru]]></name></author>
<updated>2010-07-14T10:23:21-07:00</updated>
<published>2010-07-14T10:23:21-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6578&amp;p=64202#p64202</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6578&amp;p=64202#p64202"/>
<title type="html"><![CDATA[Looking For Inspiration]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6578&amp;p=64202#p64202"><![CDATA[
<div class="quotetitle">neilbaldwin wrote:</div><div class="quotecontent"><br />*wanders off to read about CHR RAM*<br /></div><br />There is no mystery here. The difference is that with CHR-ROM the tiles are "magically" in place for you to use, but with CHR-RAM you have to populate the pattern tables yourself (using $2006 and $2007, like with other kinds of VRAM updates) before using the tiles.<br /><br />Also, since there is no bankswitching, if you need to change tiles you have to manually rewrite them byte by byte, something that obviously takes longer than bankswitching.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=95">tokumaru</a> — Wed Jul 14, 2010 10:23 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[neilbaldwin]]></name></author>
<updated>2010-07-14T06:15:08-07:00</updated>
<published>2010-07-14T06:15:08-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6578&amp;p=64195#p64195</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6578&amp;p=64195#p64195"/>
<title type="html"><![CDATA[Looking For Inspiration]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6578&amp;p=64195#p64195"><![CDATA[
<div class="quotetitle">tepples wrote:</div><div class="quotecontent"><br />SUROM, SOROM, and SXROM all extend SNROM, a CHR RAM board. They pretty much have to use 8 KiB CHR RAM (or 8 KiB CHR ROM) because they repurpose the CHR ROM bank bits to switch PRG ROM and PRG RAM.<br /></div><br /><br />Of course, thanks tepples.<br /><br />*wanders off to read about CHR RAM*<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3896">neilbaldwin</a> — Wed Jul 14, 2010 6:15 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2010-07-14T06:03:30-07:00</updated>
<published>2010-07-14T06:03:30-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6578&amp;p=64194#p64194</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6578&amp;p=64194#p64194"/>
<title type="html"><![CDATA[Looking For Inspiration]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6578&amp;p=64194#p64194"><![CDATA[
SUROM, SOROM, and SXROM all extend SNROM, a CHR RAM board. They pretty much have to use 8 KiB CHR RAM (or 8 KiB CHR ROM) because they repurpose the CHR ROM bank bits to switch PRG ROM and PRG RAM.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Wed Jul 14, 2010 6:03 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[neilbaldwin]]></name></author>
<updated>2010-07-14T05:59:22-07:00</updated>
<published>2010-07-14T05:59:22-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6578&amp;p=64193#p64193</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6578&amp;p=64193#p64193"/>
<title type="html"><![CDATA[Looking For Inspiration]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6578&amp;p=64193#p64193"><![CDATA[
As for the SXROM/32KB setup - works like a charm. <img src="http://forums.nesdev.com/images/smilies/icon_smile.gif" alt=":)" title="Smile" /> Apart from the slight issue that I now have no text on screen - is that SXROM configuration for CHR RAM? I'm probably not setting it up right, just hacked it together to make the .sav file work.<br /><br />But, as you suggested, only in Nestopia (so far from the ones I've tested). <img src="http://forums.nesdev.com/images/smilies/icon_sad.gif" alt=":(" title="Sad" /><br /><br />Really need to try it on my PowerPak when I get home as that's probably the most important test for me right now.<br /><br />Does anyone know the authors of FCEUX enough to convince them to support this stuff? That would be brilliant if it could happen.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3896">neilbaldwin</a> — Wed Jul 14, 2010 5:59 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Bregalad]]></name></author>
<updated>2010-07-14T05:22:56-07:00</updated>
<published>2010-07-14T05:22:56-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6578&amp;p=64192#p64192</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6578&amp;p=64192#p64192"/>
<title type="html"><![CDATA[Looking For Inspiration]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6578&amp;p=64192#p64192"><![CDATA[
<div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />It's straightforward to "forge a CRC", or find a message with a given CRC value that differs from your original message by fewer than 32 bits.<br /></div><br />Then it might be possible to have a program that "hacks" a few unused bytes at the end of your ROM so that it has the same CRC as a SXROM commercial ROM, and include it in the compilation process and emulator will be tricked by thinking it's the other game. I have no idea if this would work and how much it would slow down the compilation.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=38">Bregalad</a> — Wed Jul 14, 2010 5:22 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2010-07-14T05:08:11-07:00</updated>
<published>2010-07-14T05:08:11-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6578&amp;p=64191#p64191</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6578&amp;p=64191#p64191"/>
<title type="html"><![CDATA[Looking For Inspiration]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6578&amp;p=64191#p64191"><![CDATA[
<a href="http://en.wikipedia.org/wiki/Cyclic_redundancy_check" class="postlink">Cyclic Redundancy Check</a> is a hash function built around a polynomial counter. If you read the description on Wikipedia and find it strangely familiar from having hacked ROMs, consider that a lot of games use things like CRC as a pseudorandom number generator. <br /><br />Unlike later secure hash functions such as MD5 and the SHA series, CRC is intended only to detect noise in transmission channels. It's straightforward to "forge a CRC", or find a message with a given CRC value that differs from your original message by fewer than 32 bits.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Wed Jul 14, 2010 5:08 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[neilbaldwin]]></name></author>
<updated>2010-07-14T01:59:33-07:00</updated>
<published>2010-07-14T01:59:33-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6578&amp;p=64184#p64184</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6578&amp;p=64184#p64184"/>
<title type="html"><![CDATA[Looking For Inspiration]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6578&amp;p=64184#p64184"><![CDATA[
<div class="quotetitle">Bregalad wrote:</div><div class="quotecontent"><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">but it came out in japan only<br /></div><br />In fact FF1&amp;2 also come out in japan only. Only FF1 standalone made it to america (if you don't count the FF2 prototype).<br /><br />Neil, I don't think you could get a 16kb sav file, but a 32kb. SOROM has 16kb RAM, but only 8k can be battery-ied.<br /><br />I guess I have found the problem. Nestopia only accepts to do a 32kb file if you have a iNES2 header, and if your PRG-ROM is at least 128kb. You probably tried with a smaller PRG-ROM, and that's why it still made you a 8kb file. I don't know WHY, it's probably a bug/error in Nestopia, but anyway it's there. The SOROM/SXROM boards effectively only accepts 128-256kb (and 512kb for SXROM obviously) so that might be the reason - although iNES was made to make ALL possibilities of boards, not only the ones commercial games used so I think Nestopia should honnor this but oh well.<br /><br /><br />Your header should look like this (for 128kb PRG-ROM) :<br />$4e, $45, $53, $1a, $08, $00, $12, $08, $00, $00, $90, $07<br /><br />However, I think all other emus will ignore it and Nestopia have no debugger so good luck... the only other option is to have your ROM have the same CRC-32 as Final Fantasy 1+2 or that obscure Basball game.... insane I know. It might work surprisingly well though.</div><br /><br />Thank you so much Bregalad <img src="http://forums.nesdev.com/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /><br /><br />Seriously, this is the kind of answer I was needing and couldn't get to myself. Really appreciate the effort.<br /><br />The CRC trick sounds interesting - how does one go about finding that and where does it go in the ROM (that's probably a daft question <img src="http://forums.nesdev.com/images/smilies/icon_smile.gif" alt=":)" title="Smile" />)?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3896">neilbaldwin</a> — Wed Jul 14, 2010 1:59 am</p><hr />
]]></content>
</entry>
</feed>