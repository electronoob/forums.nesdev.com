<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="http://forums.nesdev.com/feed.php?f=23&amp;t=16497" />

<title>nesdev.com</title>
<subtitle>NES Development and Strangulation Records message boards</subtitle>
<link href="http://forums.nesdev.com/index.php" />
<updated>2017-09-15T12:35:22-07:00</updated>

<author><name><![CDATA[nesdev.com]]></name></author>
<id>http://forums.nesdev.com/feed.php?f=23&amp;t=16497</id>
<entry>
<author><name><![CDATA[zzo38]]></name></author>
<updated>2017-09-15T12:35:22-07:00</updated>
<published>2017-09-15T12:35:22-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=16497&amp;p=204600#p204600</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=16497&amp;p=204600#p204600"/>
<title type="html"><![CDATA[MIX]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=16497&amp;p=204600#p204600"><![CDATA[
Another old computer is MIX, although I think the hardware has never actually been made. Nevertheless I made up a word game for it. The code below is not MIXAL but is using the MIXPC assembler instead; also, it uses a nonstandard I/O unit 34 as a random number generator (on an implementation that doesn't support this (only MIXPC does support it), replace it with your own random number routine).<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">* Public domain word game<br />        BASE 100  &#91;change this to 64 for use with binary MIX&#93;<br />CWORD   EQU 0<br />DISPLAY EQU 3<br />        ORG 31<br /><br />        * Load words from cards<br />        START<br />        ENT1 -16<br />1H      INC1 16<br />        IN WDATA,1(16)<br />        JBUS *(16)<br />        LDA WDATA,1<br />        JAZ 1B<br />        ST1 NWORDS(0:2)<br /><br />        * Blank display line<br />        STZ DISPLAY+2<br />        STZ DISPLAY+6<br />        ENT1 DISPLAY+7<br />        MOVE DISPLAY+6(10)<br />        TEXT &quot;W: B=&quot;<br />        STA DISPLAY+10(1:2)<br />        TEXT &quot;L: B=&quot;<br />        STA DISPLAY+12(1:2)<br /><br />        * Reset counts<br />RESET   STZ COUNTS<br />        ENTA 0<br />        CHAR<br />        STX DISPLAY+10(3:5)<br />        STX DISPLAY+12(3:5)<br /><br />        * Clear letter use buffer<br />NEWGAME ENT1 LETT+1<br />        STZ LETT<br />        MOVE LETT(29)<br /><br />        * Select random word to use<br />        IOC 0(34)  &#91;change to whatever method you use for random numbers&#93;<br />1H      IN 0(34)<br />        JBUS *(34)<br />        LDA 0(4:5)<br />        MUL =16=<br />NWORDS  DECX<br />        JXNN 1B<br />        STX *+1(0:2)<br />        ENN2<br />        LDX 0(1:1)<br />        DIV =5=<br />        SLAX 5<br />        INCA 1<br />        MUL =3=<br />        STX *+1(0:2)<br />        DEC2<br /><br />        * Word found; initialize game<br />        ENT3 9  &#91;number of remaining guesses&#93;<br />        ENT1 CWORD<br />        MOVE WDATA,2(3)<br />        MOVE DASH(2)<br /><br />        * Count how many letters<br />        ENT2 10<br />        LDA CWORD<br />        LDX CWORD+1<br />1H      SLAX 1<br />        DEC2 1<br />        JANZ 1B<br />        LDA CWORD+2<br />        JAZ 2F<br />1H      SLA 1<br />        DEC2 1<br />        JANZ 1B<br /><br />        * Put asterisks<br />2H      LDA STAR<br />        LDX STAR<br />        J2N 1F<br />        SLAX ,2<br />1H      STA DISPLAY+3<br />        STX DISPLAY+4<br />        LDA STAR<br />        SLA 5,2<br />        STA DISPLAY+5<br /><br />        * Fix count of how many letters<br />        ENN2 -10,2<br /><br />        * Display game and ask for input<br />GAME    OUT DISPLAY(19)<br />        IN INBUF(19)<br />        JBUS *(19)<br />        LD1 INBUF(1:1)<br />        J1Z GAME<br />        CMP1 ='*'=<br />        JE RESET<br />        CMP1 ='Z'=<br />        JG GAME<br />        LDA LETT,1<br />        JANZ GAME<br /><br />        * Check if letter is in word<br />        ST1 LETT,1<br />        ENTA ,1<br />        MUL =1(1:1),1(2:2),1(3:3),1(4:4),1(5:5)=<br />        ENT6 WRONG<br />        ENT4 2<br />3H      ENT5 5:5<br />1H      ST5 *+1(4:4)<br />        CMPX CWORD,4<br />        JNE 2F<br />        ST5 *+1(4:4)<br />        ST1 DISPLAY+3,4<br />        DEC2 1<br />        ENT6 RIGHT<br />2H      DEC5 1:1<br />        J5NZ 1B<br />        J4Z ,6<br />        DEC4 1<br />        JMP 3B<br /><br />        * The letter doesn't match<br />WRONG   LDA DISPLAY<br />        LDX DISPLAY+1<br />        INCX ,1<br />        SLAX 1<br />        STA DISPLAY<br />        STX DISPLAY+1<br />        DEC3 1<br />        J3NZ GAME<br />        * You lose<br />        ENT1 LOSWRD<br />        MOVE CWORD(3)<br />        OUT LOSMSG(19)<br />        LDA COUNTS(3:4)<br />        INCA 1<br />        STA COUNTS(3:4)<br />        CHAR<br />        STX DISPLAY+12(3:5)<br />        JMP NEWGAME<br /><br />        * The letter does match<br />RIGHT   J2NZ GAME<br />        * You win<br />        ENT1 WINWRD<br />        MOVE CWORD(3)<br />        OUT WINMSG(19)<br />        LDA COUNTS(1:2)<br />        INCA 1<br />        STA COUNTS(1:2)<br />        CHAR<br />        STX DISPLAY+10(3:5)<br />        JMP NEWGAME<br /><br />        * Initialized data<br />DASH    TEXT &quot;--------- &quot;<br />STAR    TEXT &quot;*****&quot;<br />LOSMSG  TEXT &quot;* YOU LOSE *  THE WORD IS:  &quot;<br />LOSWRD  EQU *<br />        FILL LOSMSG+14<br />WINMSG  TEXT &quot;* YOU WIN *   THE WORD IS:  &quot;<br />WINWRD  EQU *<br />        FILL WINMSG+14<br /><br />        * Uninitialized data<br />        END<br />COUNTS  ORG *+1<br />LETT    ORG *+30<br />INBUF   ORG *+14<br />WDATA   EQU *<br />        DECK WORDGAME.CRD</div><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4734">zzo38</a> — Fri Sep 15, 2017 12:35 pm</p><hr />
]]></content>
</entry>
</feed>