<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Current Problem PowerPak Games</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Current Problem PowerPak Games</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=9&amp;t=5729">http://forums.nesdev.com/viewtopic.php?f=9&amp;t=5729</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>9</strong> of <strong>12</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Sun Jun 19, 2011 11:26 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />It's really weird that the PowerPak works as expected in one system but not the other... Did you try the actual MM3 cart you said you have?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Sun Jun 19, 2011 11:38 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Evotistical wrote:</div><div class="quotecontent">Worked!!! I think It just shipped with corrupted mappers. Hope this doesn't effect anyone else. <br /><br /><br />On a different note:<br />Now that I have all up to date mappers, Is there any other official or Tegen games I should be worried about not working or having glitches (not counting Castlevania III). Is there a work around for karnov? Any other fixes I need to implement? Thanks so far!!!<br /><br /><br />BTW wierd quirk now that my first issue was fixed....MM3 flickers all over on the bottom 1/3 of the screen on 1 NES but not the other..... weird.....<br />Glad to have 2 <img src="./images/smilies/icon_lol.gif" alt=":lol:" title="Laughing" /></div>
<br />You can also try my save state enabled mappers if you're adventurous: <!-- m --><a class="postlink" href="http://kkfos.aspekt.fi/projects/nes/powerpak/save-state-mappers/">http://kkfos.aspekt.fi/projects/nes/pow ... e-mappers/</a><!-- m -->

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Evotistical</b> [ Mon Jun 20, 2011 11:08 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">thefox wrote:</div><div class="quotecontent">You can also try my save state enabled mappers if you're adventurous: <!-- m --><a class="postlink" href="http://kkfos.aspekt.fi/projects/nes/powerpak/save-state-mappers/">http://kkfos.aspekt.fi/projects/nes/pow ... e-mappers/</a><!-- m --></div><br /><br />What do these do specifically? Sorry I'm not very dev oriented. I just plays the games <img src="./images/smilies/icon_cool.gif" alt="8)" title="Cool" /> <br /><br /><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent">It's really weird that the PowerPak works as expected in one system but not the other... Did you try the actual MM3 cart you said you have?</div>
<br />Yea, same issue. Like I said I'm glad I have 2 <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />. I wonder what I need to do to fix it? Might just build a nes PC <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Tue Jun 21, 2011 5:29 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Evotistical wrote:</div><div class="quotecontent"><div class="quotetitle">thefox wrote:</div><div class="quotecontent">You can also try my save state enabled mappers if you're adventurous: <!-- m --><a class="postlink" href="http://kkfos.aspekt.fi/projects/nes/powerpak/save-state-mappers/">http://kkfos.aspekt.fi/projects/nes/pow ... e-mappers/</a><!-- m --></div><br /><br />What do these do specifically? Sorry I'm not very dev oriented. I just plays the games <img src="./images/smilies/icon_cool.gif" alt="8)" title="Cool" /></div>
<br />They allow you to save/load at any point during the game. BUT they are also complete rewrites of the mappers, so some things like MMC3 IRQ *might* work better with these than other versions. I say might because I've never tested them with an NTSC NES.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>qbradq</b> [ Tue Jun 21, 2011 5:39 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Wow, that's pretty awesome. How are you managing to save internal PPU states and RAM? Are you just doing this on NMI or are you using some interrupt hooking?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Tue Jun 21, 2011 5:57 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">qbradq wrote:</div><div class="quotecontent">Wow, that's pretty awesome. How are you managing to save internal PPU states and RAM? Are you just doing this on NMI or are you using some interrupt hooking?</div>
<br />Yup it simply hooks the NMI when it detects a certain button sequence on the data bus. It doesn't save the entire PPU state, like address registers, but this doesn't seem to be a big deal for most games, since they rewrite those registers almost always in the NMI handler anyways. Everything else is read back like any other application would, using $2006/$2007.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>RushJet1</b> [ Mon Jun 27, 2011 10:43 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I just connected up the expansion audio in my NES using a 100k potentiometer.  I then adjusted volume levels so that a 2a03 square at vol 15 would be equal to a vrc6 square at vol 15 (same as many emulators.. hope this is correct).  
<br />
<br />Now some fun stuff.
<br />
<br />1) With loopy's mapper pack installed, Gimmick's NSF doesn't play the sunsoft channels.  However, the actual game, Gimmick!.nes, DOES play the expansion audio.  What's up with that??
<br />
<br />2) MMC5 isn't implemented yet, etc.  Is there a way that a stand-in could be made for NSFs that use MMC5?  Either that or have the NSF code use 2 vrc6 squares instead.
<br />
<br />3) Namco106 is incredibly quiet compared to all of the other expansions.  Why is this? I can use the potentiometer to correct this, but I do not want to have to change volume every time I change expansions.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Sun Jul 31, 2011 9:09 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">loopy wrote:</div><div class="quotecontent">I applied the same fixes to my other mappers, and made a few other changes.  It's interesting that thefox didn't have the same problem with his MMC3 mapper, I wonder why.</div>
<br />Turns out I did. Now that I tested with an NTSC NES (which I got about week ago), I noticed WRAM corruption in Super Bat Puncher and M.C. Kids at least. Fixed it the same way you did. Funny that it worked on PAL NES without a hitch.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>buttheadrulesagain</b> [ Fri Sep 09, 2011 6:12 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I summon the attention of the gods...
<br />
<br />Just wanted to note that the following games run, but are glitchy:
<br />
<br />Guerrilla War - lines flash on the screen, very minor glitches
<br />
<br />Kirby's Adventure - Wrong palette
<br />
<br />Cybernoid - The Fighting Machine - impossible to play, all the graphics are glitchy garbage
<br />
<br />Karnov - Glitchy backgrounds, impossible to play.
<br />
<br />Fixing these would reduce the list of incompatible games almost only to MMC5 games. I hope you have time to look into these. Thanks!

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MottZilla</b> [ Sat Sep 10, 2011 9:42 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Guerilla War and Kirby's Adventure don't sound like PowerPAK problems.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>nothingnew</b> [ Sat Sep 10, 2011 4:06 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />For Kirby for sure has incorrect palette issues, for instance the final boss battle looks incorrect. I thought this was known already though.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>buttheadrulesagain</b> [ Mon Sep 12, 2011 8:39 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />All of the games I mention have glitches. Guerrilla War has glitches that are noticeable, but it's still playable. I have the original cart, and it definitely is different in the Powerpak.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Mon Sep 12, 2011 9:17 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Guerrilla War - lines flash on the screen, very minor glitches</div><br />I didn't notice anything wrong with this (when compared to emulators). <br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Kirby's Adventure - Wrong palette</div><br />Also didn't notice anything wrong, but I haven't played the game very much. <br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Cybernoid - The Fighting Machine - impossible to play, all the graphics are glitchy garbage</div><br />This is a known problem that could be fixed by emulating bus conflicts in CNROM. Game Genie code SXZNZV can also be used to fix it. <br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Karnov - Glitchy backgrounds, impossible to play.</div><br />This I can confirm. A strange MMC3 problem. <br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">All of the games I mention have glitches. Guerrilla War has glitches that are noticeable, but it's still playable. I have the original cart, and it definitely is different in the Powerpak.</div>
<br />Would be helpful if you could provide screenshots or something. Also you should tell the exact version of the mappers you're using.
<br />
<br />
<br />EDIT: FUCK. I accidentally edited my old post out when I meant to make a new post. Oh well.
<br />EDIT2: Was able to stitch it back together from another tab... <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>buttheadrulesagain</b> [ Mon Sep 12, 2011 9:19 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I'll work on it, thanks!

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Mon Sep 12, 2011 10:11 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Karnov - Glitchy backgrounds, impossible to play.</div><br />This I can confirm. A strange MMC3 problem.<br /></div>
<br />I have fixed this in my mappers. The game was relying on the mirroring register to be set to horizontal mirroring by default (never initialized it).
<br />
<br />EDIT: Actually seems like Karnov doesn't actually use MMC3, but mapper 206, functionality of which is a subset of MMC3. That explains why they never write to the mirroring register. Seems to work fine though when the mirroring register is initialized to horizontal, just have to hope there's no other mapper 206 games marked as MMC3 that rely on other initialization values. Maybe a better fix would be to initialize the register to the value from the iNES header...

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>9</strong> of <strong>12</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>