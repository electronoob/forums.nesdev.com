<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="http://forums.nesdev.com/feed.php?f=10&amp;t=8111" />

<title>nesdev.com</title>
<subtitle>NES Development and Strangulation Records message boards</subtitle>
<link href="http://forums.nesdev.com/index.php" />
<updated>2011-09-27T12:47:45-07:00</updated>

<author><name><![CDATA[nesdev.com]]></name></author>
<id>http://forums.nesdev.com/feed.php?f=10&amp;t=8111</id>
<entry>
<author><name><![CDATA[GradualGames]]></name></author>
<updated>2011-09-27T12:47:45-07:00</updated>
<published>2011-09-27T12:47:45-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8111&amp;p=84457#p84457</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8111&amp;p=84457#p84457"/>
<title type="html"><![CDATA[NES development tools: Level/Graphics Editor]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8111&amp;p=84457#p84457"><![CDATA[
I've been so busy for so long I missed this. The link you posted at the top is my video...those are custom tools I've made. I've shared them privately with individuals. Send me a PM if you'd like to try them, but from what I can tell shiru has provided publicly a very similar solution, and is probably converging on a broader range of needs than my tools by now.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3735">GradualGames</a> — Tue Sep 27, 2011 12:47 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Shiru]]></name></author>
<updated>2011-09-16T20:35:11-07:00</updated>
<published>2011-09-16T20:35:11-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8111&amp;p=84039#p84039</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8111&amp;p=84039#p84039"/>
<title type="html"><![CDATA[NES development tools: Level/Graphics Editor]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8111&amp;p=84039#p84039"><![CDATA[
RLE works well only when you have a lot of the same tiles in a row. I.e. if you fill whole screen with the same tile, it packs in just few bytes. However, if you fill whole screen with the same 2x2 metatile, result will be a bit larger than unpacked screen, because in this case there is no repeating tiles in a row at all. So it is only suitable for rather simple screens, but very easy to depack. When you have more complex screens, other more complex algorithms works better, but they are slower and needs additional RAM to work.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4205">Shiru</a> — Fri Sep 16, 2011 8:35 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Asteroid]]></name></author>
<updated>2011-09-16T20:22:28-07:00</updated>
<published>2011-09-16T20:22:28-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8111&amp;p=84034#p84034</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8111&amp;p=84034#p84034"/>
<title type="html"><![CDATA[NES development tools: Level/Graphics Editor]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8111&amp;p=84034#p84034"><![CDATA[
btw, just wanted to say how awesome your RLE subroutine is.  Unpacked, my  background was 1KB.  But using your RLE compression, it was reduced to only 112 bytes!  That's incredible!<br /><br />thanks again shiru<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4991">Asteroid</a> — Fri Sep 16, 2011 8:22 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Asteroid]]></name></author>
<updated>2011-09-16T20:17:02-07:00</updated>
<published>2011-09-16T20:17:02-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8111&amp;p=84033#p84033</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8111&amp;p=84033#p84033"/>
<title type="html"><![CDATA[NES development tools: Level/Graphics Editor]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8111&amp;p=84033#p84033"><![CDATA[
thanks shiru,<br /><br />I feel like a total idiot.  I'm trying my best to learn as much as possible, so sorry for any dumb questions I may ask.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4991">Asteroid</a> — Fri Sep 16, 2011 8:17 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Shiru]]></name></author>
<updated>2011-09-16T20:11:47-07:00</updated>
<published>2011-09-16T20:11:47-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8111&amp;p=84032#p84032</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8111&amp;p=84032#p84032"/>
<title type="html"><![CDATA[NES development tools: Level/Graphics Editor]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8111&amp;p=84032#p84032"><![CDATA[
.incbin for binaries (*.rle, *.nam, etc), to include other assembly code (*.asm) use .include<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4205">Shiru</a> — Fri Sep 16, 2011 8:11 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Asteroid]]></name></author>
<updated>2011-09-16T20:03:48-07:00</updated>
<published>2011-09-16T20:03:48-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8111&amp;p=84031#p84031</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8111&amp;p=84031#p84031"/>
<title type="html"><![CDATA[NES development tools: Level/Graphics Editor]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8111&amp;p=84031#p84031"><![CDATA[
Argh, once again, I'm probably overlooking something very simple.  But I still can't get the RLE code to work.  I was able to load my background by saving it as *.nam and then reading loading the bytes.  So that worked okay, but I would like to get RLE working since it would save some space if I were ever to make a larger game.<br /><br />It seems straightforward, and I know it is, and yet....still no success.<br /><br />At the top, below the ines lines, I do<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">  .rsset $0000  ;;start variables at ram location 0<br />PPU_DATA      = $2007<br />PPU_ADDR     = $2006</div><br /><br />And I also do:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">  .bank 0<br />  .org $8000 <br />unravel:   .incbin &quot;rle.asm&quot;</div><br /><br />and in blanking time I simply call the subroutine with:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">LoadBackground:<br />  ldx #LOW&#40;level&#41; <br />  ldy #HIGH&#40;level&#41; <br />  jsr unrle</div><br /><br />Where level is the lable to my *.rle file (i.e, level: .incbin "bgtest.rle") But I keep getting a "jsr unrle undefined symbol in operand field" error.  Any clues?<br /><br />thanks<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4991">Asteroid</a> — Fri Sep 16, 2011 8:03 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Asteroid]]></name></author>
<updated>2011-09-12T15:19:48-07:00</updated>
<published>2011-09-12T15:19:48-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8111&amp;p=83784#p83784</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8111&amp;p=83784#p83784"/>
<title type="html"><![CDATA[NES development tools: Level/Graphics Editor]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8111&amp;p=83784#p83784"><![CDATA[
wow...that makes sense.  Thanks shiru, really appreciate the speedy response.  And thanks for the great screen tool also.  <br /><br />okay, time for me to work on my game some more <img src="http://forums.nesdev.com/images/smilies/icon_smile.gif" alt=":)" title="Smile" /><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4991">Asteroid</a> — Mon Sep 12, 2011 3:19 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Shiru]]></name></author>
<updated>2011-09-12T15:12:54-07:00</updated>
<published>2011-09-12T15:12:54-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8111&amp;p=83783#p83783</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8111&amp;p=83783#p83783"/>
<title type="html"><![CDATA[NES development tools: Level/Graphics Editor]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8111&amp;p=83783#p83783"><![CDATA[
unrle unpacks whole block of data and writes everything to PPU_DATA. To unpack a nametable, you need to call it only once.<br /><br />I.e., do that once before your game loop (in blanking time):<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent"> lda #$20<br /> sta PPU_ADDR<br /> lda #$00<br /> sta PPU_ADDR<br /><br /> ldx #LOW&#40;level&#41;<br /> ldy #HIGH&#40;level&#41;<br /> jsr unrle</div><br /><br />The PPU_ADDR and PPU_DATA are $2006 and $2007, it is just more convient to use their names instead of addresses.<br /><br /><br />Also, if you don't need RLE, you can just save your nametable as *.nam, and incbin this file - it is plain unpacked nametable in usual format, you just need to load it to VRAM with a loop.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4205">Shiru</a> — Mon Sep 12, 2011 3:12 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Asteroid]]></name></author>
<updated>2011-09-12T15:07:27-07:00</updated>
<published>2011-09-12T15:07:27-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8111&amp;p=83782#p83782</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8111&amp;p=83782#p83782"/>
<title type="html"><![CDATA[NES development tools: Level/Graphics Editor]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8111&amp;p=83782#p83782"><![CDATA[
okay...spent the last couple of hours diving into this again, with some mixed results.  I want to be sure I'm doing this correctly.  Here is what I tried...but I'm still unable to load my background.<br /><br />1) I made a simple background for my pong game using the NES Screen Tool and saved the nametable and attribules as an RLE.  My background is shown below:<br /><br /><img src="http://i53.tinypic.com/k350sl.jpg" alt="Image" /><br /><br />2) I included the rle file as shiru mentioned by adding it in my bank 1.<br />This is shown below:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">  .bank 1<br />  .org $E000<br />level:      .incbin &quot;PongBG.rle&quot;</div><br /><br />3) I added the unrle subroutine code as given by shiru.  It's included when I downloaded the NES Screen Tool.<br /><br />4) In my NMI section, as per the instructions given by shiru to call his subroutine, I added the following to unpack my background data.  I unpack the 1KB of background and attribute data, which is why my counters run 256*4 times.  Each byte of data is unpacked and placed in PPU_DATA, so I write that to the PPU.  My code is shown below:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">LoadBackground:<br />  LDA $2002             ; read PPU status to reset the high/low latch<br />  LDA #$20<br />  STA $2006             ; write the high byte of $2000 address<br />  LDA #$00<br />  STA $2006             ; write the low byte of $2000 address<br />  <br />  LDA #$00<br />  sta counterLo       ; put the loop counter into 16 bit variable<br />  LDA #$00<br />  sta counterHi<br />  <br />  LDX #LOW&#40;level&#41;<br />  LDY #HIGH&#40;level&#41;<br />  <br />OuterLoop:  <br />InsideLoop:<br />  jsr unrle<br />  LDA PPU_DATA<br />  STA $2007<br />  inc counterLo<br />  LDA counterLo<br />  CMP #$00<br />  BNE InsideLoop<br />  inc counterHi<br />  LDA counterHi<br />  CMP #$04<br />  BNE OuterLoop</div><br /><br />The results are unsuccessful.  Perhaps I'm doing it wrong? I can still move my paddle around, but now my ball has disappeared.  Furthermore, my background does not load.  Any help here would be highly appreciated.  I'm not sure how efficient/reliable or suggested using RLE is, but I figured I would give it a try.  I might also try the MapEdPro suggested by thefox.  Still having difficulty understand how to integrate backgrounds into my program without the use of long "db" statements, so any further comments/help there would also be great.<br /><br />thanks once more<br />-asteroid<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4991">Asteroid</a> — Mon Sep 12, 2011 3:07 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Banshaku]]></name></author>
<updated>2011-09-12T04:42:33-07:00</updated>
<published>2011-09-12T04:42:33-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8111&amp;p=83760#p83760</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8111&amp;p=83760#p83760"/>
<title type="html"><![CDATA[NES development tools: Level/Graphics Editor]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8111&amp;p=83760#p83760"><![CDATA[
I tried (meta-tile based) and to make it generic for everything and have some intuitive UI requires quite a lot of foresight.  If I had the time and the will, yes it would be possible. The time is no more (so is for making games too) so it was put on indefinite old. <br /><br />By now, since there is no design document, I would have no idea about my current code base <img src="http://forums.nesdev.com/images/smilies/icon_smile.gif" alt=":)" title="Smile" /><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3559">Banshaku</a> — Mon Sep 12, 2011 4:42 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[thefox]]></name></author>
<updated>2011-09-12T03:54:03-07:00</updated>
<published>2011-09-12T03:54:03-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8111&amp;p=83756#p83756</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8111&amp;p=83756#p83756"/>
<title type="html"><![CDATA[NES development tools: Level/Graphics Editor]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8111&amp;p=83756#p83756"><![CDATA[
<div class="quotetitle">tepples wrote:</div><div class="quotecontent"><br /><div class="quotetitle">thefox wrote:</div><div class="quotecontent">I think a generic map editor is within realm of possibility. It should have configurable metatile sizes and support for export plugins.<br /></div><br />Good luck making an export plug-in for an object list format like that used by games like Super Mario Bros., Super Mario Bros. 3, and Super Mario World. Such a tool would need to recognize groups of metatiles that can be represented as a rectangular object.</div><br />TBH when talking about a generic editor I really meant "generic metatile based editor", which I think also is what most people need.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=80">thefox</a> — Mon Sep 12, 2011 3:54 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2011-09-11T08:07:50-07:00</updated>
<published>2011-09-11T08:07:50-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8111&amp;p=83735#p83735</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8111&amp;p=83735#p83735"/>
<title type="html"><![CDATA[NES development tools: Level/Graphics Editor]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8111&amp;p=83735#p83735"><![CDATA[
<div class="quotetitle">thefox wrote:</div><div class="quotecontent"><br />I think a generic map editor is within realm of possibility. It should have configurable metatile sizes and support for export plugins.<br /></div><br />Good luck making an export plug-in for an object list format like that used by games like Super Mario Bros., Super Mario Bros. 3, and Super Mario World. Such a tool would need to recognize groups of metatiles that can be represented as a rectangular object. This is one reason<br /><br />One way to handle object lists is to emulate the game's level decoder. There are three ways to do this:<br /><ul><li>Translate the level decoder into C with some custom preprocessor. Display objects with resize handles, then redecode the affected portion of the map when an object changes. </li><li>Use an emulator to run the game's decoder and put resize handles on all the objects, then redecode the affected portion of the map when an object changes. NESICIDE might be useful for this because it's organized as a library, or you could write it in Lua for FCEUX. </li><li>Just make the editor for the NES and have it operate on a level definition in PRG RAM. </li></ul><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Sun Sep 11, 2011 8:07 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Shiru]]></name></author>
<updated>2011-09-11T06:59:00-07:00</updated>
<published>2011-09-11T06:59:00-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8111&amp;p=83731#p83731</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8111&amp;p=83731#p83731"/>
<title type="html"><![CDATA[NES development tools: Level/Graphics Editor]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8111&amp;p=83731#p83731"><![CDATA[
There are general map editors around, actually, but not much people ever heard of them.<br /><br />For me, making a custom level editor (if necessary for a project) takes about one day, or less, if one of old editors is similar enough to be easily modified. Making plugins or converters for a general map editor would take probably the same amount of time.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4205">Shiru</a> — Sun Sep 11, 2011 6:59 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[thefox]]></name></author>
<updated>2011-09-11T06:53:32-07:00</updated>
<published>2011-09-11T06:53:32-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8111&amp;p=83730#p83730</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8111&amp;p=83730#p83730"/>
<title type="html"><![CDATA[NES development tools: Level/Graphics Editor]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8111&amp;p=83730#p83730"><![CDATA[
<div class="quotetitle">Kasumi wrote:</div><div class="quotecontent"><br />I think most sufficiently advanced NES homebrew games have their levels created with custom PC editors, since it's very hard to make a good program that can meet the needs of all types of NES homebrew. The second you want a type of compression or whatever else that's outside the scope of the available programs, you have to do it yourself.<br /></div><br />True to an extent, but I think a generic map editor is within realm of possibility. It should have configurable metatile sizes and support for export plugins. It's just pretty unlikely that anybody is so passionate about map editors to come up with something really good and generic <em>and</em> release it to the public (which takes a lot of extra work, documentation etc). Generalization itself of course takes a lot of extra work as well, so for most people it's not worth doing it just to get a pat on the back...<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=80">thefox</a> — Sun Sep 11, 2011 6:53 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[thefox]]></name></author>
<updated>2011-09-11T06:38:22-07:00</updated>
<published>2011-09-11T06:38:22-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8111&amp;p=83729#p83729</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8111&amp;p=83729#p83729"/>
<title type="html"><![CDATA[Re: NES development tools: Level/Graphics Editor]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8111&amp;p=83729#p83729"><![CDATA[
<div class="quotetitle">Asteroid wrote:</div><div class="quotecontent"><br />So I was wondering what graphics tools are used to develop backgrounds.  Right now I am using YYCHR to draw the tiles etc, but are there other tools?<br /></div><br />You can also use (the latest version of) YY-CHR for drawing backgrounds (similar to Shiru's NES Screen Tool), as long as you're fine with being limited to a single screen (no scrolling) and no metatiles (unless you write your own tool to pack the data).<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />so it seems like there are tools that facilitate the background making process and integrating that into one's program.<br /></div><br />Most of these tools haven't been publicly released. The only reasonably flexible map editor I know is here <a href="http://nesdev.com/bbs/viewtopic.php?t=7111" class="postlink">http://nesdev.com/bbs/viewtopic.php?t=7111</a>, but its user interface is not the best.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=80">thefox</a> — Sun Sep 11, 2011 6:38 am</p><hr />
]]></content>
</entry>
</feed>