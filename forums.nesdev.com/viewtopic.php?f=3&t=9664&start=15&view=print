<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - MahNES Library Released - Emulator using SDL_Audio now</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">MahNES Library Released - Emulator using SDL_Audio now</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=3&amp;t=9664">http://forums.nesdev.com/viewtopic.php?f=3&amp;t=9664</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>2</strong> of <strong>2</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>HLorenzi</b> [ Sat Jan 12, 2013 7:34 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MahNES Library Released</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">blargg wrote:</div><div class="quotecontent">A permissive license encourages voluntary collaboration among developers who use it. The others rely on forced collaboration and have involved terms which must be followed, which turns away some developers who prefer voluntary collaboration and simplicity. Neither will cause collaboration where there's lack of interest or potential; the best way to get people helping is to form a group of people who want to work on the software. The idea is to focus on making the software valuable, rather than on worrying about how others put it to use.</div><br /><br />So you're saying it's &quot;best&quot; to use the strong copyleft, as noted above? The GNU Lesser just says proprietary software should distribute the library, if they change it. I didn't really understand your point, sorry. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>blargg</b> [ Sat Jan 12, 2013 8:19 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MahNES Library Released</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I guess my point was to figure out why you wouldn't use a liberal license like the BSD family, and whether the costs of a more restrictive one are worth the benefits. If you haven't dealt with licensing before, then there's not a lot you can do besides do your best to choose one and then gain experience with how it is.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dwedit</b> [ Sat Jan 12, 2013 9:48 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MahNES Library Released</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Can you build a x86 compatible version of the emulator?  I'd like to test it out.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>HLorenzi</b> [ Sun Jan 13, 2013 11:18 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MahNES Library Released</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Dwedit wrote:</div><div class="quotecontent">Can you build a x86 compatible version of the emulator?  I'd like to test it out.</div><br /><br />I think the problem is just the DLL -- I'll try to find the 32-bit version. That OpenAL website is... really messy.<br /><br />I could not verify what version the DLLs I found are, so I can only ask you to download the official installer, and hope that it detects 32-bit systems. <!-- m --><a class="postlink" href="http://connect.creativelabs.com/openal/Downloads/oalinst.zip">http://connect.creativelabs.com/openal/ ... alinst.zip</a><!-- m --><br /><br />I am also recompiling the source explicity as 32-bit (or, at least, I think it will), just to be sure. But it's a bit unstable now, freezes randomly when going to the gallery. But that's a problem with the program, not the emulation.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dwedit</b> [ Sun Jan 13, 2013 2:02 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MahNES Library Released</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I already tried a different OpenAL32.dll, it was a slightly different version number, and the emulator crashed.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>HLorenzi</b> [ Sun Jan 13, 2013 6:54 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MahNES Library Released</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Dwedit wrote:</div><div class="quotecontent">I already tried a different OpenAL32.dll, it was a slightly different version number, and the emulator crashed.</div><br /><br />OK, now I've been able to get rid of that OpenAL thing, and switched to SDL, which was even easier to set up (but I'm still getting used to it, so there may be sound crackling or whatever). I've also corrected the freezing bug in the emulator. Would you be so kind as to download it again? <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br /><br /><div class="quotetitle">blargg wrote:</div><div class="quotecontent">I guess my point was to figure out why you wouldn't use a liberal license like the BSD family, and whether the costs of a more restrictive one are worth the benefits. If you haven't dealt with licensing before, then there's not a lot you can do besides do your best to choose one and then gain experience with how it is.</div><br /><br />So far I've changed it to a BSD license. I just want it to be as free as possible.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dwedit</b> [ Sun Jan 13, 2013 11:08 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MahNES Library Released - Emulator using SDL_Audio now</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />MahNES is crashing because you're calling fclose on a null pointer.<br />This happens if there is no existing file named &quot;MahNES Settings.txt&quot;

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>HLorenzi</b> [ Mon Jan 14, 2013 2:45 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MahNES Library Released - Emulator using SDL_Audio now</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Dwedit wrote:</div><div class="quotecontent">MahNES is crashing because you're calling fclose on a null pointer.<br />This happens if there is no existing file named &quot;MahNES Settings.txt&quot;</div><br />You know, I just love it when something works on my computer for who-knows-what reason, and when someone tries to run it, I look like a noob. I'm really sorry about this, fclose() was mistakenly just after I closed brackets... Hopefully there are no other errors now.<br /><br />Also, that was spot-on. How did you find out...?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dwedit</b> [ Mon Jan 14, 2013 3:25 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MahNES Library Released - Emulator using SDL_Audio now</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Ollydbg is a powerful tool.<br />It reported the &quot;access violation - read from address 000000C&quot; from inside MSVCRT.DLL, and let me look down the stack to see the code that called the function.  The code pointer sitting on the stack was 0040EFD5.<br />I saw that it was a call to fclose, so I set a breakpoint there, and restarted the program.<br />Then I saw it was trying to call fclose with a null pointer.<br />Then I looked at the debug window, and everything you need to know is right there:<br /><div class="attachtitle">Attachment:</div><div class="attachcontent">
			<img src="./download/file.php?id=309" alt="ollydbg.png" /><br />
			<span class="gensmall">ollydbg.png [ 10.99 KiB | Viewed 207 times ]</span>
		

		<br />
	</div>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>blargg</b> [ Mon Jan 14, 2013 4:06 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MahNES Library Released - Emulator using SDL_Audio now</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Since your code is portable, it should be easy to run with valgrind. That'll point right to the line of code where you do things like fclose(NULL).

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>2</strong> of <strong>2</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>