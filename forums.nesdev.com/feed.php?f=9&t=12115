<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="http://forums.nesdev.com/feed.php?f=9&amp;t=12115" />

<title>nesdev.com</title>
<subtitle>NES Development and Strangulation Records message boards</subtitle>
<link href="http://forums.nesdev.com/index.php" />
<updated>2015-01-28T18:15:40-07:00</updated>

<author><name><![CDATA[nesdev.com]]></name></author>
<id>http://forums.nesdev.com/feed.php?f=9&amp;t=12115</id>
<entry>
<author><name><![CDATA[MottZilla]]></name></author>
<updated>2015-01-28T18:15:40-07:00</updated>
<published>2015-01-28T18:15:40-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=12115&amp;p=140063#p140063</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=12115&amp;p=140063#p140063"/>
<title type="html"><![CDATA[Re: mario in some usual day]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=12115&amp;p=140063#p140063"><![CDATA[
<div class="quotetitle">yxkalle wrote:</div><div class="quotecontent"><br /><div class="quotetitle">Tormenter wrote:</div><div class="quotecontent">How do you clear the save on real hardware?<br /></div><br /><br />One way to do it is to open the cartridge up and use a small cable to make a short between Vdd and Vss for a few seconds on the SRAM chip that hold the save data. You will need to know the pinout of that chip though.</div><br /><br />You should never do this. No good program should require the SRAM contents to be initialized or otherwise be unable to handle corruption. If you do (for a hack or something), then you could use some sort of cartridge reader/programmer device to zero every byte of SRAM. Or if that isn't an option you could program an EPROM with a program to write SRAM for you.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=1726">MottZilla</a> — Wed Jan 28, 2015 6:15 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[yxkalle]]></name></author>
<updated>2015-01-24T19:59:07-07:00</updated>
<published>2015-01-24T19:59:07-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=12115&amp;p=139845#p139845</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=12115&amp;p=139845#p139845"/>
<title type="html"><![CDATA[Re: mario in some usual day]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=12115&amp;p=139845#p139845"><![CDATA[
<div class="quotetitle">lidnariq wrote:</div><div class="quotecontent"><br />Internally shorted batteries would be protected from the power supply rails by the diode.<br /><br />That said, you're right, I forgot there's the current-limiting resistor there.<br /></div><br /><br />True, I never thought of that. That diode does lots of things. Protecting the battery from the console's higher voltage, relieves the battery while the console is powered and protects the console from shorting out. <img src="http://forums.nesdev.com/images/smilies/icon_wink.gif" alt=";)" title="Wink" /><br /><br />Thanks.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=5850">yxkalle</a> — Sat Jan 24, 2015 7:59 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[lidnariq]]></name></author>
<updated>2015-01-24T19:39:38-07:00</updated>
<published>2015-01-24T19:39:38-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=12115&amp;p=139844#p139844</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=12115&amp;p=139844#p139844"/>
<title type="html"><![CDATA[Re: mario in some usual day]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=12115&amp;p=139844#p139844"><![CDATA[
Internally shorted batteries would be protected from the power supply rails by the diode.<br /><br />That said, you're right, I forgot there's the current-limiting resistor there.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3512">lidnariq</a> — Sat Jan 24, 2015 7:39 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[yxkalle]]></name></author>
<updated>2015-01-24T19:36:29-07:00</updated>
<published>2015-01-24T19:36:29-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=12115&amp;p=139842#p139842</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=12115&amp;p=139842#p139842"/>
<title type="html"><![CDATA[Re: mario in some usual day]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=12115&amp;p=139842#p139842"><![CDATA[
<div class="quotetitle">lidnariq wrote:</div><div class="quotecontent"><br />Two problems ... <br />one, that shorts out the battery (no good for the battery) through a diode (no good for the diode).<br />two, there's no guarantee that the power-up pattern in RAM is all 0s.<br /><br />But I don't have a better idea.<br /></div><br /><br />I don't think I've seen a cart without some kind of current limiting resistor. Batteries could go bad and and become internally shorted and potentially ruin the console if there was no fail-safe.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=5850">yxkalle</a> — Sat Jan 24, 2015 7:36 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[lidnariq]]></name></author>
<updated>2015-01-24T19:06:36-07:00</updated>
<published>2015-01-24T19:06:36-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=12115&amp;p=139841#p139841</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=12115&amp;p=139841#p139841"/>
<title type="html"><![CDATA[Re: mario in some usual day]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=12115&amp;p=139841#p139841"><![CDATA[
Two problems ... <br />one, that shorts out the battery (no good for the battery) through a diode (no good for the diode).<br />two, there's no guarantee that the power-up pattern in RAM is all 0s.<br /><br />But I don't have a better idea.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3512">lidnariq</a> — Sat Jan 24, 2015 7:06 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[yxkalle]]></name></author>
<updated>2015-01-24T18:57:03-07:00</updated>
<published>2015-01-24T18:57:03-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=12115&amp;p=139839#p139839</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=12115&amp;p=139839#p139839"/>
<title type="html"><![CDATA[Re: mario in some usual day]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=12115&amp;p=139839#p139839"><![CDATA[
<div class="quotetitle">Tormenter wrote:</div><div class="quotecontent"><br />How do you clear the save on real hardware?<br /></div><br /><br />One way to do it is to open the cartridge up and use a small cable to make a short between Vdd and Vss for a few seconds on the SRAM chip that hold the save data. You will need to know the pinout of that chip though.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=5850">yxkalle</a> — Sat Jan 24, 2015 6:57 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Tormenter]]></name></author>
<updated>2015-01-24T00:29:57-07:00</updated>
<published>2015-01-24T00:29:57-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=12115&amp;p=139821#p139821</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=12115&amp;p=139821#p139821"/>
<title type="html"><![CDATA[Re: mario in some usual day]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=12115&amp;p=139821#p139821"><![CDATA[
How do you clear the save on real hardware?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=600">Tormenter</a> — Sat Jan 24, 2015 12:29 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[coinheaven]]></name></author>
<updated>2015-01-18T14:39:13-07:00</updated>
<published>2015-01-18T14:39:13-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=12115&amp;p=139568#p139568</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=12115&amp;p=139568#p139568"/>
<title type="html"><![CDATA[Re: mario in some usual day]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=12115&amp;p=139568#p139568"><![CDATA[
nice, i didnt know you did this, ill try out this patch on real hardware soon.  thanks!<br /><br /><div class="quotetitle">AWal wrote:</div><div class="quotecontent"><br />Wow, this game was jam packed in the constant banks...<br /><br /><a href="http://www.mediafire.com/download/8yjpe68h8c0ynus/Mario_In_Some_Usual_Day_Patch_for_Real_Hardware-AWal.zip" class="postlink">Get The Patches here.</a><br /><br />This patch oughta do it. All that's required is to erase the save before the first play. I'd love to fix that too, but I don't believe I'll have enough space to patch that as well.<br /><br />Also, the unoccupied palettes used at a later point in the game are not fixed and will show black when used (I currently have no plans to fix this).<br /></div><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=195">coinheaven</a> — Sun Jan 18, 2015 2:39 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[AWal]]></name></author>
<updated>2014-12-30T11:39:25-07:00</updated>
<published>2014-12-30T11:39:25-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=12115&amp;p=138283#p138283</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=12115&amp;p=138283#p138283"/>
<title type="html"><![CDATA[Re: mario in some usual day]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=12115&amp;p=138283#p138283"><![CDATA[
Yep. Mario In Some Usual Day, like Mario Adventure, isn't clearing any of it's WRAM. I didn't really find any significant space to put a proper clearing routine back in, but I did have enough bytes to have the reset code write 0x00 to the problem byte (CPU 0x7955 - WRAM 0x1955). If it's anything but 0x00 the game will essentialy freeze (music still appears to play though).<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=26">AWal</a> — Tue Dec 30, 2014 11:39 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[MottZilla]]></name></author>
<updated>2014-12-29T14:50:10-07:00</updated>
<published>2014-12-29T14:50:10-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=12115&amp;p=138255#p138255</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=12115&amp;p=138255#p138255"/>
<title type="html"><![CDATA[Re: mario in some usual day]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=12115&amp;p=138255#p138255"><![CDATA[
Just to be clear, what was the problem? It was an issue with save data?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=1726">MottZilla</a> — Mon Dec 29, 2014 2:50 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[AWal]]></name></author>
<updated>2014-12-29T14:11:43-07:00</updated>
<published>2014-12-29T14:11:43-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=12115&amp;p=138254#p138254</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=12115&amp;p=138254#p138254"/>
<title type="html"><![CDATA[Re: mario in some usual day]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=12115&amp;p=138254#p138254"><![CDATA[
Wow, this game was jam packed in the constant banks...<br /><br /><a href="http://www.mediafire.com/download/8yjpe68h8c0ynus/Mario_In_Some_Usual_Day_Patch_for_Real_Hardware-AWal.zip" class="postlink">Get The Patches here.</a><br /><br />This patch oughta do it. All that's required is to erase the save before the first play. I'd love to fix that too, but I don't believe I'll have enough space to patch that as well.<br /><br />Also, the unoccupied palettes used at a later point in the game are not fixed and will show black when used (I currently have no plans to fix this).<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=26">AWal</a> — Mon Dec 29, 2014 2:11 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[AWal]]></name></author>
<updated>2014-12-27T23:13:05-07:00</updated>
<published>2014-12-27T23:13:05-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=12115&amp;p=138172#p138172</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=12115&amp;p=138172#p138172"/>
<title type="html"><![CDATA[Re: mario in some usual day]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=12115&amp;p=138172#p138172"><![CDATA[
Oh no...not this one too...I could've sworn I patched this one as well.<br /><br />It's the exact same issue too...I'm actually suprised nobody has actually brought it to my attention...I guess fixing one kinda paved the road for a workaround on the others anyways.<br /><br />I'll see if I can whip up a patch for this one too, as my TSROM gone TKROM dev board doesn't like it unless I blank the WRAM to 00 myself (the AAA battery hack is still kicking apparently too...I figured the Cypress SRAM I was using would've drained it out by now...).<br /><br />I already see the &quot;Erase Save&quot; code only does 0x7FFF-0x7D00. Just need to &quot;study&quot; it for a while and see what exactly of that is used...<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=26">AWal</a> — Sat Dec 27, 2014 11:13 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[rainwarrior]]></name></author>
<updated>2014-12-27T23:52:57-07:00</updated>
<published>2014-12-10T13:32:50-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=12115&amp;p=137461#p137461</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=12115&amp;p=137461#p137461"/>
<title type="html"><![CDATA[Re: mario in some usual day]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=12115&amp;p=137461#p137461"><![CDATA[
<s>I&#39;m noticing weird stuff w.r.t. the PPU address during startup. There is a fill loop at $FDE1 writing to $2007, and it is fine for the first few lines but &#40;at least in FCEUX&#41; the PPU address starts going haywire eventually and it&#39;s basically making writes to essentially random locations? That&#39;s a bit odd. Strangely, I am not picking up any writes to $2000 or $2001 to interfere with it, not really sure how this is occurring.</s><br /><br />Edit: Nevermind, this is probably a bug in FCEUX's debugger. Doesn't occur with Old PPU mode selected, and can't duplicate behaviour in Nintendulator.<br /><br /><br />On the PowerPak I do at least see some coloured lines on the screen for one frame, indicating it manages to write the palette before it hangs on a black screen. (I see identical coloured lines in Nintendulator 5 frames after reset. On frame 6 the title screen should appear, but on the PowerPak it is just black.) I suppose this is also the first frame the MMC3 IRQ is first needed for the scroll split at the bottom of the screen, but I don't think it quite gets that far, since the curtains are never visible.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=5165">rainwarrior</a> — Wed Dec 10, 2014 1:32 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[MottZilla]]></name></author>
<updated>2014-12-10T01:51:46-07:00</updated>
<published>2014-12-10T01:51:46-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=12115&amp;p=137449#p137449</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=12115&amp;p=137449#p137449"/>
<title type="html"><![CDATA[Re: mario in some usual day]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=12115&amp;p=137449#p137449"><![CDATA[
That was one of the things I checked. Corrupting the save data with various bytes will crash the game when you try to load it. But it doesn't stop the game's menu coming up which has the option to erase/initialize save data. He said the game just black screens from the start.<br /><br />I don't think the ROM expansion is an issue either. The hack behaves fine in Nestopia and other emulators so I'm not sure what might be the cause. It would be nice to find out. I also checked if any program bank registers were uninitialized but it appears they are initialized before non-fixed banks are accessed. <br /><br />I didn't look into anything else yet.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=1726">MottZilla</a> — Wed Dec 10, 2014 1:51 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[rainwarrior]]></name></author>
<updated>2014-12-09T18:04:58-07:00</updated>
<published>2014-12-09T18:04:58-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=12115&amp;p=137437#p137437</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=12115&amp;p=137437#p137437"/>
<title type="html"><![CDATA[Re: mario in some usual day]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=12115&amp;p=137437#p137437"><![CDATA[
Looks like it has a battery backed save option? Most emulators will initialize the save RAM consistently, but hardware might not. Does the hack detect and recover from corrupt save data?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=5165">rainwarrior</a> — Tue Dec 09, 2014 6:04 pm</p><hr />
]]></content>
</entry>
</feed>