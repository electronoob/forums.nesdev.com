<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - NES Graphic Converters</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">NES Graphic Converters</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=21&amp;t=7150">http://forums.nesdev.com/viewtopic.php?f=21&amp;t=7150</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>neilbaldwin</b> [ Fri Nov 12, 2010 5:18 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>NES Graphic Converters</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I normally just use YY-CHR as it's quick and easy for doing simple stuff but I really would like to make my graphics/fonts in a more modern way (there are plenty of 'pixel editors' out there these days). However, conversion of the graphics files to a NES format seems to still leave a lot to be desired. Especially if you're not a Windows user.
<br />
<br />I've tried (again) to make Tepples's bmp2tiles tool work but getting anything built with the allegro library on an up-to-date version of OSX seems almost impossible (at the very least it uses up the very last drop of my patience). That's not an attack on Tepples by the way.
<br />
<br />I know he was planning to update some of those tools to Python (was it?) but I don't know if he got around to doing that. That would be great.
<br />
<br />Alternatively, surely <em>someone</em> could write one? A plain-old C/C++ cross platform conversion tool. It can't be <em>that</em> difficult for anyone with a modicum of knowledge, can it?
<br />
<br /> <img src="./images/smilies/icon_confused.gif" alt=":?" title="Confused" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Fri Nov 12, 2010 5:50 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Graphic Converters</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">neilbaldwin wrote:</div><div class="quotecontent">I know he was planning to update some of those tools to Python (was it?) but I don't know if he got around to doing that.</div><br />Inside the distribution of <a href="http://www.pineight.com/croom/" class="postlink">Concentration Room</a> is a converter that uses <a href="http://www.pythonware.com/products/pil/" class="postlink">Python Imaging Library</a>.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Alternatively, surely <em>someone</em> could write one? A plain-old C/C++ cross platform conversion tool. It can't be <em>that</em> difficult for anyone with a modicum of knowledge, can it?</div>
<br />The big question: What formats would it support? The number of dependencies needed to compile an image converter depends on what image formats are supported.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>neilbaldwin</b> [ Fri Nov 12, 2010 6:09 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Graphic Converters</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent"><div class="quotetitle">neilbaldwin wrote:</div><div class="quotecontent">I know he was planning to update some of those tools to Python (was it?) but I don't know if he got around to doing that.</div><br />Inside the distribution of <a href="http://www.pineight.com/croom/" class="postlink">Concentration Room</a> is a converter that uses <a href="http://www.pythonware.com/products/pil/" class="postlink">Python Imaging Library</a>.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Alternatively, surely <em>someone</em> could write one? A plain-old C/C++ cross platform conversion tool. It can't be <em>that</em> difficult for anyone with a modicum of knowledge, can it?</div><br />The big question: What formats would it support? The number of dependencies needed to compile an image converter depends on what image formats are supported.</div>
<br />
<br />Of course. Well, if it were to be <em>modern</em> then indexed PNG. And that's it <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />
<br />
<br />I don't know much about graphics at all. I guess any uncompressed format that uses an indexed palette? Which would mean .GIF, .BMP and .PNG?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>clueless</b> [ Fri Nov 12, 2010 6:27 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I wrote my own tile converter [1] as part of my build system for a game that I was experimenting with.  Tile info can come from text files [2] or chunks of other chr files [2].
<br />
<br />The source is in C.  The program emits asm source meant to be input to 'ca65' for linking into the game's char-rom (or prog-rom if using char-ram).
<br />
<br />Feel free to adapt it to your needs if you wish.  Someday I'll pick that project back up and polish the tools too.
<br />
<br />[1] <!-- m --><a class="postlink" href="https://www.ecoligames.com/svn/nes-game/trunk/tools/tile-maker/">https://www.ecoligames.com/svn/nes-game ... ile-maker/</a><!-- m -->
<br />
<br />[2] <!-- m --><a class="postlink" href="https://www.ecoligames.com/svn/nes-game/trunk/gfx/">https://www.ecoligames.com/svn/nes-game/trunk/gfx/</a><!-- m -->

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>neilbaldwin</b> [ Fri Nov 12, 2010 6:38 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I grabbed the Python tools from CR and (with minimal fiddling) I was pleasantly surprised that bmp2tiles works pretty nicely with indexed .PNGs.
<br />
<br />Thanks Tepples <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />
<br />
<br />@clueless: I'll have a look at your stuff too. One thing that puts me off from the description is that you're outputting as assembly. Would be better to have a binary option then you could load the resulting .chr file into a nametable/map editor etc.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>clueless</b> [ Fri Nov 12, 2010 6:51 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">neilbaldwin wrote:</div><div class="quotecontent">@clueless: I'll have a look at your stuff too. One thing that puts me off from the description is that you're outputting as assembly. Would be better to have a binary option then you could load the resulting .chr file into a nametable/map editor etc.</div>
<br />
<br />I suppose.  However, the game that I was working on used char-ram on MMC1.  I was possibly going to add compression to the output, and the compressed output would be dumped into one of the games 'RODATA' segment.  Its final location would be assigned by the linker.  Therefore I needed asm output for input to ca65, not a raw, n*8K chr file.
<br />
<br />If I resume that game again (I plan to), I will probably split the tile maker off as a separate project and then add more features to it.  My current project (for the 2010 minigame compo) is much simpler and I'm using yy-chr for it.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Fri Nov 12, 2010 8:29 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">clueless wrote:</div><div class="quotecontent"><div class="quotetitle">neilbaldwin wrote:</div><div class="quotecontent">One thing that puts me off from the description is that you're outputting as assembly. Would be better to have a binary option then you could load the resulting .chr file into a nametable/map editor etc.</div><br />I suppose.  However, the game that I was working on used char-ram on MMC1.</div><br />My CHR RAM projects use an .incbin statement. So do my CHR ROM projects that use an RLE nametable for the title screen. Or are you specifically targeting users of assemblers without .incbin?<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I was possibly going to add compression to the output</div><br />The "UNIX way" to do things is to make one program that does each step: one that converts PNG to CHR (e.g. the Python program that I recommended to Neil) and another that converts CHR to compressed CHR (e.g. packbits from Pin Eight NES Tools).<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">and the compressed output would be dumped into one of the games 'RODATA' segment.  Its final location would be assigned by the linker.  Therefore I needed asm output for input to ca65, not a raw, n*8K chr file.</div>
<br />In ca65, you can do it like this:
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">.segment &quot;RODATA&quot;<br />titletiles_pkb:<br />&nbsp; .incbin &quot;titletiles.pkb&quot;</div>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>clueless</b> [ Fri Nov 12, 2010 8:38 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I know all of that is possible (incbins included).  I've repeatedly said that my tool produces asm for consumption by "ca65".  What I didn't say is that it emits ".s" (raw ".db" statements) and a ".inc" file that defines all of the symbols.  My chr converter allows me to remap chrs, and it auto-magically takes care of keeping all of the symbols straight.  Simply doing an "incbin" of a chr file won't update all of the symbols, which are consumed by the rest of the ".s" files.
<br />
<br />It is simply that I chose my own method when I wrote a tool for my use.  I didn't expect to raise such a ruckus over it.  I offered it for others to use.  If they don't like it, then don't use it.
<br />
<br />I know the "unix way".  I've been a unix developer and admin for 15+ years.  My personal project wasn't meant to be production quality...

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Fri Nov 12, 2010 8:43 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />You have a point: haters can "Feel free to adapt it to your needs if you wish." It's just that the debate over outputting asm vs. binary brought back memories of GBA programming, where the GNU assembler for ARM didn't have .incbin.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Fri Nov 12, 2010 10:34 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Graphic Converters</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">neilbaldwin wrote:</div><div class="quotecontent">Of course. Well, if it were to be <em>modern</em> then indexed PNG. And that's it <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br /><br />I don't know much about graphics at all. I guess any uncompressed format that uses an indexed palette? Which would mean .GIF, .BMP and .PNG?</div>
<br />I'm using a converter I made a while back (in Delphi, I should probably convert it to something else) that doesn't care if the source images are indexed or true color, it just cares about the final colors of the pixels. It works by using additional images, one containing all the palettes used by the tiles (one palette per row, with the first color being the palette's ID) and the other specifying what palette should be used for each tile (this is done by using the palette IDs). If you are using only one palette you don't need the "attribute" image. This was the best way I could find to use multiple palettes in my images.
<br />
<br />A feature I miss in graphic converters is the option of encoding two-dimensional areas into consecutive tiles, but I'm not sure what's the best way to implement this (maybe use an external file to describe the 2D areas?). And also an option to encode 8x16 tiles.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Fri Nov 12, 2010 10:42 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Graphic Converters</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent">This was the best way I could find to use multiple palettes in my images.</div><br />I just make sure all my palettes are in the same order sky, dark, medium, light (or sky, light, medium, dark if it's better), and then draw everything in shades of black, gray, and white.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">A feature I miss in graphic converters is the option of encoding two-dimensional areas into consecutive tiles, but I'm not sure what's the best way to implement this (maybe use an external file to describe the 2D areas?). And also an option to encode 8x16 tiles.</div>
<br />I seem to remember that one of my converters supports "metatile width" and "metatile height" on the command line. Thus you can get your 8x16 or 8x32 for NES, or a 16x16 or 32x32 that works well for scrolling map background tiles or Genesis/GBA style 1D sprite tile mapping.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Fri Nov 12, 2010 11:21 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES Graphic Converters</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">I just make sure all my palettes are in the same order sky, dark, medium, light (or sky, light, medium, dark if it's better), and then draw everything in shades of black, gray, and white.</div><br />I used to do something similar, but looking at everything with the same palette isn't a good preview of what the end result is going to look like. I like to work with the actual colors, and having to replace them all before converting is a much biger pain than creating the palette and attribute images my converter uses.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I seem to remember that one of my converters supports "metatile width" and "metatile height" on the command line. Thus you can get your 8x16 or 8x32 for NES, or a 16x16 or 32x32 that works well for scrolling map background tiles or Genesis/GBA style 1D sprite tile mapping.</div>
<br />I considered doing something like this, but that's not versatile enough. I could use the same approach I used for the palettes, and allow an extra image to describe tile groups. The dimensions of this image would be 8 times smaller than the image with the tiles, and pixels with the same color would mean tiles of the same group. This way I could even encode irregular shapes (no need to use only squares and rectangles). But what would be the best way to specify the order in which groups are encoded? Maybe the brightness of the colors used to specify the groups. I'd also need to find a way to specify the metatile dimensions for each group. Maybe I could add some meaning to the RGB values of the group colors, like R = group priority, G = metatile width, B = metatile height.
<br />
<br />I use MS paint to draw all my sprites, because I'm not comfortable with the constraints imposed by traditional tile editors, which IMO encourage the designing of blocky graphics. So the ideas above are an attempt to use the same image for both drawing and converting, without the need to "export" (rearrange the individual tiles and replace colors) anything before conversion.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>neilbaldwin</b> [ Sat Nov 13, 2010 2:39 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />@tepples: Quick question, are your Python tools compatible with Python 3.x? I'd like to update Python (I'm currently on 2.7) but I'm aware of the situation with non-backwards-compatibility that arose with 3.x onwards.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Sat Nov 13, 2010 10:17 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I've developed them on Python 2.6, and as I understand it, anything that works on Python 2.6 should be easily fixed for compatibility with 3.x after a round of 2to3. Feel free to report problems here.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>