<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Features of NES/Famicom Emulator</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Features of NES/Famicom Emulator</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=3&amp;t=7966">http://forums.nesdev.com/viewtopic.php?f=3&amp;t=7966</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>3</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>zzo38</b> [ Tue Jul 12, 2011 5:46 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Features of NES/Famicom Emulator</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />My opinion is that it would be good to have these features (some can apply for emulation of other systems too)<ul><li>Accuracy</li><li>Speed</li><li>Memory viewer and modification</li><li>Quick save states</li><li>Enter cheat/debug codes of various types (even for NSF)<ul><li>Modify ROM value persistently</li><li>Modify RAM value persistently</li><li>Modify RAM value conditionally</li><li>Watchpoint of RAM</li><li>Breakpoint of program code</li></ul></li><li>Key configuration</li><li>Joystick support</li><li>Wii remote support</li><li>Network support</li><li>Load ROM from iNES file (or other formats)</li><li>Emulate system with external cartridge</li><li>Act as a cartridge</li><li>Famicom Disk System</li><li>Famicom Keyboard</li><li>Zapper</li><li>Connect any input device to any controller port (even if not normally used on that port)</li><li>NTSC/PAL switch</li><li>Record (and play back) a file with changes to a range of memory (including number of frames) with the range that the user can specify</li><li>Write Forth codes for various purposes<ul><li>Override an existing mapper or program a new mapper</li><li>Make a new input device emulation</li><li>Make a expansion device emulation</li><li>Write macros</li></ul></li><li>Emulate arcade system</li><li>Quick reload same ROM file (in case you have made changes)</li><li>View nametable, tiles, palettes</li><li>Record which positions of memory (including specifyable conditions, such as ROM banks) are used as instructions, operands to instructions, data, jump targets</li><li>Turn off individual audio channels</li><li>Emulate stereo NES modification</li><li>Turn off sprites/background individually</li><li>Copy text from nametables (using translation table specified by user)</li><li>Change aspect ratio</li><li>Crop the view, to see how it would work on TV screens that do not display the pictures on edges</li><li>Literate programming (such as Enhanced CWEB, for example; or INWEB if you prefer that one) to make the book of how the program works and all of its features and so on</li><li>License free-software/open-source</li><li>Include wiring diagrams</li><li>Debugger</li><li>Screen shot</li><li>Single frame advance</li><li>Paste Famicom keyboard input from clipboard</li><li>Support no-sprite-limit</li><li>RAM filter search (cheat code helper)</li><li>Low-level PPU debugging details</li><li>Software scaling (inhibit use of scaling interpolation causing blurry pictures)</li><li>In case of audio pass filter, allow disabling filters</li><li>Emulator should support properly-implemented VSync in windowed mode, as best as possible</li><li>Single instruction advance</li><li>Header editor</li></ul>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dwedit</b> [ Tue Jul 12, 2011 6:03 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />That's a pretty tall order here... FCEUX has many of these features, but still has some accuracy problems.
<br />
<br />Some of these features are completely out of the question (Act as a NES cartridge?). 
<br />
<br />FCEUX even has the "Copy text from nametables" feature.  (But you need to make a TBL file first)
<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"> Erdrick, listen now  <br /> to my words.'         <br />                      <br />`It is told that in   <br /> ages past Erdrick    <br /> fought demons with a <br /> Ball of Light.'       </div>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Shiru</b> [ Tue Jul 12, 2011 6:13 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I'd trade half of the list to a debugger.
<br />
<br />Also, screenshot and frame advance features not considered a must?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>zzo38</b> [ Tue Jul 12, 2011 7:02 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Shiru wrote:</div><div class="quotecontent">I'd trade half of the list to a debugger.<br /><br />Also, screenshot and frame advance features not considered a must?</div>I forgot those things now I will put them in.
<br />
<br />I can think of a few uses of this kind of recording features, such as, make file of audio using NES/Famicom audio registers, record input to play back later, or even record RAM if you have a purpose to do so.
<br />
<br />I have seen that FCEUX does have many of these features but not all, and some are difference anyways than this.
<br />
<br />For using Forth codes to define a mapper (the built-in mappers would be defined in C, not Forth), the following words might be provided (in addition to standard Forth words):<div class="codetitle"><b>Code:</b></div><div class="codecontent">'ROM@ - Variable storing XT of word taking &#40; mem-addr -- byte-value &#41; when reading cartridge memory<br />'ROM! - Variable storing XT of word taking &#40; byte-value mem-addr -- &#41; when writing cartridge memory<br />'CHR@ - Variable storing XT of word for reading CHR ROM &#40; mem-addr -- byte-value &#41;<br />#FRAME - Returns number of frames<br />STATUS - Type text on the status area<br />FILE@ - Read byte from file using random-access<br /></div>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>koitsu</b> [ Tue Jul 12, 2011 7:45 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Please add the following to the list:
<br />
<br />* Cheat code helper; specifically the one implemented <a href="http://www.the-interweb.com/serendipity/index.php?/archives/90-Release-of-FCEUXD-SP-1.07.html" class="postlink">in this version of FCEUX SP</a>.  It "makes sense" and is easy to use.
<br />
<br />* Low-level PPU debugging details; internal scanline counter, things like that.
<br />
<br />* Should support rendering to off-GPU buffer (e.g. system RAM), to inhibit use of scaling interpolation.  Sometimes this is called "software scaling".  (Some of us run emulators in "2x size" mode, where a 256x256 window is rendered as 512x512 and we don't like blurry graphics -- I much prefer the pixellated look!).
<br />
<br />* Emulator should support properly-implemented VSync in windowed mode, as best as possible.
<br />
<br />* If any audio filtering mechanisms (e.g. low-pass, high-pass, etc.) are offered, make sure they are toggle-able.
<br />
<br />* .NES header editor (to toggle bits, etc.).  Should support/work with NES 2.0 header format too.
<br />
<br />* Should support "no-sprite-limit".
<br />
<br />And I strongly agree with a frame-advance debugger option.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>cpow</b> [ Tue Jul 12, 2011 7:50 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">koitsu wrote:</div><div class="quotecontent">And I strongly agree with a frame-advance debugger option.</div>
<br />
<br />By this do you mean the ability to "step" to the same PPU cycle in the next PPU frame?  Or am I thinking something else?  I think I'll add that to nesicide...easy 'nuff.  Oh, and thanks for the reminder re toggleable sprite limiting.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>koitsu</b> [ Tue Jul 12, 2011 8:45 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />PPU frame.
<br />
<br />"Run until next NMI" would be another option, usually hand-in-hand with the aforementioned PPU frame description.  I've run into situations where I need to watch what an individual NMI is doing each iteration yet can't when the emulator doesn't support it...

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Tue Jul 12, 2011 8:52 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">koitsu wrote:</div><div class="quotecontent">"Run until next NMI"</div>
<br />This can be easily achieved with a breakpoint.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Tue Jul 12, 2011 9:54 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Which reminds me of something I had suggested for the debugger in NESICIDE: <a href="http://nesdev.com/bbs/viewtopic.php?p=64768#64768" class="postlink">generalization of breakpoints</a> into tintpoints, logpoints, soundpoints, etc.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Zepper</b> [ Tue Jul 12, 2011 10:06 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />And what emulator do you expect to see such billions of things? A WonderNES?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>zzo38</b> [ Tue Jul 12, 2011 10:35 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">koitsu wrote:</div><div class="quotecontent">Please add the following to the list:<br /><br />* Cheat code helper; specifically the one implemented <a href="http://www.the-interweb.com/serendipity/index.php?/archives/90-Release-of-FCEUXD-SP-1.07.html" class="postlink">in this version of FCEUX SP</a>.  It "makes sense" and is easy to use.<br /><br />* Low-level PPU debugging details; internal scanline counter, things like that.<br /><br />* Should support rendering to off-GPU buffer (e.g. system RAM), to inhibit use of scaling interpolation.  Sometimes this is called "software scaling".  (Some of us run emulators in "2x size" mode, where a 256x256 window is rendered as 512x512 and we don't like blurry graphics -- I much prefer the pixellated look!).<br /><br />* Emulator should support properly-implemented VSync in windowed mode, as best as possible.<br /><br />* If any audio filtering mechanisms (e.g. low-pass, high-pass, etc.) are offered, make sure they are toggle-able.<br /><br />* .NES header editor (to toggle bits, etc.).  Should support/work with NES 2.0 header format too.<br /><br />* Should support "no-sprite-limit".<br /><br />And I strongly agree with a frame-advance debugger option.</div>I agree with these things (although I am unsure if .NES header editor is needed, but I will add it anyways).<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">"Run until next NMI"<br /><br />This can be easily achieved with a breakpoint.</div>Yes in most cases. (In cases where the NMI routine would be entered through something else, it won't; but if it is a game you wrote, you can recode it easily)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>koitsu</b> [ Wed Jul 13, 2011 2:52 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />One of the reasons I requested a run-until-next-NMI option is because of games like Wai Wai World, which actually swaps out $C000-FFFF in real-time.  The NMI vector contained in those PRG pages is not a consistent value.  This really drove me apeshit.  :-)
<br />
<br />A breakpoint would be have to be changed rigorously by the individual doing the debugging.  Otherwise you're absolutely right tokumaru, a breakpoint would be sufficient (but make it easy on the person doing the debugging; show NMI/RESET/IRQBRK vectors in the debugging window somewhere!)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Wed Jul 13, 2011 3:05 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">koitsu wrote:</div><div class="quotecontent">A breakpoint would be have to be changed rigorously by the individual doing the debugging.  Otherwise you're absolutely right tokumaru, a breakpoint would be sufficient (but make it easy on the person doing the debugging; show NMI/RESET/IRQBRK vectors in the debugging window somewhere!)</div>
<br />In Nintendulator it's possible to put breakpoint on the NMI specifically (i.e. it's not dependant on the value of the vector).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>cpow</b> [ Wed Jul 13, 2011 4:49 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">koitsu wrote:</div><div class="quotecontent">One of the reasons I requested a run-until-next-NMI option is because of games like Wai Wai World, which actually swaps out $C000-FFFF in real-time.  The NMI vector contained in those PRG pages is not a consistent value.  This really drove me apeshit.  <img src="./images/smilies/icon_smile.gif" alt=":-)" title="Smile" /><br /><br />A breakpoint would be have to be changed rigorously by the individual doing the debugging.  Otherwise you're absolutely right tokumaru, a breakpoint would be sufficient (but make it easy on the person doing the debugging; show NMI/RESET/IRQBRK vectors in the debugging window somewhere!)</div>
<br />
<br />In NESICIDE you can set a breakpoint:
<br />
<br />1. When the PPU sets $2002.8 (although I broke this one recently...I'll fix it!)
<br />2. When the PPU asserts NMI.
<br />3. When the CPU vectors to the NMI handler.
<br />
<br />The NMI breakpoints above are independent of the code location of the NMI handler.  You can of course set a code execution breakpoint somewhere in NMI handler, too.
<br />
<br />EDIT: Ok I fixed the first breakpoint type but me dang website be down...so no update available (yet).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Wed Jul 13, 2011 7:26 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Zepper wrote:</div><div class="quotecontent">And what emulator do you expect to see such billions of things? A WonderNES?</div><br />Is that the new name for RockNES? <img src="./images/smilies/icon_razz.gif" alt=":P" title="Razz" /><br /><br />But seriously, my first guess was that someone was working on a "Comparison of NES emulators" article on wiki.nesdev.com, sort of a counterpart to the various "Comparison of..." articles on Wikipedia.<br /><br /><div class="quotetitle">koitsu wrote:</div><div class="quotecontent">One of the reasons I requested a run-until-next-NMI option is because of games like Wai Wai World, which actually swaps out $C000-FFFF in real-time.</div><br />Then put a breakpoint on reading $FFFA.<br /><br /><div class="quotetitle">koitsu wrote:</div><div class="quotecontent">show NMI/RESET/IRQBRK vectors in the debugging window somewhere!)</div>
<br />In FCEUX for Windows, scroll to the bottom of the "Hex Editor".

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>3</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>