<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - NES effectively 480p w/ black every other line &amp; 2x bright</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">NES effectively 480p w/ black every other line &amp; 2x bright</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=9&amp;t=9922">http://forums.nesdev.com/viewtopic.php?f=9&amp;t=9922</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>5</strong> of <strong>6</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Sat Mar 23, 2013 2:45 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES effectively 480p w/ black every other <span class="posthilit">line</span> &amp; 2x brig</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Here's a quick test:<br />I set my camera (Canon non-ELPH S100, ISO 80, F/8.0, 1/30s) on a &quot;tripod&quot; (chair), started a game using FCEUGX (which supports toggling between 240p and 480i), and cropped out a portion of both. 1/30s exposure was chosen to combine two fields.<br /><br />All the differences on screen, including the brightness difference, is visible in the green and blue phosphors. The red phosphor used in CRTs is known to be very different; ( <!-- m --><a class="postlink" href="http://en.wikipedia.org/wiki/File:CRT_phosphors.png">http://en.wikipedia.org/wiki/File:CRT_phosphors.png</a><!-- m --> ) I have no other explanation.

		
			<br clear="all" /><br />

			<table class="tablebg" width="100%" cellspacing="1">
			<tr>
				<td><b class="genmed">Attachments: </b></td>
			</tr>
			
				<tr>
					<td>
			<img src="./download/file.php?id=517" alt="240p-vs-480i.gif" /><br />
			<span class="gensmall">240p-vs-480i.gif [ 97.27 KiB | Viewed 695 times ]</span>
		

		<br />
	</td>
				</tr>
			
			</table>
		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>HardWareMan</b> [ Sun Mar 24, 2013 1:22 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES effectively 480p w/ black every other <span class="posthilit">line</span> &amp; 2x brig</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">blargg wrote:</div><div class="quotecontent">Please explain this picture (2x_bright.nes):<br /><img src="http://savepic.ru/4342473.jpg" alt="Image" /></div><br /><a href="http://en.wikipedia.org/wiki/Optical_illusion" class="postlink">Optical illusion</a>?<br /><img src="http://upload.wikimedia.org/wikipedia/commons/thumb/1/1e/Gradient-optical-illusion.svg/320px-Gradient-optical-illusion.svg.png" alt="Image" /><br /><img src="http://upload.wikimedia.org/wikipedia/commons/9/93/Optical_illusion_greysquares.gif" alt="Image" /><br />If you ask how it can be captured by camera, I can't explain but I saw different strange things. It depends on how sensor of camera are made.<br />Just an variant, did you measured brightness by any device?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>blargg</b> [ Sun Mar 24, 2013 10:33 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES effectively 480p w/ black every other <span class="posthilit">line</span> &amp; 2x brig</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Whatever floats your boat.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Drag</b> [ Sun Mar 31, 2013 11:14 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES effectively 480p w/ black every other <span class="posthilit">line</span> &amp; 2x brig</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Just for kicks, let me see if I can reword Blargg's original explanation so it's easier to grasp.<br /><br />A CRT TV expects a 480i signal, so the screen has enough space to draw 480 scanlines on the screen (ignore overscan for right now). The way you draw a 480i picture is by telling the TV you're sending the odd scanlines (and then you send them), and then telling the TV you're sending the even scanlines (and then you send them). This means, every vblank, you alternate between drawing the odd scanlines and the even scanlines. Yes, that means you can only draw a full 480-resolution picture at 30 frames per second, <em>not</em> 60.<br /><br />Instead of alternating between drawing the odd scanlines and drawing the even scanlines, the NES creates a &quot;240p&quot; resolution by repeatedly telling the TV that it's sending the odd scanlines. So, in place of drawing even scanlines, it draws on the odd scanlines again. That means, the odd scanlines are drawn at 60 frames per second, instead of the usual 30 frames per second. Because of that, the phosphors get drawn on twice as much as they're supposed to. That doesn't necessarily mean they are twice as bright, but they're <em>most likely</em> brighter than 1x.<br /><br />The TV doesn't know that this is happening, because it only does what it's told. The SIGNAL tells it to draw the even or the odd scanlines. If the signal is only telling it to draw odd scanlines, then that's what happens. The odd scanlines get updated at twice their usual rate, while the even scanlines stay blank. There's no &quot;command&quot; you can send to the TV to tell it to switch into some kind of 240p-mode, so the scanlines are <em>always</em> skinny enough to allow 480 of them on the screen, even if the signal is only using half of them. That's why you see those familiar black lines on the screen.<br /><br /><br /><br />So in summary: The TV <em>always</em> expects to be drawing 480 scanlines on the screen. To draw 480 scanlines, you alternate between odd and even scanlines each vblank, which creates a refresh rate of <em>30 fps</em>. Instead of drawing even scanlines, the NES draws OVER the odd scanlines again, creating a refresh rate of 60 fps, but a <span class="posthilit">vertical</span> resolution of 240. Since the odd scanlines are being drawn twice as often as usual, they're brighter (not necessarily 2x, but most likely brighter than 1x). Since the TV is <em>still</em> expecting to draw 480 scanlines, the odd scanlines are skinny enough for the even scanlines to fit between them, even though the even scanlines never get drawn (they stay blank).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Mon Apr 01, 2013 12:06 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES effectively 480p w/ black every other <span class="posthilit">line</span> &amp; 2x brig</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Drag wrote:</div><div class="quotecontent">That doesn't necessarily mean they are twice as bright, but they're <em>most likely</em> brighter than 1x.</div>To look at it another way: The <em>total time spent drawing</em> is the same, regardless of whether proper 480i or &quot;240p&quot; input is given. So the <em>total brightness</em> is the same. But because every scanline is either drawn twice or never at all, the illuminated scanlines will emit twice as many photons, and in human logarithmic perception, a single scanline's brightness will be seen as somewhere between 1x and 2x brighter.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>TmEE</b> [ Mon Apr 01, 2013 2:28 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES effectively 480p w/ black every other <span class="posthilit">line</span> &amp; 2x brig</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><img src="http://www.tmeeco.eu/BitShit/MoreAverageNotMoreAbsolute.jpg" alt="Image" /><br /><br />Left would be an &quot;interlaced&quot; <span class="posthilit">line</span>, rest would be &quot;non interlaced&quot;. <br />Absolute brightness won't increase, average over some period of time would. To increase absolute brightness you would have to increase beam intensity and that is not going to happen without messing with the TV settings or video signal strength.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>HardWareMan</b> [ Mon Apr 01, 2013 3:01 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES effectively 480p w/ black every other <span class="posthilit">line</span> &amp; 2x brig</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />OK, your idea is very clear: PWM effect. And to be honest, square of glowing phosphors are different in 240p and 480i modes.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>blargg</b> [ Mon Apr 01, 2013 8:16 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES effectively 480p w/ black every other <span class="posthilit">line</span> &amp; 2x brig</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Drag, thanks for your rewording, especially the part about the TV having no &quot;command&quot; for progressive and thus leaving room for the other field even though it never comes.<br /><br />The test ROM I posted shows that they are twice as bright, because at a distance the TV looks like a solid shade, even though the 8-pixel-wide columns alternating between being drawn as progressive and essentially interlace (magnified).<br /><br />I'm not sure why technical definitions of brightness (peak) are being brought in, since they are not relevant to the appearance to a human (or camera with a 1/30 sec or longer shutter). If we talk about what's technically happening, there is a big burst of immense brightness, then near black for a relatively long time. If we zoom in even more, each phosphor molecule is probably outputting TOTAL BLACK, then suddenly a single photon, then total black, then another photon, etc. such that there are is only a binary of brightness, either nothing or a measly photon's worth (OK, so the wavelength of the photon determines energy, so the red ones have less than the blue ones AFAIK). So clearly it's <em>impossible</em> for there ever to be anything brighter than a photon, unless you look at the aggregate over time... which is exactly what's being done when you look at it in say 1-msec segments and see a rising and then falling profile of illumination, and when I look at it at 1/30 sec segments of time and see a higher average illumination for the progressive lines. It's just a question of the <em>arbitrary</em> length of time you measure the number of photons emitted.<br /><br />There is no correct level to look at what's &quot;really&quot; happening. Looking at it at the millisecond, aggregate level is no more correct than the atomic level (or subatomic), or the human perception/camera level. There is a level that's relevant to understanding and recreating what humans see when playing a NES on a TV (and why), and that's the level I was discussing things on.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Mon Apr 01, 2013 9:22 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES effectively 480p w/ black every other <span class="posthilit">line</span> &amp; 2x brig</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />From a purely photometric standpoint, each scanline of 240p (called &quot;double strike&quot; mode in purported Nintendo documents) probably emits exactly twice as much light power as each scanline of 480i. The reason it appears less than twice as bright is because as programmers, we're used to &quot;twice as bright&quot; meaning &quot;twice as much voltage&quot;. But twice as much voltage produces roughly four times as much power, as power is the square of voltage for a given impedance. (It's not so simple in CRTs, as the gamma is slightly greater than 2.0 for various reasons.) Under this power-law assumption that perceived brightness is the square root of light power, the individual lines are as bright probably closer to 1.4 times as bright.<br /><br /><br />(I just got Rickrolled by WLDE.)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>HardWareMan</b> [ Mon Apr 01, 2013 10:07 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES effectively 480p w/ black every other <span class="posthilit">line</span> &amp; 2x brig</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />OK. For all you people, I've found interesting clip, that show basics of CRT TV raster:<br /><!-- m --><a class="postlink" href="http://www.youtube.com/watch?v=lRidfW_l4vs">http://www.youtube.com/watch?v=lRidfW_l4vs</a><!-- m --><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">This is a popular request for a TV scanning. shot at 10,000 FPS and played back at 24 FPS the TV refreashes @ 29.97 FPS. GOOD NEWS NOW YOU CAN DOWNLOAD MOST OF YOUR FAVORATE ULTRASLO CLIPS ON YOUTUBE. This will help us produce more clips for your viewing pleasure. </div><br />Notice: red fades much longer, than green and blue.<br /><br />As you can see, phosphors are extinguished much quicker, than most of you think. First picture tubes have long afterglow, that slightly smoothed flicker. They has phosphors afterglows almost at half of screen. Short afterglow is need for high refresh rates (FPS) TVs (or CRT monitors).<br /><br />Conclusion. Consider phosphor as capacitor, that charges short strong pulse of energy. Thus 240p refreshes twice quicker and this capacitor dont have much time to discharge fully. So, with same charge energy it has more energy for fill time gaps between charge pulses, that may be looks like as slightly higher luminance. This is typical and correlates with diagrams that provided by TmEE. PWM effect.<br /><br />Ah, one more thing. From my an electronics past, that fresh tube main anode current are almost static and limited at 1mA. So, definitely phosphor charge energy impuls are almost static.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>blargg</b> [ Mon Apr 01, 2013 10:13 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES effectively 480p w/ black every other <span class="posthilit">line</span> &amp; 2x brig</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />This thread is comical, like two people speaking different languages talking past each other.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>drk421</b> [ Sat Nov 02, 2013 10:48 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES effectively 480p w/ black every other <span class="posthilit">line</span> &amp; 2x brig</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Sorry to dig up old bones, but I had a discussion with a friend of mine about this.<br /><br />Does anyone know what part of the NTSC signal determines which &quot;field&quot; you draw? (most of you are calling it scanlines)<br /><br />I tried to find info about the NTSC spec about the field, but came up short.<br /><br />I was considering looking through some of the open source AVR projects that generate a 240p signal in software and seeing what they're doing in the code...<br /><br />EDIT: I think I may have found the answer:<br /><br /><!-- m --><a class="postlink" href="https://sites.google.com/site/h2obsession/CBM/C128/Interlace">https://sites.google.com/site/h2obsessi ... /Interlace</a><!-- m --><br /><br />Which lead me to this:<br /><!-- m --><a class="postlink" href="https://docs.google.com/a/54.org/viewer?url=http://www.theonlineengineer.org/DownLoadDocs/NTSC_V_Sync.pdf">https://docs.google.com/a/54.org/viewer ... V_Sync.pdf</a><!-- m --><br /><br />Is it that simple?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Sun Nov 03, 2013 12:48 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES effectively 480p w/ black every other <span class="posthilit">line</span> &amp; 2x brig</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Interlacing is the result of the hsync frequency not being an integer multiple of the vsync frequency. It's also the reason for the equalizing pulses during the <span class="posthilit">vertical</span> blanking interval.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Drag</b> [ Sun Nov 03, 2013 1:19 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES effectively 480p w/ black every other <span class="posthilit">line</span> &amp; 2x brig</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />It just depends on the timing of the vblank.<br /><br />To draw an interlaced picture, you draw 262.5 scanlines, the end (or beginning) of which is vblank. That half-scanline is what creates the interlacing; vblank alternates between the beginning of a scanline and the middle of a scanline, which causes the next frame to alternate between starting at the top-left of the screen, and the top-center.<br /><br />This is important because scanlines actually slant <em>downward</em> slightly. This is because the electron gun in the television is always moving down, regardless of whether you're in hblank or not; otherwise you'd never reach the bottom of the screen. When you start drawing at the top-center of the screen, the resulting half-scanline is <em>above</em> the scanline you would've been drawing had you started at the top-left. Each subsequent scanline is offset in the same way, until the next vblank.<br /><br />To draw a non-interlaced picture (240p in other words), you have to either drop the half scanline, or extend it into a full scanline. In other words, always draw 262 or always draw 263 scanlines (again, the end (or beginning) of which is vblank).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>drk421</b> [ Sun Nov 03, 2013 9:41 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES effectively 480p w/ black every other <span class="posthilit">line</span> &amp; 2x brig</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Drag wrote:</div><div class="quotecontent">To draw a non-interlaced picture (240p in other words), you have to either drop the half scanline, or extend it into a full scanline. In other words, always draw 262 or always draw 263 scanlines (again, the end (or beginning) of which is vblank).</div><br /><br />So which method does the NES use?

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>5</strong> of <strong>6</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>