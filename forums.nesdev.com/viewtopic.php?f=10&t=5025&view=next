<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<link rel="icon" href="/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />

<title>nesdev.com &bull; View topic - Need help with my first code please.</title>

<link rel="alternate" type="application/atom+xml" title="Feed - nesdev.com" href="http://forums.nesdev.com/feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - News" href="http://forums.nesdev.com/feed.php?mode=news" /><link rel="alternate" type="application/atom+xml" title="Feed - All forums" href="http://forums.nesdev.com/feed.php?mode=forums" /><link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="http://forums.nesdev.com/feed.php?mode=topics" /><link rel="alternate" type="application/atom+xml" title="Feed - Active Topics" href="http://forums.nesdev.com/feed.php?mode=topics_active" /><link rel="alternate" type="application/atom+xml" title="Feed - Forum - Newbie Help Center" href="http://forums.nesdev.com/feed.php?f=10" /><link rel="alternate" type="application/atom+xml" title="Feed - Topic - Need help with my first code please." href="http://forums.nesdev.com/feed.php?f=10&amp;t=5025" />

<link rel="stylesheet" href="./style.php?id=1&amp;lang=en" type="text/css" />

<script type="text/javascript">
// <![CDATA[


function popup(url, width, height, name)
{
	if (!name)
	{
		name = '_popup';
	}

	window.open(url.replace(/&amp;/g, '&'), name, 'height=' + height + ',resizable=yes,scrollbars=yes,width=' + width);
	return false;
}

function jumpto()
{
	var page = prompt('Enter the page number you wish to go to:', '1');
	var per_page = '';
	var base_url = '';

	if (page !== null && !isNaN(page) && page == Math.floor(page) && page > 0)
	{
		if (base_url.indexOf('?') == -1)
		{
			document.location.href = base_url + '?start=' + ((page - 1) * per_page);
		}
		else
		{
			document.location.href = base_url.replace(/&amp;/g, '&') + '&start=' + ((page - 1) * per_page);
		}
	}
}

/**
* Find a member
*/
function find_username(url)
{
	popup(url, 760, 570, '_usersearch');
	return false;
}

/**
* Mark/unmark checklist
* id = ID of parent container, name = name prefix, state = state [true/false]
*/
function marklist(id, name, state)
{
	var parent = document.getElementById(id);
	if (!parent)
	{
		eval('parent = document.' + id);
	}

	if (!parent)
	{
		return;
	}

	var rb = parent.getElementsByTagName('input');
	
	for (var r = 0; r < rb.length; r++)
	{
		if (rb[r].name.substr(0, name.length) == name)
		{
			rb[r].checked = state;
		}
	}
}



// ]]>
</script>
</head>
<body class="ltr">

<a name="top"></a>

<div id="wrapheader">

	<div id="logodesc">
	</div>

	<div id="menubar">

		<table width="100%" cellspacing="0">
		<tr>
			<td rowspan="2"><a href="./index.php"><img src="./styles/subsilver2/imageset/site_logo.gif" alt="" title="" /></a></td>
			<td width="100%" align="center"><h1>nesdev.com</h1><span class="gen">NES Development and Strangulation Records message boards</span></td>
		</tr>
		<tr>
			<td align="center">
				<a href="./faq.php"><img src="./styles/prosilver/theme/images/icon_mini_faq.gif" width="12" height="13" alt="*" /> FAQ</a>
				&nbsp; &nbsp;<a href="./search.php"><img src="./styles/prosilver/theme/images/icon_mini_search.gif" width="12" height="13" alt="*" /> Search</a>
				<br />	
				 &nbsp;<a href="./ucp.php?mode=register"><img src="./styles/prosilver/theme/images/icon_mini_register.gif" width="12" height="13" alt="*" /> Register</a>
					&nbsp; &nbsp;<a href="./ucp.php?mode=login"><img src="./styles/prosilver/theme/images/icon_mini_login.gif" width="12" height="13" alt="*" /> Login</a>&nbsp;
			</td>
		</tr>
		</table>
	</div>

	<div id="datebar">
		<table width="100%" cellspacing="0">
		<tr>
			<td class="gensmall"></td>
			<td class="gensmall" align="right">It is currently Thu Aug 30, 2012 8:09 pm<br /></td>
		</tr>
		</table>
	</div>

</div>

<div id="wrapcentre">

	
	<p class="searchbar">
		<span style="float: left;"><a href="./search.php?search_id=unanswered">View unanswered posts</a> | <a href="./search.php?search_id=active_topics">View active topics</a></span>
		
	</p>
	

	<br style="clear: both;" />

	<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=24">NES / Famicom</a> &#187; <a href="./viewforum.php?f=10">Newbie Help Center</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>

	<br />

<div id="pageheader">
	<h2><a class="titles" href="./viewtopic.php?f=10&amp;t=5035">Need help with my first code please.</a></h2>


	<p class="moderators">Moderator: <a href="./memberlist.php?mode=group&amp;g=320">Moderators</a></p>

</div>

<br clear="all" /><br />

<div id="pagecontent">

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=10"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=10&amp;t=5035"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>1</strong> of <strong>1</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 15 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"></td>
		
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat">
			<table width="100%" cellspacing="0">
			<tr>
				<td class="nav" nowrap="nowrap">&nbsp;
				<a href="./viewtopic.php?f=10&amp;t=5035&amp;view=print" title="Print view">Print view</a>
				</td>
				<td class="nav" align="right" nowrap="nowrap"><a href="./viewtopic.php?f=10&amp;t=5035&amp;view=previous">Previous topic</a> | <a href="./viewtopic.php?f=10&amp;t=5035&amp;view=next">Next topic</a>&nbsp;</td>
			</tr>
			</table>
		</td>
	</tr>

	</table>


	<table class="tablebg" width="100%" cellspacing="1">
	
		<tr>
			<th>Author</th>
			<th>Message</th>
		</tr>
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p45348"></a>
				<b class="postauthor">Ealdor</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p45348">Need help with my first code please.</a></div><div style="float: right;"><a href="./viewtopic.php?p=45348#p45348"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Apr 08, 2009 9:56 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=3876.jpg" width="90" height="90" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Wed Apr 08, 2009 9:42 am<br /><b>Posts:</b> 20<br /><b>Location:</b> Spain
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">First of all, hi all im new in nesdev (great site and community btw).
<br />
<br />In new in NES programming and for my first program i tried to show some tiles of a chr file (tiles.chr) in the screen. Here is my code so far (im using asm6):
<br />
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">.DB &quot;NES&quot;, $1A<br />.DB $01<br />.DB $01<br />.DB %00000000, %00000000<br />.DB $00, $00, $00, $00, $00, $00, $00, $00<br /><br />.org $C000<br /><br />reset: sei<br />&nbsp; &nbsp; &nbsp; &nbsp;cld<br /><br />-&nbsp; &nbsp; &nbsp; lda $2002<br />&nbsp; &nbsp; &nbsp; &nbsp;bpl -<br />-&nbsp; &nbsp; &nbsp; lda $2002<br />&nbsp; &nbsp; &nbsp; &nbsp;bpl -<br /><br />&nbsp; &nbsp; &nbsp; &nbsp;lda #$3F<br />&nbsp; &nbsp; &nbsp; &nbsp;ldx #$00<br />&nbsp; &nbsp; &nbsp; &nbsp;sta $2006<br />&nbsp; &nbsp; &nbsp; &nbsp;stx $2006<br />-&nbsp; &nbsp; &nbsp; lda pallete,x<br />&nbsp; &nbsp; &nbsp; &nbsp;sta $2007<br />&nbsp; &nbsp; &nbsp; &nbsp;inx<br />&nbsp; &nbsp; &nbsp; &nbsp;cpx #$32<br />&nbsp; &nbsp; &nbsp; &nbsp;bne -<br /><br />&nbsp; &nbsp; &nbsp; &nbsp;lda #$20<br />&nbsp; &nbsp; &nbsp; &nbsp;sta $2006<br />&nbsp; &nbsp; &nbsp; &nbsp;sta $2006<br />&nbsp; &nbsp; &nbsp; &nbsp;lda #$01<br />&nbsp; &nbsp; &nbsp; &nbsp;sta $2007<br />&nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp;lda #%10001000<br />&nbsp; &nbsp; &nbsp; &nbsp;sta $2000<br />&nbsp; &nbsp; &nbsp; &nbsp;lda #%00011110<br />&nbsp; &nbsp; &nbsp; &nbsp;sta $2001<br /><br />&nbsp; &nbsp; &nbsp; &nbsp;cli<br /><br />loop:&nbsp; jmp loop<br /><br />irq:&nbsp; &nbsp;rti<br /><br />pallete:<br />.byte $0D,$00,$28,$01,$0D,$00,$10,$20,$0D,$20,$08,$06,$0D,$22,$28,$2D<br />.byte $0D,$38,$0D,$01,$0D,$30,$07,$1A,$0D,$06,$16,$26,$0D,$31,$32,$33<br /><br />.pad $FFFA<br />.DW 0, reset, irq<br /><br />.include &quot;tiles.chr&quot;</div><br /><br />I expected to see the first tile of the chr file in the screen but all i got is a grey screen in the emulator, dont know whats is wrong.<br /><br />Also i want to ask if i can put an attribute table after the ".include .chr", something like this:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">.byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00<br />.byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00<br />.byte $00,$00,$00,$00,$00,$00,$00,$00,$F0,$F0,$F0,$F0,$F0,$F0,$F0,$F0<br />.byte $FF,$FF,$FF,%FF,$FF,$FF,$FF,$FF,$0F,$0F,$0F,$0F,$0F,$0F,$0F,$0F</div>
<br />
<br />Thanks in advance.
<br />
<br />PS: im from Spain, sorry for my english.</div>

					
							<br /><br />
							<span class="gensmall">Last edited by <a href="./memberlist.php?mode=viewprofile&amp;u=3876">Ealdor</a> on Wed Apr 08, 2009 12:04 pm, edited 4 times in total.</span>
						<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3876"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p45350"></a>
				<b class="postauthor">Bregalad</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p45350"></a></div><div style="float: right;"><a href="./viewtopic.php?p=45350#p45350"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Apr 08, 2009 10:04 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=38.jpg" width="60" height="60" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Nov 12, 2004 2:49 pm<br /><b>Posts:</b> 5143<br /><b>Location:</b> Jongny, VD, Switzerland
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">You should replace in palette loading rotine "cpx #$32" by either "cpx #32" or "cpx #$20" and replace the $0d palette entires by $0f (the proper black color, $0d should be avoided).</div>

					
						<div class="postbody"><br />_________________<br />Life is complex: it has both real and imaginary components.</div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=38"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p45352"></a>
				<b class="postauthor">Ealdor</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p45352"></a></div><div style="float: right;"><a href="./viewtopic.php?p=45352#p45352"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Apr 08, 2009 10:33 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=3876.jpg" width="90" height="90" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Wed Apr 08, 2009 9:42 am<br /><b>Posts:</b> 20<br /><b>Location:</b> Spain
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Thanks Bregalad i fixed what you said, now i got a blue screen but no tiles in it yet.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3876"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p45365"></a>
				<b class="postauthor">Roth</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p45365"></a></div><div style="float: right;"><a href="./viewtopic.php?p=45365#p45365"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Apr 08, 2009 2:41 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="http://img.photobucket.com/albums/v287/I_am_Roth/stuff/roth.jpg" width="100" height="81" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Wed Aug 03, 2005 3:15 pm<br /><b>Posts:</b> 362
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Try storing zeroes into $2000 and $2001 after your cld command. This will make sure that the screen is off. You want the screen to be turned off before doing anything to the PPU.
<br />
<br />Is that .chr file something drawn in a tile editor? I don't know asm6 really, but I would expect there to be something to include binary data as well as files. .include is usually to include other asm files, whereas something like .incbin is for including binary files. I'm not sure what this would be in asm6, though. I might be totally off-base here, and your tiles might be drawn up in .byte form. If so, disregard that part hehe
<br />
<br />I would stick that attribute table around the palette data, I think.
<br />
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">attrib_table:<br />.byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00<br />.byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00<br />.byte $00,$00,$00,$00,$00,$00,$00,$00,$F0,$F0,$F0,$F0,$F0,$F0,$F0,$F0<br />.byte $FF,$FF,$FF,%FF,$FF,$FF,$FF,$FF,$0F,$0F,$0F,$0F,$0F,$0F,$0F,$0F<br /></div></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=174"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p45367"></a>
				<b class="postauthor">Ealdor</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p45367"></a></div><div style="float: right;"><a href="./viewtopic.php?p=45367#p45367"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Apr 08, 2009 3:15 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=3876.jpg" width="90" height="90" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Wed Apr 08, 2009 9:42 am<br /><b>Posts:</b> 20<br /><b>Location:</b> Spain
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Thanks for your response Roth.
<br />
<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Try storing zeroes into $2000 and $2001 after your cld command. This will make sure that the screen is off. You want the screen to be turned off before doing anything to the PPU.</div><br /><br />Done, but still the same result, green screen.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Is that .chr file something drawn in a tile editor?</div><br /><br />Yup, when i open the file with "YY-CHR" i can see  tiles drawn from bank 00 to bank 48.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I don't know asm6 really, but I would expect there to be something to include binary data as well as files. .include is usually to include other asm files, whereas something like .incbin is for including binary files. I'm not sure what this would be in asm6, though. I might be totally off-base here, and your tiles might be drawn up in .byte form. If so, disregard that part hehe</div>
<br />
<br />I got the example of the rom NES_101 in asm6 that loopy adapted from NESASM, and he used include ".chr".
<br />
<br />Here is my updated code:
<br />
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">.db &quot;NES&quot;, $1A<br />.db $01<br />.db $01<br />.db %00000000, %00000000<br />.db $00, $00, $00, $00, $00, $00, $00, $00<br /><br />.org $C000<br /><br />RESET: sei <br />&nbsp; &nbsp; &nbsp; &nbsp;cld <br /><br />&nbsp; &nbsp; &nbsp; &nbsp;lda #%00000000<br />&nbsp; &nbsp; &nbsp; &nbsp;sta $2000<br />&nbsp; &nbsp; &nbsp; &nbsp;lda #%00000000<br />&nbsp; &nbsp; &nbsp; &nbsp;sta $2001<br /><br />-&nbsp; &nbsp; &nbsp; lda $2002 <br />&nbsp; &nbsp; &nbsp; &nbsp;bpl - <br />-&nbsp; &nbsp; &nbsp; lda $2002<br />&nbsp; &nbsp; &nbsp; &nbsp;bpl -<br /><br />&nbsp; &nbsp; &nbsp; &nbsp;lda #$3F<br />&nbsp; &nbsp; &nbsp; &nbsp;sta $2006<br />&nbsp; &nbsp; &nbsp; &nbsp;lda #$00<br />&nbsp; &nbsp; &nbsp; &nbsp;sta $2006<br />&nbsp; &nbsp; &nbsp; &nbsp;ldx #$00<br />-&nbsp; &nbsp; &nbsp; lda PALLETE,x<br />&nbsp; &nbsp; &nbsp; &nbsp;sta $2007<br />&nbsp; &nbsp; &nbsp; &nbsp;inx<br />&nbsp; &nbsp; &nbsp; &nbsp;cpx #$20<br />&nbsp; &nbsp; &nbsp; &nbsp;bne -<br /><br />&nbsp; &nbsp; &nbsp; &nbsp;lda #$20<br />&nbsp; &nbsp; &nbsp; &nbsp;sta $2006<br />&nbsp; &nbsp; &nbsp; &nbsp;lda #$43<br />&nbsp; &nbsp; &nbsp; &nbsp;sta $2006<br />&nbsp; &nbsp; &nbsp; &nbsp;lda #$01<br />&nbsp; &nbsp; &nbsp; &nbsp;sta $2007<br />&nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp;lda #%10001000<br />&nbsp; &nbsp; &nbsp; &nbsp;sta $2000<br />&nbsp; &nbsp; &nbsp; &nbsp;lda #%00011110<br />&nbsp; &nbsp; &nbsp; &nbsp;sta $2001<br /><br />&nbsp; &nbsp; &nbsp; &nbsp;cli<br /><br />LOOP:&nbsp; jmp LOOP<br /><br />PALLETE:<br />.db $32,$01,$06,$2A,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00<br />.db $0F,$38,$0F,$01,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00<br /><br />.pad $FFFA<br />.dw 0, RESET, 0<br /><br />.include &quot;tiles.chr&quot;</div></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3876"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p45369"></a>
				<b class="postauthor">Roth</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p45369"></a></div><div style="float: right;"><a href="./viewtopic.php?p=45369#p45369"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Apr 08, 2009 3:38 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="http://img.photobucket.com/albums/v287/I_am_Roth/stuff/roth.jpg" width="100" height="81" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Wed Aug 03, 2005 3:15 pm<br /><b>Posts:</b> 362
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Ah, I found what you were talking about. I didn't even know he had adapted NES101 hehe Anyway, in it, he does this:
<br />
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">; CHR-ROM<br />.include &quot;tutorchr.asm&quot;<br /></div>
<br />
<br />If you notice, that is an .asm file that he is including. You are using a binary file for your CHR. Try .incbin and see if that changes anything. I just checked the documentation, and that is indeed what is used for binary files.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=174"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p45370"></a>
				<b class="postauthor">Ealdor</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p45370"></a></div><div style="float: right;"><a href="./viewtopic.php?p=45370#p45370"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Apr 08, 2009 3:44 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=3876.jpg" width="90" height="90" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Wed Apr 08, 2009 9:42 am<br /><b>Posts:</b> 20<br /><b>Location:</b> Spain
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">Roth wrote:</div><div class="quotecontent">Ah, I found what you were talking about. I didn't even know he had adapted NES101 hehe Anyway, in it, he does this:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">; CHR-ROM<br />.include &quot;tutorchr.asm&quot;<br /></div><br /><br />If you notice, that is an .asm file that he is including. You are using a binary file for your CHR. Try .incbin and see if that changes anything. I just checked the documentation, and that is indeed what is used for binary files.</div>
<br />
<br />Yeah, you are right is "tutorchr.asm" and not .chr. With incbin i got a black screen.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3876"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p45371"></a>
				<b class="postauthor">frantik</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p45371"></a></div><div style="float: right;"><a href="./viewtopic.php?p=45371#p45371"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Apr 08, 2009 4:01 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Tue Mar 03, 2009 3:56 pm<br /><b>Posts:</b> 295
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">it's working fine.. it's just you need to reset the scroll so you can see the tile on the screen <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />
<br />
<br />when writing to the screen, you can use FCEUD's nametable viewer to make sure everything is being written to the nametable.  it also shows the scroll markers so you can see where the window is located
<br />
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp;...<br />&nbsp; &nbsp; &nbsp; lda #$20<br />&nbsp; &nbsp; &nbsp; &nbsp;sta $2006<br />&nbsp; &nbsp; &nbsp; &nbsp;lda #$43<br />&nbsp; &nbsp; &nbsp; &nbsp;sta $2006<br />&nbsp; &nbsp; &nbsp; &nbsp;lda #$01<br />&nbsp; &nbsp; &nbsp; &nbsp;sta $2007<br /><br />; ADD THIS CODE<br />&nbsp; &nbsp;&nbsp; &nbsp; lda #$00<br />&nbsp; &nbsp;&nbsp; &nbsp; sta $2005<br />&nbsp; &nbsp;&nbsp; &nbsp; sta $2005<br />; END NEW CODE<br /><br />&nbsp; &nbsp; &nbsp; &nbsp;lda #%10001000<br />&nbsp; &nbsp; &nbsp; &nbsp;sta $2000<br />&nbsp; &nbsp; &nbsp; &nbsp;lda #%00011110<br />&nbsp; &nbsp; &nbsp; &nbsp;sta $2001<br />...<br /></div></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3841"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p45372"></a>
				<b class="postauthor">Ealdor</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p45372"></a></div><div style="float: right;"><a href="./viewtopic.php?p=45372#p45372"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Apr 08, 2009 4:22 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=3876.jpg" width="90" height="90" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Wed Apr 08, 2009 9:42 am<br /><b>Posts:</b> 20<br /><b>Location:</b> Spain
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">it's working fine.. it's just you need to reset the scroll so you can see the tile on the screen Smile </div>
<br />
<br />Yay, thanks frantik, now i can see the tiles  <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" />
<br />
<br />PS: the attribute table should go after the chr ?</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3876"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p45373"></a>
				<b class="postauthor">Celius</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p45373"></a></div><div style="float: right;"><a href="./viewtopic.php?p=45373#p45373"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Apr 08, 2009 4:26 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="http://www.freewebs.com/the_bott/Avatar3.JPG" width="100" height="79" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Jun 05, 2005 2:04 pm<br /><b>Posts:</b> 2019<br /><b>Location:</b> Minneapolis, Minnesota, United States
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">It seems also that you are enabling NMIs, but in the NMI vector you are pointing to $0000. I'm surprised this didn't cause total catastrophe!</div>

					
						<div class="postbody"><br />_________________<br /><a href="http://www.freewebs.com/the_bott/" class="postlink">-Owner of Poultry Games</a></div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=138"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p45374"></a>
				<b class="postauthor">Roth</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p45374"></a></div><div style="float: right;"><a href="./viewtopic.php?p=45374#p45374"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Apr 08, 2009 4:30 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="http://img.photobucket.com/albums/v287/I_am_Roth/stuff/roth.jpg" width="100" height="81" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Wed Aug 03, 2005 3:15 pm<br /><b>Posts:</b> 362
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">Ealdor wrote:</div><div class="quotecontent"><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">it's working fine.. it's just you need to reset the scroll so you can see the tile on the screen Smile </div><br /><br />Yay, thanks frantik, now i can see the tiles  :D<br /><br />PS: the attribute table should go after the chr ?</div>
<br />
<br />Nah, you want the chr after your prg. Stick it above the vector stuff. 
<br />
<br />Also, I was thinking the same thing Celius : P</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=174"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p45387"></a>
				<b class="postauthor">Ealdor</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p45387"></a></div><div style="float: right;"><a href="./viewtopic.php?p=45387#p45387"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Apr 09, 2009 12:49 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=3876.jpg" width="90" height="90" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Wed Apr 08, 2009 9:42 am<br /><b>Posts:</b> 20<br /><b>Location:</b> Spain
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">Celius wrote:</div><div class="quotecontent">It seems also that you are enabling NMIs, but in the NMI vector you are pointing to $0000. I'm surprised this didn't cause total catastrophe!</div>
<br />
<br />Not sure what you mean, should i insert this?:
<br />
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">vblank: rti<br />nmi: rti<br />.....................<br />.....................<br />.....................<br /><br />.pad $FFFA<br />.dw vblank, RESET, nmi</div><br /><br />Or maybe just disable execute NMI on VBlank at the PPU Control Register. <br /><br />Im trying for set the attribute table for my name table #0, not sure if this is correct:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">.db &quot;NES&quot;, $1A<br />.db $01<br />.db $01<br />.db %00000000, %00000000<br />.db $00, $00, $00, $00, $00, $00, $00, $00<br /><br />.org $C000<br /><br />RESET: sei <br />&nbsp; &nbsp; &nbsp; &nbsp;cld <br /><br />&nbsp; &nbsp; &nbsp; &nbsp;lda #%00000000<br />&nbsp; &nbsp; &nbsp; &nbsp;sta $2000<br />&nbsp; &nbsp; &nbsp; &nbsp;lda #%00000000<br />&nbsp; &nbsp; &nbsp; &nbsp;sta $2001<br /><br />-&nbsp; &nbsp; &nbsp; lda $2002 <br />&nbsp; &nbsp; &nbsp; &nbsp;bpl - <br />-&nbsp; &nbsp; &nbsp; lda $2002<br />&nbsp; &nbsp; &nbsp; &nbsp;bpl -<br /><br />&nbsp; &nbsp; &nbsp; &nbsp;lda #$3F<br />&nbsp; &nbsp; &nbsp; &nbsp;sta $2006<br />&nbsp; &nbsp; &nbsp; &nbsp;lda #$00<br />&nbsp; &nbsp; &nbsp; &nbsp;sta $2006<br />&nbsp; &nbsp; &nbsp; &nbsp;ldx #$00<br />-&nbsp; &nbsp; &nbsp; lda PALLETE,x<br />&nbsp; &nbsp; &nbsp; &nbsp;sta $2007<br />&nbsp; &nbsp; &nbsp; &nbsp;inx<br />&nbsp; &nbsp; &nbsp; &nbsp;cpx #$20<br />&nbsp; &nbsp; &nbsp; &nbsp;bne -<br /><br />&nbsp; &nbsp; &nbsp; &nbsp;lda #$20<br />&nbsp; &nbsp; &nbsp; &nbsp;sta $2006<br />&nbsp; &nbsp; &nbsp; &nbsp;lda #$43<br />&nbsp; &nbsp; &nbsp; &nbsp;sta $2006<br />&nbsp; &nbsp; &nbsp; &nbsp;lda #$2A<br />&nbsp; &nbsp; &nbsp; &nbsp;sta $2007<br /><br />&nbsp; &nbsp; &nbsp; &nbsp;lda #$23<br />&nbsp; &nbsp; &nbsp; &nbsp;sta $2006<br />&nbsp; &nbsp; &nbsp; &nbsp;lda #$C0<br />&nbsp; &nbsp; &nbsp; &nbsp;sta $2006<br />&nbsp; &nbsp; &nbsp; &nbsp;ldy #$00<br />-&nbsp; &nbsp; &nbsp; lda ATTRIB,y<br />&nbsp; &nbsp; &nbsp; &nbsp;sta $2007<br />&nbsp; &nbsp; &nbsp; &nbsp;iny<br />&nbsp; &nbsp; &nbsp; &nbsp;cpy #$20<br />&nbsp; &nbsp; &nbsp; &nbsp;bne -<br />&nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp;lda #$00<br />&nbsp; &nbsp; &nbsp; &nbsp;sta $2005<br />&nbsp; &nbsp; &nbsp; &nbsp;sta $2005 <br /><br />&nbsp; &nbsp; &nbsp; &nbsp;lda #%10001000<br />&nbsp; &nbsp; &nbsp; &nbsp;sta $2000<br />&nbsp; &nbsp; &nbsp; &nbsp;lda #%00011110<br />&nbsp; &nbsp; &nbsp; &nbsp;sta $2001<br /><br />&nbsp; &nbsp; &nbsp; &nbsp;cli<br /><br />LOOP:&nbsp; jmp LOOP<br /><br />VBLANK: rti<br /><br />NMI:&nbsp; rti<br /><br />PALLETE:<br />.db $17,$01,$06,$2A,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00<br />.db $06,$38,$32,$06,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00<br /><br />ATTRIB:<br />.byte $00,$00,$00,$00,$00,$00,$00,$00,$F0,$F0,$F0,$F0,$F0,$F0,$F0,$F0<br />.byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$0F,$0F,$0F,$0F,$0F,$0F,$0F,$0F<br /><br />.pad $FFFA<br />.dw VBLANK, RESET, NMI<br /><br />.incbin &quot;1.chr&quot;</div>
<br />
<br />Also im wondering why my background color is set in the sprite pallete and not in the background one.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3876"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p45396"></a>
				<b class="postauthor" style="color: #AA0000">tepples</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p45396"></a></div><div style="float: right;"><a href="./viewtopic.php?p=45396#p45396"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Apr 09, 2009 7:14 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="http://pineight.com/nes/terrible/PSRFX.png" width="100" height="56" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Sep 19, 2004 11:12 pm<br /><b>Posts:</b> 9048<br /><b>Location:</b> NE Indiana, USA (NTSC)
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">You probably don't want to disable NMI on vblank unless you've got rendering turned off. If you try to detect vertical blanking by spinning on PPUSTATUS, you will miss some vblanks.
<br />
<br />About background colors: $3F00 and $3F10 are actually the same memory cell inside the PPU. So if you write to $3F00 and then you write to $3F10 (as most naive palette loader loops seem to do), the value written to $3F10 will overwrite the value written to $3F00.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=9"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p45398"></a>
				<b class="postauthor">Celius</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p45398"></a></div><div style="float: right;"><a href="./viewtopic.php?p=45398#p45398"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Apr 09, 2009 7:25 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="http://www.freewebs.com/the_bott/Avatar3.JPG" width="100" height="79" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Jun 05, 2005 2:04 pm<br /><b>Posts:</b> 2019<br /><b>Location:</b> Minneapolis, Minnesota, United States
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">Ealdor wrote:</div><div class="quotecontent">Not sure what you mean, should i insert this?:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">vblank: rti<br />nmi: rti<br />.....................<br />.....................<br />.....................<br /><br />.pad $FFFA<br />.dw vblank, RESET, nmi</div><br /></div>
<br />
<br />That will do what you want it to do, however either the name "VBlank" or "NMI" should refer to the code executed in the NMI routine. You have your IRQ routine label named "nmi", which will cause confusion. This is how it's set up:
<br />
<br />.pad $FFFA
<br />.dw NMIAddress, ResetAddress, IRQAddress
<br />
<br />So you should change the name of the label "vblank" to "NMI", and the "nmi" label to "IRQ".</div>

					
						<div class="postbody"><br />_________________<br /><a href="http://www.freewebs.com/the_bott/" class="postlink">-Owner of Poultry Games</a></div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=138"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p45399"></a>
				<b class="postauthor">Ealdor</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p45399"></a></div><div style="float: right;"><a href="./viewtopic.php?p=45399#p45399"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Apr 09, 2009 7:42 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=3876.jpg" width="90" height="90" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Wed Apr 08, 2009 9:42 am<br /><b>Posts:</b> 20<br /><b>Location:</b> Spain
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Thanks Tepples now i understand what i read in a nes doc:
<br />
<br /><em>"The palette starts at $3F00 and goes to $3F1F in the VRAM. From $3F00 to $3F0F is the image(background) palette. From $3F10 to $3F1F is the sprite palette. This gives you 2 palettes that are 16 bytes each. The most important address in the palette is $3F00. The value that is written here defines background colour, transparency for both background and sprites, and is mirrored every 4 bytes. This means that $3F04,$3F08, $3F0C, $3F14, $3F18, are just mirrors of $3F00. Writing to these places does nothing."</em>
<br />
<br />I had to reread it like 4 or 5 times to full understand what it said <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" />
<br />
<br /><div class="quotetitle">Celius wrote:</div><div class="quotecontent">So you should change the name of the label "vblank" to "NMI", and the "nmi" label to "IRQ".</div>
<br />
<br />Thanks Celius i fixed it.
<br />
<br />Still fighting with the "attribute table"  <img src="./images/smilies/icon_confused.gif" alt=":?" title="Confused" />
<br />
<br />EDIT: Yay, my attribute table is working!</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3876"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table width="100%" cellspacing="1" class="tablebg">
	<tr align="center">
		<td class="cat"><form name="viewtopic" method="post" action="./viewtopic.php?f=10&amp;t=5035"><span class="gensmall">Display posts from previous:</span> <select name="st" id="st"><option value="0" selected="selected">All posts</option><option value="1">1 day</option><option value="7">7 days</option><option value="14">2 weeks</option><option value="30">1 month</option><option value="90">3 months</option><option value="180">6 months</option><option value="365">1 year</option></select>&nbsp;<span class="gensmall">Sort by</span> <select name="sk" id="sk"><option value="a">Author</option><option value="t" selected="selected">Post time</option><option value="s">Subject</option></select> <select name="sd" id="sd"><option value="a" selected="selected">Ascending</option><option value="d">Descending</option></select>&nbsp;<input class="btnlite" type="submit" value="Go" name="sort" /></form></td>
	</tr>
	</table>
	

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=10"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=10&amp;t=5035"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>1</strong> of <strong>1</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 15 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"></td>
		
	</tr>
	</table>

</div>

<div id="pagefooter"></div>

<br clear="all" />
<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=24">NES / Famicom</a> &#187; <a href="./viewforum.php?f=10">Newbie Help Center</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>
	<br clear="all" />

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat"><h4>Who is online</h4></td>
	</tr>
	<tr>
		<td class="row1"><p class="gensmall">Users browsing this forum: No registered users and 1 guest</p></td>
	</tr>
	</table>


<br clear="all" />

<table width="100%" cellspacing="1">
<tr>
	<td width="40%" valign="top" nowrap="nowrap" align="left"></td>
	<td align="right" valign="top" nowrap="nowrap"><span class="gensmall">You <strong>cannot</strong> post new topics in this forum<br />You <strong>cannot</strong> reply to topics in this forum<br />You <strong>cannot</strong> edit your posts in this forum<br />You <strong>cannot</strong> delete your posts in this forum<br />You <strong>cannot</strong> post attachments in this forum<br /></span></td>
</tr>
</table>

<br clear="all" />

<table width="100%" cellspacing="0">
<tr>
	<td><form method="get" name="search" action="./search.php"><span class="gensmall">Search for:</span> <input class="post" type="text" name="keywords" size="20" /> <input class="btnlite" type="submit" value="Go" /><input type="hidden" name="t" value="5035" />
<input type="hidden" name="sf" value="msgonly" />
</form></td>
	<td align="right">
	<form method="post" name="jumpbox" action="./viewforum.php" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	<table cellspacing="0" cellpadding="0" border="0">
	<tr>
		<td nowrap="nowrap"><span class="gensmall">Jump to:</span>&nbsp;<select name="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">

		
			<option value="-1">Select a forum</option>
		<option value="-1">------------------</option>
			<option value="24">NES / Famicom</option>
		
			<option value="2">&nbsp; &nbsp;NESdev</option>
		
			<option value="3">&nbsp; &nbsp;NESemdev</option>
		
			<option value="21">&nbsp; &nbsp;NES Graphics</option>
		
			<option value="6">&nbsp; &nbsp;NES Music</option>
		
			<option value="9">&nbsp; &nbsp;NES Hardware and Flash Equipment</option>
		
			<option value="22">&nbsp; &nbsp;Homebrew Projects</option>
		
			<option value="10" selected="selected">&nbsp; &nbsp;Newbie Help Center</option>
		
			<option value="11">&nbsp; &nbsp;FCdev</option>
		
			<option value="18">&nbsp; &nbsp;NESdev China</option>
		
			<option value="19">&nbsp; &nbsp;NESdev International</option>
		
			<option value="25">Other</option>
		
			<option value="5">&nbsp; &nbsp;General Stuff</option>
		
			<option value="4">&nbsp; &nbsp;Membler Industries</option>
		
			<option value="12">&nbsp; &nbsp;SNESdev</option>
		
			<option value="20">&nbsp; &nbsp;GBDev</option>
		
			<option value="23">&nbsp; &nbsp;Other Retro Dev</option>
		
			<option value="15">&nbsp; &nbsp;Test Forum</option>
		
			<option value="26">Site Issues</option>
		
			<option value="13">&nbsp; &nbsp;phpBB Issues</option>
		
			<option value="14">&nbsp; &nbsp;Web Issues</option>
		
			<option value="16">&nbsp; &nbsp;nesdevWiki</option>
		

		</select>&nbsp;<input class="btnlite" type="submit" value="Go" /></td>
	</tr>
	</table>

	</form>
</td>
</tr>
</table>


</div>

<div id="wrapfooter">
	
	<span class="copyright">Powered by <a href="http://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Group
	</span>
</div>

</body>
</html>