<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<link rel="icon" href="/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />

<title>nesdev.com &bull; View topic - This is really ridiculous but...</title>

<link rel="alternate" type="application/atom+xml" title="Feed - nesdev.com" href="http://forums.nesdev.com/feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - News" href="http://forums.nesdev.com/feed.php?mode=news" /><link rel="alternate" type="application/atom+xml" title="Feed - All forums" href="http://forums.nesdev.com/feed.php?mode=forums" /><link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="http://forums.nesdev.com/feed.php?mode=topics" /><link rel="alternate" type="application/atom+xml" title="Feed - Active Topics" href="http://forums.nesdev.com/feed.php?mode=topics_active" /><link rel="alternate" type="application/atom+xml" title="Feed - Forum - Newbie Help Center" href="http://forums.nesdev.com/feed.php?f=10" /><link rel="alternate" type="application/atom+xml" title="Feed - Topic - This is really ridiculous but..." href="http://forums.nesdev.com/feed.php?f=10&amp;t=8081" />

<link rel="stylesheet" href="./style.php?id=1&amp;lang=en" type="text/css" />

<script type="text/javascript">
// <![CDATA[


function popup(url, width, height, name)
{
	if (!name)
	{
		name = '_popup';
	}

	window.open(url.replace(/&amp;/g, '&'), name, 'height=' + height + ',resizable=yes,scrollbars=yes,width=' + width);
	return false;
}

function jumpto()
{
	var page = prompt('Enter the page number you wish to go to:', '1');
	var per_page = '15';
	var base_url = './viewtopic.php?f=10&amp;t=8081';

	if (page !== null && !isNaN(page) && page == Math.floor(page) && page > 0)
	{
		if (base_url.indexOf('?') == -1)
		{
			document.location.href = base_url + '?start=' + ((page - 1) * per_page);
		}
		else
		{
			document.location.href = base_url.replace(/&amp;/g, '&') + '&start=' + ((page - 1) * per_page);
		}
	}
}

/**
* Find a member
*/
function find_username(url)
{
	popup(url, 760, 570, '_usersearch');
	return false;
}

/**
* Mark/unmark checklist
* id = ID of parent container, name = name prefix, state = state [true/false]
*/
function marklist(id, name, state)
{
	var parent = document.getElementById(id);
	if (!parent)
	{
		eval('parent = document.' + id);
	}

	if (!parent)
	{
		return;
	}

	var rb = parent.getElementsByTagName('input');
	
	for (var r = 0; r < rb.length; r++)
	{
		if (rb[r].name.substr(0, name.length) == name)
		{
			rb[r].checked = state;
		}
	}
}



// ]]>
</script>
</head>
<body class="ltr">

<a name="top"></a>

<div id="wrapheader">

	<div id="logodesc">
	</div>

	<div id="menubar">

		<table width="100%" cellspacing="0">
		<tr>
			<td rowspan="2"><a href="./index.php"><img src="./styles/subsilver2/imageset/site_logo.gif" alt="" title="" /></a></td>
			<td width="100%" align="center"><h1>nesdev.com</h1><span class="gen">NES Development and Strangulation Records message boards</span></td>
		</tr>
		<tr>
			<td align="center">
				<a href="./faq.php"><img src="./styles/prosilver/theme/images/icon_mini_faq.gif" width="12" height="13" alt="*" /> FAQ</a>
				&nbsp; &nbsp;<a href="./search.php"><img src="./styles/prosilver/theme/images/icon_mini_search.gif" width="12" height="13" alt="*" /> Search</a>
				<br />	
				 &nbsp;<a href="./ucp.php?mode=register"><img src="./styles/prosilver/theme/images/icon_mini_register.gif" width="12" height="13" alt="*" /> Register</a>
					&nbsp; &nbsp;<a href="./ucp.php?mode=login"><img src="./styles/prosilver/theme/images/icon_mini_login.gif" width="12" height="13" alt="*" /> Login</a>&nbsp;
			</td>
		</tr>
		</table>
	</div>

	<div id="datebar">
		<table width="100%" cellspacing="0">
		<tr>
			<td class="gensmall"></td>
			<td class="gensmall" align="right">It is currently Sat Sep 20, 2014 8:38 pm<br /></td>
		</tr>
		</table>
	</div>

</div>

<div id="wrapcentre">

	
	<p class="searchbar">
		<span style="float: left;"><a href="./search.php?search_id=unanswered">View unanswered posts</a> | <a href="./search.php?search_id=active_topics">View active topics</a></span>
		
	</p>
	

	<br style="clear: both;" />

	<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=24">NES / Famicom</a> &#187; <a href="./viewforum.php?f=10">Newbie Help Center</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>

	<br />

<div id="pageheader">
	<h2><a class="titles" href="./viewtopic.php?f=10&amp;t=8081">This is really ridiculous but...</a></h2>


	<p class="moderators">Moderator: <a href="./memberlist.php?mode=group&amp;g=320">Moderators</a></p>

</div>

<br clear="all" /><br />

<div id="pagecontent">

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=10"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=10&amp;t=8081"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>1</strong> of <strong>2</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 18 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"><b><a href="#" onclick="jumpto(); return false;" title="Click to jump to pageâ€¦">Go to page</a> <strong>1</strong><span class="page-sep">, </span><a href="./viewtopic.php?f=10&amp;t=8081&amp;start=15">2</a> &nbsp;<a href="./viewtopic.php?f=10&amp;t=8081&amp;start=15">Next</a></b></td>
		
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat">
			<table width="100%" cellspacing="0">
			<tr>
				<td class="nav" nowrap="nowrap">&nbsp;
				<a href="./viewtopic.php?f=10&amp;t=8081&amp;view=print" title="Print view">Print view</a>
				</td>
				<td class="nav" align="right" nowrap="nowrap"><a href="./viewtopic.php?f=10&amp;t=8081&amp;view=previous">Previous topic</a> | <a href="./viewtopic.php?f=10&amp;t=8081&amp;view=next">Next topic</a>&nbsp;</td>
			</tr>
			</table>
		</td>
	</tr>

	</table>


	<table class="tablebg" width="100%" cellspacing="1">
	
		<tr>
			<th>Author</th>
			<th>Message</th>
		</tr>
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p83412"></a>
				<b class="postauthor">IvanDSM</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p83412">This is really ridiculous but...</a></div><div style="float: right;"><a href="./viewtopic.php?p=83412#p83412"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Sep 02, 2011 6:05 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Aug 19, 2011 4:34 pm<br /><b>Posts:</b> 44<br /><b>Location:</b> Santos, SP - Brazil
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Here's some code i TRIED to put together by mashing up some things from JUNKDEMO.ASM from NESASM and some things i've learned from Assembly in One Step (6502guid.txt)...
<br />
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; &nbsp; .inesprg&nbsp; &nbsp; 1&nbsp; &nbsp;; One 16k prg bank<br />&nbsp; &nbsp; .ineschr&nbsp; &nbsp; 0&nbsp; &nbsp;; One 8k&nbsp; chr bank<br />&nbsp; &nbsp; .inesmir&nbsp; &nbsp; 1&nbsp; &nbsp;; Vertical map mirroring<br />&nbsp; &nbsp; .inesmap&nbsp; &nbsp; 0&nbsp; &nbsp;; Use mapper 0<br /><br />&nbsp; &nbsp; .bank 0<br />&nbsp; &nbsp; .org&nbsp; $C000<br /><br />reset:<br />&nbsp; &nbsp;lda #$1F&nbsp; &nbsp; &nbsp; &nbsp; ; Make all sound channels active, stolen from NESASM's JUNKDEMO...<br />&nbsp; &nbsp; &nbsp; &nbsp; sta $4015<br />&nbsp; &nbsp; &nbsp; &nbsp; lda #$0F&nbsp; &nbsp; &nbsp; &nbsp; ; See NES Document for register values and meaning<br />&nbsp; &nbsp; &nbsp; &nbsp; sta $4000&nbsp; &nbsp; &nbsp; &nbsp;; Square 1<br />&nbsp; &nbsp; &nbsp; &nbsp; sta $4004&nbsp; &nbsp; &nbsp; &nbsp;; Square 2<br />&nbsp; &nbsp; &nbsp; &nbsp; sta $4008&nbsp; &nbsp; &nbsp; &nbsp;; Triangle <br />&nbsp; &nbsp; &nbsp; &nbsp; lda #$00&nbsp; &nbsp; &nbsp; &nbsp; ; See NES Document for register values and meaning<br />&nbsp; &nbsp; &nbsp; &nbsp; sta $4001&nbsp; &nbsp; &nbsp; &nbsp;; Square 1<br />&nbsp; &nbsp; &nbsp; &nbsp; sta $4005&nbsp; &nbsp; &nbsp; &nbsp;; Square 2<br />&nbsp; &nbsp; &nbsp; &nbsp; sta $4009&nbsp; &nbsp; &nbsp; &nbsp;; Triangle<br />&nbsp; &nbsp;ldx #$4F&nbsp; &nbsp;;&lt;Little tune, i think...<br />&nbsp; &nbsp;ldy #$A8&nbsp; &nbsp;&nbsp; &nbsp;;...&gt;<br />&nbsp; &nbsp;lda #$00&nbsp; &nbsp;;&lt;Get the joysticks ready, i think...<br />&nbsp; &nbsp;sta $4016&nbsp; &nbsp;;...<br />&nbsp; &nbsp;lda #$01&nbsp; &nbsp;;...<br />&nbsp; &nbsp;sta $4016&nbsp; &nbsp;;&gt;<br />&nbsp; &nbsp;jsr cjs&nbsp; &nbsp;&nbsp; &nbsp;;Calls cjs &#40;Check JoyStick&#41;<br /><br />cjs:<br />&nbsp; &nbsp;sta $4016&nbsp; &nbsp;;Reads A &#40;?&#41;<br />&nbsp; &nbsp;bne lol&nbsp; &nbsp;&nbsp; &nbsp;;If the result isn't zero jumps to lol &#40;?&#41;<br /><br />lol:<br />&nbsp; &nbsp;stx $4006&nbsp; &nbsp; &nbsp; &nbsp;; Stolen from JUNKDEMO again.<br />&nbsp; &nbsp; &nbsp; &nbsp; sty $4007<br />&nbsp; &nbsp; &nbsp; &nbsp; rts<br /></div><br /><br />It says corrupt file in Nestopia and does nothing in FCEUX, what's going on? Am i being an idiot?[/code]</div>

					
						<div class="postbody"><br />_________________<br />I can't think of something cool to put here.</div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=4974"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p83413"></a>
				<b class="postauthor">Shiru</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p83413"></a></div><div style="float: right;"><a href="./viewtopic.php?p=83413#p83413"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Sep 02, 2011 6:09 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sat Jan 23, 2010 11:41 pm<br /><b>Posts:</b> 1161
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">You can't org $c000 in bank 0, it is in bank 2. Also, you've forgot about reset/nmi vectors, and a program won't work without them.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=4205"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p83414"></a>
				<b class="postauthor">IvanDSM</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p83414"></a></div><div style="float: right;"><a href="./viewtopic.php?p=83414#p83414"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Sep 02, 2011 6:13 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Aug 19, 2011 4:34 pm<br /><b>Posts:</b> 44<br /><b>Location:</b> Santos, SP - Brazil
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">Shiru wrote:</div><div class="quotecontent">You can't org $c000 in bank 0, it is in bank 2. Also, you've forgot about reset/nmi vectors, and a program won't work without them.</div>
<br />
<br />What should i put in bank 0? Also, is the code i improvised ok? May i leave it in bank 0 or move to 2?</div>

					
						<div class="postbody"><br />_________________<br />I can't think of something cool to put here.</div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=4974"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p83416"></a>
				<b class="postauthor">IvanDSM</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p83416"></a></div><div style="float: right;"><a href="./viewtopic.php?p=83416#p83416"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Sep 02, 2011 6:18 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Aug 19, 2011 4:34 pm<br /><b>Posts:</b> 44<br /><b>Location:</b> Santos, SP - Brazil
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I studied (read "read, copied, moved, changed") some code from COLOR.ASM and updated my code, but, no luck for me yet:
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; &nbsp; .bank 0<br />&nbsp; &nbsp; .org&nbsp; $8000<br /><br />&nbsp; &nbsp;.dw&nbsp; &nbsp;&nbsp; &nbsp;nmi_stuph<br />&nbsp; &nbsp;.dw&nbsp; &nbsp;&nbsp; &nbsp;reset<br />&nbsp; &nbsp;.dw&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;irq<br /><br /><br />nmi_stuph:<br />&nbsp; &nbsp;sta $4016&nbsp; &nbsp;;Reads A &#40;?&#41;<br />&nbsp; &nbsp;bne lol&nbsp; &nbsp;&nbsp; &nbsp;;If the result isn't zero jumps to lol &#40;?&#41;<br /><br />irq:<br />&nbsp; &nbsp;rti<br />&nbsp; &nbsp;<br />reset:<br />&nbsp; &nbsp;lda #$1F&nbsp; &nbsp; &nbsp; &nbsp; ; Make all sound channels active, stolen from NESASM's JUNKDEMO...<br />&nbsp; &nbsp; &nbsp; &nbsp; sta $4015<br />&nbsp; &nbsp; &nbsp; &nbsp; lda #$0F&nbsp; &nbsp; &nbsp; &nbsp; ; See NES Document for register values and meaning<br />&nbsp; &nbsp; &nbsp; &nbsp; sta $4000&nbsp; &nbsp; &nbsp; &nbsp;; Square 1<br />&nbsp; &nbsp; &nbsp; &nbsp; sta $4004&nbsp; &nbsp; &nbsp; &nbsp;; Square 2<br />&nbsp; &nbsp; &nbsp; &nbsp; sta $4008&nbsp; &nbsp; &nbsp; &nbsp;; Triangle <br />&nbsp; &nbsp; &nbsp; &nbsp; lda #$00&nbsp; &nbsp; &nbsp; &nbsp; ; See NES Document for register values and meaning<br />&nbsp; &nbsp; &nbsp; &nbsp; sta $4001&nbsp; &nbsp; &nbsp; &nbsp;; Square 1<br />&nbsp; &nbsp; &nbsp; &nbsp; sta $4005&nbsp; &nbsp; &nbsp; &nbsp;; Square 2<br />&nbsp; &nbsp; &nbsp; &nbsp; sta $4009&nbsp; &nbsp; &nbsp; &nbsp;; Triangle<br />&nbsp; &nbsp;ldx #$4F&nbsp; &nbsp;;&lt;Little tune, i think...<br />&nbsp; &nbsp;ldy #$A8&nbsp; &nbsp;&nbsp; &nbsp;;...&gt;<br />&nbsp; &nbsp;lda #$00&nbsp; &nbsp;;&lt;Get the joysticks ready, i think...<br />&nbsp; &nbsp;sta $4016&nbsp; &nbsp;;...<br />&nbsp; &nbsp;lda #$01&nbsp; &nbsp;;...<br />&nbsp; &nbsp;sta $4016&nbsp; &nbsp;;&gt;<br /><br />lol:<br />&nbsp; &nbsp;stx $4006&nbsp; &nbsp; &nbsp; &nbsp;; Stolen from JUNKDEMO again.<br />&nbsp; &nbsp; &nbsp; &nbsp; sty $4007<br />&nbsp; &nbsp; &nbsp; &nbsp; rts</div>[/code]</div>

					
						<div class="postbody"><br />_________________<br />I can't think of something cool to put here.</div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=4974"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p83417"></a>
				<b class="postauthor">Shiru</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p83417"></a></div><div style="float: right;"><a href="./viewtopic.php?p=83417#p83417"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Sep 02, 2011 6:21 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sat Jan 23, 2010 11:41 pm<br /><b>Posts:</b> 1161
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">You will have no luck if you won't set vectors properly - CPU just does not know where to start without them. They have to be in $fffa.
<br />
<br />I.e.:
<br />
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp;.bank 0<br />&nbsp;.org $8000<br /><br />;your code<br /><br />&nbsp;.bank 3<br />&nbsp;.org $fffa<br />&nbsp;.dw&nbsp; nmi<br />&nbsp;.dw&nbsp; reset<br />&nbsp;.dw&nbsp; 0</div></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=4205"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p83419"></a>
				<b class="postauthor">IvanDSM</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p83419"></a></div><div style="float: right;"><a href="./viewtopic.php?p=83419#p83419"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Sep 02, 2011 6:29 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Aug 19, 2011 4:34 pm<br /><b>Posts:</b> 44<br /><b>Location:</b> Santos, SP - Brazil
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Even after receiving advice from veterans, i suck. No corrupt file, just nothing. Reorganised code:<div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; &nbsp; .bank 0<br />&nbsp; &nbsp; .org&nbsp; $8000<br /><br />&nbsp; &nbsp;<br />reset:<br /><br />&nbsp; &nbsp;lda #$00&nbsp; &nbsp;;&lt;Get the joysticks ready, i think...<br />&nbsp; &nbsp;sta $4016&nbsp; &nbsp;;...<br />&nbsp; &nbsp;lda #$01&nbsp; &nbsp;;...<br />&nbsp; &nbsp;sta $4016&nbsp; &nbsp;;&gt;<br /><br /><br />&nbsp; &nbsp;.bank 3<br />&nbsp; &nbsp;.org $fffa<br />&nbsp; &nbsp;.dw&nbsp; &nbsp;&nbsp; &nbsp;nmi_stuph<br />&nbsp; &nbsp;.dw&nbsp; &nbsp;&nbsp; &nbsp;reset<br />&nbsp; &nbsp;.dw&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0<br /></div><br /><br />I did not include lol or nmi_stuph because they're still the same.[/code]</div>

					
						<div class="postbody"><br />_________________<br />I can't think of something cool to put here.</div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=4974"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p83421"></a>
				<b class="postauthor">Shiru</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p83421"></a></div><div style="float: right;"><a href="./viewtopic.php?p=83421#p83421"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Sep 02, 2011 6:39 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sat Jan 23, 2010 11:41 pm<br /><b>Posts:</b> 1161
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">What you expect from all that random code? Make code that actually do something, and it will do something.
<br />
<br />Also, you need to init hardware. Set stack and wait PPU to 'warm up', at least. Example of an empty program:
<br />
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; &nbsp; .inesprg&nbsp; &nbsp; 2<br />&nbsp; &nbsp; .ineschr&nbsp; &nbsp; 1<br />&nbsp; &nbsp; .inesmir&nbsp; &nbsp; 0<br />&nbsp; &nbsp; .inesmap&nbsp; &nbsp; 0<br /><br />&nbsp; &nbsp; .bank 0<br />&nbsp; &nbsp; .org $8000<br /><br />PPU_CTRL&nbsp; &nbsp;&nbsp; &nbsp;equ $2000<br />PPU_MASK&nbsp; &nbsp;&nbsp; &nbsp;equ $2001<br />PPU_STATUS&nbsp; &nbsp;&nbsp; &nbsp;equ $2002<br />PPU_SCROLL&nbsp; &nbsp;&nbsp; &nbsp;equ $2005<br />PPU_ADDR&nbsp; &nbsp;&nbsp; &nbsp;equ $2006<br />PPU_DATA&nbsp; &nbsp;&nbsp; &nbsp;equ $2007<br />PPU_FRAMECNT&nbsp; &nbsp;equ $4017<br />DMC_FREQ&nbsp; &nbsp;&nbsp; &nbsp;equ $4010<br />CTRL_PORT1&nbsp; &nbsp;&nbsp; &nbsp;equ $4016<br /><br />FRAME_CNT&nbsp; &nbsp;&nbsp; &nbsp;equ $ff<br /><br /><br />reset<br /><br />;init hardware<br /><br />&nbsp; &nbsp; sei<br />&nbsp; &nbsp; ldx #$40<br />&nbsp; &nbsp; stx PPU_FRAMECNT<br />&nbsp; &nbsp; ldx #$ff<br />&nbsp; &nbsp; txs<br />&nbsp; &nbsp; inx<br />&nbsp; &nbsp; stx PPU_MASK<br />&nbsp; &nbsp; stx DMC_FREQ<br />&nbsp; &nbsp;lda #%10000000<br />&nbsp; &nbsp; sta PPU_CTRL<br /><br />&nbsp; &nbsp;jsr waitVBlank<br /><br />;clear ram content<br /><br />&nbsp; &nbsp; txa<br />clearRAM<br />&nbsp; &nbsp; sta $000,x<br />&nbsp; &nbsp; sta $100,x<br />&nbsp; &nbsp; sta $200,x<br />&nbsp; &nbsp; sta $300,x<br />&nbsp; &nbsp; sta $400,x<br />&nbsp; &nbsp; sta $500,x<br />&nbsp; &nbsp; sta $600,x<br />&nbsp; &nbsp; sta $700,x<br />&nbsp; &nbsp; inx<br />&nbsp; &nbsp; bne clearRAM<br /><br />;clear vram too<br /><br />clearVRAM<br />&nbsp; &nbsp;lda #$00<br />&nbsp; &nbsp;sta PPU_ADDR<br />&nbsp; &nbsp;sta PPU_ADDR<br />&nbsp; &nbsp;ldx #$00<br />.1<br />&nbsp; &nbsp;ldy #$40<br />.2<br />&nbsp; &nbsp;sta PPU_DATA<br />&nbsp; &nbsp;iny<br />&nbsp; &nbsp;bne .2<br />&nbsp; &nbsp;inx<br />&nbsp; &nbsp;bne .1<br /><br />&nbsp; &nbsp;jsr waitNMI<br />&nbsp; &nbsp;lda #%00011110&nbsp; &nbsp;;enable display<br />&nbsp; &nbsp;sta PPU_MASK<br /><br />mainLoop<br /><br />&nbsp; &nbsp;;do anything you want here<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;jmp mainLoop<br />&nbsp; &nbsp;<br /><br /><br />waitVBlank<br />&nbsp; &nbsp; bit PPU_STATUS<br />.1<br />&nbsp; &nbsp; bit PPU_STATUS<br />&nbsp; &nbsp; bpl .1<br />&nbsp; &nbsp;rts<br /><br />&nbsp; &nbsp;<br />&nbsp; &nbsp;<br />waitNMI<br />&nbsp; &nbsp;lda FRAME_CNT<br />.1<br />&nbsp; &nbsp;cmp FRAME_CNT<br />&nbsp; &nbsp;beq .1<br />&nbsp; &nbsp;rts<br /><br />&nbsp; &nbsp;<br />&nbsp; &nbsp;<br />nmi<br />&nbsp; &nbsp; rti<br /><br />&nbsp; &nbsp; .org&nbsp; $fffa<br />&nbsp; &nbsp; .dw&nbsp; &nbsp;nmi<br />&nbsp; &nbsp; .dw&nbsp; &nbsp;reset<br />&nbsp; &nbsp;.dw&nbsp; &nbsp;0<br /><br />&nbsp; &nbsp;.bank 4<br />&nbsp; &nbsp;.incbin &quot;patterns.chr&quot;</div></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=4205"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p83422"></a>
				<b class="postauthor">tokumaru</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p83422">Re: This is really ridiculous but...</a></div><div style="float: right;"><a href="./viewtopic.php?p=83422#p83422"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Sep 02, 2011 6:50 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=95.png" width="80" height="80" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sat Feb 12, 2005 9:43 pm<br /><b>Posts:</b> 6693<br /><b>Location:</b> Rio de Janeiro - Brazil
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Nestopia says that files are corrupt when the size of the ROM doesn't match what it expects.
<br />
<br />For example, your iNES header says the program has 16KB of PRG-ROM, yet you have ORG'd stuff at $8000 and $FFFA, which would make your ROM have 32KB. If you really want 16KB, you could try putting the vectors at $BFFA in bank 1 instead (not sure if it would work, because I hate NESASM so I don't use it).
<br />
<br />Also, I don't see any CHR file being included, and Nestopia will definitely miss it if you select mapper 0.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=95"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p83424"></a>
				<b class="postauthor" style="color: #AA0000">tepples</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p83424"></a></div><div style="float: right;"><a href="./viewtopic.php?p=83424#p83424"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Sep 02, 2011 7:07 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Sep 19, 2004 11:12 pm<br /><b>Posts:</b> 12424<br /><b>Location:</b> NE Indiana, USA (NTSC)
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">Shiru wrote:</div><div class="quotecontent">You can't org $c000 in bank 0, it is in bank 2</div>
<br />Most NROM-128 games use $C000-$DFFF as bank 0 and $E000-$FFFF as bank 1. It is this fact that allows Forbidden Four and MGC multicart engines to work.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=9"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p83426"></a>
				<b class="postauthor">IvanDSM</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p83426"></a></div><div style="float: right;"><a href="./viewtopic.php?p=83426#p83426"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Sep 02, 2011 8:06 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Aug 19, 2011 4:34 pm<br /><b>Posts:</b> 44<br /><b>Location:</b> Santos, SP - Brazil
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Subquestion: How do i use a CHR file? I already made one using BMPNES, and now i don't know how to organise it.</div>

					
						<div class="postbody"><br />_________________<br />I can't think of something cool to put here.</div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=4974"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p83427"></a>
				<b class="postauthor">tokumaru</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p83427"></a></div><div style="float: right;"><a href="./viewtopic.php?p=83427#p83427"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Sep 02, 2011 8:10 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=95.png" width="80" height="80" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sat Feb 12, 2005 9:43 pm<br /><b>Posts:</b> 6693<br /><b>Location:</b> Rio de Janeiro - Brazil
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">IvanDSM wrote:</div><div class="quotecontent">Subquestion: How do i use a CHR file? I already made one using BMPNES, and now i don't know how to organise it.</div>
<br />Just look at the sample code Shiru posted: put another bank after the last one and then include the CHR file.
<br />
<br />I don't know much about NESASM, but Shiru's template appears to be very good. You should study it and make sure you understand how it works.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=95"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p83428"></a>
				<b class="postauthor">IvanDSM</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p83428"></a></div><div style="float: right;"><a href="./viewtopic.php?p=83428#p83428"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Sep 02, 2011 8:16 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Aug 19, 2011 4:34 pm<br /><b>Posts:</b> 44<br /><b>Location:</b> Santos, SP - Brazil
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent">Just look at the sample code Shiru posted: put another bank after the last one and then include the CHR file.</div>
<br />
<br />Yes, i used Shiru's code for a base. I just changed the name of the chr bank. It works, but it doesn't prints it.</div>

					
						<div class="postbody"><br />_________________<br />I can't think of something cool to put here.</div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=4974"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p83429"></a>
				<b class="postauthor">Shiru</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p83429"></a></div><div style="float: right;"><a href="./viewtopic.php?p=83429#p83429"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Sep 02, 2011 8:34 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sat Jan 23, 2010 11:41 pm<br /><b>Posts:</b> 1161
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">The init code is not really mine, it is composed of some other base code from some tutorial (forgot which one, it was few years ago).</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=4205"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p83430"></a>
				<b class="postauthor">Grumskiz</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p83430"></a></div><div style="float: right;"><a href="./viewtopic.php?p=83430#p83430"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Sep 02, 2011 8:39 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=4824.png" width="60" height="60" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sat Mar 26, 2011 1:06 pm<br /><b>Posts:</b> 79<br /><b>Location:</b> Germany
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">A CHR File is not a background!
<br />It is the pure graphics data that can be used by your program and it usually is saved on a seperate ROM Chip called CHR-ROM on real carts.(sometimes it's RAM and one copies graphics from PRG-ROM - that's where the code is saved - into CHR-RAM)
<br />To draw a background on the screen, you would need to create name tables and attribute tables based on your CHR file. These then need to be passed to the PPU by your code during NMI or with rendering turned off.
<br />I recommend you follow the Nerdy Nights Tutorials on Nintendoage.com which are especially useful if you want to stick to NESASM for now.
<br />These Tutorials also explain how to work with name tables and attribute tables better than I could ever explain it in a small post.
<br />Also the nesdev wiki is a good place to read about this stuff.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=4824"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p83442"></a>
				<b class="postauthor">Celius</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p83442"></a></div><div style="float: right;"><a href="./viewtopic.php?p=83442#p83442"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Sep 02, 2011 7:08 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="http://www.freewebs.com/the_bott/Avatar3.JPG" width="100" height="79" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Jun 05, 2005 2:04 pm<br /><b>Posts:</b> 2084<br /><b>Location:</b> Minneapolis, Minnesota, United States
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">As Grumskiz mentions, the CHR file is not a background by itself. What the CHR data does is provide you with 8x8 chunks of graphics (called "tiles") for you to arrange to make a background. If you look at CHR data, you'll notice there are $FF (or 255) tiles to choose from. The NES screen displays 1024 tiles, so clearly there is a need to specify which graphics you want displayed where.
<br />
<br />If you want the entire CHR file just displayed in the middle of the screen, here is a piece of code that will do that:
<br />
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent"><br />&nbsp; &nbsp;lda #$20&nbsp; &nbsp;;Set PPU Pointer to start drawing tiles at $20E8<br />&nbsp; &nbsp;sta $2006<br />&nbsp; &nbsp;pha&nbsp; &nbsp;&nbsp; &nbsp;;Push High byte onto stack<br />&nbsp; &nbsp;lda #$E8<br />&nbsp; &nbsp;sta $2006<br />&nbsp; &nbsp;pha&nbsp; &nbsp;&nbsp; &nbsp;;Push Low byte onto stack<br /><br />&nbsp; &nbsp;ldx #0&nbsp; &nbsp;&nbsp; &nbsp;;Save tile ID in X, start with tile 0<br />&nbsp; &nbsp;ldy #$10&nbsp; &nbsp;;Y is a counter, counting down from 16 to 0 for each row<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;;of tiles being displayed<br />DisplayCHR:<br />&nbsp; &nbsp;stx $2007&nbsp; &nbsp; &nbsp;;Place tile on the screen at PPU Pointer's location.<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;;PPU Pointer will go up by 1 automatically.<br />&nbsp; &nbsp;inx&nbsp; &nbsp;&nbsp; &nbsp;;Move onto the next tile number<br />&nbsp; &nbsp;dey&nbsp; &nbsp;&nbsp; &nbsp;;Count down until row is done being drawn<br />&nbsp; &nbsp;bne DisplayCHR&nbsp; &nbsp;;Go back to the start of the loop<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<br /><br />&nbsp; &nbsp;clc&nbsp; &nbsp;&nbsp; &nbsp;;Clear Carry flag<br />&nbsp; &nbsp;pla&nbsp; &nbsp;&nbsp; &nbsp;;Pull saved PPU Pointer low byte from stack<br />&nbsp; &nbsp;adc #$20&nbsp; &nbsp;;Add 32 to get the PPU Pointer address of the next tile row<br />&nbsp; &nbsp;tay&nbsp; &nbsp;&nbsp; &nbsp;;Save this value in Y temporarily<br />&nbsp; &nbsp;pla&nbsp; &nbsp;&nbsp; &nbsp;;Pull saved PPU Pointer high byte from stack<br />&nbsp; &nbsp;adc #0&nbsp; &nbsp;&nbsp; &nbsp;;Add nothing &#40;will add 1 if the low byte wrapped past 0 when adding 32&#41;<br />&nbsp; &nbsp;pha&nbsp; &nbsp;&nbsp; &nbsp;;Push back onto the stack for later use<br />&nbsp; &nbsp;sta $2006&nbsp; &nbsp;;Set PPU Pointer to the new value &#40;Previous value of entire pointer + 32&#41;<br />&nbsp; &nbsp;tya&nbsp; &nbsp;&nbsp; &nbsp;;Transfer saved low value from Y into A to write to $2006<br />&nbsp; &nbsp;sta $2006<br />&nbsp; &nbsp;pha&nbsp; &nbsp;&nbsp; &nbsp;;And push back onto stack<br />&nbsp; &nbsp;ldy #$10&nbsp; &nbsp;;Load Y with 16 to count 16 tiles for the next row of tiles<br />&nbsp; &nbsp;cpx #0&nbsp; &nbsp;&nbsp; &nbsp;;Only if X is not 0, in which case all tiles have been drawn.<br />&nbsp; &nbsp;bne DisplayCHR&nbsp; &nbsp;;Otherwise, move onto next row.<br /></div>
<br />
<br />This will also give you some additional study material for understanding 6502.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=138"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table width="100%" cellspacing="1" class="tablebg">
	<tr align="center">
		<td class="cat"><form name="viewtopic" method="post" action="./viewtopic.php?f=10&amp;t=8081"><span class="gensmall">Display posts from previous:</span> <select name="st" id="st"><option value="0" selected="selected">All posts</option><option value="1">1 day</option><option value="7">7 days</option><option value="14">2 weeks</option><option value="30">1 month</option><option value="90">3 months</option><option value="180">6 months</option><option value="365">1 year</option></select>&nbsp;<span class="gensmall">Sort by</span> <select name="sk" id="sk"><option value="a">Author</option><option value="t" selected="selected">Post time</option><option value="s">Subject</option></select> <select name="sd" id="sd"><option value="a" selected="selected">Ascending</option><option value="d">Descending</option></select>&nbsp;<input class="btnlite" type="submit" value="Go" name="sort" /></form></td>
	</tr>
	</table>
	

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=10"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=10&amp;t=8081"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>1</strong> of <strong>2</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 18 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"><b><a href="#" onclick="jumpto(); return false;" title="Click to jump to pageâ€¦">Go to page</a> <strong>1</strong><span class="page-sep">, </span><a href="./viewtopic.php?f=10&amp;t=8081&amp;start=15">2</a> &nbsp;<a href="./viewtopic.php?f=10&amp;t=8081&amp;start=15">Next</a></b></td>
		
	</tr>
	</table>

</div>

<div id="pagefooter"></div>

<br clear="all" />
<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=24">NES / Famicom</a> &#187; <a href="./viewforum.php?f=10">Newbie Help Center</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>
	<br clear="all" />

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat"><h4>Who is online</h4></td>
	</tr>
	<tr>
		<td class="row1"><p class="gensmall">Users browsing this forum: No registered users and 2 guests</p></td>
	</tr>
	</table>


<br clear="all" />

<table width="100%" cellspacing="1">
<tr>
	<td width="40%" valign="top" nowrap="nowrap" align="left"></td>
	<td align="right" valign="top" nowrap="nowrap"><span class="gensmall">You <strong>cannot</strong> post new topics in this forum<br />You <strong>cannot</strong> reply to topics in this forum<br />You <strong>cannot</strong> edit your posts in this forum<br />You <strong>cannot</strong> delete your posts in this forum<br />You <strong>cannot</strong> post attachments in this forum<br /></span></td>
</tr>
</table>

<br clear="all" />

<table width="100%" cellspacing="0">
<tr>
	<td><form method="get" name="search" action="./search.php"><span class="gensmall">Search for:</span> <input class="post" type="text" name="keywords" size="20" /> <input class="btnlite" type="submit" value="Go" /><input type="hidden" name="t" value="8081" />
<input type="hidden" name="sf" value="msgonly" />
</form></td>
	<td align="right">
	<form method="post" name="jumpbox" action="./viewforum.php" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	<table cellspacing="0" cellpadding="0" border="0">
	<tr>
		<td nowrap="nowrap"><span class="gensmall">Jump to:</span>&nbsp;<select name="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">

		
			<option value="-1">Select a forum</option>
		<option value="-1">------------------</option>
			<option value="24">NES / Famicom</option>
		
			<option value="2">&nbsp; &nbsp;NESdev</option>
		
			<option value="3">&nbsp; &nbsp;NESemdev</option>
		
			<option value="21">&nbsp; &nbsp;NES Graphics</option>
		
			<option value="6">&nbsp; &nbsp;NES Music</option>
		
			<option value="9">&nbsp; &nbsp;NES Hardware and Flash Equipment</option>
		
			<option value="22">&nbsp; &nbsp;Homebrew Projects</option>
		
			<option value="10" selected="selected">&nbsp; &nbsp;Newbie Help Center</option>
		
			<option value="11">&nbsp; &nbsp;FCdev</option>
		
			<option value="18">&nbsp; &nbsp;NESdev China</option>
		
			<option value="27">&nbsp; &nbsp;NESdev Middle East</option>
		
			<option value="19">&nbsp; &nbsp;NESdev International</option>
		
			<option value="25">Other</option>
		
			<option value="5">&nbsp; &nbsp;General Stuff</option>
		
			<option value="4">&nbsp; &nbsp;Membler Industries</option>
		
			<option value="12">&nbsp; &nbsp;SNESdev</option>
		
			<option value="20">&nbsp; &nbsp;GBDev</option>
		
			<option value="23">&nbsp; &nbsp;Other Retro Dev</option>
		
			<option value="15">&nbsp; &nbsp;Test Forum</option>
		
			<option value="26">Site Issues</option>
		
			<option value="13">&nbsp; &nbsp;phpBB Issues</option>
		
			<option value="14">&nbsp; &nbsp;Web Issues</option>
		
			<option value="16">&nbsp; &nbsp;nesdevWiki</option>
		

		</select>&nbsp;<input class="btnlite" type="submit" value="Go" /></td>
	</tr>
	</table>

	</form>
</td>
</tr>
</table>


</div>

<div id="wrapfooter">
	
	<span class="copyright">Powered by <a href="http://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Group
	</span>
</div>

</body>
</html>