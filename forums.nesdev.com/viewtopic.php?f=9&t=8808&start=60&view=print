<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - MMC1,2,3,4/Sunsoft-5B reproduction circuit boards. INL-ROM</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">MMC1,2,3,4/Sunsoft-5B reproduction circuit boards. INL-ROM</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=9&amp;t=8808">http://forums.nesdev.com/viewtopic.php?f=9&amp;t=8808</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>5</strong> of <strong>14</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>nintendo2600</b> [ Sat Aug 25, 2012 10:40 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MMC3 (or similar) reproduction circuit boards. INL-ROM</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">MottZilla wrote:</div><div class="quotecontent">I believe he was talking about &quot;adding&quot; the pin. That's not a reliable method in the long term. But he was probably pointing out that the &quot;rare fully pinned SMB2&quot; cartridges are not the only way to make bootleg FF3 English carts.</div><br /><br />bingo!

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>infiniteneslives</b> [ Mon Sep 03, 2012 9:57 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MMC3 (or similar) reproduction circuit boards. INL-ROM</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Update:<br /><br />Finally got my JTAG and EPROM programmer issues resolved to allow me to get some functionality out of my prototype.  Still have a few bugs to work out, but with the mess of wires I have I'm not sure if it's worth the effort until I get boards in hand.  It'll certainly be much easier.<br /><br />Bit the BIG bullet this past week on a large order of parts and boards.  Lets just say there should be enough to go around for a while <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br /><br />Boards will be here in a few weeks, I'm excited to see how they turn out!

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>infiniteneslives</b> [ Sun Sep 23, 2012 2:40 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MMC3 (or similar) reproduction circuit boards. INL-ROM</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />GOOD NEWS!!!<br /><br />Well the boards showed up Monday and I got the first one up and running perfectly this evening.  <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /><br /><br />As I feared the yellow turned out a little more like lime when there isn't copper below the solder mask.  But oh well, I'm still pretty happy with how they turned out!  <br /><br />I did have one bonehead error with ONE thing, the dang battery.  During design I changed it I don't know how many times...  Anyways I messed it up and got the polarity backwards.  The silkscreen is right, i just mixed it up in the schematic and didn't catch it.  Not that big of deal though, easy fix with an exacto knive.  Not to mention since I used surface mount components for the battery backing circuitry I had already planned on assembling all of those parts for anyone who requests battery backing.  To make my loss your gain I'll probably just provide atleast the clip and soldering for free for anyone who thinks the might maybe at some point choose to use the battery backing.  If you know you'll NEVER use it and would rather me not solder on the clip then I can leave it off at your own risk.<br /><br />Anyways I've only tested and ran the full fledged MMC3 with 512KB PRG-ROM and 256KB CHR-ROM, with WRAM.  So I've still got to test out a few more configurations on the MMC3.  Then I'll move on to MMC1, discretes, customs, etc...<br /><br />My goal is to make up a wiki for them to explain exactly how each jumper works and provide pictures with each board config and such.  There is quite a bit of configurability on these to allow them from going to NROM, CNROM, BNROM, AxROM, UxROM, MMC1, MMC3, CHR RAM/ROM, 28-or-32 DIP PRG and CHR memories. Four screen, 32KB WRAM, ENIO, yada yada yada...   So all those solder jumpers you see on the bottom are what select all those choices.  I think I labeled things pretty well with silk screen, and ALL the jumpers are on the bottom for easy access.  I have an unfair advantage since I designed them, but based on the silk I can make all the jumper choices without needing to look a the schematic or board layout, which I will be providing to some degree to keep people from needing to reverse engineer the thing to figure out what signal goes where.  But I'm thinking the wiki will be more useful for that stuff.  Additionally if you designate which mapper/board and memories you plan to use I'll configure all the solder jumpers for you at no charge.  <br /><br />Other than that I for anyone interested in getting boards supplied with socketed memory/cpld's like seen in the photos I'll be allowing that as an option for a small cost.  That would allow someone to use one board and swap out mappers and such as desired.  Or if a 'new' mapper were to come out like the <a href="http://forums.nesdev.com/viewtopic.php?f=9&amp;t=9257" class="postlink">hybrid MMC3</a> we're discussing currently, you could just buy new CPLD's and slap em in yourself.  The CPLD sockets will fit inside a case but the DIP ROM sockets obviously don't...<br /><br />Things are in pretty good shape now.  I will be ready to start selling them in a few weeks.  If there's a specific mapper/board you'd like to see tested sooner vice later feel free to chime in.  TNROM will be one of the first ones up now that I've basically got TNROM/TKROM verified.<br /><br /><img src="https://dl.dropbox.com/u/18341918/INL_ROM%20board%20scan.bmp" alt="Image" /><br /><br /><img src="https://dl.dropbox.com/u/18341918/INLROM%20socketed%20front.jpg" alt="Image" /><br /><br /><img src="https://dl.dropbox.com/u/18341918/INLROM%20back.jpg" alt="Image" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>SnoopKatt</b> [ Sun Sep 23, 2012 9:27 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MMC3 (or similar) reproduction circuit boards. INL-ROM</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />That's great to hear! I love that everything just drops in as well. Good stuff <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MottZilla</b> [ Sun Sep 23, 2012 10:24 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MMC3 (or similar) reproduction circuit boards. INL-ROM</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Awesome. Congrats on getting this far. I'll be looking forward to hearing more. Shame about the battery polarity mix up but it could have been worse.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Sun Sep 23, 2012 12:05 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MMC3 (or similar) reproduction circuit boards. INL-ROM</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Nice board!

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>rainwarrior</b> [ Sun Sep 23, 2012 5:14 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MMC3 (or similar) reproduction circuit boards. INL-ROM</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />It's beautiful!

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Sun Sep 23, 2012 8:41 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MMC3 (or similar) reproduction circuit boards. INL-ROM</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />All in one board, nice!

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>infiniteneslives</b> [ Sun Sep 23, 2012 10:01 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MMC3 (or similar) reproduction circuit boards. INL-ROM</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Thanks for the compliments!  <br /><br /><div class="quotetitle">MottZilla wrote:</div><div class="quotecontent">Awesome. Congrats on getting this far. I'll be looking forward to hearing more. Shame about the battery polarity mix up but it could have been worse.</div><br /><br />Yeah definitely could have been worse, I'm glad it ended up being something that I can repair that's mapper independent.  So I can make the repair and hopefully not concern people much.  It'll only cost me the few mins to do fix each board.  Not sure the best way to handle the fact people might not even want the battery clip on there though.  Because the components for the battery backing are SMT as well, and it doesn't make sense to put those on for every board if people don't intend to use it at all.  The battery clip it's self is pretty cheap, I'd be more than willing to take the hit on one of those for each board I ship, making it so you'd basically have to opt out to not get the clip.  Then getting the components to support battery backing would be optional with the associated (small) cost.  At least that way there wouldn't be the conundrum of changing one's mind if you actually wanted battery backing.  The clip would always be there as if it were considered part of the PCB, and you could add SMT or through hole components on your own down the road if desired.  My real goal is to prevent people from being concerned/doubtful of the board/battery backing.  If I can spend the cost of the clip to alleviate those concerns I'd be happy.  Do you guys have any other suggestions?  Or does this sound like a decent solution?<br /><br /><br /><div class="quotetitle">thefox wrote:</div><div class="quotecontent">All in one board, nice!</div><br />Yeah I think I always had the misconception that making a board that supported nearly every licensed mapper wasn't very possible.  But once I got working on this thing it really started to show it was possible and not actually that hard.  It really helps having the CPLDs high configurability.  Additionally the fact I'm using 2 separate CPLDs really helps out.  Because you don't have to have one big (expensive) CPLD to allow for a 'simple' MMC1.  You could have something excessively more powerful than discrete for only ~1.20 (36Mcells).  Or you can have a FULL MMC3 with two larger CPLDs for $2.25 x 2 = $5.50 (144 Mcells total).  With all those choices it allows the mapper cost to be trimmed to as low as possible.  The large perf area is just the icing on the cake that allows for practically anything.  Since the PCB supports them 'infinite' configurability I was able justify the investment to buy in fairly high quantities to get the best cost per PCB and pass the savings on to everyone. <br /><br />I'll be keeping the same prices I posted <a href="http://forums.nesdev.com/viewtopic.php?f=9&amp;t=8808&amp;p=97879#p97879" class="postlink">a few pages back</a> for small quantity/individual sales since everything went as planned.  I'll probably have some deal where if you buy so many boards you get one more free as well.  If anyone is interested in using them for publishing a homebrew we can negotiate cost, but basically I'd only be looking to charge for labor costs essentially.<br /><br />I'm going to be making a few batches this week.  I'm actually using a $5 toaster oven I picked up from goodwill to solder on the surface mount components <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />  I can't believe how well it works!  Just bake until all the solder melts then shut her down to cool.  The key is in the solder paste stencil I had made up that makes sure you've got just the right amount of solder paste.  I'll have to post some pictures to share the process with you guys.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>nintendo2600</b> [ Tue Sep 25, 2012 3:59 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MMC3 (or similar) reproduction circuit boards. INL-ROM</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I think that is the sexiest PCB I've ever seen! <img src="./images/smilies/icon_eek.gif" alt=":shock:" title="Shocked" />  Congrats and count me in for a at least a half dozen to start. <img src="./images/smilies/icon_mrgreen.gif" alt=":mrgreen:" title="Mr. Green" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>infiniteneslives</b> [ Sun Sep 30, 2012 1:31 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MMC3 (or similar) reproduction circuit boards. INL-ROM</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Some good news!<br /><br />Sat down with good ol' FME7 this evening.  I was able to get nearly the entire chip without much trouble. I've tested and ran 256KB PRG, 256KB CHR, and 8KB WRAM and it's working great!  At the moment I wasn't able to fit the 512KB PRG in there,  I think I can fit it in if desired but it might come at the cost of something minor that's not necessary.  I might be able to fit it in if I mix things up again between the two CPLDs.  But it plays both games that used this mapper, and any desire to have 512KB would be a homebrew so things could be modified as desired for the full 512KB PRG if desired.  Actually it wasn't the number of macrocells that was causing fitting problems with the extra PRG A18 bit, it was trying to &quot;map 64 equations into 5 function blocks&quot; that prevented it from fitting.  I've ran into that a few times, so if I mix things around enough I can probably fit everything in, but should be good enough for now <img src="./images/smilies/icon_wink.gif" alt=";)" title="Wink" /><br /><br />Next task is to iron out the details of slapping the YM2419/8910 FM synth on the board to get the <strong>GLORIOUS Sunsoft5</strong> with full audio!    <img src="./images/smilies/icon_razz.gif" alt=":P" title="Razz" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MottZilla</b> [ Sun Sep 30, 2012 11:12 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MMC3 (or similar) reproduction circuit boards. INL-ROM</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />That is good news. =)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>SnoopKatt</b> [ Sun Sep 30, 2012 11:39 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MMC3 (or similar) reproduction circuit boards. INL-ROM</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />That sounds pretty epic! Good to hear it's going well <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>infiniteneslives</b> [ Mon Oct 01, 2012 12:17 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MMC3 (or similar) reproduction circuit boards. INL-ROM</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Even better news:<br /><div class="quotetitle">infiniteneslives wrote:</div><div class="quotecontent">Next task is to iron out the details of slapping the YM2419/8910 FM synth on the board to get the <strong>GLORIOUS Sunsoft5</strong> with full audio!    <img src="./images/smilies/icon_razz.gif" alt=":P" title="Razz" /></div><br />Mark that one off the list <img src="./images/smilies/icon_wink.gif" alt=";)" title="Wink" />   LONG LIVE THE JOKER!!!<br /><br /><img src="https://dl.dropbox.com/u/18341918/INL_ROM%20sunsoft5%20front.jpg" alt="Image" /><br /><br /><img src="https://dl.dropbox.com/u/18341918/INL_ROM%20sunsoft5%20back.jpg" alt="Image" /><br /><br />So the clock divider and $C000/E000 decoding is all within the CPLD.  One other bonus I forgot to point out that I made use of here is the 3.3V regulator provides a reset signal at power up.  So that's the blue wire you see on top that resets the synth, you could use it for anything if desired.  But you can also choose the power up state of the CPLD cells internally so it's not of much use except for cases like this.<br /><br />A few wires here and there but really not too shabby.  The mixing resistors are all below the 8910, but they'd fit nicely elsewhere if I had concerns about closing it up in a case.  The bottom side of the PCB would actually have been even better than the route I took.<br /><br /> Wowzers I can't believe the how awesome it sounds coming out of the NES.  I knew it was supposed to be good but wow.  I've only heard it in emulators and youtube previously, hearing it from the NES is like hearing your favorite band in person for the first time. <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" />  Awhile back I heard that they really didn't use the 8910 for much more than percussion, not sure what they were smoking...

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>rainwarrior</b> [ Mon Oct 01, 2012 1:00 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: MMC3/Sunsoft-5B reproduction circuit boards. INL-ROM</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">infiniteneslives wrote:</div><div class="quotecontent">Wowzers I can't believe the how awesome it sounds coming out of the NES.  I knew it was supposed to be good but wow.  I've only heard it in emulators and youtube previously, hearing it from the NES is like hearing your favorite band in person for the first time. <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" />  Awhile back I heard that they really didn't use the 8910 for much more than percussion, not sure what they were smoking...</div><br /><br />Actually, they used it for 3 square channels in Gimmick!, and ignore the noise and envelope generators. The reasons are sensible, I think. The 2A03 already has noise. The envelope generator as an envelope is kind of made obsolete by volume macros. The envelope generator as bass is okay, though at the given clock rate it's really hard to tune. However, Sunsoft already had a strong tradition of DPCM bassline technology, so it wasn't needed anyway.<br /><br />The other thing is it's a YM2149F, not an AY-3-8910, and the reason this is important is that the YM2149 has a pin setting that divides the input clock by half (which is how it is used in the Sunsoft 5B), so if you're using an AY-3-8910 you'll need to manually divide the clock if you want the correct pitch.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>5</strong> of <strong>14</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>