<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<link rel="icon" href="/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />

<title>nesdev.com &bull; View topic - Help with some code for reading keypresses</title>

<link rel="alternate" type="application/atom+xml" title="Feed - nesdev.com" href="http://forums.nesdev.com/feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - News" href="http://forums.nesdev.com/feed.php?mode=news" /><link rel="alternate" type="application/atom+xml" title="Feed - All forums" href="http://forums.nesdev.com/feed.php?mode=forums" /><link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="http://forums.nesdev.com/feed.php?mode=topics" /><link rel="alternate" type="application/atom+xml" title="Feed - Active Topics" href="http://forums.nesdev.com/feed.php?mode=topics_active" /><link rel="alternate" type="application/atom+xml" title="Feed - Forum - Newbie Help Center" href="http://forums.nesdev.com/feed.php?f=10" /><link rel="alternate" type="application/atom+xml" title="Feed - Topic - Help with some code for reading keypresses" href="http://forums.nesdev.com/feed.php?f=10&amp;t=3869" />

<link rel="stylesheet" href="./style.php?id=1&amp;lang=en" type="text/css" />

<script type="text/javascript">
// <![CDATA[


function popup(url, width, height, name)
{
	if (!name)
	{
		name = '_popup';
	}

	window.open(url.replace(/&amp;/g, '&'), name, 'height=' + height + ',resizable=yes,scrollbars=yes,width=' + width);
	return false;
}

function jumpto()
{
	var page = prompt('Enter the page number you wish to go to:', '1');
	var per_page = '15';
	var base_url = './viewtopic.php?f=10&amp;t=3869';

	if (page !== null && !isNaN(page) && page == Math.floor(page) && page > 0)
	{
		if (base_url.indexOf('?') == -1)
		{
			document.location.href = base_url + '?start=' + ((page - 1) * per_page);
		}
		else
		{
			document.location.href = base_url.replace(/&amp;/g, '&') + '&start=' + ((page - 1) * per_page);
		}
	}
}

/**
* Find a member
*/
function find_username(url)
{
	popup(url, 760, 570, '_usersearch');
	return false;
}

/**
* Mark/unmark checklist
* id = ID of parent container, name = name prefix, state = state [true/false]
*/
function marklist(id, name, state)
{
	var parent = document.getElementById(id);
	if (!parent)
	{
		eval('parent = document.' + id);
	}

	if (!parent)
	{
		return;
	}

	var rb = parent.getElementsByTagName('input');
	
	for (var r = 0; r < rb.length; r++)
	{
		if (rb[r].name.substr(0, name.length) == name)
		{
			rb[r].checked = state;
		}
	}
}



// ]]>
</script>
</head>
<body class="ltr">

<a name="top"></a>

<div id="wrapheader">

	<div id="logodesc">
	</div>

	<div id="menubar">

		<table width="100%" cellspacing="0">
		<tr>
			<td rowspan="2"><a href="./index.php"><img src="./styles/subsilver2/imageset/site_logo.gif" alt="" title="" /></a></td>
			<td width="100%" align="center"><h1>nesdev.com</h1><span class="gen">NES Development and Strangulation Records message boards</span></td>
		</tr>
		<tr>
			<td align="center">
				<a href="./faq.php"><img src="./styles/prosilver/theme/images/icon_mini_faq.gif" width="12" height="13" alt="*" /> FAQ</a>
				&nbsp; &nbsp;<a href="./search.php"><img src="./styles/prosilver/theme/images/icon_mini_search.gif" width="12" height="13" alt="*" /> Search</a>
				<br />	
				 &nbsp;<a href="./ucp.php?mode=register"><img src="./styles/prosilver/theme/images/icon_mini_register.gif" width="12" height="13" alt="*" /> Register</a>
					&nbsp; &nbsp;<a href="./ucp.php?mode=login"><img src="./styles/prosilver/theme/images/icon_mini_login.gif" width="12" height="13" alt="*" /> Login</a>&nbsp;
			</td>
		</tr>
		</table>
	</div>

	<div id="datebar">
		<table width="100%" cellspacing="0">
		<tr>
			<td class="gensmall"></td>
			<td class="gensmall" align="right">It is currently Mon Sep 22, 2014 7:16 am<br /></td>
		</tr>
		</table>
	</div>

</div>

<div id="wrapcentre">

	
	<p class="searchbar">
		<span style="float: left;"><a href="./search.php?search_id=unanswered">View unanswered posts</a> | <a href="./search.php?search_id=active_topics">View active topics</a></span>
		
	</p>
	

	<br style="clear: both;" />

	<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=24">NES / Famicom</a> &#187; <a href="./viewforum.php?f=10">Newbie Help Center</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>

	<br />

<div id="pageheader">
	<h2><a class="titles" href="./viewtopic.php?f=10&amp;t=3869">Help with some code for reading keypresses</a></h2>


	<p class="moderators">Moderator: <a href="./memberlist.php?mode=group&amp;g=320">Moderators</a></p>

</div>

<br clear="all" /><br />

<div id="pagecontent">

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=10"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=10&amp;t=3869"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>1</strong> of <strong>2</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 23 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"><b><a href="#" onclick="jumpto(); return false;" title="Click to jump to pageâ€¦">Go to page</a> <strong>1</strong><span class="page-sep">, </span><a href="./viewtopic.php?f=10&amp;t=3869&amp;start=15">2</a> &nbsp;<a href="./viewtopic.php?f=10&amp;t=3869&amp;start=15">Next</a></b></td>
		
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat">
			<table width="100%" cellspacing="0">
			<tr>
				<td class="nav" nowrap="nowrap">&nbsp;
				<a href="./viewtopic.php?f=10&amp;t=3869&amp;view=print" title="Print view">Print view</a>
				</td>
				<td class="nav" align="right" nowrap="nowrap"><a href="./viewtopic.php?f=10&amp;t=3869&amp;view=previous">Previous topic</a> | <a href="./viewtopic.php?f=10&amp;t=3869&amp;view=next">Next topic</a>&nbsp;</td>
			</tr>
			</table>
		</td>
	</tr>

	</table>


	<table class="tablebg" width="100%" cellspacing="1">
	
		<tr>
			<th>Author</th>
			<th>Message</th>
		</tr>
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p30473"></a>
				<b class="postauthor">electro</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p30473">Help with some code for reading keypresses</a></div><div style="float: right;"><a href="./viewtopic.php?p=30473#p30473"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Jan 29, 2008 6:25 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=3477.jpg" width="90" height="93" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Tue Jan 29, 2008 11:12 am<br /><b>Posts:</b> 132<br /><b>Location:</b> New York
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Hi,
<br />
<br />This code was cut and pasted from "Rwin's" "Jumpy" program which just displayed a little character that jumped up and down and could be moved left and right with the keypad.
<br />
<br />I was only interested in the key reading section. I left out the sub routines. That's where I'll be adding code which responds to the keypresses.
<br />
<br />My next step is to add in the subroutines such as; if the left key is pressed write to one of the sound channels, if the right key pressed then write to another sound channel, etc.
<br />
<br />
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent"><br /><br /><br />;;---CODE START---;; I copied parts of this from -'Rwin's &quot;Jumpy&quot; rom dated 04/11/2002<br /><br />&nbsp; &nbsp;.inesprg 1<br />&nbsp; &nbsp;.ineschr 0 <br /><br />&nbsp; &nbsp;.bank 1<br />&nbsp; &nbsp;.org $FFFA<br />&nbsp; &nbsp;.dw 0 ; no VBlank routine<br />&nbsp; &nbsp;.dw keypress <br />&nbsp; &nbsp;.dw 0<br /><br />&nbsp; &nbsp;.bank 0<br />&nbsp; &nbsp;.org $8000<br /><br />keypress:<br /><br />&nbsp; &nbsp;jsr resetjoy ; goto to the routine which resets the joypad #1 status<br /><br />&nbsp; &nbsp;lda $4016 ; checks if &quot;a&quot; button is pressed<br />&nbsp; &nbsp;bne abutton ; goto jump routine if &quot;a&quot; is pressed<br /><br />&nbsp; &nbsp;lda $4016 ;&nbsp; &nbsp;<br />&nbsp; &nbsp;lda $4016 ;<br />&nbsp; &nbsp;lda $4016 ;<br />&nbsp; &nbsp;lda $4016 ;<br />&nbsp; &nbsp;lda $4016 ;<br />&nbsp; &nbsp;lda $4016 ; checks if left is pressed<br />&nbsp; &nbsp;bne lft&nbsp; &nbsp;&nbsp; ; if left is pressed goto the routine for moving the sprite to the left<br />&nbsp; &nbsp;&nbsp; &nbsp;<br />&nbsp; &nbsp;lda $4016 ; checks if right is pressed<br />&nbsp; &nbsp;bne rt&nbsp; &nbsp; ; if right is pressed goto the routine for moving the sprite to the right<br /><br /><br />&nbsp; &nbsp;jmp keypress ; Jump to the begin of the main loop<br /><br /><br />&nbsp; &nbsp;resetjoy:<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;lda #$01&nbsp; ; Writing #$01 to $4016 &#40;=joypad1&#41; followed by writing #$00 <br />&nbsp; &nbsp;sta $4016 ; to $4016 resets status of joypad 1<br />&nbsp; &nbsp;lda #$00<br />&nbsp; &nbsp;sta $4016<br />&nbsp; &nbsp;rts<br /><br /><br />lft: &nbsp; &nbsp;; this is where some other code will respond to left arrow keypress<br /><br />&nbsp; &nbsp;jmp keypress<br /><br />rt:&nbsp; &nbsp;; right arrow keypress response<br /><br />&nbsp; &nbsp;jmp keypress<br /><br />abutton:&nbsp; &nbsp;; a button sub routine<br /><br />&nbsp; &nbsp;jmp keypress<br /><br /><br /></div><br /><br />Where we have;<br /><br />lda $4016<br />lda $4016<br />(continued 6 times, 8 times total in the "keypress" section)<br /><br />One "lda $4016" for each of the 8 buttons of the keypad?<br /><br />Is this storing a zero in the accumulator each time?<br />Is it clearing the bit for each button?<br /><br />I'm not a programmer, I apologize for any really confused questions I might ask (they'll probably be a lot of them.)<br /><br />Thanks in advance,<br />T<br /><br />[/code]</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3477"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p30475"></a>
				<b class="postauthor">Disch</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p30475">Re: Help with some code for reading keypresses</a></div><div style="float: right;"><a href="./viewtopic.php?p=30475#p30475"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Jan 29, 2008 7:31 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=33.png" width="65" height="75" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Wed Nov 10, 2004 6:47 pm<br /><b>Posts:</b> 1694
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">electro wrote:</div><div class="quotecontent">One "lda $4016" for each of the 8 buttons of the keypad?</div><br /><br />Yes.  One button at a time.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Is this storing a zero in the accumulator each time?<br /></div><br /><br />No.  Due to some bits of $4016 being open bus, what you actually get is $40 if the button is not pressed, and $41 if the button is pressed.  Note that *neither* of these are zero, so a BNE following your LDA will not work.  You'll need to get the status of the low bit somehow.<br /><br />One way to do this is to mask out the low bit with an AND operation<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">LDA $4016<br />AND #$01&nbsp; &nbsp; &nbsp; ; only want low bit<br />BNE wherever&nbsp; ; jump if button pressed<br /></div><br /><br />Another way is to shift the low bit into the carry flag by way of LSR:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">LDA $4016<br />LSR A&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; low bit moves into C flag<br />BCS wherever&nbsp; ; jump if C set &#40;button was pressed&#41;<br /></div><br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Is it clearing the bit for each button?<br /></div><br />kinda....  I'm not sure I'm understanding what you're asking here... but anyway what happens is this:<br /><br />Strobing the joypad (writing 1, then 0 to $4016) takes a "snapshot" of what buttons the user is currently pressing.  Once this snapshot is taken, it won't be changed until another snapshot is taken.  When you read $4016, you're not really getting the realtime state of the buttons, you're getting that snapshot.<br /><br />Once you read a button status from $4016, you <em>cannot</em> read that paticular button state from $4016 again unless you take another snapshot and start the reading process all over.<br /><br />This makes $4016 not useful at all for quick access to button status.  Often in a game you'll need to check button status in several areas, and doing over half a dozen $4016 reads each time isn't very practical.  Because of this... games generally keep a variable in RAM where they dump the button states to.  Then they can read any button's state any time without hassling with $4016.  Though you'd still need to strobe $4016 and read from it every once in a while to get fresh info -- games do this once every frame.<br /><br />A way this might be accomplished:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent"><br />; assuming button_state is a variable in RAM<br />;&nbsp; &nbsp;&#40;this routine is not optimized -- it's just to show the idea<br />;&nbsp; &nbsp;there are tricks and stuff to speed it up but I figure it's better<br />;&nbsp; &nbsp;for you to just grasp the concept first&#41;<br /><br />updatejoy:<br />&nbsp; ; first, strobe the joypad<br />&nbsp; LDA #1<br />&nbsp; STA $4016<br />&nbsp; LDA #0<br />&nbsp; STA $4016<br /><br />&nbsp; ; now we're going to loop 8 times &#40;once for each button&#41;, and<br />&nbsp; ; rotate each button's status into our button_state variable<br /><br />&nbsp; LDX #$08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ; set X to 8 &#40;the number of times we want to loop&#41;<br />&nbsp; joyloop:<br />&nbsp; &nbsp; LDA $4016&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; get button state<br />&nbsp; &nbsp; LSR A&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; shift it into the C flag<br />&nbsp; &nbsp; ROR button_state&nbsp; ; rotate C flag into our button_state variable<br />&nbsp; &nbsp; DEX&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; decrement X &#40;our loop counter&#41;<br />&nbsp; &nbsp; BNE joyloop&nbsp; &nbsp; &nbsp; &nbsp;; jump back to our loop until X is zero<br /><br />&nbsp; RTS<br /></div><br /><br />If you call that routine once per frame... 'button_state' will be refreshed with the status of all the buttons -- each bit being one of the buttons.  You can then use an AND to mask out which button you're interested in:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; LDA button_state<br />&nbsp; AND #%10000000&nbsp; ; check high bit &#40;right&#41;<br />&nbsp; BNE right_is_down<br /><br />&nbsp; LDA button_state<br />&nbsp; AND #%00001000<br />&nbsp; BNE start_is_down<br /><br />&nbsp; ; etc<br /></div></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=33"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p30484"></a>
				<b class="postauthor">electro</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p30484"></a></div><div style="float: right;"><a href="./viewtopic.php?p=30484#p30484"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Jan 30, 2008 6:29 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=3477.jpg" width="90" height="93" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Tue Jan 29, 2008 11:12 am<br /><b>Posts:</b> 132<br /><b>Location:</b> New York
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Thanks a lot for your help. This is a lot fancier than what I've seen.
<br />
<br />I think I'm understanding most of what you described. I have to digest it.
<br />
<br />When you say "what you actually get is $40 if the button is not pressed, and $41 if the button is pressed."
<br />
<br />Those hex numbers are being stored in the accumulator?
<br />
<br />If so then I can understand why we're doing the other stuff such as;
<br />AND #01 to get the low bit of a button press.
<br />
<br />I still have to go over the ROR stuff.
<br />
<br />Thanks again, very very educational. Appreciate it.
<br />
<br />T</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3477"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p30485"></a>
				<b class="postauthor" style="color: #AA0000">tepples</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p30485"></a></div><div style="float: right;"><a href="./viewtopic.php?p=30485#p30485"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Jan 30, 2008 6:45 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Sep 19, 2004 11:12 pm<br /><b>Posts:</b> 12429<br /><b>Location:</b> NE Indiana, USA (NTSC)
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">electro wrote:</div><div class="quotecontent">When you say "what you actually get is $40 if the button is not pressed, and $41 if the button is pressed."<br /><br />Those hex numbers are being stored in the accumulator?</div><br />Yes. You get some of the bits from the controller circuitry, and you get some of the bits left over from the last byte of the instruction.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I still have to go over the ROR stuff.</div>
<br />ROR shifts the entire byte to the right by 1 bit, puts the old carry as the new bit 7, and puts the old bit 0 as the new carry. ROL does the opposite. LSR is a shortcut for CLC ROR, and ASL is CLC ROL.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=9"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p30487"></a>
				<b class="postauthor">electro</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p30487"></a></div><div style="float: right;"><a href="./viewtopic.php?p=30487#p30487"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Jan 30, 2008 7:29 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=3477.jpg" width="90" height="93" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Tue Jan 29, 2008 11:12 am<br /><b>Posts:</b> 132<br /><b>Location:</b> New York
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">tepples wrote:</div><div class="quotecontent"><div class="quotetitle">electro wrote:</div><div class="quotecontent">When you say "what you actually get is $40 if the button is not pressed, and $41 if the button is pressed."<br /><br />Those hex numbers are being stored in the accumulator?</div><br />Yes. You get some of the bits from the controller circuitry, and you get some of the bits left over from the last byte of the instruction.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I still have to go over the ROR stuff.</div><br />ROR shifts the entire byte to the right by 1 bit, puts the old carry as the new bit 7, and puts the old bit 0 as the new carry. ROL does the opposite. LSR is a shortcut for CLC ROR, and ASL is CLC ROL.</div>
<br />
<br />Thank you. I see.
<br />
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent"><br />LDX #$08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ; set X to 8 &#40;the number of times we want to loop&#41; <br />&nbsp; joyloop: <br />&nbsp; &nbsp; LDA $4016&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; get button state <br />&nbsp; &nbsp; LSR A&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; shift it into the C flag <br />&nbsp; &nbsp; ROR button_state&nbsp; ; rotate C flag into our button_state variable <br />&nbsp; &nbsp; DEX&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; decrement X &#40;our loop counter&#41; <br />&nbsp; &nbsp; BNE joyloop&nbsp; &nbsp; &nbsp; &nbsp;; jump back to our loop until X is zero <br /><br /></div><br /><br /><br /><br />So in this loop (above) we're shifting the low bit of 01000000 or 01000001 into the carry bit using LSR.<br />Then shifting the carry bit using ROR into the button_state variable.<br /><br />*After ROR does its thing the carry bit is now the high bit?<br /><br />Doing that eight times, once for each button.<br /><br />I think I understand now, or starting to.<br /><br />But how did you guys know it was actually a $40 for no press and a $41 for a press?<br /><br />Thanks, extremely helpful.<br /><br />T[/code]</div>

					
							<br /><br />
							<span class="gensmall">Last edited by <a href="./memberlist.php?mode=viewprofile&amp;u=3477">electro</a> on Thu Jan 31, 2008 6:45 am, edited 3 times in total.</span>
						<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3477"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p30492"></a>
				<b class="postauthor" style="color: #AA0000">tepples</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p30492"></a></div><div style="float: right;"><a href="./viewtopic.php?p=30492#p30492"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Jan 30, 2008 8:48 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Sep 19, 2004 11:12 pm<br /><b>Posts:</b> 12429<br /><b>Location:</b> NE Indiana, USA (NTSC)
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">electro wrote:</div><div class="quotecontent">The AND #01 I've been seeing in people's code makes sense now since we only want the low bit. But how did you guys know it was actually a $40 for no press and a $41 for a press?</div><br />Some of us ran tests on NES hardware. Others watched (especially unlicensed) games run in emulators, looking for why they expected exactly $41 to continue. Then the NES reverse engineering community investigated further, and found that the three bytes on the data bus prior to this were $A5 $16 $40 (LDA $4016), resulting in a hypothesis of bus capacitance (the $40). Further tests confirmed this behavior: reading the controller port with an indexed mode with a page crossing (e.g. LDX #$96 LDA $3F80,X) returned something other than $40 or $41 in register A.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Are there any tutorials or other material on reading the gamepads?</div>
<br />You could try <a href="http://nesdevwiki.org/index.php/Gamepad_code" class="postlink">the wiki</a>.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=9"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p30522"></a>
				<b class="postauthor">electro</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p30522"></a></div><div style="float: right;"><a href="./viewtopic.php?p=30522#p30522"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Jan 31, 2008 7:40 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=3477.jpg" width="90" height="93" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Tue Jan 29, 2008 11:12 am<br /><b>Posts:</b> 132<br /><b>Location:</b> New York
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="codetitle"><b>Code:</b></div><div class="codecontent"><br />&nbsp;LDX #$08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ; set X to 8 &#40;the number of times we want to loop&#41; <br />&nbsp; joyloop: <br />&nbsp; &nbsp; LDA $4016&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; get button state <br />&nbsp; &nbsp; LSR A&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; shift it into the C flag <br />&nbsp; &nbsp; ROR button_state&nbsp; ; rotate C flag into our button_state variable <br />&nbsp; &nbsp; DEX&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; decrement X &#40;our loop counter&#41; <br />&nbsp; &nbsp; BNE joyloop&nbsp; &nbsp; &nbsp; &nbsp;; jump back to our loop until X is zero <br /><br /></div>
<br />
<br />Just wondering if I understand this correctly.
<br />
<br />If at the start of the loop the accumulator had #%01000001 (#$41) in it.
<br />After LSR we would now have: #%00100000 (#$20) and the carry flag would be set? 
<br />
<br />Then, after ROR, the carry bit gets put into the "high bit" position (position 7), while also shifting all the bits over again to produce this: #%10010000 (#$90), stored in the button_state variable after the first run through the loop)?
<br />
<br />Also, after ROR, would the carry flag then be automatically cleared since the low bit is a zero (after the first run through the loop)?
<br />
<br />Thanks,
<br />Tony</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3477"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p30523"></a>
				<b class="postauthor" style="color: #AA0000">tepples</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p30523"></a></div><div style="float: right;"><a href="./viewtopic.php?p=30523#p30523"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Jan 31, 2008 8:24 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Sep 19, 2004 11:12 pm<br /><b>Posts:</b> 12429<br /><b>Location:</b> NE Indiana, USA (NTSC)
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">electro wrote:</div><div class="quotecontent">Just wondering if I understand this correctly.<br /><br />If at the start of the loop the accumulator had #%01000001 (#$41) in it.<br />After LSR we would now have: #%00100000 (#$20) and the carry flag would be set?</div><br />Correct so far.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Then, after ROR, the carry bit gets put into the "high bit" position (position 7), while also shifting all the bits over again to produce this: #%10010000 (#$90), stored in the button_state variable after the first run through the loop)?</div><br />Almost. What was already in button_state on the previous run through the loop? Or to put it another way, "shifting all the bits" of what?<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Also, after ROR, would the carry flag then be automatically cleared since the low bit is a zero (after the first run through the loop)?</div>
<br />It depends on what was in button_state before the first run.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=9"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p30524"></a>
				<b class="postauthor">electro</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p30524"></a></div><div style="float: right;"><a href="./viewtopic.php?p=30524#p30524"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Jan 31, 2008 8:59 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=3477.jpg" width="90" height="93" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Tue Jan 29, 2008 11:12 am<br /><b>Posts:</b> 132<br /><b>Location:</b> New York
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">tepples wrote:</div><div class="quotecontent">Almost. What was already in button_state on the previous run through the loop? Or to put it another way, "shifting all the bits" of what?<br /></div>
<br />
<br />
<br />I thought that "ROR button_state" meant that we perform ROR on the number in the accumator after "LSR A", and then store the result in the button_state variable.
<br />
<br />In other words I thought we were performing ROR on this number: 
<br />#%00100000, which would have produced this if the C flag was set: 
<br />#%10010000 ?. 
<br />
<br />Then, I thought that number would be stored the button_state variable.
<br />
<br />(I guess that would have been:
<br />LDA #$41
<br />LSR A
<br />ROR A
<br />STA button_state
<br />
<br />(Which would make no sense...)
<br />
<br />Ok, I <em>think</em> I see where I went wrong. In the "joyloop", the "ROR button_state" is perfroming ROR on the number stored in the button_state variable, not the contents of the accumulator after "LSR A" ?
<br />
<br />In the "LSR A" of "joyloop", we're just using the low bit to set or clear the C flag. In the case of $41 the C flag would be set after "LSR A", and then using ROR the bit in the C would be added into the high bit position of what was already in the button_state variable, (and the bits of what ever was in the button_state variable would have also been shifted to the right) ?
<br />
<br />Thanks for the help.
<br />
<br />T</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3477"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p30526"></a>
				<b class="postauthor" style="color: #AA0000">tepples</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p30526"></a></div><div style="float: right;"><a href="./viewtopic.php?p=30526#p30526"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Jan 31, 2008 10:26 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Sep 19, 2004 11:12 pm<br /><b>Posts:</b> 12429<br /><b>Location:</b> NE Indiana, USA (NTSC)
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">electro wrote:</div><div class="quotecontent">I thought that "ROR button_state" meant that we perform ROR on the number in the accumator after "LSR A", and then store the result in the button_state variable.</div><br />The 6502 instruction:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; ROR button_state</div><br />What you thought was happening:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; ROR A<br />&nbsp; STA button_state</div><br />What is actually happening is closer to this:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; PHA<br />&nbsp; LDA button_state<br />&nbsp; ROR A<br />&nbsp; STA button_state<br />&nbsp; PLA</div><br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Ok, I <em>think</em> I see where I went wrong. In the "joyloop", the "ROR button_state" is perfroming ROR on the number stored in the button_state variable, not the contents of the accumulator after "LSR A" ?</div><br />Correct.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">In the "LSR A" of "joyloop", we're just using the low bit to set or clear the C flag. In the case of $41 the C flag would be set after "LSR A", and then using ROR the bit in the C would be added into the high bit position of what was already in the button_state variable, (and the bits of what ever was in the button_state variable would have also been shifted to the right) ?</div>
<br />Yes.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=9"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p30528"></a>
				<b class="postauthor">electro</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p30528"></a></div><div style="float: right;"><a href="./viewtopic.php?p=30528#p30528"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Jan 31, 2008 2:30 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=3477.jpg" width="90" height="93" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Tue Jan 29, 2008 11:12 am<br /><b>Posts:</b> 132<br /><b>Location:</b> New York
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Thanks for the help, really appreciate it.
<br />
<br />I understand this now:
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">updatejoy: <br />&nbsp; ; first, strobe the joypad <br />&nbsp; LDA #1 <br />&nbsp; STA $4016 <br />&nbsp; LDA #0 <br />&nbsp; STA $4016 <br /><br />&nbsp; ; now we're going to loop 8 times &#40;once for each button&#41;, and <br />&nbsp; ; rotate each button's status into our button_state variable <br /><br />&nbsp; LDX #$08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ; set X to 8 &#40;the number of times we want to loop&#41; <br />&nbsp; joyloop: <br />&nbsp; &nbsp; LDA $4016&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; get button state <br />&nbsp; &nbsp; LSR A&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; shift it into the C flag <br />&nbsp; &nbsp; ROR button_state&nbsp; ; rotate C flag into our button_state variable <br />&nbsp; &nbsp; DEX&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; decrement X &#40;our loop counter&#41; <br />&nbsp; &nbsp; BNE joyloop&nbsp; &nbsp; &nbsp; &nbsp;; jump back to our loop until X is zero <br /><br />&nbsp; RTS <br /></div><br /><br />And think I understand what's happening here now as well:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">LDA button_state <br />&nbsp; AND #%10000000&nbsp; ; check high bit &#40;right&#41; <br />&nbsp; BNE right_is_down <br /><br />&nbsp; LDA button_state <br />&nbsp; AND #%00001000 <br />&nbsp; BNE start_is_down <br /></div>
<br />
<br />So the "AND" is a kind of comparison operation?
<br />
<br />In the first instance using the "mask" above, regardless of any other bits in button_state, if there is a 1 in the 7th position (of button_state) than we will branch to the subroutine "right is down"?
<br />
<br />Same with second instance, if there is a 1 in the 3rd poistion we can branch to "start_is_down"?
<br />
<br />Thanks again, extremely helpful stuff.
<br />
<br />T</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3477"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p30533"></a>
				<b class="postauthor" style="color: #AA0000">tepples</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p30533"></a></div><div style="float: right;"><a href="./viewtopic.php?p=30533#p30533"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Feb 01, 2008 4:45 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Sep 19, 2004 11:12 pm<br /><b>Posts:</b> 12429<br /><b>Location:</b> NE Indiana, USA (NTSC)
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">electro wrote:</div><div class="quotecontent">And think I understand what's happening here now as well:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">LDA button_state <br />&nbsp; AND #%10000000&nbsp; ; check high bit &#40;right&#41; <br />&nbsp; BNE right_is_down <br /><br />&nbsp; LDA button_state <br />&nbsp; AND #%00001000 <br />&nbsp; BNE start_is_down <br /></div><br /><br />So the "AND" is a kind of comparison operation?</div><br />The AND instruction performs a <a href="http://en.wikipedia.org/wiki/Logical_conjunction#Bitwise_operation" class="postlink">bitwise logical conjunction</a>, the same operation as the &amp; operator in the C language.<br /><br />This code:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; LDA #%00111100<br />&nbsp; AND #%00001111</div><br />leaves %00001100 ($0C) in register A.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">In the first instance using the "mask" above, regardless of any other bits in button_state, if there is a 1 in the 7th position (of button_state) than we will branch to the subroutine "right is down"?</div>
<br />Yes. When there is a 0 in bit 7, the AND results in %00000000 ($00) in A. Like other <a href="http://en.wikipedia.org/wiki/Arithmetic_logic_unit" class="postlink">ALU</a> results of zero, this puts 1 in P.Z, so BNE (branch if P.Z is 0) does nothing.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=9"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p30535"></a>
				<b class="postauthor">electro</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p30535"></a></div><div style="float: right;"><a href="./viewtopic.php?p=30535#p30535"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Feb 01, 2008 8:12 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=3477.jpg" width="90" height="93" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Tue Jan 29, 2008 11:12 am<br /><b>Posts:</b> 132<br /><b>Location:</b> New York
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Now I guess I need to know what the binary number is for each individual key on the keypad, so that I can then "mask" them with the "AND" operation?
<br />
<br />I was given "right" and "start".
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; LDA button_state <br />&nbsp; AND #%10000000&nbsp; ; check high bit &#40;right&#41; <br />&nbsp; BNE right_is_down <br /><br />&nbsp; LDA button_state <br />&nbsp; AND #%00001000 <br />&nbsp; BNE start_is_down<br /></div> 
<br />
<br />
<br />
<br />Then setting up my button_state variable in RAM, would that be an equate?
<br />
<br />Like button_state = a memory address in RAM?
<br />
<br />Thanks again,
<br />T</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3477"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p30536"></a>
				<b class="postauthor" style="color: #AA0000">tepples</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p30536"></a></div><div style="float: right;"><a href="./viewtopic.php?p=30536#p30536"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Feb 01, 2008 9:07 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Sep 19, 2004 11:12 pm<br /><b>Posts:</b> 12429<br /><b>Location:</b> NE Indiana, USA (NTSC)
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">electro wrote:</div><div class="quotecontent">Now I guess I need to know what the binary number is for each individual key on the keypad, so that I can then "mask" them with the "AND" operation?</div><br />Yes. You can come up with these by looking at the order that keypresses come out of a <a href="http://nesdevwiki.org/index.php/Standard_Controller" class="postlink">standard controller</a>.  And it's best to assign names for constants like these:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">KEY_START = %00001000<br />KEY_RIGHT = %10000000</div><br />Then you can use these constants in code:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; AND #KEY_RIGHT</div><br /><br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Then setting up my button_state variable in RAM, would that be an equate?<br /><br />Like button_state = a memory address in RAM?</div><br />That will work. Some might prefer a "reserve uninitialized space" command, such as this, in CA65 syntax:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">.segment &quot;ZEROPAGE&quot;<br />button_state: .res 1</div></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=9"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p30537"></a>
				<b class="postauthor">electro</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p30537"></a></div><div style="float: right;"><a href="./viewtopic.php?p=30537#p30537"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Feb 01, 2008 10:48 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=3477.jpg" width="90" height="93" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Tue Jan 29, 2008 11:12 am<br /><b>Posts:</b> 132<br /><b>Location:</b> New York
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Great. Thanks for the link, very helpful.
<br />
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">key_a = %00000001 ; A button press<br /><br />key_b = %00000010 ; B<br /><br />key_select = %00000100 ; select<br /><br />key_start = %00001000 ; start<br /><br />key_up = %00010000 ; up arrow<br /><br />key_down = %00100000 ; down <br /><br />key_left = %01000000 ; left arrow<br /><br />key_right = %10000000 ; right<br /></div>
<br />
<br />Wondering now how I might read combinations of buttons. Would I need to store another variable in ram called button_state2 ?
<br />
<br />Well, that's for later. I should just stick to trying to get this working.
<br />
<br />Thanks again,
<br />T</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3477"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table width="100%" cellspacing="1" class="tablebg">
	<tr align="center">
		<td class="cat"><form name="viewtopic" method="post" action="./viewtopic.php?f=10&amp;t=3869"><span class="gensmall">Display posts from previous:</span> <select name="st" id="st"><option value="0" selected="selected">All posts</option><option value="1">1 day</option><option value="7">7 days</option><option value="14">2 weeks</option><option value="30">1 month</option><option value="90">3 months</option><option value="180">6 months</option><option value="365">1 year</option></select>&nbsp;<span class="gensmall">Sort by</span> <select name="sk" id="sk"><option value="a">Author</option><option value="t" selected="selected">Post time</option><option value="s">Subject</option></select> <select name="sd" id="sd"><option value="a" selected="selected">Ascending</option><option value="d">Descending</option></select>&nbsp;<input class="btnlite" type="submit" value="Go" name="sort" /></form></td>
	</tr>
	</table>
	

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=10"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=10&amp;t=3869"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>1</strong> of <strong>2</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 23 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"><b><a href="#" onclick="jumpto(); return false;" title="Click to jump to pageâ€¦">Go to page</a> <strong>1</strong><span class="page-sep">, </span><a href="./viewtopic.php?f=10&amp;t=3869&amp;start=15">2</a> &nbsp;<a href="./viewtopic.php?f=10&amp;t=3869&amp;start=15">Next</a></b></td>
		
	</tr>
	</table>

</div>

<div id="pagefooter"></div>

<br clear="all" />
<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=24">NES / Famicom</a> &#187; <a href="./viewforum.php?f=10">Newbie Help Center</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>
	<br clear="all" />

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat"><h4>Who is online</h4></td>
	</tr>
	<tr>
		<td class="row1"><p class="gensmall">Users browsing this forum: No registered users and 2 guests</p></td>
	</tr>
	</table>


<br clear="all" />

<table width="100%" cellspacing="1">
<tr>
	<td width="40%" valign="top" nowrap="nowrap" align="left"></td>
	<td align="right" valign="top" nowrap="nowrap"><span class="gensmall">You <strong>cannot</strong> post new topics in this forum<br />You <strong>cannot</strong> reply to topics in this forum<br />You <strong>cannot</strong> edit your posts in this forum<br />You <strong>cannot</strong> delete your posts in this forum<br />You <strong>cannot</strong> post attachments in this forum<br /></span></td>
</tr>
</table>

<br clear="all" />

<table width="100%" cellspacing="0">
<tr>
	<td><form method="get" name="search" action="./search.php"><span class="gensmall">Search for:</span> <input class="post" type="text" name="keywords" size="20" /> <input class="btnlite" type="submit" value="Go" /><input type="hidden" name="t" value="3869" />
<input type="hidden" name="sf" value="msgonly" />
</form></td>
	<td align="right">
	<form method="post" name="jumpbox" action="./viewforum.php" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	<table cellspacing="0" cellpadding="0" border="0">
	<tr>
		<td nowrap="nowrap"><span class="gensmall">Jump to:</span>&nbsp;<select name="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">

		
			<option value="-1">Select a forum</option>
		<option value="-1">------------------</option>
			<option value="24">NES / Famicom</option>
		
			<option value="2">&nbsp; &nbsp;NESdev</option>
		
			<option value="3">&nbsp; &nbsp;NESemdev</option>
		
			<option value="21">&nbsp; &nbsp;NES Graphics</option>
		
			<option value="6">&nbsp; &nbsp;NES Music</option>
		
			<option value="9">&nbsp; &nbsp;NES Hardware and Flash Equipment</option>
		
			<option value="22">&nbsp; &nbsp;Homebrew Projects</option>
		
			<option value="10" selected="selected">&nbsp; &nbsp;Newbie Help Center</option>
		
			<option value="11">&nbsp; &nbsp;FCdev</option>
		
			<option value="18">&nbsp; &nbsp;NESdev China</option>
		
			<option value="27">&nbsp; &nbsp;NESdev Middle East</option>
		
			<option value="19">&nbsp; &nbsp;NESdev International</option>
		
			<option value="25">Other</option>
		
			<option value="5">&nbsp; &nbsp;General Stuff</option>
		
			<option value="4">&nbsp; &nbsp;Membler Industries</option>
		
			<option value="12">&nbsp; &nbsp;SNESdev</option>
		
			<option value="20">&nbsp; &nbsp;GBDev</option>
		
			<option value="23">&nbsp; &nbsp;Other Retro Dev</option>
		
			<option value="15">&nbsp; &nbsp;Test Forum</option>
		
			<option value="26">Site Issues</option>
		
			<option value="13">&nbsp; &nbsp;phpBB Issues</option>
		
			<option value="14">&nbsp; &nbsp;Web Issues</option>
		
			<option value="16">&nbsp; &nbsp;nesdevWiki</option>
		

		</select>&nbsp;<input class="btnlite" type="submit" value="Go" /></td>
	</tr>
	</table>

	</form>
</td>
</tr>
</table>


</div>

<div id="wrapfooter">
	
	<span class="copyright">Powered by <a href="http://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Group
	</span>
</div>

</body>
</html>