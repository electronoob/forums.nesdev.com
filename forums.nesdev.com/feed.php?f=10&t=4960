<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="http://forums.nesdev.com/feed.php?f=10&amp;t=4960" />

<title>nesdev.com</title>
<subtitle>NES Development and Strangulation Records message boards</subtitle>
<link href="http://forums.nesdev.com/index.php" />
<updated>2009-03-17T17:02:42-07:00</updated>

<author><name><![CDATA[nesdev.com]]></name></author>
<id>http://forums.nesdev.com/feed.php?f=10&amp;t=4960</id>
<entry>
<author><name><![CDATA[blargg]]></name></author>
<updated>2009-03-17T17:02:42-07:00</updated>
<published>2009-03-17T17:02:42-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4960&amp;p=44454#p44454</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4960&amp;p=44454#p44454"/>
<title type="html"><![CDATA[can only scroll &quot;half way&quot;]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4960&amp;p=44454#p44454"><![CDATA[
A big point of symbolic constants is to reduce the chance for error. Whereas mistyping/misremembering $2005 as $2006 is one key away, mistyping PPUSCROLL instead of PPUADDR is many keys away. One value of higher-level languages is to reduce errors by restricting what can be done, using context to determine the current things allowed. Whereas coding in raw machine code means that any byte value is valid, in asm you can only use mnemonics and directives. Symbolic constants are just an extension of this into the program itself.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=17">blargg</a> — Tue Mar 17, 2009 5:02 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[frantik]]></name></author>
<updated>2009-03-17T16:54:46-07:00</updated>
<published>2009-03-17T16:54:46-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4960&amp;p=44452#p44452</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4960&amp;p=44452#p44452"/>
<title type="html"><![CDATA[can only scroll &quot;half way&quot;]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4960&amp;p=44452#p44452"><![CDATA[
<div class="quotetitle">tepples wrote:</div><div class="quotecontent"><br />too many text editors come with presets that recognize only i386 syntax, not 6502 syntax.<br /></div><br /><br />thats why I love UltraEdit.. you can define your own color highlighting.  I could even add special highlighting to the registers if i wanted to <img src="http://forums.nesdev.com/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /><br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />frantik: Your ideal is closer than some people might think, even on a 1.8 MHz 6502 at 60 frames per second. The only parts of an NES program that <em>need</em> to touch hardware are the init code, read_pads(), update_sound(), and copy_transfer_buffers_to_vram().<br /></div><br /><br />good to know <img src="http://forums.nesdev.com/images/smilies/icon_smile.gif" alt=":)" title="Smile" />  i've got the init code and reading pads down.. now i have to work on using buffers to update the graphics<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3841">frantik</a> — Tue Mar 17, 2009 4:54 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2009-03-17T16:27:45-07:00</updated>
<published>2009-03-17T16:27:45-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4960&amp;p=44448#p44448</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4960&amp;p=44448#p44448"/>
<title type="html"><![CDATA[can only scroll &quot;half way&quot;]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4960&amp;p=44448#p44448"><![CDATA[
<div class="quotetitle">Celius wrote:</div><div class="quotecontent"><br />It would actually be easier to spot register writes in your code if you use the raw addresses (at least I think). They stand out more<br /></div><br />That's what syntax coloring is for. But unfortunately, too many text editors come with presets that recognize only i386 syntax, not 6502 syntax.<br /><br />frantik: Your ideal is closer than some people might think, even on a 1.8 MHz 6502 at 60 frames per second. The only parts of an NES program that <em>need</em> to touch hardware are the init code, read_pads(), update_sound(), and copy_transfer_buffers_to_vram().<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Tue Mar 17, 2009 4:27 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[frantik]]></name></author>
<updated>2009-03-17T09:25:34-07:00</updated>
<published>2009-03-17T09:25:34-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4960&amp;p=44430#p44430</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4960&amp;p=44430#p44430"/>
<title type="html"><![CDATA[can only scroll &quot;half way&quot;]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4960&amp;p=44430#p44430"><![CDATA[
i think ideally almost all access with the registers would be done through macros and subroutines anyways so it wouldn't really matter :-p<br /><br />though in practice i don't know how realistic this is...<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3841">frantik</a> — Tue Mar 17, 2009 9:25 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Celius]]></name></author>
<updated>2009-03-17T08:34:21-07:00</updated>
<published>2009-03-17T08:34:21-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4960&amp;p=44426#p44426</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4960&amp;p=44426#p44426"/>
<title type="html"><![CDATA[can only scroll &quot;half way&quot;]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4960&amp;p=44426#p44426"><![CDATA[
<div class="quotetitle">blargg wrote:</div><div class="quotecontent"><br />To those arguing for raw register addresses, to be consistent you should code with .byte rather than assembly mnemonics, because then you know the real opcode <img src="http://forums.nesdev.com/images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br /></div><br /><br />Oh, please  <img src="http://forums.nesdev.com/images/smilies/icon_smile.gif" alt=":)" title="Smile" /> . It would actually be easier to spot register writes in your code if you use the raw addresses (at least I think). They stand out more, and they should as they should be rare compared to just writes to RAM. But that's just my opinion.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=138">Celius</a> — Tue Mar 17, 2009 8:34 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[blargg]]></name></author>
<updated>2009-03-17T08:00:54-07:00</updated>
<published>2009-03-17T08:00:54-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4960&amp;p=44424#p44424</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4960&amp;p=44424#p44424"/>
<title type="html"><![CDATA[can only scroll &quot;half way&quot;]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4960&amp;p=44424#p44424"><![CDATA[
To those arguing for raw register addresses, to be consistent you should code with .byte rather than assembly mnemonics, because then you know the real opcode <img src="http://forums.nesdev.com/images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br /><br />It makes sense that emulator authors aren't as apt to use symbolic names for the register addresses, because they often have only two or three occurrences of each register's address in the entire program, whereas a NES program has tens or hundreds of references. Also, an emulator is usually in a high-level language, so they stand out, while in assembly, complexity is higher so anything that reduces the load on the programmer is good.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=17">blargg</a> — Tue Mar 17, 2009 8:00 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[frantik]]></name></author>
<updated>2009-03-16T22:19:20-07:00</updated>
<published>2009-03-16T22:19:20-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4960&amp;p=44414#p44414</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4960&amp;p=44414#p44414"/>
<title type="html"><![CDATA[can only scroll &quot;half way&quot;]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4960&amp;p=44414#p44414"><![CDATA[
oh ok, it's cause you're a emudev guy that you're not as familiar with them <br /><br />from a programming perspective I think it's always better to use constants instead of 'magic numbers' so i think i'll stick with them <img src="http://forums.nesdev.com/images/smilies/icon_smile.gif" alt=":)" title="Smile" /><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3841">frantik</a> — Mon Mar 16, 2009 10:19 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Disch]]></name></author>
<updated>2009-03-16T20:19:44-07:00</updated>
<published>2009-03-16T20:19:44-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4960&amp;p=44409#p44409</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4960&amp;p=44409#p44409"/>
<title type="html"><![CDATA[can only scroll &quot;half way&quot;]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4960&amp;p=44409#p44409"><![CDATA[
They are more or less the commonly accepted names I guess.  The thing is they only seem to be used by NES devers and not really by emu devers.  So emu devers like myself aren't used to them.<br /><br />tepples (I think) is a strong advocate of using those names.  So whatever -- I figured out what you meant, it just took a little bit of thought on my part because it's not what I'm personally used to.  Stick with whatever you're more comfortable with.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=33">Disch</a> — Mon Mar 16, 2009 8:19 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Celius]]></name></author>
<updated>2009-03-16T20:02:20-07:00</updated>
<published>2009-03-16T20:02:20-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4960&amp;p=44407#p44407</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4960&amp;p=44407#p44407"/>
<title type="html"><![CDATA[can only scroll &quot;half way&quot;]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4960&amp;p=44407#p44407"><![CDATA[
I would stick with the hex values for referring to the registers. There aren't very many of them, and if you refer to them directly, pretty much everyone will know what you're talking about. And then in your code if you write to one of them without using an alias, you'll know 100% what exactly is going on.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=138">Celius</a> — Mon Mar 16, 2009 8:02 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[frantik]]></name></author>
<updated>2009-03-16T19:57:22-07:00</updated>
<published>2009-03-16T19:57:22-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4960&amp;p=44405#p44405</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4960&amp;p=44405#p44405"/>
<title type="html"><![CDATA[can only scroll &quot;half way&quot;]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4960&amp;p=44405#p44405"><![CDATA[
<div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />/me is still confused by those reg names.<br />PPUADDR=$2006 and PPUCTRL=$2000, right?<br /></div><br /><br />i thought there were standard names.. should I not use them?  but yeah you got them right<br /><br />and i'm not using $2006 for scrolling, i'm using it to write to the nametable and change palettes <img src="http://forums.nesdev.com/images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />edit - glad you hear you got it working! ^^<br /></div><br /><br />thanks for your help <img src="http://forums.nesdev.com/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3841">frantik</a> — Mon Mar 16, 2009 7:57 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Disch]]></name></author>
<updated>2009-03-16T19:39:59-07:00</updated>
<published>2009-03-16T19:39:59-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4960&amp;p=44403#p44403</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4960&amp;p=44403#p44403"/>
<title type="html"><![CDATA[can only scroll &quot;half way&quot;]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4960&amp;p=44403#p44403"><![CDATA[
/me is still confused by those reg names.<br />PPUADDR=$2006 and PPUCTRL=$2000, right?<br /><br />ANYanyway:<br /><br />1)  You don't need to write to $2006 for scrolling.  In fact you shouldn't.  The only time you need to do that is if you're splitting the screen or turning the PPU on late.<br /><br />2)  once you finish with ALL of your drawing and are done with $2006/$2007, <em>then</em> write to $2000 and twice to $2005 to set the scroll<br /><br />3)  once the scroll is set, you cannot touch $2006/$2007 or else you will screw up the scroll.<br /><br />4)  The scroll must be set before rendering starts.  (dot 304 of the prerender line, iirc, is the cutoff time -- but ideally you'd have it done sooner than that)<br /><br />edit  - glad you hear you got it working!  ^^<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=33">Disch</a> — Mon Mar 16, 2009 7:39 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[frantik]]></name></author>
<updated>2009-03-16T19:05:38-07:00</updated>
<published>2009-03-16T19:05:38-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4960&amp;p=44400#p44400</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4960&amp;p=44400#p44400"/>
<title type="html"><![CDATA[can only scroll &quot;half way&quot;]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4960&amp;p=44400#p44400"><![CDATA[
ok i got it working, but only if i don't make writes to PPUADDR.  How do I reset the nametable after writing to PPUADDR? I write to PPUCTRL after PPUADDR to set the name table but it doesnt seem to make a difference<br /><br />eit: got it finally!  I realized i was only updating PPUCTRL at the screen boundary not every vblank<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3841">frantik</a> — Mon Mar 16, 2009 7:05 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[frantik]]></name></author>
<updated>2009-03-16T16:40:35-07:00</updated>
<published>2009-03-16T16:40:35-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4960&amp;p=44393#p44393</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4960&amp;p=44393#p44393"/>
<title type="html"><![CDATA[can only scroll &quot;half way&quot;]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4960&amp;p=44393#p44393"><![CDATA[
yes scrolling is the last thing i do before returning from the vblank interrupt<br /><br />I tried updating $2000 when the vertical scroll reaches $F0 but when I set it to $00, no matter what i set $2000 to, it still goes back to the halfway point, not the very top of the nametable<br /><br />also, I don't understand why the scroll will start out on the very far left and advance all the way across the screen, but then once it hits the right side, setting it to 0 only goes to the 1/2 way point.  what changes?<br /><br /><br /><br />i will try to put together a small test case with some code<br /><br /><br />edit:  LOL of course it works in my test case.. i'll see what i'm doing differently.  <br /><br />edit2: ug of course it doesn't work in the main program.  i think it has to do with the fact i'm updating the nametable at the same time<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3841">frantik</a> — Mon Mar 16, 2009 4:40 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Dwedit]]></name></author>
<updated>2009-03-16T10:00:56-07:00</updated>
<published>2009-03-16T10:00:56-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4960&amp;p=44381#p44381</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4960&amp;p=44381#p44381"/>
<title type="html"><![CDATA[can only scroll &quot;half way&quot;]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4960&amp;p=44381#p44381"><![CDATA[
Is scrolling the very last thing you do before the screen starts rendering?  Any writes to VRAM or pointer changes also acts as scrolls.  Also make sure you are performing the scroll writes during Vblank (or during the dummy scanline before ppu clock #304).  The top bits of 2000 also affect scrolling.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=53">Dwedit</a> — Mon Mar 16, 2009 10:00 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Disch]]></name></author>
<updated>2009-03-16T09:59:19-07:00</updated>
<published>2009-03-16T09:59:19-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4960&amp;p=44380#p44380</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4960&amp;p=44380#p44380"/>
<title type="html"><![CDATA[can only scroll &quot;half way&quot;]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4960&amp;p=44380#p44380"><![CDATA[
You need to use bits 0,1 of $2000 to set the nametable scroll.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=33">Disch</a> — Mon Mar 16, 2009 9:59 am</p><hr />
]]></content>
</entry>
</feed>