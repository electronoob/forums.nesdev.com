<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="http://forums.nesdev.com/feed.php?f=6&amp;t=15096" />

<title>nesdev.com</title>
<subtitle>NES Development and Strangulation Records message boards</subtitle>
<link href="http://forums.nesdev.com/index.php" />
<updated>2018-03-03T08:20:20-07:00</updated>

<author><name><![CDATA[nesdev.com]]></name></author>
<id>http://forums.nesdev.com/feed.php?f=6&amp;t=15096</id>
<entry>
<author><name><![CDATA[Xaser]]></name></author>
<updated>2018-03-03T08:20:20-07:00</updated>
<published>2018-03-03T08:20:20-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=15096&amp;p=214539#p214539</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=15096&amp;p=214539#p214539"/>
<title type="html"><![CDATA[Re: Famitone Update]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=15096&amp;p=214539#p214539"><![CDATA[
Hello I've just updated the code to make it cross platform. It was easy, I just had to remove the precompiled-header stdafx.h and also conio.h which provide none posix function like _stricomp, fortunately the dropin posix replacement is just strcasecmp.<br /><br />Here's the code: <!-- m --><a class="postlink" href="https://pastebin.com/Yp0cUDzh">https://pastebin.com/Yp0cUDzh</a><!-- m -->. I think it should be on Github so we can trace update, and it's easier for anyone to use. What do you think ?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9021">Xaser</a> — Sat Mar 03, 2018 8:20 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[dougeff]]></name></author>
<updated>2018-01-04T19:59:17-07:00</updated>
<published>2018-01-04T19:59:17-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=15096&amp;p=211287#p211287</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=15096&amp;p=211287#p211287"/>
<title type="html"><![CDATA[Re: Famitone Update]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=15096&amp;p=211287#p211287"><![CDATA[
Here's the bug-fixed version. (unofficial) Famitone 3.2. Source code included.<br /><br /><!-- m --><a class="postlink" href="http://dl.dropboxusercontent.com/s/l6sahxaz2qty52m/famitone3.2.zip">http://dl.dropboxusercontent.com/s/l6sa ... one3.2.zip</a><!-- m --><br /><br />This should work exactly like the original famitone2 text2data, with volume column and all notes allowed.<br /><br />Works with the latest version of nsf2data (v1.15 by Shiru 04'17). I haven't tested the asm code as much as I would have liked to, since the bug fix yesterday. The NESASM version was fully tested.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=7008">dougeff</a> — Thu Jan 04, 2018 7:59 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[dougeff]]></name></author>
<updated>2017-12-30T21:25:02-07:00</updated>
<published>2017-12-30T21:25:02-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=15096&amp;p=211024#p211024</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=15096&amp;p=211024#p211024"/>
<title type="html"><![CDATA[Re: Famitone Update]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=15096&amp;p=211024#p211024"><![CDATA[
I was able to fix the major bug. Will repost link tomorrow.<br /><br />(link removed)<br /><br />EDIT.<br /> <p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=7008">dougeff</a> — Sat Dec 30, 2017 9:25 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[dougeff]]></name></author>
<updated>2017-12-30T14:44:59-07:00</updated>
<published>2017-12-30T14:44:59-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=15096&amp;p=211003#p211003</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=15096&amp;p=211003#p211003"/>
<title type="html"><![CDATA[Re: Famitone Update]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=15096&amp;p=211003#p211003"><![CDATA[
I'm looking at the source code today, coincidentally.<br /><br />I'm going to try to debug the major problems with it. Sorry for being slow, but it's not easy to figure out what's wrong. I think I'm on the right track now. Maybe.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=7008">dougeff</a> — Sat Dec 30, 2017 2:44 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[schade]]></name></author>
<updated>2017-12-30T13:12:09-07:00</updated>
<published>2017-12-30T13:12:09-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=15096&amp;p=210993#p210993</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=15096&amp;p=210993#p210993"/>
<title type="html"><![CDATA[Re: Famitone Update]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=15096&amp;p=210993#p210993"><![CDATA[
Thank you for your answers, i made my own converter in Java. It's work fine and i make it more verbose (Example it's said when pitch is out of range). Also like i said previously, i add some modifications to Famitone and it's work with Duty Envelope so i called it Schadetone because, it's Famitone but with my name... Anyway. I could put the code here then my project will be finish, but the comments and variables are in French. <img src="http://forums.nesdev.com/images/smilies/icon_wink.gif" alt=";)" title="Wink" /> Maybe i will make later my own music editor who can take in charge patterns with different lengths for size optimization.<br /><br />PS : Yes, i hate Windows. LINUX POWWWWER !<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=7872">schade</a> — Sat Dec 30, 2017 1:12 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[bazza]]></name></author>
<updated>2017-12-30T12:46:47-07:00</updated>
<published>2017-12-30T12:46:47-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=15096&amp;p=210991#p210991</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=15096&amp;p=210991#p210991"/>
<title type="html"><![CDATA[Re: Famitone Update]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=15096&amp;p=210991#p210991"><![CDATA[
<div class="quotetitle">DRW wrote:</div><div class="quotecontent"><br /><div class="quotetitle">schade wrote:</div><div class="quotecontent">yours didn't work on Linux (with Wine too, you used a C library specific to Window$, i didn't have the problem with Famitone 2 version)<br /></div><br />Just remove the &quot;stdafx.h&quot;. I don't know why it's in there at all.<br /><br />Also, &lt;conio.h&gt;, which is also a non-standard library, was included by Shiru, even though it's not needed.<br /><br />If you remove those, you should be able to compile it under Linux. (I haven't checked myself, though.)<br /><br />P.S.: &quot;Window$&quot;? Seriously?</div><br /><br /><br />GNU/Linux rock!<br /><br />I use it with wine, lamentably<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=8848">bazza</a> — Sat Dec 30, 2017 12:46 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[DRW]]></name></author>
<updated>2017-12-30T12:08:57-07:00</updated>
<published>2017-12-30T12:08:57-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=15096&amp;p=210988#p210988</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=15096&amp;p=210988#p210988"/>
<title type="html"><![CDATA[Re: Famitone Update]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=15096&amp;p=210988#p210988"><![CDATA[
<div class="quotetitle">schade wrote:</div><div class="quotecontent"><br />yours didn't work on Linux (with Wine too, you used a C library specific to Window$, i didn't have the problem with Famitone 2 version)<br /></div><br />Just remove the &quot;stdafx.h&quot;. I don't know why it's in there at all.<br /><br />Also, &lt;conio.h&gt;, which is also a non-standard library, was included by Shiru, even though it's not needed.<br /><br />If you remove those, you should be able to compile it under Linux. (I haven't checked myself, though.)<br /><br />P.S.: &quot;Window$&quot;? Seriously?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=6156">DRW</a> — Sat Dec 30, 2017 12:08 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[dougeff]]></name></author>
<updated>2016-12-19T07:48:41-07:00</updated>
<published>2016-12-19T07:48:41-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=15096&amp;p=185055#p185055</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=15096&amp;p=185055#p185055"/>
<title type="html"><![CDATA[Re: Famitone Update]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=15096&amp;p=185055#p185055"><![CDATA[
I've finally done a comparison between my edits of famitone2 and the full famitracker driver...I don't want to put actual stats down, because somebody will quote me, and later find out that my numbers are all wrong...etc...etc.<br /><br />Cycles of CPU time per frame - about the same<br />Bytes of data - famitracker was slightly better (smaller data) [note, the original famitone2 might have done much better...depending on the song]<br />Bytes of code - famitone2 is MUCH smaller than the famitracker driver, which makes sense, because the famitracker driver has all the effects available<br />Bytes of RAM - famitone2 slightly better (especially ZP usage).<br /><br />Anyway, given that these are roughly equivalent, I don't see any point in further development from my end. I haven't tested the famitracker driver version that Shiru just posted on his website, but I may try to use it for the ninja game, if it works as I expect.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=7008">dougeff</a> — Mon Dec 19, 2016 7:48 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[schade]]></name></author>
<updated>2016-12-19T04:16:30-07:00</updated>
<published>2016-12-19T04:16:30-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=15096&amp;p=185042#p185042</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=15096&amp;p=185042#p185042"/>
<title type="html"><![CDATA[Re: Famitone Update]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=15096&amp;p=185042#p185042"><![CDATA[
It was just an information, not a reproach. I read the code and make something similar with Java.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=7872">schade</a> — Mon Dec 19, 2016 4:16 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[dougeff]]></name></author>
<updated>2016-12-18T20:42:57-07:00</updated>
<published>2016-12-18T20:42:57-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=15096&amp;p=185028#p185028</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=15096&amp;p=185028#p185028"/>
<title type="html"><![CDATA[Re: Famitone Update]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=15096&amp;p=185028#p185028"><![CDATA[
<div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />yours didn't work on Linux (with Wine too, you used a C library specific to Window$<br /></div><br /><br />I'm not an expert or professional programmer...so my attempt at compiling a distributed software is a bit of a fail...even for Windows users (who have to download some dll to make it work). I only have my personal laptop to develop and test, so on my end...it seems to work perfectly.<br /><br />I guess I will have to download some other C++ compiler and read up on how to make it work on Linux. However, I am also very busy... so it may take me a while. And I have no Linux computer to test it with.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=7008">dougeff</a> — Sun Dec 18, 2016 8:42 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[schade]]></name></author>
<updated>2016-12-18T07:47:26-07:00</updated>
<published>2016-12-18T07:47:26-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=15096&amp;p=184978#p184978</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=15096&amp;p=184978#p184978"/>
<title type="html"><![CDATA[Re: Famitone Update]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=15096&amp;p=184978#p184978"><![CDATA[
Hello !<br />I'm also working with Famitone and i add some feature you found with the volume and the &quot;every-note support&quot;.<br />I see some problem too.<br />With the <strong><span style="color: #FFFFFF">pitch envelope</span></strong> :<br />It's work completely different with Famitracker : the pitch is added in every loop for example :<br />pitch : 0 1 2 3 | 4 (&quot;|&quot; is the loop position)<br />the period offset will be : +0 +1 +3 +6 +10 +14 +18 .... in Famitracker<br />So i add a new variable in every channel who use the pitch and cumulate the value and the music's composer have to be careful to didn't go out of the frequency's bounds. In the case there is no loop, the converter have to add a zero value at the end of the envelope.<br /><br />I remake a converter in Java because yours didn't work on Linux (with Wine too, you used a C library specific to Window$, i didn't have the problem with Famitone 2 version) but i have some bug to correct and the change i made to Famitone make the values completely different. But i see an error with the <strong><span style="color: #FFFFFF">loop position</span></strong> when it's in a repeated value sequence like :<br />0 0 1 1 1 | 1 1 1 2 2 2<br />the Famitone loop send to the first value &quot;1&quot; because it's keep the sequence as a block (0*2,1*6,2*3). In fact the repeated value must to be split in two (0*2,1*3,1*3,2*3) and the loop need to go to the second repeat sequence to be correct. <br /><br />I also make a <strong><span style="color: #FFFFFF">PAL note's table</span></strong> (because i'm a frog eater ! <img src="http://forums.nesdev.com/images/smilies/icon_wink.gif" alt=";)" title="Wink" /> ):<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">_FT2NoteTableLSB:<br /><br />   .byte $ff,$ff<br />   ;note  C-  C#  D-  D#  E-  F-  F#  G-  G#  A-  A#  B-    octave<br />   .byte $ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff,$d1,$60,$f6,$92   ;0<br />   .byte $34,$db,$86,$37,$ec,$a5,$62,$23,$e8,$b0,$7b,$49   ;1<br />   .byte $19,$ed,$c3,$9b,$75,$52,$31,$11,$f3,$d7,$bd,$a4   ;2<br />   .byte $8c,$76,$61,$4d,$3a,$29,$18,$08,$f9,$eb,$de,$d1   ;3<br />   .byte $c6,$ba,$b0,$a6,$9d,$94,$8b,$84,$7c,$75,$6e,$68   ;4<br />   .byte $62,$5d,$57,$52,$4e,$49,$45,$41,$3e,$3a,$37,$34   ;5<br />   .byte $31,$2e,$2b,$29,$26,$24,$22,$20,$1e,$1d,$1b,$19   ;6<br />   .byte $18,$16,$15,$14,$13,$12,$11,$10,$0f,$0e,$0d,$0c   ;7<br />   <br />_FT2NoteTableMSB:<br /><br />   .byte $07,$07<br />   ;note  C-  C#  D-  D#  E-  F-  F#  G-  G#  A-  A#  B-    octave<br />   .byte $07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$06,$06   ;0<br />   .byte $06,$05,$05,$05,$04,$04,$04,$04,$03,$03,$03,$03   ;1<br />   .byte $03,$02,$02,$02,$02,$02,$02,$02,$01,$01,$01,$01   ;2<br />   .byte $01,$01,$01,$01,$01,$01,$01,$01,$00,$00,$00,$00   ;3<br />   .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00   ;4<br />   .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00   ;5<br />   .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00   ;6<br />   .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00   ;7<br /></div><br /><br />My friend who make the music is very sad to can't add Duty envelope so i add it and remove duty-strange-thing. (Of course i know this will have an impact on the cycle value but music will be a very important part of the game i work on.)<br /><br />The version I work on don't function well yet. I have some work to do. I will send it later if you want to read it (but the comments are in french).<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=7872">schade</a> — Sun Dec 18, 2016 7:47 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[dougeff]]></name></author>
<updated>2016-11-26T06:24:22-07:00</updated>
<published>2016-11-26T06:24:22-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=15096&amp;p=183473#p183473</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=15096&amp;p=183473#p183473"/>
<title type="html"><![CDATA[Re: Famitone Update]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=15096&amp;p=183473#p183473"><![CDATA[
I've made a few attempts to debug the problem of garbage data being (sometimes) emitted if multiple songs are processed. I'm not having a lot of luck.<br /><br />One of my problems is, it's hard to set a breakpoint for a large array, where any point in the array could be the problem... and the program keeps making a new array and renaming, and modifying the length of each chunk...so I can't wrap my head around which point of which song I'm at at any given break.<br /><br />I'm pretty sure it's parsing the text correctly, but by the time it's sent to song_split pattern length and row position is kind of a mystery.<br /><br />I suspect the problem is unusual or inconsistent pattern lengths (like song0 has 128 rows per pattern, but song1 has 70 rows per pattern). And the text2data is sort of expecting it to be a power of 2. Maybe.<br /><br />Any help from someone more experienced debugging C++ would be appreciated.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=7008">dougeff</a> — Sat Nov 26, 2016 6:24 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[dougeff]]></name></author>
<updated>2016-11-23T09:31:13-07:00</updated>
<published>2016-11-23T09:31:13-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=15096&amp;p=183333#p183333</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=15096&amp;p=183333#p183333"/>
<title type="html"><![CDATA[Re: Famitone Update]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=15096&amp;p=183333#p183333"><![CDATA[
Download updated...<br />-forgot to put a few lines in the asm6 version (set default full volume at start of song)<br />-removed a few extra bytes off end of note table (past what famitracker can output)<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=7008">dougeff</a> — Wed Nov 23, 2016 9:31 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[dougeff]]></name></author>
<updated>2016-11-17T09:36:35-07:00</updated>
<published>2016-11-17T09:36:35-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=15096&amp;p=183035#p183035</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=15096&amp;p=183035#p183035"/>
<title type="html"><![CDATA[Re: Famitone Update]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=15096&amp;p=183035#p183035"><![CDATA[
I've come up with an ugly solution that requires lots of cutting and pasting. Ugly, but it's working. Will do some more testing. Wish I could have come up with a more elegant solution, but I'm not the author of the source code, so I still do lots of head scratching when I stare at the source code.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=7008">dougeff</a> — Thu Nov 17, 2016 9:36 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[dougeff]]></name></author>
<updated>2016-11-17T05:16:10-07:00</updated>
<published>2016-11-17T05:16:10-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=15096&amp;p=183030#p183030</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=15096&amp;p=183030#p183030"/>
<title type="html"><![CDATA[Re: Famitone Update]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=15096&amp;p=183030#p183030"><![CDATA[
On my version with no added effects... I'm getting tons of errors if you process more than one song at a time. There's no problems if you process them one at a time, but that is a huge pain.<br /><br />I'm not sure how to fix this.<br /><br />text2data does a bunch of things that make this extra difficult. It removes unused envelopes, and reorganizes them. It saves space by using references to other data.<br /><br />The problem seems to be, my text2vol is inserting junk data into songs. It seems to be bits and pieces of other songs, like old data left in a buffer.<br /><br />Any way. Don't use this on multiple songs, until I come up with a solution. Sorry.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=7008">dougeff</a> — Thu Nov 17, 2016 5:16 am</p><hr />
]]></content>
</entry>
</feed>