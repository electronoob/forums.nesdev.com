<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<link rel="icon" href="/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />

<title>nesdev.com &bull; View topic - Main principles of creating an &quot;object&quot;</title>

<link rel="alternate" type="application/atom+xml" title="Feed - nesdev.com" href="http://forums.nesdev.com/feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - News" href="http://forums.nesdev.com/feed.php?mode=news" /><link rel="alternate" type="application/atom+xml" title="Feed - All forums" href="http://forums.nesdev.com/feed.php?mode=forums" /><link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="http://forums.nesdev.com/feed.php?mode=topics" /><link rel="alternate" type="application/atom+xml" title="Feed - Active Topics" href="http://forums.nesdev.com/feed.php?mode=topics_active" /><link rel="alternate" type="application/atom+xml" title="Feed - Forum - SNESdev" href="http://forums.nesdev.com/feed.php?f=12" /><link rel="alternate" type="application/atom+xml" title="Feed - Topic - Main principles of creating an &quot;object&quot;" href="http://forums.nesdev.com/feed.php?f=12&amp;t=12356" />

<link rel="stylesheet" href="./style.php?id=1&amp;lang=en" type="text/css" />

<script type="text/javascript">
// <![CDATA[


function popup(url, width, height, name)
{
	if (!name)
	{
		name = '_popup';
	}

	window.open(url.replace(/&amp;/g, '&'), name, 'height=' + height + ',resizable=yes,scrollbars=yes,width=' + width);
	return false;
}

function jumpto()
{
	var page = prompt('Enter the page number you wish to go to:', '6');
	var per_page = '15';
	var base_url = './viewtopic.php?f=12&amp;t=12356';

	if (page !== null && !isNaN(page) && page == Math.floor(page) && page > 0)
	{
		if (base_url.indexOf('?') == -1)
		{
			document.location.href = base_url + '?start=' + ((page - 1) * per_page);
		}
		else
		{
			document.location.href = base_url.replace(/&amp;/g, '&') + '&start=' + ((page - 1) * per_page);
		}
	}
}

/**
* Find a member
*/
function find_username(url)
{
	popup(url, 760, 570, '_usersearch');
	return false;
}

/**
* Mark/unmark checklist
* id = ID of parent container, name = name prefix, state = state [true/false]
*/
function marklist(id, name, state)
{
	var parent = document.getElementById(id);
	if (!parent)
	{
		eval('parent = document.' + id);
	}

	if (!parent)
	{
		return;
	}

	var rb = parent.getElementsByTagName('input');
	
	for (var r = 0; r < rb.length; r++)
	{
		if (rb[r].name.substr(0, name.length) == name)
		{
			rb[r].checked = state;
		}
	}
}



	/**
	* Play quicktime file by determining it's width/height
	* from the displayed rectangle area
	*
	* Only defined if there is a file block present.
	*/
	function play_qt_file(obj)
	{
		var rectangle = obj.GetRectangle();

		if (rectangle)
		{
			rectangle = rectangle.split(',')
			var x1 = parseInt(rectangle[0]);
			var x2 = parseInt(rectangle[2]);
			var y1 = parseInt(rectangle[1]);
			var y2 = parseInt(rectangle[3]);

			var width = (x1 < 0) ? (x1 * -1) + x2 : x2 - x1;
			var height = (y1 < 0) ? (y1 * -1) + y2 : y2 - y1;
		}
		else
		{
			var width = 200;
			var height = 0;
		}

		obj.width = width;
		obj.height = height + 16;

		obj.SetControllerVisible(true);

		obj.Play();
	}


// ]]>
</script>
</head>
<body class="ltr">

<a name="top"></a>

<div id="wrapheader">

	<div id="logodesc">
	</div>

	<div id="menubar">

		<table width="100%" cellspacing="0">
		<tr>
			<td rowspan="2"><a href="./index.php"><img src="./styles/subsilver2/imageset/site_logo.gif" alt="" title="" /></a></td>
			<td width="100%" align="center"><h1>nesdev.com</h1><span class="gen">NES Development and Strangulation Records message boards</span></td>
		</tr>
		<tr>
			<td align="center">
				<a href="./faq.php"><img src="./styles/prosilver/theme/images/icon_mini_faq.gif" width="12" height="13" alt="*" /> FAQ</a>
				&nbsp; &nbsp;<a href="./search.php"><img src="./styles/prosilver/theme/images/icon_mini_search.gif" width="12" height="13" alt="*" /> Search</a>
				<br />	
				 &nbsp;<a href="./ucp.php?mode=register"><img src="./styles/prosilver/theme/images/icon_mini_register.gif" width="12" height="13" alt="*" /> Register</a>
					&nbsp; &nbsp;<a href="./ucp.php?mode=login"><img src="./styles/prosilver/theme/images/icon_mini_login.gif" width="12" height="13" alt="*" /> Login</a>&nbsp;
			</td>
		</tr>
		</table>
	</div>

	<div id="datebar">
		<table width="100%" cellspacing="0">
		<tr>
			<td class="gensmall"></td>
			<td class="gensmall" align="right">It is currently Mon May 11, 2015 3:39 am<br /></td>
		</tr>
		</table>
	</div>

</div>

<div id="wrapcentre">

	
	<p class="searchbar">
		<span style="float: left;"><a href="./search.php?search_id=unanswered">View unanswered posts</a> | <a href="./search.php?search_id=active_topics">View active topics</a></span>
		
	</p>
	

	<br style="clear: both;" />

	<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=25">Other</a> &#187; <a href="./viewforum.php?f=12">SNESdev</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>

	<br />

<div id="pageheader">
	<h2><a class="titles" href="./viewtopic.php?f=12&amp;t=12356&amp;start=75">Main principles of creating an &quot;object&quot;</a></h2>


	<p class="moderators">Moderator: <a href="./memberlist.php?mode=group&amp;g=320">Moderators</a></p>

</div>

<br clear="all" /><br />

<div id="pagecontent">

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=12"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=12&amp;t=12356"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>6</strong> of <strong>8</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 118 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"><b><a href="#" onclick="jumpto(); return false;" title="Click to jump to pageâ€¦">Go to page</a> <a href="./viewtopic.php?f=12&amp;t=12356&amp;start=60">Previous</a>&nbsp;&nbsp;<a href="./viewtopic.php?f=12&amp;t=12356">1</a><span class="page-dots"> ... </span><a href="./viewtopic.php?f=12&amp;t=12356&amp;start=30">3</a><span class="page-sep">, </span><a href="./viewtopic.php?f=12&amp;t=12356&amp;start=45">4</a><span class="page-sep">, </span><a href="./viewtopic.php?f=12&amp;t=12356&amp;start=60">5</a><span class="page-sep">, </span><strong>6</strong><span class="page-sep">, </span><a href="./viewtopic.php?f=12&amp;t=12356&amp;start=90">7</a><span class="page-sep">, </span><a href="./viewtopic.php?f=12&amp;t=12356&amp;start=105">8</a> &nbsp;<a href="./viewtopic.php?f=12&amp;t=12356&amp;start=90">Next</a></b></td>
		
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat">
			<table width="100%" cellspacing="0">
			<tr>
				<td class="nav" nowrap="nowrap">&nbsp;
				<a href="./viewtopic.php?f=12&amp;t=12356&amp;start=75&amp;view=print" title="Print view">Print view</a>
				</td>
				<td class="nav" align="right" nowrap="nowrap"><a href="./viewtopic.php?f=12&amp;t=12356&amp;view=previous">Previous topic</a> | <a href="./viewtopic.php?f=12&amp;t=12356&amp;view=next">Next topic</a>&nbsp;</td>
			</tr>
			</table>
		</td>
	</tr>

	</table>


	<table class="tablebg" width="100%" cellspacing="1">
	
		<tr>
			<th>Author</th>
			<th>Message</th>
		</tr>
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p141294"></a>
				<b class="postauthor">tomaitheous</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p141294">Re: Main principles of creating an &quot;object&quot;</a></div><div style="float: right;"><a href="./viewtopic.php?p=141294#p141294"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sun Feb 15, 2015 7:18 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Thu Aug 28, 2008 1:17 am<br /><b>Posts:</b> 435
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I always considered the 64x64 sprite size on the SNES as brag rights.<br /><br /><br /> If you have access to all sprite sizes, and less segmented sprite layout, it'd be a little more useful. Not overly so, but still useful. PCE games use the 32x64 sprite size more often than you would think. Bonk 3, there are places in the game where both players can be 'giant' bonk; each one is 80x96 pixels in size (or slightly bigger depending on the frame). Each player reserved 8k of vram (for double buffering), so 16k total vram just for both players. 16k for tiles, and the remaining vram for tilemap, sat, and other game sprites. I guess that's the reason why 'big' Bonk on the SNES was smaller? Wait.. it's not even a 2 player game so that shouldn't mattered. Hmm, that shouldn't have busted the snes' vram layout then. Nevermind.</div>

					
						<div class="postbody"><br />_________________<br />__________________________<br /><!-- m --><a class="postlink" href="http://pcedev.wordpress.com">http://pcedev.wordpress.com</a><!-- m --></div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3645"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p141296"></a>
				<b class="postauthor">Espozo</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p141296">Re: Main principles of creating an &quot;object&quot;</a></div><div style="float: right;"><a href="./viewtopic.php?p=141296#p141296"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sun Feb 15, 2015 7:30 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=6683_1410824489.gif" width="80" height="80" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Sep 15, 2014 4:35 pm<br /><b>Posts:</b> 905<br /><b>Location:</b> Nacogdoches, Texas
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">tomaitheous wrote:</div><div class="quotecontent">I always considered the 64x64 sprite size on the SNES as brag rights.</div><br />Only really on a paper that say things like<br /><br />Sprites: 128 with 64x64 maximum.<br />Sprites per scan line: 32<br /><br />(And yes, I have seen ones that bad before.)<br /><br /><br />Sometimes, I feel like a lot of things in the SNES are for bragging rights, like the &quot;hi res&quot; mode. It could have <em>maybe</em> been useful, if the sprites were too, but then you'd have to make the add bits that control the coordinates.<br /><br /><br />About poorly made lists, I've seen things like this before:<br /><br />Resolution: 512x448<br />Background layers: 4 (with matrix transformations)<br />Tile color depth: 8bpp<br />Sprites: 128 with 64x64 maximum.<br />Sprites per scan line: 32<br /><br />Forget the Neo Geo, this puts the GBA to shame!<br /><br />(What kind of power would it take to have all that running at the same time? Way more than anyone in 1990 could afford, that's for sure. <img src="./images/smilies/icon_rolleyes.gif" alt=":roll:" title="Rolling Eyes" /> )</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=6683"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p141298"></a>
				<b class="postauthor" style="color: #AA0000">tepples</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p141298">Re: Main principles of creating an &quot;object&quot;</a></div><div style="float: right;"><a href="./viewtopic.php?p=141298#p141298"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sun Feb 15, 2015 7:42 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=9_1426464006.png" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Sep 19, 2004 11:12 pm<br /><b>Posts:</b> 13842<br /><b>Location:</b> NE Indiana, USA (NTSC)
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">Espozo wrote:</div><div class="quotecontent">Sometimes, I feel like a lot of things in the SNES are for bragging rights, like the &quot;hi res&quot; mode. It could have <em>maybe</em> been useful</div><br />Hi-res was useful for text, especially trying to fit detailed kanji into a small box. Pseudo-hi-res was useful for three-part blending (1/2 sub, 1/4 main, 1/4 COLDATA). I'm not aware of any game other than <em>RPM Racing</em> that used actual hi-res graphics in-game.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=9"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p141301"></a>
				<b class="postauthor">tomaitheous</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p141301">Re: Main principles of creating an &quot;object&quot;</a></div><div style="float: right;"><a href="./viewtopic.php?p=141301#p141301"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sun Feb 15, 2015 7:54 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Thu Aug 28, 2008 1:17 am<br /><b>Posts:</b> 435
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Yeah, the hires mode seems useless. To be honest, I rather have it <em>not </em>be applied to sprites. Imagine have a 272 pixel scanline limit for 512 pixel mode? The PCE has a 512 mode, and the pixel limit doesn't increase with it (it's got the pixel fetching speed for it, just not the buffer size for it). It's usefulness is pretty much for backgrounds art, like for an RPG (dithering?). But the SNES has tons of colors, which make low res look great for BG art anyway. I think one of the Kirby games make unique use of high res mode? For blending they normally couldn't do? If sprites were high res and same pixel buffer limit, they might not have used it. <br /><br /> Edit: Tepples ninja-answered that.<br /><br /> I'd trade quite a few features of the SNES to have double the sprite pixel scanline limit in their place. The SGX is the only console of that generation to have a really nice/healthy scanline pixel limit. Funny that it's not even a blip on the video game map for most gamers. Well, technically you could count the addon chips (and SegaCD), but I mean native to the video hardware.</div>

					
						<div class="postbody"><br />_________________<br />__________________________<br /><!-- m --><a class="postlink" href="http://pcedev.wordpress.com">http://pcedev.wordpress.com</a><!-- m --></div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3645"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p141302"></a>
				<b class="postauthor">Espozo</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p141302">Re: Main principles of creating an &quot;object&quot;</a></div><div style="float: right;"><a href="./viewtopic.php?p=141302#p141302"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sun Feb 15, 2015 8:06 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=6683_1410824489.gif" width="80" height="80" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Sep 15, 2014 4:35 pm<br /><b>Posts:</b> 905<br /><b>Location:</b> Nacogdoches, Texas
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Okay, just like half of my posts, this isn't super related to the topic, but I tried adding an area in RAM 8192 bytes in size and is going to be the place where all the object related information is stored.<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">ObjectBuf:&nbsp; &nbsp; .res $2000&nbsp; &nbsp;;I'm definatelly going to rename this</div><br />However, I tried to assemble it using ca64, but it tells me this:<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Microsoft Windows [Version 6.3.9600]<br />(c) 2013 Microsoft Corporation. All rights reserved.<br /><br />C:\Users\mrdre_000&gt;cd C:\Users\mrdre_000\Desktop\MetaspriteDemoKoitsu<br /><br />C:\Users\mrdre_000\Desktop\MetaspriteDemoKoitsu&gt;build<br />Assembling... Header.asm<br />Assembling... 2input.asm<br />Assembling... LoadGraphics.asm<br />Assembling... Metasprite2.asm<br />Assembling... MetaspriteTest2.asm<br />Assembling... ProcessOam.asm<br />Linking...<br />ld65.exe: Warning: lorom256k.cfg(7): Memory area overflow in `BSS', segment `BSS<br />' (1568 bytes)<br />ld65.exe: Error: Cannot generate output due to memory area overflow<br /><br />Finished linking. Please take note of any warnings/errors above.<br />Assembler or linker failed; see above output for details.<br /><br />C:\Users\mrdre_000\Desktop\MetaspriteDemoKoitsu&gt;</div><br />Memory overflow? I know for a fact that that fits in ram. Why is it even saying anything about lorom? It's an area in ram.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I'd trade quite a few features of the SNES to have double the sprite pixel scanline limit in their place. The SGX is the only console of that generation to have a really nice/healthy scanline pixel limit. Funny that it's not even a blip on the video game map for most gamers. Well, technically you could count the addon chips (and SegaCD), but I mean native to the video hardware.</div><br /><br />I wonder what you could trade. I would definitely get rid of BG 3 if you could in order to double the sprite per scan line limit. It's a bit suprising that Nintendo didn't copy all the enhancements from the Super Graphix to the SNES considering the SNES came out later, but given the Super Graphix's popularity, I guess they didn't think anyone would even notice. The Super Graphix actually seems a lot like the SNES in some respects, if not actually better. (Color depth is still a bit of a problem though.)</div>

					
							<br /><br />
							<span class="gensmall">Last edited by <a href="./memberlist.php?mode=viewprofile&amp;u=6683">Espozo</a> on Sun Feb 15, 2015 8:15 pm, edited 1 time in total.</span>
						<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=6683"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p141303"></a>
				<b class="postauthor" style="color: #AA0000">tepples</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p141303">Re: Main principles of creating an &quot;object&quot;</a></div><div style="float: right;"><a href="./viewtopic.php?p=141303#p141303"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sun Feb 15, 2015 8:11 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=9_1426464006.png" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Sep 19, 2004 11:12 pm<br /><b>Posts:</b> 13842<br /><b>Location:</b> NE Indiana, USA (NTSC)
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">My linker script is called &quot;lorom&quot; because it's designed for use with cartridge boards that implement LoROM (mapper $20). It defines <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">BSS</tt> as the first 8192 bytes of WRAM, which are mirrored down to low memory. You need to put big tables in <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">.segment &quot;BSS7E&quot;</tt> (56 KiB) or <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">.segment &quot;BSS7F&quot;</tt> (64 KiB).</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=9"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p141309"></a>
				<b class="postauthor">tomaitheous</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p141309">Re: Main principles of creating an &quot;object&quot;</a></div><div style="float: right;"><a href="./viewtopic.php?p=141309#p141309"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sun Feb 15, 2015 8:43 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Thu Aug 28, 2008 1:17 am<br /><b>Posts:</b> 435
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">Espozo wrote:</div><div class="quotecontent"><br />I wonder what you could trade. I would definitely get rid of BG 3 if you could in order to double the sprite per scan line limit.</div><br /><br /> Given what the SNES could do graphic wise, I'm pretty happy for what it can deliver. But for speculation's sake, I'd probably get ride of the interlaced mode. On the Genesis, it was recently revealed that the interlace mode took up a lot silicone real estate for the VDP, even to the point where they couldn't add more color cram for more colors on screen (cram is internal to the chip). So if it takes up similar on the SNES, then I say chuck it. That and mode 0. And a few other modes things I can't remember off the top of my head.  <br /><br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"> It's a bit suprising that Nintendo didn't copy all the enhancements from the Super Graphix to the SNES considering the SNES came out later, but given the Super Graphix's popularity, I guess they didn't think anyone would even notice. The Super Graphix actually seems a lot like the SNES in some respects, if not actually better. (Color depth is still a bit of a problem though.)</div><br /><br /> I think Chris Covell showed that the SuperFami hardware was pretty much finalized early on. They were probably waiting on the most opportune time to release it. Which means mostly likely before the SGX was out.<br /><br /> Want to hear something crazy? The PCE <em>and </em>SGX both have DACs capable of displaying 32768 YUV colors. Like the NES, the composite video is actually generated digitally. The PCE has two sets of DACs; YUV and RGB (5bit DACs). The RGB ram is actually nothing more than a index into a digital conversion table where it outputs 15bit color. Imagine if you had direct access to that, or even just 'emphasis' bits. Idiots. I mean, the PCE/SGX has a special chip just to house color ram and build NTSC timings (takes a digital pixel bus from the video chip). Surely they had enough silicone/room to implement something a little more advantageous to handle those 'perdy DACs. They missed it a second time around with the SGX too. Hahaha.</div>

					
						<div class="postbody"><br />_________________<br />__________________________<br /><!-- m --><a class="postlink" href="http://pcedev.wordpress.com">http://pcedev.wordpress.com</a><!-- m --></div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3645"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p141310"></a>
				<b class="postauthor">Espozo</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p141310">Re: Main principles of creating an &quot;object&quot;</a></div><div style="float: right;"><a href="./viewtopic.php?p=141310#p141310"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sun Feb 15, 2015 9:02 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=6683_1410824489.gif" width="80" height="80" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Sep 15, 2014 4:35 pm<br /><b>Posts:</b> 905<br /><b>Location:</b> Nacogdoches, Texas
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">tomaitheous wrote:</div><div class="quotecontent">I'd probably get ride of the interlaced mode. On the Genesis, it was recently revealed that the interlace mode took up a lot silicone real estate for the VDP, even to the point where they couldn't add more color cram for more colors on screen</div><br />When you say interlaced, do you mean this?:<br /><br /><div class="quotetitle">Wikipedia wrote:</div><div class="quotecontent">Interlaced video is a technique for doubling the perceived frame rate of a video display without consuming extra bandwidth. The interlaced signal contains two fields of a video frame captured at two different times. This enhances motion perception to the viewer, and reduces flicker by taking advantage of the phi phenomenon effect.</div><br />If anything could be done to increase the amount of colors on the Genesis, then I say do it. That's pretty much one of the main thing that made it look so much worse than the SNES in comparison and what made it not able to last as long. (DKC would have looked awful.)<br /><br /><div class="quotetitle">tomaitheous wrote:</div><div class="quotecontent">That and mode 0.</div><br />Another example of bragging rights. I don't see any reason in making two BG's look considerably worse just to add one more. You know, this is going to sound crazy, But I always thought it would be cool if someone made an demo of 4 NES games being played over each other on the SNES using mode 0. I know you don't necessarily have quadruple the number of resources for everything, (128 sprites instead of 256) but I'm sure you could work around it. (using 16x16 sized sprites instead of 4 8x8's)<br /><br /><div class="quotetitle">tomaitheous wrote:</div><div class="quotecontent">Want to hear something crazy? The PCE and SGX both have DACs capable of displaying 32768 YUV colors. Like the NES, the composite video is actually generated digitally. The PCE has two sets of DACs; YUV and RGB (5bit DACs). The RGB ram is actually nothing more than a index into a digital conversion table where it outputs 15bit color. Imagine if you had direct access to that, or even just 'emphasis' bits. Idiots. I mean, the PCE/SGX has a special chip just to house color ram and build NTSC timings (takes a digital pixel bus from the video chip). Surely they had enough silicone/room to implement something a little more advantageous to handle those 'perdy DACs. They missed it a second time around with the SGX too. Hahaha.</div><br />That's truly nonsensical. all they really would have needed to do is increase cg ram, or at least I think. How is cg ram stored in the PCE if each color is 9bits? Is it stored kind of like hioam in the SNES?<br /><br />I know this is much farther ahead, but I really feel like Nintendo knew how to make really good 2D hardware when they made the GBA. I know it's far more advanced than the SNES (despite people saying the GBA is &quot;as powerful, f not, slightly more powerful&quot;) but I feel like the GBA is far more well balanced and less nonsensical than the SNES from a technical perspective overall. Except resolution. That really could have been better and allowed for arcade perfect ports. is the screen the GBA's main reason for having the resolution it does, or is it the video hardware? I feel that it would have been really cool if Nintendo had basically put two GBA screens together, (no, I'm not talking about the DS <img src="./images/smilies/icon_rolleyes.gif" alt=":roll:" title="Rolling Eyes" /> ) and tilted it sideways for a 320x240 display which is exactly 2x the amount of pixels. The aspect ratio would than be 3:4 and this would allow things like Genesis games to have pixel perfect ports.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=6683"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p141317"></a>
				<b class="postauthor">Shonumi</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p141317">Re: Main principles of creating an &quot;object&quot;</a></div><div style="float: right;"><a href="./viewtopic.php?p=141317#p141317"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Mon Feb 16, 2015 12:48 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Jan 26, 2014 9:31 am<br /><b>Posts:</b> 131
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">Espozo wrote:</div><div class="quotecontent">I feel like the GBA is far more well balanced and less nonsensical than the SNES from a technical perspective overall.<br /></div><br /><br />I don't do any SNES programming, but every time I take a peek at what you guys are doing here, it really makes me appreciate how easy it is to wrap my head around the GBA. I get the feeling that Nintendo kind of went out of their way to make programming on their handhelds a fair bit easier than on the consoles, probably because the handhelds appeared later than their comparable consoles (NES first, GBC second, SNES first, GBA second) so they had time to see what worked and what didn't for developers.<br /><br /><div class="quotetitle">Espozo wrote:</div><div class="quotecontent">Except resolution. That really could have been better and allowed for arcade perfect ports. is the screen the GBA's main reason for having the resolution it does, or is it the video hardware?<br /></div><br /><br />As I stated before (somewhere around here), the GBA was designed with late 90s mobile tech. Performance wise, they may not have been able to push that many pixels at a price people would be willing to pay, although later DS-level hardware could easily do so. Even if the GBA had enough VRAM for that resolution, producing LCD units at that resolution may have been cost prohibitive for Nintendo.<br /><br /><div class="quotetitle">Espozo wrote:</div><div class="quotecontent">I feel that it would have been really cool if Nintendo had basically put two GBA screens together, (no, I'm not talking about the DS <img src="./images/smilies/icon_rolleyes.gif" alt=":roll:" title="Rolling Eyes" /> ) and tilted it sideways for a 320x240 display which is exactly 2x the amount of pixels. The aspect ratio would than be 3:4 and this would allow things like Genesis games to have pixel perfect ports.<br /></div><br /><br />If it's any consolidation, the 3DS has a 320x240 screen on the bottom (400x240 up top). Unfortunately in our world of shiny tablets and fancy smartphones, that's rather tiny as for as modern portable gaming goes.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=6368"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p141337"></a>
				<b class="postauthor" style="color: #AA0000">koitsu</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p141337">Re: Main principles of creating an &quot;object&quot;</a></div><div style="float: right;"><a href="./viewtopic.php?p=141337#p141337"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Mon Feb 16, 2015 1:04 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td class="postdetails">Site Admin</td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=3.png" width="100" height="75" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Sep 19, 2004 9:28 pm<br /><b>Posts:</b> 2391<br /><b>Location:</b> Mountain View, CA, USA
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">tepples wrote:</div><div class="quotecontent">My linker script is called &quot;lorom&quot; because it's designed for use with cartridge boards that implement LoROM (mapper $20). It defines <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">BSS</tt> as the first 8192 bytes of WRAM, which are mirrored down to low memory. You need to put big tables in <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">.segment &quot;BSS7E&quot;</tt> (56 KiB) or <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">.segment &quot;BSS7F&quot;</tt> (64 KiB).</div><br />His code current code will not work correctly outside of a single bank.  Well, more specifically, parts of it will, other parts won't.  There is basically constant assumption that B=K most of the time.  This is something I've intentionally been avoiding mentioning for weeks now because it's another humongous time sink.<br /><br />Also, Tepples' explanation is both helpful and unhelpful at the same time.  It doesn't explain the real reason for the assembler error (memory area overflow), so I'll explain that.  It relates to the SNES memory model, which for mode 20 you should get familiar with anyway.  Please see the below two pictures.<br /><br />lorom256k.cfg is basically a definition of what that memory map is (or more specifically, parts of it -- because the assembler needs to know what addresses things are at so that it assembles things with the right addresses and banks, and so that your code can get that information and use it appropriately (like what's in LoadBlockToVRAM)).  What you're interested in is the RAM part.<br /><br />The SNES has a limited amount of RAM -- specifically about 128KBytes total (8+56+64).  The general.png image does a better job explaining this, but here it is in text:<br /><br />Bank $00, $0000-1FFF = RAM (8KBytes)<br />Banks $00-3F, $0000-1FFF = mirror of $00/0000-1FFF<br />Banks $80-BF, $0000-1FFF = mirror of $00/0000-1FFF<br /><br />Bank $7E, $0000-1FFF = mirror of $00/0000-1FFF<br />Bank $7E, $2000-FFFF = RAM (56KBytes)<br />Bank $7F, $0000-FFFF = RAM (64KBytes)<br /><br />The &quot;mirrored regions&quot; of RAM are to allow a program executing code within a non-$00 bank to still access RAM through absolute addressing as if the code were in bank $00.  (I've honestly never understood why this was necessary, since direct page is always in bank $00 and can be used to accomplish the same thing, but whatever).<br /><br />The 8KBytes of RAM from $0000-1FFF are (generally speaking) intended to hold RAM for direct page and the stack.<br /><br />Now if you look in lorom256k.cfg this should start to make more sense.  Note the <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">size</tt> field too.<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">MEMORY {<br />&nbsp; ZEROPAGE:&nbsp; &nbsp;start =&nbsp; $000000, size =&nbsp; $0100;&nbsp; &nbsp;# $0000-00ff -- zero page<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# $0100-01ff -- stack<br />&nbsp; BSS:&nbsp; &nbsp; &nbsp; &nbsp; start =&nbsp; $000200, size =&nbsp; $1e00;&nbsp; &nbsp;# $0200-1fff -- RAM<br />&nbsp; BSS7E:&nbsp; &nbsp; &nbsp; start =&nbsp; $7e2000, size =&nbsp; $e000;&nbsp; &nbsp;# SNES work RAM, $7e2000-7effff<br />&nbsp; BSS7F:&nbsp; &nbsp; &nbsp; start =&nbsp; $7f0000, size = $10000;&nbsp; &nbsp;# SNES work RAM, $7f0000-$7ffff<br />&nbsp; ROM0:&nbsp; &nbsp; &nbsp; &nbsp;start =&nbsp; $008000, size =&nbsp; $8000, fill = yes;<br />&nbsp; ROM1:&nbsp; &nbsp; &nbsp; &nbsp;start =&nbsp; $018000, size =&nbsp; $8000, fill = yes;<br />&nbsp; ROM2:&nbsp; &nbsp; &nbsp; &nbsp;start =&nbsp; $028000, size =&nbsp; $8000, fill = yes;<br />&nbsp; ROM3:&nbsp; &nbsp; &nbsp; &nbsp;start =&nbsp; $038000, size =&nbsp; $8000, fill = yes;<br />&nbsp; ROM4:&nbsp; &nbsp; &nbsp; &nbsp;start =&nbsp; $048000, size =&nbsp; $8000, fill = yes;<br />&nbsp; ROM5:&nbsp; &nbsp; &nbsp; &nbsp;start =&nbsp; $058000, size =&nbsp; $8000, fill = yes;<br />&nbsp; ROM6:&nbsp; &nbsp; &nbsp; &nbsp;start =&nbsp; $068000, size =&nbsp; $8000, fill = yes;<br />&nbsp; ROM7:&nbsp; &nbsp; &nbsp; &nbsp;start =&nbsp; $078000, size =&nbsp; $8000, fill = yes;<br />}<br /></div><br />The ZEROPAGE part is what I've complained about in the past -- that ca65 requires this segment and does not understand the concept of 65816 direct page.  So that's why the first 256 bytes ($0000-00FF) are ZEROPAGE.<br /><br />The stack isn't defined in this config (Tepples may have fixed this in his newer LoROM template example, I didn't look), but it's technically between $0100-01FF (look in your code, specifically look for a <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">txs</tt> statement).<br /><br />That leaves $0200-1FFF, which is simply labelled &quot;BSS&quot; (this is a ca65 naming scheme thing).<br /><br />So now you can see why you can't just simply increase the size of something in the BSS segment in your code and have it magically work.  Sure, you could go change lorom256k.cfg to have a larger segment, but you would end up in a world of hurt -- you would probably end up writing code that would stomp over the stack and direct page (your variable you're already using in the ZEROPAGE segment), and this would make a giant mess.  (Your variables could/would lose their contents, and your stack would be trashed so that any of your stack push/pull ops and/or JSRs could/would freak out).<br /><br />So basically, the assembler error is telling you &quot;you're trying to do <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">.res $2000</tt> but the BSS segment is only $1e00 bytes in size&quot; (or more appropriately, if you had other <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">.res</tt> statements in BSS, &quot;you want more memory than is left/available in BSS&quot;).  And I just explained why you can't simply change lorom256k.cfg + increase <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">size</tt> on BSS.<br /><br />That leaves the remaining two other BSS segments: BSS7E and BSS7F.  These are what correlate with RAM in $7E/2000-FFFF and $7F/0000-FFFF (hence their names).  These are the general-purpose RAM areas that get used for a multitude of things, so that's where something 8KBytes in size should go.<br /><br />But as I mentioned above, you'll need to make sure your code properly uses a different bank, either through long addressing or some other means (e.g. <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">php/phb/sep #$20/lda #$7e/pha/plb/rep #$30 + whatever code populates some part of bank $7e + plb/plp</tt>).<br /><br />Edit: there are also registers $2180 and $2181-2183 which can let you access the RAM in banks $7E/7F; these are most commonly used for general DMA to/from RAM (gut feeling is you'll probably be needing this).  Just remember that the range accessed there starts at $7E0000, not $7E2000, i.e. you can easily overwrite your own direct page/stack area if you forget this fact.<br /><br />Final note: it's up to you to keep track of what parts of banks $7E and $7F are used for what.  The console will not do this for you.  Documenting what goes where and what size is important.  Use code comments, use something.  You aren't going to be able to keep all of this in your head indefinitely.</div>

					
						<br clear="all" /><br />

						<table class="tablebg" width="100%" cellspacing="1">
						<tr>
							<td class="row3"><b class="genmed">Attachments: </b></td>
						</tr>
						
							<tr>
								<td class="row2">
			<span class="gensmall"><b>File comment:</b> General memory layout</span><br />
		
			<a href="./download/file.php?id=2687&amp;mode=view"><img src="./download/file.php?id=2687&amp;t=1" alt="general.png" /></a><br />
			<span class="gensmall">general.png [ 131.94 KiB | Viewed 236 times ]</span>
		

		<br />
	</td>
							</tr>
						
							<tr>
								<td class="row1">
			<span class="gensmall"><b>File comment:</b> MODE 20 layout</span><br />
		
			<a href="./download/file.php?id=2686&amp;mode=view"><img src="./download/file.php?id=2686&amp;t=1" alt="mode20.png" /></a><br />
			<span class="gensmall">mode20.png [ 100 KiB | Viewed 236 times ]</span>
		

		<br />
	</td>
							</tr>
						
						</table>
					

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p141352"></a>
				<b class="postauthor">psycopathicteen</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p141352">Re: Main principles of creating an &quot;object&quot;</a></div><div style="float: right;"><a href="./viewtopic.php?p=141352#p141352"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Mon Feb 16, 2015 5:50 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Wed May 19, 2010 6:12 pm<br /><b>Posts:</b> 1106
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Not only did Nintendo get their act together when they made the GBA, I think the CPU market also got more well-balanced too.  Look at the CPU market back then.  You got some 8-bit, 16-bit and 32-bit CISC processors, some 32-bit RISC processors, and some really cheap 8-bit RISC processors.  Do you notice anything missing here?</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=4383"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p141652"></a>
				<b class="postauthor">Espozo</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p141652">Re: Main principles of creating an &quot;object&quot;</a></div><div style="float: right;"><a href="./viewtopic.php?p=141652#p141652"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Feb 20, 2015 7:32 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=6683_1410824489.gif" width="80" height="80" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Sep 15, 2014 4:35 pm<br /><b>Posts:</b> 905<br /><b>Location:</b> Nacogdoches, Texas
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Sorry if I'm bumping or whatever, but I <em>think</em> I got the object checker code done and I want to see if it makes any sense because I'm a bit mentally exhausted today from school. I want to have it to where you say &quot;jmp  start_object_identifier&quot; once somewhere in the code and it goes through all 128 objects so you don't have to say &quot;jmp  start_object_identifier&quot; 128 times. I am wondering, if you jmp 2 times and then jsr 2 times and don't use the stack, will it send you to where you originally did the first jump?<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">.proc start_object_identifier<br />&nbsp; pha<br />&nbsp; phx<br />&nbsp; phy<br />&nbsp; php&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; Save P (A/X/Y sizes)<br />&nbsp; rep #$30&nbsp; &nbsp; ; A=16, X/Y=16<br /><br />object_identifier_loop:<br />&nbsp; cpy #8192&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;;sees if all 128 objects have been identified (each object is 128 bytes)<br />&nbsp; beq done_identifying_objects&nbsp; &nbsp;&nbsp; &nbsp;;if so, quit searching<br />&nbsp; lda ObjectTable,y&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;;load the object identification byte of the object we're currently on<br />&nbsp; tax&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;;put the result in x so we can offset the object identification table to see what the object is<br />&nbsp; jsr (ObjectIdentificationTable,x)&nbsp; &nbsp;;jump to the code that corresponds with the object<br />&nbsp; pha&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;;init stuff...<br />&nbsp; phx<br />&nbsp; phy<br />&nbsp; php&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; Save P (A/X/Y sizes)<br />&nbsp; rep #$30&nbsp; &nbsp; ; A=16, X/Y=16<br />&nbsp; lda ObjectIdentifierCounter&nbsp; &nbsp;&nbsp; &nbsp;;says how many objects have been identified<br />&nbsp; adc #$0040&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;;add 64 to look at the next object<br />&nbsp; sta ObjectIdentifierCounter&nbsp; &nbsp;&nbsp; &nbsp;;store the result for the next time we go through the loop<br />&nbsp; tay&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;;transfer the accumulator to y for &quot;cpy #8192&quot; and &quot;lda ObjectTable,y&quot;<br />&nbsp; bra object_identifier_loop&nbsp; &nbsp;&nbsp; &nbsp;;jump back to look at the next object<br /><br />done_identifying_objects:<br />&nbsp; stz ObjectIdentifierCounter&nbsp; &nbsp;&nbsp; &nbsp;;make it so we start at object zero next frame<br />&nbsp; plp&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; Restore P (A/X/Y sizes)<br />&nbsp; ply&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; Restore Y<br />&nbsp; plx&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; Restore X<br />&nbsp; pla&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; Restore A<br />&nbsp; rts<br /><br />.endproc</div></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=6683"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p141663"></a>
				<b class="postauthor">tokumaru</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p141663">Re: Main principles of creating an &quot;object&quot;</a></div><div style="float: right;"><a href="./viewtopic.php?p=141663#p141663"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Feb 20, 2015 9:34 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=95.png" width="80" height="80" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sat Feb 12, 2005 9:43 pm<br /><b>Posts:</b> 7356<br /><b>Location:</b> Rio de Janeiro - Brazil
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Here are a few things that look wrong to me:<br /><br />1 - Y is undefined the first time the loop runs. Maybe you're missing an <strong>ldy ObjectIdentifierCounter</strong> before the loop starts, but I really don't see why this variable should be global, so I think you should just set Y to 0. You can back it up to <strong>ObjectIdentifierCounter</strong> before you call the object's handler, but the object must have access to this value so that it knows which slot to work with.<br /><br />2 - You're not ignoring the object if the slot is empty. If <strong>lda ObjectTable, y</strong> returns 0, you should proceed to increment the counter, as opposed to calling the object's handler. Unless you have an empty handler for object 0, which is also a valid (but slightly slower) option.<br /><br />3- Why are you pushing registers to the stack a second time, after calling the object's hendler (init stuff???)? I don't see any reason for that, and since there are no corresponding pulls, these values will be left on the stack (except for the last set), and the original set of registers you backed up at the beginning of the routine will not be restored.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=95"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p141665"></a>
				<b class="postauthor">Espozo</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p141665">Re: Main principles of creating an &quot;object&quot;</a></div><div style="float: right;"><a href="./viewtopic.php?p=141665#p141665"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Feb 20, 2015 9:46 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=6683_1410824489.gif" width="80" height="80" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Sep 15, 2014 4:35 pm<br /><b>Posts:</b> 905<br /><b>Location:</b> Nacogdoches, Texas
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent">1 - Y is undefined the first time the loop runs. Maybe you're missing an ldy ObjectIdentifierCounter before the loop starts, but I really don't see why this variable should be global, so I think you should just set Y to 0. You can back it up to ObjectIdentifierCounter before you call the object's handler, but the object must have access to this value so that it knows which slot to work with.</div><br />Oh yeah, I forgot to have y be 0 at the beginning. I had an ldy ObjectIdentifierCounter at the beginning and got rid of it, but forgot to replace it with 0<br /><br /><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent">2 - You're not ignoring the object if the slot is empty. If lda ObjectTable, y returns 0, you should proceed to increment the counter, as opposed to calling the object's handler. Unless you have an empty handler for object 0, which is also a valid (but slightly slower) option.</div><br />I had the empty handler option in mind, but I'll fix it.<br /><br /><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent">3- Why are you pushing registers to the stack a second time, after calling the object's hendler (init stuff???)? I don't see any reason for that, and since there are no corresponding pulls, these values will be left on the stack (except for the last set), and the original set of registers you backed up at the beginning of the routine will not be restored.</div><br />The day I understand what  <br />  pha<br />  phx<br />  phy<br />  php         ; Save P (A/X/Y sizes)<br />means is the day I die. I thought that meant you pushed variables onto the stack, but why are you doing this? What does the second p in php even stand for?<br /><br />Well, at least I got this mostly correct...<br /><br />Edit: This <em>should</em> be good.<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">.proc start_object_identifier<br />&nbsp; pha<br />&nbsp; phx<br />&nbsp; phy<br />&nbsp; php&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; Save P (A/X/Y sizes)<br />&nbsp; rep #$30&nbsp; &nbsp; ; A=16, X/Y=16<br />&nbsp; ldy #$0000<br /><br />object_identifier_loop:<br />&nbsp; cpy #8192&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;;sees if all 128 objects have been identified (each object is 64 bytes)<br />&nbsp; beq done_identifying_objects&nbsp; &nbsp;&nbsp; &nbsp;;if so, quit searching<br />&nbsp; lda ObjectTable,y&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;;load the object identification byte of the object we're currently on<br />&nbsp; beq next_object<br />&nbsp; tax&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;;put the result in x so we can offset the object identification table to see what the object is<br />&nbsp; jsr (ObjectIdentificationTable,x)&nbsp; &nbsp;;jump to the code that corresponds with the object<br />&nbsp; rep #$30&nbsp; &nbsp; ; A=16, X/Y=16<br />next_object<br />&nbsp; lda ObjectIdentifierCounter&nbsp; &nbsp;&nbsp; &nbsp;;says how many objects have been identified<br />&nbsp; adc #$0040&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;;add 64 to look at the next object<br />&nbsp; sta ObjectIdentifierCounter&nbsp; &nbsp;&nbsp; &nbsp;;store the result for the next time we go through the loop<br />&nbsp; tay&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;;transfer the accumulator to y for &quot;cpy #8192&quot; and &quot;lda ObjectTable,y&quot;<br />&nbsp; bra object_identifier_loop&nbsp; &nbsp;&nbsp; &nbsp;;jump back to look at the next object<br /><br />done_identifying_objects:<br />&nbsp; stz ObjectIdentifierCounter&nbsp; &nbsp;&nbsp; &nbsp;;make it so we start at object zero next frame<br />&nbsp; plp&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; Restore P (A/X/Y sizes)<br />&nbsp; ply&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; Restore Y<br />&nbsp; plx&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; Restore X<br />&nbsp; pla&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; Restore A<br />&nbsp; rts<br /><br />.endproc</div></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=6683"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p141669"></a>
				<b class="postauthor" style="color: #AA0000">koitsu</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p141669">Re: Main principles of creating an &quot;object&quot;</a></div><div style="float: right;"><a href="./viewtopic.php?p=141669#p141669"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Feb 20, 2015 10:07 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td class="postdetails">Site Admin</td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=3.png" width="100" height="75" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Sep 19, 2004 9:28 pm<br /><b>Posts:</b> 2391<br /><b>Location:</b> Mountain View, CA, USA
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">As described previously somewhere in a thread by me: PHP pushes the P register onto the stack.  The P register is what contains all the bits that control things like accumulator size, X/Y size, zero flag, negative flag, etc..  It's functionally the same thing as any of the other push operations, just that it's pushing P.  PLP pulls whatever was most recently pushed onto the stack into the P register.  The P register is 8 bits in size (always).<br /><br />The intention behind doing PHP/PLP is so that you can manipulate the accum and X/Y register sizes &quot;safely&quot; (via REP/SEP).  It's commonly used within subroutines where REP/SEP are used, so that A/X/Y sizes are restored once the routine is over with.<br /><br />It's also important to understand that the order of operation matters as well: you would want PHA/PHX/PHY/PHP (note PHP comes last) at the start of the routine, not PHP/PHA/PHX/PHY.  This matters because at the end of the routine, you would do the PLP/PLY/PLX/PLA -- notice how P gets restored first, ensuring that whatever the register sizes (of A, and X/Y) are restored *before* doing the pulls on Y, X, and A.  If you did this in the wrong order, there's a very good possibility you could have pushed 16-bit accumulator or X/Y on the stack at routine entry, followed by pulling 8-bit accumulator or X/Y off stack on routine exit -- and that would result in an eventual stack overflow or underflow, and you'd be screwed.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table width="100%" cellspacing="1" class="tablebg">
	<tr align="center">
		<td class="cat"><form name="viewtopic" method="post" action="./viewtopic.php?f=12&amp;t=12356&amp;start=75"><span class="gensmall">Display posts from previous:</span> <select name="st" id="st"><option value="0" selected="selected">All posts</option><option value="1">1 day</option><option value="7">7 days</option><option value="14">2 weeks</option><option value="30">1 month</option><option value="90">3 months</option><option value="180">6 months</option><option value="365">1 year</option></select>&nbsp;<span class="gensmall">Sort by</span> <select name="sk" id="sk"><option value="a">Author</option><option value="t" selected="selected">Post time</option><option value="s">Subject</option></select> <select name="sd" id="sd"><option value="a" selected="selected">Ascending</option><option value="d">Descending</option></select>&nbsp;<input class="btnlite" type="submit" value="Go" name="sort" /></form></td>
	</tr>
	</table>
	

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=12"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=12&amp;t=12356"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>6</strong> of <strong>8</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 118 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"><b><a href="#" onclick="jumpto(); return false;" title="Click to jump to pageâ€¦">Go to page</a> <a href="./viewtopic.php?f=12&amp;t=12356&amp;start=60">Previous</a>&nbsp;&nbsp;<a href="./viewtopic.php?f=12&amp;t=12356">1</a><span class="page-dots"> ... </span><a href="./viewtopic.php?f=12&amp;t=12356&amp;start=30">3</a><span class="page-sep">, </span><a href="./viewtopic.php?f=12&amp;t=12356&amp;start=45">4</a><span class="page-sep">, </span><a href="./viewtopic.php?f=12&amp;t=12356&amp;start=60">5</a><span class="page-sep">, </span><strong>6</strong><span class="page-sep">, </span><a href="./viewtopic.php?f=12&amp;t=12356&amp;start=90">7</a><span class="page-sep">, </span><a href="./viewtopic.php?f=12&amp;t=12356&amp;start=105">8</a> &nbsp;<a href="./viewtopic.php?f=12&amp;t=12356&amp;start=90">Next</a></b></td>
		
	</tr>
	</table>

</div>

<div id="pagefooter"></div>

<br clear="all" />
<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=25">Other</a> &#187; <a href="./viewforum.php?f=12">SNESdev</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>
	<br clear="all" />

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat"><h4>Who is online</h4></td>
	</tr>
	<tr>
		<td class="row1"><p class="gensmall">Users browsing this forum: <a href="./memberlist.php?mode=viewprofile&amp;u=5948">Joe</a> and 3 guests</p></td>
	</tr>
	</table>


<br clear="all" />

<table width="100%" cellspacing="1">
<tr>
	<td width="40%" valign="top" nowrap="nowrap" align="left"></td>
	<td align="right" valign="top" nowrap="nowrap"><span class="gensmall">You <strong>cannot</strong> post new topics in this forum<br />You <strong>cannot</strong> reply to topics in this forum<br />You <strong>cannot</strong> edit your posts in this forum<br />You <strong>cannot</strong> delete your posts in this forum<br />You <strong>cannot</strong> post attachments in this forum<br /></span></td>
</tr>
</table>

<br clear="all" />

<table width="100%" cellspacing="0">
<tr>
	<td><form method="get" name="search" action="./search.php"><span class="gensmall">Search for:</span> <input class="post" type="text" name="keywords" size="20" /> <input class="btnlite" type="submit" value="Go" /><input type="hidden" name="t" value="12356" />
<input type="hidden" name="sf" value="msgonly" />
</form></td>
	<td align="right">
	<form method="post" name="jumpbox" action="./viewforum.php" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	<table cellspacing="0" cellpadding="0" border="0">
	<tr>
		<td nowrap="nowrap"><span class="gensmall">Jump to:</span>&nbsp;<select name="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">

		
			<option value="-1">Select a forum</option>
		<option value="-1">------------------</option>
			<option value="24">NES / Famicom</option>
		
			<option value="2">&nbsp; &nbsp;NESdev</option>
		
			<option value="3">&nbsp; &nbsp;NESemdev</option>
		
			<option value="21">&nbsp; &nbsp;NES Graphics</option>
		
			<option value="6">&nbsp; &nbsp;NES Music</option>
		
			<option value="22">&nbsp; &nbsp;Homebrew Projects</option>
		
			<option value="10">&nbsp; &nbsp;Newbie Help Center</option>
		
			<option value="9">&nbsp; &nbsp;NES Hardware and Flash Equipment</option>
		
			<option value="28">&nbsp; &nbsp;Reproduction</option>
		
			<option value="11">&nbsp; &nbsp;FCdev</option>
		
			<option value="18">&nbsp; &nbsp;NESdev China</option>
		
			<option value="27">&nbsp; &nbsp;NESdev Middle East</option>
		
			<option value="19">&nbsp; &nbsp;NESdev International</option>
		
			<option value="25">Other</option>
		
			<option value="5">&nbsp; &nbsp;General Stuff</option>
		
			<option value="4">&nbsp; &nbsp;Membler Industries</option>
		
			<option value="12" selected="selected">&nbsp; &nbsp;SNESdev</option>
		
			<option value="20">&nbsp; &nbsp;GBDev</option>
		
			<option value="23">&nbsp; &nbsp;Other Retro Dev</option>
		
			<option value="15">&nbsp; &nbsp;Test Forum</option>
		
			<option value="26">Site Issues</option>
		
			<option value="13">&nbsp; &nbsp;phpBB Issues</option>
		
			<option value="14">&nbsp; &nbsp;Web Issues</option>
		
			<option value="16">&nbsp; &nbsp;nesdevWiki</option>
		

		</select>&nbsp;<input class="btnlite" type="submit" value="Go" /></td>
	</tr>
	</table>

	</form>
</td>
</tr>
</table>


</div>

<div id="wrapfooter">
	
	<span class="copyright">Powered by <a href="http://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Group
	</span>
</div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-61452025-2', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>