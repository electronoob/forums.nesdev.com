<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - nestest.nes</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">nestest.nes</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=3&amp;t=729">http://forums.nesdev.com/viewtopic.php?f=3&amp;t=729</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>3</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>WedNESday</b> [ Sun Nov 06, 2005 10:51 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>nestest.nes</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Does anyone actually have a copy of this ROM? Everywhere I go the file just downloads like a HTML file and when I try to convert it to a NES ROM it still doesn't work. Does anyone know of a good copy or can someone email me one?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Quietust</b> [ Sun Nov 06, 2005 11:30 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><a href="http://www.qmtpro.com/~nes/misc/nestest.nes" class="postlink">ROM image</a>, <a href="http://www.qmtpro.com/~nes/misc/nestest.txt" class="postlink">documentation</a>
<br />
<br />The problem is that tripoint.org (kevtris's web host) sends "unrecognized" files (i.e. .NES files) as text/plain (which causes browsers to view them as text and causes IE to not save them to disk properly); my web host sends them as application/octet-stream (i.e. "generic binary file"), so it should download fine.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>WedNESday</b> [ Sun Nov 06, 2005 12:31 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Sweet dude.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Mon Nov 07, 2005 1:48 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />FCE Ultra 0.98.12 gives OK except for illegal ops DCP (error A9) and ISB (BE).
<br />
<br />[... reading docs ...]

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>WedNESday</b> [ Thu Feb 23, 2006 8:43 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Well i've always hated FCEU anyway. Does anyone know why nestest.nes doesn't test for <em>all</em> of the illegal opcodes? There are so many individual ones that it does not test for, or the other NOP ones.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>dxprog</b> [ Thu Feb 23, 2006 1:01 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Out of curiosity, what does a <em>real</em> NES do on an illegal op?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Thu Feb 23, 2006 2:50 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />NES behavior for undocumented 6502 opcodes is the same as any MOS Technology 6502.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>baisoku</b> [ Thu Feb 23, 2006 2:51 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">dxprog wrote:</div><div class="quotecontent">Out of curiosity, what does a <em>real</em> NES do on an illegal op?</div>
<br />It executes the opcode. The $x2 ops (HLT) lock up the CPU. Some ops are unstable, most have predictable behaviour, most easily describable as mixtures of different ops.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>WedNESday</b> [ Thu Feb 23, 2006 4:20 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Thanks for explaining what I already knew (sarcastically). Never mind. Ditto to my previous question, why aren't they all tested.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>baisoku</b> [ Fri Feb 24, 2006 7:44 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">WedNESday wrote:</div><div class="quotecontent">Thanks for explaining what I already knew (sarcastically). Never mind. Ditto to my previous question, why aren't they all tested.</div>
<br />First, i wasn't answering your question (i was replying to dxprog). Second. there wasn't any sarcasm involved in any of the prior posts. Third, shame on us for not knowing what you already do or do not know.
<br />As for why some ops may not be tested, i think you'll have to ask the author of the tests for that.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>WedNESday</b> [ Fri Feb 24, 2006 11:29 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">baisoku wrote:</div><div class="quotecontent">First, i wasn't answering your question (i was replying to dxprog). Second. there wasn't any sarcasm involved in any of the prior posts. Third, shame on us for not knowing what you already do or do not know.<br />As for why some ops may not be tested, i think you'll have to ask the author of the tests for that.</div>
<br />
<br />Not you! I meant the other two. My apologies.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>kevtris</b> [ Sat Feb 25, 2006 1:17 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">WedNESday wrote:</div><div class="quotecontent">Thanks for explaining what I already knew (sarcastically). Never mind. Ditto to my previous question, why aren't they all tested.</div>
<br />
<br />I wrote the program in question.
<br />
<br />As for why they all aren't tested, I test every useful "invalid" opcode, along with many others.  About the only ones I don't test are the very odd and utterly useles codes, along with the unpredictable ones, and of course the "halt" codes.
<br />
<br />Here is the list of what is tested:
<br />
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">;<br />;key:<br />;XX - opcode has been fully tested by this program<br />;uu - opcode has been fully tested, but is an &quot;undefined&quot; opcode<br />;-- - opcode isn't useful or predictable.&nbsp; not tested<br />;== - opcode crashes CPU so it is not tested<br />;?? - opcode hasn't been tested yet, but will be later<br />;&nbsp; &nbsp;- opcode is not tested or otherwise dealt with yet<br /><br />;tested opcode matrix<br />;&nbsp; &nbsp;00 20 40 60 80 A0 C0 E0<br />;--------------------------<br />;00&nbsp; &nbsp; XX XX XX uu XX XX XX<br />;01 XX XX XX XX XX XX XX XX<br />;02 == == == == == XX == ==<br />;03 uu uu uu uu uu uu uu uu<br />;04 uu XX uu uu XX XX XX XX<br />;05 XX XX XX XX XX XX XX XX<br />;06 XX XX XX XX XX XX XX XX<br />;07 uu uu uu uu uu uu uu uu<br />;<br />;08 XX XX XX XX XX XX XX XX<br />;09 XX XX XX XX XX XX XX XX<br />;0A XX XX XX XX XX XX XX XX<br />;0B -- -- -- -- -- -- -- uu<br />;0C uu XX XX XX XX XX XX XX<br />;0D XX XX XX XX XX XX XX XX<br />;0E XX XX XX XX XX XX XX XX<br />;0F uu uu uu uu uu uu uu uu<br />;<br />;10 XX XX XX XX XX XX XX XX<br />;11 XX XX XX XX XX XX XX XX<br />;12 == == == == == == == ==<br />;13 uu uu uu uu -- uu uu uu<br />;14 uu uu uu uu XX XX uu uu<br />;15 XX XX XX XX XX XX XX XX<br />;16 XX XX XX XX XX XX XX XX<br />;17 uu uu uu uu uu uu uu uu<br />;<br />;18 XX XX XX XX XX XX XX XX<br />;19 XX XX XX XX XX XX XX XX<br />;1A uu uu uu uu XX XX uu uu<br />;1B uu uu uu uu -- -- uu uu<br />;1C uu uu uu uu -- XX uu uu<br />;1D XX XX XX XX XX XX XX XX<br />;1E XX XX XX XX -- XX XX XX<br />;1F uu uu uu uu -- uu uu uu<br />;<br /></div>
<br />
<br />Looks like I test everything except BRK and 13 "invalid" opcodes.  I just never got around to BRK since it's just another interrupt and I had tested those previously.
<br />
<br />This program was mainly written for my own use to test out the CPU in my FPGA NES, but I did run it on alot of other emulators for shits and giggles.   It was originally developed on CopyNES, so I know it works on the real thing properly.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>WedNESday</b> [ Tue May 02, 2006 4:01 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">kevtris wrote:</div><div class="quotecontent">As for why they all aren't tested, I test every useful "invalid" opcode, along with many others.  About the only ones I don't test are the very odd and utterly useles codes, along with the unpredictable ones, and of course the "halt" codes.</div>
<br />
<br />Purely a matter of opinion. For the purposes of accurate NES emulation, we really need those other ones tested (including the BRK opcode (IT IS STILL AN OPCODE!).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Tue May 02, 2006 8:10 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I agree that tests for BRK behavior should be added, but how would one test an opcode whose behavior cannot be reliably predicted given what we already know about its behavior? And how would one test all HLT opcodes sequentially if the mapper cannot assert RESET?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>WedNESday</b> [ Tue May 02, 2006 8:36 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Oh no, I agree that HLT cannot be tested, but the other opcodes, no matter their stability, should be tested ten times or something to see what results are returned. I ask this question because I am trying to add support for the other 13 odd opcodes and different 6502 technical documents are telling me different things.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>3</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>