<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - SCUMM</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">SCUMM</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=2&amp;t=1582">http://forums.nesdev.com/viewtopic.php?f=2&amp;t=1582</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Jagasian</b> [ Mon May 29, 2006 4:50 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>SCUMM</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Has anybody looked into the feasibility of hacking other SCUMM games into Maniac Mansion for the NES?  It uses version 1.5 of the SCUMM virtual machine, according to this:
<br /><!-- m --><a class="postlink" href="http://en.wikipedia.org/wiki/SCUMM">http://en.wikipedia.org/wiki/SCUMM</a><!-- m -->
<br />
<br />At least one other game exists for an early version of the virtual machine, and a tool exists for ripping the SCUMM script from the Maniac Mansion NES ROM:
<br /><!-- m --><a class="postlink" href="http://forums.scummvm.org/viewtopic.php?t=302">http://forums.scummvm.org/viewtopic.php?t=302</a><!-- m -->
<br />
<br />How feasible would it be to hack in, say, "Zak McKracken and the Alien Mindbenders", which uses version 1.0 of the SCUMM virtual machine?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dwedit</b> [ Mon May 29, 2006 6:42 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Even if the scripts and events were compatible, converting all the graphics to NES format, aligning the graphics and event graphics to a tilemap, and tons of other random stuff would make it a huge monumental task.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Quietust</b> [ Mon May 29, 2006 6:52 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Another major issue is that the costumes in MM NES were heavily modified to simplify them - in the original version, each costume is divided into several sections (head, arms, legs, etc.) which are animated independently, but the NES version had to shrink them down to single units. As a result, costume animations involving individual limbs wouldn't quite work properly.
<br />
<br />There's also the issue that the MM NES engine can only support <strong>four</strong> actors in a room at one time, which might not be quite enough for Zak McKracken.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>-_pentium5.1_-</b> [ Mon May 29, 2006 10:46 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Um... so even if wholesale story replacement isn't possible, Maniac Mansion might still become a prime target of ROM hackers some time soon?
<br />
<br />EDIT: Removed unnecessary apology. As my sig says, I'm really not a serious enough developer to be discussing something like this.
<br />EDIT 2: Let me clarify. I haven't done <em>any</em> NES development at all; I simply have a casual interest in the subject (and other things I want to discuss on these forums...).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Mon May 29, 2006 10:55 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Quietust, you seem to know a lot about the SCUMM engine... I'd like to learn more about it (the details, such as the limbs and the number of actors stuff). Can you recommend anything I should read? Thanks!
<br />
<br />EDIT: Oh, I see there are some useful links at the wikipedia page...

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Jagasian</b> [ Tue May 30, 2006 12:23 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Quietust, I hoped you'd reply, as I saw some old posts of yours at the SCUMMVM forums, so I figured you would know allot about SCUMM.  The main thing that facinates me is that Maniac Mansion for the NES actually used SCUMM as opposed to just rewriting the entire game in 6502 assembler.
<br />
<br />The fact that the game uses a well documented game engine / virtual machine should make this game a prime candidate for ROM hackers, but currently the only Maniac Mansion specific ROM tool that exists is one that extracts the game's script.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Lord Nightmare</b> [ Tue May 30, 2006 1:16 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Jagasian: and Quietust WROTE that script, for when Maniac Mansion NES support was first being added to ScummVM. Eventually ScummVM gained the ability to load right from the rom itself (also Quietust's work) and no longer needed the resources ripped out first.
<br />
<br />Lord Nightmare
<br />
<br />P.S. the support in scummvm for Maniac Mansion NES is not perfect; there are two issues:
<br />1. somewhat serious: the cursor rollover code does not boundscheck the clickboxes for items and so items on screen can 'overwrite' the action buttons at the bottom of the screen. This makes certain endings of the game very difficult to get!
<br />2. relatively minor: all cutscenes in the game which involve panning/scrolling the whole virtual screen width get 'stuck' at the end and don't ever complete, due to a funny offset issue involving the fact that scumm is normally narrower than the nes screen width and the nes scumm interpreter had some weird 'viewport x position' hacks to work around this fact. The bug is noticible on the 'maniac mansion' scroller at the very beginning, and in one or two places in game. You can unstick the game by hitting ESC.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Quietust</b> [ Tue May 30, 2006 1:28 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />It should be noted that, although ScummVM can play MM NES directly from the .PRG file, it is more efficient to extract the .LFL files beforehand so ScummVM doesn't have to re-decode a chunk of the ROM image every time it needs a resource.
<br />
<br />One other issue that ScummVM doesn't yet handle is the special way MM NES handles actors that are walking and talking at the same time - right now, if an actor stops talking while walking, they start sliding across the floor, and if they stop walking while talking, they just stand and talk without moving their lips.
<br />
<br />
<br />At one point I wanted to put the MM NES disassembly into a nice debugger database of some sort (like IDA) so I could more easily keep track of global variable names, but that fell through mainly due to the high cost of such tools (and not enough gains to justify it).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Wed May 31, 2006 2:58 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />What about the japanese version of Maniac Mansion? It is so different from the US version that it wouldn't surprise me if it's workings were totally different...
<br />
<br />Why would they make two completelly different versions of a game...?
<br />
<br />EDIT: I read that the japanese version does not use SCUMM, and has a completly rewritten engine. But it still bugs me the fact that there are two Maniac Mansion games.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Jagasian</b> [ Wed May 31, 2006 3:43 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Can the disassembly of MM NES be assembled into a working NES ROM?  Even with the limitations, it sure does seem like a good way to make homebrew adventure games for the NES, if the MM NES engine was relocatable.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Quietust</b> [ Wed May 31, 2006 4:26 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />tokumaru: the Japanese version was made about a year before the USA version, and it was written entirely by Jaleco using a custom game engine (with only 2KB of RAM, it had to use huge passwords for saving progress). When the decision was made to bring the game to the USA, they decided that it'd be more productive to simply port SCUMM to the NES and import most of the game's data (with new graphics and sound, of course).
<br />
<br />Jagasian: I think it does, but my disassembly only includes the first and last banks - the 14 banks of data aren't included in it, and it'd take a bit of work to incorporate them in AND link in all of the references to make it properly relocatable.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>