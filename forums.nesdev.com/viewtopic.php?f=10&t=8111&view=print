<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - NES development tools: Level/Graphics Editor</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">NES development tools: Level/Graphics Editor</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=10&amp;t=8111">http://forums.nesdev.com/viewtopic.php?f=10&amp;t=8111</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Asteroid</b> [ Sat Sep 10, 2011 3:00 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>NES development tools: Level/Graphics Editor</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />hello everyone
<br />
<br />I've made my way through most of the nerdy nights tutorials, and as I delve deeper into learning how to program the NES and the game making process, I just had a few questions about how backgrounds/levels and sprite animations are done.
<br />
<br />In particular, from the Nerdy Nights Week 6 tutorial, I see that the way he made a background was by writing a whole bunch of "db" statements for the nametable and attribute table.  However, I've also been going over the source code of programs available on this site(e.g Bomber4k), and no programs I've seen have anything like a long list of "db" statements.  
<br />
<br />So I was wondering what graphics tools are used to develop backgrounds.  Right now I am using YYCHR to draw the tiles etc, but are there other tools? While randomly browsing nes homebrew on youtube, I found this:
<br />
<br /><!-- m --><a class="postlink" href="http://www.youtube.com/watch?v=E9c_iyxOIKA">http://www.youtube.com/watch?v=E9c_iyxOIKA</a><!-- m -->
<br />
<br />so it seems like there are tools that facilitate the background making process and integrating that into one's program.
<br />
<br />I've looked at the tools on this site, but if someone could please go over the best tools available, and a few general words about how they work that would be great.  I can definitely generate all the hundreds of "db" statements manually, but I want to check if there are better ways.
<br />
<br />much thanks in advance
<br />-asteroid

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>3gengames</b> [ Sat Sep 10, 2011 3:02 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />NES screen tool by Shiru for screens. Very good tool.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Denine</b> [ Sat Sep 10, 2011 4:14 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I used "Nes Grafic Editor" for palete\metatiles\level work.
<br />No, not the one from video. There's another  "Nes Grafic Editor".
<br /><!-- m --><a class="postlink" href="http://www.forum.emunes.pl/index.php?topic=3349.0">http://www.forum.emunes.pl/index.php?topic=3349.0</a><!-- m -->
<br />But, it's in Polish only.Maybe I'll ask to translate it to english.
<br />Anyway, for current project I'm using MapEd Pro.It misess some options, but it can make 2x2 metatiles.
<br />For drawing Grafics I use Tile molester-IMO it's best GFX editor.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>3gengames</b> [ Sat Sep 10, 2011 4:25 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />YY-Chr is way better then Tile Molester, check it out Denine. But yeah, YY-Chr if you want to do graphics stuff.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Kasumi</b> [ Sat Sep 10, 2011 8:26 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I use YY-Chr to create my CHR banks and a PC/PSP program I made myself to create levels and other sorts of data. (Tables, static screens, etc) 
<br />
<br />Project P (an old game made by the maker of Super Bat Puncher) also used a custom built editor: <!-- m --><a class="postlink" href="http://www.youtube.com/watch?v=DjYeB604a1s">http://www.youtube.com/watch?v=DjYeB604a1s</a><!-- m -->
<br />
<br />Edit: SivakD of Battle Kid apparently wrote his editor in Visual Basic. He said so in the comments of the above video.
<br />
<br />I think most sufficiently advanced NES homebrew games have their levels created with custom PC editors, since it's very hard to make a good program that can meet the needs of all types of NES homebrew. The second you want a type of compression or whatever else that's outside the scope of the available programs, you have to do it yourself.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Asteroid</b> [ Sun Sep 11, 2011 1:11 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />thanks again kasumi and 3gen.
<br />
<br />yeah, I'm still obviously in the very beginning stages of NES programming, so I'm taking my time to learn the ropes of all the tools necessary to create a game.  Still a bit confused though.
<br />
<br />I've played around with the NES Screen Tool mentioned above, and I understand the basic gist of it.  But as I wrote previously, in a few of the sample source code programs I've seen, I never see a long list of "db" statements for the background.  So while going over the NES Screen Tool, I still don't understand how I would integrate it's output with my program.  The only thing I see is an option to "save the nametable and attributes to the clipboard as ASM".  So is that what the program does? I make a background using a tileset, and then simply copy and paste the resulting ASM code into my program? But when I look at the source for Bomber4k, I don't really see anything like a bunch of "db" statements.  So maybe he's using a better method?  To be honest, the background creation/integration process still baffles me, so if anyone could give a general outline of the steps involved, maybe using the nes screen tool, I would really appreciate it.
<br />
<br />thanks for your help
<br />-asteroid

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>3gengames</b> [ Sun Sep 11, 2011 1:18 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Well, when you save the file, you can save it as raw data [.bin] and then use a program like this to upload it:
<br />
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">ScreenToScreen:<br />&nbsp; ASL A<br />&nbsp; TAX<br />&nbsp; LDA ScreenPointersLow,X<br />&nbsp; STA BulkTransfer<br />&nbsp; LDA ScreenPointersHigh,X<br />&nbsp; STA BulkTransfer+1<br />&nbsp; LDA $2002<br />&nbsp; LDA #$20<br />&nbsp; STA $2006<br />&nbsp; LDA #$00<br />&nbsp; STA $2006<br />&nbsp; LDX #$04<br />&nbsp; LDY #$00<br />ScreenToScreenLoop:<br />&nbsp; LDA &#91;BulkTransfer&#93;,Y<br />&nbsp; STA $2007<br />&nbsp; INY<br />&nbsp; BNE ScreenToScreenLoop<br />&nbsp; INC BulkTransfer+1<br />&nbsp; DEX<br />&nbsp; BNE ScreenToScreenLoop<br />&nbsp; RTS<br /></div>
<br />
<br />Where the variable BulkTransfer is in Zeropage, and the other 2 are pointer tables to the ROM location that the screens data starts at. Then there's RLE which I've never messed with it out of NESSt so I can't help you with that, but if you feel you can do it, try to read through and learn the code to upload the screen to see if you understand it. If not, I'd advise you to write your own. Code is good to learn from, but if you just take it without understanding it's limits and such, you'll break it and you'll be less behind on your knowledge. <img src="./images/smilies/icon_razz.gif" alt=":P" title="Razz" /> <img src="./images/smilies/icon_wink.gif" alt=";)" title="Wink" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Shiru</b> [ Sun Sep 11, 2011 6:27 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />In NESst you can save nametable as *.rle, then just incbin that file and use the unrle code to unpack it in VRAM directly.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Sun Sep 11, 2011 6:38 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NES development tools: Level/Graphics Editor</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Asteroid wrote:</div><div class="quotecontent">So I was wondering what graphics tools are used to develop backgrounds.  Right now I am using YYCHR to draw the tiles etc, but are there other tools?</div><br />You can also use (the latest version of) YY-CHR for drawing backgrounds (similar to Shiru's NES Screen Tool), as long as you're fine with being limited to a single screen (no scrolling) and no metatiles (unless you write your own tool to pack the data).<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">so it seems like there are tools that facilitate the background making process and integrating that into one's program.</div>
<br />Most of these tools haven't been publicly released. The only reasonably flexible map editor I know is here <a href="http://nesdev.com/bbs/viewtopic.php?t=7111" class="postlink">http://nesdev.com/bbs/viewtopic.php?t=7111</a>, but its user interface is not the best.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Sun Sep 11, 2011 6:53 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Kasumi wrote:</div><div class="quotecontent">I think most sufficiently advanced NES homebrew games have their levels created with custom PC editors, since it's very hard to make a good program that can meet the needs of all types of NES homebrew. The second you want a type of compression or whatever else that's outside the scope of the available programs, you have to do it yourself.</div>
<br />True to an extent, but I think a generic map editor is within realm of possibility. It should have configurable metatile sizes and support for export plugins. It's just pretty unlikely that anybody is so passionate about map editors to come up with something really good and generic <em>and</em> release it to the public (which takes a lot of extra work, documentation etc). Generalization itself of course takes a lot of extra work as well, so for most people it's not worth doing it just to get a pat on the back...

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Shiru</b> [ Sun Sep 11, 2011 6:59 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />There are general map editors around, actually, but not much people ever heard of them.
<br />
<br />For me, making a custom level editor (if necessary for a project) takes about one day, or less, if one of old editors is similar enough to be easily modified. Making plugins or converters for a general map editor would take probably the same amount of time.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Sun Sep 11, 2011 8:07 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">thefox wrote:</div><div class="quotecontent">I think a generic map editor is within realm of possibility. It should have configurable metatile sizes and support for export plugins.</div>
<br />Good luck making an export plug-in for an object list format like that used by games like Super Mario Bros., Super Mario Bros. 3, and Super Mario World. Such a tool would need to recognize groups of metatiles that can be represented as a rectangular object. This is one reason
<br />
<br />One way to handle object lists is to emulate the game's level decoder. There are three ways to do this:
<br /><ul><li>Translate the level decoder into C with some custom preprocessor. Display objects with resize handles, then redecode the affected portion of the map when an object changes. </li><li>Use an emulator to run the game's decoder and put resize handles on all the objects, then redecode the affected portion of the map when an object changes. NESICIDE might be useful for this because it's organized as a library, or you could write it in Lua for FCEUX. </li><li>Just make the editor for the NES and have it operate on a level definition in PRG RAM. </li></ul>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Mon Sep 12, 2011 3:54 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent"><div class="quotetitle">thefox wrote:</div><div class="quotecontent">I think a generic map editor is within realm of possibility. It should have configurable metatile sizes and support for export plugins.</div><br />Good luck making an export plug-in for an object list format like that used by games like Super Mario Bros., Super Mario Bros. 3, and Super Mario World. Such a tool would need to recognize groups of metatiles that can be represented as a rectangular object.</div>
<br />TBH when talking about a generic editor I really meant "generic metatile based editor", which I think also is what most people need.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Banshaku</b> [ Mon Sep 12, 2011 4:42 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I tried (meta-tile based) and to make it generic for everything and have some intuitive UI requires quite a lot of foresight.  If I had the time and the will, yes it would be possible. The time is no more (so is for making games too) so it was put on indefinite old. 
<br />
<br />By now, since there is no design document, I would have no idea about my current code base <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Asteroid</b> [ Mon Sep 12, 2011 3:07 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />okay...spent the last couple of hours diving into this again, with some mixed results.  I want to be sure I'm doing this correctly.  Here is what I tried...but I'm still unable to load my background.
<br />
<br />1) I made a simple background for my pong game using the NES Screen Tool and saved the nametable and attribules as an RLE.  My background is shown below:
<br />
<br /><img src="http://i53.tinypic.com/k350sl.jpg" alt="Image" />
<br />
<br />2) I included the rle file as shiru mentioned by adding it in my bank 1.
<br />This is shown below:
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; .bank 1<br />&nbsp; .org $E000<br />level:&nbsp; &nbsp;&nbsp; &nbsp;.incbin &quot;PongBG.rle&quot;</div><br /><br />3) I added the unrle subroutine code as given by shiru.  It's included when I downloaded the NES Screen Tool.<br /><br />4) In my NMI section, as per the instructions given by shiru to call his subroutine, I added the following to unpack my background data.  I unpack the 1KB of background and attribute data, which is why my counters run 256*4 times.  Each byte of data is unpacked and placed in PPU_DATA, so I write that to the PPU.  My code is shown below:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">LoadBackground:<br />&nbsp; LDA $2002&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; read PPU status to reset the high/low latch<br />&nbsp; LDA #$20<br />&nbsp; STA $2006&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; write the high byte of $2000 address<br />&nbsp; LDA #$00<br />&nbsp; STA $2006&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; write the low byte of $2000 address<br />&nbsp; <br />&nbsp; LDA #$00<br />&nbsp; sta counterLo&nbsp; &nbsp; &nbsp; &nbsp;; put the loop counter into 16 bit variable<br />&nbsp; LDA #$00<br />&nbsp; sta counterHi<br />&nbsp; <br />&nbsp; LDX #LOW&#40;level&#41;<br />&nbsp; LDY #HIGH&#40;level&#41;<br />&nbsp; <br />OuterLoop:&nbsp; <br />InsideLoop:<br />&nbsp; jsr unrle<br />&nbsp; LDA PPU_DATA<br />&nbsp; STA $2007<br />&nbsp; inc counterLo<br />&nbsp; LDA counterLo<br />&nbsp; CMP #$00<br />&nbsp; BNE InsideLoop<br />&nbsp; inc counterHi<br />&nbsp; LDA counterHi<br />&nbsp; CMP #$04<br />&nbsp; BNE OuterLoop</div>
<br />
<br />The results are unsuccessful.  Perhaps I'm doing it wrong? I can still move my paddle around, but now my ball has disappeared.  Furthermore, my background does not load.  Any help here would be highly appreciated.  I'm not sure how efficient/reliable or suggested using RLE is, but I figured I would give it a try.  I might also try the MapEdPro suggested by thefox.  Still having difficulty understand how to integrate backgrounds into my program without the use of long "db" statements, so any further comments/help there would also be great.
<br />
<br />thanks once more
<br />-asteroid

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>