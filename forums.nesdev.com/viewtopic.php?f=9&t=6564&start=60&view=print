<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Vs. Super Mario Bros. on PowerPak</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Vs. Super Mario Bros. on PowerPak</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=9&amp;t=6564">http://forums.nesdev.com/viewtopic.php?f=9&amp;t=6564</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>5</strong> of <strong>5</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>oRBIT2002</b> [ Wed Mar 20, 2013 12:59 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Vs. Super Mario Bros. on PowerPak</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />&quot;The Goonies&quot; is one of my favourite movies ever. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br />I'll do some checking and see what I can come up with..

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>GameMachineJames</b> [ Thu Mar 21, 2013 3:28 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Vs. Super Mario Bros. on PowerPak</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">oRBIT2002 wrote:</div><div class="quotecontent">&quot;The Goonies&quot; is one of my favourite movies ever. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br />I'll do some checking and see what I can come up with..</div><br /><br />Ohhh... Getting this playable on my PowerPak would be magnificent! ^_^<br />I know the mapper is a variant of VRC1.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>oRBIT2002</b> [ Thu Mar 21, 2013 4:29 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Vs. Super Mario Bros. on PowerPak</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">GameMachineJames wrote:</div><div class="quotecontent"><div class="quotetitle">oRBIT2002 wrote:</div><div class="quotecontent">&quot;The Goonies&quot; is one of my favourite movies ever. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br />I'll do some checking and see what I can come up with..</div><br /><br />Ohhh... Getting this playable on my PowerPak would be magnificent! ^_^<br />I know the mapper is a variant of VRC1.</div><br /><br />Hey, check your messages, I've sent you a pm!

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>SkinnyV</b> [ Fri Mar 22, 2013 1:19 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Vs. Super Mario Bros. on PowerPak</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Just saw that you released the VS Goonies patch, you're on fire these days <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /> Too bad I can't play it on my Everdrive N8 since mapper 151 is not yet supported. I tought mapper 151 was supposed to be pretty much the same as mapper 75 so I tried to see if it would run as VRC1 but no dice, the gfx get messed up and unaligned... That's curious, aren't they supposed to be the same ASIC?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>GameMachineJames</b> [ Fri Mar 22, 2013 4:09 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Vs. Super Mario Bros. on PowerPak</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">SkinnyV wrote:</div><div class="quotecontent">Just saw that you released the VS Goonies patch, you're on fire these days <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /> Too bad I can't play it on my Everdrive N8 since mapper 151 is not yet supported. I tought mapper 151 was supposed to be pretty much the same as mapper 75 so I tried to see if it would run as VRC1 but no dice, the gfx get messed up and unaligned... That's curious, aren't they supposed to be the same ASIC?</div><br /><br />Hehehe this is my first-ever released hack of anything. &quot;You're on fire these days&quot; tickles me. Also yeah. I was of the impression that VRC1 and Mapper 151 were identical as well. If I had to venture a guess I'd say that the Mapper-switching you're attempting is causing some chr addresses to show incorrectly.<br /><br />Try it on a PowerPak, it might work better. I simply can't stand Krikzz hardware because he phones it in.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>SkinnyV</b> [ Fri Mar 22, 2013 11:32 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Vs. Super Mario Bros. on PowerPak</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I was under the impression that oRBIT2002 was responsible for hacking the control routine... As for playing it on Powerpak, I can't as I do not own one anymore.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>oRBIT2002</b> [ Fri Mar 22, 2013 11:37 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Vs. Super Mario Bros. on PowerPak</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Mapper 151 is very simple, odd that it's not implemented on the Everdrive.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>SkinnyV</b> [ Fri Mar 22, 2013 12:02 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Vs. Super Mario Bros. on PowerPak</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />It is not implemented yet, that's why I tried to run it as mapper 75 which is supported. But the same issue appear when playing it as mapper 75 on nestopia so I guess I'll have to wait for Krikzz to add mapper 151.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Fri Mar 22, 2013 2:08 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Vs. Super Mario Bros. on PowerPak</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I suspect that the problems are because Nestopia isn't allowing a mapper 75 game with 4-screen mirroring.<br />FCEUX (other than the palette being wrong) seems to work when I add a NES2.0 header: <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">4e 45 53 1a 04 08 b9 49  00 00 00 00 00 04 00 00</tt>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>GameMachineJames</b> [ Wed Mar 27, 2013 1:14 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Vs. Super Mario Bros. on PowerPak</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The same thing happens when trying to run it on a PowerPak as Mapper 75. Once we somehow get this working on Mapper 75, I reckon it'll be a lot easier on some people.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Wed Mar 27, 2013 4:11 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Vs. Super Mario Bros. on PowerPak</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Ok, I think this is actually fixable with a ROM hack instead of fixing the m75 definition to support 4 screen:<br /><br />Change the byte at 0xF037 from 01 to 00. This changes <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">LDA #1 / STA $9000</tt> to <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">LDA #0 &amp;c</tt>. For some reason the game explicitly writes the wrong value to the mirroring control register on a machine where I think that isn't used for anything? ( <!-- m --><a class="postlink" href="http://wiki.nesdev.com/w/index.php/VRC1#Mirroring_Control.2C_CHR_bits_.28.249000-.249FFF.29">http://wiki.nesdev.com/w/index.php/VRC1 ... .249FFF.29</a><!-- m --> )<br /><br />Someone with the actual hardware would need to see whether the Vs. System Goonies module actually connects pin 17 to anything ( <!-- m --><a class="postlink" href="http://wiki.nesdev.com/w/index.php/VRC1_pinout">http://wiki.nesdev.com/w/index.php/VRC1_pinout</a><!-- m --> ), or if this is just an anti-piracy measure.<br /><br />I'm terrible at this game, and haven't beaten the first level, so someone else will need to make sure this is all that's necessary to fix things.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>SkinnyV</b> [ Wed Mar 27, 2013 6:03 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Vs. Super Mario Bros. on PowerPak</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Nice digging around lidnariq, it now seem to work perfectly on my Everdrive N8. Thanks. I'll make a patch for the user of the Everdrive N8 forum letting them know it is because of your research.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>GameMachineJames</b> [ Thu Mar 28, 2013 9:51 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Vs. Super Mario Bros. on PowerPak</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">lidnariq wrote:</div><div class="quotecontent">Ok, I think this is actually fixable with a ROM hack instead of fixing the m75 definition to support 4 screen:<br /><br />Change the byte at 0xF037 from 01 to 00. This changes <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">LDA #1 / STA $9000</tt> to <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">LDA #0 &amp;c</tt>. For some reason the game explicitly writes the wrong value to the mirroring control register on a machine where I think that isn't used for anything? ( <!-- m --><a class="postlink" href="http://wiki.nesdev.com/w/index.php/VRC1#Mirroring_Control.2C_CHR_bits_.28.249000-.249FFF.29">http://wiki.nesdev.com/w/index.php/VRC1 ... .249FFF.29</a><!-- m --> )<br /><br />Someone with the actual hardware would need to see whether the Vs. System Goonies module actually connects pin 17 to anything ( <!-- m --><a class="postlink" href="http://wiki.nesdev.com/w/index.php/VRC1_pinout">http://wiki.nesdev.com/w/index.php/VRC1_pinout</a><!-- m --> ), or if this is just an anti-piracy measure.<br /><br />I'm terrible at this game, and haven't beaten the first level, so someone else will need to make sure this is all that's necessary to fix things.</div><br /><br />I can't speak as to Everdrive N8 and have not yet built myself a VRC1 test board... But it runs beautifully as Mapper 75 with this fx on a PowerPak, and in Nintendulator!<br /><br />Thanks everyone. You've made my dream of a home-playable copy of Vs. The Goonies on real hardware a reality!<br /><br />Goonies never say die!

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>5</strong> of <strong>5</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>