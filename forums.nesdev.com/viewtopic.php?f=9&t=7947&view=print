<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - What could make a pirate cart only work on clone?</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">What could make a pirate cart only work on clone?</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=9&amp;t=7947">http://forums.nesdev.com/viewtopic.php?f=9&amp;t=7947</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>4</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>SkinnyV</b> [ Tue Jul 05, 2011 10:07 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>What could make a pirate cart only work on clone?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I have recently acquired a few recently made pirate cart for the famicom with some pretty interesting game on them and found out that they could only work properly on NOAC based famiclone. I got curious as to what could make them not work on the genuine hardware... I could understand that there might be timing issue if a game was coded and tested using clone system only but I was wondering about a MMC3 based multicart (best multicart ever as a side note, with plenty of awesome game included). The sound is working perfectly but the menu GFX are all garbled. I would have thought that selecting one of the game in the menu and starting it would fix the GFX seeing as most of the game are pirate copy of licensed game that were made and coded for genuine famicom and nintendo but to my surprise the game also boot with messed up GFX. Is it because of the custom mapper they use? I would expect issue playing certain cart on famiclone but not the opposite, it was a surprise to learn that it is common with newer pirate game.
<br />
<br />Thanks

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>kyuusaku</b> [ Wed Jul 06, 2011 6:34 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Nothing unless the game is meant to only run with a specific NOAC which expands upon the hardware. Very unlikely. Your Nintendo (tm) hardware probably makes bad contact with the cart.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>SkinnyV</b> [ Wed Jul 06, 2011 8:47 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I made sure that the contact were lining up properly with the famicom adapter (as those cart have shorter edge connector than usual) and tested with a multimeter to verify that the contact were connecting properly between the cart and the adapter. It seem to be a common thing these day and different people confirmed that some newer cart are incompatible with genuine hardware. Like you said it would make sense if they were coded for special clone with extended capability but the same cart will work on any NOAC clone, even the retroduo which as far as I know has nothing special to it. The seller told me that it doesn't work on the genuine famicom either. That's why I'm confused as to what could cause this incompatibilty with licensed hardware...

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>kevtris</b> [ Wed Jul 06, 2011 8:59 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: What could make a pirate cart only work on clone?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">SkinnyV wrote:</div><div class="quotecontent">I have recently acquired a few recently made pirate cart for the famicom with some pretty interesting game on them and found out that they could only work properly on NOAC based famiclone. I got curious as to what could make them not work on the genuine hardware...<br /><br />&lt;snip&gt;<br /><br /></div>
<br />
<br />Can you provide some pictures of what the PCB looks like?  I'm curious about what they did.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Wed Jul 06, 2011 9:04 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Without a picture of the PCB, my first guess is that they miswired some of the PPU-side enable signals so that it works on the same kind of hardware where four-screen games don't work.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>SkinnyV</b> [ Wed Jul 06, 2011 2:40 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Here you go, if they're not clear enough let me know and I will try to take some more pictures later as those were taken quickly for my personal reference while I was opening the cart yesterday before knowing someone would need to check them out:
<br />
<br /><a href="http://www.skinnyv.com/Cart/245in1/" class="postlink">http://www.skinnyv.com/Cart/245in1/</a>
<br />
<br />As you can see the edge connector is not like the regular one but even though it is shorter, contact are still made, each pins seem to line up perfectly with the Famicom connector and confirmed with a continuity tester on numerous pin.
<br />
<br />Edit: I re-taken the pic and those are most likely going to be more visible and clear.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>kevtris</b> [ Thu Jul 07, 2011 9:08 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">SkinnyV wrote:</div><div class="quotecontent">Here you go, if they're not clear enough let me know and I will try to take some more pictures later as those were taken quickly for my personal reference while I was opening the cart yesterday before knowing someone would need to check them out:<br /><br /><a href="http://www.skinnyv.com/Cart/245in1/" class="postlink">http://www.skinnyv.com/Cart/245in1/</a><br /><br />As you can see the edge connector is not like the regular one but even though it is shorter, contact are still made, each pins seem to line up perfectly with the Famicom connector and confirmed with a continuity tester on numerous pin.<br /><br />Edit: I re-taken the pic and those are most likely going to be more visible and clear.</div>
<br />
<br />Ahh very good.  Thanks for the pictures.
<br />
<br />On the board are a spansion S29GL128 which is a 128Mbit (16Mbyte) flash ROM and a CY62128 which is a 128K*8 SRAM.   That's pretty interesting technology for a pirate cartridge.
<br />
<br />I have a good theory now as to why this cart doesn't work on a real NES/famicom... The flash ROM is 3.0V only (that diode is being used as a ghetto voltage "regulator" for the flash ROM).   The real fami/nes probably cannot reliably read the 3V logic signals coming from the ROM.
<br />
<br />It looks like they had it set up for two diodes in series, but instead placed a single zener? diode across pads for the two diodes (marked "D1" and "D2").  It's almost certainly a zener, because the cathode I think is going to 5V.   I am amazed this even works, considering the data bus is going to have 5V level logic on it and the chip's VCC is around 3V.  I guess for a regulation Nintendo console it doesn't.  hehe. 
<br />
<br />I have to say, I *have* seen the two diode VCC dropper once before.  Memblers has a large multicart that used a 3.3V ROM and had two diodes in series with VCC to drop 5V down to around 3.3V for it.  I successfully dumped this cart using CopyNES and it emulates just fine... it also ran OK on a real NES.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>SkinnyV</b> [ Thu Jul 07, 2011 9:20 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Thansk alot for checking it up. If there is any modification I could make to the cart to make it work I would be very happy. Do you think it would as simple as adding an extra zenner diode on the extra empty pad to make it work properly on a NES? I need to take a closer look but I don't remember this pad being connected to anything and I can't be certain by only looking at the picture as the  boarder is around this area . Or do you think adding a proper voltage regulator circuit would be preferable? I know it's just a mutlicart but it is pretty much the best one I ever came accross and would be thrilled to fix it as it would also give hope for some of the other cart I ordered that are incompatible with genuine hardware like this one. I'll post the list of game later and people will understand my motivation for fixing this particular one though:) No repetition at all, game varying from older classic game to newer one like Ninja Gaiden 2 and Double Dragon 3 along with a few pirate original like Alladin.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>kevtris</b> [ Thu Jul 07, 2011 10:54 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">SkinnyV wrote:</div><div class="quotecontent">Thansk alot for checking it up. If there is any modification I could make to the cart to make it work I would be very happy. Do you think it would as simple as adding an extra zenner diode on the extra empty pad to make it work properly on a NES? I need to take a closer look but I don't remember this pad being connected to anything and I can't be certain by only looking at the picture as the  boarder is around this area . Or do you think adding a proper voltage regulator circuit would be preferable? I know it's just a mutlicart but it is pretty much the best one I ever came accross and would be thrilled to fix it as it would also give hope for some of the other cart I ordered that are incompatible with genuine hardware like this one. I'll post the list of game later and people will understand my motivation for fixing this particular one though:) No repetition at all, game varying from older classic game to newer one like Ninja Gaiden 2 and Double Dragon 3 along with a few pirate original like Alladin.</div>
<br />
<br />Unfortunately I don't think it will work on a real NES without level translation logic on at least the data lines.  Dumping the cartridge might be possible though, but it'd require removal of the flash ROM and then that could be dumped using a programmer of some form probably.  Messy though.  It might be possible to dump using a copynes but I suspect the ROM data will come out corrupted due to the possibly incompatible logic levels.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>SkinnyV</b> [ Thu Jul 07, 2011 11:12 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />That's too bad... I was planning on dumping the flash but I'm not sure if it's worth it. I guess i can just play it on a clone, I just don't like having a crap console just to play one multicart. I also bought one extra for my brother who recently purchased an old nes while feeling nostalgic and he wouldn't be able to use it. That's also one of the reason I really wanted to fix it for regular hardware:) And that logic translation stuff is beyond my electronic level so unless I follow instruction I wouldn't be able to come up with it. Thanks anyway for the help!

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MottZilla</b> [ Thu Jul 07, 2011 11:31 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />If you want to use it on a NES, shouldn't you be able to get a Gyromite 60-72 pin adapter and modify it for the level translation to 5v and slap it into a NES cart?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>SkinnyV</b> [ Thu Jul 07, 2011 11:38 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I already have two 60 to 72 pin adapter but Kevin seem to say it's not possible to just fix it with voltage regulation. That's basically what I was trying to do, find a way to modify the circuit to make it compatible with regular Nes and Famicom. If I knew what to modify I would but according to Kevin last post, it seemed more complicated than just fixing the voltage. Unless I misunderstood his last message? If there was a way, I would be very happy to try it though but I wouldn’t be able figure out what to do on my own if it requires logic translation. Unless it sound more complicated than it really is?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>kevtris</b> [ Thu Jul 07, 2011 11:57 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">SkinnyV wrote:</div><div class="quotecontent">I already have two 60 to 72 pin adapter but Kevin seem to say it's not possible to just fix it with voltage regulation. That's basically what I was trying to do, find a way to modify the circuit to make it compatible with regular Nes and Famicom. If I knew what to modify I would but according to Kevin last post, it seemed more complicated than just fixing the voltage. Unless I misunderstood his last message? If there was a way, I would be very happy to try it though but I wouldn’t be able figure out what to do on my own if it requires logic translation. Unless it sound more complicated than it really is?</div>
<br />
<br />Actually I just talked to Memblers about it and he said that the original post claims the games/menu actually work, but it's just bad graphics.  I must've missed that before.  That tells me that it's a VRAM problem instead of a flash problem.  The cartridge has 128K of VRAM on it which presumably gets loaded by the menu from the flash before the game is started.  I have two theories here on what might be causing that problem.
<br />
<br />The first theory is that the RAM chip is too fast and is being loaded with some kind of garbage or bad data...  The test there is to replace it with another 128K SRAM that's slower.  It has the usual pinout for a 128K byte SRAM so subbing another part wouldn't be terrible.  but before trying that, I had another theory.
<br />
<br />And that theory is there's absolutely no bypass capacitors on the board.  Maybe adding a .1uf capacitor across power and ground on the SRAM might fix it?  One time I had a Dizzy cart that didn't work because there was no bypass capacitor.  The game would start, and as the logo was dropping on the screen, it'd just lock up.  Every single time.
<br />
<br />Adding the capacitor (there was even a spot for it, but it was not populated) made the cartridge work properly.  If you add one, add it
<br />across the power pins of the RAM directly.  Tack it on, and test.  if it works then you can worry about making it look pretty and all that.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>SkinnyV</b> [ Thu Jul 07, 2011 2:41 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />So I just connect a 1.uf cap between VCC and GND (which should be pin 1 and pin 32 according to datasheet) on the RAM chip? I'll try when I get home. Will let you know how it goes!
<br />
<br />Edit: ok I re-checked the datasheet and either I didn't look properly the first time or it was the wrong datasheet, but it was actually pin 32 and 16. I tried it and it didn't fix the garbled gfx unfortunatly. I would like to test the ram theory but I don't think I have ram chip like that lating around, probably only have 64k ram.
<br />
<br />Here what I did: 
<br /><a href="http://www.skinnyv.com/Cart/245in1/cap.JPG" class="postlink">http://www.skinnyv.com/Cart/245in1/cap.JPG</a>
<br />
<br />And here an example of the GFX corruption I get, this is not the menu but from some beat them up type of game:
<br />
<br /><a href="http://www.skinnyv.com/Cart/245in1/screenshot.JPG" class="postlink">http://www.skinnyv.com/Cart/245in1/screenshot.JPG</a>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Memblers</b> [ Thu Jul 07, 2011 10:22 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Looking up that RAM chip, the V means it's a 3.3V type.  It's been known for a while that the NES CPU seems to work OK when taking 3.3V inputs (otherwise the PowerPak wouldn't work).  I've been curious if the PPU would be the same, I'm not aware of it being tested, so maybe that doesn't work?  In that case, logic level translation on the CHR bus should fix it.  Or replacing it with a 5V part, and have it actually running at 5V.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>4</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>