<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<link rel="icon" href="/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />

<title>nesdev.com &bull; View topic - Game entity management</title>

<link rel="alternate" type="application/atom+xml" title="Feed - nesdev.com" href="https://forums.nesdev.com/feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - News" href="https://forums.nesdev.com/feed.php?mode=news" /><link rel="alternate" type="application/atom+xml" title="Feed - All forums" href="https://forums.nesdev.com/feed.php?mode=forums" /><link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="https://forums.nesdev.com/feed.php?mode=topics" /><link rel="alternate" type="application/atom+xml" title="Feed - Active Topics" href="https://forums.nesdev.com/feed.php?mode=topics_active" /><link rel="alternate" type="application/atom+xml" title="Feed - Forum - Newbie Help Center" href="https://forums.nesdev.com/feed.php?f=10" /><link rel="alternate" type="application/atom+xml" title="Feed - Topic - Game entity management" href="https://forums.nesdev.com/feed.php?f=10&amp;t=13061" />

<link rel="stylesheet" href="./style.php?id=1&amp;lang=en" type="text/css" />

<script type="text/javascript">
// <![CDATA[


function popup(url, width, height, name)
{
	if (!name)
	{
		name = '_popup';
	}

	window.open(url.replace(/&amp;/g, '&'), name, 'height=' + height + ',resizable=yes,scrollbars=yes,width=' + width);
	return false;
}

function jumpto()
{
	var page = prompt('Enter the page number you wish to go to:', '1');
	var per_page = '15';
	var base_url = './viewtopic.php?f=10&amp;t=13061';

	if (page !== null && !isNaN(page) && page == Math.floor(page) && page > 0)
	{
		if (base_url.indexOf('?') == -1)
		{
			document.location.href = base_url + '?start=' + ((page - 1) * per_page);
		}
		else
		{
			document.location.href = base_url.replace(/&amp;/g, '&') + '&start=' + ((page - 1) * per_page);
		}
	}
}

/**
* Find a member
*/
function find_username(url)
{
	popup(url, 760, 570, '_usersearch');
	return false;
}

/**
* Mark/unmark checklist
* id = ID of parent container, name = name prefix, state = state [true/false]
*/
function marklist(id, name, state)
{
	var parent = document.getElementById(id);
	if (!parent)
	{
		eval('parent = document.' + id);
	}

	if (!parent)
	{
		return;
	}

	var rb = parent.getElementsByTagName('input');
	
	for (var r = 0; r < rb.length; r++)
	{
		if (rb[r].name.substr(0, name.length) == name)
		{
			rb[r].checked = state;
		}
	}
}



// ]]>
</script>
</head>
<body class="ltr">

<a name="top"></a>

<div id="wrapheader">

	<div id="logodesc">
	</div>

	<div id="menubar">

		<table width="100%" cellspacing="0">
		<tr>
			<td rowspan="2"><a href="./index.php"><img src="./styles/subsilver2/imageset/site_logo.gif" alt="" title="" /></a></td>
			<td width="100%" align="center"><h1>nesdev.com</h1><span class="gen">NES Development and Strangulation Records message boards</span></td>
		</tr>
		<tr>
			<td align="center">
				<!--<div style="float: right;">
					<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
					<input type="hidden" name="cmd" value="_s-xclick">
					<input type="hidden" name="hosted_button_id" value="X2HM4WNR5YT8S">
					<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
					<img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
					</form>
				</div>-->
				<a href="./faq.php"><img src="./styles/prosilver/theme/images/icon_mini_faq.gif" width="12" height="13" alt="*" /> FAQ</a>
				&nbsp; &nbsp;<a href="./search.php"><img src="./styles/prosilver/theme/images/icon_mini_search.gif" width="12" height="13" alt="*" /> Search</a>
				<br />	
				 &nbsp;<a href="./ucp.php?mode=minion"><img src="./styles/prosilver/theme/images/icon_mini_register.gif" width="12" height="13" alt="*" /> Register</a>
					&nbsp; &nbsp;<a href="./ucp.php?mode=login"><img src="./styles/prosilver/theme/images/icon_mini_login.gif" width="12" height="13" alt="*" /> Login</a>&nbsp;
			</td>
		</tr>
		</table>
	</div>

	<div id="datebar">
		<table width="100%" cellspacing="0">
		<tr>
			<td class="gensmall"></td>
			<td class="gensmall" align="right">It is currently Fri Aug 17, 2018 12:57 am<br /></td>
		</tr>
		</table>
	</div>

</div>

<div id="wrapcentre">

	
	<p class="searchbar">
		<span style="float: left;"><a href="./search.php?search_id=unanswered">View unanswered posts</a> | <a href="./search.php?search_id=active_topics">View active topics</a></span>
		
	</p>
	

	<br style="clear: both;" />

	<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=24">NES / Famicom</a> &#187; <a href="./viewforum.php?f=10">Newbie Help Center</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>

	<br />
	

					<center>
					<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- NesDev Forums -->
					<ins class="adsbygoogle"
						 style="display:block"
						 data-ad-client="ca-pub-7801010229099644"
						 data-ad-slot="7979066809"
						 data-ad-format="auto"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>
					</center>
	<br />


<div id="pageheader">
	<h2><a class="titles" href="./viewtopic.php?f=10&amp;t=13061">Game entity management</a></h2>


	<p class="moderators">Moderator: <a href="./memberlist.php?mode=group&amp;g=320">Moderators</a></p>

</div>

<br clear="all" /><br />

<div id="pagecontent">

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=10"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=10&amp;t=13061"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>1</strong> of <strong>3</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 36 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"><b><a href="#" onclick="jumpto(); return false;" title="Click to jump to pageâ€¦">Go to page</a> <strong>1</strong><span class="page-sep">, </span><a href="./viewtopic.php?f=10&amp;t=13061&amp;start=15">2</a><span class="page-sep">, </span><a href="./viewtopic.php?f=10&amp;t=13061&amp;start=30">3</a> &nbsp;<a href="./viewtopic.php?f=10&amp;t=13061&amp;start=15">Next</a></b></td>
		
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat">
			<table width="100%" cellspacing="0">
			<tr>
				<td class="nav" nowrap="nowrap">&nbsp;
				<a href="./viewtopic.php?f=10&amp;t=13061&amp;view=print" title="Print view">Print view</a>
				</td>
				<td class="nav" align="right" nowrap="nowrap"><a href="./viewtopic.php?f=10&amp;t=13061&amp;view=previous">Previous topic</a> | <a href="./viewtopic.php?f=10&amp;t=13061&amp;view=next">Next topic</a>&nbsp;</td>
			</tr>
			</table>
		</td>
	</tr>

	</table>


	<table class="tablebg" width="100%" cellspacing="1">
	
		<tr>
			<th>Author</th>
			<th>Message</th>
		</tr>
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p151838"></a>
				<b class="postauthor">8bitMicroGuy</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p151838">Game entity management</a></div><div style="float: right;"><a href="./viewtopic.php?p=151838#p151838"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Jul 28, 2015 11:09 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Mar 08, 2015 12:23 pm<br /><b>Posts:</b> 269<br /><b>Location:</b> Croatia
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I'm trying to build my own entity framework of how game entities are initialized and their codes executed.<br />I'd like to know if there are already existing entity engines so I can learn from them just in case that I don't waste my time on discovering something that already exists.<br /><br />I have an idea and I'm currently writing code for it:<br /><br />There's a game entity pointer array and a game entity heap. The game entity pointer array contains a 16-bit pointer to the game entity which is in the game entity heap. If I only had the heap, the entity execution order would be fragmented. Let's say I have 12 entities that can be on screen at the same time.<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">Heap: x,x,x,x,x,x,x,x,x,x,x,x<br />Heap: 0,1,2,3,4,x,x,x,x,x,x,x Adding 5 entities<br />Heap: 0,1,x,x,4,x,x,x,x,x,x,x Removed entities 2 and 3<br />Heap: 0,1,5,6,4,7,x,x,x,x,x,x Added 3 new entities</div><br />According to how I see a game engine, the entities #5, #6 and #7 should run after entity #4.<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">Heap: 0,1,x,x,4,5,6,7,x,x,x,x<br />Heap: 0,1,x,x,4,5,6,7,8,9,A,B Added some more entities<br />Cannot add any more entities without destroying the code execution order.</div><br />So because of this, I have an array of pointers that fills like this:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">Array: x,x,x,x,x,x,x,x,x,x,x,x<br />Array: 0,1,2,3,4,5,6,7,x,x,x,x Add 8 entities<br />Array: 0,x,x,x,x,x,6,7,x,x,x,x Removed some entities<br />Array: 0,x,x,x,x,x,6,7,8,9,A,B Trying to add more</div><br />Now begins the sorting<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">Array: 0,6,7,8,9,A,B,C,D,E,x,x Sorted and added more entities</div><br />Sorting by moving the giant entity structs would be ultra stupid so it's better to move the pointers.<br /><br />Every entity has its data structure like this: (Note, I'm actually using ASM and not C++, but I like to write C++ code before doing ASM so that I know what I'm doing)<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">class instance<br />{<br />&nbsp; &nbsp;char State<br />&nbsp; &nbsp;short ID<br />&nbsp; &nbsp;char* Code // (pointer to pointer to this instance's code in ROM)<br />&nbsp; &nbsp;uint24_t X // Low byte is the fraction for subpixels and subsubpixels, mid byte is for moving on the screen page and high byte is for moving through multiple screens<br />&nbsp; &nbsp;uint24_t Y<br />&nbsp; &nbsp;char Attributes<br />&nbsp; &nbsp;// Attributes: 7=visible,6=solid,5=enablecontrol,4=substitutivecontrol<br />&nbsp; &nbsp;//&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;3:0=qualifiers{3=enemy,2=neutral,1=friend,0=player}<br />&nbsp; &nbsp;char BehaviorTemplateLow<br />&nbsp; &nbsp;// Behaviors:<br />&nbsp; &nbsp;// 7=disablePhysics,6=topBounce,5=bottomBounce,4=horizontalBounce,<br />&nbsp; &nbsp;// 3=freeUpDown,2=freeRightLeft,1=enableGravity,0=enableJump<br />&nbsp; &nbsp;char BehaviorTemplateHigh<br />&nbsp; &nbsp;// Behaviors:<br />&nbsp; &nbsp;// 7=enablePseudo3D,6=Zfree,5=Zgravity,4=Zbounce<br />&nbsp; &nbsp;// 3=Zjump,2=Zjetpack,1=ZcontrolByJump,0=ZcontrolByUp<br />&nbsp; &nbsp;_tButtons ControlSubstitutive // Over here are the buttons that are pressed for the entity by artificial intelligence<br />&nbsp; &nbsp;char ControlPtr // Pointer to global control that controls the object<br />&nbsp; &nbsp;char SpeedX<br />&nbsp; &nbsp;char SpeedY<br />&nbsp; &nbsp;char AccX<br />&nbsp; &nbsp;char AccY_or_Jump<br />&nbsp; &nbsp;char DecX<br />&nbsp; &nbsp;char DecY_or_Gravity<br />&nbsp; &nbsp;char AnimAttributes<br />&nbsp; &nbsp;// 7=stopped,6:5=forcedPaletteIndex,4=forceOwnPalette<br />&nbsp; &nbsp;// 3=loop,2=returnToStart,1=verticalMirror,0=horizontalMirror<br />&nbsp; &nbsp;char AnimNumber<br />&nbsp; &nbsp;char AnimSpeedCounter<br />&nbsp; &nbsp;char UserVariables&#91;6&#93;<br />&nbsp; &nbsp;char JumpTimeCounter<br />&nbsp; &nbsp;char JumpTimeMax<br />&nbsp; &nbsp;char Z<br />&nbsp; &nbsp;char SpeedZ // Used if pseudo3D is on<br />&nbsp; &nbsp;char AccZ_or_ZJump<br />&nbsp; &nbsp;char DecZ_or_ZGravity<br />}</div><br />The physics code works for each entity the same, but acts differently because for example a player can't move freely up and down because it's not a bird, but parakoopas can. These flags are checked and then the usual code executes like:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">SpeedX+=IsBitOne(ControlSubstitutive,RightButton)*AccX<br />X+=SpeedX</div><br />I mean, there's tons of code, but you basically know what I mean.<br />Every entity has its code for execution for example for AI or colissions with powerups or each other.<br /><br />What do you think? Would this work?</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=6924"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p151853"></a>
				<b class="postauthor">tokumaru</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p151853">Re: Game entity management</a></div><div style="float: right;"><a href="./viewtopic.php?p=151853#p151853"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Jul 28, 2015 3:26 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=95.png" width="80" height="80" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sat Feb 12, 2005 9:43 pm<br /><b>Posts:</b> 10714<br /><b>Location:</b> Rio de Janeiro - Brazil
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I honestly don't understand the need for sorting at all. I mean, game entities are created and destroyed all the time, it's not like there's any intrinsic relationship between all of them that dictates that objects spawned later should be processed later.<br /><br />That being said, you can easily keep newer objects after newer ones if you use a linked list, completely eliminating the need for sorting. Keep a pointer (or an index, whatever) to the first object in the list (for processing purposes), and have each object point to the next (also for processing). Another pointer indicates the last object in the list (which has a null pointer indicating there's no next object), so you can easily insert new objects after it. Here's the empty list:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">First free slot: 0<br />First occupied slot: x<br />Last occupied slot: x<br />Objects: x,x,x,x,x,x,x,x,x,x,x,x<br />&nbsp; &nbsp;Next: 1,2,3,4,5,6,7,8,9,A,B,x</div><br /><br />When the slot is empty, &quot;Next&quot; is used to point to the next empty slot, when the slot is occupied by an object, &quot;Next&quot; points to the next object's slot.<br /><br />Now, to add 1 object, claim the first empty slot by making the one it points to the new first empty slot. The first free slot is 0, and since it points to slot 1, slot ones becomes the first free slot. Since the list of occupied slots is empty, there's no need to connect the new object to anything:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">First free slot: 1<br />First occupied slot: 0<br />Last occupied slot: 0<br />Objects: G,x,x,x,x,x,x,x,x,x,x,x<br />&nbsp; &nbsp;Next: x,2,3,4,5,6,7,8,9,A,B,x</div><br /><br />To add another object, we claim a new slot just like last time: claim slot 1, and make slot 2 the new first empty slot. To make sure the new object is processed after all others, have the current last object point to the object we just inserted, and make the new object the last.<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">First free slot: 2<br />First occupied slot: 0<br />Last occupied slot: 1<br />Objects: G,H,x,x,x,x,x,x,x,x,x,x<br />&nbsp; &nbsp;Next: 1,x,3,4,5,6,7,8,9,A,B,x</div><br /><br />After inserting 3 more objects, we have this:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">First free slot: 5<br />First occupied slot: 0<br />Last occupied slot: 4<br />Objects: G,H,I,J,K,x,x,x,x,x,x,x<br />&nbsp; &nbsp;Next: 1,2,3,4,x,6,7,8,9,A,B,x</div><br /><br />To remove an object, simply have the one that come before it point to the one that comes after it (to know which object come before you also need a list of &quot;Previous&quot; pointers). If the object being deleted is the first or the last, adjust those pointer accordingly. Finally, add the slot back into the list of free slots, by making it the first, and having it point to the old first. Here's the list after object J is removed:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">First free slot: 3<br />First occupied slot: 0<br />Last occupied slot: 4<br />Objects: G,H,I,x,K,x,x,x,x,x,x,x<br />&nbsp; &nbsp;Next: 1,2,4,5,x,6,7,8,9,A,B,x</div><br /><br />That's about it. To process objects, just start with the slot pointed identified as the first and follow the pointers.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=95"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p151855"></a>
				<b class="postauthor">8bitMicroGuy</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p151855">Re: Game entity management</a></div><div style="float: right;"><a href="./viewtopic.php?p=151855#p151855"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Jul 28, 2015 5:23 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Mar 08, 2015 12:23 pm<br /><b>Posts:</b> 269<br /><b>Location:</b> Croatia
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">How about this? There's a pointer to the first entity to be executed and a pointer to the first entity to be shown. Every entity has a pointer to previous and next entity to execute and render. If I want to set one entity before another in rendering, I just swap the pointers.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=6924"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p151873"></a>
				<b class="postauthor">tokumaru</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p151873">Re: Game entity management</a></div><div style="float: right;"><a href="./viewtopic.php?p=151873#p151873"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Jul 28, 2015 8:10 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=95.png" width="80" height="80" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sat Feb 12, 2005 9:43 pm<br /><b>Posts:</b> 10714<br /><b>Location:</b> Rio de Janeiro - Brazil
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Why do you need different processing and rendering orders?</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=95"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p151881"></a>
				<b class="postauthor">rainwarrior</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p151881">Re: Game entity management</a></div><div style="float: right;"><a href="./viewtopic.php?p=151881#p151881"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Jul 28, 2015 9:50 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=5165_1471663472.jpg" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Jan 22, 2012 12:03 pm<br /><b>Posts:</b> 6592<br /><b>Location:</b> Canada
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent">Why do you need different processing and rendering orders?</div><br />Order of update can have a big impact on how objects interact with each other. Could be very important to have specific orders, esp. with things like moving platforms.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=5165"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p151899"></a>
				<b class="postauthor">tokumaru</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p151899">Re: Game entity management</a></div><div style="float: right;"><a href="./viewtopic.php?p=151899#p151899"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Jul 29, 2015 5:54 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=95.png" width="80" height="80" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sat Feb 12, 2005 9:43 pm<br /><b>Posts:</b> 10714<br /><b>Location:</b> Rio de Janeiro - Brazil
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">That I can understand, although I usually try to avoid interactions between objects that are not the player.<br /><br />I think that maintaining 3 linked lists at the same time (two of which are composed by the same slots) a bit of overkill. In order to process objects in a constant order I would probably use the linked list for that, and have them set a metasprite pointer in their RAM slot, along with a priority flag. Then, once all objects have been processed, I'd run through them again in pseudo-random order rendering the sprites, to the beginning or the end of the OAM depending on the priority flag.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=95"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p151914"></a>
				<b class="postauthor" style="color: #FF3300">tepples</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p151914">Re: Game entity management</a></div><div style="float: right;"><a href="./viewtopic.php?p=151914#p151914"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Jul 29, 2015 10:21 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Sep 19, 2004 11:12 pm<br /><b>Posts:</b> 20409<br /><b>Location:</b> NE Indiana, USA (NTSC)
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent">Why do you need different processing and rendering orders?</div><br />A game with a semi-overhead view may want to <a href="http://forums.nesdev.com/viewtopic.php?p=151377#p151377" class="postlink">sort objects' rendering orders</a>.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=9"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p151943"></a>
				<b class="postauthor">8bitMicroGuy</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p151943">Re: Game entity management</a></div><div style="float: right;"><a href="./viewtopic.php?p=151943#p151943"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Jul 29, 2015 3:56 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Mar 08, 2015 12:23 pm<br /><b>Posts:</b> 269<br /><b>Location:</b> Croatia
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I was thinking that in my Mario clone game all objects should interact with each other like Goombas colliding with each other or accidentally stomping each other or have one turtle shell roll and touch a moving platform which bounces it off or lifts it up.<br />I keep forgetting that NES is very weak so I don't know will it even be able to handle that stuff. I estimate to have the maximum of 16 active entities on screen at the same time. What do you think? What does SMB3 have for example? Can you tell me these parameters of other games?<br /><br />About sprites, I think that the player sprites should almost always be above everything. But what if you have an animated door object? It should first be behind the player when it's opening and then in front of player when it's closing. Also, when the player enters a pipe, a new sprite that's behind the background and the same size of the player sprite should appear on the pipe so that the player actually disappears behind the pipe, but not behind the background (for example bushes near by). Also, if there's an explosion or a cloudy poof effect like in SMB3, it should definitely be in front of everything.<br /><br />I was going to ask should I use double linked lists or single linked lists. And is there a code in ASM that could handle swapping like putting one element in front of another? It's hard to think about that when those should be functions with their own local variables on the stack (C style) and when it's easy to mix it up in ASM due to the lack of CPU registers.<br />I have the pointer to the first entity to render and a pointer to first entity to execute. Each entity has its pointer to the next entity to render and a pointer to the next entity to execute. The last entity in a list has the pointer to next equal to zero.<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">g_instFirstToExecute = $0012 ; Index in heap of the entity<br />g_instFirstToRender_Low = $0013</div><br />I've decided to not use typedef struct style in this like in the first post (because I learned that from NES's poor indirect indexing explained by ROM City Rampage maker), but arrays of entity members where the entity index in the heap is addressed with X like this<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">f_inst_ZeroPosition:<br />; Set position of an entity to zero<br />; Assumed that CPU register X had been loaded with the entity index in the heap<br />lda #$00<br />sta (inst_X_Subp, X) ; Fraction of X coordinate in subpixels<br />sta (inst_X_Pixl, X) ; Integer part of X coordinate in pixels<br />sta (inst_X_Page, X) ; High byte of the integer part of X coordinate<br />sta (inst_Y_Subp, X)<br />sta (inst_Y_Pixl, X)<br />sta (inst_Y_Page, X)<br />rts</div><br />But back to the subject. A function for placing one entity in front of or behind another should look like this in C:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">void inst_PutInFrontOf(uint8_t a, uint8_t b);<br />void inst_PutBehindOf(uint8_t a, uint8_t b);</div><br />For a thing like this, I think I should need a high level assembler like NESHLA, but there's no documentation on how to program with that. Can you find me some? Or should I use C instead? This ASM work will be too tough. If only there was an AVR microprocessor with Von Neumann architecture with its 32 GP CPU registers 3 of them pairs for indirect addressing plus the opcodes for indirect load and store with displacement.<br /><br />P.S. Is it even normal to think about quitting such a project because it's too retro technically-wise?</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=6924"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p151952"></a>
				<b class="postauthor">Kasumi</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p151952">Re: Game entity management</a></div><div style="float: right;"><a href="./viewtopic.php?p=151952#p151952"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Jul 29, 2015 5:59 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=3504.gif" width="48" height="48" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Wed Apr 02, 2008 2:09 pm<br /><b>Posts:</b> 1174
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">8bitMicroGuy wrote:</div><div class="quotecontent">I was thinking that in my Mario clone game all objects should interact with each other like Goombas colliding with each other or accidentally stomping each other or have one turtle shell roll and touch a moving platform which bounces it off or lifts it up.</div><br />That's all possible. The worst that could happen is your game slows down some with like 8 objects on screen. You could do a lot of things to mitigate slowdown, like not running the non important collision for every object every frame. I believe Super Bat Puncher does this for enemy-enemy collisions, and you could do it for something like Goombas bouncing off each other. It's not all that important if they're inside each other for a few frames for that.<br /><br />Even checking every collision every frame is not necessarily the worst. Just remember that with three objects...<br /><br />Object 1 checks against object 2.<br />Object 1 checks against object 3.<br /><br />Object 2 checks against object 3.<br /><br />Object 3 checks against nothing. (The other two objects already checked for collision with it)<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">It's hard to think about that when those should be functions with their own local variables on the stack (C style) and when it's easy to mix it up in ASM due to the lack of CPU registers.</div><br />You can use variables on the stack pretty much like C. I'd have to write some tests before I wrote <em>how</em>, though. I can think of a few ways, but I can't type them blind and be sure they'd work.<br /><br />How I typically manage is two sets of temp variables. Let's call them temp and ltemp. temps are super volatile. They're free to be changed in every subroutine without regards to others (well almost). For subroutines that call other subroutines, and need things preserved across calls, I use the ltemps. At the point, you do have to check if the function you're calling changes the same ltemp and then use a different one. But it doesn't happen too often. I do it that way mainly for performance, though. <br /><br />You <em>could</em> also just use pla/pha for variables across subroutines that call other subroutines. (Which is slightly different than the C style thing I'm talking about above.) <br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I've decided to not use typedef struct style in this like in the first post (because I learned that from NES's poor indirect indexing explained by ROM City Rampage maker), but arrays of entity members where the entity index in the heap is addressed with X like this</div><br />Why not just use something like this?<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">;Defines<br />objectnum = 20;Max number of objects<br />spriteramstart = $0300<br /><br />inst_X_Subp = spriteramstart+objectnum*0<br />inst_X_Pixl = spriteramstart+objectnum*1<br /><br />inst_X_Page = spriteramstart+objectnum*2<br />inst_Y_Subp = spriteramstart+objectnum*3<br />inst_Y_Pixl = spriteramstart+objectnum*4<br />inst_Y_Page = spriteramstart+objectnum*5<br /><br /></div><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">f_inst_ZeroPosition:<br />; Set position of an entity to zero<br />; Assumed that CPU register X had been loaded with the entity index in the heap<br />lda #$00<br />sta inst_X_Subp, X ; Fraction of X coordinate in subpixels<br />sta inst_X_Pixl, X ; Integer part of X coordinate in pixels<br />sta inst_X_Page, X ; High byte of the integer part of X coordinate<br />sta inst_Y_Subp, X<br />sta inst_Y_Pixl, X<br />sta inst_Y_Page, X<br />rts<br /></div><br /><br />X = 0 is the first object<br />X = 1 is the second object<br />etc.<br />X = 19 is the last object.<br /><br />No indexed. This way also allows you to access object info with Y.<br /><br />For instance, <br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">ldx #0<br />ldy #1<br /><br />lda OBJwidth,x<br />cmp OBJwidth,y<br />bcc object0issmaller<br /></div><br /><br />So if you needed to put one object in front of another, you could jsr to inst_PutInFrontOf with the object you want to place in front in X, and the object you want to be behind in Y.<br /><br />And how you'd write inst_PutInFrontOf depends on what behavior you decide as far as rendering. <br /><br />If I were you, I'd just make a game and worry about this stuff when it comes up. Trying to plan an engine that covers everything will make you spend time planning for things you may never actually need.<br /><br />And if a poof and a door are active at the same time, well them's the breaks. There are ways around that, and you'll think of them practically once you've written some code.<br /><br />My game's entity management is basically what I've described above. I have X object slots, and RAM is reserved for them at compile time. I run through the object list three times (Tokumaru would yell at me  <img src="./images/smilies/icon_wink.gif" alt=":wink:" title="Wink" /> ). My player characters are always the first objects processed, and knowing this allows special exceptions. However, the reason I go through the object's list more than once is to cover some special cases (like moving platforms). <br /><br />In my game objects can be grabbed and carried. If Player 1 (processed first) ran and rendered himself in one step, he'd be in the wrong position because player 2 who grabbed him (processed second) would move the same frame. So... it would become player 2's responsibility to be rerender player 1. <br /><br />My main philosophy as far as my object management system is that an object almost NEVER affects another object.<br /><br />So I go through once to resolve all object's positions. I go through again to resolve grabbing. (All object's positions were final, So a grabbed object (or a grabbed grabbed object [or a grabbed grabbed grabbed object]) could have their positions set.  I go through a third time to actually render the objects. <br /><br />In this way, it doesn't matter which object is processed first as far as grabbing. There's never any of that frame behind stuff you often see on moving platforms. It's possible to do what I do in two or one loop through the objects, but I don't for (long winded reason here). One less long winded reasons is that it allows for some hacky stuff. (Some objects do things that aren't related to rendering in their render step. For instance... an object can detect it has been grabbed in its render step, and move itself back to its position before the grab before rendering. This allows the player to trigger a switch with the grab button with no new written behavior.)<br /><br />Each object in my game has a set of things that it reports to other objects in a single bit.<br /><br />Stuff like: Object can be bounced off, object can be stomped, object is horizontally collision enabled, object can be grabbed.<br /><br />And each object has a &quot;mailbox&quot; that allows an object to tell it things. So my player can stomp another object. It will either bounce or not depending on can be bounced off bit. My player will then tell the object it was stomped by setting a bit, rather than say... setting that object's y velocity to 64.<br /><br />It is the responsibility of an object to update only itself. (There are hacky exceptions, of course!)<br /><br />So... I have a crate that bursts open when stomped. It checks its &quot;was stomped&quot; bit and destroys itself if set.<br /><br />I have a ball that's just sent downward without being destroyed. It checks the bit and does that if set.<br /><br />I have an object planned that will just be toggle ON/OFF if stomped.<br /><br />The player object has NO idea what of those things the other object is doing, or even if ANYTHING is happening.<br /><br />As well, enemies can stomp and grab each other. They don't know WHAT stomped them because it pretty much never matters. An object DOES know what's holding it, so that it can set its position properly.<br /><br />The fact that objects aren't all that aware of each other, means that most of the RAM I've reserved doesn't need to be generic between them. The type bits, position, X/Y velocities and grab bytes are the main ones. Each object also has like... ten bytes it can use for whatever it wants, because the other objects will never touch it. (Even things like animation frame or metasprite don't need to be generic. I can have objects that aren't animated or whatever.) Technically the grab bytes are free to be used for whatever too, as long as the object NEVER reports itself as grabbable. (I uh... use those bytes for another purpose at least once for an object's death animation. But that's hacky.)<br /><br />The reason my players are always created/processed first (game supports co-op) is so that object order BARELY affects players. For instance... if an enemy was processed in between two players, it might treat those players different. Player 2 (processed second) stomps and kills and enemy in the same frame player 1 (processed first) walks into it. In that case, player 1 gets hurt. Swap the processing order? Player 1 is safe. I do many things to avoid unfairness between players. Even same frame grabs are handled.<br /><br />Object processing order CAN make a difference with how the enemies act to each other, but the result of the interaction affects each PLAYER the same.<br /><br />So there are some notes on my Game Entity Management.</div>

					
						<div class="postbody"><br />_________________<br /><!-- m --><a class="postlink" href="https://kasumi.itch.io/indivisible">https://kasumi.itch.io/indivisible</a><!-- m --></div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3504"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p151984"></a>
				<b class="postauthor" style="color: #FF3300">tepples</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p151984">Re: Game entity management</a></div><div style="float: right;"><a href="./viewtopic.php?p=151984#p151984"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Jul 30, 2015 6:09 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Sep 19, 2004 11:12 pm<br /><b>Posts:</b> 20409<br /><b>Location:</b> NE Indiana, USA (NTSC)
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">8bitMicroGuy wrote:</div><div class="quotecontent">I keep forgetting that NES is very weak so I don't know will it even be able to handle that stuff. I estimate to have the maximum of 16 active entities on screen at the same time. What do you think? What does SMB3 have for example?</div><br />The middle of World 3-7 (see <a href="http://www.mariouniverse.com/maps/nes/smb3" class="postlink">list of maps</a>) is a slowdown-fest. That's what SMB3 has.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">P.S. Is it even normal to think about quitting such a project because it's too retro technically-wise?</div><br />A simpler project might help you build confidence in your skills.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=9"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p151997"></a>
				<b class="postauthor">8bitMicroGuy</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p151997">Re: Game entity management</a></div><div style="float: right;"><a href="./viewtopic.php?p=151997#p151997"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Jul 30, 2015 11:46 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Mar 08, 2015 12:23 pm<br /><b>Posts:</b> 269<br /><b>Location:</b> Croatia
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">What if there's something firing shells or blue blocks? What if it's that Buster Beetle and not Mario? How is the game gonna know to who to give points gained from the shell kicking the enemies? If the game is 2 player maybe, the game needs to know who to give the points to.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=6924"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p152007"></a>
				<b class="postauthor">Kasumi</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p152007">Re: Game entity management</a></div><div style="float: right;"><a href="./viewtopic.php?p=152007#p152007"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Jul 30, 2015 1:07 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=3504.gif" width="48" height="48" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Wed Apr 02, 2008 2:09 pm<br /><b>Posts:</b> 1174
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I actually wrote a thing, but before I post it I have an honest question: Have you made a practical game before? (I don't mean an NES game. It could be any kind of game that's really, actually playable.)<br /><br />I don't ask this to be mean, but I don't see your questions as unique to nesdev. So I ask because I want to know if you're asking because you specifically want to know how I'd do these things in my engine, or if you're inexperienced in gamedev. Maybe another reason? Whatever is fine, but the answer I was going to give may not have been helpful for why you're asking.</div>

					
						<div class="postbody"><br />_________________<br /><!-- m --><a class="postlink" href="https://kasumi.itch.io/indivisible">https://kasumi.itch.io/indivisible</a><!-- m --></div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3504"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p152070"></a>
				<b class="postauthor">8bitMicroGuy</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p152070">Re: Game entity management</a></div><div style="float: right;"><a href="./viewtopic.php?p=152070#p152070"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Jul 31, 2015 6:15 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Mar 08, 2015 12:23 pm<br /><b>Posts:</b> 269<br /><b>Location:</b> Croatia
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I made a game in Game Maker Studio that used my own physics and animation. It didn't have any levels or programmed enemies, but it was just a plain engine.<br />However, managing objects and resource I/O and that stuff which would be in Game Maker Studio's engine is not something I've ever done. Only been imagining it how to make my own free version of it free from any EULAs. But I never succeeded.<br /><br />Also, I've had finals and the high school was over and it all made me tired and for some reason, I've lost inspiration. I thought that maybe some ideas that you might give me might get me up to think more. What I'd really want is to talk to someone over Skype while sharing my screen as I code while you help me by telling me what could be better or to put this or that. I've always wanted to work with someone and that's when I've been most productive. However, it was mostly their projects and not mine because they never wanted to work on more projects at the same time to avoid losing inspiration and when I ran into serious bugs in my program, I ragequitted. It would have taken me 3 times longer to fix the bug than how much it had taken to write the program in the first place.<br /><br />So would someone please help me? I can PM my Skype name to you. Just note that I'm in Europe so it will be hard for all Americans to get me at the right time due to timezones.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=6924"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p152230"></a>
				<b class="postauthor">Kasumi</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p152230">Re: Game entity management</a></div><div style="float: right;"><a href="./viewtopic.php?p=152230#p152230"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sun Aug 02, 2015 11:45 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=3504.gif" width="48" height="48" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Wed Apr 02, 2008 2:09 pm<br /><b>Posts:</b> 1174
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I know that feeling. Way, way, way back when I started I used a program called The Games Factory that did many things for me. It was hard for me to understand how to implement those things when I started programming without it. I'm not personally available for live help, though.<br /><br />To break down object entity management, I start with a linked list described by Tokumaru in a couple of posts:<br /><br /><a href="http://forums.nesdev.com/viewtopic.php?p=96731#p96731" class="postlink">Here you can read about how you'd go about getting an unused index for a new object, and freeing an index on object destruction.</a><br /><br /><a href="http://forums.nesdev.com/viewtopic.php?p=96754#p96754" class="postlink">And here you can read about how you'd initialize the list.</a><br /><br />The topic those linked posts are in may be of interest to you in general.<br /><br />I described <a href="http://forums.nesdev.com/viewtopic.php?p=151952#p151952" class="postlink">in this post</a> how you would add and access RAM for each object. (Note that by changing objectnum to another number, it will automatically make everything use more or less RAM at assemble time.) That post also shows how to write to RAM of a specific object. (X or Y is the object index you're editing, sta ,x or sta,y write to that index.) You could write a collision routine where X is one object's index, Y is another. So two objects can interact with each other quite easily without register switching.<br /><br />To run through the object list, you do something like this:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; &nbsp;ldx #objectnum-1<br />spritestart:&nbsp; &nbsp;<br />&nbsp; &nbsp;lda OBJobjectexists,x<br />&nbsp; &nbsp;beq spriteend<br />&nbsp; &nbsp;<br />;Some way to run the specific object's code<br /><br />spriteend:<br />&nbsp; &nbsp;dex<br />&nbsp; &nbsp;bpl spritestart<br /></div><br /><br />If you're familiar with languages like C, this is a bit like a for loop.<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">for(int x = objectnum-1; x &gt;= 0; x--){<br /><br />}<br /></div><br />The reason it counts down instead of up is to avoid an extra compare.<br /><br />The some way to run the specific object's code is a bit more tricky... Upon object creation, I actually just store the address of the object's code in it's RAM and jump indirectly there, more or less.<br /><br />Something like this for creation:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; &nbsp;lda #low( PlayerCharacterInitialize );Loading the low byte of the player character's initialize routine<br />&nbsp; &nbsp;sta tempLo;Note the syntax of how to get the low byte of an address can change assembler to assembler<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;lda #high( PlayerCharacterInitialize&nbsp; );Loading the high byte of the player character's initialize routine<br />&nbsp; &nbsp;sta tempHi;Note the syntax of how to get the high byte of an address can change assembler to assembler<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;jsr createobject<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;jmp somewhere<br />;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;<br /><br />createobject:<br />&nbsp; &nbsp;;JSR here with the initialize address of the object you want to create in tempLo and tempHi<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;ldx OBJfreeslot;If there was no slot<br />&nbsp; &nbsp;bmi co.fail;we're not allowed to create another object<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;;Next free slot setup<br />&nbsp; &nbsp;lda OBJaddrlow,xDead objects don't really need their RAM, so I use <br />&nbsp; &nbsp;sta OBJfreeslot;their low byte to store the next slot<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;lda tempHi<br />&nbsp; &nbsp;sta OBJaddrhigh,x<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;lda tempLo<br />&nbsp; &nbsp;sta OBJaddrlow,x&nbsp; &nbsp;<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;lda #$FF;non zero<br />&nbsp; &nbsp;sta OBJobjectexists,x<br />co.fail:<br />&nbsp; &nbsp;rts;<br /></div><br /><br />If you go with this method of creating objects, &quot;;Some way to run the specific object's code&quot; becomes this:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; &nbsp;lda OBJaddrhigh,x<br />&nbsp; &nbsp;sta tempHi<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;lda OBJaddrlow,x<br />&nbsp; &nbsp;sta tempLo<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;jmp (tempLo);Note, for this to work, tempHi needs to be immediately after tempLo, <br />&nbsp; &nbsp;;and both need to be on the zero page<br />&nbsp; &nbsp;;<br />&nbsp; &nbsp;;For instance, tempLo = $00, and tempHi = $01<br /></div><br /><br />To destroy an object in its most basic form:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">destroyobject:<br />;Destroy the object in X<br />&nbsp; &nbsp;lda OBJfreeslot<br />&nbsp; &nbsp;sta OBJaddrlow,x<br />&nbsp; &nbsp;stx OBJfreeslot<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;lda #$00;Handled below<br />&nbsp; &nbsp;sta OBJobjectexists,x<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;rts<br /></div><br /><br />Then, each initialize routine must write the address of the main routine for the object and end in jmp spriteend (that is where the loop is). Also, if it changes X, it must change it back to the object's index BEFORE it jmps back or very bad things will happen.<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">PlayerCharacterInitialize:<br />&nbsp; &nbsp;lda #low( PlayerCharacterMain );Loading the low byte of the player character's main routine<br />&nbsp; &nbsp;sta OBJaddrlow,x<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;lda #high( PlayerCharacterMain&nbsp; );Loading the high byte of the player character's main routine<br />&nbsp; &nbsp;sta OBJaddrhigh,x<br /><br />&nbsp; &nbsp;;Other initialize junk here<br /><br />&nbsp; &nbsp;jmp spriteend<br /></div><br /><br />Each main routine needs to end in spriteend as well, and also must make sure X is the object's index before jmp spriteend<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">PlayerCharacterMain:<br />;Code to run the object here.<br /><br />&nbsp; &nbsp;jmp spriteend<br /></div><br /><br />If you want an object to check collisions with other objects:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; &nbsp;txa;Transfer our own index into Y<br />&nbsp; &nbsp;tay;And go to the next index, because we do not need to collision check<br />&nbsp; &nbsp;dey;Objects that have already been processed<br />&nbsp; &nbsp;bmi objectcollision.done;If we get a negative number, there are no more object<br />collision.start:<br />&nbsp; &nbsp;lda OBJobjectexists,y<br />&nbsp; &nbsp;beq nextcollision;If the object doesn't exists, we don't want to collide with it<br /><br />&nbsp; &nbsp;jsr generalspritecollision;This collision checks the object in Y with the object in X<br /><br />nextcollision:<br />&nbsp; &nbsp;dey<br />&nbsp; &nbsp;bpl crate.collision.start<br />&nbsp; &nbsp;<br />objectcollision.done:<br /></div><br /><br />It's pretty much like the for loop above, except it only works on indexes lower than the current object, rather than all objects.<br /><br />Those are all the main building blocks of how I handle objects. (I do things slightly differently for speed and such, hopefully I didn't make any mistakes that won't work editing those things for this post...  <img src="./images/smilies/icon_confused.gif" alt=":?" title="Confused" /> ) Things like making enemies be created when you scroll them onto the screen is a slightly more complicated thing to understand. But if you begin to write scrolling, you'll likely understand how it might be done. For games without scrolling, when the level is loaded, you read your data to find out what enemies to create and where. Then you create them there.<br /><br />In response to your questions about how to handle things with shell kicking and such, I could make another very long post.<br /><br />But the really simple thing to tell you are that if you can't get information you need from what you have already in the program, you add a way to get that information. If the enemy needs to know what last kicked it, that object needs some space in its RAM reserved for that, plain and simple. Then the players could set those bits on another object when they collide with it. If an enemy needs to know whether or not an object is the player character, you add a bit to differentiate the two. The games doesn't know how to do anything until you tell it how. But in a more positive statement, the only thing you need to do to make the game do something is teach it how to do it.</div>

					
						<div class="postbody"><br />_________________<br /><!-- m --><a class="postlink" href="https://kasumi.itch.io/indivisible">https://kasumi.itch.io/indivisible</a><!-- m --></div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3504"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p152372"></a>
				<b class="postauthor">8bitMicroGuy</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p152372">Re: Game entity management</a></div><div style="float: right;"><a href="./viewtopic.php?p=152372#p152372"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Aug 04, 2015 9:54 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Mar 08, 2015 12:23 pm<br /><b>Posts:</b> 269<br /><b>Location:</b> Croatia
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Every function that I would make would actually need to use stack for parameters and automatic variables, but getting to them would be a pain because of losing the X register. Saving it into a global variable is bad because other interrupts might clobber it, plus NMI will always bypass the global interrupt disable flag which leaves you in no safe position to do atomic operations. This is very complicated and hard. As I went to see how Sega Master System specs, it has 4bpp tiles! That will give me a lot of colors. Plus, it has a processor like Z80 which has more CPU registers. Maybe I should move over there. Too bad there's no duty cycle change in the sound, but oh well, there's no such a thing as a perfect 8-bit console. Or is there? I was expecting that an 8-bit console would be somewhat powerful like an AVR, but AVR sucks because of not having an enough fast and functional and correctly documented External Bus Interface and being Harvard which causes C functions to need to copy all constants into RAM and stuff... Man oh man... I've wasted my whole one year on working on the final project for school with an AVR microcontroller and I actually pushed it to the max and got 2 A-s. Because of that, I've forgot how to program anything else. Maybe making a game console with a CPU designed by me on FPGA would be perfect. It would have ASM in my own style and all attributes that I like. After all, I studied in school about PC components made from TTL circuits. I might do it.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=6924"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table width="100%" cellspacing="1" class="tablebg">
	<tr align="center">
		<td class="cat"><form name="viewtopic" method="post" action="./viewtopic.php?f=10&amp;t=13061"><span class="gensmall">Display posts from previous:</span> <select name="st" id="st"><option value="0" selected="selected">All posts</option><option value="1">1 day</option><option value="7">7 days</option><option value="14">2 weeks</option><option value="30">1 month</option><option value="90">3 months</option><option value="180">6 months</option><option value="365">1 year</option></select>&nbsp;<span class="gensmall">Sort by</span> <select name="sk" id="sk"><option value="a">Author</option><option value="t" selected="selected">Post time</option><option value="s">Subject</option></select> <select name="sd" id="sd"><option value="a" selected="selected">Ascending</option><option value="d">Descending</option></select>&nbsp;<input class="btnlite" type="submit" value="Go" name="sort" /></form></td>
	</tr>
	</table>
	

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=10"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=10&amp;t=13061"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>1</strong> of <strong>3</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 36 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"><b><a href="#" onclick="jumpto(); return false;" title="Click to jump to pageâ€¦">Go to page</a> <strong>1</strong><span class="page-sep">, </span><a href="./viewtopic.php?f=10&amp;t=13061&amp;start=15">2</a><span class="page-sep">, </span><a href="./viewtopic.php?f=10&amp;t=13061&amp;start=30">3</a> &nbsp;<a href="./viewtopic.php?f=10&amp;t=13061&amp;start=15">Next</a></b></td>
		
	</tr>
	</table>

</div>

<div id="pagefooter"></div>

<br clear="all" />
<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=24">NES / Famicom</a> &#187; <a href="./viewforum.php?f=10">Newbie Help Center</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>
	<br clear="all" />

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat"><h4>Who is online</h4></td>
	</tr>
	<tr>
		<td class="row1"><p class="gensmall">Users browsing this forum: No registered users and 7 guests</p></td>
	</tr>
	</table>


<br clear="all" />

<table width="100%" cellspacing="1">
<tr>
	<td width="40%" valign="top" nowrap="nowrap" align="left"></td>
	<td align="right" valign="top" nowrap="nowrap"><span class="gensmall">You <strong>cannot</strong> post new topics in this forum<br />You <strong>cannot</strong> reply to topics in this forum<br />You <strong>cannot</strong> edit your posts in this forum<br />You <strong>cannot</strong> delete your posts in this forum<br />You <strong>cannot</strong> post attachments in this forum<br /></span></td>
</tr>
</table>

<br clear="all" />

<table width="100%" cellspacing="0">
<tr>
	<td><form method="get" name="search" action="./search.php"><span class="gensmall">Search for:</span> <input class="post" type="text" name="keywords" size="20" /> <input class="btnlite" type="submit" value="Go" /><input type="hidden" name="t" value="13061" />
<input type="hidden" name="sf" value="msgonly" />
</form></td>
	<td align="right">
	<form method="post" name="jumpbox" action="./viewforum.php" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	<table cellspacing="0" cellpadding="0" border="0">
	<tr>
		<td nowrap="nowrap"><span class="gensmall">Jump to:</span>&nbsp;<select name="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">

		
			<option value="-1">Select a forum</option>
		<option value="-1">------------------</option>
			<option value="24">NES / Famicom</option>
		
			<option value="2">&nbsp; &nbsp;NESdev</option>
		
			<option value="3">&nbsp; &nbsp;NESemdev</option>
		
			<option value="21">&nbsp; &nbsp;NES Graphics</option>
		
			<option value="6">&nbsp; &nbsp;NES Music</option>
		
			<option value="22">&nbsp; &nbsp;Homebrew Projects</option>
		
			<option value="34">&nbsp; &nbsp;&nbsp; &nbsp;2018 NESdev Competition</option>
		
			<option value="33">&nbsp; &nbsp;&nbsp; &nbsp;2017 NESdev Competition</option>
		
			<option value="32">&nbsp; &nbsp;&nbsp; &nbsp;2016 NESdev Competition</option>
		
			<option value="31">&nbsp; &nbsp;&nbsp; &nbsp;2014 NESdev Competition</option>
		
			<option value="30">&nbsp; &nbsp;&nbsp; &nbsp;2011 NESdev Competition</option>
		
			<option value="10" selected="selected">&nbsp; &nbsp;Newbie Help Center</option>
		
			<option value="9">&nbsp; &nbsp;NES Hardware and Flash Equipment</option>
		
			<option value="28">&nbsp; &nbsp;&nbsp; &nbsp;Reproduction</option>
		
			<option value="19">&nbsp; &nbsp;NESdev International</option>
		
			<option value="11">&nbsp; &nbsp;&nbsp; &nbsp;FCdev</option>
		
			<option value="18">&nbsp; &nbsp;&nbsp; &nbsp;NESdev China</option>
		
			<option value="27">&nbsp; &nbsp;&nbsp; &nbsp;NESdev Middle East</option>
		
			<option value="25">Other</option>
		
			<option value="5">&nbsp; &nbsp;General Stuff</option>
		
			<option value="4">&nbsp; &nbsp;Membler Industries</option>
		
			<option value="23">&nbsp; &nbsp;Other Retro Dev</option>
		
			<option value="12">&nbsp; &nbsp;&nbsp; &nbsp;SNESdev</option>
		
			<option value="20">&nbsp; &nbsp;&nbsp; &nbsp;GBDev</option>
		
			<option value="15">&nbsp; &nbsp;Test Forum</option>
		
			<option value="26">Site Issues</option>
		
			<option value="13">&nbsp; &nbsp;phpBB Issues</option>
		
			<option value="14">&nbsp; &nbsp;Web Issues</option>
		
			<option value="16">&nbsp; &nbsp;nesdevWiki</option>
		

		</select>&nbsp;<input class="btnlite" type="submit" value="Go" /></td>
	</tr>
	</table>

	</form>
</td>
</tr>
</table>


</div>


<div id="wrapfooter">
	
	<span class="copyright">Powered by <a href="http://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Group
	</span>
</div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-61452025-2', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>