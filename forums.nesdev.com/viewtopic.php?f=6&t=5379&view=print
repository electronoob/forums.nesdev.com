<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Only nsfplay/nsfplug can slow down music an see notes?</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Only nsfplay/nsfplug can slow down music an see notes?</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=6&amp;t=5379">http://forums.nesdev.com/viewtopic.php?f=6&amp;t=5379</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Banshaku</b> [ Wed Jul 08, 2009 7:27 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Only nsfplay/nsfplug can slow down music an see notes?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I like the option of nsfplay/nsfplug to slow down the music so I can see which note/frequencies are played.
<br />
<br />In general, the option is fine but for some sound fx/quick note etc, x8 is not slow enough for me.  I'm a perfectionist (i.e. nuts) and if some pitch are not the same... It drives me crazy since I can hear the difference even though  most people won't care but I do (don't ask me to re-make maze of death.. I will go insane <img src="./images/smilies/icon_wink.gif" alt=";)" title="Wink" />)
<br />
<br />Any other player can go slower with the same keyboard/note interface or I will have to find how to modify nsfplug?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>neilbaldwin</b> [ Thu Jul 09, 2009 12:25 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I just output stuff to a WAV/AIFF file (from  Game Music Box) and then listen to it in a sample editor. You could immediately get double the slow down by setting the sample playback rate (not resample) to half the original file, though the pitch will be an octave below the original of course.
<br />
<br />I use "Amazing X" when working out guitar parts (not NES related) and that has a great slow-down-while-maintaining-pitch feature which could be useful.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Banshaku</b> [ Thu Jul 09, 2009 2:25 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">neilbaldwin wrote:</div><div class="quotecontent">I use "Amazing X" when working out guitar parts (not NES related) and that has a great slow-down-while-maintaining-pitch feature which could be useful.</div>
<br />
<br />I don't know about this software. I will check about it.  Guitar... Didn't touch one for a while. I think I should. I miss that a little bit.
<br />
<br />Edit:
<br />
<br />I checked the website sample and this seems like a nice software. They have a windows version too. I will try it tonight.  
<br />
<br />The only thing is that with a software like nesplay/plug, I can check the exact frequencies of the original channel and after that I can confirm if my result is the same.  I find that useful (maybe I'm the only one, who knows).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>bucky o'hare</b> [ Thu Jul 09, 2009 8:08 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I've also used nsfplay slowed down as much as possible to figure out parts. It was to recreate a Mega Man tune just for the sake of it. You can check it out here-
<br /><!-- m --><a class="postlink" href="http://8bitcollective.com/music/bucky/Mega+Man+3+-+Wily+Part+2+Recreation/">http://8bitcollective.com/music/bucky/M ... ecreation/</a><!-- m -->
<br />
<br />Now all of the voices in that tune are fairly simple, this would've been a different story if I tried doing one of Neil's tracks or something, but I was still able to match almost all parts parts exactly (vibrato may be slightly off). 
<br />
<br />When you see a blur of numbers counting down for the volume in nsplay, you don't really have a reference point for how many frames or 60ths of a second each one is lasting for. You can ballpark it and generally see all the numbers at the slowest speed, but if there's question as to if one volume lasts for 4 or 5 60ths of a second, for example, there's no obvious way of knowing. 
<br />
<br />So after some guessing (I was able to get everything quite close the first time), I would sample the original voice with audacity at the slowest speed in nsfplay. I would then sample the same part from my famitracker recreation, and visually compare the samples. I was then able to fix anything that was wrong using that as a reference.
<br />
<br />This method can ensure that you nail volumes, duty cycles, and arpeggios. Though getting vibratos or pitch bends <em>exact</em> this way can be much trickier.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Zepper</b> [ Thu Jul 09, 2009 8:46 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />- Your NSF version isn't playing correctly in RockNES and NotsoFatSo players. A complete mess.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>bucky o'hare</b> [ Thu Jul 09, 2009 8:54 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />What on earth...! Let me take a look.
<br />I sampled the nsf to get what you hear streaming on that page so it should be good...
<br />
<br />edit: ack, you're right! how did that happen? maybe it got corrupted while zipping it? is that possible? Try exporting another nsf from the ftm file. I just did that again and that one works just fine. Very strange. (plays fine in notso, nsfplay, and nestopia)
<br />
<br />I'll have to update that link later on.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>RushJet1</b> [ Thu Jul 09, 2009 9:27 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I've done this sort of thing before with Mega Man sound effects.. though x8 / NSFPLUG was slow enough for me.
<br />
<br /><!-- m --><a class="postlink" href="http://4x86.com/sommat/boom.nsf">http://4x86.com/sommat/boom.nsf</a><!-- m -->
<br /><!-- m --><a class="postlink" href="http://4x86.com/sommat/explode.nsf">http://4x86.com/sommat/explode.nsf</a><!-- m -->
<br /><!-- m --><a class="postlink" href="http://4x86.com/sommat/roll.nsf">http://4x86.com/sommat/roll.nsf</a><!-- m -->
<br />
<br />
<br />
<br />
<br /><div class="quotetitle">In another thread, Memblers wrote:</div><div class="quotecontent">Obviously this isn't any good for Megaman 9, but my <a href="http://jiggawatt.org/badc0de/nsf_player.zip" class="postlink">NSF player</a> can be useful for analyzing output from NSFs.  Because my player has crappy speed controls though, it's best to use zSNES and the 'inc frame' option (with F1).</div>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>RushJet1</b> [ Thu Jul 09, 2009 9:33 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">bucky o'hare wrote:</div><div class="quotecontent">What on earth...! Let me take a look.<br />I sampled the nsf to get what you hear streaming on that page so it should be good...<br /><br />edit: ack, you're right! how did that happen? maybe it got corrupted while zipping it? is that possible? Try exporting another nsf from the ftm file. I just did that again and that one works just fine. Very strange. (plays fine in notso, nsfplay, and nestopia)<br /><br />I'll have to update that link later on.</div>
<br />
<br />Yeah I exported the NSF from the FTM file and it works just fine in NotSo.
<br />
<br />That's funny though, the other file is like a GLITCH REMIX MM3 WILY 2

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>neilbaldwin</b> [ Thu Jul 09, 2009 3:47 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">bucky o'hare wrote:</div><div class="quotecontent"><br />Now all of the voices in that tune are fairly simple, this would've been a different story if I tried doing one of Neil's tracks or something</div>
<br />
<br />I try to keep you on your toes.
<br />
<br />There's an easier way though: you can ask me.
<br />
<br /><img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Zepper</b> [ Thu Jul 09, 2009 5:57 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />- The "explode.nsf" fails in my emu. Plays fine on NotSo.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Banshaku</b> [ Thu Jul 09, 2009 8:27 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">bucky o'hare wrote:</div><div class="quotecontent">So after some guessing (I was able to get everything quite close the first time), I would sample the original voice with audacity at the slowest speed in nsfplay. I would then sample the same part from my famitracker recreation, and visually compare the samples. I was then able to fix anything that was wrong using that as a reference.<br /><br />This method can ensure that you nail volumes, duty cycles, and arpeggios. Though getting vibratos or pitch bends <em>exact</em> this way can be much trickier.</div>
<br />
<br />For now I'm still new to famitracker so it's not always easy to reproduce. The notes shown in nsfplay are not the same of famitracker so I can only rely on my ears.
<br />
<br />For pitch, what I do is check the frequencies made by the original song in nsfplay then check after that my song is exactly the same in some situation. I'm very picky on pitch.
<br />
<br />One example that I was trying to do recently is to remake the simple song of mm2 when you get a weapon (track #17 of the nsf).  Kick drum could be remade in FT with a pitch of | 15 (learned that from Tssf examples) and it will sound similar BUT not the same if you listen closely: The pitch is wrong and you cannot adjust it manually for the complete song.  Why is that so?  Because the pitch counter is not constant and change based on which frequency it start.
<br />
<br />Here's what I got so far by trying to read the very fast frequency change even at x8:
<br />
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">First kick:<br /><br />Frequency : 244, 228, 214, 201, 190, 181, 172, 164, 156<br />Pitch slide:&nbsp; &nbsp; &nbsp;16,&nbsp; 14 , 13 , 11,&nbsp; &nbsp;9,&nbsp; 9,&nbsp; &nbsp;8,&nbsp; &nbsp;8<br /><br />Second kick:<br />Frequency: 559, 482,&nbsp; 423,&nbsp; 377, 341, 310, 285, 263, 245,&nbsp; 229, 215,&nbsp; 202, 191, 181 , 172, 164, 157, 150, 144<br />Pitch slide:&nbsp; &nbsp; &nbsp;77&nbsp; &nbsp; 59&nbsp; &nbsp; 46&nbsp; &nbsp;36&nbsp; &nbsp;31&nbsp; &nbsp;25&nbsp; &nbsp;22&nbsp; &nbsp;18&nbsp; &nbsp; 16&nbsp; &nbsp;14&nbsp; &nbsp;13&nbsp; &nbsp; 11&nbsp; &nbsp;10&nbsp; &nbsp; 9&nbsp; &nbsp; &nbsp;8&nbsp; &nbsp; 7&nbsp; &nbsp;7&nbsp; &nbsp; 6<br /><br /></div>
<br />
<br />This is what I found so far.  And in that, the sound seems cut too. Maybe you would say "why do you care so much, |15 sounds good enough no?". Yes, it can sound good enough for some but it's not perfect.  I hate to be a perfectionist some time.  
<br />
<br />For now I took a break on this specific song. At least I go the exact notes but not pitch perfect yet.  If I focus only on that small details, I will never finish to remake the songs I need for my project..
<br />
<br />Maybe I will modify the source code of nsfplug and see if I can make it slower.
<br />
<br />@RushJet1:
<br />Cool, some megaman fx! I need some of them <img src="./images/smilies/icon_wink.gif" alt=";)" title="Wink" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Memblers</b> [ Fri Jul 10, 2009 1:50 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Only nsfplay/nsfplug can slow down music an see notes?</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Banshaku wrote:</div><div class="quotecontent">Any other player can go slower with the same keyboard/note interface or I will have to find how to modify nsfplug?<br /></div>
<br />
<br />I don't know why I hadn't thought of this before, but you could also hex edit the NSF header to use a different play rate (assuming the player doesn't ignore it).  Modify the part that is $1A,$41 which represents $411A (NTSC playback rate).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Banshaku</b> [ Fri Jul 10, 2009 6:42 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I didn't know about that.  I will give it a try and see how it react.  This could be useful when trying to re-track some songs in FT.
<br />
<br />For some sound fx, I thought about an idea but I'm not sure yet how difficult it will be to implement. I'm thinking to check the code for an existing nsf player like nsfplug and add some debug logs when writing to the registers. This way, I can re-use the real raw data inside my code.  I know some of the players you can see the memory but that's a pain to look at it and write down the data by hand.  I will see if I can make the process simpler (if I can find the time). 
<br />
<br />That will be useful for one of my project. I don't know (if I made it), if it can be useful for other people.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Memblers</b> [ Fri Jul 10, 2009 7:00 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I've used my NSF player in ZSNES to make a few guitar tabs.  It was easiest with ZSNES's "increment frame" feature.  I should have put that feature in the player itself, but didn't.
<br />
<br />Logs may be useful.  There is also the NESA format, which was a logged music format before NSFs took over.
<br />
<br />I hacked Festalon NSF plug-in once, I'm a C newb but it was pretty easy (I redirected sound writes to the PC serial port for my NES to play in realtime).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>RushJet1</b> [ Sat Jul 11, 2009 4:33 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Fx3 wrote:</div><div class="quotecontent">- The "explode.nsf" fails in my emu. Plays fine on NotSo.</div>
<br />
<br />I tried out your emulator, and it has a downright trippy NSF playback screen <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />  However, it doesn't play a lot of arp effects in my older songs correctly, and this is why explode.nsf also failed.  I tried running those songs through PPMCK and the issue is fixed.  However, a real NES doesn't have those errors with those older songs, so the problem is the emulator oddly enough.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>2</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>