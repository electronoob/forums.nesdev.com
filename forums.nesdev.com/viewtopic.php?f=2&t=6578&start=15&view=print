<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Looking For Inspiration</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Looking For Inspiration</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=2&amp;t=6578">http://forums.nesdev.com/viewtopic.php?f=2&amp;t=6578</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>2</strong> of <strong>4</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Sat Jul 10, 2010 6:24 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">InvalidComponent wrote:</div><div class="quotecontent"><a href="http://wiki.nesdev.com/w/index.php/SXROM" class="postlink">SXROM 32k</a></div>
<br />"this board has no 72-pin "NES-SXROM" counterpart." Good luck making repros of a game using this.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>neilbaldwin</b> [ Sat Jul 10, 2010 8:58 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent"><div class="quotetitle">InvalidComponent wrote:</div><div class="quotecontent"><a href="http://wiki.nesdev.com/w/index.php/SXROM" class="postlink">SXROM 32k</a></div><br />"this board has no 72-pin "NES-SXROM" counterpart." Good luck making repros of a game using this.</div>
<br />
<br />Gah.....doomed!
<br />
<br /><img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Sat Jul 10, 2010 11:43 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">"this board has no 72-pin "NES-SXROM" counterpart." Good luck making repros of a game using this.</div>
<br />Still easier than using the MMC5, since at least the mapper chip has been successfully cloned. And I'm pretty sure that other MMC1 boards (even the ReproPak sold by RetroZone, although it doesn't seem to have space for a battery) can be converted with some rewiring.
<br />
<br />But I believe that the main focus is the PowerPak, since managing the saves in other ways is not as simple.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Sat Jul 10, 2010 11:45 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">neilbaldwin wrote:</div><div class="quotecontent">Not having much luck trying to get Nestopia (Mac) or FCEUX (Win) to create a 32kb .sav file.</div>
<br />Maybe it's because the old iNES format doesn't have a way to specify the size of he SRAM, so the few games that use that much are detected using checksums I think... Maybe these emulators already support iNES 2.0?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>3gengames</b> [ Sat Jul 10, 2010 11:33 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">neilbaldwin wrote:</div><div class="quotecontent"><div class="quotetitle">tepples wrote:</div><div class="quotecontent"><div class="quotetitle">InvalidComponent wrote:</div><div class="quotecontent"><a href="http://wiki.nesdev.com/w/index.php/SXROM" class="postlink">SXROM 32k</a></div><br />"this board has no 72-pin "NES-SXROM" counterpart." Good luck making repros of a game using this.</div><br /><br />Gah.....doomed!<br /><br /><img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /></div>
<br />
<br />
<br />Well doesn't this support SXROM?
<br />
<br /><!-- m --><a class="postlink" href="http://www.retrousb.com/product_info.php?cPath=24&amp;products_id=43">http://www.retrousb.com/product_info.ph ... ucts_id=43</a><!-- m -->
<br />
<br />
<br />I think in the PDF it says SXROM  <img src="./images/smilies/icon_wink.gif" alt=":wink:" title="Wink" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>neilbaldwin</b> [ Sun Jul 11, 2010 1:06 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent"><div class="quotetitle">neilbaldwin wrote:</div><div class="quotecontent">Not having much luck trying to get Nestopia (Mac) or FCEUX (Win) to create a 32kb .sav file.</div><br />Maybe it's because the old iNES format doesn't have a way to specify the size of he SRAM, so the few games that use that much are detected using checksums I think... Maybe these emulators already support iNES 2.0?</div>
<br />
<br />Hmmmm. Is there much support for iNES 2 at all? I can find very little about it apart from the discussion (and subsequent wiki entry) on here?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Sun Jul 11, 2010 1:22 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />At least Nestopia supports iNES2 but since I don't think any ROM use it yet not a lot of emulators will implement this. However a major release that requires iNES2 to work might be the only way to force people to accept the format.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>neilbaldwin</b> [ Sun Jul 11, 2010 2:19 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">At least Nestopia supports iNES2 but since I don't think any ROM use it yet not a lot of emulators will implement this. However a major release that requires iNES2 to work might be the only way to force people to accept the format.</div>
<br />
<br />From reading, the amount of battery-backed PRG RAM is specified in byte 10 of the header in the upper nibble. I took it to mean the number of 8kb blocks?
<br />
<br />In any case, it doesn't matter what value I put in byte 10 of the header, only an 8k .sav file is generated.
<br />
<br /><img src="./images/smilies/icon_sad.gif" alt=":(" title="Sad" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Sun Jul 11, 2010 2:26 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">neilbaldwin wrote:</div><div class="quotecontent">In any case, it doesn't matter what value I put in byte 10 of the header, only an 8k .sav file is generated.<br /><br /><img src="./images/smilies/icon_sad.gif" alt=":(" title="Sad" /></div>
<br />Maybe you should create the 32k SAV file manually and see if it loads it correctly.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>neilbaldwin</b> [ Sun Jul 11, 2010 2:53 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">thefox wrote:</div><div class="quotecontent"><div class="quotetitle">neilbaldwin wrote:</div><div class="quotecontent">In any case, it doesn't matter what value I put in byte 10 of the header, only an 8k .sav file is generated.<br /><br /><img src="./images/smilies/icon_sad.gif" alt=":(" title="Sad" /></div><br />Maybe you should create the 32k SAV file manually and see if it loads it correctly.</div>
<br />
<br />Great idea but I just tried it and Nestopia overwrites it with an 8k one <img src="./images/smilies/icon_sad.gif" alt=":(" title="Sad" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Sun Jul 11, 2010 8:56 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I guess you should specify in the header somewhere a flag that tells it that it's effectively a iNES2 header. If you don't - it will be considered a normal iNES header - and the emulators default to 8kb and emulate more based on CRC checks.
<br />I'm not sure, but it was made so that the typical "DiskDude" (incorrectly) present in some iNES headered ROMs would NOT set the iNES2 flags. Your best bet is to use Nestopia's "edit iNES header" feature - and then save the result to re-use it at compile time.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>neilbaldwin</b> [ Sun Jul 11, 2010 11:21 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">I guess you should specify in the header somewhere a flag that tells it that it's effectively a iNES2 header. If you don't - it will be considered a normal iNES header - and the emulators default to 8kb and emulate more based on CRC checks.<br />I'm not sure, but it was made so that the typical "DiskDude" (incorrectly) present in some iNES headered ROMs would NOT set the iNES2 flags. Your best bet is to use Nestopia's "edit iNES header" feature - and then save the result to re-use it at compile time.</div>
<br />
<br />Ah, see, I never knew how different Nestopia was on OSX compared to Windows. There's quite a lot missing from the OSX version.
<br />
<br />Anyway, your idea was a good one. Edited the header in Nestopia (Win) and then used the resulting header in my code. Nestopia now recognises that the ROM is <em>supposed</em> to have 32kb NVRAM but it still doesn't want to save a .sav file bigger than 8kb.
<br />
<br />Does anyone have a definitive answer on how to bank-switch NVRAM/WRAM? At the moment I don't know if I'm doing it incorrectly or the feature is not supported. :S

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Memblers</b> [ Mon Jul 12, 2010 12:32 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I don't know about other carts, but I know for the game Genghis Khan with it's 16kB, only 8kB of it is battery-backed (it's 2 separate RAM chips).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>neilbaldwin</b> [ Mon Jul 12, 2010 2:08 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Memblers wrote:</div><div class="quotecontent">I don't know about other carts, but I know for the game Genghis Khan with it's 16kB, only 8kB of it is battery-backed (it's 2 separate RAM chips).</div>
<br />
<br />Hmmmm. So how does that game bank-switch the RAM?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Memblers</b> [ Mon Jul 12, 2010 3:48 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Copied from 'advanced nerdy nights #2' <a href="http://www.nintendoage.com/forum/messageview.cfm?catid=22&amp;threadid=33260" class="postlink">here</a>
<br />
<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">SOROM<br />This board is used by Genghis Khan, Nobunaga, and a few other games.  The same idea of stealing unused CHR bits is used to expand the WRAM to 16KB.  This time the fourth bit of the CHR Bank register (D3) becomes the WRAM bank select.  Clear the bit to select the lower 8KB of WRAM for the $6000-7FFF range, and set the bit to select the upper 8KB.  The board uses two physically separate chips and only one is battery backed, so only one of the 8KB banks is battery backed.<br /><br />Like with SUROM when using 4KB mode you need to set D3 the same in both CHR registers.<br /></div><br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><br />SXROM<br />This board is only used in a couple Japanese games like Final Fantasy 1+2.  It is a combination of SUROM and SOROM to expand both PRG ROM and WRAM.  Makes sense when they pack two games on one cart that each need half those specs!  Unlike SOROM there is only one physical WRAM chip so all 16KB is battery backed.<br /><br />D4 still picks upper or lower 256KB PRG, and D3 still picks upper or lower 8KB WRAM.<br /><br /></div>

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>2</strong> of <strong>4</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>