<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<link rel="icon" href="/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />

<title>nesdev.com &bull; View topic - NTSC color palette emulation, with the square wave modulator</title>

<link rel="alternate" type="application/atom+xml" title="Feed - nesdev.com" href="http://forums.nesdev.com/feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - News" href="http://forums.nesdev.com/feed.php?mode=news" /><link rel="alternate" type="application/atom+xml" title="Feed - All forums" href="http://forums.nesdev.com/feed.php?mode=forums" /><link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="http://forums.nesdev.com/feed.php?mode=topics" /><link rel="alternate" type="application/atom+xml" title="Feed - Active Topics" href="http://forums.nesdev.com/feed.php?mode=topics_active" /><link rel="alternate" type="application/atom+xml" title="Feed - Forum - NESemdev" href="http://forums.nesdev.com/feed.php?f=3" /><link rel="alternate" type="application/atom+xml" title="Feed - Topic - NTSC color palette emulation, with the square wave modulator" href="http://forums.nesdev.com/feed.php?f=3&amp;t=8209" />

<link rel="stylesheet" href="./style.php?id=1&amp;lang=en" type="text/css" />

<script type="text/javascript">
// <![CDATA[


function popup(url, width, height, name)
{
	if (!name)
	{
		name = '_popup';
	}

	window.open(url.replace(/&amp;/g, '&'), name, 'height=' + height + ',resizable=yes,scrollbars=yes,width=' + width);
	return false;
}

function jumpto()
{
	var page = prompt('Enter the page number you wish to go to:', '6');
	var per_page = '15';
	var base_url = './viewtopic.php?f=3&amp;t=8209';

	if (page !== null && !isNaN(page) && page == Math.floor(page) && page > 0)
	{
		if (base_url.indexOf('?') == -1)
		{
			document.location.href = base_url + '?start=' + ((page - 1) * per_page);
		}
		else
		{
			document.location.href = base_url.replace(/&amp;/g, '&') + '&start=' + ((page - 1) * per_page);
		}
	}
}

/**
* Find a member
*/
function find_username(url)
{
	popup(url, 760, 570, '_usersearch');
	return false;
}

/**
* Mark/unmark checklist
* id = ID of parent container, name = name prefix, state = state [true/false]
*/
function marklist(id, name, state)
{
	var parent = document.getElementById(id);
	if (!parent)
	{
		eval('parent = document.' + id);
	}

	if (!parent)
	{
		return;
	}

	var rb = parent.getElementsByTagName('input');
	
	for (var r = 0; r < rb.length; r++)
	{
		if (rb[r].name.substr(0, name.length) == name)
		{
			rb[r].checked = state;
		}
	}
}



// ]]>
</script>
</head>
<body class="ltr">

<a name="top"></a>

<div id="wrapheader">

	<div id="logodesc">
	</div>

	<div id="menubar">

		<table width="100%" cellspacing="0">
		<tr>
			<td rowspan="2"><a href="./index.php"><img src="./styles/subsilver2/imageset/site_logo.gif" alt="" title="" /></a></td>
			<td width="100%" align="center"><h1>nesdev.com</h1><span class="gen">NES Development and Strangulation Records message boards</span></td>
		</tr>
		<tr>
			<td align="center">
				<a href="./faq.php"><img src="./styles/prosilver/theme/images/icon_mini_faq.gif" width="12" height="13" alt="*" /> FAQ</a>
				&nbsp; &nbsp;<a href="./search.php"><img src="./styles/prosilver/theme/images/icon_mini_search.gif" width="12" height="13" alt="*" /> Search</a>
				<br />	
				 &nbsp;<a href="./ucp.php?mode=register"><img src="./styles/prosilver/theme/images/icon_mini_register.gif" width="12" height="13" alt="*" /> Register</a>
					&nbsp; &nbsp;<a href="./ucp.php?mode=login"><img src="./styles/prosilver/theme/images/icon_mini_login.gif" width="12" height="13" alt="*" /> Login</a>&nbsp;
			</td>
		</tr>
		</table>
	</div>

	<div id="datebar">
		<table width="100%" cellspacing="0">
		<tr>
			<td class="gensmall"></td>
			<td class="gensmall" align="right">It is currently Thu Aug 30, 2012 11:35 am<br /></td>
		</tr>
		</table>
	</div>

</div>

<div id="wrapcentre">

	
	<p class="searchbar">
		<span style="float: left;"><a href="./search.php?search_id=unanswered">View unanswered posts</a> | <a href="./search.php?search_id=active_topics">View active topics</a></span>
		
	</p>
	

	<br style="clear: both;" />

	<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=24">NES / Famicom</a> &#187; <a href="./viewforum.php?f=3">NESemdev</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>

	<br />

<div id="pageheader">
	<h2><a class="titles" href="./viewtopic.php?f=3&amp;t=8209&amp;start=75">NTSC color palette emulation, with the square wave modulator</a></h2>


	<p class="moderators">Moderator: <a href="./memberlist.php?mode=group&amp;g=320">Moderators</a></p>

</div>

<br clear="all" /><br />

<div id="pagecontent">

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=3"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=3&amp;t=8209"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>6</strong> of <strong>10</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 148 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"><b><a href="#" onclick="jumpto(); return false;" title="Click to jump to page…">Go to page</a> <a href="./viewtopic.php?f=3&amp;t=8209&amp;start=60">Previous</a>&nbsp;&nbsp;<a href="./viewtopic.php?f=3&amp;t=8209">1</a><span class="page-dots"> ... </span><a href="./viewtopic.php?f=3&amp;t=8209&amp;start=30">3</a><span class="page-sep">, </span><a href="./viewtopic.php?f=3&amp;t=8209&amp;start=45">4</a><span class="page-sep">, </span><a href="./viewtopic.php?f=3&amp;t=8209&amp;start=60">5</a><span class="page-sep">, </span><strong>6</strong><span class="page-sep">, </span><a href="./viewtopic.php?f=3&amp;t=8209&amp;start=90">7</a><span class="page-sep">, </span><a href="./viewtopic.php?f=3&amp;t=8209&amp;start=105">8</a><span class="page-sep">, </span><a href="./viewtopic.php?f=3&amp;t=8209&amp;start=120">9</a><span class="page-sep">, </span><a href="./viewtopic.php?f=3&amp;t=8209&amp;start=135">10</a> &nbsp;<a href="./viewtopic.php?f=3&amp;t=8209&amp;start=90">Next</a></b></td>
		
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat">
			<table width="100%" cellspacing="0">
			<tr>
				<td class="nav" nowrap="nowrap">&nbsp;
				<a href="./viewtopic.php?f=3&amp;t=8209&amp;start=75&amp;view=print" title="Print view">Print view</a>
				</td>
				<td class="nav" align="right" nowrap="nowrap"><a href="./viewtopic.php?f=3&amp;t=8209&amp;view=previous">Previous topic</a> | <a href="./viewtopic.php?f=3&amp;t=8209&amp;view=next">Next topic</a>&nbsp;</td>
			</tr>
			</table>
		</td>
	</tr>

	</table>


	<table class="tablebg" width="100%" cellspacing="1">
	
		<tr>
			<th>Author</th>
			<th>Message</th>
		</tr>
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p85381"></a>
				<b class="postauthor">Zepper</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p85381"></a></div><div style="float: right;"><a href="./viewtopic.php?p=85381#p85381"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Oct 21, 2011 6:21 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td class="postdetails">Formerly Fx3</td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=39.jpg" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Nov 12, 2004 4:59 pm<br /><b>Posts:</b> 1965<br /><b>Location:</b> Brazil
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">tepples wrote:</div><div class="quotecontent"><div class="quotetitle">kyuusaku wrote:</div><div class="quotecontent">But this thread is about finding the definitive <em>RGB</em> palette</div><br />Which was ripped from PlayChoice PPUs and the GameCube and GBA versions of acNES long ago.</div>
<br />
<br />...and I could <strong>never</strong> find them.
<br />
<br />Plus, there's no purple background in SMB from those pics.</div>

					
						<div class="postbody"><br />_________________<br /><strong>Zepper</strong><br /><a href="http://rocknes.web.fc2.com/" class="postlink"><em>RockNES developer</em></a></div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=39"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p85383"></a>
				<b class="postauthor">HardWareMan</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p85383"></a></div><div style="float: right;"><a href="./viewtopic.php?p=85383#p85383"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Oct 21, 2011 6:58 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=2016.gif" width="80" height="80" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Jan 01, 2007 11:12 am<br /><b>Posts:</b> 75
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">tepples wrote:</div><div class="quotecontent"><div class="quotetitle">HardWareMan wrote:</div><div class="quotecontent">Do not forget that the TV smooths out the picture only in the scanline.</div><br />Some TVs are known to smooth chroma vertically.</div>
<br />Only PAL system, because this system use two near scanlines, one is delayed.
<br />
<br />Here is PAL video captures (clickable, big size):
<br /><a href="http://savepic.su/448404.gif" class="postlink"><img src="http://savepic.su/448404m.gif" alt="Image" /></a>
<br /><a href="http://savepic.su/440214.gif" class="postlink"><img src="http://savepic.su/440214m.gif" alt="Image" /></a>
<br />Note: because PAL uses differ R-Y phase every line (changed by 180), every of 12 main colors are looks like grid points with different angles of inclination. NTSC have same angle of inclination for every color, but slightly shifted, as seen when two different colors border each other.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=2016"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p85402"></a>
				<b class="postauthor">kyuusaku</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p85402"></a></div><div style="float: right;"><a href="./viewtopic.php?p=85402#p85402"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Oct 21, 2011 10:26 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=20.png" width="75" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Sep 27, 2004 2:13 pm<br /><b>Posts:</b> 1625<br /><b>Location:</b> .ma.us
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">tepples wrote:</div><div class="quotecontent">I thought gain control for OTA was keyed to the vertical sync signal, not the colorburst, made possible by negative modulation. Otherwise, how would AGC have worked in the black-and-white era?</div>
<br />Manual control? Perhaps I read that out of context though. 
<br />
<br />This file: <!-- m --><a class="postlink" href="http://cd.textfiles.com/group42/HACK/TV/MACROV.HTM">http://cd.textfiles.com/group42/HACK/TV/MACROV.HTM</a><!-- m --> states that the chrominance gain is keyed to the colorburst level, and that luminance gain is keyed to the Hsync pulse distance/back porch level.
<br />
<br />This book (previewable) seems to suggest that RF tuners typically have a single AGC keyed to the back porch level: <!-- m --><a class="postlink" href="http://books.google.com/books?id=U9aH92iLEZAC">http://books.google.com/books?id=U9aH92iLEZAC</a><!-- m -->  
<br />
<br />The "VCR" method was probably not commonly used but I imagine it would be preferred solution.
<br />
<br />
<br />
<br />Now the question is whether this is relevant to the efforts here.
<br />
<br />The Famicom, for which the PPU was designed, initially only had RF output. A FC color profile will certainly have at least tuner AGC adjustment.
<br />
<br />I'm not sure if it's common for televisions to have AGC on composite input, but I'm fairly confident my late 90s CRT does because it will display pretty malformed video.
<br />
<br />Without composite AGC both NES and AV Famicom would have their own color profile because they use different (common-collector) amplifier and output circuits for composite, each with a different attenuation and output impedance leading to different levels at the display's input.
<br />
<br />Plus something I haven't seen mentioned in this thread is that the composite values were measured unloaded. This can have consequences in any DAC, but especially with a non-linear or current-source DAC, and the PPU's DAC should be both. When the pin was loaded the level became NEARLY ideal, but not exactly 1 Vpp (or is it 1.3 Vpp?). 
<br />
<br />Non-linearities aside, without AGC the measured levels are still inaccurate*. Wouldn't it be a double standard to not emulate composite at the output like the unideal real thing? Isn't it against significant figures to mix precision like this?
<br />
<br />*OMG</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=20"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p85407"></a>
				<b class="postauthor">Bisqwit</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p85407"></a></div><div style="float: right;"><a href="./viewtopic.php?p=85407#p85407"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Oct 21, 2011 12:07 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="http://bisqwit.iki.fi/kala/hloop.gif" width="60" height="60" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Oct 14, 2011 1:09 am<br /><b>Posts:</b> 186
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">HardWareMan wrote:</div><div class="quotecontent"><a href="http://savepic.su/440214.gif" class="postlink"><img src="http://savepic.su/440214m.gif" alt="Image" /></a></div><br />Wow! I remember that. Both the title screen (from some pirate cart), and the artifacts on the monochrome display that appeared at least when the channel was not properly tuned.<br /><br />Sorry for being selfish, but I would like to hear feedback on the images in my previous post. Was the NTSC really that horrible? I have only had PAL systems, so I don't know.<br /><br /><div class="quotetitle">HardWareMan wrote:</div><div class="quotecontent">Note: because PAL uses differ R-Y phase every line (changed by 180), every of 12 main colors are looks like grid points with different angles of inclination.</div>
<br />Does the PAL PPU output 480 lines? Is it interlaced with the full picture framerate being only 25? I don't remember interlacing artifacts though. Or does it change 120 times per the screen of 240 scanlines?</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=5043"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p85408"></a>
				<b class="postauthor">thefox</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p85408"></a></div><div style="float: right;"><a href="./viewtopic.php?p=85408#p85408"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Oct 21, 2011 12:17 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=80.png" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Jan 03, 2005 10:36 am<br /><b>Posts:</b> 1077<br /><b>Location:</b> Tampere, Finland
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">Bisqwit wrote:</div><div class="quotecontent">Sorry for being selfish, but I would like to hear feedback on the images in my previous post. Was the NTSC really that horrible? I have only had PAL systems, so I don't know.</div>
<br />It's not as bad as in your "Ugh. That's ugly." picture. I can't really tell from the smaller pictures. Also remember that when rendering is enabled, every other PPU frame is one cycle shorter than normal, resulting in a different dot crawl pattern. Some games like Battletoads keep rendering disabled past the point where the cycle would be skipped, so they look a little bit different.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=80"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p85410"></a>
				<b class="postauthor">Dwedit</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p85410"></a></div><div style="float: right;"><a href="./viewtopic.php?p=85410#p85410"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Oct 21, 2011 12:24 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=53.png" width="68" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Nov 19, 2004 7:35 pm<br /><b>Posts:</b> 2546
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">When connected my TV by RF, I see lots of artifacts that no emulator is producing, like short darker stripes on the right edge of the O in "MARIO BROS."  And the red box for the title screen extends out into the sky for about a pixel after the black line.  It's as if the chroma signal is 1 pixel too far to the right.
<br />I also see some vertical color bleeding, so it probably has a filter or something.
<br />
<br />The end of level pole looks like dotted lines, where the right side is one pixel lower than the left side.
<br />
<br />I don't visibly see the dot crawl pattern unless the screen is scrolling to the right at one pixel per frame.</div>

					
						<div class="postbody"><br />_________________<br />Here come the fortune cookies!  Here come the fortune cookies!  They're wearing paper hats!</div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=53"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p85413"></a>
				<b class="postauthor">lidnariq</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p85413"></a></div><div style="float: right;"><a href="./viewtopic.php?p=85413#p85413"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Oct 21, 2011 1:01 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_online.gif" alt="Online" title="Online" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Apr 13, 2008 11:12 am<br /><b>Posts:</b> 454<br /><b>Location:</b> seattle
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Before you get too involved in generating these sophisticated chroma-crawl simulations, please read some of the things we know: <a href="http://wiki.nesdev.com/w/index.php/PPU_frame_timing" class="postlink">http://wiki.nesdev.com/w/index.php/PPU_frame_timing</a>, <a href="http://wiki.nesdev.com/w/index.php/Overscan" class="postlink">http://wiki.nesdev.com/w/index.php/Overscan</a>, <a href="http://wiki.nesdev.com/w/index.php/Clock_rate" class="postlink">http://wiki.nesdev.com/w/index.php/Clock_rate</a> and <a href="http://slack.net/~ant/libs/ntsc.html" class="postlink">http://slack.net/~ant/libs/ntsc.html</a>
<br />
<br />Recapping the frame timing article:
<br />The NTSC 2C02 generates exactly 341 pixels, comprising of 227⅓ color cycles per scanline, so there is a 3-scanline jagged shift on screen for vertical color edges.  (Instead of what it should be per the spec: 227½. It turns out this doesn't matter for most NTSC decoders). Every other field, it omits one pixel (IIRC on scanline 20) causing on-screen flicker at 30Hz on sharp color edges. The visible period is 240 scanlines, with a 262-scanline field. Some games (Battletoads) disable rendering at the top of the field past scanline 20, in which case this pixel is never omitted. In this case, the flickr proceeds at 20 Hz(227⅓ × 262 = 59561⅓, the ⅓ is to fault. Omitting a pixel makes the width of that scanline 226⅔ color cycles and so undoes the extra ⅓ from the previous field)
<br />
<br />The PAL 2C07 also generates exactly 341 pixels, comprising of 284⅙ color cycles per scanline. But I don't know enough about how PAL works to know how the phase-alternating demodulation will affect edges. Unlike the 2C02, it never omits the pixel on scanline 20. The visible period is still 240 scanlines, but with a 312-scanline field.
<br />
<br />
<br />Back to bandwidth-limiting and square waves vs sine waves:
<br />OTA (when receiving via the RF modulator) the received signal almost certainly contains none of the higher overtones of the square modulator — The RF demodulator provides an extremely narrow 6MHz received band, and even though the NES is generating noise at higher harmonics (and I remember seeing them, back when OTA broadcast of NTSC was still a thing), the TV won't see them.
<br />
<br />Via the RCA jack in the back, I used a bandwidth tester on my 1990s RCA CRT television. Extinction frequency was 7MHz, so I'm unclear what difference a simulation using square vs sine waves will have. 
<br />
<br />BT.601 for digital sets demodulating NTSC necessarily has an extinction frequency below 6.75 MHz, since it samples at 13.5MHz.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3512"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p85414"></a>
				<b class="postauthor">HardWareMan</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p85414"></a></div><div style="float: right;"><a href="./viewtopic.php?p=85414#p85414"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Oct 21, 2011 1:14 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=2016.gif" width="80" height="80" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Jan 01, 2007 11:12 am<br /><b>Posts:</b> 75
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">Bisqwit wrote:</div><div class="quotecontent">Sorry for being selfish, but I would like to hear feedback on the images in my previous post. Was the NTSC really that horrible? I have only had PAL systems, so I don't know.</div><br />I do not think your pictures ugly. And remember - the TV has a lower resolution, causing a blur. Wich smooths out ugly sharp details.<br /><div class="quotetitle">Bisqwit wrote:</div><div class="quotecontent">Does the PAL PPU output 480 lines? Is it interlaced with the full picture framerate being only 25? I don't remember interlacing artifacts though. Or does it change 120 times per the screen of 240 scanlines?</div>
<br />PPU producet only one filed and do not use interlace. That's why PAL looks like stable dots mesh. In interlace mode the subcarrier of two neighboring fields be blended and would not be noticeable.
<br />
<br />Sorry folks. Apparently PPU have a high-resistance output. When connected after the amplifier (on the AV connectors) signal is more adequate. In general, look, a complete record, I will give later. This is whole scanline, wich have 2 white bars and one black for level reference. Then we can see color subcarrier.
<br /><a href="http://savepic.su/426989.png" class="postlink"><img src="http://savepic.su/426989m.png" alt="Image" /></a>
<br />Color burst only.
<br /><a href="http://savepic.su/433133.png" class="postlink"><img src="http://savepic.su/433133m.png" alt="Image" /></a>
<br />And take a look closer to the process of transition between the white and colored signal. It's clearly seen that pixel areas are just signal gates for source phase subcarriers.
<br /><a href="http://savepic.su/418797.png" class="postlink"><img src="http://savepic.su/418797m.png" alt="Image" /></a>
<br />And what is it: sine or spoiled a square?</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=2016"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p85506"></a>
				<b class="postauthor">James</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p85506"></a></div><div style="float: right;"><a href="./viewtopic.php?p=85506#p85506"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sun Oct 23, 2011 12:42 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sat Jan 22, 2005 8:51 am<br /><b>Posts:</b> 201
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">tepples wrote:</div><div class="quotecontent">So the final step of a palette generator would involve translating from whatever color space to sRGB.</div>
<br />Here's the SMB title screen converted from NTSC RGB:
<br /><img src="http://www.nemulator.com/images/smb_ntsc.jpg" alt="Image" />
<br />To sRGB:
<br /><img src="http://www.nemulator.com/images/smb_srgb.jpg" alt="Image" /></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=88"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p85714"></a>
				<b class="postauthor">Bisqwit</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p85714"></a></div><div style="float: right;"><a href="./viewtopic.php?p=85714#p85714"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Oct 28, 2011 1:00 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="http://bisqwit.iki.fi/kala/hloop.gif" width="60" height="60" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Oct 14, 2011 1:09 am<br /><b>Posts:</b> 186
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">One thing I don't understand about this pixel running phenomenon.
<br />
<br />If the scanline signal is shifted by 4 clocks every scanline, how come in all NTSC NES recordings I have seen so far, the edges between black and white pixels are completely artifactless while only color edges have artifacts?
<br />
<br />I am having trouble reproducing this kind of distinction in my emulator.
<br />
<br />As I understand it, a black &amp; white pixel pattern like the letter "S", below, would be encoded in NTSC like this
<br />(for simplicity of presentation, I reduced the clock of each signal by a ratio of 1/4, because for black&amp;white graphics, each 12-clock section of the signal is constant):
<br />
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">.XXXXXX.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ░░▂▂▂▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▂▂▂░░&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;░░▂▂▂▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▂▂▂<br />XX....XX&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ░░▇▇▇▇▇▇▂▂▂▂▂▂▂▂▂▂▂▂▇▇▇▇▇▇░░&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;░▇▇▇▇▇▇▂▂▂▂▂▂▂▂▂▂▂▂▇▇▇▇▇▇░<br />XX......&nbsp; becomes&nbsp; &nbsp; &nbsp;░░▇▇▇▇▇▇▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂░░&nbsp; becomes&nbsp; ▇▇▇▇▇▇▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂░░<br />.XXXXXX.&nbsp; instead of&nbsp; ░░▂▂▂▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▂▂▂░░&nbsp; this:&nbsp; &nbsp; ░░▂▂▂▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▂▂▂<br />......XX&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ░░▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▆▆▆▆▆▆░░&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;░▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▇▇▇▇▇▇░<br />XX....XX&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ░░▇▇▇▇▇▇▂▂▂▂▂▂▂▂▂▂▂▂▆▆▆▆▆▆░░&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;▇▇▇▇▇▇▂▂▂▂▂▂▂▂▂▂▂▂▇▇▇▇▇▇░░<br />.XXXXXX.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ░░▂▂▂▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▂▂▂░░&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;░░▂▂▂▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▂▂▂</div>
<br />
<br />The television can decode the <em>type</em> of colors properly, because it syncs the phase within the colorburst section of the scanline. However, their positioning still appears to vary. But I can not understand why the positioning of brightness does not vary, i.e. why black&amp;white details do not seem to be subject to the pixel jittering.
<br />
<br />In order to determine the chroma and the luma in a particular position on the scanline, does the television not do the following?
<br />* For luma, calculate the total amplitude of last N of the signal (where N is exactly the wavelength of the chroma signal, i.e. 1/(3.579545 MHz) = about 279 nanoseconds)
<br />* For chroma, determine the phase difference between the colorburst signal and the last N of the signal (where N is as above)
<br />If not so, what does it do then?
<br />
<br />Does the TV somehow magically know how to compensate for the scanline shift phenomenon that it does not know about while still being unable to compensate it in case of chroma?</div>

					
							<br /><br />
							<span class="gensmall">Last edited by <a href="./memberlist.php?mode=viewprofile&amp;u=5043">Bisqwit</a> on Fri Oct 28, 2011 1:07 pm, edited 1 time in total.</span>
						<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=5043"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p85715"></a>
				<b class="postauthor" style="color: #AA0000">tepples</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p85715"></a></div><div style="float: right;"><a href="./viewtopic.php?p=85715#p85715"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Oct 28, 2011 1:06 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="http://pineight.com/nes/terrible/PSRFX.png" width="100" height="56" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Sep 19, 2004 11:12 pm<br /><b>Posts:</b> 9046<br /><b>Location:</b> NE Indiana, USA (NTSC)
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">The horizontal position of any given point on the scanline is completely determined by the time difference since the last horizontal sync pulse. The colorburst phase doesn't affect when pixels start and end or when the horizontal sync pulse starts and ends. It affects only when the high and low phases of each colored pixel start and end.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=9"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p85716"></a>
				<b class="postauthor">Bisqwit</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p85716"></a></div><div style="float: right;"><a href="./viewtopic.php?p=85716#p85716"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Oct 28, 2011 1:16 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="http://bisqwit.iki.fi/kala/hloop.gif" width="60" height="60" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Oct 14, 2011 1:09 am<br /><b>Posts:</b> 186
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">tepples wrote:</div><div class="quotecontent">The horizontal position of any given point on the scanline is completely determined by the time difference since the last horizontal sync pulse.</div>
<br />Hmm... So let me get this straight.
<br />
<br />I'll use these simplified representations where the length of sync/black/pulse are irrelevant.
<br />
<br />A non-shifted scanline:<div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; &nbsp; ::sync::&nbsp; &nbsp; :colorburst:&nbsp; &nbsp; &nbsp; ...colored pixels....&nbsp; &nbsp;white pixel.black pixel.&nbsp; &lt;-- NES intents to signal this<br />____SSSSSSSS____lllllhhhhhhl______hhhhllllllllhhhhllllllllhhhhhhhhhhhhllllllllllll<br />&nbsp; &nbsp; Begin&nbsp; &nbsp; &nbsp; &nbsp;Thanks&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; PIXEL-0-----PIXEL-1-----PIXEL-2-----PIXEL-3-----&nbsp; &lt;-- this is what the TV decodes</div><br /><br /><br />A shifted scanline:<div class="codetitle"><b>Code:</b></div><div class="codecontent">__&nbsp; &nbsp; ::sync::&nbsp; &nbsp; :colorburst:&nbsp; &nbsp; &nbsp; ...colored pixels....&nbsp; &nbsp;white pixel.black pixel.<br />______SSSSSSSS____lllllhhhhhhl______hhhhllllllllhhhhllllllllhhhhhhhhhhhhllllllllllll<br />&nbsp; &nbsp; &nbsp; Begin&nbsp; &nbsp; &nbsp; &nbsp;Thanks&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; PIXEL-0-----PIXEL-1-----PIXEL-2-----PIXEL-3-----</div>
<br />So if the TV has all the required information to determine not only where the pixel begins and where the pixel ends, but also how the color data is to be decoded, where does the <em>visible</em> jittering come from? Who makes the error?</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=5043"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p85718"></a>
				<b class="postauthor" style="color: #AA0000">tepples</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p85718"></a></div><div style="float: right;"><a href="./viewtopic.php?p=85718#p85718"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Oct 28, 2011 1:22 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="http://pineight.com/nes/terrible/PSRFX.png" width="100" height="56" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Sep 19, 2004 11:12 pm<br /><b>Posts:</b> 9046<br /><b>Location:</b> NE Indiana, USA (NTSC)
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Pixels are eight half-cycles wide, not twelve.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=9"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p85719"></a>
				<b class="postauthor">Bisqwit</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p85719"></a></div><div style="float: right;"><a href="./viewtopic.php?p=85719#p85719"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Oct 28, 2011 1:29 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="http://bisqwit.iki.fi/kala/hloop.gif" width="60" height="60" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Oct 14, 2011 1:09 am<br /><b>Posts:</b> 186
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">tepples wrote:</div><div class="quotecontent">Pixels are eight half-cycles wide, not twelve.</div>
<br />Oh! Wow. New information. Thanks for the correction.
<br />Does not answer my question, though.
<br />It raises a new one, instead: Would that not mean that a stripe of constant color would appear having a fluctuating brightness?
<br />
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">hhllllllllhhhhllllllllhhhhllllllllhhhhllllllllhhhhllllllllhhhhllllllll.. &lt;- color generator &#40;repeats every 12 half-cycles&#41;<br />000000001111111122222222333333334444444455555555666666667777777788888888 &lt;- pixel position &#40;8 half-cycles per pixel as per tepples' post&#41;<br />h=2&nbsp; &nbsp; &nbsp;h=4&nbsp; &nbsp; &nbsp;h=2&nbsp; &nbsp; &nbsp;h=2&nbsp; &nbsp; &nbsp;h=4&nbsp; &nbsp; &nbsp;h=2&nbsp; &nbsp; &nbsp;h=2&nbsp; &nbsp; &nbsp;h=4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;- amount of &quot;high&quot; voltage during that pixel &#40;affects brightness&#41;</div></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=5043"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p85720"></a>
				<b class="postauthor">lidnariq</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p85720"></a></div><div style="float: right;"><a href="./viewtopic.php?p=85720#p85720"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Oct 28, 2011 1:45 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_online.gif" alt="Online" title="Online" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Apr 13, 2008 11:12 am<br /><b>Posts:</b> 454<br /><b>Location:</b> seattle
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">Bisqwit wrote:</div><div class="quotecontent">It raises a new one, instead: Would that not mean that a stripe of constant color would appear having a fluctuating brightness?</div>
<br />No, because the reconstructed chroma is subtracted from the received composite signal to calculate the true brightness.
<br />
<br />Also the duty cycle is 50% unless you're doing something funny, not 33%.
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&#40;hhhhhhll&#41;&#40;llllhhhh&#41;&#40;hhllllll&#41;<br />\_pixel1_/\_pixel2_/\_pixel3_/</div></div>

					
							<br /><br />
							<span class="gensmall">Last edited by <a href="./memberlist.php?mode=viewprofile&amp;u=3512">lidnariq</a> on Fri Oct 28, 2011 1:47 pm, edited 1 time in total.</span>
						<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3512"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table width="100%" cellspacing="1" class="tablebg">
	<tr align="center">
		<td class="cat"><form name="viewtopic" method="post" action="./viewtopic.php?f=3&amp;t=8209&amp;start=75"><span class="gensmall">Display posts from previous:</span> <select name="st" id="st"><option value="0" selected="selected">All posts</option><option value="1">1 day</option><option value="7">7 days</option><option value="14">2 weeks</option><option value="30">1 month</option><option value="90">3 months</option><option value="180">6 months</option><option value="365">1 year</option></select>&nbsp;<span class="gensmall">Sort by</span> <select name="sk" id="sk"><option value="a">Author</option><option value="t" selected="selected">Post time</option><option value="s">Subject</option></select> <select name="sd" id="sd"><option value="a" selected="selected">Ascending</option><option value="d">Descending</option></select>&nbsp;<input class="btnlite" type="submit" value="Go" name="sort" /></form></td>
	</tr>
	</table>
	

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=3"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=3&amp;t=8209"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>6</strong> of <strong>10</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 148 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"><b><a href="#" onclick="jumpto(); return false;" title="Click to jump to page…">Go to page</a> <a href="./viewtopic.php?f=3&amp;t=8209&amp;start=60">Previous</a>&nbsp;&nbsp;<a href="./viewtopic.php?f=3&amp;t=8209">1</a><span class="page-dots"> ... </span><a href="./viewtopic.php?f=3&amp;t=8209&amp;start=30">3</a><span class="page-sep">, </span><a href="./viewtopic.php?f=3&amp;t=8209&amp;start=45">4</a><span class="page-sep">, </span><a href="./viewtopic.php?f=3&amp;t=8209&amp;start=60">5</a><span class="page-sep">, </span><strong>6</strong><span class="page-sep">, </span><a href="./viewtopic.php?f=3&amp;t=8209&amp;start=90">7</a><span class="page-sep">, </span><a href="./viewtopic.php?f=3&amp;t=8209&amp;start=105">8</a><span class="page-sep">, </span><a href="./viewtopic.php?f=3&amp;t=8209&amp;start=120">9</a><span class="page-sep">, </span><a href="./viewtopic.php?f=3&amp;t=8209&amp;start=135">10</a> &nbsp;<a href="./viewtopic.php?f=3&amp;t=8209&amp;start=90">Next</a></b></td>
		
	</tr>
	</table>

</div>

<div id="pagefooter"></div>

<br clear="all" />
<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=24">NES / Famicom</a> &#187; <a href="./viewforum.php?f=3">NESemdev</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>
	<br clear="all" />

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat"><h4>Who is online</h4></td>
	</tr>
	<tr>
		<td class="row1"><p class="gensmall">Users browsing this forum: <a href="./memberlist.php?mode=viewprofile&amp;u=28">jsr</a> and 0 guests</p></td>
	</tr>
	</table>


<br clear="all" />

<table width="100%" cellspacing="1">
<tr>
	<td width="40%" valign="top" nowrap="nowrap" align="left"></td>
	<td align="right" valign="top" nowrap="nowrap"><span class="gensmall">You <strong>cannot</strong> post new topics in this forum<br />You <strong>cannot</strong> reply to topics in this forum<br />You <strong>cannot</strong> edit your posts in this forum<br />You <strong>cannot</strong> delete your posts in this forum<br />You <strong>cannot</strong> post attachments in this forum<br /></span></td>
</tr>
</table>

<br clear="all" />

<table width="100%" cellspacing="0">
<tr>
	<td><form method="get" name="search" action="./search.php"><span class="gensmall">Search for:</span> <input class="post" type="text" name="keywords" size="20" /> <input class="btnlite" type="submit" value="Go" /><input type="hidden" name="t" value="8209" />
<input type="hidden" name="sf" value="msgonly" />
</form></td>
	<td align="right">
	<form method="post" name="jumpbox" action="./viewforum.php" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	<table cellspacing="0" cellpadding="0" border="0">
	<tr>
		<td nowrap="nowrap"><span class="gensmall">Jump to:</span>&nbsp;<select name="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">

		
			<option value="-1">Select a forum</option>
		<option value="-1">------------------</option>
			<option value="24">NES / Famicom</option>
		
			<option value="2">&nbsp; &nbsp;NESdev</option>
		
			<option value="3" selected="selected">&nbsp; &nbsp;NESemdev</option>
		
			<option value="21">&nbsp; &nbsp;NES Graphics</option>
		
			<option value="6">&nbsp; &nbsp;NES Music</option>
		
			<option value="9">&nbsp; &nbsp;NES Hardware and Flash Equipment</option>
		
			<option value="22">&nbsp; &nbsp;Homebrew Projects</option>
		
			<option value="10">&nbsp; &nbsp;Newbie Help Center</option>
		
			<option value="11">&nbsp; &nbsp;FCdev</option>
		
			<option value="18">&nbsp; &nbsp;NESdev China</option>
		
			<option value="19">&nbsp; &nbsp;NESdev International</option>
		
			<option value="25">Other</option>
		
			<option value="5">&nbsp; &nbsp;General Stuff</option>
		
			<option value="4">&nbsp; &nbsp;Membler Industries</option>
		
			<option value="12">&nbsp; &nbsp;SNESdev</option>
		
			<option value="20">&nbsp; &nbsp;GBDev</option>
		
			<option value="23">&nbsp; &nbsp;Other Retro Dev</option>
		
			<option value="15">&nbsp; &nbsp;Test Forum</option>
		
			<option value="26">Site Issues</option>
		
			<option value="13">&nbsp; &nbsp;phpBB Issues</option>
		
			<option value="14">&nbsp; &nbsp;Web Issues</option>
		
			<option value="16">&nbsp; &nbsp;nesdevWiki</option>
		

		</select>&nbsp;<input class="btnlite" type="submit" value="Go" /></td>
	</tr>
	</table>

	</form>
</td>
</tr>
</table>


</div>

<div id="wrapfooter">
	
	<span class="copyright">Powered by <a href="http://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Group
	</span>
</div>

</body>
</html>