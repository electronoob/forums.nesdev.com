<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - NESEmDev - Russian</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">NESEmDev - Russian</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=19&amp;t=4659">http://forums.nesdev.com/viewtopic.php?f=19&amp;t=4659</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>3</strong> of <strong>4</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Shiru</b> [ Tue Sep 17, 2013 9:47 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NESEmDev - Russian</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Если графика тайлов в игре лежит в ПЗУ графики, то её формат жёстко определён самим железом и потому одинаков во всех играх. То есть изменить графику тайлов в этом случае легко, есть множество соответствующих редакторов. Однако, место хранения и формат палитр, метатайлов и карт уровня не определён ничем и в каждой игре разный, такой, какой посчитали нужным использовать разработчики. В этом случае могут помочь редакторы ресурсов конкретных игр, типа упомянутого выше CAD Editor. Но такие редакторы есть далеко не для всех игр.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Ti_</b> [ Tue Sep 17, 2013 1:46 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NESEmDev - Russian</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">08--n7r6-7984 wrote:</div><div class="quotecontent">Еще интересен вот какой момент - как это дело можно потестировать? Возможен ли такой вариант - взять похожую игру и поменять в ней графику? Например Jackal - схожая механика, размер метаспрайтов 16х24, протагонист в такой габарит вполне влезет. Насколько мне известно есть специальные патчеры, которые используют для переводов игр, заодно и получу наглядный пример подготовки графики для игры.</div><br />Ну, во-первых 'метаспрайты' любого(разного) размера могут быть. Это только фон строится из мета-тайлов одинакового размера (16x16 или 32x32).<br /><br />А насчет Jackal, добавив к тому что Shiru написал, там  ещё и графика то как-раз не в ПЗУ(chr-rom) лежит, а просто в роме (prg-rom) - там где код и данные и т.д.; а значит наверняка ещё и сжата. Так что менять её удобно не будет.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>08--n7r6-7984</b> [ Fri Sep 20, 2013 2:23 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NESEmDev - Russian</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Shiru wrote:</div><div class="quotecontent">Если графика тайлов в игре лежит в ПЗУ графики, то её формат жёстко определён самим железом и потому одинаков во всех играх. То есть изменить графику тайлов в этом случае легко, есть множество соответствующих редакторов. Однако, место хранения и формат палитр, метатайлов и карт уровня не определён ничем и в каждой игре разный, такой, какой посчитали нужным использовать разработчики. В этом случае могут помочь редакторы ресурсов конкретных игр, типа упомянутого выше CAD Editor. Но такие редакторы есть далеко не для всех игр.</div><br /><br />Понятно. Ладно, значит соберу все временно в гейммейкер, а там что-нибудь придумаю.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">В этом случае могут помочь редакторы ресурсов конкретных игр, типа упомянутого выше CAD Editor. Но такие редакторы есть далеко не для всех игр.</div><br />Интересный редактор, многое прояснилось. Что касается метаспрайтов, то нашел в топике на emu-land редактор Capcom Sprite Assembler, надеюсь он поможет понять, как готовить спрайты.<br /><br /><div class="quotetitle">Ti_ wrote:</div><div class="quotecontent">Ну, во-первых 'метаспрайты' любого(разного) размера могут быть. Это только фон строится из мета-тайлов одинакового размера (16x16 или 32x32).</div><br /><br />Разного, но не больше 8x8 (или 8x16)? И могут ли они использовать разные цвета? <br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">А насчет Jackal, добавив к тому что Shiru написал, там  ещё и графика то как-раз не в ПЗУ(chr-rom) лежит, а просто в роме (prg-rom) - там где код и данные и т.д.; а значит наверняка ещё и сжата. Так что менять её удобно не будет.</div>[/quote]<br /><br />Ясно, попробую поискать похожие редакторы, даже если там будет другая палитра.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Shiru</b> [ Fri Sep 20, 2013 2:29 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NESEmDev - Russian</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Один произвольно взятый метаспрайт состоит из N апппаратных спрайтов, которые имеют размер 8x8 или 8x16. Эти аппаратные спрайты могут иметь разные смещения относительно центра координат метаспрайта (не обязательно кратно 8, как для тайлов), разные флаги поворота, разные палитры. Они могут частично накладываться друг на друга. Так как NES позволяет использовать только три цвета на спрайт, многие игры использовали несколько наложенных друг на друга спрайтов, чтобы сделать главного героя более цветным. Например, Mega Man - пять цветов, потому что лицо сделано спрайтом с другой палитрой.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>08--n7r6-7984</b> [ Fri Sep 20, 2013 2:47 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NESEmDev - Russian</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Shiru wrote:</div><div class="quotecontent">Один произвольно взятый метаспрайт состоит из N апппаратных спрайтов, которые имеют размер 8x8 или 8x16. Эти аппаратные спрайты могут иметь разные смещения относительно центра координат метаспрайта (не обязательно кратно 8, как для тайлов), разные флаги поворота, разные палитры. Они могут частично накладываться друг на друга. Так как NES позволяет использовать только три цвета на спрайт, многие игры использовали несколько наложенных друг на друга спрайтов, чтобы сделать главного героя более цветным. Например, Mega Man - пять цветов, потому что лицо сделано спрайтом с другой палитрой.</div><br /><br />Отлично! Значит проблему с читаемостью персонажа будет решить проще, осталось найти подходящие цвета и определиться как спрайты будут распологаться относительно друг друга. Спасибо еще раз за ответы!

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>08--n7r6-7984</b> [ Mon Sep 23, 2013 5:18 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NESEmDev - Russian</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Еще вопрос - могу ли я использовать для спрайтов <a href="http://forums.nesdev.com/viewtopic.php?t=8121" class="postlink">другую системную палитру</a>? Для тайлов я сейчас использую <em>&quot;NTSC Palette with both Blue and Green Emphasized&quot;</em>, в ней нет белого и поэтому все смотрится тускловато - но для тайлов это ок, тем проще будет акцентировать внимание игрока на игровых объектах. <br /><br />Ну и если интересно, закончил основные анимации персонажа:<br /><br /><img src="http://ic.pics.livejournal.com/winged_doom/29736914/24311/24311_100.gif" alt="Image" /><br /><img src="http://ic.pics.livejournal.com/winged_doom/29736914/24521/24521_100.gif" alt="Image" /><br /><br />Осталось вытянуть читаемость и поправить пару косячных кадров во время движения по диагонали.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Shiru</b> [ Mon Sep 23, 2013 6:25 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NESEmDev - Russian</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />У NES всего одна единственная неизменная палитра из 54 цветов, общая для фона и спрайтов. Ввиду того, что цвет в PPU реализован непосредственной генерацией сигнала в NTSC/PAL (если посмотреть на биты цветов, можно увидеть, что младшие 4 управляют оттенком, а следующие 2 яркостью), т.е. в системе нет RGB в принципе, а также аналоговости сигнала и телевизоров, мы никак не можем получить 'правильную' палитру. Точнее, используя реверс-инжиниринг PPU мы знаем, какая палитра математически правильна для такой схемы, но за отсутствием в природе идеального телевизора мы эту самую идеальную палитру никогда в жизни не видели, а видели какую-то условную, присущую конкретно связке отдельно взятых приставки и телевизора. Поэтому во всех эмуляторах палитра отличается, и вообще пользователи наплодили тысячу с лишним её вариантов. Но это касается исключительно эмуляторов. Всё, что касается софта - мы можем более-менее уверенно рассчитывать на уровни яркости, а касательно оттенка цвета остаётся только надеяться, что он будет примерно таким, каким мы его видим. У нас нет никакого контроля над тем, что увидит вместо выбранного оттенка пользователь на его приставке и телевизоре (или эмуляторе). По техническим причинам палитре NES есть чистый белый и чёрный, четыре серых, много синих и зелёных оттенков, но мало красных и жёлтых (вообще нет чистого красного и жёлтого).<br /><br />Есть один способ немного изменить эту самую неизменную палитру - биты усиления цветовых составляющих. Но они изменяют всю палитру целиком, придавая цветам определённый оттенок, например, зеленоватый. Использование этой фишки можно наблюдать в играх Eurocom (James Bond Jr., Jungle Book) или в Felix The Cat - такая своеобразная выцветшая палитра, напоминающая Commodore 64. Однако, лучше эти биты не трогать, потому что на клонах они работают как повезёт (см. видео Кинамана, он не раз упоминал про эти проблемы), а на RGB PPU не работают вообще.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>08--n7r6-7984</b> [ Mon Sep 23, 2013 11:49 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NESEmDev - Russian</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Shiru wrote:</div><div class="quotecontent">У NES всего одна единственная неизменная палитра из 54 цветов, общая для фона и спрайтов. Ввиду того, что цвет в PPU реализован непосредственной генерацией сигнала в NTSC/PAL (если посмотреть на биты цветов, можно увидеть, что младшие 4 управляют оттенком, а следующие 2 яркостью), т.е. в системе нет RGB в принципе, а также аналоговости сигнала и телевизоров, мы никак не можем получить 'правильную' палитру. Точнее, используя реверс-инжиниринг PPU мы знаем, какая палитра математически правильна для такой схемы, но за отсутствием в природе идеального телевизора мы эту самую идеальную палитру никогда в жизни не видели, а видели какую-то условную, присущую конкретно связке отдельно взятых приставки и телевизора. Поэтому во всех эмуляторах палитра отличается, и вообще пользователи наплодили тысячу с лишним её вариантов. Но это касается исключительно эмуляторов. Всё, что касается софта - мы можем более-менее уверенно рассчитывать на уровни яркости, а касательно оттенка цвета остаётся только надеяться, что он будет примерно таким, каким мы его видим. У нас нет никакого контроля над тем, что увидит вместо выбранного оттенка пользователь на его приставке и телевизоре (или эмуляторе). По техническим причинам палитре NES есть чистый белый и чёрный, четыре серых, много синих и зелёных оттенков, но мало красных и жёлтых (вообще нет чистого красного и жёлтого).<br /><br />Есть один способ немного изменить эту самую неизменную палитру - биты усиления цветовых составляющих. Но они изменяют всю палитру целиком, придавая цветам определённый оттенок, например, зеленоватый. Использование этой фишки можно наблюдать в играх Eurocom (James Bond Jr., Jungle Book) или в Felix The Cat - такая своеобразная выцветшая палитра, напоминающая Commodore 64. Однако, лучше эти биты не трогать, потому что на клонах они работают как повезёт (см. видео Кинамана, он не раз упоминал про эти проблемы), а на RGB PPU не работают вообще.</div><br /><br />Понятно. Ладно, тогда просто продолжу рисовать, сейчас на эту тему нет смысла голову ломать. А каким способом можно/лучше тестировать это во время разработки? Записывать на картридж с usb разъемом или может эмуляторы генерации сигнала в NTSC/PAL?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Shiru</b> [ Tue Sep 24, 2013 6:10 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NESEmDev - Russian</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Любым удобным способом. Ни тесты на железе, ни на эмуляторах видеосигнала, ничего особенного в плане выбора оттенков цвета не дадут, разве что позволят учесть искажения, свойственные PAL/NTSC (в том числе dot crawling). Надо просто рисовать, учитывая, что такой-то цвет условно-красный, такой условно-синий, и проверять, как оно смотрится в нескольких разных палитрах, чтобы было более-менее нормально. Больше ничего с этим сделать нельзя.<br /><br />При тестировании же кода однозначно удобнее тестировать и отлаживать в эмуляторах. Тесты на железе нужны только потому, что эмуляторы всё ещё не идеальны. При тестировании на Flash-картриджах надо учитывать, что игра запускается не точно так же, как запускалась бы на реальном картридже, т.к. для вывода меню софт Flash-картриджа инициализирует PPU (по крайней мере, так в Power Pak).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>08--n7r6-7984</b> [ Tue Sep 24, 2013 8:14 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NESEmDev - Russian</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Ок, всё понял, еще раз большое спасибо за подробные ответы =)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>nya</b> [ Mon Jan 20, 2014 5:41 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re:</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Shiru wrote:</div><div class="quotecontent">Самые популярные сейчас - CA65 (из пакета <a href="http://www.cc65.org/" class="postlink">CC65</a>) и <a href="http://www.romhacking.net/utilities/674/" class="postlink">ASM6</a>. До сих пор сохраняет популярность <a href="http://www.nespowerpak.com/nesasm/NESASM3.zip" class="postlink">NESASM</a>, но он сильно устарел и не рекомендуется к использованию.</div><br /><br />Что с NESASM не так, почему он устарел и не рекомендуется к использованию? Мне кажется он очень удобный, пользуюсь версией <strong>3.1</strong>.<br />Там есть какието баги?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>org</b> [ Tue Jan 28, 2014 3:10 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NESEmDev - Russian</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Всего на экране может быть 256 разных на вид тайлов фона и отдельно либо <s><strong>256</strong></s> разных на вид спрайтов 8x8</div> 64 <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /> При этом не более 8 на 1 строку.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Ti_</b> [ Mon May 05, 2014 11:57 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NESEmDev - Russian</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />...

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Ti_</b> [ Sat Jun 28, 2014 6:38 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NESEmDev - Russian</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><!-- m --><a class="postlink" href="http://www.youtube.com/watch?v=JS3hsgpbSpw">http://www.youtube.com/watch?v=JS3hsgpbSpw</a><!-- m -->

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Kasumi</b> [ Sat Jun 28, 2014 11:55 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: NESEmDev - Russian</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />So, I don't speak Russian, but since there hasn't been a response to it in a while I want to say I enjoy seeing these DuneEmperor updates, Ti_.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>3</strong> of <strong>4</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>