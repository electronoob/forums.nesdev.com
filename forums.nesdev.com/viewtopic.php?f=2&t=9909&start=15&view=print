<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - FDS Writing extension for TapeDump</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">FDS Writing extension for TapeDump</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=2&amp;t=9909">http://forums.nesdev.com/viewtopic.php?f=2&amp;t=9909</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>2</strong> of <strong>3</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>ccovell</b> [ Thu May 02, 2013 5:31 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: FDS Writing extension for TapeDump</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Tomy: For reading cartridges &amp; FDS disks to your PC, you only need to record the FC's audio output.  (Read the instructions on-line.)<br /><br />For writing FDS disks, I've programmed 2 ways: KCS needs no soldering at all: just hook up your PC's sound output to the Famicom's microphone; a direct electrical connection is probably better.  PAR uses the DTVtrans cable (you'll need soldering/cable construction) and is much faster and more reliable, of course.  <br /><br />I haven't written any in-depth instructions yet because I wanted to know if NESDevers could get it working reliably.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MottZilla</b> [ Sun May 05, 2013 11:17 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: FDS Writing extension for TapeDump</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I think it's pretty cool but I don't own a Famicom or Famicom Disk System. If I did I'd be interested.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>ccovell</b> [ Wed Jun 19, 2013 8:16 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: FDS Writing extension for TapeDump</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Okay, so has <em>anybody</em> tested out either method of disk writing from my program?  I'm going to change the wiring diagram a bit for the PARport writing, just due to conflicts with other Famicom expansion hardware like external controllers.  I'll also make a suggested wiring diagram for NES units (as I don't have an NES myself...)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Pokun</b> [ Thu Jun 20, 2013 11:17 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: FDS Writing extension for TapeDump</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I have an AV modded red&amp;white Famicom and a Disk System with the original 7201 board (so no write protection). But I have no way to run custom code on it (except for Family Basic). I'm planning to get an everdrive sometime soon though. <s>I don&#39;t have Wrecking Crew but</s> I have Family Basic, Mach Rider and Lode Runner. <strong>Edit:</strong> I now have Wrecking Crew as well.<br /><br />Maybe you should try advertise this on Famicom World forum (great mods and members there!) or some place with many Famicom owners. Even on Famicom World there aren't that many Disk System owners, but probably more than here.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>ccovell</b> [ Thu Jun 20, 2013 5:32 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: FDS Writing extension for TapeDump</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I'll post on other boards only when this program is up and running at/near completion.  For now, it's a definite work-in-progress.  Family Basic might be a way to get code running on the Famicom, but does it support USR or EXEC commands to jump to machine code programs?  (Or at least POKE &amp; PEEK?)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Fri Jun 21, 2013 12:47 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: FDS Writing extension for TapeDump</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Ok now that I have free time again (whew) I'd definitely want to try TapeDump and this FDS writing extension.<br /><br />However apparently, there is at least one of 2 possible inputs that are necessary :<br />1) Extension controller input<br />2) Microphone intput on controller #2<br /><br />Both requires the original Famicom and are not available on the AV Famicom I own. It's too bad becuase I bought an AV model because I was told that controller cords were too short on the original...<br /><br />So looks like as a first step I'd have to start bidding on an original Famicom. Thankfully they are common and cheap. If I get one, I'll own all the 4 major models of the NES console (Famicom, Frontloader NES, AV Famicom, Toploader NES) which is a nice thing to own for a long time NES-dever  <img src="./images/smilies/Mfr_icon_homebrew.png" alt=":beer:" title="Beer" />  <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>ccovell</b> [ Fri Jun 21, 2013 3:01 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: FDS Writing extension for TapeDump</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">Both requires the original Famicom and are not available on the AV Famicom <strong>I own</strong>.</div><br /><br />Hmm... did you do some untoward hacking to your AV Famicom?  It does have the Expansion connector just like most other Famicom models.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>mikejmoffitt</b> [ Fri Jun 21, 2013 10:42 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: FDS Writing extension for TapeDump</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">Ok now that I have free time again (whew) I'd definitely want to try TapeDump and this FDS writing extension.<br /><br />However apparently, there is at least one of 2 possible inputs that are necessary :<br />1) Extension controller input<br />2) Microphone intput on controller #2<br /><br />Both requires the original Famicom and are not available on the AV Famicom I own. It's too bad becuase I bought an AV model because I was told that controller cords were too short on the original...<br /><br />So looks like as a first step I'd have to start bidding on an original Famicom. Thankfully they are common and cheap. If I get one, I'll own all the 4 major models of the NES console (Famicom, Frontloader NES, AV Famicom, Toploader NES) which is a nice thing to own for a long time NES-dever  <img src="./images/smilies/Mfr_icon_homebrew.png" alt=":beer:" title="Beer" />  <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /></div><br /><br />The Famicom has short cords because it is from the era of the console being far from the TV with long wires, while the console is very near the player. The SFC continued this in Japan, while the NES started the long-controller-cords trend in the US for Nintendo.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Fri Jun 21, 2013 2:05 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: FDS Writing extension for TapeDump</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">It does have the Expansion connector just like most other Famicom models.</div><br />Yeah, you're right. I missed it because it is well hidden  <img src="./images/smilies/icon_mrgreen.gif" alt=":mrgreen:" title="Mr. Green" /> <br /><br />So I'll have to give a try to this parallel port solution, but I know the failure probability is very high but it doesn't cost much to try.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">The Famicom has short cords because it is from the era of the console being far from the TV with long wires, while the console is very near the player. </div><br />Sounds very impractical to me. You don't want a console to be there in the middle of the room permanently, nor you want the A/V and power supply cords to be in the way. Also it does not sound very practical to fold and unfold the console every single time you want to use it.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Pokun</b> [ Fri Jul 19, 2013 12:35 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: FDS Writing extension for TapeDump</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">ccovell wrote:</div><div class="quotecontent">I'll post on other boards only when this program is up and running at/near completion.  For now, it's a definite work-in-progress.  Family Basic might be a way to get code running on the Famicom, but does it support USR or EXEC commands to jump to machine code programs?  (Or at least POKE &amp; PEEK?)</div><br />Yes it's not called USR but there's the CALL command which you can use to call 6502 subroutines and you can POKE and PEEK any address as far as I know. I'm planning to get an Everdrive sometime soon though. I just came back from a trip to Japan and I picked up Wrecking Crew there.<br /><br /><div class="quotetitle">mikejmoffitt wrote:</div><div class="quotecontent"><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">Ok now that I have free time again (whew) I'd definitely want to try TapeDump and this FDS writing extension.<br /><br />However apparently, there is at least one of 2 possible inputs that are necessary :<br />1) Extension controller input<br />2) Microphone intput on controller #2<br /><br />Both requires the original Famicom and are not available on the AV Famicom I own. It's too bad becuase I bought an AV model because I was told that controller cords were too short on the original...<br /><br />So looks like as a first step I'd have to start bidding on an original Famicom. Thankfully they are common and cheap. If I get one, I'll own all the 4 major models of the NES console (Famicom, Frontloader NES, AV Famicom, Toploader NES) which is a nice thing to own for a long time NES-dever  <img src="./images/smilies/Mfr_icon_homebrew.png" alt=":beer:" title="Beer" />  <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /></div><br /><br />The Famicom has short cords because it is from the era of the console being far from the TV with long wires, while the console is very near the player. The SFC continued this in Japan, while the NES started the long-controller-cords trend in the US for Nintendo.</div><br />The lack of the microphone on the AV Famicom is exactly the reason I prefer the Red &amp; White Famicom. The only problem with it is that you might need to AV mod it, and the fact that it might not be possible to use Controller II START or SELECT (which is required in non-Japanese Battletoads and R.C. Pro Am II). I never understood why short controller cords are a problem though. If you don't want to sit so close to the TV, just extend the video/power cables. Sitting close to the Famicom is not a problem, actually it just makes it easier to reach the reset button or to change games. And if you have an FDS it's easy to change disk sides.<br /><br />Consoles before the Famicom usually had two joysticks with extremely short hard-wired cables or even the buttons on the console itself so the Famicom kind of continued with that trend. I think the NES and SNES got long controller cords because (adult) westerners tend to want to sit in the sofa while the Japanese have no problem sitting on the floor.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>mikejmoffitt</b> [ Fri Jul 19, 2013 3:23 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: FDS Writing extension for TapeDump</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />They wanted the NES to feel more like part of your entertainment setup, right alongside the VCR, which by then was using simple remote controls. In order to fit in, it had to work at this distance, hence the long cords.<br /><br />The Famicom, and most consoles before it, featured long power and RF cables, and the console would (as you mentioned) sit near the players. I often hear people complaining about this feature of the Famicom, and while it's a little annoying when today we expect long cables, it doesn't deserve the criticism from a design perspective as it made sense back then.<br /><br />The Super Famicom continued this trend though, which is pretty annoying. Fortunately, swapping PCBs / Cables with an American controller is easy. <br /><br /><span style="font-size: 50%; line-height: normal">I feel obliged to pitch in whenever this topic comes up</span><br /><br /><s>brain fart, I already said everything I just said a few posts up. Moving along...</s><br />Double brain fart, I'll leave it since it clarifies the difference<br /><br />For anyone doing testing, I have an extremely ugly but very well-working Famicom. It's AV modded, and the microphone does work, though the cable is a little worn so sometimes moving the player 2 controller around a bit makes clicking noises. I'm going to see if this will be an easy fix or not. I'd let it go for less than the running price of a Famicom in its condition, so if anyone wants it for research I'd be happy to let it go cheap (I have a few consoles right now).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>ccovell</b> [ Sat Jul 20, 2013 6:40 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: FDS Writing extension for TapeDump</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />If anybody has an old-model Famicom (not AV or Twin, etc.) <strong>as well as a waveform generator</strong>, could they test the Mic's cutoff frequency (by attaching 2 wires from the generator to the mic's pins?<br /><br />(You can use either the TapeDump with KCS input and watch the KCS timing numbers at the bottom, or use the waveform test ROM here: <!-- m --><a class="postlink" href="http://www.chrismcovell.com/data/Waveform_Check.zip">http://www.chrismcovell.com/data/Waveform_Check.zip</a><!-- m --> and increase the frequency of a square wave at various voltages until the square wave breaks up (or the KCS timing readout becomes &quot;unstable&quot;.))<br /><br />I did testing on my 2 Famicom units (Twin Fami and Fami Titler) and the frequency responses of each are vastly different.  I also discovered that the frequency response of the mic itself and the capacitor inside of the controller have very little impact on waveform detection, rather, there is strong lowpass filtering on the mic line which is internal to the Famicom, and can be bypassed with a wire bridge.<br /><br />This is all part of my experiments with getting higher audio transfer speeds out of the Famicom for KCS uploading.  With a bypassed Twin Famicom, 5200 bps is quite reliable:<br /><img src="http://www.chrismcovell.com/images/FamiMicCutoff.gif" alt="Image" /><br /><br />As you can see from the chart, the unmodified Twin Famicom can barely receive 1200 bps, unless you use an amplifier to boost the waveform above ~2 volts.  (The average output from a PC line-out is 0.8-1.5v, according to various webpages on the subject.)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MatthewCallis</b> [ Mon Aug 12, 2013 3:42 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: FDS Writing extension for TapeDump</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />This is getting a fair amount of testing over here: <!-- m --><a class="postlink" href="http://bakutendo.blog87.fc2.com/blog-entry-268.html">http://bakutendo.blog87.fc2.com/blog-entry-268.html</a><!-- m -->

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>deadbody</b> [ Mon Nov 11, 2013 9:06 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: FDS Writing extension for TapeDump</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I had a few problems in the beginning, writing FDS disks with this.  The problem is a resistor labelled R8 of the value 10k inside the Famicom (Red/White shell, the original).  The board is HVC-CPU-GPM-02.  Replace it with a wire (no resistance) and TapeDump will be writing disks in no time.  I also added an RCA jack to my controller, to keep from having a permanent wire attached to it.  Possibly if I ever wanted to use the mic again, I could plug a professional mic in...

		
			<br clear="all" /><br />

			<table class="tablebg" width="100%" cellspacing="1">
			<tr>
				<td><b class="genmed">Attachments: </b></td>
			</tr>
			
				<tr>
					<td>
			<a href="./download/file.php?id=938&amp;mode=view"><img src="./download/file.php?id=938&amp;t=1" alt="2013-11-11 16.56.19.jpg" /></a><br />
			<span class="gensmall">2013-11-11 16.56.19.jpg [ 1.79 MiB | Viewed 766 times ]</span>
		

		<br />
	</td>
				</tr>
			
			</table>
		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>ccovell</b> [ Tue Nov 12, 2013 9:25 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: FDS Writing extension for TapeDump</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />That resistor R8 was cutting out the higher frequencies from the microphone line, right?  It has no connection with the success of disk writing itself, it should be pointed out.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>2</strong> of <strong>3</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>