<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<link rel="icon" href="/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />

<title>nesdev.com &bull; View topic - CHR-RAM in UNROM</title>

<link rel="alternate" type="application/atom+xml" title="Feed - nesdev.com" href="http://forums.nesdev.com/feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - News" href="http://forums.nesdev.com/feed.php?mode=news" /><link rel="alternate" type="application/atom+xml" title="Feed - All forums" href="http://forums.nesdev.com/feed.php?mode=forums" /><link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="http://forums.nesdev.com/feed.php?mode=topics" /><link rel="alternate" type="application/atom+xml" title="Feed - Active Topics" href="http://forums.nesdev.com/feed.php?mode=topics_active" /><link rel="alternate" type="application/atom+xml" title="Feed - Forum - NESdev" href="http://forums.nesdev.com/feed.php?f=2" /><link rel="alternate" type="application/atom+xml" title="Feed - Topic - CHR-RAM in UNROM" href="http://forums.nesdev.com/feed.php?f=2&amp;t=16580" />

<link rel="stylesheet" href="./style.php?id=1&amp;lang=en" type="text/css" />

<script type="text/javascript">
// <![CDATA[


function popup(url, width, height, name)
{
	if (!name)
	{
		name = '_popup';
	}

	window.open(url.replace(/&amp;/g, '&'), name, 'height=' + height + ',resizable=yes,scrollbars=yes,width=' + width);
	return false;
}

function jumpto()
{
	var page = prompt('Enter the page number you wish to go to:', '1');
	var per_page = '';
	var base_url = '';

	if (page !== null && !isNaN(page) && page == Math.floor(page) && page > 0)
	{
		if (base_url.indexOf('?') == -1)
		{
			document.location.href = base_url + '?start=' + ((page - 1) * per_page);
		}
		else
		{
			document.location.href = base_url.replace(/&amp;/g, '&') + '&start=' + ((page - 1) * per_page);
		}
	}
}

/**
* Find a member
*/
function find_username(url)
{
	popup(url, 760, 570, '_usersearch');
	return false;
}

/**
* Mark/unmark checklist
* id = ID of parent container, name = name prefix, state = state [true/false]
*/
function marklist(id, name, state)
{
	var parent = document.getElementById(id);
	if (!parent)
	{
		eval('parent = document.' + id);
	}

	if (!parent)
	{
		return;
	}

	var rb = parent.getElementsByTagName('input');
	
	for (var r = 0; r < rb.length; r++)
	{
		if (rb[r].name.substr(0, name.length) == name)
		{
			rb[r].checked = state;
		}
	}
}



	/**
	* Play quicktime file by determining it's width/height
	* from the displayed rectangle area
	*
	* Only defined if there is a file block present.
	*/
	function play_qt_file(obj)
	{
		var rectangle = obj.GetRectangle();

		if (rectangle)
		{
			rectangle = rectangle.split(',')
			var x1 = parseInt(rectangle[0]);
			var x2 = parseInt(rectangle[2]);
			var y1 = parseInt(rectangle[1]);
			var y2 = parseInt(rectangle[3]);

			var width = (x1 < 0) ? (x1 * -1) + x2 : x2 - x1;
			var height = (y1 < 0) ? (y1 * -1) + y2 : y2 - y1;
		}
		else
		{
			var width = 200;
			var height = 0;
		}

		obj.width = width;
		obj.height = height + 16;

		obj.SetControllerVisible(true);

		obj.Play();
	}


// ]]>
</script>
</head>
<body class="ltr">

<a name="top"></a>

<div id="wrapheader">

	<div id="logodesc">
	</div>

	<div id="menubar">

		<table width="100%" cellspacing="0">
		<tr>
			<td rowspan="2"><a href="./index.php"><img src="./styles/subsilver2/imageset/site_logo.gif" alt="" title="" /></a></td>
			<td width="100%" align="center"><h1>nesdev.com</h1><span class="gen">NES Development and Strangulation Records message boards</span></td>
		</tr>
		<tr>
			<td align="center">
				<!--<div style="float: right;">
					<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
					<input type="hidden" name="cmd" value="_s-xclick">
					<input type="hidden" name="hosted_button_id" value="X2HM4WNR5YT8S">
					<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
					<img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
					</form>
				</div>-->
				<a href="./faq.php"><img src="./styles/prosilver/theme/images/icon_mini_faq.gif" width="12" height="13" alt="*" /> FAQ</a>
				&nbsp; &nbsp;<a href="./search.php"><img src="./styles/prosilver/theme/images/icon_mini_search.gif" width="12" height="13" alt="*" /> Search</a>
				<br />	
				 &nbsp;<a href="./ucp.php?mode=minion"><img src="./styles/prosilver/theme/images/icon_mini_register.gif" width="12" height="13" alt="*" /> Register</a>
					&nbsp; &nbsp;<a href="./ucp.php?mode=login"><img src="./styles/prosilver/theme/images/icon_mini_login.gif" width="12" height="13" alt="*" /> Login</a>&nbsp;
			</td>
		</tr>
		</table>
	</div>

	<div id="datebar">
		<table width="100%" cellspacing="0">
		<tr>
			<td class="gensmall"></td>
			<td class="gensmall" align="right">It is currently Fri Aug 17, 2018 12:47 am<br /></td>
		</tr>
		</table>
	</div>

</div>

<div id="wrapcentre">

	
	<p class="searchbar">
		<span style="float: left;"><a href="./search.php?search_id=unanswered">View unanswered posts</a> | <a href="./search.php?search_id=active_topics">View active topics</a></span>
		
	</p>
	

	<br style="clear: both;" />

	<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=24">NES / Famicom</a> &#187; <a href="./viewforum.php?f=2">NESdev</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>

	<br />
	

					<center>
					<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- NesDev Forums -->
					<ins class="adsbygoogle"
						 style="display:block"
						 data-ad-client="ca-pub-7801010229099644"
						 data-ad-slot="7979066809"
						 data-ad-format="auto"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>
					</center>
	<br />


<div id="pageheader">
	<h2><a class="titles" href="./viewtopic.php?f=2&amp;t=16580">CHR-RAM in UNROM</a></h2>


	<p class="moderators">Moderator: <a href="./memberlist.php?mode=group&amp;g=320">Moderators</a></p>

</div>

<br clear="all" /><br />

<div id="pagecontent">

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=2"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=2&amp;t=16580"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>1</strong> of <strong>1</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 9 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"></td>
		
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat">
			<table width="100%" cellspacing="0">
			<tr>
				<td class="nav" nowrap="nowrap">&nbsp;
				<a href="./viewtopic.php?f=2&amp;t=16580&amp;view=print" title="Print view">Print view</a>
				</td>
				<td class="nav" align="right" nowrap="nowrap"><a href="./viewtopic.php?f=2&amp;t=16580&amp;view=previous">Previous topic</a> | <a href="./viewtopic.php?f=2&amp;t=16580&amp;view=next">Next topic</a>&nbsp;</td>
			</tr>
			</table>
		</td>
	</tr>

	</table>


	<table class="tablebg" width="100%" cellspacing="1">
	
		<tr>
			<th>Author</th>
			<th>Message</th>
		</tr>
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p205954"></a>
				<b class="postauthor">Diskover</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p205954">CHR-RAM in UNROM</a></div><div style="float: right;"><a href="./viewtopic.php?p=205954#p205954"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sun Oct 15, 2017 2:37 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Thu Nov 24, 2011 7:16 am<br /><b>Posts:</b> 205
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I'm doing tests at UNROM.<br /><br />Compile with CC65.<br /><br />I want to update a tile (for example, 0x00) of CHR 'on the fly' without turning the screen off.<br /><br />How can I access the CHR-RAM to tell it to replace the 0x00 tile with another?<br />How can I access the CHR-RAM to tell it to move the graph to the left, right, up or down the tile 0x00?</div>

					
						<div class="postbody"><br />_________________<br />Projects:<br /><a href="http://forums.nesdev.com/viewtopic.php?f=22&amp;t=17286" class="postlink">Shadow of the Beast (port)</a><br /><a href="http://forums.nesdev.com/viewtopic.php?f=22&amp;t=16552" class="postlink">The Sword of Ianna</a><br /><a href="http://forums.nesdev.com/viewtopic.php?f=22&amp;t=15296" class="postlink">The Banketh - The Video Game</a><br /><br />My website: <a href="http://www.retrones.net" class="postlink">RetroNES</a></div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=5104"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p205957"></a>
				<b class="postauthor">rainwarrior</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p205957">Re: CHR-RAM in UNROM</a></div><div style="float: right;"><a href="./viewtopic.php?p=205957#p205957"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sun Oct 15, 2017 4:14 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=5165_1471663472.jpg" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Jan 22, 2012 12:03 pm<br /><b>Posts:</b> 6592<br /><b>Location:</b> Canada
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I don't know what you mean by &quot;move the graph&quot;, but <a href="https://wiki.nesdev.com/w/index.php/PPU_pattern_tables" class="postlink">each tile is 16 bytes</a> (8 x 8 bits x 2 planes), so the PPU address of any given tile is just 16x its index.<br /><br />E.g. tile $53 begins at $0530 or $1530, depending on <a href="https://wiki.nesdev.com/w/index.php/PPU_memory_map" class="postlink">which CHR page</a> you're using.<br /><br />So, to write a new tile, just set the address with <a href="https://wiki.nesdev.com/w/index.php/PPU_registers#PPUADDR" class="postlink">two writes to $2006</a>, and then write the 16 bytes to <a href="https://wiki.nesdev.com/w/index.php/PPU_registers#PPUDATA" class="postlink">$2007</a>.<br /><br />To do it without turning rendering off, you simply need to do this during vblank (probably in your NMI handler), just like you would for nametable updates.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=5165"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p205988"></a>
				<b class="postauthor">tokumaru</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p205988">Re: CHR-RAM in UNROM</a></div><div style="float: right;"><a href="./viewtopic.php?p=205988#p205988"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sun Oct 15, 2017 12:47 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=95.png" width="80" height="80" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sat Feb 12, 2005 9:43 pm<br /><b>Posts:</b> 10714<br /><b>Location:</b> Rio de Janeiro - Brazil
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Do note that &quot;updating tiles on the fly without turning the screen off&quot; is a pretty slow processes, specially if you're not unrolling loops, so don't expect to be able to change a lot of tiles per frame. If you use the vblank interval exclusively for updating tiles (no pallette, NT, AT or sprite updates at all), you'll be able to update around 16 tiles at best.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=95"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p205993"></a>
				<b class="postauthor">na_th_an</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p205993">Re: CHR-RAM in UNROM</a></div><div style="float: right;"><a href="./viewtopic.php?p=205993#p205993"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sun Oct 15, 2017 1:13 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon May 27, 2013 9:40 am<br /><b>Posts:</b> 478
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">If you are using neslib to do the updates you may use the common method you use to update the nametables, this is, the set_vram_update function and the update list array. Just be sure to use the NT_UPD_HORZ switch alongside the MSB and add the 16 bytes to be updated afterwards, something like this:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">// Before your main loop<br />set_vram_update (update_list);<br /><br />&#91;...&#93;<br /><br />// Calculate the address<br />gp_addr = pattern_number &lt;&lt; 4; // Add 0x1000 for the second pattern table<br /><br />// the ul pointer points to the current position in the update_list<br />*ul ++ = MSB (gp_addr) | NT_UPD_HORZ<br />*ul ++ = LSB (gp_addr);<br />*ul ++ = byte0;<br />...<br />*ul ++ = byte15;<br /><br />// During the next VBLANK the bytes will be sent to VRAM<br />*ul = NT_UPD_EOF;<br />ppu_wait_update ();<br /><br />&#91;...&#93;<br /><br /></div><br /><br />I have never done this but I understand it should work. Note that, as mentioned, you will be able to update just a few patterns using this method (it could be as few as just a couple or three patterns!). It's better to add custom code to your NMI routine to handle this.</div>

					
						<div class="postbody"><br />_________________<br /><!-- m --><a class="postlink" href="http://www.mojontwins.com">http://www.mojontwins.com</a><!-- m --></div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=6012"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p206120"></a>
				<b class="postauthor">Diskover</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p206120">Re: CHR-RAM in UNROM</a></div><div style="float: right;"><a href="./viewtopic.php?p=206120#p206120"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Oct 17, 2017 1:15 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Thu Nov 24, 2011 7:16 am<br /><b>Posts:</b> 205
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">No, what I'm talking about is being able to change the tiles of CHR-RAM.<br /><br />Modifying VRAM I have already been able to do something, but what I need is to change tiles in the CHR-RAM to be able to get animated effects.</div>

					
						<div class="postbody"><br />_________________<br />Projects:<br /><a href="http://forums.nesdev.com/viewtopic.php?f=22&amp;t=17286" class="postlink">Shadow of the Beast (port)</a><br /><a href="http://forums.nesdev.com/viewtopic.php?f=22&amp;t=16552" class="postlink">The Sword of Ianna</a><br /><a href="http://forums.nesdev.com/viewtopic.php?f=22&amp;t=15296" class="postlink">The Banketh - The Video Game</a><br /><br />My website: <a href="http://www.retrones.net" class="postlink">RetroNES</a></div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=5104"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p206122"></a>
				<b class="postauthor">calima</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p206122">Re: CHR-RAM in UNROM</a></div><div style="float: right;"><a href="./viewtopic.php?p=206122#p206122"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Oct 17, 2017 1:57 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Tue Oct 06, 2015 10:16 am<br /><b>Posts:</b> 778
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">CHR-RAM is VRAM.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=7237"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p206130"></a>
				<b class="postauthor" style="color: #FF3300">tepples</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p206130">Re: CHR-RAM in UNROM</a></div><div style="float: right;"><a href="./viewtopic.php?p=206130#p206130"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Oct 17, 2017 6:16 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Sep 19, 2004 11:12 pm<br /><b>Posts:</b> 20409<br /><b>Location:</b> NE Indiana, USA (NTSC)
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">It's mostly the same deal.<br /><br /><ul><li>To write to nametables, you load an address $2000-$2FFF into PPU port $2006 and then start writing bytes through $2007. </li><li>To write to pattern tables, you load an address $0000-$1FFF into PPU port $2006 and then start writing bytes through $2007. </li></ul><br />If you're using a generic update buffer system, it should work for both, with two exceptions:<br /><br /><ul><li>If the buffer format uses bits 13 and 12 of the destination address for behavior flags instead of the destination address, it won't work.</li><li>If the buffer format uses an address $0000-$00FF for terminating (as Nintendo's does), you may not be able to replace the first 16 tiles of the first pattern table. You may, however, be able to write to $4000-$40FF, which the PPU mirrors to $0000-$00FF. </li></ul></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=9"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p206230"></a>
				<b class="postauthor">Diskover</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p206230">Re: CHR-RAM in UNROM</a></div><div style="float: right;"><a href="./viewtopic.php?p=206230#p206230"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Oct 18, 2017 2:28 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Thu Nov 24, 2011 7:16 am<br /><b>Posts:</b> 205
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I do not know if it's a language problem, but I do not understand you very much. <br /><br />For now I have managed to do this: Basically drawing on the tile, although I can not write on the tile I want, I always write in the 0x00 and sometimes it is also written in other tiles without much sense.<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">//x starts at 0<br /><br />if(joypad1 &amp; PAD_LEFT)&nbsp; &nbsp;&nbsp; &nbsp;--x;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<br />if(joypad1 &amp; PAD_RIGHT)&nbsp; &nbsp;++x;<br /><br />PPU_ADDRESS = 0x20;&nbsp; &nbsp; &nbsp; &nbsp;//Here I am writing $2000?<br /><br />&nbsp; &nbsp;&nbsp; &nbsp;if(x == 0){&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x80;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x80;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x80;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0xFF;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x80;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x80;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x80;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x80;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<br />&nbsp; &nbsp;&nbsp; &nbsp;}<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;&nbsp; &nbsp;if(x == 1){<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x40;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x40;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x40;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0xFF;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x40;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x40;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x40;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x40;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<br />&nbsp; &nbsp;&nbsp; &nbsp;}<br />&nbsp; &nbsp;&nbsp; &nbsp;<br />&nbsp; &nbsp;&nbsp; &nbsp;if(x == 2){<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x20;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x20;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x20;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0xFF;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x20;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x20;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x20;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x20;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<br />&nbsp; &nbsp;&nbsp; &nbsp;}<br />&nbsp; &nbsp;&nbsp; &nbsp;<br />&nbsp; &nbsp;&nbsp; &nbsp;if(x == 3){<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x10;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x10;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x10;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0xFF;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x10;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x10;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x10;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x10;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<br />&nbsp; &nbsp;&nbsp; &nbsp;}<br />&nbsp; &nbsp;&nbsp; &nbsp;<br />&nbsp; &nbsp;&nbsp; &nbsp;if(x == 4){<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x08;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x08;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x08;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0xFF;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x08;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x08;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x08;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x08;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<br />&nbsp; &nbsp;&nbsp; &nbsp;}<br />&nbsp; &nbsp;&nbsp; &nbsp;<br />&nbsp; &nbsp;&nbsp; &nbsp;if(x == 5){<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x04;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x04;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x04;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0xFF;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x04;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x04;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x04;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x04;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<br />&nbsp; &nbsp;&nbsp; &nbsp;}<br />&nbsp; &nbsp;&nbsp; &nbsp;<br />&nbsp; &nbsp;&nbsp; &nbsp;if(x == 6){<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x02;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x02;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x02;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0xFF;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x02;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x02;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x02;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x02;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<br />&nbsp; &nbsp;&nbsp; &nbsp;}<br />&nbsp; &nbsp;&nbsp; &nbsp;<br />&nbsp; &nbsp;&nbsp; &nbsp;if(x == 7){<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x01;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x01;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x01;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0xFF;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x01;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x01;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x01;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;PPU_DATA&nbsp; &nbsp; = 0x01;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<br />&nbsp; &nbsp;&nbsp; &nbsp;}<br />&nbsp; &nbsp;&nbsp; &nbsp;<br />&nbsp; &nbsp;&nbsp; &nbsp;if(x == 8) x = 0;<br />&nbsp; &nbsp;&nbsp; &nbsp;if(x == 255) x = 7;<br />&nbsp; &nbsp;&nbsp; &nbsp;<br />&nbsp; &nbsp;&nbsp; &nbsp;Reset_Scroll();<br /></div><br /><br />What I get is this:<br /><img src="http://oi63.tinypic.com/ok5t1t.jpg" alt="Image" /><br /><br /><br />ROM: <div class="attachtitle">Attachment:</div><div class="attachcontent">
			<span class="genmed">
				<img src="./styles/subsilver2/imageset/icon_topic_attach.gif" width="14" height="18" alt="" title="" /> 
				<a href="./download/file.php?id=10475">prueba1.nes</a> [64.02 KiB]
			</span><br />
			<span class="gensmall">Downloaded 33 times</span>
		

		<br />
	</div></div>

					
						<div class="postbody"><br />_________________<br />Projects:<br /><a href="http://forums.nesdev.com/viewtopic.php?f=22&amp;t=17286" class="postlink">Shadow of the Beast (port)</a><br /><a href="http://forums.nesdev.com/viewtopic.php?f=22&amp;t=16552" class="postlink">The Sword of Ianna</a><br /><a href="http://forums.nesdev.com/viewtopic.php?f=22&amp;t=15296" class="postlink">The Banketh - The Video Game</a><br /><br />My website: <a href="http://www.retrones.net" class="postlink">RetroNES</a></div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=5104"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p206232"></a>
				<b class="postauthor">team_disposable</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p206232">Re: CHR-RAM in UNROM</a></div><div style="float: right;"><a href="./viewtopic.php?p=206232#p206232"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Oct 18, 2017 3:08 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sat Oct 15, 2016 8:52 am<br /><b>Posts:</b> 118
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">tl;dr - Just quickly looking at your code, you only seem to be writing the first part of the address to PPU_ADDRESS - you need to write the whole 16 bit address. Secondly, presumably because it's a demo, your code has movement functions being called before the update to CHR-RAM - I would recommend you don;t do this, and call CHR-RAM updates first, at the very top, as NMI update time is limitedand if it overruns, you will get horrible graphical glitches to your tiles.<br /><br />Hi Diskover, the game you're porting looks ace! I look forward to playing it!<br /><br />I've done quite a lot of CHR-RAM updating for animations - <br /><br />First I made a lookup table of the address of the graphic I want to write in to CHR-RAM, and the address it should be written to - here's an excerpt:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">;address in rom high, address in rom low, destination address high, destination address low<br />tile_lookup:<br />.byte &lt;spike1_chr, &gt;spike1_chr, 22, 16<br />&nbsp;.byte &lt;spike2_chr, &gt;spike2_chr, 22, 16<br />&nbsp;.byte &lt;spike3_chr, &gt;spike3_chr, 22, 16<br />.byte &lt;coin1_chr, &gt;coin1_chr, 18, 16<br />.byte &lt;coin2_chr, &gt;coin2_chr, 18, 16<br />.byte &lt;coin3_chr, &gt;coin3_chr, 18, 16<br />.byte &lt;coin4_chr, &gt;coin4_chr, 18, 16<br />.byte &lt;fivecoin1_chr, &gt;fivecoin1_chr, 18, 32<br />.byte &lt;fivecoin2_chr, &gt;fivecoin2_chr, 18, 32<br />.byte &lt;fivecoin3_chr, &gt;fivecoin3_chr, 18, 32<br />.byte &lt;fivecoin4_chr, &gt;fivecoin4_chr, 18, 32</div><br /><br />Secondly, I wrote a function in assembly to load the tile when given the name as a parameter:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">_copy_tile:<br />&nbsp;tay<br />&nbsp;lda tile_lookup, y ; load the source address into a pointer in zero page<br />&nbsp;sta src<br />&nbsp;iny<br />&nbsp;lda tile_lookup,y<br />&nbsp;sta src+1<br />&nbsp;iny<br />&nbsp;lda tile_lookup,y<br />&nbsp; sta PPUADDR&nbsp; ; load the destination address into the PPU<br />&nbsp; iny<br />&nbsp; lda tile_lookup,y<br />&nbsp; sta PPUADDR<br />&nbsp; ldy #0<br />&nbsp; lda (src),y&nbsp; ; copy one byte<br />&nbsp; sta PPUDATA<br />&nbsp; iny<br />&nbsp; <br />&nbsp; lda (src),y&nbsp; ; copy one byte<br />&nbsp; sta PPUDATA<br />&nbsp; iny<br />&nbsp; <br />&nbsp; lda (src),y&nbsp; ; copy one byte<br />&nbsp; sta PPUDATA<br />&nbsp; iny<br />&nbsp; <br />&nbsp; lda (src),y&nbsp; ; copy one byte<br />&nbsp; sta PPUDATA<br />&nbsp; iny<br />&nbsp; <br />&nbsp; <br />&nbsp; lda (src),y&nbsp; ; copy one byte<br />&nbsp; sta PPUDATA<br />&nbsp; iny<br />&nbsp; &nbsp;<br />&nbsp; lda (src),y&nbsp; ; copy one byte<br />&nbsp; sta PPUDATA<br />&nbsp; iny<br />&nbsp; <br />&nbsp; lda (src),y&nbsp; ; copy one byte<br />&nbsp; sta PPUDATA<br />&nbsp; iny<br />&nbsp; <br />&nbsp; lda (src),y&nbsp; ; copy one byte<br />&nbsp; sta PPUDATA<br />&nbsp; iny<br />&nbsp; <br />&nbsp; <br />&nbsp; lda (src),y&nbsp; ; copy one byte<br />&nbsp; sta PPUDATA<br />&nbsp; iny<br />&nbsp; &nbsp;<br />&nbsp; lda (src),y&nbsp; ; copy one byte<br />&nbsp; sta PPUDATA<br />&nbsp; iny<br />&nbsp; <br />&nbsp; lda (src),y&nbsp; ; copy one byte<br />&nbsp; sta PPUDATA<br />&nbsp; iny<br />&nbsp; <br />&nbsp; lda (src),y&nbsp; ; copy one byte<br />&nbsp; sta PPUDATA<br />&nbsp; iny<br />&nbsp; <br />&nbsp; <br />&nbsp; lda (src),y&nbsp; ; copy one byte<br />&nbsp; sta PPUDATA<br />&nbsp; iny<br />&nbsp; &nbsp;<br />&nbsp; lda (src),y&nbsp; ; copy one byte<br />&nbsp; sta PPUDATA<br />&nbsp; iny<br />&nbsp; <br />&nbsp; lda (src),y&nbsp; ; copy one byte<br />&nbsp; sta PPUDATA<br />&nbsp; iny<br />&nbsp; <br />&nbsp; lda (src),y&nbsp; ; copy one byte<br />&nbsp; sta PPUDATA<br />&nbsp; iny<br />&nbsp; rts&nbsp; &nbsp;</div><br /><br />Thirdly, I then export this from the assembly, forthly I write a function header in C, and then finally call it in C like this:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">copy_tile(chr_heart1);</div><br /><br />That's it - just make sure you're calling copy_tile in the NMI.<br /><br />Hopefully this is of some help, if not let me know!</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=7875"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table width="100%" cellspacing="1" class="tablebg">
	<tr align="center">
		<td class="cat"><form name="viewtopic" method="post" action="./viewtopic.php?f=2&amp;t=16580"><span class="gensmall">Display posts from previous:</span> <select name="st" id="st"><option value="0" selected="selected">All posts</option><option value="1">1 day</option><option value="7">7 days</option><option value="14">2 weeks</option><option value="30">1 month</option><option value="90">3 months</option><option value="180">6 months</option><option value="365">1 year</option></select>&nbsp;<span class="gensmall">Sort by</span> <select name="sk" id="sk"><option value="a">Author</option><option value="t" selected="selected">Post time</option><option value="s">Subject</option></select> <select name="sd" id="sd"><option value="a" selected="selected">Ascending</option><option value="d">Descending</option></select>&nbsp;<input class="btnlite" type="submit" value="Go" name="sort" /></form></td>
	</tr>
	</table>
	

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=2"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=2&amp;t=16580"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>1</strong> of <strong>1</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 9 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"></td>
		
	</tr>
	</table>

</div>

<div id="pagefooter"></div>

<br clear="all" />
<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=24">NES / Famicom</a> &#187; <a href="./viewforum.php?f=2">NESdev</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>
	<br clear="all" />

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat"><h4>Who is online</h4></td>
	</tr>
	<tr>
		<td class="row1"><p class="gensmall">Users browsing this forum: <span style="color: #9E8DA7;" class="username-coloured">Google Adsense [Bot]</span> and 7 guests</p></td>
	</tr>
	</table>


<br clear="all" />

<table width="100%" cellspacing="1">
<tr>
	<td width="40%" valign="top" nowrap="nowrap" align="left"></td>
	<td align="right" valign="top" nowrap="nowrap"><span class="gensmall">You <strong>cannot</strong> post new topics in this forum<br />You <strong>cannot</strong> reply to topics in this forum<br />You <strong>cannot</strong> edit your posts in this forum<br />You <strong>cannot</strong> delete your posts in this forum<br />You <strong>cannot</strong> post attachments in this forum<br /></span></td>
</tr>
</table>

<br clear="all" />

<table width="100%" cellspacing="0">
<tr>
	<td><form method="get" name="search" action="./search.php"><span class="gensmall">Search for:</span> <input class="post" type="text" name="keywords" size="20" /> <input class="btnlite" type="submit" value="Go" /><input type="hidden" name="t" value="16580" />
<input type="hidden" name="sf" value="msgonly" />
</form></td>
	<td align="right">
	<form method="post" name="jumpbox" action="./viewforum.php" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	<table cellspacing="0" cellpadding="0" border="0">
	<tr>
		<td nowrap="nowrap"><span class="gensmall">Jump to:</span>&nbsp;<select name="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">

		
			<option value="-1">Select a forum</option>
		<option value="-1">------------------</option>
			<option value="24">NES / Famicom</option>
		
			<option value="2" selected="selected">&nbsp; &nbsp;NESdev</option>
		
			<option value="3">&nbsp; &nbsp;NESemdev</option>
		
			<option value="21">&nbsp; &nbsp;NES Graphics</option>
		
			<option value="6">&nbsp; &nbsp;NES Music</option>
		
			<option value="22">&nbsp; &nbsp;Homebrew Projects</option>
		
			<option value="34">&nbsp; &nbsp;&nbsp; &nbsp;2018 NESdev Competition</option>
		
			<option value="33">&nbsp; &nbsp;&nbsp; &nbsp;2017 NESdev Competition</option>
		
			<option value="32">&nbsp; &nbsp;&nbsp; &nbsp;2016 NESdev Competition</option>
		
			<option value="31">&nbsp; &nbsp;&nbsp; &nbsp;2014 NESdev Competition</option>
		
			<option value="30">&nbsp; &nbsp;&nbsp; &nbsp;2011 NESdev Competition</option>
		
			<option value="10">&nbsp; &nbsp;Newbie Help Center</option>
		
			<option value="9">&nbsp; &nbsp;NES Hardware and Flash Equipment</option>
		
			<option value="28">&nbsp; &nbsp;&nbsp; &nbsp;Reproduction</option>
		
			<option value="19">&nbsp; &nbsp;NESdev International</option>
		
			<option value="11">&nbsp; &nbsp;&nbsp; &nbsp;FCdev</option>
		
			<option value="18">&nbsp; &nbsp;&nbsp; &nbsp;NESdev China</option>
		
			<option value="27">&nbsp; &nbsp;&nbsp; &nbsp;NESdev Middle East</option>
		
			<option value="25">Other</option>
		
			<option value="5">&nbsp; &nbsp;General Stuff</option>
		
			<option value="4">&nbsp; &nbsp;Membler Industries</option>
		
			<option value="23">&nbsp; &nbsp;Other Retro Dev</option>
		
			<option value="12">&nbsp; &nbsp;&nbsp; &nbsp;SNESdev</option>
		
			<option value="20">&nbsp; &nbsp;&nbsp; &nbsp;GBDev</option>
		
			<option value="15">&nbsp; &nbsp;Test Forum</option>
		
			<option value="26">Site Issues</option>
		
			<option value="13">&nbsp; &nbsp;phpBB Issues</option>
		
			<option value="14">&nbsp; &nbsp;Web Issues</option>
		
			<option value="16">&nbsp; &nbsp;nesdevWiki</option>
		

		</select>&nbsp;<input class="btnlite" type="submit" value="Go" /></td>
	</tr>
	</table>

	</form>
</td>
</tr>
</table>


</div>


<div id="wrapfooter">
	
	<span class="copyright">Powered by <a href="http://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Group
	</span>
</div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-61452025-2', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>