<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - More NSF Requests</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">More NSF Requests</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=6&amp;t=115">http://forums.nesdev.com/viewtopic.php?f=6&amp;t=115</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>27</strong> of <strong>99</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>ugetab</b> [ Sat Feb 04, 2006 9:44 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Ninja Gaiden 2 is fixed. It took a fairly extensive debugging process to figure out that the ripper played with the last 16 bytes of the 9000-9FFF range. They were probably attempting to add some extra code, and forgot to restore the original coding. The song plays correctly now.
<br />
<br />I should probably start using the Compare feature in my hex editor when attempting any fixes, so I can tell for certain where things are changed, relative to the original data bank.
<br />
<br /><!-- m --><a class="postlink" href="http://www.angelfire.com/nc/ugetab/">http://www.angelfire.com/nc/ugetab/</a><!-- m -->

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>NewRisingSun</b> [ Sun Feb 05, 2006 12:04 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Here's my updated NSF request list. <br /><br />Battletoads (fixed channels)</div>
<br />If you mean by "fixed channels" the drum samples, then I guess you're out of luck. I wonder why no one bothers to update the NSF spec to allow for raw DAC output (without halting the song or doing some tricks), as we already have at least three cases where that would be needed.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Abster</b> [ Sun Feb 05, 2006 12:14 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Yeah, Battletoads &amp; Double Dragon also has this issue.  The drum samples in Battletoads make up their own pause theme.  If the drums aren't part of the NSF specification, then how come NSFs exist that carry them with no issue?  (Some of the Nekketsu games, sunsoft games, etc)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Speedy Boris</b> [ Sun Feb 05, 2006 12:23 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />OK, since nobody seems to believe me about Mappy Land, here are some music samples from the game: (copy and paste into address bar)
<br /><!-- m --><a class="postlink" href="http://www.freewebs.com/speedyboris/NES-Mappyland-Level%201-1.mp3">http://www.freewebs.com/speedyboris/NES ... %201-1.mp3</a><!-- m -->
<br /><!-- m --><a class="postlink" href="http://www.freewebs.com/speedyboris/NES-Mappyland-Game%20Over.mp3">http://www.freewebs.com/speedyboris/NES ... 20Over.mp3</a><!-- m -->
<br /><!-- m --><a class="postlink" href="http://www.freewebs.com/speedyboris/NES-Mappyland-End%20Level.mp3">http://www.freewebs.com/speedyboris/NES ... 0Level.mp3</a><!-- m -->
<br /><!-- m --><a class="postlink" href="http://www.freewebs.com/speedyboris/NES-Mappyland-Die.mp3">http://www.freewebs.com/speedyboris/NES ... nd-Die.mp3</a><!-- m -->

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>NewRisingSun</b> [ Sun Feb 05, 2006 12:50 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"> If the drums aren't part of the NSF specification, then how come NSFs exist that carry them with no issue?</div>Because they don't use raw PCM, but DPCM.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>ArnoldRimmer83</b> [ Sun Feb 05, 2006 3:42 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />That rip of arcade Punch Out is pretty interesting. Did that game use similar sound hardware to the Nes?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Memblers</b> [ Sun Feb 05, 2006 4:11 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">ArnoldRimmer83 wrote:</div><div class="quotecontent">That rip of arcade Punch Out is pretty interesting. Did that game use similar sound hardware to the Nes?</div>
<br />
<br />Yeah, it uses the NES CPU (2A03).  And Donkey Kong 3 used 2 of them.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>ugetab</b> [ Sun Feb 05, 2006 11:03 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I did the mappy land rip, and was forced to use banking because the music init and music data partially share the same bank. I didn't include any SFX tracks.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Guest</b> [ Mon Feb 06, 2006 8:43 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Thanks!

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Quietust</b> [ Mon Feb 06, 2006 10:34 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><!-- m --><a class="postlink" href="http://www.qmtpro.com/~nes/nsf/battletoads_pcm.zip">http://www.qmtpro.com/~nes/nsf/battletoads_pcm.zip</a><!-- m --> - Battletoads, reripped with RAW PCM (and properly ordered tunes)
<br />
<br />May not work with all NSF players, since its INIT routine loops forever instead of returning, but it is supported by the latest build of Nintendulator 0.965 (which fixed a bug in the NSF BIOS to preserve the X register during the PLAY routine interrupt).
<br />
<br />It doesn't include the "pause music", though - apparently, it's not part of the music engine.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Abster</b> [ Mon Feb 06, 2006 11:14 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Hmmmm.  Doesn't work with the FCE Ultra emulator.  I'm not into using winamp plugins that much.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>ugetab</b> [ Tue Feb 07, 2006 12:03 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Then use Nintendulator. The NSF works fine in the emulator or the Winamp plugin(which is a touch less responsive than the emulator), so choose the one you want to use. If NotSoFatso/FCE(UXD)(SP) won't work, it's because of an NSFSpec error that hasn't been corrected within the emulators, not because it was ripped wrong. I can't fix the error with my level of understanding, so I'm also at the mercy of skilled programmers in this matter.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Knurek</b> [ Tue Feb 07, 2006 12:47 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Abster wrote:</div><div class="quotecontent">Hmmmm.  Doesn't work with the FCE Ultra emulator.  I'm not into using winamp plugins that much.</div>
<br />
<br />Doesn't work with NSFPlug and Nestopia either...

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Guest</b> [ Tue Feb 07, 2006 3:57 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Does Nintendulator call the play routine before the init routine has a chance to return?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Quietust</b> [ Tue Feb 07, 2006 11:43 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Anonymous wrote:</div><div class="quotecontent">Does Nintendulator call the play routine before the init routine has a chance to return?</div>
<br />
<br />Yes, though it gives it about 4 frames to return before it 'gives up' (by means of a watchdog timer).
<br />
<br />The method by which I ripped the RAW PCM samples is not technically supported within the NSF spec, though it is simple enough to add support for it.
<br />
<br />The NSF also is unoptimized (weighing in at a full 32KB), mainly because my NSF optimizer (NSFtool) chokes on it. As-is, it complains that all 20 tunes are bad because the INIT routine never returns. If I hack the NSF to call the raw PCM routine at the end of the Play routine only when a sample is waiting to play (as well as hack the sample playback routine to take out the delay loop), it STILL complains since the PLAY routine takes longer than 1 frame to return.
<br />
<br />In order to optimize this NSF, I'd need a special tool that allows the init routine to loop forever.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>27</strong> of <strong>99</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>