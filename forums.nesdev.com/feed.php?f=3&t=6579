<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="http://forums.nesdev.com/feed.php?f=3&amp;t=6579" />

<title>nesdev.com</title>
<subtitle>NES Development and Strangulation Records message boards</subtitle>
<link href="http://forums.nesdev.com/index.php" />
<updated>2010-07-31T19:09:54-07:00</updated>

<author><name><![CDATA[nesdev.com]]></name></author>
<id>http://forums.nesdev.com/feed.php?f=3&amp;t=6579</id>
<entry>
<author><name><![CDATA[jwdonal]]></name></author>
<updated>2010-07-31T19:04:40-07:00</updated>
<published>2010-07-31T19:04:40-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6579&amp;p=65273#p65273</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6579&amp;p=65273#p65273"/>
<title type="html"><![CDATA[A little help with Kevtris nestest.nes?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6579&amp;p=65273#p65273"><![CDATA[
<div class="quotetitle">tineras wrote:</div><div class="quotecontent"><br />I ended up with something more simple like this:<br />C5F5  A2     A:00   X:00   Y:00   P:24   SP:FD<br /></div><br />LOL, that is _exactly_ how I formatted my output too! <img src="http://forums.nesdev.com/images/smilies/icon_razz.gif" alt=":-P" title="Razz" /><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3962">jwdonal</a> — Sat Jul 31, 2010 7:04 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tineras]]></name></author>
<updated>2010-07-31T19:01:53-07:00</updated>
<published>2010-07-31T19:01:53-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6579&amp;p=65271#p65271</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6579&amp;p=65271#p65271"/>
<title type="html"><![CDATA[A little help with Kevtris nestest.nes?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6579&amp;p=65271#p65271"><![CDATA[
<div class="quotetitle">NickMass wrote:</div><div class="quotecontent"><br />If anyone happens to have a better more accurate nestest.nes log that is as easy to read as the current one used for comparison I will gladly overwrite the current one. <!-- m --><a class="postlink" href="http://nickmass.com/images/nestest.log">http://nickmass.com/images/nestest.log</a><!-- m --> is just some log I found in a post on these forums made ages ago that I happened to use when developing my emu, and then was recently linked to in a few places. I could use a log from my emulator but I'm sure it would have issues of its own.<br /></div><br /><br />Well, thanks to you I got everything working properly and a ton of problems went away.  The only issue I had was trying to easily compare the two documents (my output and the 'gold' nestest.log).  Making minor edits to have similar formatting was easy, but it would have taken quite a bit more work to add all of the opcode names and their respective addresses and return-data (ex. 'ADC ($80,X) @ 80 = 0200 = 69').  I also didn't have timing setup just yet and I'm still not sure what 'SL' is.  <img src="http://forums.nesdev.com/images/smilies/icon_smile.gif" alt=":)" title="Smile" /> This made the Compare in Notepad++ take almost 5 minutes for each change that I made (being nearly 9000 lines and all).<br /><br />To fix this (for me), I just used Notepad++ to remove those blocks altogether from the master log file.<br /><br />I ended up with something more simple like this:<br />C5F5  A2     A:00   X:00   Y:00   P:24   SP:FD<br /><br />I think it's safe to assume that anyone who is far enough along to run this test has setup these register and values.  After doing this and comparing with the master document, the searches only took seconds and I was able to hammer out all the remaining issues in a matter of hours instead of days.<br /><br />Anyway, I'm not sure why I'm saying all this, but I am really grateful.  So, thanks again!  <img src="http://forums.nesdev.com/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4449">tineras</a> — Sat Jul 31, 2010 7:01 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[jwdonal]]></name></author>
<updated>2010-07-31T18:23:46-07:00</updated>
<published>2010-07-31T18:23:46-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6579&amp;p=65270#p65270</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6579&amp;p=65270#p65270"/>
<title type="html"><![CDATA[A little help with Kevtris nestest.nes?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6579&amp;p=65270#p65270"><![CDATA[
I'd be happy to donate my log but I'm only currently passing the official instructions.  And my log also doesn't have the "pretty-printed" listing format that the current log does.<br /><br />Don't get me wrong - I'm not complaining about the log - it's actually really good.  There's just a minor discrepancy in the P bits that could lead to some confusion - haha, like it did for me. <img src="http://forums.nesdev.com/images/smilies/icon_smile.gif" alt=":)" title="Smile" /> Which is why I suggested making a small link to this post from the Wiki.  May not even be worth - it's really not a big issue.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3962">jwdonal</a> — Sat Jul 31, 2010 6:23 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[NickMass]]></name></author>
<updated>2010-07-31T17:44:37-07:00</updated>
<published>2010-07-31T17:44:37-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6579&amp;p=65268#p65268</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6579&amp;p=65268#p65268"/>
<title type="html"><![CDATA[A little help with Kevtris nestest.nes?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6579&amp;p=65268#p65268"><![CDATA[
If anyone happens to have a better more accurate nestest.nes log that is as easy to read as the current one used for comparison I will gladly overwrite the current one. <!-- m --><a class="postlink" href="http://nickmass.com/images/nestest.log">http://nickmass.com/images/nestest.log</a><!-- m --> is just some log I found in a post on these forums made ages ago that I happened to use when developing my emu, and then was recently linked to in a few places. I could use a log from my emulator but I'm sure it would have issues of its own.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4318">NickMass</a> — Sat Jul 31, 2010 5:44 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[jwdonal]]></name></author>
<updated>2010-07-31T19:09:54-07:00</updated>
<published>2010-07-31T10:31:25-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6579&amp;p=65240#p65240</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6579&amp;p=65240#p65240"/>
<title type="html"><![CDATA[A little help with Kevtris nestest.nes?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6579&amp;p=65240#p65240"><![CDATA[
Haha, very nice catch.<br /><br />It might be worth putting a link to this post on the Wiki (in the nestest test rom description) to help clarify this for other users. Just a thought.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3962">jwdonal</a> — Sat Jul 31, 2010 10:31 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[blargg]]></name></author>
<updated>2010-07-31T06:33:58-07:00</updated>
<published>2010-07-31T06:33:58-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6579&amp;p=65238#p65238</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6579&amp;p=65238#p65238"/>
<title type="html"><![CDATA[A little help with Kevtris nestest.nes?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6579&amp;p=65238#p65238"><![CDATA[
If you did PHP PLA, you'd always find bit 4 set as well, which is not set in the log. <img src="http://forums.nesdev.com/images/smilies/icon_smile.gif" alt=":)" title="Smile" /><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=17">blargg</a> — Sat Jul 31, 2010 6:33 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2010-07-31T05:06:38-07:00</updated>
<published>2010-07-31T05:06:38-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6579&amp;p=65235#p65235</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6579&amp;p=65235#p65235"/>
<title type="html"><![CDATA[A little help with Kevtris nestest.nes?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6579&amp;p=65235#p65235"><![CDATA[
My best guess is that the value in the P field of the log is, by convention, what you'd get in A if you PHP PLA.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Sat Jul 31, 2010 5:06 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[jwdonal]]></name></author>
<updated>2010-07-31T03:47:01-07:00</updated>
<published>2010-07-31T03:47:01-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6579&amp;p=65233#p65233</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6579&amp;p=65233#p65233"/>
<title type="html"><![CDATA[A little help with Kevtris nestest.nes?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6579&amp;p=65233#p65233"><![CDATA[
<div class="quotetitle">blargg wrote:</div><div class="quotecontent"><br />The fix is to change your <em>logging</em> functionality to always set bit 5 in the printed value.<br /></div><br />Okay, kewl.  That's what I did.  But it's good to know someone agrees with me that it's wrong. <img src="http://forums.nesdev.com/images/smilies/icon_smile.gif" alt=":)" title="Smile" /> Pz!<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3962">jwdonal</a> — Sat Jul 31, 2010 3:47 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[blargg]]></name></author>
<updated>2010-07-31T03:43:00-07:00</updated>
<published>2010-07-31T03:43:00-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6579&amp;p=65232#p65232</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6579&amp;p=65232#p65232"/>
<title type="html"><![CDATA[A little help with Kevtris nestest.nes?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6579&amp;p=65232#p65232"><![CDATA[
Yeah, it should be $04. The fix is to change your <em>logging</em> functionality to always set bit 5 in the printed value. No change to the emulation necessary.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=17">blargg</a> — Sat Jul 31, 2010 3:43 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[jwdonal]]></name></author>
<updated>2010-07-30T23:32:52-07:00</updated>
<published>2010-07-30T23:32:52-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6579&amp;p=65229#p65229</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6579&amp;p=65229#p65229"/>
<title type="html"><![CDATA[A little help with Kevtris nestest.nes?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6579&amp;p=65229#p65229"><![CDATA[
<div class="quotetitle">blargg wrote:</div><div class="quotecontent"><br />Go at it the other way: remove those values from the log so that it's in the same format as your emu. Automate removal (with a regexp/grep) and you can trust that the log wasn't otherwise altered.<br /></div><br />Agreed. Def safer that way.<br /><br />---<br /><br />One comment.  I've finally got some minimal processor status output being printed.  The first thing I noticed was that my processor status value did not match the nestest log.  On the very first line the value in my P register was $04 and the nestest log shows it as being $24.  The errant bit is the unimplemented flag that is always '1'.<br /><br />So, technically speaking, isn't the nestest log incorrect? Bit 5 (and bit 4) of the P register only really "exist" when they are pushed to the stack (see <!-- m --><a class="postlink" href="http://wiki.nesdev.com/w/index.php/CPU_status_flag_behavior">http://wiki.nesdev.com/w/index.php/CPU_ ... g_behavior</a><!-- m -->). Is this a bug in the emulator that generated this log (or rather just a result of the standard confusion surrounding bits 4 and 5 of the P register)?  In my opinion bit 5 of P should be '0' in the nestest log - it just seems more accurate to me.<br /><br />Thanks!<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3962">jwdonal</a> — Fri Jul 30, 2010 11:32 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[blargg]]></name></author>
<updated>2010-07-30T02:28:34-07:00</updated>
<published>2010-07-30T02:28:34-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6579&amp;p=65153#p65153</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6579&amp;p=65153#p65153"/>
<title type="html"><![CDATA[A little help with Kevtris nestest.nes?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6579&amp;p=65153#p65153"><![CDATA[
<div class="quotetitle">jwdonal wrote:</div><div class="quotecontent"><br />I am working on having my emu generate an identical type of log file so that I can compare my CPU and to allow for _significantly_ easier debugging.<br /></div><br />Go at it the other way: remove those values from the log so that it's in the same format as your emu. Automate removal (with a regexp/grep) and you can trust that the log wasn't otherwise altered.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=17">blargg</a> — Fri Jul 30, 2010 2:28 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[jwdonal]]></name></author>
<updated>2010-07-29T17:09:41-07:00</updated>
<published>2010-07-29T17:09:41-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6579&amp;p=65137#p65137</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6579&amp;p=65137#p65137"/>
<title type="html"><![CDATA[A little help with Kevtris nestest.nes?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6579&amp;p=65137#p65137"><![CDATA[
Very cool! Thanks for the info tepples!<br /><br />And, it goes without saying, but that is an _awesome_ idea to include those too little bits of information in a NES trace log.  Kudos to whoever thought of it.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3962">jwdonal</a> — Thu Jul 29, 2010 5:09 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2010-07-29T16:48:15-07:00</updated>
<published>2010-07-29T16:48:15-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6579&amp;p=65134#p65134</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6579&amp;p=65134#p65134"/>
<title type="html"><![CDATA[A little help with Kevtris nestest.nes?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6579&amp;p=65134#p65134"><![CDATA[
CYC and SL are an indication of elapsed time from the NTSC PPU's perspective. Three CYC make one CPU cycle, and 341 CYC make one SL. When SL is 261 (the pre-render scanline), it is set to -1.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Thu Jul 29, 2010 4:48 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[jwdonal]]></name></author>
<updated>2010-07-29T15:21:04-07:00</updated>
<published>2010-07-29T15:21:04-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6579&amp;p=65130#p65130</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6579&amp;p=65130#p65130"/>
<title type="html"><![CDATA[A little help with Kevtris nestest.nes?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6579&amp;p=65130#p65130"><![CDATA[
minor bump - sorry<br /><br />Can someone tell me what the CYC and SL numbers in the nestest.log file are, and (if it's not obvious) how they should be generated?  They seem to count up for a little while and then reset sometimes.  I am working on having my emu generate an identical type of log file so that I can compare my CPU and to allow for _significantly_ easier debugging.<br /><br /><!-- m --><a class="postlink" href="http://nickmass.com/images/nestest.log">http://nickmass.com/images/nestest.log</a><!-- m --><br /><br />Thanks!<br /><br />Jonathon<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3962">jwdonal</a> — Thu Jul 29, 2010 3:21 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[jwdonal]]></name></author>
<updated>2010-07-13T23:23:21-07:00</updated>
<published>2010-07-13T23:23:21-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=6579&amp;p=64180#p64180</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=6579&amp;p=64180#p64180"/>
<title type="html"><![CDATA[A little help with Kevtris nestest.nes?]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=6579&amp;p=64180#p64180"><![CDATA[
SUCCESS!!! So I remembered that someone had made that nestest run log file that I could compare to my CPU cycles and register statuses.  So I did that and noticed that the ALU was clearing a flag bit that it should not have been.  It was a design flaw and an incredibly idiotic error on my part - the erroneous HDL was actually the result of a Vim regex search and replace that I did a while back in my ALU. Tsk tsk. And I'm usually always so careful when I do that kind of thing.  Oh well, at least it works now and thanks so much to whoever made that log file.<br /><br />@Blargg, even though your suggestion wasn't the actual problem I really appreciate your reply and trying to help.<br /><br />Pz<br /><br />Jonathon =D<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3962">jwdonal</a> — Tue Jul 13, 2010 11:23 pm</p><hr />
]]></content>
</entry>
</feed>