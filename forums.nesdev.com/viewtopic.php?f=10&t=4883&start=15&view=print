<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Writing bits 12-14 in VRAM address via $2006</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Writing bits 12-14 in VRAM address via $2006</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=10&amp;t=4883">http://forums.nesdev.com/viewtopic.php?f=10&amp;t=4883</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>2</strong> of <strong>2</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>GradualGames</b> [ Fri Feb 27, 2009 12:07 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Bregalad/Blargg, thanks for those, that is very helpful! 
<br />
<br />Question: writes to $2007 will always use loopy_v, and never loopy_t, correct? Therefore you have to use $2006 within vblank in order to write (where you want) to the nametable, correct?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Disch</b> [ Fri Feb 27, 2009 12:28 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Yes.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>koitsu</b> [ Sat Feb 28, 2009 11:59 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">blargg wrote:</div><div class="quotecontent">I cleaned up a <a href="http://rafb.net/p/m0akGC71.html" class="postlink">summary of $2000/$2005/$2006 behavior</a> I wrote for myself.</div>
<br />
<br />404.  :-)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Roth</b> [ Sun Mar 01, 2009 11:48 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Hey Koitsu, I copied that down when I saw what site he posted it on. If you wanna see it, here it is in my temp directory... this also means it will be 404 sometime in the future ; )
<br />
<br /><!-- m --><a class="postlink" href="http://robertlbryant.com/temp/blarggs_scroll.txt">http://robertlbryant.com/temp/blarggs_scroll.txt</a><!-- m -->

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Jeroen</b> [ Wed Apr 13, 2011 8:59 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Necropost...anyone stil have this?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>strat</b> [ Sat Apr 16, 2011 10:38 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Used the archive.org to find blargg's summary
<br />
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">The PPU contains several registers:<br /><br />&nbsp; &nbsp; Name&nbsp; &nbsp; Bits&nbsp; &nbsp; &nbsp; &nbsp; Function<br />&nbsp; &nbsp; ------------------------------------------<br />&nbsp; &nbsp; V&nbsp; &nbsp; &nbsp; &nbsp;15&nbsp; &nbsp; &nbsp; Main address register<br />&nbsp; &nbsp; T&nbsp; &nbsp; &nbsp; &nbsp;15&nbsp; &nbsp; &nbsp; Hidden temporary register<br />&nbsp; &nbsp; F&nbsp; &nbsp; &nbsp; &nbsp;3&nbsp; &nbsp; &nbsp; &nbsp;Horizontal fine scroll<br />&nbsp; &nbsp; -&nbsp; &nbsp; &nbsp; &nbsp;1&nbsp; &nbsp; &nbsp; &nbsp;High/low flag shared by $2005/$2006<br /><br />The high/low flag is toggled whenever $2005 or $2006 is written to, and<br />reset whenever $2002 is read from.<br /><br />During the following events, bits from the source on the left are copied<br />to the indicated bits of the register on the right. W refers to the byte<br />written. For example, a $2000 write copies bits 0 and 1 of the value<br />written to bits 10 and 11 of T.<br /><br />&nbsp; &nbsp; $2000 write:<br />&nbsp; &nbsp; &nbsp; &nbsp; W:------VH -&gt; T:---VH-- --------&nbsp; &nbsp; Selects nametable<br />&nbsp; &nbsp; <br />&nbsp; &nbsp; $2005 first write:<br />&nbsp; &nbsp; &nbsp; &nbsp; W:XXXXXxxx -&gt; T:------- ---XXXXX&nbsp; &nbsp; Sets X scroll<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-&gt; F:xxx<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; $2005 second write:<br />&nbsp; &nbsp; &nbsp; &nbsp; W:YYYYYyyy -&gt; T:yyy--YY YYY-----&nbsp; &nbsp; Sets Y scroll<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; $2006 first write:<br />&nbsp; &nbsp; &nbsp; &nbsp; W:--hhhhhh -&gt; T:0hhhhhh --------&nbsp; &nbsp; Sets high 7 bits of T<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; $2006 second write:<br />&nbsp; &nbsp; &nbsp; &nbsp; W:llllllll -&gt; T:------- llllllll&nbsp; &nbsp; Sets low 8 bits of T,<br />&nbsp; &nbsp; &nbsp; &nbsp; T -&gt; V&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; then copies to V<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; Beginning of frame:<br />&nbsp; &nbsp; &nbsp; &nbsp; T -&gt; V&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Copies T to V<br />&nbsp; &nbsp; <br />&nbsp; &nbsp; Beginning of scanline:<br />&nbsp; &nbsp; &nbsp; &nbsp; T:----H-- ---XXXXX -&gt; V:----H-- ---XXXXX&nbsp; &nbsp; Copies H&amp;X from T to V<br /><br />During rendering, V is treated as several independent counters:<br />&nbsp; &nbsp; <br />&nbsp; &nbsp; V:yyyVHYY YYYXXXXX<br />&nbsp; &nbsp; &nbsp; &nbsp; yyy&nbsp; &nbsp; &nbsp;Fine Y scroll<br />&nbsp; &nbsp; &nbsp; &nbsp; VH&nbsp; &nbsp; &nbsp; V &amp; H nametable bits<br />&nbsp; &nbsp; &nbsp; &nbsp; YYYYY&nbsp; &nbsp;Y &amp; X in nametable<br />&nbsp; &nbsp; &nbsp; &nbsp; XXXXX<br />&nbsp; &nbsp; <br />When drawing the background, X is incremented as each tile is drawn.<br />When this wraps back to 0, H is toggled. If vertical mirroring is used,<br />this results in the other nametable being used for the remaining right<br />side of the screen.<br /><br />Y is incremented as each row is finished. When Y is 29 and incremented,<br />it becomes zero and V is toggled. If Y is set to 30 or 31 manually, when<br />it wraps around to 0, V is NOT toggled. This means that 30 and 31 are<br />sort of like negative scroll values, except they interpret attribute<br />data as pattern indicies.<br /></div>
<br />
<br /><strong>[Monospace fixed by MOD]</strong>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Sun Apr 17, 2011 12:48 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">strat wrote:</div><div class="quotecontent">Used the archive.org to find blargg's summary</div>
<br />Cool, but please put it in a code tag instead. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Jeroen</b> [ Sun Apr 17, 2011 7:34 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Thanks for posting brah.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>2</strong> of <strong>2</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>