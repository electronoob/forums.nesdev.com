<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Lots of wires</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Lots of wires</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=9&amp;t=1915">http://forums.nesdev.com/viewtopic.php?f=9&amp;t=1915</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>FyberOptic</b> [ Sun Aug 20, 2006 12:39 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Lots of wires</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I thought some folks might be interested in my crude but effective method of running code in a real NES, using lots and lots of wires, an eeprom for PRG, and sram for CHR storage.  A patched Galaga was my test subject.
<br />
<br /><!-- m --><a class="postlink" href="http://www.fybertech.com/forums/index.php?topic=453.0">http://www.fybertech.com/forums/index.php?topic=453.0</a><!-- m -->
<br />
<br />The technical explanations were for pretty much just everyone else I know, since I'm sure you guys know most of it already.  But for anyone else like myself that can't always get a chance to solder things, they might find it interesting.
<br />
<br />
<br />Something else I crossposted there earlier too that you folks might find interesting is about the differences in the various versions of SMB:
<br />
<br /><!-- m --><a class="postlink" href="http://www.fybertech.com/forums/index.php?topic=454.0">http://www.fybertech.com/forums/index.php?topic=454.0</a><!-- m -->
<br />
<br />I have yet to get around to figuring out what that extra 8kb of CHR was for in VS SMB, but maybe one of you knows.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>FyberOptic</b> [ Tue Aug 22, 2006 9:03 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I updated my jungle of wires to support UNROM.
<br />
<br /><!-- m --><a class="postlink" href="http://www.fybertech.com/forums/index.php?topic=453.msg9911#msg9911">http://www.fybertech.com/forums/index.p ... 11#msg9911</a><!-- m -->
<br />
<br />I also figure I should still be able to run my patched versions of 16kb NROM games on this setup, and with even more patching, I should be able to get full 32kb NROM games to work as well (using some bank switching to access the CHR rom to copy into vram first, then putting the lower 16kb PRG back in place before running the game).  
<br />
<br />Even better, with an inverter on A14 going to the OR gate, I should be able to make 8000-BFFF static instead of C000-FFFF like normal UNROM.  This would let me make a menu system and load up to 10 16kb NROM games on the one eeprom.  
<br />
<br />[16kb fyber code]
<br />[16k game0][16k game1][16k two chr]
<br />[16k game2][16k game3][16k two chr]
<br />[16k game4][16k game5][16k two chr]
<br />[16k game6][16k game7][16k two chr]
<br />[16k game8][16k game9][16k two chr]
<br />
<br />It's probably possible to do without the inverter, but that means patching every game even more so, to make sure they'd run fine in 8000-BFFF, which is prolly more trouble than its worth.  The only problem is making the board space for the inverter, since obviously things are a bit tight!
<br />
<br />Since those pics were taken, I also ran some of the wires off to the side to make it easier to switch between horizontal/vertical mirroring, and also to switch between the upper and lower 128kb of my eeprom (since it's 256kb), so that I can have two 128kb UNROM games on it at once.
<br />
<br />Still getting some minor sprite corruption at times, though.  :/  But I've got an old UNROM game on the way, so perhaps that'll make this whole mess obsolete.
<br />
<br />
<br />EDIT:  Actually, due to the UNROM bus conflicts, I guess my multi-NROM idea wouldn't work very well unless I limited it to 128kb (losing half the games) and used an inverter with the fourth OR gate to prevent the eeprom from enabling on writes, or add in a second LS32, using even more board space.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Memblers</b> [ Tue Aug 22, 2006 9:27 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />It's incredibly easy to make a multicart for 16kB/32kB NROM games.  Really all you need is a way to force the mapper to start-up in your menu bank (pull-up resistors maybe).  I'd do it with a 32kB page mapper though.  Actually, I have done that, heheh, quite a while back.  I never released it since there's plenty of crap multicarts already, plus I don't want to release other company's commercial games anyways.  It is fun stuff though.  I had to hack Pooyan, it actually had a tiny little protection.  No wonder it wasn't on any of the pirate multicarts I usually see.
<br />
<br />Just don't use MMC1A, what a pain that was (random start bank, so you can imagine what that would do).  <img src="./images/smilies/icon_confused.gif" alt=":?" title="Confused" />
<br />
<br />Crazy that you used a breadboard.  <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /> 
<br />I never had one of those to play with.
<br />
<br />And if you compress the graphics, you can fit a little more in there too.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>FyberOptic</b> [ Tue Aug 22, 2006 11:20 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Memblers wrote:</div><div class="quotecontent">It's incredibly easy to make a multicart for 16kB/32kB NROM games.  Really all you need is a way to force the mapper to start-up in your menu bank (pull-up resistors maybe).  I'd do it with a 32kB page mapper though.</div><br /><br />The reason I considered sticking with 16k banks for now for a multicart was so that I could stay as close to UNROM as possible, to allow the most amount of games to be playable on the same hardware.  <br /><br />Once I get some actual cartridges to work with though it won't be that big a deal, since I can just have different cartridges for different setups.  I've got NROM, MMC1, MMC3, and UNROM ones on the way that I found pretty cheap on Ebay.  And by cheap, I mean I found someone not trying to rip you off on shipping costs.<br /><br />Some of the games I've been looking for to use for such projects are some of the very ones I owned years ago which I didn't even like very much.  Funny how that works out.<br /><br /><br /><div class="quotetitle">Memblers wrote:</div><div class="quotecontent">And if you compress the graphics, you can fit a little more in there too.</div>
<br />
<br />lol I never even thought of that, even though I read that many games did in fact use that technique.  I'll have to tinker around and see if I might could fit another game in there!
<br />
<br />After my last post, I had yet another thought about the bus conflicts of UNROM, and the extra hardware to make it work properly.  I realized that I didn't HAVE to make it work properly, because obviously the original games worked around it just fine.  I can just write my own loader code to use similar tricks, writing to the mapper in locations of my code which are set to the same values as I'm trying to write.  Should work fine as far as I can figure, and I'll be able to use the full capacity of the eeprom after all, without sticking in any extra inverters or OR gates.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>85cocoa</b> [ Tue Aug 22, 2006 1:20 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Memblers wrote:</div><div class="quotecontent">I had to hack Pooyan, it actually had a tiny little protection.</div>
<br />What's the protection? Is the GoodNES dump hacked? I know I've seen Pooyan on an (illegally) emulated multicart somewhere... (EDIT: The multicart is 100-in-1 Contra Function 16. Thanks for the tip, tepples.)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>sevast</b> [ Tue Aug 22, 2006 3:26 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I've got pooyan on a multi.  Would also be interested to hear what kind of protection...  <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Memblers</b> [ Fri Aug 25, 2006 9:29 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Whoops, I missed the replies (damn, hope I'm not missing all kinds of cool stuff all over the forum).
<br />
<br />The "protection" was pretty simple, it's a 16kB game with the vectors and all the code at $C000-$FFFF.  Except there was one single little (but obviously important) part of it in there that accesses $8000-$BFFF.  Whatever it was, that almost definitely had to be on purpose.  If a multicart does the PRG mirroring properly, it'll work fine.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Fri Aug 25, 2006 9:32 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />In that case, bank mode 1 (16 KiB) of <a href="http://nesdevwiki.ath.cx/index.php/INES_Mapper_015" class="postlink">mapper 15</a> emulates the protection correctly. I'm guessing that most multicart-specific mappers are similar in this respect.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>FyberOptic</b> [ Sun Aug 27, 2006 8:50 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />It would seem I made my wire jungle obsolete today, since I finally got with the times and <a href="http://www.fybertech.com/forums/index.php?topic=472" class="postlink">made an actual UNROM dev cart</a>.  I won't pull the old one apart for the time being though, in case there's any other projects I can try with it.  If the MMC1 just wasn't such a narrow pinout, I'd try putting the one from my dead Dragon Warrior in there and see if the chip still works.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Memblers</b> [ Mon Aug 28, 2006 1:29 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />You could always do it 'dead bug' style.  Lay or glue the chip to something upside down and solder wires to the pins.  Just a suggestion if you don't want the pin pitch to stop you.  Assuming wire length wouldn't be a problem.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>