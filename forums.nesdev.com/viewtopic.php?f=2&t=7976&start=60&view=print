<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Thoughts on Higher Level Language Design for 6502 Systems</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Thoughts on Higher Level Language Design for 6502 Systems</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=2&amp;t=7976">http://forums.nesdev.com/viewtopic.php?f=2&amp;t=7976</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>5</strong> of <strong>6</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>mrm78</b> [ Tue Jan 03, 2012 8:25 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Hmm... sure i need to make some video tutorial for it.
<br />Its easier for making simple makes for people that dont know the NES system. Its a starting point for bloody beginners.
<br />Not usefull for coder that know how to code for this system.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>haroldo-ok</b> [ Wed Jan 04, 2012 7:59 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />It looks impressive, so far.
<br />
<br />I do agree with Shiru: from an experienced programmer's perspective, this coding environment looks... well... inefficient. On the other hand, most people aren't experienced programmers, and  Scratch was designed not for productivity, but ease of use; even a child can code on it (it was designed for that).
<br />
<br />In other words, while it won't make much of a difference for elite coders, a NES-targetted version of Scratch has the potential to introduce a whole slew of people into NES homebrew development.
<br />
<br />Again, it's a very interesting project, and a cool achievement. Keep up the good work.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>cpow</b> [ Wed Jan 04, 2012 8:17 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">mrm78 wrote:</div><div class="quotecontent">Its a starting point for bloody beginners.</div><br /><br />When I see the UI I don't think "this is a great tool for a beginner", I think "this reminds me of the Lego Mindstorms my seven year old plays with".  If he were to express an interest in creating a NES game, I sure as heck wouldn't tell him "Well, first you'll have to learn this weird language called Atalan, then you'll have to learn this weird pseudeo-programming environment called Scratch which hides so much from you you'll never be able to create anything more polished than something you'd find on Action52.  Good luck with that!"<br /><br />Also, it seems something's missing from your package?  NESST runs fine by itself for me, but not when I try to "Paint" a background from your tool:<br /><br /><img src="http://i.imgur.com/e15IZ.png" alt="Image" /><br /><br /><div class="quotetitle">mrm78 wrote:</div><div class="quotecontent">Its easier for making simple makes for people that dont know the NES system.</div><br /><br />No.  A good IDE with a set of easy-to-follow-and-modify tutorial projects could be that.  Even I'm not there yet...probably never will be. <br /><br /><div class="quotetitle">mrm78 wrote:</div><div class="quotecontent">Not usefull for coder that know how to code for this system.</div>
<br />
<br />I don't see how it'd be useful for coder that doesn't know how to code for this system?  What am I missing?  How would I know what "when I receive Update" means?  NMI?  IRQ?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>mrm78</b> [ Wed Jan 04, 2012 9:44 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />@haroldo-ok 
<br />tnx... maybe its was the wrong place to post this..
<br />
<br />
<br />@cpow
<br />tnx u2 to for feedback &amp; good luck with your IDE.
<br />
<br />The tools auto generates a atalan file.
<br />So why must the user learn atalan then?
<br />We just wanted to telp playpower.org with coding some simple learning games for it..
<br />and i think its possible to make maybe games that are better than action52.
<br />
<br />I know that this forum seems to be a wrong place to talking about it.
<br />
<br />Me had much fun coding for the NES <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /> 
<br />and do little bit 6502 stuff.
<br />
<br />For example the sprite flickering seems better then the original game.
<br />game needs 6k cyles for running..
<br />
<br />see u

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>cpow</b> [ Wed Jan 04, 2012 10:29 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">mrm78 wrote:</div><div class="quotecontent">@cpow<br />The tools auto generates a atalan file.<br />So why must the user learn atalan then?<br /></div>
<br />I've <strong>never</strong> had good experience with autogenerated code.  The firebreather example has a lot of warnings when compiling...are those from the autogenerated code?  If so, the autogenerator is degenerated to the point of uselessness because I can't tell whether a warning is my fault or not.
<br />
<br />To Shiru's point in another post, if there's no debugger available that can step through code at the Atalan level [or at the Scratch level?] then it's not much help.  How easy is it to get from a 6502 machine address to a line of Atalan code or to a block in Scratch?  If your IDE supports that it isn't obvious.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>mrm78</b> [ Wed Jan 04, 2012 5:03 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />hi, at the moment there are some problems with the atalan compiler.
<br />but rudla is on it. After this the warnings should go away.
<br />
<br />i know, autogenerated code bears problems.
<br />scratch doesnt allow to debug stepwise, but it will be possible to add variable watching to Fceux with some lua scripting.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Shiru</b> [ Wed Jan 04, 2012 7:18 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />If the code is always autogenerated and user never work with it, what's the point to use Atalan then? Why not generate 6502 code directly?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>haroldo-ok</b> [ Thu Jan 05, 2012 7:49 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Well, I can see one advantage of generating Atalan instead of plain 6502 code: The Atalan developers seem to be porting the language to the Z80 processor (There's even a small ZX-Spectrum demo on their SVN repository); they even changed their description to "Programming language compiler for 8-bit processors"; just imagine where it could go from there.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Shiru</b> [ Thu Jan 05, 2012 7:57 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />To very limited and not really useful portability? Game logic could be portable, but other differences would force to redo everything else for every platform. For example, NES HW 8x8 three color sprites and typically 60 FPS update vs. ZX software 1.5 color sprites (monochrome with masks) of arbitrary sizes and update rates more like 16 FPS, that also require more memory than NES sprites due to need of pre-shift and pre-flipping.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Thu Jan 05, 2012 8:29 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">haroldo-ok wrote:</div><div class="quotecontent">Well, I can see one advantage of generating Atalan instead of plain 6502 code: The Atalan developers seem to be porting the language to the Z80 processor</div><br />In other words, for the same reason that early C++ compilers emitted C.<br /><br /><div class="quotetitle">Shiru wrote:</div><div class="quotecontent">Game logic could be portable, but other differences would force to redo everything else for every platform.</div>
<br />In other words, something like a <a href="http://pineight.com/mw/index.php?title=Multitier" class="postlink">model-view-controller paradigm</a>. This works only when all platforms can be programmed in the same language. I guess that's one of the reasons Microsoft chose C# for XNA: games can't be easily ported from any non-Microsoft platform to Xbox Live Indie Games, encouraging developers to make their games exclusive to Microsoft platforms. C and C++ need P/Invoke, and Python and friends need Emit, neither of which is present in XNA on Xbox 360 or Windows Phone 7.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>slobu</b> [ Thu Jan 05, 2012 1:24 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Just as Tepples noted advantages using Atalan over bare metal ASM I also see Scratch having similar merits.
<br />
<br />If the GUI based development environment can be separated from the underlying language it wouldn't matter what platform used what compiler.  I could think of:
<br />
<br />Scratch -&gt; BasiEgaXorz -&gt; Genesis binary
<br />Scratch -&gt; BatariBASIC -&gt; 2600 binary
<br />Scratch -&gt; DragonBASIC -&gt; GBA binary and so on..

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>cpow</b> [ Thu Jan 05, 2012 2:53 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">slobu wrote:</div><div class="quotecontent">Scratch -&gt; BasiEgaXorz -&gt; Genesis binary<br />Scratch -&gt; BatariBASIC -&gt; 2600 binary<br />Scratch -&gt; DragonBASIC -&gt; GBA binary and so on..</div>
<br />
<br />CC65 seems to be already there...so all you have to do is learn C.  I *guarantee* you that is more rewarding and resume-enhancing.
<br />
<br />CC65 comes with libraries to build binaries that will run on:
<br />
<br />NES
<br />C=16
<br />C=64
<br />C=128
<br />PET
<br />Vic-20
<br />Apple][
<br />Atari
<br />...

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>slobu</b> [ Fri Jan 06, 2012 3:13 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I guess the one other factor in choosing a high/low language is support and or community.  All but one of the BASIC compilers has a pretty dead community.  Atalan has a *very* nice developer but who knows when an active development crowd forms around it.
<br />
<br />C is looking better every day.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dwedit</b> [ Fri Jan 06, 2012 3:59 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">cpow wrote:</div><div class="quotecontent">CC65 seems to be already there...so all you have to do is learn C.  I *guarantee* you that is more rewarding and resume-enhancing.<br /></div>
<br />
<br />Problem is that NES C wants you to do weird things to help optimize your code, like using global/static variables instead of local variables.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Fri Jan 06, 2012 5:09 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Dwedit wrote:</div><div class="quotecontent">Problem is that NES C wants you to do weird things to help optimize your code, like using global/static variables instead of local variables.</div>
<br />This is largely an artifact of the 6502's 8-bit stack pointer and its lack of the 65816's d,s and (d,s),y address mode, which makes stack-based local variables practical on the 65816 but not on the 6502. (C has problems throughout the 6502 family, due in part to no hardware multiply for indexing into big arrays.) It's also an artifact of the compiler's assumption that all subroutines are potentially recursive. Otherwise, the compiler could allocate local variables on zero page based on call depth, as kevtris explained to me: leaf functions' local variables start at $00, and an outer function's local variables start after those of the functions it calls.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>5</strong> of <strong>6</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>