<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<link rel="icon" href="/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />

<title>nesdev.com &bull; View topic - Reverse engineering funny multi-game cartridge</title>

<link rel="alternate" type="application/atom+xml" title="Feed - nesdev.com" href="http://forums.nesdev.com/feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - News" href="http://forums.nesdev.com/feed.php?mode=news" /><link rel="alternate" type="application/atom+xml" title="Feed - All forums" href="http://forums.nesdev.com/feed.php?mode=forums" /><link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="http://forums.nesdev.com/feed.php?mode=topics" /><link rel="alternate" type="application/atom+xml" title="Feed - Active Topics" href="http://forums.nesdev.com/feed.php?mode=topics_active" /><link rel="alternate" type="application/atom+xml" title="Feed - Forum - NES Hardware and Flash Equipment" href="http://forums.nesdev.com/feed.php?f=9" /><link rel="alternate" type="application/atom+xml" title="Feed - Topic - Reverse engineering funny multi-game cartridge" href="http://forums.nesdev.com/feed.php?f=9&amp;t=16272" />

<link rel="stylesheet" href="./style.php?id=1&amp;lang=en" type="text/css" />

<script type="text/javascript">
// <![CDATA[


function popup(url, width, height, name)
{
	if (!name)
	{
		name = '_popup';
	}

	window.open(url.replace(/&amp;/g, '&'), name, 'height=' + height + ',resizable=yes,scrollbars=yes,width=' + width);
	return false;
}

function jumpto()
{
	var page = prompt('Enter the page number you wish to go to:', '1');
	var per_page = '';
	var base_url = '';

	if (page !== null && !isNaN(page) && page == Math.floor(page) && page > 0)
	{
		if (base_url.indexOf('?') == -1)
		{
			document.location.href = base_url + '?start=' + ((page - 1) * per_page);
		}
		else
		{
			document.location.href = base_url.replace(/&amp;/g, '&') + '&start=' + ((page - 1) * per_page);
		}
	}
}

/**
* Find a member
*/
function find_username(url)
{
	popup(url, 760, 570, '_usersearch');
	return false;
}

/**
* Mark/unmark checklist
* id = ID of parent container, name = name prefix, state = state [true/false]
*/
function marklist(id, name, state)
{
	var parent = document.getElementById(id);
	if (!parent)
	{
		eval('parent = document.' + id);
	}

	if (!parent)
	{
		return;
	}

	var rb = parent.getElementsByTagName('input');
	
	for (var r = 0; r < rb.length; r++)
	{
		if (rb[r].name.substr(0, name.length) == name)
		{
			rb[r].checked = state;
		}
	}
}



	/**
	* Play quicktime file by determining it's width/height
	* from the displayed rectangle area
	*
	* Only defined if there is a file block present.
	*/
	function play_qt_file(obj)
	{
		var rectangle = obj.GetRectangle();

		if (rectangle)
		{
			rectangle = rectangle.split(',')
			var x1 = parseInt(rectangle[0]);
			var x2 = parseInt(rectangle[2]);
			var y1 = parseInt(rectangle[1]);
			var y2 = parseInt(rectangle[3]);

			var width = (x1 < 0) ? (x1 * -1) + x2 : x2 - x1;
			var height = (y1 < 0) ? (y1 * -1) + y2 : y2 - y1;
		}
		else
		{
			var width = 200;
			var height = 0;
		}

		obj.width = width;
		obj.height = height + 16;

		obj.SetControllerVisible(true);

		obj.Play();
	}


// ]]>
</script>
</head>
<body class="ltr">

<a name="top"></a>

<div id="wrapheader">

	<div id="logodesc">
	</div>

	<div id="menubar">

		<table width="100%" cellspacing="0">
		<tr>
			<td rowspan="2"><a href="./index.php"><img src="./styles/subsilver2/imageset/site_logo.gif" alt="" title="" /></a></td>
			<td width="100%" align="center"><h1>nesdev.com</h1><span class="gen">NES Development and Strangulation Records message boards</span></td>
		</tr>
		<tr>
			<td align="center">
				<!--<div style="float: right;">
					<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
					<input type="hidden" name="cmd" value="_s-xclick">
					<input type="hidden" name="hosted_button_id" value="X2HM4WNR5YT8S">
					<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
					<img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
					</form>
				</div>-->
				<a href="./faq.php"><img src="./styles/prosilver/theme/images/icon_mini_faq.gif" width="12" height="13" alt="*" /> FAQ</a>
				&nbsp; &nbsp;<a href="./search.php"><img src="./styles/prosilver/theme/images/icon_mini_search.gif" width="12" height="13" alt="*" /> Search</a>
				<br />	
				 &nbsp;<a href="./ucp.php?mode=minion"><img src="./styles/prosilver/theme/images/icon_mini_register.gif" width="12" height="13" alt="*" /> Register</a>
					&nbsp; &nbsp;<a href="./ucp.php?mode=login"><img src="./styles/prosilver/theme/images/icon_mini_login.gif" width="12" height="13" alt="*" /> Login</a>&nbsp;
			</td>
		</tr>
		</table>
	</div>

	<div id="datebar">
		<table width="100%" cellspacing="0">
		<tr>
			<td class="gensmall"></td>
			<td class="gensmall" align="right">It is currently Fri Aug 17, 2018 12:05 am<br /></td>
		</tr>
		</table>
	</div>

</div>

<div id="wrapcentre">

	
	<p class="searchbar">
		<span style="float: left;"><a href="./search.php?search_id=unanswered">View unanswered posts</a> | <a href="./search.php?search_id=active_topics">View active topics</a></span>
		
	</p>
	

	<br style="clear: both;" />

	<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=24">NES / Famicom</a> &#187; <a href="./viewforum.php?f=9">NES Hardware and Flash Equipment</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>

	<br />
	

					<center>
					<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- NesDev Forums -->
					<ins class="adsbygoogle"
						 style="display:block"
						 data-ad-client="ca-pub-7801010229099644"
						 data-ad-slot="7979066809"
						 data-ad-format="auto"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>
					</center>
	<br />


<div id="pageheader">
	<h2><a class="titles" href="./viewtopic.php?f=9&amp;t=16272">Reverse engineering funny multi-game cartridge</a></h2>


	<p class="moderators">Moderators: <a href="./memberlist.php?mode=viewprofile&amp;u=3466">B00daW</a>, <a href="./memberlist.php?mode=group&amp;g=320">Moderators</a></p>

</div>

<br clear="all" /><br />

<div id="pagecontent">

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=9"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=9&amp;t=16272"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>1</strong> of <strong>1</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 6 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"></td>
		
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat">
			<table width="100%" cellspacing="0">
			<tr>
				<td class="nav" nowrap="nowrap">&nbsp;
				<a href="./viewtopic.php?f=9&amp;t=16272&amp;view=print" title="Print view">Print view</a>
				</td>
				<td class="nav" align="right" nowrap="nowrap"><a href="./viewtopic.php?f=9&amp;t=16272&amp;view=previous">Previous topic</a> | <a href="./viewtopic.php?f=9&amp;t=16272&amp;view=next">Next topic</a>&nbsp;</td>
			</tr>
			</table>
		</td>
	</tr>

	</table>


	<table class="tablebg" width="100%" cellspacing="1">
	
		<tr>
			<th>Author</th>
			<th>Message</th>
		</tr>
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p201138"></a>
				<b class="postauthor">krzysiobal</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p201138">Reverse engineering funny multi-game cartridge</a></div><div style="float: right;"><a href="./viewtopic.php?p=201138#p201138"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Jul 28, 2017 5:09 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Jun 12, 2011 12:06 pm<br /><b>Posts:</b> 355<br /><b>Location:</b> Poland
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I got Rinco famiclone (which looks just like Famicom) to fix it. It has one additional 60 pin cartridge socket underneath with multi-game cartridge inserted. I decided to reverse-engineer it because it looks funny (PAL, so many diodes and some mysterious pads with missing chips &amp; resistors)<br /><a href="http://obrazki.elektroda.pl/1674260900_1501282772.jpg" class="postlink"><img src="http://obrazki.elektroda.pl/1674260900_1501282772_thumb.jpg" alt="Image" /></a><br /><br />The cartridge was probably projectted to be put in two-slot consoles, because it is really narrow (nothing to lock against clips in cartridge shell) and was done on 1.5 mm laminate - requires so much force to put it inside.<br /><br />I dumped the menu (CPU $8000-$FFFF + PPU $0000-$1FFF), which can be done with help of kazzo to almost any multicart cartridge without knowledge how it works - except those which start messing with banks at startup.<br /><br />Cartridge contains 200 000 games, but in fact, only: Mario, Lunar ball, Duck Hunt, Wild gunman, Hogans Alley, Bomber man, Tank, Sky destroyer, Binary land, Ice climber. Programmers divided the menu into 1-5000, 5001-10000, etc for easier navigation. <br /><a href="http://obrazki.elektroda.pl/4233306400_1501283468.png" class="postlink"><img src="http://obrazki.elektroda.pl/4233306400_1501283468_thumb.jpg" alt="Image" /></a> <a href="http://obrazki.elektroda.pl/4565223800_1501283468.png" class="postlink"><img src="http://obrazki.elektroda.pl/4565223800_1501283468_thumb.jpg" alt="Image" /></a> <a href="http://obrazki.elektroda.pl/9240226500_1501283469.png" class="postlink"><img src="http://obrazki.elektroda.pl/9240226500_1501283469_thumb.jpg" alt="Image" /></a> <br /><br />First i desoldered chips and rev-ed all tracks<br /><a href="http://obrazki.elektroda.pl/2676737600_1501283524.jpg" class="postlink"><img src="http://obrazki.elektroda.pl/2676737600_1501283524_thumb.jpg" alt="Image" /></a> <a href="http://obrazki.elektroda.pl/6811442900_1501283526.jpg" class="postlink"><img src="http://obrazki.elektroda.pl/6811442900_1501283526_thumb.jpg" alt="Image" /></a> <br /><br />Those glob-tobs have pins in almost same order like ordinary ROMs:<br /><a href="http://obrazki.elektroda.pl/6389913900_1501283855.jpg" class="postlink"><img src="http://obrazki.elektroda.pl/6389913900_1501283855_thumb.jpg" alt="Image" /></a> <a href="http://obrazki.elektroda.pl/1506105800_1501283857.jpg" class="postlink"><img src="http://obrazki.elektroda.pl/1506105800_1501283857_thumb.jpg" alt="Image" /></a> <br /><br />PRG-ROM is 256k, CHR-ROM is 128 kB. CHR-ROM has only one chip enable line.<br /><br />Then I rev-ed schematics:<br /><a href="http://obrazki.elektroda.pl/7181911200_1501285358.png" class="postlink"><img src="http://obrazki.elektroda.pl/7181911200_1501285358_thumb.jpg" alt="Image" /></a><br /><br />Some notes:<br />* There is 74273 8 bit latch (adress bits A0-A7 are latched, but A4 &amp; A5 are not used)<br />* ROM is not turned off during writes at $8000-$FFFF (bus conflicts),<br />* There is R-C-D reset circuitry which sets latch's bits to 0 on startup,<br />* Two diodes + resistors were used as poor man's OR gate (ORing PPU-A13 &amp; PPU-!RD to feed the result into CHR-ROM's !CE),<br />* PAL16L8's is configured to serve as 12 input &amp; 6 output combinational logic.<br /><br />Then I dumped the PAL to binary using  my home-made flash reader.<br />Then I wrote simple program to convert the binary file into espresso text description:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">.i 12<br />.o 6<br />.ilb PPU-A11 PPU-A10 REG.A7 REG.A6 CPU-A14 CPU-A13 CPU-A12 REG.A2 REG.A1 REG.A0 CPU-!ROMSEL! CPU-R/!W! <br />.ob REG.WR PRG-A14 PRG-A15 PRG-A16 BUF-!OE! CIRAM-A10 <br />000000000000 000010<br />000000000001 000010<br />000000000010 000010<br />000000000011 000010<br />000000000100 010010<br />000000000101 010010<br />000000000110 010010<br />000000000111 010010<br />...<br /></div><br /><br />Then I ran espresso on this file to generate logic formulas for each output:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">REG.WR = (CPU-A14 &amp; not CPU-A13 &amp; CPU-A12 &amp; CPU-!ROMSEL! &amp; not CPU-R/!W!);<br />PRG-A14 = (not REG.A6 &amp; CPU-A14 &amp; not REG.A1) | (not REG.A6 &amp; CPU-A14 &amp; not REG.A2) | (REG.A0);<br />PRG-A15 = (not REG.A6 &amp; REG.A2 &amp; REG.A0) | (not REG.A6 &amp; CPU-A14 &amp; not REG.A2) | (REG.A1);<br />PRG-A16 = (not REG.A6 &amp; CPU-A14 &amp; notREG.A2) | (REG.A2);<br />BUF-!OE! = (CPU-A14 &amp; not CPU-A13 &amp; CPU-A12 &amp; CPU-!ROMSEL! &amp; not CPU-R/!W!) | (not CPU-!ROMSEL!) | (notCPU-A12) | (CPU-A13) | (not CPU-A14);<br />CIRAM-A10 = (PPU-A10 &amp; not REG.A7) | (PPU-A11 &amp; REG.A7);<br /></div><br /><br />Data is latched on rising edge of REG.WR signal, which corresponds to writes at $5000-$5FFF (beginning of cycle) or $D000-$DFFF (end of cycle). In fact, first region is used because it does not produce bus conflicts with ROM.<br /><br />Generally:<br />* PRG-A14 &lt;- A0, PRG-A15 &lt;- A1, PRG-A16 &lt;- A2, PRG-A17 &lt;= A3 (at $8000-$b000),<br />* A6 controls 16 KB / 32 KB banking mode,<br />* at $c000-$ffff there is some magic,<br />* A7 controls mirroring<br /><br /><strong>Mysterious DIL14 chip, resistors and jumpers</strong><br />In those mysterious 14 pads probably 74125 tri state buffer should be placed:<br /><a href="http://obrazki.elektroda.pl/2821776800_1501285500.png" class="postlink"><img src="http://obrazki.elektroda.pl/2821776800_1501285500_thumb.jpg" alt="Image" /></a> <a href="http://obrazki.elektroda.pl/6852534800_1501285591.gif" class="postlink"><img src="http://obrazki.elektroda.pl/6852534800_1501285591_thumb.jpg" alt="Image" /></a><br /><br />Its four inputs are combination of GND/VCC (according to jumpers), which are placed on D0-D3 bus when BUF_!OE goes low, which corresponds to reading from $5000-$5FFF. Probably that could be used for reading some magic value and displaying different game sets, based on that (manufacturer could produce just one type of PCB with same glop-tops and create pseudo-different cartridges according to jumpers)<br /><br /><br />Kazzo script for dumping whole set would be:<br />for (a = 0x5000; a &lt; 0x5010; ++a) {<br />	cpu_w(a, 0x00);<br />	cpu_r(0x8000, 0xbfff);<br />	ppu_r(0x0000, 0x1fff);<br />}<br />During whole operation, m2 must have 1.7 MHz clock, otherwise register will reset.</div>

					
						<br clear="all" /><br />

						<table class="tablebg" width="100%" cellspacing="1">
						<tr>
							<td class="row3"><b class="genmed">Attachments: </b></td>
						</tr>
						
							<tr>
								<td class="row2">
			<span class="genmed">
				<img src="./styles/subsilver2/imageset/icon_topic_attach.gif" width="14" height="18" alt="" title="" /> 
				<a href="./download/file.php?id=9638">pal.bin</a> [4 KiB]
			</span><br />
			<span class="gensmall">Downloaded 65 times</span>
		

		<br />
	</td>
							</tr>
						
							<tr>
								<td class="row1">
			<span class="genmed">
				<img src="./styles/subsilver2/imageset/icon_topic_attach.gif" width="14" height="18" alt="" title="" /> 
				<a href="./download/file.php?id=9636">only_menu.nes</a> [40.02 KiB]
			</span><br />
			<span class="gensmall">Downloaded 73 times</span>
		

		<br />
	</td>
							</tr>
						
						</table>
					

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=4898"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p201140"></a>
				<b class="postauthor">Quietust</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p201140">Re: Reverse engineering funny multi-game cartridge</a></div><div style="float: right;"><a href="./viewtopic.php?p=201140#p201140"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Jul 28, 2017 5:33 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=7.png" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Sep 19, 2004 10:59 pm<br /><b>Posts:</b> 1421
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Probably shouldn't attach the <em>full</em> multicart ROM, since those games are technically copyrighted (even if the copyright text has been edited out) - the menu-only ROM is probably fine, though.</div>

					
						<div class="postbody"><br />_________________<br />Quietust, QMT Productions
<br />P.S. If you don't get this note, let me know and I'll write you another.</div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=7"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p201145"></a>
				<b class="postauthor">zxbdragon</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p201145">Re: Reverse engineering funny multi-game cartridge</a></div><div style="float: right;"><a href="./viewtopic.php?p=201145#p201145"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Jul 28, 2017 6:29 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Dec 12, 2011 8:15 pm<br /><b>Posts:</b> 427
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">krzysiobal wrote:</div><div class="quotecontent">I got Rinco famiclone (which looks just like Famicom) to fix it. It has one additional 60 pin cartridge socket underneath with multi-game cartridge inserted. I decided to reverse-engineer it because it looks funny (PAL, so many diodes and some mysterious pads with missing chips &amp; resistors)<br /><a href="http://obrazki.elektroda.pl/1674260900_1501282772.jpg" class="postlink"><img src="http://obrazki.elektroda.pl/1674260900_1501282772_thumb.jpg" alt="Image" /></a><br /><br />The cartridge was probably projectted to be put in two-slot consoles, because it is really narrow (nothing to lock against clips in cartridge shell) and was done on 1.5 mm laminate - requires so much force to put it inside.<br /><br />I dumped the menu (CPU $8000-$FFFF + PPU $0000-$1FFF), which can be done with help of kazzo to almost any multicart cartridge without knowledge how it works - except those which start messing with banks at startup.<br /><br />Cartridge contains 200 000 games, but in fact, only: Mario, Lunar ball, Duck Hunt, Wild gunman, Hogans Alley, Bomber man, Tank, Sky destroyer, Binary land, Ice climber. Programmers divided the menu into 1-5000, 5001-10000, etc for easier navigation. <br /><a href="http://obrazki.elektroda.pl/4233306400_1501283468.png" class="postlink"><img src="http://obrazki.elektroda.pl/4233306400_1501283468_thumb.jpg" alt="Image" /></a> <a href="http://obrazki.elektroda.pl/4565223800_1501283468.png" class="postlink"><img src="http://obrazki.elektroda.pl/4565223800_1501283468_thumb.jpg" alt="Image" /></a> <a href="http://obrazki.elektroda.pl/9240226500_1501283469.png" class="postlink"><img src="http://obrazki.elektroda.pl/9240226500_1501283469_thumb.jpg" alt="Image" /></a> <br /><br />First i desoldered chips and rev-ed all tracks<br /><a href="http://obrazki.elektroda.pl/2676737600_1501283524.jpg" class="postlink"><img src="http://obrazki.elektroda.pl/2676737600_1501283524_thumb.jpg" alt="Image" /></a> <a href="http://obrazki.elektroda.pl/6811442900_1501283526.jpg" class="postlink"><img src="http://obrazki.elektroda.pl/6811442900_1501283526_thumb.jpg" alt="Image" /></a> <br /><br />Those glob-tobs have pins in almost same order like ordinary ROMs:<br /><a href="http://obrazki.elektroda.pl/6389913900_1501283855.jpg" class="postlink"><img src="http://obrazki.elektroda.pl/6389913900_1501283855_thumb.jpg" alt="Image" /></a> <a href="http://obrazki.elektroda.pl/1506105800_1501283857.jpg" class="postlink"><img src="http://obrazki.elektroda.pl/1506105800_1501283857_thumb.jpg" alt="Image" /></a> <br /><br />PRG-ROM is 256k, CHR-ROM is 128 kB. CHR-ROM has only one chip enable line.<br /><br />Then I rev-ed schematics:<br /><a href="http://obrazki.elektroda.pl/7181911200_1501285358.png" class="postlink"><img src="http://obrazki.elektroda.pl/7181911200_1501285358_thumb.jpg" alt="Image" /></a><br /><br />Some notes:<br />* There is 74273 8 bit latch (adress bits A0-A7 are latched, but A4 &amp; A5 are not used)<br />* ROM is not turned off during writes at $8000-$FFFF (bus conflicts),<br />* There is R-C-D reset circuitry which sets latch's bits to 0 on startup,<br />* Two diodes + resistors were used as poor man's OR gate (ORing PPU-A13 &amp; PPU-!RD to feed the result into CHR-ROM's !CE),<br />* PAL16L8's is configured to serve as 12 input &amp; 6 output combinational logic.<br /><br />Then I dumped the PAL to binary using  my home-made flash reader.<br />Then I wrote simple program to convert the binary file into espresso text description:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">.i 12<br />.o 6<br />.ilb PPU-A11 PPU-A10 REG.A7 REG.A6 CPU-A14 CPU-A13 CPU-A12 REG.A2 REG.A1 REG.A0 CPU-!ROMSEL! CPU-R/!W! <br />.ob REG.WR PRG-A14 PRG-A15 PRG-A16 BUF-!OE! CIRAM-A10 <br />000000000000 000010<br />000000000001 000010<br />000000000010 000010<br />000000000011 000010<br />000000000100 010010<br />000000000101 010010<br />000000000110 010010<br />000000000111 010010<br />...<br /></div><br /><br />Then I ran espresso on this file to generate logic formulas for each output:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">REG.WR = (CPU-A14 &amp; not CPU-A13 &amp; CPU-A12 &amp; CPU-!ROMSEL! &amp; not CPU-R/!W!);<br />PRG-A14 = (not REG.A6 &amp; CPU-A14 &amp; not REG.A1) | (not REG.A6 &amp; CPU-A14 &amp; not REG.A2) | (REG.A0);<br />PRG-A15 = (not REG.A6 &amp; REG.A2 &amp; REG.A0) | (not REG.A6 &amp; CPU-A14 &amp; not REG.A2) | (REG.A1);<br />PRG-A16 = (not REG.A6 &amp; CPU-A14 &amp; notREG.A2) | (REG.A2);<br />BUF-!OE! = (CPU-A14 &amp; not CPU-A13 &amp; CPU-A12 &amp; CPU-!ROMSEL! &amp; not CPU-R/!W!) | (not CPU-!ROMSEL!) | (notCPU-A12) | (CPU-A13) | (not CPU-A14);<br />CIRAM-A10 = (PPU-A10 &amp; not REG.A7) | (PPU-A11 &amp; REG.A7);<br /></div><br /><br />Data is latched on rising edge of REG.WR signal, which corresponds to writes at $5000-$5FFF (beginning of cycle) or $D000-$DFFF (end of cycle). In fact, first region is used because it does not produce bus conflicts with ROM.<br /><br />Generally:<br />* PRG-A14 &lt;- A0, PRG-A15 &lt;- A1, PRG-A16 &lt;- A2, PRG-A17 &lt;= A3 (at $8000-$b000),<br />* A6 controls 16 KB / 32 KB banking mode,<br />* at $c000-$ffff there is some magic,<br />* A7 controls mirroring<br /><br /><strong>Mysterious DIL14 chip, resistors and jumpers</strong><br />In those mysterious 14 pads probably 74125 tri state buffer should be placed:<br /><a href="http://obrazki.elektroda.pl/2821776800_1501285500.png" class="postlink"><img src="http://obrazki.elektroda.pl/2821776800_1501285500_thumb.jpg" alt="Image" /></a> <a href="http://obrazki.elektroda.pl/6852534800_1501285591.gif" class="postlink"><img src="http://obrazki.elektroda.pl/6852534800_1501285591_thumb.jpg" alt="Image" /></a><br /><br />Its four inputs are combination of GND/VCC (according to jumpers), which are placed on D0-D3 bus when BUF_!OE goes low, which corresponds to reading from $5000-$5FFF. Probably that could be used for reading some magic value and displaying different game sets, based on that (manufacturer could produce just one type of PCB with same glop-tops and create pseudo-different cartridges according to jumpers)<br /><br /><br />Kazzo script for dumping whole set would be:<br />for (a = 0x5000; a &lt; 0x5010; ++a) {<br />	cpu_w(a, 0x00);<br />	cpu_r(0x8000, 0xbfff);<br />	ppu_r(0x0000, 0x1fff);<br />}<br />During whole operation, m2 must have 1.7 MHz clock, otherwise register will reset.</div><br /><br /><br />dump bad! I think!</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=5124"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p201148"></a>
				<b class="postauthor">lidnariq</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p201148">Re: Reverse engineering funny multi-game cartridge</a></div><div style="float: right;"><a href="./viewtopic.php?p=201148#p201148"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Jul 28, 2017 7:22 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Apr 13, 2008 11:12 am<br /><b>Posts:</b> 7391<br /><b>Location:</b> Seattle
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">krzysiobal wrote:</div><div class="quotecontent">Data is latched on rising edge of REG.WR signal, which corresponds to writes at $5000-$5FFF (beginning of cycle) or $D000-$DFFF (end of cycle). In fact, first region is used because it does not produce bus conflicts with ROM.<br /></div>Due to only relying on /ROMSEL (and not M2), it's actually a little weirder/better. For both addresses, /ROMSEL is high for the first half cycle, and so ROM is also not driving for the first half cycle.<br />The ≈20ns latency due to the 74'139 on the mainboard means that the write ends up being latched on the rising edge of <em>the previous</em> /ROMSEL, at which point all the other signals are stable.<br /><br />When /ROMSEL falls on a write to $D000, the rising edge has already happened; there will be no bus conflicts for the latch to care about. (There'll still be a fight between the ROM and the CPU). When /ROMSEL rises again on the following cycle, the other checked values will have already changed.<br /><br />I used Minilog to see if I can could a clearer explanation of what the banking logic is, but it only sorta helped.<br />PRG-A16 can be simplified: <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">&#40;/Q6 &amp; CPUA14&#41; | Q2</tt><br />BUF-/OE can be simplified also: <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">/R/W | //ROMSEL | /A12 | /A14 | A13</tt>.<br /><br />In conclusion, the only idea I can think of is to make a table:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp;reg&amp;$47 bank$8000 bank$C000<br />&nbsp; 00&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;7<br />&nbsp; 01&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;7<br />&nbsp; 02&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;7<br />&nbsp; 03&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;3&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;7<br />&nbsp; 04&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;5<br />&nbsp; 05&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;7&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;7<br />&nbsp; 06&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;6&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;3<br />&nbsp; 07&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;7&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;7<br />&nbsp; 40&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 ; vv- the already-identified 16K mode<br />&nbsp; 41&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1<br />&nbsp; 42&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2<br />&nbsp; 43&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;3&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;3<br />&nbsp; 44&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;4<br />&nbsp; 45&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;5&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;5<br />&nbsp; 46&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;6&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;6<br />&nbsp; 47&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;7&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;7<br /></div><br /><br />So, <em>when Q6 is low</em> ... there's room for one 64K UNROM game across 16K banks 0,1,2,7, and two 32K NROM games in banks 4,5, and 6,3. (in each 128K half of the 256K PRG)</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3512"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p201166"></a>
				<b class="postauthor">krzysiobal</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p201166">Re: Reverse engineering funny multi-game cartridge</a></div><div style="float: right;"><a href="./viewtopic.php?p=201166#p201166"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sat Jul 29, 2017 10:48 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Jun 12, 2011 12:06 pm<br /><b>Posts:</b> 355<br /><b>Location:</b> Poland
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">The ≈20ns latency due to the 74'139 on the mainboard means that the write ends up being latched on the rising edge of the previous /ROMSEL, at which point all the other signals are stable.<br /></div><br />There is huge 10nF capacitor on latch's clock to ground, so it probably will block such spikes.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">So, when Q6 is low ... there's room for one 64K UNROM game across 16K banks 0,1,2,7, and two 32K NROM games in banks 4,5, and 6,3. (in each 128K half of the 256K PRG)<br /></div><br />Maybe there is also Contra, because there are entries like `jungale, base1, waterfall, base2, snow field, energy zone` which corrsponds to level names (I forgot to check it, now the cart is no longer in my hands), <br /><br />I think the 'jumpers' are rather intended to be used with some kind of switch, rather than jumpers (otherwise they would not put places for resistors).<br /><br />The menu just before start indeed reads $5000-$5fff (even twice and copares the values, if they are not equal, it ends in infinite loop). Thanks to open bus capacitance, 0x50 is read.<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp;01:CC80:AD 00 50&nbsp; LDA $5000 = #$EA<br />&nbsp;01:CC83:85 12&nbsp; &nbsp; &nbsp;STA $0012 = #$50<br />&nbsp;01:CC85:EA&nbsp; &nbsp; &nbsp; &nbsp; NOP<br />&nbsp;01:CC86:EA&nbsp; &nbsp; &nbsp; &nbsp; NOP<br />&gt;01:CC87:AD 01 50&nbsp; LDA $5001 = #$EA<br />&nbsp;01:CC8A:C5 12&nbsp; &nbsp; &nbsp;CMP $0012 = #$50<br />&nbsp;01:CC8C:D0 F2&nbsp; &nbsp; &nbsp;BNE $CC80<br />&nbsp;01:CC8E:A5 12&nbsp; &nbsp; &nbsp;LDA $0012 = #$50<br />&nbsp;01:CC90:29 0F&nbsp; &nbsp; &nbsp;AND #$0F<br />&nbsp;01:CC92:C9 01&nbsp; &nbsp; &nbsp;CMP #$01<br />&nbsp;01:CC94:90 0B&nbsp; &nbsp; &nbsp;BCC $CCA1<br />&nbsp;01:CC96:C9 03&nbsp; &nbsp; &nbsp;CMP #$03<br />&nbsp;01:CC98:90 0A&nbsp; &nbsp; &nbsp;BCC $CCA4<br />&nbsp;01:CC9A:C9 06&nbsp; &nbsp; &nbsp;CMP #$06<br />&nbsp;01:CC9C:90 0C&nbsp; &nbsp; &nbsp;BCC $CCAA<br />&nbsp;01:CC9E:4C B0 CC&nbsp; JMP $CCB0<br />&nbsp;01:CCA1:4C 00 80&nbsp; JMP $8000<br />&nbsp;01:CCA4:8D 01 50&nbsp; STA $5001 = #$EA<br />&nbsp;01:CCA7:4C 00 80&nbsp; JMP $8000<br />&nbsp;01:CCAA:8D 02 50&nbsp; STA $5002 = #$EA<br />&nbsp;01:CCAD:4C 00 80&nbsp; JMP $8000<br />&nbsp;01:CCB0:8D 03 50&nbsp; STA $5003 = #$EA<br />&nbsp;01:CCB3:4C 00 80&nbsp; JMP $8000<br /></div></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=4898"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p201168"></a>
				<b class="postauthor">lidnariq</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p201168">Re: Reverse engineering funny multi-game cartridge</a></div><div style="float: right;"><a href="./viewtopic.php?p=201168#p201168"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sat Jul 29, 2017 11:19 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Apr 13, 2008 11:12 am<br /><b>Posts:</b> 7391<br /><b>Location:</b> Seattle
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">krzysiobal wrote:</div><div class="quotecontent">There is huge 10nF capacitor on latch's clock to ground, so it probably will block such spikes.<br /></div>Even better.<br /><br />Thinking about it a little more, I realized there could be bus conflicts during the moment of transition. Adding the capacitor helps protect against that.<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; v bus conflict while /ROMSEL still low and R/W low<br />&nbsp;A0-A15 &lt; ROM&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&lt; $5 or $D xxx &gt;<br />&nbsp; D0-D7 &gt;&lt;HiZ &gt;&lt;&nbsp; &nbsp;ROM&nbsp; ◇&nbsp; CPU&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&gt;<br />&nbsp; &nbsp; R/W ^^^^^^^^^^^^^^^^________________<br />&nbsp; &nbsp; &nbsp;M2 ______^^^^^^^^^^______^^^^^^^^^^<br />/ROMSEL _^^^^^^__________^^^^^^=========<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&lt; latch would happen here without added capacitor; ROM hasn't gotten off the bus yet<br /></div><br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I think the 'jumpers' are rather intended to be used with some kind of switch, rather than jumpers (otherwise they would not put places for resistors).<br /></div>Maybe pre-populated jumpers and resistors, and the person doing the customization just needs a diagonal cutter instead of a soldering iron?<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp;01:CC80:AD 00 50&nbsp; LDA $5000 = #$EA<br />&#91;...&#93;<br />&nbsp;01:CCA4:8D 01 50&nbsp; STA $5001 = #$EA<br />&nbsp;01:CCAA:8D 02 50&nbsp; STA $5002 = #$EA<br />&nbsp;01:CCB0:8D 03 50&nbsp; STA $5003 = #$EA<br /></div></div> So it ultimately switches between one of three different stubs, all of which have access to the same bank at $C000, depending on the value from the jumper pack. Odd.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3512"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table width="100%" cellspacing="1" class="tablebg">
	<tr align="center">
		<td class="cat"><form name="viewtopic" method="post" action="./viewtopic.php?f=9&amp;t=16272"><span class="gensmall">Display posts from previous:</span> <select name="st" id="st"><option value="0" selected="selected">All posts</option><option value="1">1 day</option><option value="7">7 days</option><option value="14">2 weeks</option><option value="30">1 month</option><option value="90">3 months</option><option value="180">6 months</option><option value="365">1 year</option></select>&nbsp;<span class="gensmall">Sort by</span> <select name="sk" id="sk"><option value="a">Author</option><option value="t" selected="selected">Post time</option><option value="s">Subject</option></select> <select name="sd" id="sd"><option value="a" selected="selected">Ascending</option><option value="d">Descending</option></select>&nbsp;<input class="btnlite" type="submit" value="Go" name="sort" /></form></td>
	</tr>
	</table>
	

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=9"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=9&amp;t=16272"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>1</strong> of <strong>1</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 6 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"></td>
		
	</tr>
	</table>

</div>

<div id="pagefooter"></div>

<br clear="all" />
<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=24">NES / Famicom</a> &#187; <a href="./viewforum.php?f=9">NES Hardware and Flash Equipment</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>
	<br clear="all" />

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat"><h4>Who is online</h4></td>
	</tr>
	<tr>
		<td class="row1"><p class="gensmall">Users browsing this forum: No registered users and 3 guests</p></td>
	</tr>
	</table>


<br clear="all" />

<table width="100%" cellspacing="1">
<tr>
	<td width="40%" valign="top" nowrap="nowrap" align="left"></td>
	<td align="right" valign="top" nowrap="nowrap"><span class="gensmall">You <strong>cannot</strong> post new topics in this forum<br />You <strong>cannot</strong> reply to topics in this forum<br />You <strong>cannot</strong> edit your posts in this forum<br />You <strong>cannot</strong> delete your posts in this forum<br />You <strong>cannot</strong> post attachments in this forum<br /></span></td>
</tr>
</table>

<br clear="all" />

<table width="100%" cellspacing="0">
<tr>
	<td><form method="get" name="search" action="./search.php"><span class="gensmall">Search for:</span> <input class="post" type="text" name="keywords" size="20" /> <input class="btnlite" type="submit" value="Go" /><input type="hidden" name="t" value="16272" />
<input type="hidden" name="sf" value="msgonly" />
</form></td>
	<td align="right">
	<form method="post" name="jumpbox" action="./viewforum.php" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	<table cellspacing="0" cellpadding="0" border="0">
	<tr>
		<td nowrap="nowrap"><span class="gensmall">Jump to:</span>&nbsp;<select name="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">

		
			<option value="-1">Select a forum</option>
		<option value="-1">------------------</option>
			<option value="24">NES / Famicom</option>
		
			<option value="2">&nbsp; &nbsp;NESdev</option>
		
			<option value="3">&nbsp; &nbsp;NESemdev</option>
		
			<option value="21">&nbsp; &nbsp;NES Graphics</option>
		
			<option value="6">&nbsp; &nbsp;NES Music</option>
		
			<option value="22">&nbsp; &nbsp;Homebrew Projects</option>
		
			<option value="34">&nbsp; &nbsp;&nbsp; &nbsp;2018 NESdev Competition</option>
		
			<option value="33">&nbsp; &nbsp;&nbsp; &nbsp;2017 NESdev Competition</option>
		
			<option value="32">&nbsp; &nbsp;&nbsp; &nbsp;2016 NESdev Competition</option>
		
			<option value="31">&nbsp; &nbsp;&nbsp; &nbsp;2014 NESdev Competition</option>
		
			<option value="30">&nbsp; &nbsp;&nbsp; &nbsp;2011 NESdev Competition</option>
		
			<option value="10">&nbsp; &nbsp;Newbie Help Center</option>
		
			<option value="9" selected="selected">&nbsp; &nbsp;NES Hardware and Flash Equipment</option>
		
			<option value="28">&nbsp; &nbsp;&nbsp; &nbsp;Reproduction</option>
		
			<option value="19">&nbsp; &nbsp;NESdev International</option>
		
			<option value="11">&nbsp; &nbsp;&nbsp; &nbsp;FCdev</option>
		
			<option value="18">&nbsp; &nbsp;&nbsp; &nbsp;NESdev China</option>
		
			<option value="27">&nbsp; &nbsp;&nbsp; &nbsp;NESdev Middle East</option>
		
			<option value="25">Other</option>
		
			<option value="5">&nbsp; &nbsp;General Stuff</option>
		
			<option value="4">&nbsp; &nbsp;Membler Industries</option>
		
			<option value="23">&nbsp; &nbsp;Other Retro Dev</option>
		
			<option value="12">&nbsp; &nbsp;&nbsp; &nbsp;SNESdev</option>
		
			<option value="20">&nbsp; &nbsp;&nbsp; &nbsp;GBDev</option>
		
			<option value="15">&nbsp; &nbsp;Test Forum</option>
		
			<option value="26">Site Issues</option>
		
			<option value="13">&nbsp; &nbsp;phpBB Issues</option>
		
			<option value="14">&nbsp; &nbsp;Web Issues</option>
		
			<option value="16">&nbsp; &nbsp;nesdevWiki</option>
		

		</select>&nbsp;<input class="btnlite" type="submit" value="Go" /></td>
	</tr>
	</table>

	</form>
</td>
</tr>
</table>


</div>


<div id="wrapfooter">
	
	<span class="copyright">Powered by <a href="http://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Group
	</span>
</div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-61452025-2', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>