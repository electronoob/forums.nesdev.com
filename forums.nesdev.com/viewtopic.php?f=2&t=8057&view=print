<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Crystal Mines Source Code Released</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Crystal Mines Source Code Released</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=2&amp;t=8057">http://forums.nesdev.com/viewtopic.php?f=2&amp;t=8057</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Gil-Galad</b> [ Wed Aug 24, 2011 6:10 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Crystal Mines Source Code Released</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I just received the source code to the Color Dreams game called Crystal Mines. Dan Lawton and the programmer and author of the game, Ken Beckett released this game's source code to me. 
<br />
<br />They said that they wanted the source code to get out there so that people could learn from it and improve it as they wished. Although, there is a particular license for the game. I will post it here but it is also inside the archive for the game. 
<br />
<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Ken's license:<br /><br />- The name "Crystal Mines", the graphics, sound, music, and the levels are NOT open source.  People other than me worked on them, and for that version of the game actually got royalties and still have ownership.  It's OK to possess them for personal use, but they can't be reused in a new game or distributed for profit.<br /><br />- As the sole author of the code, I (Ken Beckett) will allow the source code for the NES version to be used in other works, provided that:  A) Credit is given to 'Ken Beckett' in both the portions of re-used source code AND in the credits of the new game, and B) That the code is modified sufficiently such that the new game is not easily recognizable as being Crystal Mines with new graphics/sound/music.<br /><br />-Ken</div>
<br />
<br />Have fun and enjoy!
<br />
<br />You can get this stuff at <a href="http://gilgalad.arc-nova.org/" class="postlink">my website</a> in the source code section, specifically in the NES section. I also have some other stuff I uploaded but isn't NES.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>qbradq</b> [ Wed Aug 24, 2011 6:34 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Could you post a link to your site? I have no idea what it is.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Gilbert</b> [ Wed Aug 24, 2011 6:35 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Just click the www. button under his post.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Wed Aug 24, 2011 7:45 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Crystal Mines Source Code Released</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Gil-Galad wrote:</div><div class="quotecontent"><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">That the code is modified sufficiently such that the new game is not easily recognizable as being Crystal Mines with new graphics/sound/music.</div></div>
<br />I guess that's to shut out someone from making the next Exodus or Joshua. Either that or <a href="http://en.wikipedia.org/wiki/Boulder_Dash" class="postlink">First Star</a> raised a stink.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Wed Aug 24, 2011 7:52 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Color dreams' NES documentation wrote:</div><div class="quotecontent">A fifth [audio channel] set has a D to A and also a complex noise generator.  The last<br />set is very good for simulating things like a constant heart beat, fire,<br />machinery, or other complex repetitive forms.  Unfortunately it interfers<br />with joystick operation and we do not know why.  There is a reward of $2000<br />if you can explain this to me (offer may expire, inquire with Dan).  You<br />must deduce the info on your own, contacting outside sources with Nintendo<br />documents is forbidden.</div><br />It's fun this has been "discovered" here only a few years ago.<br /><div class="quotetitle">Color dreams' NES documentation wrote:</div><div class="quotecontent">	Bit 20H = This bit is set if there are more than 8 sprites on a line.<br />	          Since the extra sprites disappear (the highest numbered<br />	          sprites will not display), this is important data.  It<br />		  is recommended to manipulate reg 2003 by using a non-zero<br />		  value when the bit here gets set.  This way you can cause<br />		  the sprites that would disapear to blink instead..<br />[...]<br />Unfortunately,<br />	the information for the first 2 sprites is somehow lost when <br />	this technique is used.  If the technique is used only when bit<br />	H'20 is set in 2002 the loss of these 2 once in a while will be<br />	better than lossing the extra ones on the line completely.  If<br />	someone figures out why the 2 are lost, please notify me</div>
<br />It's the first time I see this idea. Does it actually work ?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dwedit</b> [ Wed Aug 24, 2011 10:01 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Using reg OAMADDR as a way of crude OAM cycling has been done before, but it's obvious that that documenation didn't know about all sprites past the  8th sprite being discarded on every scanline no matter what.  When they mention the first 2 sprites disappearing, that means they wrote a higher value to OAMADDR, then uploaded the sprite table.  So that means early sprites instead become late sprites, so they are discarded.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Wed Aug 24, 2011 10:22 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Dwedit wrote:</div><div class="quotecontent">it's obvious that that documenation didn't know about all sprites past the  8th sprite being discarded on every scanline no matter what.</div>
<br />I thought that's what "more than 8 sprites on a line. Since the extra sprites disappear" was supposed to mean.
<br />
<br />Now the thing about the first two sprites: has the behavior been fully reversed, or is it considered so obscure that it'll need a decap to fully appreciate?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Jarhmander</b> [ Thu Aug 25, 2011 8:49 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent"><div class="quotetitle">Color dreams' NES documentation wrote:</div><div class="quotecontent">A fifth [audio channel] set has a D to A and also a complex noise generator.  The last<br />set is very good for simulating things like a constant heart beat, fire,<br />machinery, or other complex repetitive forms.  Unfortunately it interfers<br />with joystick operation and we do not know why.  There is a reward of $2000<br />if you can explain this to me (offer may expire, inquire with Dan).  You<br />must deduce the info on your own, contacting outside sources with Nintendo<br />documents is forbidden.</div><br />It's fun this has been "discovered" here only a few years ago.<br /></div>
<br />Maybe they would like to know what is the cause of this problem, with a link to the thread that explained it.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Thu Aug 25, 2011 9:02 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />At this point? I seriously doubt that...

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>3gengames</b> [ Thu Aug 25, 2011 9:03 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Is it just me or does all source code of everyone elses programs just look...bad? I haven't seen source that's anywhere near the way I code my games, like this. Anyone else get that feeling? I browsed it but it was way too complex for me. &gt;.&gt;

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dwedit</b> [ Thu Aug 25, 2011 11:22 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Looks like the assembler he was using had label length constraints.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Gil-Galad</b> [ Sat Aug 27, 2011 6:55 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">~J-@D!~ wrote:</div><div class="quotecontent">Maybe they would like to know what is the cause of this problem, with a link to the thread that explained it.</div>
<br />
<br />Oh yeah, I told Daniel Lawton about this problem. Of course the offer expired to pay $2000 for the information. lol

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>