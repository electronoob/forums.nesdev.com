<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="http://forums.nesdev.com/feed.php?f=3&amp;t=8299" />

<title>nesdev.com</title>
<subtitle>NES Development and Strangulation Records message boards</subtitle>
<link href="http://forums.nesdev.com/index.php" />
<updated>2012-03-14T21:42:10-07:00</updated>

<author><name><![CDATA[nesdev.com]]></name></author>
<id>http://forums.nesdev.com/feed.php?f=3&amp;t=8299</id>
<entry>
<author><name><![CDATA[MottZilla]]></name></author>
<updated>2012-03-14T21:42:10-07:00</updated>
<published>2012-03-14T21:42:10-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8299&amp;p=91346#p91346</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8299&amp;p=91346#p91346"/>
<title type="html"><![CDATA[MMC2 question]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8299&amp;p=91346#p91346"><![CDATA[
That is one way to fix it and it doesn't really effect anything for the user, atleast not negatively.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=1726">MottZilla</a> — Wed Mar 14, 2012 9:42 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Zepper]]></name></author>
<updated>2012-03-13T20:51:35-07:00</updated>
<published>2012-03-13T20:51:35-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8299&amp;p=91320#p91320</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8299&amp;p=91320#p91320"/>
<title type="html"><![CDATA[MMC2 question]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8299&amp;p=91320#p91320"><![CDATA[
<div class="quotetitle">miker00lz wrote:</div><div class="quotecontent"><br />i wasn't fetching the pattern data for the invisible tile just off the right side of the display, which the real NES accesses even if it isn't shown. that's the one that triggers the CHR swap.<br /></div><br /><br />I was kinda harsh with you guys, my apologies. Anyway, for my gfx engine, I had to render (but not displaying it) the 257th pixel, in order to fetch the 34th tile. Punch Out seems to be working ok.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=39">Zepper</a> — Tue Mar 13, 2012 8:51 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[miker00lz]]></name></author>
<updated>2011-12-06T14:43:31-07:00</updated>
<published>2011-12-06T14:43:31-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8299&amp;p=87222#p87222</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8299&amp;p=87222#p87222"/>
<title type="html"><![CDATA[MMC2 question]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8299&amp;p=87222#p87222"><![CDATA[
i wasn't fetching the pattern data for the invisible tile just off the right side of the display, which the real NES accesses even if it isn't shown. that's the one that triggers the CHR swap.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4572">miker00lz</a> — Tue Dec 06, 2011 2:43 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Zepper]]></name></author>
<updated>2011-12-06T02:46:47-07:00</updated>
<published>2011-12-06T02:46:47-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8299&amp;p=87198#p87198</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8299&amp;p=87198#p87198"/>
<title type="html"><![CDATA[MMC2 question]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8299&amp;p=87198#p87198"><![CDATA[
How exactly did you fix the ring?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=39">Zepper</a> — Tue Dec 06, 2011 2:46 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[miker00lz]]></name></author>
<updated>2011-12-06T00:11:12-07:00</updated>
<published>2011-12-06T00:11:12-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8299&amp;p=87194#p87194</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8299&amp;p=87194#p87194"/>
<title type="html"><![CDATA[MMC2 question]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8299&amp;p=87194#p87194"><![CDATA[
that helped, thanks! it works correctly now.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4572">miker00lz</a> — Tue Dec 06, 2011 12:11 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Zepper]]></name></author>
<updated>2011-12-04T17:14:40-07:00</updated>
<published>2011-12-04T17:14:40-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8299&amp;p=87155#p87155</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8299&amp;p=87155#p87155"/>
<title type="html"><![CDATA[MMC2 question]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8299&amp;p=87155#p87155"><![CDATA[
I fixed the sprites by doing CHR bankswitches during cycles 256~320 of sprite fetches. Since the game uses 8x8 sprites, you should check the secondary OAM, the tile number stored there.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=39">Zepper</a> — Sun Dec 04, 2011 5:14 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[miker00lz]]></name></author>
<updated>2011-12-04T16:31:08-07:00</updated>
<published>2011-12-04T16:31:08-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8299&amp;p=87154#p87154</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8299&amp;p=87154#p87154"/>
<title type="html"><![CDATA[MMC2 question]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8299&amp;p=87154#p87154"><![CDATA[
i partially fixed it myself, yeah i had to read the tile that was to the right of the screen. fetching that fixed the background, but i still have a problem with the sprites:<br /><br /><img src="http://rubbermallet.org/punchout2.png" alt="Image" /><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4572">miker00lz</a> — Sun Dec 04, 2011 4:31 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[miker00lz]]></name></author>
<updated>2011-12-04T16:23:33-07:00</updated>
<published>2011-12-04T16:23:33-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8299&amp;p=87153#p87153</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8299&amp;p=87153#p87153"/>
<title type="html"><![CDATA[MMC2 question]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8299&amp;p=87153#p87153"><![CDATA[
i've got a problem with MMC2 in my emulator as well. it works absolutely perfectly and looks correct right up until it switches to the ring with the fight starting.<br /><br />at that point, it looks like this:<br /><br /><img src="http://rubbermallet.org/punchout.png" alt="Image" /><br /><br /><br /><br />what is so different between before the fight and during the fight? the location of the tile that triggers the switching?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=4572">miker00lz</a> — Sun Dec 04, 2011 4:23 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Disch]]></name></author>
<updated>2011-11-19T18:17:30-07:00</updated>
<published>2011-11-19T18:17:30-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8299&amp;p=86538#p86538</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8299&amp;p=86538#p86538"/>
<title type="html"><![CDATA[MMC2 question]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8299&amp;p=86538#p86538"><![CDATA[
Well the boxers are rendered with sprites, so if they are messing up, then something is wrong with your MMC2 code or your sprite fetching.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=33">Disch</a> — Sat Nov 19, 2011 6:17 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Zepper]]></name></author>
<updated>2011-11-19T06:54:02-07:00</updated>
<published>2011-11-19T06:54:02-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8299&amp;p=86523#p86523</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8299&amp;p=86523#p86523"/>
<title type="html"><![CDATA[MMC2 question]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8299&amp;p=86523#p86523"><![CDATA[
My sprite code matches the hardware procedure perfectly; the BG render <strong>no</strong>. I just take the current ppu address and fetch the data for that pixel. I know that a rewrite should be required for fixing a few other issues, but I couldn't yet.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=39">Zepper</a> — Sat Nov 19, 2011 6:54 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[MottZilla]]></name></author>
<updated>2011-11-18T20:45:05-07:00</updated>
<published>2011-11-18T20:45:05-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8299&amp;p=86508#p86508</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8299&amp;p=86508#p86508"/>
<title type="html"><![CDATA[MMC2 question]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8299&amp;p=86508#p86508"><![CDATA[
The fetch should occur after the 8th and final pixel of the FD/FE tile is drawn. It's pretty straight forward in that respect. But I am not sure how you render graphics. Someway you need to implement so that after the tile pattern fetch for the 8 pixels of tile FD/FE for it to trigger the bankswitching. Switching apon reads through $2007 is not important to get PunchOut working properly as I remember.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=1726">MottZilla</a> — Fri Nov 18, 2011 8:45 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Zepper]]></name></author>
<updated>2011-11-18T19:49:58-07:00</updated>
<published>2011-11-18T19:49:58-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8299&amp;p=86506#p86506</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8299&amp;p=86506#p86506"/>
<title type="html"><![CDATA[MMC2 question]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8299&amp;p=86506#p86506"><![CDATA[
Someone else must try out. Perhaps it's a problem with my gfx engine.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=39">Zepper</a> — Fri Nov 18, 2011 7:49 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Disch]]></name></author>
<updated>2011-11-18T19:39:15-07:00</updated>
<published>2011-11-18T19:39:15-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8299&amp;p=86505#p86505</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8299&amp;p=86505#p86505"/>
<title type="html"><![CDATA[MMC2 question]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8299&amp;p=86505#p86505"><![CDATA[
Every fetch is allowed.  It doesn't matter when it is.  Any fetch from anywhere (rendering or $2007) at any time will cause the swap.<br /><br />Although I don't know why there would be a fetch at 256.  Isn't that a NT fetch?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=33">Disch</a> — Fri Nov 18, 2011 7:39 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Zepper]]></name></author>
<updated>2011-11-18T16:40:20-07:00</updated>
<published>2011-11-18T16:40:20-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8299&amp;p=86502#p86502</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8299&amp;p=86502#p86502"/>
<title type="html"><![CDATA[MMC2 question]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8299&amp;p=86502#p86502"><![CDATA[
That's probably the golden point for bankswitching, somewhere between cycles 256~323. AFAIK, it never access $2007, as mentioned "there and there". <img src="http://forums.nesdev.com/images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br /><br /><strong>Update:</strong> the game does NOT glitch if a tile fetch occurs on dot 256 (257th pixel). Works fine. The game fetches tiles $FD-&gt;$FE-&gt;$FD-&gt;$FE-&gt;... and if the fetch at 256 isn't allowed, it glitches.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=39">Zepper</a> — Fri Nov 18, 2011 4:40 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Disch]]></name></author>
<updated>2011-11-18T11:51:44-07:00</updated>
<published>2011-11-18T11:51:44-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=8299&amp;p=86495#p86495</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=8299&amp;p=86495#p86495"/>
<title type="html"><![CDATA[MMC2 question]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=8299&amp;p=86495#p86495"><![CDATA[
Are you fetching the 34th tile?  The game might rely on it, even if it is never rendered.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=33">Disch</a> — Fri Nov 18, 2011 11:51 am</p><hr />
]]></content>
</entry>
</feed>