<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - 8x16 and whatever else unreg wants to know</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">8x16 and whatever else unreg wants to know</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=10&amp;t=7451">http://forums.nesdev.com/viewtopic.php?f=10&amp;t=7451</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>40</strong> of <strong>83</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>cpow</b> [ Wed Jun 06, 2012 8:05 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Sound, debugger, free: pick two</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">NESICIDE for Linux runs at less than full speed on my machine and therefore also lacks sound<br /><br />cpow is the developer of NESICIDE, an emulator containing such a debugger.</div>
<br />I won't hijack this thread I'll just mention that there have been some discoveries [thanks lidnariq, torrasque] regarding the poor performance on Linux.  Having said that, the minimum system requirements are still pretty high yet.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>unregistered</b> [ Wed Jun 06, 2012 3:44 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tokumaru<span style="color: green">, on  <a href="http://nesdev.com/bbs/viewtopic.php?p=94670#94670" class="postlink">page 37</a>, </span> wrote:</div><div class="quotecontent">Personally, I always use writes to $FF as breakpoint triggers, so all I have to do is "sta $ff" at the point I want to debug.</div>
<br />
<br />How could I do that too?  ...with FCEUX.  <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Kasumi</b> [ Wed Jun 06, 2012 4:19 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Put 00FF in the address box of the add breakpoint dialog, then check the "write" box. 
<br />
<br />In your code, add an sta $FF before the routine you want to check.
<br />
<br />Edit: Forgot to say, that's a pretty great idea, Tokumaru. I always just used to use odd opcodes.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>unregistered</b> [ Thu Jun 07, 2012 9:28 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Kasumi wrote:</div><div class="quotecontent">Put 00FF in the address box of the add breakpoint dialog, then check the "write" box. <br /><br />In your code, add an sta $FF before the routine you want to check. <br /></div>
<br />
<br />Kasumi, thank you!  <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" />  I'm really happy for the help, but im a little confused to... what do yall do next that helps you?  I only  know about pressing "Run" and nothing happens.  <img src="./images/smilies/icon_confused.gif" alt=":?" title="Confused" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>3gengames</b> [ Thu Jun 07, 2012 9:53 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />You have to use the step into button to step 1 line of a code at a time. Pressing RUN will run the program until that break point is hit again, not allowing you to see anything that is wrong.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>unregistered</b> [ Thu Jun 07, 2012 10:03 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">3gengames wrote:</div><div class="quotecontent">You have to use the step into button to step 1 line of a code at a time. Pressing RUN will run the program until that break point is hit again, not allowing you to see anything that is wrong.</div>
<br />Ah, thank you 3gengames! <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" />  This is becoming awesome!  ...I didn't know what the <span style="color: orange">step into</span> button did.  <img src="./images/smilies/icon_redface.gif" alt=":oops:" title="Embarassed" /> Thank you so much Kasumi and 3gengames! <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" />
<br />
<br />edit: <span style="color: orange">Step Into</span> rocks! It's so helpful! <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" />  hahaha I used to make breakpoints that ran to $FFFF so the <span style="color: orange">Run</span> button would keep working.   <img src="./images/smilies/icon_razz.gif" alt=":P" title="Razz" /> (&lt;-- me looking silly) <img src="./images/smilies/icon_lol.gif" alt=":lol:" title="Laughing" />  <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>unregistered</b> [ Fri Jun 08, 2012 1:36 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />ok in my code there is <div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; &nbsp;lda rc_upleft<br />&nbsp; &nbsp;sta screenArray,x<br />&nbsp; &nbsp;lda rc_upright <br />&nbsp; &nbsp;sta screenArray+1,x</div><br /><br />and so there is another part where I would like to try something like<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">lda &#40;rhombusCollision_low+1&#41;, y</div>
<br />
<br />but there are many questions I have
<br />1.)Does the +1 only work on one group <span style="color: green">stas</span> or on both <span style="color: green">stas</span> and <span style="color: yellow">ldas</span>?
<br />2.)Is <span style="color: orange">(this)+1,y</span> possible?
<br />3.)Is <span style="color: orange">(this+1),y</span> possible?
<br />
<br />ok, it fit all into 3 questions...  <img src="./images/smilies/icon_redface.gif" alt=":oops:" title="Embarassed" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Shiru</b> [ Fri Jun 08, 2012 1:49 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />screenArray is a label that represents an address. Labels allow you to not care about actual physical addresses, assembler takes care on it. +1 etc is added to the address that is calculated by assembler for a label. So you can use it anywhere you could use an actual address, and it works exactly the same as for an address.
<br />
<br />Like, sta $4000+1 is the same as sta $4001; if label=$4000, sta label+1 will be the same as sta $4001.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>unregistered</b> [ Fri Jun 08, 2012 2:08 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Shiru wrote:</div><div class="quotecontent">screenArray is a label that represents an address. Labels allow you to not care about actual physical addresses, assembler takes care on it. +1 etc is added to the address that is calculated by assembler for a label. So you can use it anywhere you could use an actual address, and it works exactly the same as for an address. <br /><br />Like, sta $4000+1 is the same as sta $4001; if label=$4000, sta label+1 will be the same as sta $4001.</div>
<br />
<br />Wow, Shiru, great explanation! I really understand the +1 etc thing now; thank you <span style="color: violet">so much</span>!  <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" />
<br />
<br /><span style="color: violet">just added</span>

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Fri Jun 08, 2012 3:13 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">unregistered wrote:</div><div class="quotecontent">2.)Is <span style="color: orange">(this)+1,y</span> possible?<br />3.)Is <span style="color: orange">(this+1),y</span> possible?</div>
<br />These will probably assemble, but they will not work like you think. <strong>LDA (this)+1, y</strong> will most likely become <strong>LDA this+1, y</strong>, and <strong>LDA (this+1), y</strong> will use half of your pointer along with the next byte and form an invalid pointer, causing you to access garbage data.
<br />
<br />To do what you want you'll either have to use 2 pointers (one of them pointing one byte ahead of the other), or increment Y or the low byte of the pointer between the two accesses. Indirect addressing on the 6502 is not as flexible as you'd like.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>3gengames</b> [ Fri Jun 08, 2012 3:21 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />As long as This is a set value and not a RAM location, 2 will not work and 3 will. If This is a RAM value, neither will work as you just can't do that. And remember, since that's a word sized pointer, you may be needing to do +2 to move to the next pointer, keep that in mind! <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Fri Jun 08, 2012 3:39 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />If you have an array of pointers on zero page, LDA (d,x) might be your best bet. It didn't get much use on a lot of 6502-based home computers because the built-in BASIC interpreter ate up a lot of zero page.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>unregistered</b> [ Sat Jun 09, 2012 9:54 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent"><div class="quotetitle">unregistered wrote:</div><div class="quotecontent">2.)Is <span style="color: orange">(this)+1,y</span> possible?<br />3.)Is <span style="color: orange">(this+1),y</span> possible?</div><br />These will probably assemble, but they will not work like you think. <strong>LDA (this)+1, y</strong> will most likely become <strong>LDA this+1, y</strong>, and <strong>LDA (this+1), y</strong> will use half of your pointer along with the next byte and form an invalid pointer, causing you to access garbage data.</div>  <img src="./images/smilies/icon_sad.gif" alt=":(" title="Sad" />  Thank you though for being brave and explaning to me the truth about my second and third question.  I just coded a solution yesterday thinking the other two questions weren't important.  Thank you tokumaru! <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /><br /><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent">To do what you want you'll either have to use 2 pointers (one of them pointing one byte ahead of the other), or increment Y or the low byte of the pointer between the two accesses. Indirect addressing on the 6502 is not as flexible as you'd like.</div>Sorry, I dont understand this right now... but, maybe that'll be ok if one of the 2 ideas below becomes possible. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />  If not, I'll swing back to learn this.<br /><br /><div class="quotetitle">3gengames wrote:</div><div class="quotecontent">As long as This is a set value and not a RAM location, 2 will not work and 3 will. If This is a RAM value, neither will work as you just can't do that.</div>3gengames, thank you for explaining this. <img src="./images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" />  I don't think I could use a set value though because I'd have to recalculate it every time I added a line of code before it.  Maybe I'm wrong about that?  I dont know.   <img src="./images/smilies/icon_confused.gif" alt=":?" title="Confused" /><br /><br /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">If you have an array of pointers on zero page, LDA (d,x) might be your best bet.</div>Really?!  <img src="./images/smilies/icon_surprised.gif" alt=":o" title="Surprised" />  4.)Is LDA <span style="color: orange">(this+3, x)</span> possible?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>3gengames</b> [ Sat Jun 09, 2012 10:13 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">unregistered wrote:</div><div class="quotecontent"><div class="quotetitle">tepples wrote:</div><div class="quotecontent">If you have an array of pointers on zero page, LDA (d,x) might be your best bet.</div>Really?!  <img src="./images/smilies/icon_surprised.gif" alt=":o" title="Surprised" />  4.)Is LDA <span style="color: orange">(this+3, x)</span> possible?</div>
<br />
<br />Yes, as long as This is a ROM location that doesn't change (when compiled, not over the projects whole creation) then that would work. But, the thing you're missing is if you have a lot of pointers in zero page, then you need to just do the begging of the array+X to point to one, because that's what it does. If you have 3 pointers in an array, you can select any of the three by putting in the code LDA (ZeroPageArray,X) because it takes the array location, adds X to the pointer of it, then gets wherever THAT points to. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /> If I could make something up in paint I would, but I'm too slow and my graduation party is begging in 2 hours. <img src="./images/smilies/icon_razz.gif" alt=":P" title="Razz" /> Think of it as a normal array (LDA Array,X) then then whatever that points to, it then looks at it. Remember, each pointer is 2 bytes so moving 1 byte ahead in the array will mean you have to either do a INX INX or a ASL A if you do a TAX to get X to something you need.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Sat Jun 09, 2012 11:56 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">unregistered wrote:</div><div class="quotecontent">Is LDA <span style="color: orange">(this+3, x)</span> possible?</div>
<br />It is, but again, I don't think it will do what you want. The <strong>($XX), y</strong> addressing mode is meant for accessing an array through a pointer, while <strong>($XX, x)</strong> is meant for using arrays of pointers. In the first case, the index register (Y) indexes the targeted data, in the second case, the index register (X) indexes a pointer in an array of pointers.
<br />
<br />The reason why <strong>($XX, x)</strong> is rarely used is because it can't index the target data in any way. Once the address of the pointer is calculated ($XX + x) and the pointer is used, the target is a single byte. There's no way to access any bytes after that one. If you do wish to access the next bytes, you have to manipulate the pointer itself (INC the lower byte, if it overflows INC the higher byte), which is terribly slow.
<br />
<br />The <strong>+offset</strong> trick works with absolute addressing because the assembler calculates the absolute address for you based on the offsets you give it. With indirect addressing it's different, because it's not the assembler that will calculate the final address of the data, it's the CPU that will do it as the program runs. For this reason, if you try to use offsets they will not affect the final address, but rather the address of the pointer. I'm pretty sure that this is not what you want.
<br />
<br />It seems you are a bit confused about the addressing modes, so I suggest you play a bit with <strong>($XX, x)</strong> and <strong>($XX), y</strong> using the 6502 simulator until you understand how they work.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>40</strong> of <strong>83</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>