<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<link rel="icon" href="/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />

<title>nesdev.com &bull; View topic - does SMB  use  IRQ?</title>

<link rel="alternate" type="application/atom+xml" title="Feed - nesdev.com" href="http://forums.nesdev.com/feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - News" href="http://forums.nesdev.com/feed.php?mode=news" /><link rel="alternate" type="application/atom+xml" title="Feed - All forums" href="http://forums.nesdev.com/feed.php?mode=forums" /><link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="http://forums.nesdev.com/feed.php?mode=topics" /><link rel="alternate" type="application/atom+xml" title="Feed - Active Topics" href="http://forums.nesdev.com/feed.php?mode=topics_active" /><link rel="alternate" type="application/atom+xml" title="Feed - Forum - NESemdev" href="http://forums.nesdev.com/feed.php?f=3" /><link rel="alternate" type="application/atom+xml" title="Feed - Topic - does SMB  use  IRQ?" href="http://forums.nesdev.com/feed.php?f=3&amp;t=9653" />

<link rel="stylesheet" href="./style.php?id=1&amp;lang=en" type="text/css" />

<script type="text/javascript">
// <![CDATA[


function popup(url, width, height, name)
{
	if (!name)
	{
		name = '_popup';
	}

	window.open(url.replace(/&amp;/g, '&'), name, 'height=' + height + ',resizable=yes,scrollbars=yes,width=' + width);
	return false;
}

function jumpto()
{
	var page = prompt('Enter the page number you wish to go to:', '1');
	var per_page = '';
	var base_url = '';

	if (page !== null && !isNaN(page) && page == Math.floor(page) && page > 0)
	{
		if (base_url.indexOf('?') == -1)
		{
			document.location.href = base_url + '?start=' + ((page - 1) * per_page);
		}
		else
		{
			document.location.href = base_url.replace(/&amp;/g, '&') + '&start=' + ((page - 1) * per_page);
		}
	}
}

/**
* Find a member
*/
function find_username(url)
{
	popup(url, 760, 570, '_usersearch');
	return false;
}

/**
* Mark/unmark checklist
* id = ID of parent container, name = name prefix, state = state [true/false]
*/
function marklist(id, name, state)
{
	var parent = document.getElementById(id);
	if (!parent)
	{
		eval('parent = document.' + id);
	}

	if (!parent)
	{
		return;
	}

	var rb = parent.getElementsByTagName('input');
	
	for (var r = 0; r < rb.length; r++)
	{
		if (rb[r].name.substr(0, name.length) == name)
		{
			rb[r].checked = state;
		}
	}
}



// ]]>
</script>
</head>
<body class="ltr">

<a name="top"></a>

<div id="wrapheader">

	<div id="logodesc">
	</div>

	<div id="menubar">

		<table width="100%" cellspacing="0">
		<tr>
			<td rowspan="2"><a href="./index.php"><img src="./styles/subsilver2/imageset/site_logo.gif" alt="" title="" /></a></td>
			<td width="100%" align="center"><h1>nesdev.com</h1><span class="gen">NES Development and Strangulation Records message boards</span></td>
		</tr>
		<tr>
			<td align="center">
				<!--<div style="float: right;">
					<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
					<input type="hidden" name="cmd" value="_s-xclick">
					<input type="hidden" name="hosted_button_id" value="X2HM4WNR5YT8S">
					<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
					<img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
					</form>
				</div>-->
				<a href="./faq.php"><img src="./styles/prosilver/theme/images/icon_mini_faq.gif" width="12" height="13" alt="*" /> FAQ</a>
				&nbsp; &nbsp;<a href="./search.php"><img src="./styles/prosilver/theme/images/icon_mini_search.gif" width="12" height="13" alt="*" /> Search</a>
				<br />	
				 &nbsp;<a href="./ucp.php?mode=minion"><img src="./styles/prosilver/theme/images/icon_mini_register.gif" width="12" height="13" alt="*" /> Register</a>
					&nbsp; &nbsp;<a href="./ucp.php?mode=login"><img src="./styles/prosilver/theme/images/icon_mini_login.gif" width="12" height="13" alt="*" /> Login</a>&nbsp;
			</td>
		</tr>
		</table>
	</div>

	<div id="datebar">
		<table width="100%" cellspacing="0">
		<tr>
			<td class="gensmall"></td>
			<td class="gensmall" align="right">It is currently Tue Mar 19, 2019 11:48 am<br /></td>
		</tr>
		</table>
	</div>

</div>

<div id="wrapcentre">

	
	<p class="searchbar">
		<span style="float: left;"><a href="./search.php?search_id=unanswered">View unanswered posts</a> | <a href="./search.php?search_id=active_topics">View active topics</a></span>
		
	</p>
	

	<br style="clear: both;" />

	<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=24">NES / Famicom</a> &#187; <a href="./viewforum.php?f=3">NESemdev</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>

	<br />
	

					<center>
					<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- NesDev Forums -->
					<ins class="adsbygoogle"
						 style="display:block"
						 data-ad-client="ca-pub-7801010229099644"
						 data-ad-slot="7979066809"
						 data-ad-format="auto"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>
					</center>
	<br />


<div id="pageheader">
	<h2><a class="titles" href="./viewtopic.php?f=3&amp;t=9653">does SMB  use  IRQ?</a></h2>


	<p class="moderators">Moderator: <a href="./memberlist.php?mode=group&amp;g=320">Moderators</a></p>

</div>

<br clear="all" /><br />

<div id="pagecontent">

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=3"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=3&amp;t=9653"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>1</strong> of <strong>1</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 6 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"></td>
		
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat">
			<table width="100%" cellspacing="0">
			<tr>
				<td class="nav" nowrap="nowrap">&nbsp;
				<a href="./viewtopic.php?f=3&amp;t=9653&amp;view=print" title="Print view">Print view</a>
				</td>
				<td class="nav" align="right" nowrap="nowrap"><a href="./viewtopic.php?f=3&amp;t=9653&amp;view=previous">Previous topic</a> | <a href="./viewtopic.php?f=3&amp;t=9653&amp;view=next">Next topic</a>&nbsp;</td>
			</tr>
			</table>
		</td>
	</tr>

	</table>


	<table class="tablebg" width="100%" cellspacing="1">
	
		<tr>
			<th>Author</th>
			<th>Message</th>
		</tr>
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p105303"></a>
				<b class="postauthor">ember</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p105303">does SMB  use  IRQ?</a></div><div style="float: right;"><a href="./viewtopic.php?p=105303#p105303"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sun Dec 30, 2012 10:15 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=5815_1356934188.png" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Dec 30, 2012 10:14 am<br /><b>Posts:</b> 7
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">hello everyone, i'm making an FPGA-NES emulator  and my &quot;step one&quot; goal is to run SMB.<br />Right now i've almost finish the cpu 6502 and decide to run a part of SMB for testing interrupts and instruments. my issues are below:<br /><br />a few bytes i focus on in the PRG-ROM like this: <br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">8000 : 78&nbsp; &nbsp; &nbsp; &nbsp;sei&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;;<br />8001 : D8&nbsp; &nbsp; &nbsp; &nbsp;cld&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;;<br />8002 : A9 10&nbsp; &nbsp; &nbsp; &nbsp; lda #$10&nbsp; &nbsp; &nbsp; &nbsp; ;<br />8004 : 8D 00 20&nbsp; &nbsp; &nbsp;sta $2000&nbsp; &nbsp; &nbsp; &nbsp;;PPU 惂屼Reg.#1<br />8007 : A2 FF&nbsp; &nbsp; &nbsp; &nbsp; ldx #$FF&nbsp; &nbsp; &nbsp; &nbsp; ;<br />8009 : 9A&nbsp; &nbsp; &nbsp; &nbsp;txs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;;<br />800A : AD 02 20&nbsp; &nbsp; &nbsp;lda $2002&nbsp; &nbsp; &nbsp; &nbsp;;PPU Status Reg.<br />800D : 10 FB&nbsp; &nbsp; &nbsp; &nbsp; bpl $800A&nbsp; &nbsp; &nbsp; &nbsp;;<br />...<br />...<br />FFE7 : 18&nbsp; &nbsp; &nbsp; &nbsp;clc&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;;<br />FFE8 : 16 14&nbsp; &nbsp; &nbsp; &nbsp; asl $14,x&nbsp; &nbsp; &nbsp; &nbsp;;<br />FFEA : 15 16&nbsp; &nbsp; &nbsp; &nbsp; ora $16,x&nbsp; &nbsp; &nbsp; &nbsp;;<br />FFEC : 16 17&nbsp; &nbsp; &nbsp; &nbsp; asl $17,x&nbsp; &nbsp; &nbsp; &nbsp;;<br />FFEE : 17&nbsp; &nbsp; &nbsp; &nbsp;db&nbsp; #$17&nbsp; &nbsp; &nbsp; &nbsp; ;<br />FFEF : 18&nbsp; &nbsp; &nbsp; &nbsp;clc&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;;<br />FFF0 : 19 19 1A&nbsp; &nbsp; &nbsp;ora $1A19,y&nbsp; &nbsp; &nbsp;;<br />FFF3 : 1A&nbsp; &nbsp; &nbsp; &nbsp;db&nbsp; #$1A&nbsp; &nbsp; &nbsp; &nbsp; ;<br />FFF4 : 1C&nbsp; &nbsp; &nbsp; &nbsp;db&nbsp; #$1C&nbsp; &nbsp; &nbsp; &nbsp; ;<br />FFF5 : 1D 1D 1E&nbsp; &nbsp; &nbsp;ora $1E1D,x&nbsp; &nbsp; &nbsp;;<br />FFF8 : 1E&nbsp; &nbsp; &nbsp; &nbsp;db&nbsp; #$1E&nbsp; &nbsp; &nbsp; &nbsp; ;<br />FFF9 : 1F&nbsp; &nbsp; &nbsp; &nbsp;db&nbsp; #$1F&nbsp; &nbsp; &nbsp; &nbsp; ;<br />FFFA : 82 80&nbsp; &nbsp; &nbsp; &nbsp; dw&nbsp; $8082&nbsp; &nbsp; &nbsp; &nbsp;;NMI(VBlank)<br />FFFC : 00 80&nbsp; &nbsp; &nbsp; &nbsp; dw&nbsp; $8000&nbsp; &nbsp; &nbsp; &nbsp;;Reset<br />FFFE : F0 FF&nbsp; &nbsp; &nbsp; &nbsp; dw&nbsp; $FFF0&nbsp; &nbsp; &nbsp; &nbsp;;IRQ/BRK<br /></div><br /><br />The signals showns on SignalTapII seem that the /RST works fine and the PC jumps to $8000 and loops between $800A-$800D because there's no PPU no VBlanks right now. this sequence seems work fine.<br />but when I try to test IRQ on this, the PC jumps to $FFF0 successfully, then i find the data around  $FFF0 doesn't seem like instruments (musics or something else i guess,  anyone who knows what's it would you  plz tell me something?thx a lot.)  and my cpu stoped at $FFF3 because $1A is not a offical opcode. so here come my questions:<br />1. Do NROM games like SMB NOT use IRQ?<br />2. when does an IRQ occur in NES subsystem? and what IRQs are used for? are there multiple IRQ sources(APU and mapper?)?<br />3. What really happens when cpu meets a undocumentd opcode? Is implementing undocumented opcodes necessary? (what i have already done is to let cpu stop and show the PC and opcode on the LEDs on my fpga board.)<br /><br />thx!</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=5815"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p105306"></a>
				<b class="postauthor">Dwedit</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p105306">Re: does SMB  use  IRQ?</a></div><div style="float: right;"><a href="./viewtopic.php?p=105306#p105306"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sun Dec 30, 2012 10:47 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=53.png" width="68" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Nov 19, 2004 7:35 pm<br /><b>Posts:</b> 4151
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">SMB1 does not use IRQs at all.<br />Generally, if the mapper doesn't provide an IRQ source, games won't try to use IRQs.  There are a few exceptions though, some games use the built-in IRQ feature of the DMC channel to do split screens, such as Time Lord, Mig 29 Soviet Fighter, and Fire Hawk.<br />And Chun Soft's really early games (Door Door, Dragon Quest, and Dragon Quest II) use the APU Frame IRQ to drive the music engine of the game.<br />If the NES hits an undocumented opcode, it tries to execute it anyway.  Usually it's a combination of the Read-Modify-Write instruction and the ALU instruction from that row in the instruction table.  Look at a table of unofficial opcodes for details.<br />Very very few NES games use undocumented opcodes.  I can only think of Puzznic, Super Cars, and Streemerz (homebrew).<br /><br />Instruction set summary (with undocumented instructions)<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">x&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 00&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;01&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;02&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;03&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;04&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;05&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;06&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;07&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;09&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0A&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0B&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0C&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0D&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0E&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0F<br /><br />00&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;BRK impl&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ORA X,ind&nbsp; &nbsp; &nbsp; &nbsp; *kil&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*slo X,ind&nbsp; &nbsp; &nbsp; &nbsp;*nop zpg&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ORA zpg&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ASL zpg&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *slo zpg&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(SLO is also called ASO)<br />08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;PHP impl&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ORA #&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ASL A&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *aac #&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*nop abs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ORA abs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ASL abs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *slo abs<br />10&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;BPL rel&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ORA ind,Y&nbsp; &nbsp; &nbsp; &nbsp; *kil&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*slo ind,y&nbsp; &nbsp; &nbsp; &nbsp;*nop zpg,x&nbsp; &nbsp; &nbsp; &nbsp;ORA zpg,X&nbsp; &nbsp; &nbsp; &nbsp; ASL zpg,X&nbsp; &nbsp; &nbsp; &nbsp; *slo zpg,x&nbsp; &nbsp; &nbsp; &nbsp;<br />18&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;CLC impl&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ORA abs,Y&nbsp; &nbsp; &nbsp; &nbsp; *nop&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*slo abs,y&nbsp; &nbsp; &nbsp; &nbsp;*nop abs,x&nbsp; &nbsp; &nbsp; &nbsp;ORA abs,X&nbsp; &nbsp; &nbsp; &nbsp; ASL abs,X&nbsp; &nbsp; &nbsp; &nbsp; *slo abs,x<br /><br />20&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;JSR abs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; AND X,ind&nbsp; &nbsp; &nbsp; &nbsp; *kil&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*rla X,ind&nbsp; &nbsp; &nbsp; &nbsp;BIT zpg&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; AND zpg&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ROL zpg&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *rla zpg<br />28&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;PLP impl&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;AND #&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ROL A&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *aac #&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;BIT abs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; AND abs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ROL abs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *rla abs<br />30&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;BMI rel&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; AND ind,Y&nbsp; &nbsp; &nbsp; &nbsp; *kil&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*rla ind,y&nbsp; &nbsp; &nbsp; &nbsp;*nop zpg,x&nbsp; &nbsp; &nbsp; &nbsp;AND zpg,X&nbsp; &nbsp; &nbsp; &nbsp; ROL zpg,X&nbsp; &nbsp; &nbsp; &nbsp; *rla zpg,x&nbsp; &nbsp; &nbsp; &nbsp;<br />38&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;SEC impl&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;AND abs,Y&nbsp; &nbsp; &nbsp; &nbsp; *nop&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*rla abs,y&nbsp; &nbsp; &nbsp; &nbsp;*nop abs,x&nbsp; &nbsp; &nbsp; &nbsp;AND abs,X&nbsp; &nbsp; &nbsp; &nbsp; ROL abs,X&nbsp; &nbsp; &nbsp; &nbsp; *rla abs,x<br /><br />40&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;RTI impl&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;EOR X,ind&nbsp; &nbsp; &nbsp; &nbsp; *kil&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*sre X,ind&nbsp; &nbsp; &nbsp; &nbsp;*nop zpg&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;EOR zpg&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; LSR zpg&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *sre zpg&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(SRE is also called LSE)<br />48&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;PHA impl&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;EOR #&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; LSR A&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *asr #&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;JMP abs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; EOR abs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; LSR abs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *sre abs<br />50&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;BVC rel&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; EOR ind,Y&nbsp; &nbsp; &nbsp; &nbsp; *kil&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*sre ind,y&nbsp; &nbsp; &nbsp; &nbsp;*nop zpg,x&nbsp; &nbsp; &nbsp; &nbsp;EOR zpg,X&nbsp; &nbsp; &nbsp; &nbsp; LSR zpg,X&nbsp; &nbsp; &nbsp; &nbsp; *sre zpg,x&nbsp; &nbsp; &nbsp; &nbsp;<br />58&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;CLI impl&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;EOR abs,Y&nbsp; &nbsp; &nbsp; &nbsp; *nop&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*sre abs,y&nbsp; &nbsp; &nbsp; &nbsp;*nop abs,x&nbsp; &nbsp; &nbsp; &nbsp;EOR abs,X&nbsp; &nbsp; &nbsp; &nbsp; LSR abs,X&nbsp; &nbsp; &nbsp; &nbsp; *sre abs,x<br /><br />60&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;RTS impl&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ADC X,ind&nbsp; &nbsp; &nbsp; &nbsp; *kil&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*rra X,ind&nbsp; &nbsp; &nbsp; &nbsp;*nop zpg&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ADC zpg&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ROR zpg&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *rra zpg<br />68&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;PLA impl&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ADC #&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ROR A&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *arr #&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;JMP ind&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ADC abs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ROR abs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *rra abs<br />70&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;BVS rel&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ADC ind,Y&nbsp; &nbsp; &nbsp; &nbsp; *kil&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*rra ind,y&nbsp; &nbsp; &nbsp; &nbsp;*nop zpg,x&nbsp; &nbsp; &nbsp; &nbsp;ADC zpg,X&nbsp; &nbsp; &nbsp; &nbsp; ROR zpg,X&nbsp; &nbsp; &nbsp; &nbsp; *rra zpg,x&nbsp; &nbsp; &nbsp; &nbsp;<br />78&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;SEI impl&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ADC abs,Y&nbsp; &nbsp; &nbsp; &nbsp; *nop&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*rra abs,y&nbsp; &nbsp; &nbsp; &nbsp;*nop abs,x&nbsp; &nbsp; &nbsp; &nbsp;ADC abs,X&nbsp; &nbsp; &nbsp; &nbsp; ROR abs,X&nbsp; &nbsp; &nbsp; &nbsp; *rra abs,x<br /><br />80&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*nop #&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;STA X,ind&nbsp; &nbsp; &nbsp; &nbsp; *nop #&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*aax X,ind&nbsp; &nbsp; &nbsp; &nbsp;STY zpg&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; STA zpg&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; STX zpg&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *aax zpg<br />88&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;DEY impl&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*nop zpg,x&nbsp; &nbsp; &nbsp; &nbsp;TXA impl&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*xaa #&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;STY abs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; STA abs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; STX abs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *aax abs<br />90&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;BCC rel&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; STA ind,Y&nbsp; &nbsp; &nbsp; &nbsp; *kil&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*axa ind,y&nbsp; &nbsp; &nbsp; &nbsp;STY zpg,X&nbsp; &nbsp; &nbsp; &nbsp; STA zpg,X&nbsp; &nbsp; &nbsp; &nbsp; STX zpg,Y&nbsp; &nbsp; &nbsp; &nbsp; *aax zpg,x&nbsp; &nbsp; &nbsp; &nbsp;<br />98&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;TYA impl&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;STA abs,Y&nbsp; &nbsp; &nbsp; &nbsp; TXS impl&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*xas abs,y&nbsp; &nbsp; &nbsp; &nbsp;*nop abs,x&nbsp; &nbsp; &nbsp; &nbsp;STA abs,X&nbsp; &nbsp; &nbsp; &nbsp; *sxa abs,y&nbsp; &nbsp; &nbsp; &nbsp;*axa abs,x<br /><br />A0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;LDY #&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; LDA X,ind&nbsp; &nbsp; &nbsp; &nbsp; LDX #&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *lax X,ind&nbsp; &nbsp; &nbsp; &nbsp;LDY zpg&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; LDA zpg&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; LDX zpg&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *lax zpg<br />A8&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;TAY impl&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;LDA #&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TAX impl&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*atx #&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;LDY abs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; LDA abs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; LDX abs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *lax abs<br />B0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;BCS rel&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; LDA ind,Y&nbsp; &nbsp; &nbsp; &nbsp; *kil&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*lax ind,y&nbsp; &nbsp; &nbsp; &nbsp;LDY zpg,X&nbsp; &nbsp; &nbsp; &nbsp; LDA zpg,X&nbsp; &nbsp; &nbsp; &nbsp; LDX zpg,Y&nbsp; &nbsp; &nbsp; &nbsp; *lax zpg,x&nbsp; &nbsp; &nbsp; &nbsp;<br />B8&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;CLV impl&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;LDA abs,Y&nbsp; &nbsp; &nbsp; &nbsp; TSX impl&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*lar abs,y&nbsp; &nbsp; &nbsp; &nbsp;LDY abs,X&nbsp; &nbsp; &nbsp; &nbsp; LDA abs,X&nbsp; &nbsp; &nbsp; &nbsp; LDX abs,Y&nbsp; &nbsp; &nbsp; &nbsp; *lax abs,x<br /><br />C0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;CPY #&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CMP X,ind&nbsp; &nbsp; &nbsp; &nbsp; *nop #&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*dcp X,ind&nbsp; &nbsp; &nbsp; &nbsp;CPY zpg&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CMP zpg&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; DEC zpg&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *dcp zpg<br />C8&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;INY impl&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;CMP #&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; DEX impl&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*axs #&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;CPY abs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CMP abs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; DEC abs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *dcp abs<br />D0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;BNE rel&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CMP ind,Y&nbsp; &nbsp; &nbsp; &nbsp; *kil&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*dcp ind,y&nbsp; &nbsp; &nbsp; &nbsp;*nop zpg,x&nbsp; &nbsp; &nbsp; &nbsp;CMP zpg,X&nbsp; &nbsp; &nbsp; &nbsp; DEC zpg,X&nbsp; &nbsp; &nbsp; &nbsp; *dcp zpg,x&nbsp; &nbsp; &nbsp; &nbsp;<br />D8&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;CLD impl&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;CMP abs,Y&nbsp; &nbsp; &nbsp; &nbsp; *nop&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*dcp abs,y&nbsp; &nbsp; &nbsp; &nbsp;*nop abs,x&nbsp; &nbsp; &nbsp; &nbsp;CMP abs,X&nbsp; &nbsp; &nbsp; &nbsp; DEC abs,X&nbsp; &nbsp; &nbsp; &nbsp; *dcp abs,x<br /><br />E0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;CPX #&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SBC X,ind&nbsp; &nbsp; &nbsp; &nbsp; *nop #&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*isc X,ind&nbsp; &nbsp; &nbsp; &nbsp;CPX zpg&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SBC zpg&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; INC zpg&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *isc zpg<br />E8&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;INX impl&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;SBC #&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NOP impl&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*sbc #&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;CPX abs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SBC abs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; INC abs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *isc abs<br />F0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;BEQ rel&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SBC ind,Y&nbsp; &nbsp; &nbsp; &nbsp; *kil&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*isc ind,y&nbsp; &nbsp; &nbsp; &nbsp;*nop zpg,x&nbsp; &nbsp; &nbsp; &nbsp;SBC zpg,X&nbsp; &nbsp; &nbsp; &nbsp; INC zpg,X&nbsp; &nbsp; &nbsp; &nbsp; *isc zpg,x&nbsp; &nbsp; &nbsp; &nbsp;<br />F8&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;SED impl&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;SBC abs,Y&nbsp; &nbsp; &nbsp; &nbsp; *nop&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*isc abs,y&nbsp; &nbsp; &nbsp; &nbsp;*nop abs,x&nbsp; &nbsp; &nbsp; &nbsp;SBC abs,X&nbsp; &nbsp; &nbsp; &nbsp; INC abs,X&nbsp; &nbsp; &nbsp; &nbsp; *isc abs,x<br /></div></div>

					
						<div class="postbody"><br />_________________<br />Here come the fortune cookies!  Here come the fortune cookies!  They're wearing paper hats!</div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=53"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p105307"></a>
				<b class="postauthor">blargg</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p105307">Re: does SMB  use  IRQ?</a></div><div style="float: right;"><a href="./viewtopic.php?p=105307#p105307"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sun Dec 30, 2012 11:14 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=17.gif" width="60" height="69" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Sep 27, 2004 8:33 am<br /><b>Posts:</b> 3715<br /><b>Location:</b> Central Texas, USA
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><em>Unofficial</em> instructions; they are far from undocumented.<br /><br />I thought SMB eventually sits in a tight loop, with the game running from NMI, and IRQ never used.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=17"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p105311"></a>
				<b class="postauthor">ember</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p105311">Re: does SMB  use  IRQ?</a></div><div style="float: right;"><a href="./viewtopic.php?p=105311#p105311"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Mon Dec 31, 2012 4:16 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=5815_1356934188.png" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Dec 30, 2012 10:14 am<br /><b>Posts:</b> 7
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">Dwedit wrote:</div><div class="quotecontent">There are a few exceptions though, some games use the built-in IRQ feature of the DMC channel to do split screens, such as Time Lord, Mig 29 Soviet Fighter, and Fire Hawk.<br />And Chun Soft's really early games (Door Door, Dragon Quest, and Dragon Quest II) use the APU Frame IRQ to drive the music engine of the game.<br /></div><br /><br />Hi Dwedit, thx a lot for the information, the opcode table looks pretty useful. <br />To implement both APU-IRQ and MMC-IRQ, should i 'and' the 2 IRQ wires to 1-bit-width wire first, then connect it to CPU?</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=5815"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p105312"></a>
				<b class="postauthor">ember</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p105312">Re: does SMB  use  IRQ?</a></div><div style="float: right;"><a href="./viewtopic.php?p=105312#p105312"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Mon Dec 31, 2012 4:45 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=5815_1356934188.png" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Dec 30, 2012 10:14 am<br /><b>Posts:</b> 7
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">blargg wrote:</div><div class="quotecontent"><em>Unofficial</em> instructions; they are far from undocumented.<br /><br /></div><br />sorry &quot;offical&quot; is my phrase.<br />btw, any difference between &quot;unoffical&quot; and &quot;undocumented&quot; here? i don't know....<br />the &quot;offical&quot; instuments in my post are the instruments listed in <!-- m --><a class="postlink" href="http://nesdev.com/6502.txt">http://nesdev.com/6502.txt</a><!-- m --><br />maybe they're called &quot;documented&quot;...</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=5815"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p105313"></a>
				<b class="postauthor" style="color: #FF3300">tepples</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p105313">Re: does SMB  use  IRQ?</a></div><div style="float: right;"><a href="./viewtopic.php?p=105313#p105313"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Mon Dec 31, 2012 7:51 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Sep 19, 2004 11:12 pm<br /><b>Posts:</b> 21204<br /><b>Location:</b> NE Indiana, USA (NTSC)
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">The <a href="http://wiki.nesdev.com/w/index.php/CPU_unofficial_opcodes" class="postlink">unofficial opcodes</a> were &quot;undocumented&quot; in MOS Technology's 6502 datasheet, but enthusiasts later documented them thoroughly. A few are <a href="http://wiki.nesdev.com/w/index.php/Programming_with_unofficial_opcodes" class="postlink">rawther useful to programmers</a>, and a few are unstable (dependent on temperature, line noise, and the like) because of <a href="http://visual6502.org/wiki/index.php?title=6502_Opcode_8B_%28XAA,_ANE%29" class="postlink">analog effects</a> related to how a bus conflict interacts with the decimal mode addition circuit. First, I'd recommend emulating enough to get the behavior of <a href="http://wiki.nesdev.com/w/index.php/Emulator_tests#CPU" class="postlink">nestest.nes</a> to match Nintendulator's log.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">should i 'and' the 2 IRQ wires to 1-bit-width wire first, then connect it to CPU?</div><br />Yes. This is called <a href="http://en.wikipedia.org/wiki/Open_collector" class="postlink">open-collector behavior</a>: a resistor weakly pulls /IRQ up to 5 V most of the time unless one of the devices on the bus drives it down to GND.<br /><br />And for a demo of what's possible with abuse of the DMC IRQ, try my <a href="http://pics.pineight.com/nes/dpcm_split.zip" class="postlink">split</a> and <a href="http://pics.pineight.com/nes/dpcmletterbox.zip" class="postlink">letterbox</a> tech demos.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=9"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table width="100%" cellspacing="1" class="tablebg">
	<tr align="center">
		<td class="cat"><form name="viewtopic" method="post" action="./viewtopic.php?f=3&amp;t=9653"><span class="gensmall">Display posts from previous:</span> <select name="st" id="st"><option value="0" selected="selected">All posts</option><option value="1">1 day</option><option value="7">7 days</option><option value="14">2 weeks</option><option value="30">1 month</option><option value="90">3 months</option><option value="180">6 months</option><option value="365">1 year</option></select>&nbsp;<span class="gensmall">Sort by</span> <select name="sk" id="sk"><option value="a">Author</option><option value="t" selected="selected">Post time</option><option value="s">Subject</option></select> <select name="sd" id="sd"><option value="a" selected="selected">Ascending</option><option value="d">Descending</option></select>&nbsp;<input class="btnlite" type="submit" value="Go" name="sort" /></form></td>
	</tr>
	</table>
	

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=3"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=3&amp;t=9653"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>1</strong> of <strong>1</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 6 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"></td>
		
	</tr>
	</table>

</div>

<div id="pagefooter"></div>

<br clear="all" />
<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=24">NES / Famicom</a> &#187; <a href="./viewforum.php?f=3">NESemdev</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>
	<br clear="all" />

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat"><h4>Who is online</h4></td>
	</tr>
	<tr>
		<td class="row1"><p class="gensmall">Users browsing this forum: No registered users and 2 guests</p></td>
	</tr>
	</table>


<br clear="all" />

<table width="100%" cellspacing="1">
<tr>
	<td width="40%" valign="top" nowrap="nowrap" align="left"></td>
	<td align="right" valign="top" nowrap="nowrap"><span class="gensmall">You <strong>cannot</strong> post new topics in this forum<br />You <strong>cannot</strong> reply to topics in this forum<br />You <strong>cannot</strong> edit your posts in this forum<br />You <strong>cannot</strong> delete your posts in this forum<br />You <strong>cannot</strong> post attachments in this forum<br /></span></td>
</tr>
</table>

<br clear="all" />

<table width="100%" cellspacing="0">
<tr>
	<td><form method="get" name="search" action="./search.php"><span class="gensmall">Search for:</span> <input class="post" type="text" name="keywords" size="20" /> <input class="btnlite" type="submit" value="Go" /><input type="hidden" name="t" value="9653" />
<input type="hidden" name="sf" value="msgonly" />
</form></td>
	<td align="right">
	<form method="post" name="jumpbox" action="./viewforum.php" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	<table cellspacing="0" cellpadding="0" border="0">
	<tr>
		<td nowrap="nowrap"><span class="gensmall">Jump to:</span>&nbsp;<select name="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">

		
			<option value="-1">Select a forum</option>
		<option value="-1">------------------</option>
			<option value="24">NES / Famicom</option>
		
			<option value="2">&nbsp; &nbsp;NESdev</option>
		
			<option value="3" selected="selected">&nbsp; &nbsp;NESemdev</option>
		
			<option value="21">&nbsp; &nbsp;NES Graphics</option>
		
			<option value="6">&nbsp; &nbsp;NES Music</option>
		
			<option value="22">&nbsp; &nbsp;Homebrew Projects</option>
		
			<option value="34">&nbsp; &nbsp;&nbsp; &nbsp;2018 NESdev Competition</option>
		
			<option value="33">&nbsp; &nbsp;&nbsp; &nbsp;2017 NESdev Competition</option>
		
			<option value="32">&nbsp; &nbsp;&nbsp; &nbsp;2016 NESdev Competition</option>
		
			<option value="31">&nbsp; &nbsp;&nbsp; &nbsp;2014 NESdev Competition</option>
		
			<option value="30">&nbsp; &nbsp;&nbsp; &nbsp;2011 NESdev Competition</option>
		
			<option value="10">&nbsp; &nbsp;Newbie Help Center</option>
		
			<option value="9">&nbsp; &nbsp;NES Hardware and Flash Equipment</option>
		
			<option value="28">&nbsp; &nbsp;&nbsp; &nbsp;Reproduction</option>
		
			<option value="19">&nbsp; &nbsp;NESdev International</option>
		
			<option value="11">&nbsp; &nbsp;&nbsp; &nbsp;FCdev</option>
		
			<option value="18">&nbsp; &nbsp;&nbsp; &nbsp;NESdev China</option>
		
			<option value="27">&nbsp; &nbsp;&nbsp; &nbsp;NESdev Middle East</option>
		
			<option value="25">Other</option>
		
			<option value="5">&nbsp; &nbsp;General Stuff</option>
		
			<option value="4">&nbsp; &nbsp;Membler Industries</option>
		
			<option value="23">&nbsp; &nbsp;Other Retro Dev</option>
		
			<option value="12">&nbsp; &nbsp;&nbsp; &nbsp;SNESdev</option>
		
			<option value="20">&nbsp; &nbsp;&nbsp; &nbsp;GBDev</option>
		
			<option value="15">&nbsp; &nbsp;Test Forum</option>
		
			<option value="26">Site Issues</option>
		
			<option value="13">&nbsp; &nbsp;phpBB Issues</option>
		
			<option value="14">&nbsp; &nbsp;Web Issues</option>
		
			<option value="16">&nbsp; &nbsp;nesdevWiki</option>
		

		</select>&nbsp;<input class="btnlite" type="submit" value="Go" /></td>
	</tr>
	</table>

	</form>
</td>
</tr>
</table>


</div>


<div id="wrapfooter">
	
	<span class="copyright">Powered by <a href="http://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Group
	</span>
</div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-61452025-2', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>