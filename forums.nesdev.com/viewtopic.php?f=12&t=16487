<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<link rel="icon" href="/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />

<title>nesdev.com &bull; View topic - [SNES developer noob] Help me understand how sprites work</title>

<link rel="alternate" type="application/atom+xml" title="Feed - nesdev.com" href="http://forums.nesdev.com/feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - News" href="http://forums.nesdev.com/feed.php?mode=news" /><link rel="alternate" type="application/atom+xml" title="Feed - All forums" href="http://forums.nesdev.com/feed.php?mode=forums" /><link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="http://forums.nesdev.com/feed.php?mode=topics" /><link rel="alternate" type="application/atom+xml" title="Feed - Active Topics" href="http://forums.nesdev.com/feed.php?mode=topics_active" /><link rel="alternate" type="application/atom+xml" title="Feed - Forum - SNESdev" href="http://forums.nesdev.com/feed.php?f=12" /><link rel="alternate" type="application/atom+xml" title="Feed - Topic - [SNES developer noob] Help me understand how sprites work" href="http://forums.nesdev.com/feed.php?f=12&amp;t=16487" />

<link rel="stylesheet" href="./style.php?id=1&amp;lang=en" type="text/css" />

<script type="text/javascript">
// <![CDATA[


function popup(url, width, height, name)
{
	if (!name)
	{
		name = '_popup';
	}

	window.open(url.replace(/&amp;/g, '&'), name, 'height=' + height + ',resizable=yes,scrollbars=yes,width=' + width);
	return false;
}

function jumpto()
{
	var page = prompt('Enter the page number you wish to go to:', '1');
	var per_page = '15';
	var base_url = './viewtopic.php?f=12&amp;t=16487';

	if (page !== null && !isNaN(page) && page == Math.floor(page) && page > 0)
	{
		if (base_url.indexOf('?') == -1)
		{
			document.location.href = base_url + '?start=' + ((page - 1) * per_page);
		}
		else
		{
			document.location.href = base_url.replace(/&amp;/g, '&') + '&start=' + ((page - 1) * per_page);
		}
	}
}

/**
* Find a member
*/
function find_username(url)
{
	popup(url, 760, 570, '_usersearch');
	return false;
}

/**
* Mark/unmark checklist
* id = ID of parent container, name = name prefix, state = state [true/false]
*/
function marklist(id, name, state)
{
	var parent = document.getElementById(id);
	if (!parent)
	{
		eval('parent = document.' + id);
	}

	if (!parent)
	{
		return;
	}

	var rb = parent.getElementsByTagName('input');
	
	for (var r = 0; r < rb.length; r++)
	{
		if (rb[r].name.substr(0, name.length) == name)
		{
			rb[r].checked = state;
		}
	}
}



// ]]>
</script>
</head>
<body class="ltr">

<a name="top"></a>

<div id="wrapheader">

	<div id="logodesc">
	</div>

	<div id="menubar">

		<table width="100%" cellspacing="0">
		<tr>
			<td rowspan="2"><a href="./index.php"><img src="./styles/subsilver2/imageset/site_logo.gif" alt="" title="" /></a></td>
			<td width="100%" align="center"><h1>nesdev.com</h1><span class="gen">NES Development and Strangulation Records message boards</span></td>
		</tr>
		<tr>
			<td align="center">
				<!--<div style="float: right;">
					<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
					<input type="hidden" name="cmd" value="_s-xclick">
					<input type="hidden" name="hosted_button_id" value="X2HM4WNR5YT8S">
					<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
					<img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
					</form>
				</div>-->
				<a href="./faq.php"><img src="./styles/prosilver/theme/images/icon_mini_faq.gif" width="12" height="13" alt="*" /> FAQ</a>
				&nbsp; &nbsp;<a href="./search.php"><img src="./styles/prosilver/theme/images/icon_mini_search.gif" width="12" height="13" alt="*" /> Search</a>
				<br />	
				 &nbsp;<a href="./ucp.php?mode=minion"><img src="./styles/prosilver/theme/images/icon_mini_register.gif" width="12" height="13" alt="*" /> Register</a>
					&nbsp; &nbsp;<a href="./ucp.php?mode=login"><img src="./styles/prosilver/theme/images/icon_mini_login.gif" width="12" height="13" alt="*" /> Login</a>&nbsp;
			</td>
		</tr>
		</table>
	</div>

	<div id="datebar">
		<table width="100%" cellspacing="0">
		<tr>
			<td class="gensmall"></td>
			<td class="gensmall" align="right">It is currently Fri Aug 17, 2018 12:29 am<br /></td>
		</tr>
		</table>
	</div>

</div>

<div id="wrapcentre">

	
	<p class="searchbar">
		<span style="float: left;"><a href="./search.php?search_id=unanswered">View unanswered posts</a> | <a href="./search.php?search_id=active_topics">View active topics</a></span>
		
	</p>
	

	<br style="clear: both;" />

	<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=25">Other</a> &#187; <a href="./viewforum.php?f=23">Other Retro Dev</a> &#187; <a href="./viewforum.php?f=12">SNESdev</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>

	<br />
	

					<center>
					<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- NesDev Forums -->
					<ins class="adsbygoogle"
						 style="display:block"
						 data-ad-client="ca-pub-7801010229099644"
						 data-ad-slot="7979066809"
						 data-ad-format="auto"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>
					</center>
	<br />

	<div class="forumrules">
		
			<h3>Forum rules</h3><br />
			Related:<br /><ul><li>For making cartridges of your Super NES games, see <a href="http://forums.nesdev.com/viewforum.php?f=28" class="postlink">Reproduction</a>.</li></ul>
		
	</div>

	<br clear="all" />


<div id="pageheader">
	<h2><a class="titles" href="./viewtopic.php?f=12&amp;t=16487">[SNES developer noob] Help me understand how sprites work</a></h2>


	<p class="moderators">Moderator: <a href="./memberlist.php?mode=group&amp;g=320">Moderators</a></p>

</div>

<br clear="all" /><br />

<div id="pagecontent">

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=12"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=12&amp;t=16487"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>1</strong> of <strong>2</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 21 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"><b><a href="#" onclick="jumpto(); return false;" title="Click to jump to page…">Go to page</a> <strong>1</strong><span class="page-sep">, </span><a href="./viewtopic.php?f=12&amp;t=16487&amp;start=15">2</a> &nbsp;<a href="./viewtopic.php?f=12&amp;t=16487&amp;start=15">Next</a></b></td>
		
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat">
			<table width="100%" cellspacing="0">
			<tr>
				<td class="nav" nowrap="nowrap">&nbsp;
				<a href="./viewtopic.php?f=12&amp;t=16487&amp;view=print" title="Print view">Print view</a>
				</td>
				<td class="nav" align="right" nowrap="nowrap"><a href="./viewtopic.php?f=12&amp;t=16487&amp;view=previous">Previous topic</a> | <a href="./viewtopic.php?f=12&amp;t=16487&amp;view=next">Next topic</a>&nbsp;</td>
			</tr>
			</table>
		</td>
	</tr>

	</table>


	<table class="tablebg" width="100%" cellspacing="1">
	
		<tr>
			<th>Author</th>
			<th>Message</th>
		</tr>
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p204467"></a>
				<b class="postauthor">Xeraster</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p204467">[SNES developer noob] Help me understand how sprites work</a></div><div style="float: right;"><a href="./viewtopic.php?p=204467#p204467"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Sep 12, 2017 4:54 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="http://lolyoujellybro.com/acrobat.gif" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Tue Sep 12, 2017 4:16 pm<br /><b>Posts:</b> 7
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">So I'm new to snes homebrew but I know how to program somewhat well.<br /><br />So anyway, I've been sort of crapping around with SNES code in order to build my understanding of how this works and possibly eventually make my own game for lulz (Flappy Bird, anyone?)<br />There's a lot of helpful stuff on the superfamicom.org wiki to read about which has made it a lot easier for me.<br />Anyway, one thing I'm finding it especially difficult to grasp an understanding of is how you can display sprites on the screen. For example, how would I add just a stationary sprite to, say, the &quot;walker&quot; demo found in <a href="https://wiki.superfamicom.org/snes/show/Setting+Up+a+Programming+Environment" class="postlink">Neviksti’s Snes Starterkit</a>?<br />So I make a borderless 32x32 pcx image and then run it through PCX2SNES and then get the .clr and .pic files.<br />I then know I'm supposed to add it to the bottom of my .asm file like so:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">BikerSprite<br />&nbsp; &nbsp;.INCBIN &quot;.\\Pictures\\biker.pic&quot;<br />&nbsp; &nbsp; &nbsp; &nbsp; .INCBIN &quot;.\\Pictures\\biker.clr&quot;<br /></div><br />I understand that I'm then probably supposed to use LoadBlockToVRAM. In the walker example, adding &quot;LoadBlockToVRAM newsprite, $9000, $0800&quot; will look like this:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; &nbsp; &nbsp; &nbsp; ;Load Tile and Character data to VRAM<br />&nbsp; &nbsp;LoadBlockToVRAM&nbsp; &nbsp;BackgroundMap, $0000, $2000&nbsp; &nbsp;; 64x64 tiles = 4096 words = 8192 bytes<br />&nbsp; &nbsp;LoadBlockToVRAM&nbsp; &nbsp;BackgroundPics, $2000, $6000&nbsp; &nbsp;; 384 tiles * (8bit color)= 0x6000 bytes<br />&nbsp; &nbsp;LoadBlockToVRAM&nbsp; &nbsp;ASCIITiles, $5000, $0800&nbsp; &nbsp;;128 tiles * (2bit color = 2 planes) --&gt; 2048 bytes<br />&nbsp; &nbsp;LoadBlockToVRAM&nbsp; &nbsp;SpriteTiles, $6000, $2800&nbsp; &nbsp;;20 32x32 tiles * (4bit color = 4 planes) --&gt; 10240 bytes<br />&nbsp; &nbsp;LoadBlockToVRAM&nbsp; &nbsp; &nbsp; BikerSprite, $9000, $0800; new test sprite<br /></div><br /><br />After spending a day or so studying the code, looking at other relevant code in other examples and reading stuff on superfamicom wiki, I can't really understand what exactly to do to just display my sprite stationary on the screen somewhere.<br />I know there are sprite numbers, but how do I assign a number? In the walker example, the main sprite appears to be put onto the screen using the following code:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; &nbsp;;Set the priority bit of all the BG2 tiles<br />&nbsp; &nbsp;LDA #$80<br />&nbsp; &nbsp;STA $2115&nbsp; &nbsp;&nbsp; &nbsp;;set up the VRAM so we can write just to the high byte<br />&nbsp; &nbsp;LDX #$5800<br />&nbsp; &nbsp;STX $2116<br />&nbsp; &nbsp;LDX #$0400&nbsp; &nbsp;&nbsp; &nbsp;;32x32 tiles = 1024<br />&nbsp; &nbsp;LDA #$20<br />Next_tile:<br />&nbsp; &nbsp;STA $2119<br />&nbsp; &nbsp;DEX<br />&nbsp; &nbsp;BNE Next_tile<br />&nbsp; &nbsp;LDA #01<br />&nbsp; &nbsp;STA $1E<br />&nbsp; &nbsp;LDA #00<br />&nbsp; &nbsp;STA $20<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;JSR SpriteInit&nbsp; &nbsp;;setup the sprite buffer<br />&nbsp; &nbsp;JSR JoyInit&nbsp; &nbsp;&nbsp; &nbsp;;setup joypads and enable NMI<br /><br />&nbsp; &nbsp;;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;---12345678901234567890123456789012---<br /><br />&nbsp; &nbsp;;setup our walking sprite<br />&nbsp; &nbsp;;put him in the center of the screen<br />&nbsp; &nbsp;lda #($80-16)<br />&nbsp; &nbsp;sta SpriteBuf1+sx<br />&nbsp; &nbsp;lda #(224/2-16)<br />&nbsp; &nbsp;sta SpriteBuf1+sy<br /><br />&nbsp; &nbsp;;put sprite #0 on screen<br />&nbsp; &nbsp;lda #$54<br />&nbsp; &nbsp;sta SpriteBuf2<br /><br />&nbsp; &nbsp;;set the sprite to the highest priority<br />&nbsp; &nbsp;lda #$30&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<br />&nbsp; &nbsp;sta SpriteBuf1+spriority<br /><br />&nbsp; &nbsp;;setup the video modes and such, then turn on the screen<br />&nbsp; &nbsp;JSR SetupVideo&nbsp; &nbsp;<br /></div><br /><br />It looks like the sprite number is #$54. If I change it to #$53 or 55, the walking guy sprite just disappears while I expected it to show a different sprite instead. Obviously there's more to it that I haven't been able to figure out by studying or trial and error. Can anyone help me with this?<br /><br />My goal is to just get any sprite to appear in the walker example just so I can understand what <em>exactly</em> has to be done to do this again in a game of my own.<br /><br />Thanks in advance</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=8711"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p204470"></a>
				<b class="postauthor">HihiDanni</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p204470">Re: [SNES developer noob] Help me understand how sprites wor</a></div><div style="float: right;"><a href="./viewtopic.php?p=204470#p204470"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Sep 12, 2017 5:21 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=7494_1494692507.png" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Tue Apr 05, 2016 5:25 pm<br /><b>Posts:</b> 186
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I suggest studying the OAM layout - you can find it here: <!-- m --><a class="postlink" href="https://wiki.superfamicom.org/snes/show/Sprites">https://wiki.superfamicom.org/snes/show/Sprites</a><!-- m --><br /><br />In short, you should have a section of RAM that represents what you want the contents of OAM to be, and then during NMI/Vblank (or force blank, where the display is turned off) you upload that RAM copy into the actual OAM.<br /><br />There's actually two tables. The first is 512 bytes and each sprite gets four bytes. This is where you select the sprite tile to use, X and Y position, and most attributes. The second is 32 bytes (called the OAM high table) and represents four sprites per byte. You'll need this to set the sprite size and allow it to go partway off the left side of the screen.<br /><br />By the way, the register at $2101 is how you tell the PPU where in VRAM your sprite tiles are stored.<br /><br />Edit: By sprite numbers do you mean the OAM index, or the sprite tile? The sprite tile can be considered as the Nth tile into a 128x128 graphic region of sprite graphics. As for the OAM index, that is up to you.</div>

					
						<div class="postbody"><br />_________________<br />SNES NTSC 2/1/3 1CHIP | serial number UN318588627</div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=7494"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p204497"></a>
				<b class="postauthor">dougeff</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p204497">Re: [SNES developer noob] Help me understand how sprites wor</a></div><div style="float: right;"><a href="./viewtopic.php?p=204497#p204497"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Sep 13, 2017 5:31 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=7008_1483937093.png" width="86" height="90" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri May 08, 2015 7:17 pm<br /><b>Posts:</b> 2200<br /><b>Location:</b> DIGDUG
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><s>I&#39;m probably going to quote this wrong, but my memory says.<br /><br />The OAM low table isn&#39;t updated until the OAM high table is written to.<br /><br />So basically, you need to write to both tables every frame, low and high.</s></div>

					
						<div class="postbody"><br />_________________<br /><a href="http://nesdoug.com" class="postlink">nesdoug.com</a> -- blog/tutorial on programming for the NES</div>
					
							<br /><br />
							<span class="gensmall">Last edited by <a href="./memberlist.php?mode=viewprofile&amp;u=7008">dougeff</a> on Wed Sep 13, 2017 3:38 pm, edited 1 time in total.</span>
						<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=7008"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p204522"></a>
				<b class="postauthor">93143</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p204522">Re: [SNES developer noob] Help me understand how sprites wor</a></div><div style="float: right;"><a href="./viewtopic.php?p=204522#p204522"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Sep 13, 2017 11:35 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Jul 04, 2014 9:31 pm<br /><b>Posts:</b> 960
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Pretty sure that's wrong.  The low table is behind a word buffer, which can have funky results if you're mixing reads and writes.  The high table is byte access.  They can be written independently.<br /><br />What you describe would require a half-kilobyte write buffer...</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=6595"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p204525"></a>
				<b class="postauthor">dougeff</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p204525">Re: [SNES developer noob] Help me understand how sprites wor</a></div><div style="float: right;"><a href="./viewtopic.php?p=204525#p204525"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Sep 13, 2017 1:14 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=7008_1483937093.png" width="86" height="90" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri May 08, 2015 7:17 pm<br /><b>Posts:</b> 2200<br /><b>Location:</b> DIGDUG
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">How am I to interpret this?<br /><br />&quot;Writes to the low table go into a word-sized buffer, which is written to the appropriate word of OAM when the high byte of the word is written&quot; (from the link above at wiki.superfamicom.org)</div>

					
						<div class="postbody"><br />_________________<br /><a href="http://nesdoug.com" class="postlink">nesdoug.com</a> -- blog/tutorial on programming for the NES</div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=7008"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p204526"></a>
				<b class="postauthor">adam_smasher</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p204526">Re: [SNES developer noob] Help me understand how sprites wor</a></div><div style="float: right;"><a href="./viewtopic.php?p=204526#p204526"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Sep 13, 2017 1:24 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Mar 27, 2011 10:49 am<br /><b>Posts:</b> 259<br /><b>Location:</b> Seattle
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">IIRC (haven't touched the SNES in a bit):<br /><br />All writes go through a byte-sized port ($2104). When writing a word to the low table:<br /><br />1. You write the low byte. It gets stored in a buffer.<br />2. You write the high byte. Only then is it written into the table.<br /><br />The low byte/high byte thing going on there refers to a word for the low table; it has nothing to do with the high table.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=4826"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p204527"></a>
				<b class="postauthor">dougeff</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p204527">Re: [SNES developer noob] Help me understand how sprites wor</a></div><div style="float: right;"><a href="./viewtopic.php?p=204527#p204527"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Sep 13, 2017 1:28 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=7008_1483937093.png" width="86" height="90" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri May 08, 2015 7:17 pm<br /><b>Posts:</b> 2200<br /><b>Location:</b> DIGDUG
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Got it, thanks.</div>

					
						<div class="postbody"><br />_________________<br /><a href="http://nesdoug.com" class="postlink">nesdoug.com</a> -- blog/tutorial on programming for the NES</div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=7008"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p204532"></a>
				<b class="postauthor">HihiDanni</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p204532">Re: [SNES developer noob] Help me understand how sprites wor</a></div><div style="float: right;"><a href="./viewtopic.php?p=204532#p204532"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Sep 13, 2017 3:31 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=7494_1494692507.png" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Tue Apr 05, 2016 5:25 pm<br /><b>Posts:</b> 186
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">For a second I thought I could gain 512 bytes of DMA headroom by just writing to the OAM transfer registers mid-frame. Heh, guess that's not the case.</div>

					
						<div class="postbody"><br />_________________<br />SNES NTSC 2/1/3 1CHIP | serial number UN318588627</div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=7494"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p204538"></a>
				<b class="postauthor">psycopathicteen</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p204538">Re: [SNES developer noob] Help me understand how sprites wor</a></div><div style="float: right;"><a href="./viewtopic.php?p=204538#p204538"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Sep 13, 2017 5:15 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Wed May 19, 2010 6:12 pm<br /><b>Posts:</b> 2730
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">If you're not using all 8-channels for HDMA, you can set up a DMA channel for OAM before vblank.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=4383"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p204542"></a>
				<b class="postauthor">HihiDanni</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p204542">Re: [SNES developer noob] Help me understand how sprites wor</a></div><div style="float: right;"><a href="./viewtopic.php?p=204542#p204542"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Sep 13, 2017 5:50 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=7494_1494692507.png" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Tue Apr 05, 2016 5:25 pm<br /><b>Posts:</b> 186
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">By writing to the registers mid-frame, I didn't mean that I wanted sprite changes to take effect mid-frame. dougeff's post implied that you could upload OAM whenever, but be able to control when the newly uploaded OAM table is applied, so you'd only upload the 32-byte high table in the NMI routine and it'd work the same but you'd be doing it faster.</div>

					
						<div class="postbody"><br />_________________<br />SNES NTSC 2/1/3 1CHIP | serial number UN318588627</div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=7494"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p204544"></a>
				<b class="postauthor">Xeraster</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p204544">Re: [SNES developer noob] Help me understand how sprites wor</a></div><div style="float: right;"><a href="./viewtopic.php?p=204544#p204544"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Sep 13, 2017 5:58 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="http://lolyoujellybro.com/acrobat.gif" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Tue Sep 12, 2017 4:16 pm<br /><b>Posts:</b> 7
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">HihiDanni wrote:</div><div class="quotecontent">I suggest studying the OAM layout - you can find it here: <!-- m --><a class="postlink" href="https://wiki.superfamicom.org/snes/show/Sprites">https://wiki.superfamicom.org/snes/show/Sprites</a><!-- m --><br /><br />In short, you should have a section of RAM that represents what you want the contents of OAM to be, and then during NMI/Vblank (or force blank, where the display is turned off) you upload that RAM copy into the actual OAM.</div><br /><br />I understand that much. There's a low byte and a high byte. These contain data for the table having to do with telling the system how to use my sprite. As seen on the given link, it shows the record format for the low table and the high table and what the values are. But I can't find where they did this in the walker example.<br /><br />By random guessing it looks like in the walker example, this is how they assign the high table, using the address you said:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; &nbsp; &nbsp; lda #$A3&nbsp; &nbsp;&nbsp; &nbsp;;Sprites 32x32 or 64x64, character data at $6000 (word address)<br />&nbsp; &nbsp; &nbsp; sta $2101&nbsp; <br /></div><br /><br />So A3 converted from hex to binary is 10100011 or 163 in decimal. It's supposed to contain bits from the first byte of the low table? Right? According to <a href="https://wiki.superfamicom.org/snes/show/SNES+Sprites" class="postlink">this link</a> this means that the sprite size is 101 which is 32x32 or 64x64 which makes sense. Not sure how to interpret the 011 at the end. Its &quot;base selection bits&quot; which is 3. Hmm. The sprite in question starts at $6000 and is #$2800 in size so that can't be it. How does register 2101 tell the PPU where the sprites are stores again? I don't understand.<br /><br />So in the current code, the OAM address for the sprite I presume is being added is 0, So I would redo that whole bit of code to add a second sprite except set 2102 and 2103 to 1 instead of 0 for sprite ID 1? But where is the part that says where the VRAM address and range is?<br />Here is all the code I have at vblank and below:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">.DEFINE FrameNum $12&nbsp; &nbsp;&nbsp; &nbsp;<br /><br />VBlank:<br />&nbsp; &nbsp;rep #$30&nbsp; &nbsp;&nbsp; &nbsp;;A/Mem=16bits, X/Y=16bits<br />&nbsp; &nbsp;phb<br />&nbsp; &nbsp;pha<br />&nbsp; &nbsp;phx<br />&nbsp; &nbsp;phy<br />&nbsp; &nbsp;phd<br /><br />&nbsp; &nbsp;sep #$20&nbsp; &nbsp;&nbsp; &nbsp;; mem/A = 8 bit, X/Y = 16 bit<br /><br />&nbsp; &nbsp;;*********transfer sprite data<br /><br />&nbsp; &nbsp;stz $2102&nbsp; &nbsp;&nbsp; &nbsp;; set OAM address to 0<br />&nbsp; &nbsp;stz $2103<br /><br />&nbsp; &nbsp;LDY #$0400<br />&nbsp; &nbsp;STY $4300&nbsp; &nbsp;&nbsp; &nbsp;; CPU -&gt; PPU, auto increment, write 1 reg, $2104 (OAM data write)<br />&nbsp; &nbsp;LDY #$0400<br />&nbsp; &nbsp;STY $4302&nbsp; &nbsp;&nbsp; &nbsp;; source offset<br />&nbsp; &nbsp;LDY #$0220<br />&nbsp; &nbsp;STY $4305&nbsp; &nbsp;&nbsp; &nbsp;; number of bytes to transfer<br />&nbsp; &nbsp;LDA #$7E<br />&nbsp; &nbsp;STA $4304&nbsp; &nbsp;&nbsp; &nbsp;; bank address = $7E&nbsp; (work RAM)<br />&nbsp; &nbsp;LDA #$01<br />&nbsp; &nbsp;STA $420B&nbsp; &nbsp;&nbsp; &nbsp;;start DMA transfer<br /><br />&nbsp; &nbsp;;*********transfer BG2 data<br />&nbsp; &nbsp;LDA #$00<br />&nbsp; &nbsp;STA $2115&nbsp; &nbsp;&nbsp; &nbsp;;set up VRAM write to write only the lower byte<br /><br />&nbsp; &nbsp;LDX #$5800<br />&nbsp; &nbsp;STX $2116&nbsp; &nbsp;&nbsp; &nbsp;;set VRAM address to BG3 tile map<br /><br />&nbsp; &nbsp;LDY #$1800<br />&nbsp; &nbsp;STY $4300&nbsp; &nbsp;&nbsp; &nbsp;; CPU -&gt; PPU, auto increment, write 1 reg, $2118 (Lowbyte of VRAM write)<br />&nbsp; &nbsp;LDY #$0000<br />&nbsp; &nbsp;STY $4302&nbsp; &nbsp;&nbsp; &nbsp;; source offset<br />&nbsp; &nbsp;LDY #$0400<br />&nbsp; &nbsp;STY $4305&nbsp; &nbsp;&nbsp; &nbsp;; number of bytes to transfer<br />&nbsp; &nbsp;LDA #$7F<br />&nbsp; &nbsp;STA $4304&nbsp; &nbsp;&nbsp; &nbsp;; bank address = $7F&nbsp; (work RAM)<br />&nbsp; &nbsp;LDA #$01<br />&nbsp; &nbsp;STA $420B&nbsp; &nbsp;&nbsp; &nbsp;;start DMA transfer<br /><br />&nbsp; &nbsp;;update the map co-ordinates<br />&nbsp; &nbsp;lda MapX<br />&nbsp; &nbsp;sta $210D<br />&nbsp; &nbsp;lda MapX+1<br />&nbsp; &nbsp;sta $210D<br /><br />&nbsp; &nbsp;lda MapY<br />&nbsp; &nbsp;sta $210E<br />&nbsp; &nbsp;lda MapY+1<br />&nbsp; &nbsp;sta $210E<br /><br />&nbsp; &nbsp;;update the joypad data<br />&nbsp; &nbsp;JSR GetInput<br /><br />&nbsp; &nbsp;lda $4210&nbsp; &nbsp;&nbsp; &nbsp;;clear NMI Flag<br /><br />&nbsp; &nbsp;REP #$30&nbsp; &nbsp;&nbsp; &nbsp;;A/Mem=16bits, X/Y=16bits<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;inc FrameNum<br />&nbsp; &nbsp;PLD <br />&nbsp; &nbsp;PLY <br />&nbsp; &nbsp;PLX <br />&nbsp; &nbsp;PLA <br />&nbsp; &nbsp;PLB <br />&nbsp; &nbsp; &nbsp; RTI<br />&nbsp; &nbsp;&nbsp; <br /><br />;End of demo Main code<br /><br />;============================================================================<br />; SetupVideo -- Set the video mode for the demo<br />;----------------------------------------------------------------------------<br />; In: None<br />;----------------------------------------------------------------------------<br />; Out: None<br />;----------------------------------------------------------------------------<br />SetupVideo:<br />&nbsp; &nbsp;php<br /><br />&nbsp; &nbsp;rep #$10&nbsp; &nbsp;&nbsp; &nbsp;;A/mem = 8bit, X/Y=16bit<br />&nbsp; &nbsp;sep #$20<br />&nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp;lda #$A3&nbsp; &nbsp;&nbsp; &nbsp;;Sprites 32x32 or 64x64, character data at $6000 (word address)<br />&nbsp; &nbsp; &nbsp; sta $2101&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br /><br />&nbsp; &nbsp;lda #$04&nbsp; &nbsp;&nbsp; &nbsp;;Set video mode 4, 8x8 tiles (256 color BG1, 4 color BG2)<br />&nbsp; &nbsp; &nbsp; sta $2105&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br /><br />&nbsp; &nbsp;lda #$03&nbsp; &nbsp;&nbsp; &nbsp;;Set BG1's Tile Map VRAM offset to $0000 (word address)<br />&nbsp; &nbsp; &nbsp; sta $2107&nbsp; &nbsp;&nbsp; &nbsp;;&nbsp; &nbsp;and the Tile Map size to 64 tiles x 64 tiles<br /><br />&nbsp; &nbsp;lda #$52&nbsp; &nbsp;&nbsp; &nbsp;;Set BG1's Character VRAM offset to $2000 (word address)<br />&nbsp; &nbsp; &nbsp; sta $210B&nbsp; &nbsp;&nbsp; &nbsp;;Set BG2's Character VRAM offset to $5000 (word address)<br /><br />&nbsp; &nbsp;lda #$58&nbsp; &nbsp;&nbsp; &nbsp;;Set BG2's Tile Map VRAM offset to $5800 (word address)<br />&nbsp; &nbsp; &nbsp; sta $2108&nbsp; &nbsp;&nbsp; &nbsp;;&nbsp; &nbsp;and the Tile Map size to 32 tiles x 32 tiles<br /><br />&nbsp; &nbsp;lda #$13&nbsp; &nbsp;&nbsp; &nbsp;;Turn on BG1 and BG2 and Sprites<br />&nbsp; &nbsp; &nbsp; sta $212C<br /><br />&nbsp; &nbsp; &nbsp; lda #$0F&nbsp; &nbsp;&nbsp; &nbsp;;Turn on screen, full brightness<br />&nbsp; &nbsp; &nbsp; sta $2100&nbsp; &nbsp;&nbsp; &nbsp;<br /><br />&nbsp; &nbsp;lda #$FF&nbsp; &nbsp;&nbsp; &nbsp;;Scroll BG2 down 1 pixel<br />&nbsp; &nbsp;sta $2110<br />&nbsp; &nbsp;sta $2110&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br /><br />&nbsp; &nbsp;plp<br />&nbsp; &nbsp;rts<br /><br />.ENDS<br /></div><br /><br />Where on here is there any evidence of setting up the low table or high tables like in the link you provided? Is there an example somewhere where someone has programmed 2 independent sprites that I could look at and contrast that vs this? I'm sure I would be able to figure it out on my own if I had one of those but until then I'm trying to decode how it's done from here.<br /><br />But thanks everyone for the help so far I hope I'm eventually able to figure this out.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=8711"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p204546"></a>
				<b class="postauthor">HihiDanni</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p204546">Re: [SNES developer noob] Help me understand how sprites wor</a></div><div style="float: right;"><a href="./viewtopic.php?p=204546#p204546"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Sep 13, 2017 6:19 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=7494_1494692507.png" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Tue Apr 05, 2016 5:25 pm<br /><b>Posts:</b> 186
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">Xeraster wrote:</div><div class="quotecontent">I understand that much. There's a low byte and a high byte. These contain data for the table having to do with telling the system how to use my sprite. As seen on the given link, it shows the record format for the low table and the high table and what the values are. But I can't find where they did this in the walker example.</div><br />Be careful not to confuse low byte and high byte with low table and high table. Those are two different concepts.<br /><br /><div class="quotetitle">Xeraster wrote:</div><div class="quotecontent">By random guessing it looks like in the walker example, this is how they assign the high table, using the address you said:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; &nbsp; &nbsp; lda #$A3&nbsp; &nbsp;&nbsp; &nbsp;;Sprites 32x32 or 64x64, character data at $6000 (word address)<br />&nbsp; &nbsp; &nbsp; sta $2101&nbsp; <br /></div></div><br />This doesn't affect the OAM table, it's just telling the PPU where the sprite graphics are stored in VRAM, which is a separate section of memory from OAM.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Its &quot;base selection bits&quot; which is 3. Hmm. The sprite in question starts at $6000</div><br />So you uploaded the sprite graphic to word address 0x6000? Be careful, as the VRAM address registers go by word address, not byte address. Be careful not to upload to the wrong region. But in this case if it's at word address 0x6000 then you have the base selection bits set correctly.<br /><br />Now here's the thing: In the OAM data format, the third byte of form 'cccccccc' is a tile offset, not an address offset. So to display the sprite graphic you uploaded to word address 0x6000 you should use 0 for this byte.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">So in the current code, the OAM address for the sprite I presume is being added is 0, So I would redo that whole bit of code to add a second sprite except set 2102 and 2103 to 1 instead of 0 for sprite ID 1?</div><br />You don't need to do this by hand. The OAM DMA transfer will send all the sprites for you in one go.<br /><br />From the snippet:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; &nbsp;stz $2102&nbsp; &nbsp;&nbsp; &nbsp;; set OAM address to 0<br />&nbsp; &nbsp;stz $2103<br /><br />&nbsp; &nbsp;LDY #$0400<br />&nbsp; &nbsp;STY $4300&nbsp; &nbsp;&nbsp; &nbsp;; CPU -&gt; PPU, auto increment, write 1 reg, $2104 (OAM data write)<br />&nbsp; &nbsp;LDY #$0400<br />&nbsp; &nbsp;STY $4302&nbsp; &nbsp;&nbsp; &nbsp;; source offset<br />&nbsp; &nbsp;LDY #$0220<br />&nbsp; &nbsp;STY $4305&nbsp; &nbsp;&nbsp; &nbsp;; number of bytes to transfer<br />&nbsp; &nbsp;LDA #$7E<br />&nbsp; &nbsp;STA $4304&nbsp; &nbsp;&nbsp; &nbsp;; bank address = $7E&nbsp; (work RAM)<br />&nbsp; &nbsp;LDA #$01<br />&nbsp; &nbsp;STA $420B&nbsp; &nbsp;&nbsp; &nbsp;;start DMA transfer<br /></div><br />This does the actual DMA transfer to OAM. See the value that's getting stored in $4302? That's the address in main RAM of what gets sent to OAM. In this example it's hardcoded to 0x400. I'm not sure why. It's probably an error in the example. It should probably refer to the SpriteBuf variable label mentioned in previous code snippets. So the SpriteBuf is where you want to make your changes.</div>

					
						<div class="postbody"><br />_________________<br />SNES NTSC 2/1/3 1CHIP | serial number UN318588627</div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=7494"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p204670"></a>
				<b class="postauthor">Xeraster</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p204670">Re: [SNES developer noob] Help me understand how sprites wor</a></div><div style="float: right;"><a href="./viewtopic.php?p=204670#p204670"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sat Sep 16, 2017 3:03 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="http://lolyoujellybro.com/acrobat.gif" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Tue Sep 12, 2017 4:16 pm<br /><b>Posts:</b> 7
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">HihiDanni wrote:</div><div class="quotecontent"><div class="quotetitle">Xeraster wrote:</div><div class="quotecontent">This does the actual DMA transfer to OAM. See the value that's getting stored in $4302? That's the address in main RAM of what gets sent to OAM. In this example it's hardcoded to 0x400. I'm not sure why. It's probably an error in the example. It should probably refer to the SpriteBuf variable label mentioned in previous code snippets. So the SpriteBuf is where you want to make your changes.</div></div><br /><br />OOOOH that $0400 thing makes sense now, because in the SpriteInit section, SpriteBuf1 is defined as $0400, so it's the same. So in order to code a second sprite, I could use write the 4 bytes of data starting with $0404. But then I have to use the high table to write the next parts and it's 2 bits per sprite, just like you said in the very first thing you said when you first replied to this thread.<br />Now the first sprite writes #$54 to $0600 aka SpriteBuf2. For a second sprite, would I want to use #$55? Because in binary that's already 01010100. There's already 2 BG layers which logically I would expect to use up the first 2 bits. Then the 1 working sprite I already have which should be occupying bits 5 and 6 (0 for x coord 9th bit, and 1 for large sprite size), so #$55 would make it 01010101, giving my desired 2nd sprite 0 for bit 7 and 1 for bit 1. Right?<br /><br />Also, once I do that, I should be able to go the part where it does the DMA transfers. But then instead of writing $0400 to registers $4300 and $4302, it would be $0404 and I would set the OAM address to 1 on registers $2102 and $2103. Is this a correct assumption?<br /><br />I know I'm a noob but thanks for taking the time to help me so far.<br /><br />EDIT: I'm trying to do that idea I just wrote about. It almost works except I still don't know how to use the sprite I put in the VRAM at $9000 AND it messes up the background into glitchy weirdness. BUT HEY, I got a second sprite to display. NOW I'm starting to get somewhere! (almost)<br /><br />You did mention that the DMA OAM transfer is supposed to send all the sprites in one go. I couldn't get that to work (because I'm probably doing something wrong). So I just have 2 of those DMA transfer sprite data blocks. Here's what it looks like:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; &nbsp;lda #($80-16)<br />&nbsp; &nbsp;sta SpriteBuf1+sx<br />&nbsp; &nbsp;lda #(224/2-16)<br />&nbsp; &nbsp;sta SpriteBuf1+sy ;these 4 lines were already here<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;lda #($80-10)<br />&nbsp; &nbsp;sta $404<br />&nbsp; &nbsp;lda #(224/2-16)<br />&nbsp; &nbsp;sta $405<br /><br />&nbsp; &nbsp;;put sprite #0 on screen.<br />&nbsp; &nbsp;lda #$54<br />&nbsp; &nbsp;sta SpriteBuf2<br /><br />&nbsp; &nbsp;;set the sprite to the highest priority<br />&nbsp; &nbsp;lda #$30&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<br />&nbsp; &nbsp;sta SpriteBuf1+spriority<br />&nbsp; &nbsp;lda #$00&nbsp; &nbsp;&nbsp; &nbsp;<br />&nbsp; &nbsp;sta $408<br />&nbsp; &nbsp;lda #$30;<br />&nbsp; &nbsp;sta $407<br /></div><br />My second DMA transfer block that I just added under the first one.<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">;*********transfer sprite2 data<br /><br />&nbsp; &nbsp;lda #$01<br />&nbsp; &nbsp;sta $2102&nbsp; &nbsp;&nbsp; &nbsp;; set OAM address to 0<br />&nbsp; &nbsp;lda #$01<br />&nbsp; &nbsp;sta $2103<br /><br />&nbsp; &nbsp;LDY #$404<br />&nbsp; &nbsp;STY $4300&nbsp; &nbsp;&nbsp; &nbsp;; CPU -&gt; PPU, auto increment, write 1 reg, $2104 (OAM data write)<br />&nbsp; &nbsp;LDY #$404<br />&nbsp; &nbsp;STY $4302&nbsp; &nbsp;&nbsp; &nbsp;; source offset<br />&nbsp; &nbsp;LDY #$0220<br />&nbsp; &nbsp;STY $4305&nbsp; &nbsp;&nbsp; &nbsp;; number of bytes to transfer<br />&nbsp; &nbsp;LDA #$7E<br />&nbsp; &nbsp;STA $4304&nbsp; &nbsp;&nbsp; &nbsp;; bank address = $7E&nbsp; (work RAM)<br />&nbsp; &nbsp;LDA #$01<br />&nbsp; &nbsp;STA $420B&nbsp; &nbsp;&nbsp; &nbsp;;start DMA transfer<br /></div><br /><br />I'm getting closer, but what am I doing wrong now?</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=8711"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p204689"></a>
				<b class="postauthor">HihiDanni</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p204689">Re: [SNES developer noob] Help me understand how sprites wor</a></div><div style="float: right;"><a href="./viewtopic.php?p=204689#p204689"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sat Sep 16, 2017 6:38 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=7494_1494692507.png" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Tue Apr 05, 2016 5:25 pm<br /><b>Posts:</b> 186
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">That DMA to OAM code is already there in the VBlank handler, so you don't need to write it again elsewhere. You'll notice in the comments that the number of bytes it transfers is 0x220, which is the full size of OAM, hence it transfers all sprites.<br /><br />Since you mentioned that SpriteBuf1 is at 0x400 and SpriteBuf2 is at 0x600, then SpriteBuf1 must correspond to the low table and SpriteBuf2 the high table. While you're still getting the hang of the OAM format, I would suggest just playing with the low table for now and then learning the high table later. But for sprite number 0, you'd change the low table at the first four bytes in SpriteBuf1, and the first two bits (first byte) of SpriteBuf2. For sprite number 1, you'll change the low table at SpriteBuf1 + 4, and for the high table it's still the first byte of SpriteBuf2.<br /><br />Now might be a good time to learn about how index addressing works. The idea is you set the X index register to, say, 4 (a four byte offset, or sprite number 1), and then use code like the following to do the store:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">ldx #4 ; Byte offset of 4 into the OAM low table<br />lda #$80<br />sta SpriteBuf1, x ; Set sprite 1's X coordinate to 128</div><br />As for the screen glitching, you probably wrote to the region of VRAM currently being used for either the BG tile graphics (&quot;char&quot;) or the BG tilemaps.</div>

					
						<div class="postbody"><br />_________________<br />SNES NTSC 2/1/3 1CHIP | serial number UN318588627</div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=7494"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p204692"></a>
				<b class="postauthor">93143</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p204692">Re: [SNES developer noob] Help me understand how sprites wor</a></div><div style="float: right;"><a href="./viewtopic.php?p=204692#p204692"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sat Sep 16, 2017 11:04 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Jul 04, 2014 9:31 pm<br /><b>Posts:</b> 960
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">Xeraster wrote:</div><div class="quotecontent">There's already 2 BG layers which logically I would expect to use up the first 2 bits.</div><br />No, the BG layers have nothing to do with OAM.  It's all sprites.  Remember, the S-PPU is fixed-function; you can't trade sprites for BG layers.  You get 128 sprites no matter what.  You can't even turn off sprites, except by moving them offscreen.<br /><br />Count the entries.  There are exactly 512 bytes in low OAM, four bytes for each sprite.  There are exactly 32 bytes in high OAM, with four sprites to a byte.  That's 128 sprites.<br /><br />EDIT:  Sorry if that sounded condescending.  I'm feeling a bit harried right now for unrelated reasons, and I was trying to make the point as clear as possible.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=6595"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table width="100%" cellspacing="1" class="tablebg">
	<tr align="center">
		<td class="cat"><form name="viewtopic" method="post" action="./viewtopic.php?f=12&amp;t=16487"><span class="gensmall">Display posts from previous:</span> <select name="st" id="st"><option value="0" selected="selected">All posts</option><option value="1">1 day</option><option value="7">7 days</option><option value="14">2 weeks</option><option value="30">1 month</option><option value="90">3 months</option><option value="180">6 months</option><option value="365">1 year</option></select>&nbsp;<span class="gensmall">Sort by</span> <select name="sk" id="sk"><option value="a">Author</option><option value="t" selected="selected">Post time</option><option value="s">Subject</option></select> <select name="sd" id="sd"><option value="a" selected="selected">Ascending</option><option value="d">Descending</option></select>&nbsp;<input class="btnlite" type="submit" value="Go" name="sort" /></form></td>
	</tr>
	</table>
	

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=12"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=12&amp;t=16487"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>1</strong> of <strong>2</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 21 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"><b><a href="#" onclick="jumpto(); return false;" title="Click to jump to page…">Go to page</a> <strong>1</strong><span class="page-sep">, </span><a href="./viewtopic.php?f=12&amp;t=16487&amp;start=15">2</a> &nbsp;<a href="./viewtopic.php?f=12&amp;t=16487&amp;start=15">Next</a></b></td>
		
	</tr>
	</table>

</div>

<div id="pagefooter"></div>

<br clear="all" />
<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=25">Other</a> &#187; <a href="./viewforum.php?f=23">Other Retro Dev</a> &#187; <a href="./viewforum.php?f=12">SNESdev</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>
	<br clear="all" />

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat"><h4>Who is online</h4></td>
	</tr>
	<tr>
		<td class="row1"><p class="gensmall">Users browsing this forum: No registered users and 2 guests</p></td>
	</tr>
	</table>


<br clear="all" />

<table width="100%" cellspacing="1">
<tr>
	<td width="40%" valign="top" nowrap="nowrap" align="left"></td>
	<td align="right" valign="top" nowrap="nowrap"><span class="gensmall">You <strong>cannot</strong> post new topics in this forum<br />You <strong>cannot</strong> reply to topics in this forum<br />You <strong>cannot</strong> edit your posts in this forum<br />You <strong>cannot</strong> delete your posts in this forum<br />You <strong>cannot</strong> post attachments in this forum<br /></span></td>
</tr>
</table>

<br clear="all" />

<table width="100%" cellspacing="0">
<tr>
	<td><form method="get" name="search" action="./search.php"><span class="gensmall">Search for:</span> <input class="post" type="text" name="keywords" size="20" /> <input class="btnlite" type="submit" value="Go" /><input type="hidden" name="t" value="16487" />
<input type="hidden" name="sf" value="msgonly" />
</form></td>
	<td align="right">
	<form method="post" name="jumpbox" action="./viewforum.php" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	<table cellspacing="0" cellpadding="0" border="0">
	<tr>
		<td nowrap="nowrap"><span class="gensmall">Jump to:</span>&nbsp;<select name="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">

		
			<option value="-1">Select a forum</option>
		<option value="-1">------------------</option>
			<option value="24">NES / Famicom</option>
		
			<option value="2">&nbsp; &nbsp;NESdev</option>
		
			<option value="3">&nbsp; &nbsp;NESemdev</option>
		
			<option value="21">&nbsp; &nbsp;NES Graphics</option>
		
			<option value="6">&nbsp; &nbsp;NES Music</option>
		
			<option value="22">&nbsp; &nbsp;Homebrew Projects</option>
		
			<option value="34">&nbsp; &nbsp;&nbsp; &nbsp;2018 NESdev Competition</option>
		
			<option value="33">&nbsp; &nbsp;&nbsp; &nbsp;2017 NESdev Competition</option>
		
			<option value="32">&nbsp; &nbsp;&nbsp; &nbsp;2016 NESdev Competition</option>
		
			<option value="31">&nbsp; &nbsp;&nbsp; &nbsp;2014 NESdev Competition</option>
		
			<option value="30">&nbsp; &nbsp;&nbsp; &nbsp;2011 NESdev Competition</option>
		
			<option value="10">&nbsp; &nbsp;Newbie Help Center</option>
		
			<option value="9">&nbsp; &nbsp;NES Hardware and Flash Equipment</option>
		
			<option value="28">&nbsp; &nbsp;&nbsp; &nbsp;Reproduction</option>
		
			<option value="19">&nbsp; &nbsp;NESdev International</option>
		
			<option value="11">&nbsp; &nbsp;&nbsp; &nbsp;FCdev</option>
		
			<option value="18">&nbsp; &nbsp;&nbsp; &nbsp;NESdev China</option>
		
			<option value="27">&nbsp; &nbsp;&nbsp; &nbsp;NESdev Middle East</option>
		
			<option value="25">Other</option>
		
			<option value="5">&nbsp; &nbsp;General Stuff</option>
		
			<option value="4">&nbsp; &nbsp;Membler Industries</option>
		
			<option value="23">&nbsp; &nbsp;Other Retro Dev</option>
		
			<option value="12" selected="selected">&nbsp; &nbsp;&nbsp; &nbsp;SNESdev</option>
		
			<option value="20">&nbsp; &nbsp;&nbsp; &nbsp;GBDev</option>
		
			<option value="15">&nbsp; &nbsp;Test Forum</option>
		
			<option value="26">Site Issues</option>
		
			<option value="13">&nbsp; &nbsp;phpBB Issues</option>
		
			<option value="14">&nbsp; &nbsp;Web Issues</option>
		
			<option value="16">&nbsp; &nbsp;nesdevWiki</option>
		

		</select>&nbsp;<input class="btnlite" type="submit" value="Go" /></td>
	</tr>
	</table>

	</form>
</td>
</tr>
</table>


</div>


<div id="wrapfooter">
	
	<span class="copyright">Powered by <a href="http://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Group
	</span>
</div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-61452025-2', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>