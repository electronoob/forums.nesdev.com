<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Using steady DPCM samples as a 'lead'</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Using steady DPCM samples as a 'lead'</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=6&amp;t=11393">http://forums.nesdev.com/viewtopic.php?f=6&amp;t=11393</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>2</strong> of <strong>3</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>OneCrudeDude</b> [ Sat Jul 05, 2014 6:37 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Using steady DPCM samples as a 'lead'</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I don't have an idea for a game, sadly, at least not yet.  All I know is that it would be incredibly ambitious, something that would've come out late in the console's life but did not.<br /><br />As for non-DPCM orchestra hits, this one guy managed to make an &quot;NES cover&quot; of Pokemon Diamond/Pearl/Platinum's champion theme, in which quickly arpeggiating and downpicthing (are those even words?) square waves make a sound similar to an orchestra hit.  &quot;NES cover&quot; is in quotes because this was rendered with FL Studio, not Famitracker or otherwise.  I assume this sounds close enough.<br /><br /><!-- m --><a class="postlink" href="https://www.youtube.com/watch?v=GWM3nJm6pKY">https://www.youtube.com/watch?v=GWM3nJm6pKY</a><!-- m --> at 1:12

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>mikejmoffitt</b> [ Mon Jul 07, 2014 7:54 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Using steady DPCM samples as a 'lead'</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Konami really lost their pants to orchestra hits with the Turtles in Time soundtrack.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Memblers</b> [ Mon Jul 07, 2014 8:37 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Using steady DPCM samples as a 'lead'</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I rarely tried to use DPCM outside of bass+drums because of the terrible tuning.  I did a cover of the Metroid intro with a looped version of my usual bass sample.  With zero effort to making it loop properly, it still didn't sound too terrible (other than the tuning, and this is played in PAL format as well) - <a href="http://youtu.be/kLfAXNYVTqY?t=17m22s" class="postlink">http://youtu.be/kLfAXNYVTqY?t=17m22s</a><br /><br />I never thought of tuning the other channels to match, that's a good idea.  The Lately Tuned NSF sounds bad-ass.<br /><br />Also, one game I know of that uses a looped sample, was The Immortal by Rob Hubbard.  I like how it sounds too, I guess I just like lower frequencies in general though, heheh.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>OneCrudeDude</b> [ Mon Jul 07, 2014 11:02 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Using steady DPCM samples as a 'lead'</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />@mike:  Most of their non-NES soundtracks make heavy use of orch hits, be it TMNT 4 or GI Joe or that one game based on that cartoon about Cows turned Cowboys.  Orchestra hits were to Konami as to what BAH BAH is to New SMB.<br /><br />@memblers:  I figured that the tuning would've been a big reason why it was avoided, as to have a proper set of instruments would require multiple samples.  Though I'm guessing that 'sampled waveforms' might work better ala The Immortal.<br /><br />That video (actually Chibiteck's cover of Technotris) also reminded me of a related, but eventually off topic quirk I noticed in some NES soundtracks.  Why did some NES game soundtracks have a persistent triangle wave that was really low pitched.  A game that does this a lot would be Recca; when there's nothing coming from the triangle, this low pitched hum comes out instead.  Same could be said for Castle of Dragon, that too fills in triangle 'blanks' with that same sound.  Is that a stylistic thing, or a quirk with the sound driver?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>rainwarrior</b> [ Tue Jul 08, 2014 6:49 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Using steady DPCM samples as a 'lead'</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />For some of them, like Recca, it looks like the audio programmer didn't know how to mute the triangle and instead set the triangle to its lowest frequency wherever it was supposed to be silent (sounds as a low A). Through RF output and/or crummy speakers it would be less noticeable, which might explain why it wasn't caught and fixed during production.<br /><br />Bullet Proof Tetris is an exception though. A lot of tracks play a low C frequently in an odd way, but as far as I can tell it's intentional. The tracks otherwise properly mute the triangle. (Castle Dragon appears to be in the same boat as this.)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>OneCrudeDude</b> [ Tue Jul 08, 2014 9:05 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Using steady DPCM samples as a 'lead'</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />That makes sense, I thought it had something to do with DPCM screwing up some programming, similar to the corrupted/sporadic input reads which was allegedly fixed for PAL consoles.  I could see Nintendo not noticing there was a problem with inputs, as the first game that used them, Wild Gunman, did not use the controller for anything.  Same goes for Nintendo's second DPCM game, Gumshoe, even if the DPCM samples only play for one song, exactly 11 times.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Tue Jul 08, 2014 10:11 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Using steady DPCM samples as a 'lead'</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><em>Donkey Kong 3</em> (arcade) used two NES CPUs (2A03) as audio coprocessors. One played samples; the other played music and PSG sound effects. The 2A03 CPUs ran a &quot;soundboard&quot; ROM that would let the game CPU start music and sound effects by sending signals that the 2A03 CPUs saw as button presses on a controller. It could have been done with one 2A03, except the samples were put on a separate CPU because Nintendo hadn't yet figured out how to work around the double read glitch.<br /><br />I have another interesting story to tell about &quot;Technotris&quot; in <em>Tetris</em> by BPS. Before edge cases of length counter behavior were figured out, early emulators played a bunch of low C's on the pulse channels as well, which I initially heard as a more complex bass line.

		
			<br clear="all" /><br />

			<table class="tablebg" width="100%" cellspacing="1">
			<tr>
				<td><b class="genmed">Attachments: </b></td>
			</tr>
			
				<tr>
					<td>
			<span class="genmed">
				<img src="./images/upload_icons/mid.gif" alt="" /> 
				<a href="./download/file.php?id=12488">technotris bug.ftm</a> [4.28 KiB]
			</span><br />
			<span class="gensmall">Downloaded 12 times</span>
		

		<br />
	</td>
				</tr>
			
				<tr>
					<td>
			<span class="gensmall"><b>File comment:</b> Cover of the beginning of &quot;Technotris&quot; from BPS Tetris<br />0:00 what an NES plays<br />0:06 what early emulators played<br />0:13 what I heard it as<br />0:19 where I thought the composer was trying to go</span><br />
		
			<span class="genmed">
				<img src="./styles/subsilver2/imageset/icon_topic_attach.gif" width="14" height="18" alt="" title="" /> 
				<a href="./download/file.php?id=1713">technotris bug.ogg</a> [302.97 KiB]
			</span><br />
			<span class="gensmall">Downloaded 114 times</span>
		

		<br />
	</td>
				</tr>
			
			</table>
		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>OneCrudeDude</b> [ Tue Jul 08, 2014 10:03 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Using steady DPCM samples as a 'lead'</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />That sounds pretty good actually.  You should hack that game to play that song instead, and maybe get rid of the ass backwards controls.<br /><br />And since Nintendo's arcade games used the same processors as the NES did, I wonder if any things generated by those chips would be possible to replicate at all on the NES.  Likewise, I really wonder what a &quot;double NES&quot; setup would sound like.  On the same note, I wonder if the PlayChoice10 CPU has any advantages or quirks over the NES one.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Tue Jul 08, 2014 10:17 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Using steady DPCM samples as a 'lead'</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">OneCrudeDude wrote:</div><div class="quotecontent">That sounds pretty good actually.  You should hack that game to play that song instead</div><br />I'm done hacking <em>Tetris</em> after <a href="http://forums.nesdev.com/viewtopic.php?p=95817#p95817" class="postlink">a court ruling from two years ago</a>.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">and maybe get rid of the ass backwards controls.</div><br />BPS already did that in <em>Tetris 2 + Bombliss</em> and its Super Famicom <em>Tetris</em> games.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">And since Nintendo's arcade games used the same processors as the NES did</div><br />The pre-Vs. System arcade games mostly used Z80 for gameplay. Only <em>DK3</em> and <em>Punch-Out!!</em> use NES CPUs for audio.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I wonder if any things generated by those chips would be possible to replicate at all on the NES.</div><br />There's an NSF of arcade <em>Punch-Out!!</em> floating around.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Likewise, I really wonder what a &quot;double NES&quot; setup would sound like.</div><br />It'd probably sound a lot like an MMC5. But an NES and a Game Boy together might sound like <a href="http://pics.pineight.com/nes/chill_fakebit.ogg" class="postlink">this</a>.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Memblers</b> [ Tue Jul 08, 2014 10:49 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Using steady DPCM samples as a 'lead'</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Nintendo made a double NES machine, the VS Dualsystem.  Actually years ago for fun I messed around with using audio from both sides, emulating it in MAME.  The two CPUs can communicate, though only a few games used that feature.  Also, the song is really dumb, and it's not exactly NES-accurate, but I had made this XM module: <a href="http://nesdev.com/2A03/nes-x2.zip" class="postlink">http://nesdev.com/2A03/nes-x2.zip</a><br /><br />The Playchoice, at least the one I have, has an RP2A03E.  No differences to the G revision are known.  The VS system however (and probably Punchout and Donkey Kong 3) have an RP2A03 (no revision letter), and one known difference is that there is no 'looped noise' mode.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>OneCrudeDude</b> [ Wed Jul 09, 2014 12:00 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Using steady DPCM samples as a 'lead'</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The Vs Dualsystem is what I what I actually had in mind when I mentioned the dual NES audio.  However, that machine seemed to essentially be two NES hooked up via LAN, with each console displaying something different but playing the same game.  Did that only work for simple games (such as Wrecking Crew), or would it be possible to have, say, a version of Contra where each player isn't restricted by the screen?  Or would transmitting the information between both CPUs (IE, a bullet that flied past P2's screen being transferred over to P1's screen) be a lot more complex?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Wed Jul 09, 2014 12:06 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Using steady DPCM samples as a 'lead'</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />There is a block of shared memory at $7000 or thereabouts that only one machine can access at once. The first CPU, as I understand it, controls which machine sees it at any given time. A game could send any sort of state updates through that memory, but I'm not sure to what extent the two machines are synchronized in terms of relative vblank timing.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>lidnariq</b> [ Wed Jul 09, 2014 1:01 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Using steady DPCM samples as a 'lead'</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">I'm not sure to what extent the two machines are synchronized in terms of relative vblank timing.<br /></div>Both PPUs and both CPUs are fed off the same master clock, and both PPUs and both CPUs have all their RESET pins tied together. And there's no short fields on the Vs. System PPUs (always exactly 89342 pixels) ... so as far as I can tell, they should stay perfectly synchronized.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Memblers</b> [ Wed Jul 09, 2014 2:48 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Using steady DPCM samples as a 'lead'</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">OneCrudeDude wrote:</div><div class="quotecontent">The Vs Dualsystem is what I what I actually had in mind when I mentioned the dual NES audio.  However, that machine seemed to essentially be two NES hooked up via LAN, with each console displaying something different but playing the same game.  Did that only work for simple games (such as Wrecking Crew), or would it be possible to have, say, a version of Contra where each player isn't restricted by the screen?  Or would transmitting the information between both CPUs (IE, a bullet that flied past P2's screen being transferred over to P1's screen) be a lot more complex?</div><br /><br />That's certainly possible if the game is designed for it, a game like Contra probably would need non-trivial modifications to allow stuff like the other player to shoot from off-screen, and new enemy spawning situations.  Those are potentially gameplay-breaking modifications, but theoretically, if there's not too much data to transfer I'm sure it could handle something like that just fine.  It would prevent the annoying deaths on the waterfall level, which would be nice.<br /><br />BTW, on a somewhat related note (and veering off-topic), it's just a rumor, but supposedly when Codemasters was developing Micro Machines, they had a multiplayer setup with 2 systems liked by the controller port.  If true, that would have been pretty cool.  I can't remember where I heard that.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>OneCrudeDude</b> [ Wed Jul 09, 2014 7:45 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Using steady DPCM samples as a 'lead'</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />This particular thread is off topic to begin with, I feel bad for making it in the first place.  But I have some curiosities about the console, so yeah.<br /><br />I don't know how the controller ports could link two consoles and their information together.  Maybe they meant the expansion port?  And I wouldn't put it past Codemasters, it seemed like English programmers were insanely intuitive.  It also helps that Codemasters' games were among the best unlicensed games, good enough to be classified alongside licensed titles.  But being English games, they also suffer from various design errors resulting in odd difficulty.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>2</strong> of <strong>3</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>