<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - no$sns - new SNES emulator</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">no$sns - new SNES emulator</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=12&amp;t=8651">http://forums.nesdev.com/viewtopic.php?f=12&amp;t=8651</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>3</strong> of <strong>6</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>LuigiBlood</b> [ Thu Mar 01, 2012 1:37 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />So the website is down again, and this time...
<br />
<br />The Satellaview Server for NO$SNS doesn't work anymore too.
<br />I thought it was included in it. So it's the world's first online Satellaview Server in that case...

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Hamtaro126</b> [ Thu Mar 01, 2012 1:42 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">byuu wrote:</div><div class="quotecontent"><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">The problem is that the NES is hardly a simple 6502 based system... in fact emulating the 6502, even if you write your own core is a breeze. The PPU has a lot of tricks also, and probably one has to spend quite some time figuring it out fully... then you discover than your emulator can only execute a handful of games from the first era of the NES... then you start with the MMCs... and your life as you knew it is over :p</div><br /><br />nocash was speaking of the SNES, which is 6502-derived.<br /><br />Again though, as I've said, the NES is a walk in the park in comparison. I've done both, I should know. The NES PPU has eight registers, and full documentation on what every single cycle does. The SNES PPU has 64 registers that are all bit-packed with multiple functions, and defies attempts to be documented even at the scanline level.<br /><br />Not saying you shouldn't be proud of an NES emulator. A PS1 emulator is way harder than SNES, PS2 way harder than PS1, and PS3 way harder than PS2. With progress comes added complexity.</div>
<br />
<br />Where does Gameboy-DS series, N64, Gamecube-Wii, etc come to the equasion?
<br />
<br />NoCash: I really like your emulators, This one is the best of all, 'Nuff said.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Thu Mar 01, 2012 6:24 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Correct me if I'm wrong, but as I understand it, consoles within a generation are comparable in complexity. GameCube is probably comparable to PS2, and a Wii is literally an overclocked GameCube with more RAM and a USB port hanging off an ARM-powered IOP on the northbridge. Game Boy is roughly equal to NES + MMC5 but with more tolerance for bad timing due to the reliable scanline counter. Game Boy Advance is comparable to Super NES without the coprocessors, and DS might be comparable to a Saturn, or a bit tougher than PS1 due to the multiple cores.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>byuu</b> [ Thu Mar 01, 2012 10:50 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />You really just have to look at each system individually. The most striking contrast is probably the Dreamcast being far easier to emulate than the Saturn.
<br />
<br />Nintendo's handhelds are always two generations behind their competitors.
<br />
<br />&gt; Game Boy is roughly equal to NES + MMC5 but with more tolerance for bad timing due to the reliable scanline counter.
<br />
<br />Game Boy's main problem is the absolute horse shit we have for documentation. The best thing out there is basically Pan Docs. Which would be a bit like getting your NES info from Nesticle. sinamas is the only one with decent emulation sharing source code, but his programming style (it's very efficient) makes it very difficult to glean information from.
<br />
<br />How does mid-scanline stuff work on the DMG? Who knows!! We can't even get basic questions answered like what happens when you write to LY. Eg does it only reset a dummy cycle counter, or does it reset the actual line counter position? If the latter, you could basically drive the top half of the display at 120hz, which would be psychotic.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Karatorian</b> [ Fri Mar 02, 2012 9:36 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">byuu wrote:</div><div class="quotecontent">How does mid-scanline stuff work on the DMG? Who knows!! We can't even get basic questions answered like what happens when you write to LY. Eg does it only reset a dummy cycle counter, or does it reset the actual line counter position? If the latter, you could basically drive the top half of the display at 120hz, which would be psychotic.</div>
<br />Is this the sort of thing one could figure out with a flash cart and a test ROM? Or would you need to break out the o'scope?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>sinamas_</b> [ Sat Mar 03, 2012 4:22 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />ffs. afaik ly write doesn't do shit:
<br /><!-- m --><a class="postlink" href="http://gambatte.svn.sourceforge.net/viewvc/gambatte/testrunner/hwtests/lywrite/">http://gambatte.svn.sourceforge.net/vie ... s/lywrite/</a><!-- m -->
<br />
<br />(use testrunner/qdgbas.py to assemble tests. expected output is giving in the test filename for a dmg-08 and a cgb.)
<br />(and yes, the asm could be prettier. there are reasons why it's not. feel free to contribute.)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>gilligan</b> [ Sun Apr 08, 2012 4:49 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />A quick question on the debugger. There is something in the settings about displaying "Symbolic information (TAB)" but i can't seem to find any further information on this ? How does that work, does it work at all ? Do I have to provide some text file or poke it in the rom or is it something else than I think it is altogether ?
<br />
<br />Having the debugger display names of labels/variables would be a welcome feature ;-)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>nitro2k01</b> [ Sun Apr 08, 2012 5:08 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Gilligan, you should be able to load symbols by creating a file which has the same file name as the ROM, but with extension sym instead of sfc, smc, bin or whatever. The format should be something like:
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">0000:0000 something</div>Where the first two digits are the bank or whatever (or 0 if not applicable) and the last two digits are the exact address. However, the exact format could vary depending on the convention for the SNES address space and ROM banking, which I'm not familiar with. I can't get no$sns to load a symbol file (always complains about broken lines). Either I don't understand the address format used for SNES/no$sns or this function is broken. Maybe Martin could clarify?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>gilligan</b> [ Sun Apr 08, 2012 5:49 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />thanks for that info nitro. I tried everything but can't get it to work either. I would assume it expects the same format that no$gmb used for .sym files which is exactly what you suggested. I tried various stupid variations including DOS line endings and what not. Doesn't work. 
<br />
<br />If we were talking about bsnes or ssnes or some other F/OSS emu i had checked the sources long ago, but we are talking about no$snes which is a closed source emu written in x86asm .. alas .. :) Lets hope the author enlightens us sooner or later.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>nocash</b> [ Mon Apr 30, 2012 4:15 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Uploaded a new no$sns version,
<br /><!-- m --><a class="postlink" href="http://nocash.emubase.de/sns.htm">http://nocash.emubase.de/sns.htm</a><!-- m -->
<br />(if the server is down, please retry 1-2 days later)
<br />
<br />For the .SYM files, format is "00123456 label_name". For an example, download the Magic Floor source code, and assemble it via no$sns utility menu. The feature still needs some polishing (like adding a way to define separate labels for the APU address space).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>alekmaul</b> [ Tue May 01, 2012 2:42 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Hi nocash,
<br />Yes, you website is down currently, will try to download it later <img src="./images/smilies/icon_sad.gif" alt=":(" title="Sad" /> ...
<br />
<br />Except that, so happy to use your emulator, really great and easy like no$gba to use.
<br />I noticed some few things  that seems to not be in this emulator but that are on others like no$gba. Do what you want with them, just to inform you (I think it can improve no^sns but it's your choice <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" /> ).
<br />- PrintScreen to have a bmp screenshot will really be great.
<br />- Help file compatible with windows 7
<br />- an option to run the emulator with a file in command line environment (so i can add launch of .sfc/.smc file with emulator directly in makefile when doing some homebrews)
<br />- running one frame option (like no$gba with / key)
<br />- open a file without running it directly (to begin with step by step running)
<br />- reset without run just after
<br />- when i launch again a file, without exiting no$sns, it seems that some values are still in memory (like palette color values for example)
<br />- buttons on debug screen like no$gba to trace/screenshot and an access to SNES Specs.
<br />
<br />- I begin to add spc snesmod support in my PVSnesLib and notice this thing :
<br />here is the source code :
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">&nbsp; &nbsp;sei&nbsp; &nbsp;<br />-:&nbsp; &nbsp;ldx&nbsp; &nbsp;REG_APUIO0&nbsp; &nbsp;; wait for 'ready signal from SPC<br />&nbsp; &nbsp;cpx&nbsp; &nbsp;#0BBAAh&nbsp; &nbsp;&nbsp; &nbsp;;<br />&nbsp; &nbsp;bne&nbsp; &nbsp;-&nbsp; &nbsp;&nbsp; &nbsp;;--------------------------------------<br />&nbsp; &nbsp;stx&nbsp; &nbsp;REG_APUIO1&nbsp; &nbsp;; start transfer:<br />&nbsp; &nbsp;ldx&nbsp; &nbsp;#SPC_BOOT&nbsp; &nbsp;; port1 = !0<br />&nbsp; &nbsp;stx&nbsp; &nbsp;REG_APUIO2&nbsp; &nbsp;; port2,3 = transfer address<br />&nbsp; &nbsp;lda&nbsp; &nbsp;#0CCh&nbsp; &nbsp;&nbsp; &nbsp;; port0 = 0CCh<br />&nbsp; &nbsp;sta&nbsp; &nbsp;REG_APUIO0&nbsp; &nbsp;;--------------------------------------<br />-:&nbsp; &nbsp;cmp&nbsp; &nbsp;REG_APUIO0&nbsp; &nbsp;; wait for SPC<br />&nbsp; &nbsp;bne&nbsp; &nbsp;-&nbsp; &nbsp;&nbsp; &nbsp;;</div><br /><br />and here is your disassembled version :<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">0000:BF79þ78&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;sei<br />0000:BF7A AE 40 21&nbsp; &nbsp; &nbsp;ldx 2140<br />0000:BF7D E0 AA BB&nbsp; &nbsp; &nbsp;cpx #BBAA<br />0000:BF80 D0 F8&nbsp; &nbsp; &nbsp; &nbsp; bne BF7A<br />0000:BF82 8E 41 21&nbsp; &nbsp; &nbsp;stx 2141<br />0000:BF85 A2 00 04&nbsp; &nbsp; &nbsp;ldx #0400<br />0000:BF88 8E 42 21&nbsp; &nbsp; &nbsp;stx 2142<br />0000:BF8B A9 CC 8D&nbsp; &nbsp; &nbsp;lda #8DCC<br />0000:BF8E 40&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;rti<br />0000:BF8F 21 CD&nbsp; &nbsp; &nbsp; &nbsp; and &#40;CD,x&#41;<br />0000:BF91 40&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;rti<br />0000:BF92 21 D0&nbsp; &nbsp; &nbsp; &nbsp; and &#40;D0,x&#41;<br />0000:BF94 FB&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;xce<br />0000:BF95 AF CF A9 00&nbsp; lda 00A9CF<br />0000:BF99 EB&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;xba<br />0000:BF9A A9 00 A2&nbsp; &nbsp; &nbsp;lda #A200<br />0000:BF9D 01 00&nbsp; &nbsp; &nbsp; &nbsp; ora &#40;00,x&#41;<br />0000:BF9F 80 0D&nbsp; &nbsp; &nbsp; &nbsp; bra BFAE</div>
<br />
<br />why the sta REG_APUIO0	is not ok ?
<br />
<br />Hope you will continue to improve your emulator <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>nitro2k01</b> [ Tue May 01, 2012 2:58 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I know nothing about 65816 programming, but looking at the opcode chart, this instruction seems to be incorrect, and I would maybe blame the assembler.
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">0000:BF8B A9 CC 8D&nbsp; &nbsp; &nbsp;lda #8DCC </div>
<br />lda with an immediate argument should have a two byte argument (right?). Your assembler turns "lda   #0CCh" into "A9 CC" (8D is the next sta opcode) where it should turn it into "A9 CC 00". Unless I suck completely.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>mic_</b> [ Tue May 01, 2012 4:31 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />If P.m==1 (i.e. A is 8-bit, which the comments imply that it is) then A9 nn is correct. So the code is most likely right, it's just the disassembler that's confused.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>nocash</b> [ Tue May 01, 2012 5:40 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />&gt; PrintScreen to have a bmp screenshot will really be great.
<br />Yup... when I've time.
<br />
<br />&gt; Help file compatible with windows 7
<br />Dito. And damn microsoft for no longer supporting their own file format.
<br />
<br />&gt; an option to run the emulator with a file in command line environment
<br />commandline "no$sns c:\path\filename.ext" should be working.
<br />
<br />&gt; running one frame option (like no$gba with / key)
<br />Yup, would be handy.
<br />
<br />&gt; open a file without running it directly
<br />Disable the "autostart" checkbox in open file menu.
<br />
<br />&gt; some values are still in memory (like palette color values for example)
<br />Yeah, might be cleaner when erasing that values. Though real hardware doesn't do that either.
<br />
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">0000:BF8B A9 CC 8D&nbsp; &nbsp; &nbsp;lda #8DCC <br />0000:BF8E 40&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;rti</div>
<br />Disassembling 8bit "lda #CC" in 16bit mode obviously gives "lda #xxCC". Just one of the nastier aspects when dealing with 65C816 code. I guess I could improve that a little, but there's no perfect solution...
<br />For debugging "new" programs, I could pick 8bit/16bit mode info from the .SYM file (if it is present).
<br />And for disassembling "old" games... one could try to scan memory for sep/rep opcodes and "guess" the intended modes... chances to might be around 80-95% to guess the correct mode. Cases where it'd may go wrong would be opcodes mixed with data areas, or jumps, especially when using indirect jump-tables.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Tue May 01, 2012 6:29 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />For disassembling old games, perhaps the right solution might rely on something similar to the code/data log (CDL) of FCEUX.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>3</strong> of <strong>6</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>