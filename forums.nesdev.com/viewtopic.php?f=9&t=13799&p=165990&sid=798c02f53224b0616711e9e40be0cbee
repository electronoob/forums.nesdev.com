<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<link rel="icon" href="/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />

<title>nesdev.com &bull; View topic - minimum CPU memory memory load</title>

<link rel="alternate" type="application/atom+xml" title="Feed - nesdev.com" href="http://forums.nesdev.com/feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - News" href="http://forums.nesdev.com/feed.php?mode=news" /><link rel="alternate" type="application/atom+xml" title="Feed - All forums" href="http://forums.nesdev.com/feed.php?mode=forums" /><link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="http://forums.nesdev.com/feed.php?mode=topics" /><link rel="alternate" type="application/atom+xml" title="Feed - Active Topics" href="http://forums.nesdev.com/feed.php?mode=topics_active" /><link rel="alternate" type="application/atom+xml" title="Feed - Forum - NES Hardware and Flash Equipment" href="http://forums.nesdev.com/feed.php?f=9" /><link rel="alternate" type="application/atom+xml" title="Feed - Topic - minimum CPU memory memory load" href="http://forums.nesdev.com/feed.php?f=9&amp;t=13799" />

<link rel="stylesheet" href="./style.php?id=1&amp;lang=en&amp;sid=c911e2ffa7bf0251454f70b3a2676383" type="text/css" />

<script type="text/javascript">
// <![CDATA[


function popup(url, width, height, name)
{
	if (!name)
	{
		name = '_popup';
	}

	window.open(url.replace(/&amp;/g, '&'), name, 'height=' + height + ',resizable=yes,scrollbars=yes,width=' + width);
	return false;
}

function jumpto()
{
	var page = prompt('Enter the page number you wish to go to:', '2');
	var per_page = '15';
	var base_url = './viewtopic.php?f=9&amp;t=13799&amp;sid=c911e2ffa7bf0251454f70b3a2676383';

	if (page !== null && !isNaN(page) && page == Math.floor(page) && page > 0)
	{
		if (base_url.indexOf('?') == -1)
		{
			document.location.href = base_url + '?start=' + ((page - 1) * per_page);
		}
		else
		{
			document.location.href = base_url.replace(/&amp;/g, '&') + '&start=' + ((page - 1) * per_page);
		}
	}
}

/**
* Find a member
*/
function find_username(url)
{
	popup(url, 760, 570, '_usersearch');
	return false;
}

/**
* Mark/unmark checklist
* id = ID of parent container, name = name prefix, state = state [true/false]
*/
function marklist(id, name, state)
{
	var parent = document.getElementById(id);
	if (!parent)
	{
		eval('parent = document.' + id);
	}

	if (!parent)
	{
		return;
	}

	var rb = parent.getElementsByTagName('input');
	
	for (var r = 0; r < rb.length; r++)
	{
		if (rb[r].name.substr(0, name.length) == name)
		{
			rb[r].checked = state;
		}
	}
}



// ]]>
</script>
</head>
<body class="ltr">

<a name="top"></a>

<div id="wrapheader">

	<div id="logodesc">
	</div>

	<div id="menubar">

		<table width="100%" cellspacing="0">
		<tr>
			<td rowspan="2"><a href="./index.php?sid=c911e2ffa7bf0251454f70b3a2676383"><img src="./styles/subsilver2/imageset/site_logo.gif" alt="" title="" /></a></td>
			<td width="100%" align="center"><h1>nesdev.com</h1><span class="gen">NES Development and Strangulation Records message boards</span></td>
		</tr>
		<tr>
			<td align="center">
				<!--<div style="float: right;">
					<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
					<input type="hidden" name="cmd" value="_s-xclick">
					<input type="hidden" name="hosted_button_id" value="X2HM4WNR5YT8S">
					<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
					<img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
					</form>
				</div>-->
				<a href="./faq.php?sid=c911e2ffa7bf0251454f70b3a2676383"><img src="./styles/prosilver/theme/images/icon_mini_faq.gif" width="12" height="13" alt="*" /> FAQ</a>
				&nbsp; &nbsp;<a href="./search.php?sid=c911e2ffa7bf0251454f70b3a2676383"><img src="./styles/prosilver/theme/images/icon_mini_search.gif" width="12" height="13" alt="*" /> Search</a>
				<br />	
				 &nbsp;<a href="./ucp.php?mode=register&amp;sid=c911e2ffa7bf0251454f70b3a2676383"><img src="./styles/prosilver/theme/images/icon_mini_register.gif" width="12" height="13" alt="*" /> Register</a>
					&nbsp; &nbsp;<a href="./ucp.php?mode=login&amp;sid=c911e2ffa7bf0251454f70b3a2676383"><img src="./styles/prosilver/theme/images/icon_mini_login.gif" width="12" height="13" alt="*" /> Login</a>&nbsp;
			</td>
		</tr>
		</table>
	</div>

	<div id="datebar">
		<table width="100%" cellspacing="0">
		<tr>
			<td class="gensmall"></td>
			<td class="gensmall" align="right">It is currently Sun Oct 09, 2016 6:31 am<br /></td>
		</tr>
		</table>
	</div>

</div>

<div id="wrapcentre">

	
	<p class="searchbar">
		<span style="float: left;"><a href="./search.php?search_id=unanswered&amp;sid=c911e2ffa7bf0251454f70b3a2676383">View unanswered posts</a> | <a href="./search.php?search_id=active_topics&amp;sid=c911e2ffa7bf0251454f70b3a2676383">View active topics</a></span>
		
	</p>
	

	<br style="clear: both;" />

	<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php?sid=c911e2ffa7bf0251454f70b3a2676383">Board index</a> &#187; <a href="./viewforum.php?f=24&amp;sid=c911e2ffa7bf0251454f70b3a2676383">NES / Famicom</a> &#187; <a href="./viewforum.php?f=9&amp;sid=c911e2ffa7bf0251454f70b3a2676383">NES Hardware and Flash Equipment</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>

	<br />
	

					<center>
					<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- NesDev Forums -->
					<ins class="adsbygoogle"
						 style="display:block"
						 data-ad-client="ca-pub-7801010229099644"
						 data-ad-slot="7979066809"
						 data-ad-format="auto"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>
					</center>
	<br />


<div id="pageheader">
	<h2><a class="titles" href="./viewtopic.php?f=9&amp;t=13799&amp;start=15&amp;sid=c911e2ffa7bf0251454f70b3a2676383">minimum CPU memory memory load</a></h2>


	<p class="moderators">Moderators: <a href="./memberlist.php?mode=viewprofile&amp;u=3466&amp;sid=c911e2ffa7bf0251454f70b3a2676383">B00daW</a>, <a href="./memberlist.php?mode=group&amp;g=320&amp;sid=c911e2ffa7bf0251454f70b3a2676383">Moderators</a></p>

</div>

<br clear="all" /><br />

<div id="pagecontent">

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=9&amp;sid=c911e2ffa7bf0251454f70b3a2676383"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=9&amp;t=13799&amp;sid=c911e2ffa7bf0251454f70b3a2676383"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>2</strong> of <strong>2</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 29 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"><b><a href="#" onclick="jumpto(); return false;" title="Click to jump to pageâ€¦">Go to page</a> <a href="./viewtopic.php?f=9&amp;t=13799&amp;sid=c911e2ffa7bf0251454f70b3a2676383&amp;start=0">Previous</a>&nbsp;&nbsp;<a href="./viewtopic.php?f=9&amp;t=13799&amp;sid=c911e2ffa7bf0251454f70b3a2676383">1</a><span class="page-sep">, </span><strong>2</strong></b></td>
		
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat">
			<table width="100%" cellspacing="0">
			<tr>
				<td class="nav" nowrap="nowrap">&nbsp;
				<a href="./viewtopic.php?f=9&amp;t=13799&amp;start=15&amp;sid=c911e2ffa7bf0251454f70b3a2676383&amp;view=print" title="Print view">Print view</a>
				</td>
				<td class="nav" align="right" nowrap="nowrap"><a href="./viewtopic.php?f=9&amp;t=13799&amp;view=previous&amp;sid=c911e2ffa7bf0251454f70b3a2676383">Previous topic</a> | <a href="./viewtopic.php?f=9&amp;t=13799&amp;view=next&amp;sid=c911e2ffa7bf0251454f70b3a2676383">Next topic</a>&nbsp;</td>
			</tr>
			</table>
		</td>
	</tr>

	<tr>
		<td class="row2" colspan="2" align="center"><br clear="all" />

			<form method="post" action="./viewtopic.php?f=9&amp;t=13799&amp;start=15&amp;sid=c911e2ffa7bf0251454f70b3a2676383">

			<table cellspacing="0" cellpadding="4" border="0" align="center">
			<tr>
				<td align="center"><span class="gen"><b>Minimum randomly-accessable memory</b></span><br /><span class="gensmall"></span></td>
			</tr>
			<tr>
				<td align="left">
					<table cellspacing="0" cellpadding="2" border="0">
				
					<tr>
					
						<td><span class="gen">32kB</span></td>
						
							<td dir="ltr"><img src="./styles/subsilver2/imageset/poll_left.gif" width="4" height="12" alt="" title="" /><img src="./styles/subsilver2/imageset/poll_center.gif" width="83" height="12" alt="33%" title="33%" /><img src="./styles/subsilver2/imageset/poll_right.gif" width="4" height="12" alt="" title="" /></td>
							<td class="gen" align="right"><b>&nbsp;33%&nbsp;</b></td>
							<td class="gen" align="center">[ 5 ]</td>
							
					</tr>
				
					<tr>
					
						<td><span class="gen">64kB</span></td>
						
							<td dir="ltr"><img src="./styles/subsilver2/imageset/poll_left.gif" width="4" height="12" alt="" title="" /><img src="./styles/subsilver2/imageset/poll_center.gif" width="17" height="12" alt="7%" title="7%" /><img src="./styles/subsilver2/imageset/poll_right.gif" width="4" height="12" alt="" title="" /></td>
							<td class="gen" align="right"><b>&nbsp;7%&nbsp;</b></td>
							<td class="gen" align="center">[ 1 ]</td>
							
					</tr>
				
					<tr>
					
						<td><span class="gen">128kB</span></td>
						
							<td dir="ltr"><img src="./styles/subsilver2/imageset/poll_left.gif" width="4" height="12" alt="" title="" /><img src="./styles/subsilver2/imageset/poll_center.gif" width="83" height="12" alt="33%" title="33%" /><img src="./styles/subsilver2/imageset/poll_right.gif" width="4" height="12" alt="" title="" /></td>
							<td class="gen" align="right"><b>&nbsp;33%&nbsp;</b></td>
							<td class="gen" align="center">[ 5 ]</td>
							
					</tr>
				
					<tr>
					
						<td><span class="gen">256kB</span></td>
						
							<td dir="ltr"><img src="./styles/subsilver2/imageset/poll_left.gif" width="4" height="12" alt="" title="" /><img src="./styles/subsilver2/imageset/poll_center.gif" width="33" height="12" alt="13%" title="13%" /><img src="./styles/subsilver2/imageset/poll_right.gif" width="4" height="12" alt="" title="" /></td>
							<td class="gen" align="right"><b>&nbsp;13%&nbsp;</b></td>
							<td class="gen" align="center">[ 2 ]</td>
							
					</tr>
				
					<tr>
					
						<td><span class="gen">512kB</span></td>
						
							<td dir="ltr"><img src="./styles/subsilver2/imageset/poll_left.gif" width="4" height="12" alt="" title="" /><img src="./styles/subsilver2/imageset/poll_center.gif" width="17" height="12" alt="7%" title="7%" /><img src="./styles/subsilver2/imageset/poll_right.gif" width="4" height="12" alt="" title="" /></td>
							<td class="gen" align="right"><b>&nbsp;7%&nbsp;</b></td>
							<td class="gen" align="center">[ 1 ]</td>
							
					</tr>
				
					<tr>
					
						<td><span class="gen">&gt;512kB</span></td>
						
							<td dir="ltr"><img src="./styles/subsilver2/imageset/poll_left.gif" width="4" height="12" alt="" title="" /><img src="./styles/subsilver2/imageset/poll_center.gif" width="17" height="12" alt="7%" title="7%" /><img src="./styles/subsilver2/imageset/poll_right.gif" width="4" height="12" alt="" title="" /></td>
							<td class="gen" align="right"><b>&nbsp;7%&nbsp;</b></td>
							<td class="gen" align="center">[ 1 ]</td>
							
					</tr>
				
					</table>
				</td>
			</tr>
		
			<tr>
				<td class="gensmall" colspan="4" align="center"><b>Total votes : 15</b></td>
			</tr>
		
			</table>
			
			
			</form>

		</td>
	</tr>

	</table>


	<table class="tablebg" width="100%" cellspacing="1">
	
		<tr>
			<th>Author</th>
			<th>Message</th>
		</tr>
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p163891"></a>
				<b class="postauthor" style="color: #AA0000">Memblers</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p163891">Re: minimum CPU memory memory load</a></div><div style="float: right;"><a href="./viewtopic.php?p=163891&amp;sid=c911e2ffa7bf0251454f70b3a2676383#p163891"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Feb 05, 2016 1:28 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td class="postdetails">Site Admin</td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=10.jpg" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Sep 20, 2004 6:04 am<br /><b>Posts:</b> 3301<br /><b>Location:</b> Indianapolis
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Yeah, it'd be a shame to let the CHR features of the mapper be held back by a small memory.  Today I was considering that since the mapper is 3.3V and is controlling so much of the CHR addresses already, it might not be much of a stretch to just level translate the remaining bits to 3.3V, and that might widen my options a bit.  This would eat up a bit more of the CPLD too, so I'll see what can be done to strike a good balance.<br /><br />tepples: In this case I'll be attempting to actually boot directly from the mapper, I've created sort of a highly optimized IPL ROM.  When I was working on my NES to Playchoice adapter, I found that CPLDs can be pretty decent at being a ROM.  It doesn't use up macrocells, but rather the &quot;product terms&quot; which are relatively plentiful.  It becomes a lot of AND gates and some inverters.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=10&amp;sid=c911e2ffa7bf0251454f70b3a2676383"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p164396"></a>
				<b class="postauthor">Hamtaro126</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p164396">Re: minimum CPU memory memory load</a></div><div style="float: right;"><a href="./viewtopic.php?p=164396&amp;sid=c911e2ffa7bf0251454f70b3a2676383#p164396"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Feb 12, 2016 11:59 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=287.png" width="92" height="77" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Thu Jan 19, 2006 5:08 pm<br /><b>Posts:</b> 716<br /><b>Location:</b> Shelton, Washington.
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">128k is enough, RAM is lacking on most current homebrews and hacks as is...<br /><br />This and an increase in CHR-RAM (compared to the default 8k of FDS) will suffice!</div>

					
						<div class="postbody"><br />_________________<br />AKA SmilyMZX/AtariHacker.</div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=287&amp;sid=c911e2ffa7bf0251454f70b3a2676383"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p165386"></a>
				<b class="postauthor" style="color: #AA0000">tepples</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p165386">Re: minimum CPU memory memory load</a></div><div style="float: right;"><a href="./viewtopic.php?p=165386&amp;sid=c911e2ffa7bf0251454f70b3a2676383#p165386"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sun Feb 28, 2016 3:59 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Sep 19, 2004 11:12 pm<br /><b>Posts:</b> 17085<br /><b>Location:</b> NE Indiana, USA (NTSC)
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I think most of what I could come up with could be squeezed into 64K PRG RAM, 32K CHR RAM, and a large flash memory with sequential byte access. You said it'd take 5 or 6 writes to start reading bytes from the SPI flash; that's roughly comparable to MMC1's switching time. But is this a byte address or a 512-byte address?<br /><br />And how many writes would it take to start writing bytes, such as if I'm devoting the last few kilobytes to saved games?</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=9&amp;sid=c911e2ffa7bf0251454f70b3a2676383"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p165422"></a>
				<b class="postauthor" style="color: #AA0000">Memblers</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p165422">Re: minimum CPU memory memory load</a></div><div style="float: right;"><a href="./viewtopic.php?p=165422&amp;sid=c911e2ffa7bf0251454f70b3a2676383#p165422"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Mon Feb 29, 2016 3:03 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td class="postdetails">Site Admin</td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=10.jpg" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Sep 20, 2004 6:04 am<br /><b>Posts:</b> 3301<br /><b>Location:</b> Indianapolis
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">It's a NOR flash, I'm looking at Winbond W25Q series in particular.  It does address individual bytes, for reading and writing.<br /><br />Not tested, maybe one more step than I thought before, but selecting the read address will look like this:<br />1: clear chip enable <br />2: set chip enable<br />3: send read command<br />4: send address<br />5: send address<br />6: send address<br />7: read data, discard<br />8: read data<br />8+n: read data+n<br /><br />That's something I didn't mention, the buffer is shared between sending and receiving, so much like reading the PPU $2007 register, you have to read it once to fill the pipeline.<br /><br />Writing is pretty much the same process, except you clear the chip enable to begin the write process after you've sent the data.  It has a 256 byte programming buffer, so you can write 1~256 bytes in one go.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=10&amp;sid=c911e2ffa7bf0251454f70b3a2676383"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p165426"></a>
				<b class="postauthor" style="color: #AA0000">tepples</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p165426">Re: minimum CPU memory memory load</a></div><div style="float: right;"><a href="./viewtopic.php?p=165426&amp;sid=c911e2ffa7bf0251454f70b3a2676383#p165426"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Mon Feb 29, 2016 8:58 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Sep 19, 2004 11:12 pm<br /><b>Posts:</b> 17085<br /><b>Location:</b> NE Indiana, USA (NTSC)
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">Memblers wrote:</div><div class="quotecontent">It does address individual bytes, for reading and writing. [...]  the buffer is shared between sending and receiving, so much like reading the PPU $2007 register, you have to read it once to fill the pipeline.</div><br />Will it have the same problem as $2007 where I have to disable DMC to read from it or risk byte deletion? (Case in point: <em>LAN Master</em> restore bug)<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Writing is pretty much the same process, except you clear the chip enable to begin the write process after you've sent the data.  It has a 256 byte programming buffer, so you can write 1~256 bytes in one go.</div><br />As far as I can tell based on Google <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">Winbond W25Q</tt>, erases on that series are in units of 4096 bytes. Is that right? 4K erases and 1-256 byte writes sound reasonable for a log-structured file system.<br /><br />So we have PCB, CPLD, CIC, PRG RAM, CHR RAM, flash, and assembly. How much are we looking at again? And will it be programmed through the USB to controller 2 cable, or some other way?</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=9&amp;sid=c911e2ffa7bf0251454f70b3a2676383"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p165486"></a>
				<b class="postauthor" style="color: #AA0000">Memblers</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p165486">Re: minimum CPU memory memory load</a></div><div style="float: right;"><a href="./viewtopic.php?p=165486&amp;sid=c911e2ffa7bf0251454f70b3a2676383#p165486"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Mar 01, 2016 12:26 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td class="postdetails">Site Admin</td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=10.jpg" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Sep 20, 2004 6:04 am<br /><b>Posts:</b> 3301<br /><b>Location:</b> Indianapolis
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">tepples wrote:</div><div class="quotecontent"><div class="quotetitle">Memblers wrote:</div><div class="quotecontent">It does address individual bytes, for reading and writing. [...]  the buffer is shared between sending and receiving, so much like reading the PPU $2007 register, you have to read it once to fill the pipeline.</div><br />Will it have the same problem as $2007 where I have to disable DMC to read from it or risk byte deletion? (Case in point: <em>LAN Master</em> restore bug)<br /></div><br /><br />Ooh, that's a good question.  It's probably safe to say it will have that same problem.  With this design I'm going to try using (M2 &amp;&amp; delayed M2) for read/write, hoping to avoid the bus conflict problems seen on the first rev PowerPak and my old EPROM emulator.  That will affect the timing, but I don't know if it will affect that bug or not.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">As far as I can tell based on Google <tt style="margin-left: 2px; margin-right: 2px; padding:3px; background-color: #3355aa; color: white;">Winbond W25Q</tt>, erases on that series are in units of 4096 bytes. Is that right? 4K erases and 1-256 byte writes sound reasonable for a log-structured file system.<br /><br />So we have PCB, CPLD, CIC, PRG RAM, CHR RAM, flash, and assembly. How much are we looking at again? And will it be programmed through the USB to controller 2 cable, or some other way?</div><br /><br />I think some of the W25Q's have multiple sector sizes, but 4kB sounds about right for the smallest sector.<br /><br />For cost estimate, I think this can be made for about $4 more than GTROM.  $14~$15 range is what I'd aim for in production.  The first builds of anything will always cost a little more, though.  With this being an experimental mapper, I'm going to assemble 100 by hand (toaster oven reflow), and hopefully soon find out if a revision and/or factory order is needed.<br /><br />It will be programmed over the controller port adapter.  The required bootloader would be written to it the same way GTROM carts are done, with a modified Game Genie.  I'm also experimenting with making an insanely fast stand-alone programmer for the carts, mostly for fun but it could become useful.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=10&amp;sid=c911e2ffa7bf0251454f70b3a2676383"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p165496"></a>
				<b class="postauthor" style="color: #AA0000">tepples</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p165496">Re: minimum CPU memory memory load</a></div><div style="float: right;"><a href="./viewtopic.php?p=165496&amp;sid=c911e2ffa7bf0251454f70b3a2676383#p165496"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Mar 01, 2016 7:07 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Sep 19, 2004 11:12 pm<br /><b>Posts:</b> 17085<br /><b>Location:</b> NE Indiana, USA (NTSC)
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">Memblers wrote:</div><div class="quotecontent"><div class="quotetitle">tepples wrote:</div><div class="quotecontent"><div class="quotetitle">Memblers wrote:</div><div class="quotecontent">It does address individual bytes, for reading and writing. [...] the buffer is shared between sending and receiving, so much like reading the PPU $2007 register, you have to read it once to fill the pipeline.</div><br />Will it have the same problem as $2007 where I have to disable DMC to read from it or risk byte deletion? (Case in point: <em>LAN Master</em> restore bug)<br /></div><br />Ooh, that's a good question.  It's probably safe to say it will have that same problem.</div><br />Which I guess shoots down the dream of using it to stream vocals, or to stream <em>anything</em> in a game that uses sampled drums or sampled sound effects. Would it take a lot of CPLD resources to ignore the double accesses that cause this artifact, in the same way that the MMC3 ignores nearby clocks on PA12? You're already counting to eight cycles to access the SPI a byte at a time; perhaps you could just ignore multiple reads or writes of the data port while that circuit is busy. Because once this is available, I plan to update the <a href="http://wiki.nesdev.com/w/index.php/Limitations#Music" class="postlink">rhythm game section of &quot;Limitations&quot; on the wiki</a> to reflect it. &quot;There's a tradeoff: you can have megabytes of flash memory, but available mappers won't let you access it if you're playing samples.&quot;</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=9&amp;sid=c911e2ffa7bf0251454f70b3a2676383"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p165548"></a>
				<b class="postauthor" style="color: #AA0000">Memblers</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p165548">Re: minimum CPU memory memory load</a></div><div style="float: right;"><a href="./viewtopic.php?p=165548&amp;sid=c911e2ffa7bf0251454f70b3a2676383#p165548"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Tue Mar 01, 2016 7:46 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td class="postdetails">Site Admin</td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=10.jpg" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Sep 20, 2004 6:04 am<br /><b>Posts:</b> 3301<br /><b>Location:</b> Indianapolis
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">You're way ahead of me on the problem and the solution.  It should be simple to check for that, so the SPI shifter won't be retriggered while it's busy, and that would prevent the read address from going out of alignment.  Assuming the 'real' memory read comes before the fake one.  If it only reads memory we're OK, but if the extra reads affect the accumulator, then I'd have to buffer the last received byte, and that would cost 8 macrocells.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=10&amp;sid=c911e2ffa7bf0251454f70b3a2676383"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p165960"></a>
				<b class="postauthor">infiniteneslives</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p165960">Re: minimum CPU memory memory load</a></div><div style="float: right;"><a href="./viewtopic.php?p=165960&amp;sid=c911e2ffa7bf0251454f70b3a2676383#p165960"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Mar 09, 2016 5:32 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=4832_1403414291.jpg" width="100" height="52" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Apr 04, 2011 11:49 am<br /><b>Posts:</b> 1676<br /><b>Location:</b> WhereverIparkIt, USA
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">Memblers wrote:</div><div class="quotecontent">Assuming the 'real' memory read comes before the fake one.</div><br /><br />Anyone have their head wrapped around the DMC read conflict enough to answer this?<br /><br />Having a hard time extracting the info from the subject on the <a href="http://wiki.nesdev.com/w/index.php/APU_DMC#Conflict_with_controller_and_PPU_read" class="postlink">wiki</a><br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Conflict with controller and PPU read<br /><br />On the NTSC NES and Famicom, if a new sample byte is fetched from memory at the same time the program is reading the controller through $4016/4017, a conflict occurs corrupting the data read from the controller. Programs which use DPCM sample playback will normally use a redundant controller read routine to work around this defect.<br /><br />A similar problem occurs when reading data from the PPU through $2007, or polling $2002 for vblank.<br />Likely internal implementation of the read<br /><br />The following is speculation, and thus not necessarily 100% accurate. It does accurately predict observed behavior.<br /><br />The 6502 cannot be pulled off of the bus normally. The 2A03 DMC gets around this by pulling RDY low internally. This causes the CPU to pause during the next read cycle, until RDY goes high again. The DMC unit holds RDY low for 4 cycles. The first three cycles it idles, as the CPU could have just started an interrupt cycle, and thus be writing for 3 consecutive cycles (and thus ignoring RDY). On the fourth cycle, the DMC unit drives the next sample address onto the address lines, and reads that byte from memory. It then drives RDY high again, and the CPU picks up where it left off.<br /><br />This matters because on NTSC NES and Famicom, it can interfere with the expected operation of any register where reads have a side effect: the controller registers ($4016 and $4017), reads of the PPU status register ($2002), and reads of VRAM/VROM data ($2007) if they happen to occur in the same cycle that the DMC unit pulls RDY low.<br /><br />For the controller registers, this can cause an extra rising clock edge to occur, and thus shift an extra bit out. For the others, the PPU will see multiple reads, which will cause extra increments of the address latches, or clear the vblank flag.<br /><br />This problem has been fixed on the 2A07 and PAL NES is exempt of this bug. </div><br /><br />So I'm pretty sure I understand all this, but the thing that still seems ambiguous is which of the two reads is actually received by the CPU.  My understanding is that the DMC is waiting for the CPU to make a read so it can hijack the address bus from the CPU.  My guess is the CPU actually starts the read operation from the CPU's intended address which gets registeds by the controllers, PPU, SPI, etc as the first read.  However the CPU doesn't actually get the chance to complete the read as the DMC takes over on that cycle.  The DMC high jacks the address bus, completes it's single byte read from somewhere in $C000-CFFF.  Then takes RDY high allowing the CPU to &quot;pick up where it left off&quot;.  Meaning that the CPU finally gets the chance to complete the read operation it was trying to make when it was so rudely interrupted by the DMC.  In effect the CPU initiates another read operation which is sensed by the ctlrs, PPU, SPI as a second read causing us problems..  If all of this understanding is accurate, I'm left to assume that the first sensed read is not actually caught by the CPU.  And it's the second sensed read that actually gets retained by the CPU.  But I don't like assumptions, so curious what you all's understanding is...<br /><br />My initial idea of implementing a byte wide SPI interface was setup where you actually instructed the mapper to fetch the next byte from SPI flash.  That implementation wouldn't actually be affected by the DMC duplicate read since reads aren't actually instructing the mapper to do anything.  But it sure would be nice and fast to have a read from the SPI buffer trigger the next byte to be fetched.  Especially if you wanted to do something like map the SPI register to $C000 and allow direct streaming from SPI flash to the DMC, thus reducing the necessity of PRG-RAM if graphics and audio were your primary motives for serial rom.  This idea could be a potentially cheap fix with a mode bit in the SPI control register used to designate whether the mapper auto fetches after each read (for speed but subject to byte loss if DMC is in use), or to require a mapper write instruction for each fetch (slowing things down but removing DMC conflict byte loss).<br /><br />Let's assume I'm correct and the first sensed read is false, and it's the second hardware sensed read that sticks to the CPU.  Based on a SPI register setup that a read instructs the mapper to fetch the next byte, we can't simply filter out the second read which occurs 1-4 cycles after the first one.  Because this implementation would also have the goal of speed where bytes can be fetched in 8-10 CPU/M2 cycles. (LDA/STA loops, or perhaps LDA/STA/NOP).  With this the mapper must start fetching immediately and can't wait around for 4 cycles before it replaces the current byte with the next one.  <br /><br />In this situation you'd have to solve it as membler's proposed by effectively retaining the last read byte.  If I'm correct, the actual read will occur 1-4 CPU cycles after the first sensed DMC hijack read cycle, then you could get by with a 12bit shift register.  If it's been longer than 4 cycles since the last read the mapper would provide the most recently fetched 8 bits (ie bits 7-0 of the shift register.  That initial read would instruct the mapper to fetch the next byte from SPI.  And if another read were performed within 4 CPU cycles the mapper would provide the same data that it did 1-4 cycles ago which has now shifted higher up the shift register (ie bits 11-4 if it's been 4 cycles).  The exact location would depend on how many cycles ago the inital read occured.<br /><br />Something like that might be the most reasonable implementation especially if there is logic to spare in the mapper.  Although the simple/cheap way out by having a mode bit in the mapper which allows the user to decide between auto fetch (subject to DMC byte loss), or safe and slow instructed fetching (immune to DMC byte loss) has it's merits especially in implementations where mapper logic resources may be limited.</div>

					
						<div class="postbody"><br />_________________<br />If you're gonna play the Game Boy, you gotta learn to play it right.  -Kenny Rogers</div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=4832&amp;sid=c911e2ffa7bf0251454f70b3a2676383"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p165961"></a>
				<b class="postauthor" style="color: #AA0000">tepples</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p165961">Re: minimum CPU memory memory load</a></div><div style="float: right;"><a href="./viewtopic.php?p=165961&amp;sid=c911e2ffa7bf0251454f70b3a2676383#p165961"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Wed Mar 09, 2016 7:19 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Sep 19, 2004 11:12 pm<br /><b>Posts:</b> 17085<br /><b>Location:</b> NE Indiana, USA (NTSC)
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">There's one good way to test this: a test ROM that reads back from $2007.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=9&amp;sid=c911e2ffa7bf0251454f70b3a2676383"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p165968"></a>
				<b class="postauthor">NovaSquirrel</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p165968">Re: minimum CPU memory memory load</a></div><div style="float: right;"><a href="./viewtopic.php?p=165968&amp;sid=c911e2ffa7bf0251454f70b3a2676383#p165968"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Mar 10, 2016 12:17 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=3838_1455060133.png" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Feb 27, 2009 2:35 pm<br /><b>Posts:</b> 140<br /><b>Location:</b> Fort Wayne, Indiana
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">tpw_rules in #nesdev wrote:</div><div class="quotecontent">i put the clock on an interrupt pin and had the ISR be long enough so that clearing the interrupt pending flag at the end would clear any spurious interrupt from dpcm. fortunately AVR hardware supports clocking the SPI engine manually so i just did that</div><br />I think this implies that the first read is the one the CPU gets and you can get away with just having a delay before accepting another read.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3838&amp;sid=c911e2ffa7bf0251454f70b3a2676383"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p165986"></a>
				<b class="postauthor">infiniteneslives</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p165986">Re: minimum CPU memory memory load</a></div><div style="float: right;"><a href="./viewtopic.php?p=165986&amp;sid=c911e2ffa7bf0251454f70b3a2676383#p165986"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Mar 10, 2016 9:59 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=4832_1403414291.jpg" width="100" height="52" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Apr 04, 2011 11:49 am<br /><b>Posts:</b> 1676<br /><b>Location:</b> WhereverIparkIt, USA
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I can't make sense of any of what tpw did, not near enough info..  Doing something with an avr???</div>

					
						<div class="postbody"><br />_________________<br />If you're gonna play the Game Boy, you gotta learn to play it right.  -Kenny Rogers</div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=4832&amp;sid=c911e2ffa7bf0251454f70b3a2676383"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p165989"></a>
				<b class="postauthor" style="color: #AA0000">tepples</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p165989">Re: minimum CPU memory memory load</a></div><div style="float: right;"><a href="./viewtopic.php?p=165989&amp;sid=c911e2ffa7bf0251454f70b3a2676383#p165989"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Mar 10, 2016 10:17 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Sep 19, 2004 11:12 pm<br /><b>Posts:</b> 17085<br /><b>Location:</b> NE Indiana, USA (NTSC)
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">At one time, tpw_rules was working on a microcontroller to translate between PS/2 keyboard and mouse protocol and NES controller protocol.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=9&amp;sid=c911e2ffa7bf0251454f70b3a2676383"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p165990"></a>
				<b class="postauthor">infiniteneslives</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p165990">Re: minimum CPU memory memory load</a></div><div style="float: right;"><a href="./viewtopic.php?p=165990&amp;sid=c911e2ffa7bf0251454f70b3a2676383#p165990"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Thu Mar 10, 2016 10:47 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=4832_1403414291.jpg" width="100" height="52" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Apr 04, 2011 11:49 am<br /><b>Posts:</b> 1676<br /><b>Location:</b> WhereverIparkIt, USA
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Okay makes sense now.  Yeah so perhaps there is hope that my line of thinking is wrong after all and it's as simple as filtering out the second read.  Prob best to test with Tepples' idea of a test rom with $2007 when I get around to it, can't really be sure if tpw had fully tested things or if he happened to be assuming the first read was the real one and never fully tested it...</div>

					
						<div class="postbody"><br />_________________<br />If you're gonna play the Game Boy, you gotta learn to play it right.  -Kenny Rogers</div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=4832&amp;sid=c911e2ffa7bf0251454f70b3a2676383"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table width="100%" cellspacing="1" class="tablebg">
	<tr align="center">
		<td class="cat"><form name="viewtopic" method="post" action="./viewtopic.php?f=9&amp;t=13799&amp;start=15&amp;sid=c911e2ffa7bf0251454f70b3a2676383"><span class="gensmall">Display posts from previous:</span> <select name="st" id="st"><option value="0" selected="selected">All posts</option><option value="1">1 day</option><option value="7">7 days</option><option value="14">2 weeks</option><option value="30">1 month</option><option value="90">3 months</option><option value="180">6 months</option><option value="365">1 year</option></select>&nbsp;<span class="gensmall">Sort by</span> <select name="sk" id="sk"><option value="a">Author</option><option value="t" selected="selected">Post time</option><option value="s">Subject</option></select> <select name="sd" id="sd"><option value="a" selected="selected">Ascending</option><option value="d">Descending</option></select>&nbsp;<input class="btnlite" type="submit" value="Go" name="sort" /></form></td>
	</tr>
	</table>
	

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=9&amp;sid=c911e2ffa7bf0251454f70b3a2676383"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=9&amp;t=13799&amp;sid=c911e2ffa7bf0251454f70b3a2676383"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>2</strong> of <strong>2</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 29 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"><b><a href="#" onclick="jumpto(); return false;" title="Click to jump to pageâ€¦">Go to page</a> <a href="./viewtopic.php?f=9&amp;t=13799&amp;sid=c911e2ffa7bf0251454f70b3a2676383&amp;start=0">Previous</a>&nbsp;&nbsp;<a href="./viewtopic.php?f=9&amp;t=13799&amp;sid=c911e2ffa7bf0251454f70b3a2676383">1</a><span class="page-sep">, </span><strong>2</strong></b></td>
		
	</tr>
	</table>

</div>

<div id="pagefooter"></div>

<br clear="all" />
<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php?sid=c911e2ffa7bf0251454f70b3a2676383">Board index</a> &#187; <a href="./viewforum.php?f=24&amp;sid=c911e2ffa7bf0251454f70b3a2676383">NES / Famicom</a> &#187; <a href="./viewforum.php?f=9&amp;sid=c911e2ffa7bf0251454f70b3a2676383">NES Hardware and Flash Equipment</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>
	<br clear="all" />

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat"><h4>Who is online</h4></td>
	</tr>
	<tr>
		<td class="row1"><p class="gensmall">Users browsing this forum: <span style="color: #9E8DA7;" class="username-coloured">Bing [Bot]</span> and 8 guests</p></td>
	</tr>
	</table>


<br clear="all" />

<table width="100%" cellspacing="1">
<tr>
	<td width="40%" valign="top" nowrap="nowrap" align="left"></td>
	<td align="right" valign="top" nowrap="nowrap"><span class="gensmall">You <strong>cannot</strong> post new topics in this forum<br />You <strong>cannot</strong> reply to topics in this forum<br />You <strong>cannot</strong> edit your posts in this forum<br />You <strong>cannot</strong> delete your posts in this forum<br />You <strong>cannot</strong> post attachments in this forum<br /></span></td>
</tr>
</table>

<br clear="all" />

<table width="100%" cellspacing="0">
<tr>
	<td><form method="get" name="search" action="./search.php?sid=c911e2ffa7bf0251454f70b3a2676383"><span class="gensmall">Search for:</span> <input class="post" type="text" name="keywords" size="20" /> <input class="btnlite" type="submit" value="Go" /><input type="hidden" name="t" value="13799" />
<input type="hidden" name="sf" value="msgonly" />
<input type="hidden" name="sid" value="c911e2ffa7bf0251454f70b3a2676383" />
</form></td>
	<td align="right">
	<form method="post" name="jumpbox" action="./viewforum.php?sid=c911e2ffa7bf0251454f70b3a2676383" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	<table cellspacing="0" cellpadding="0" border="0">
	<tr>
		<td nowrap="nowrap"><span class="gensmall">Jump to:</span>&nbsp;<select name="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">

		
			<option value="-1">Select a forum</option>
		<option value="-1">------------------</option>
			<option value="24">NES / Famicom</option>
		
			<option value="2">&nbsp; &nbsp;NESdev</option>
		
			<option value="3">&nbsp; &nbsp;NESemdev</option>
		
			<option value="21">&nbsp; &nbsp;NES Graphics</option>
		
			<option value="6">&nbsp; &nbsp;NES Music</option>
		
			<option value="22">&nbsp; &nbsp;Homebrew Projects</option>
		
			<option value="32">&nbsp; &nbsp;&nbsp; &nbsp;2016 NESdev Competition</option>
		
			<option value="31">&nbsp; &nbsp;&nbsp; &nbsp;2014 NESdev Competition</option>
		
			<option value="30">&nbsp; &nbsp;&nbsp; &nbsp;2011 NESdev Competition</option>
		
			<option value="10">&nbsp; &nbsp;Newbie Help Center</option>
		
			<option value="9" selected="selected">&nbsp; &nbsp;NES Hardware and Flash Equipment</option>
		
			<option value="28">&nbsp; &nbsp;&nbsp; &nbsp;Reproduction</option>
		
			<option value="19">&nbsp; &nbsp;NESdev International</option>
		
			<option value="11">&nbsp; &nbsp;&nbsp; &nbsp;FCdev</option>
		
			<option value="18">&nbsp; &nbsp;&nbsp; &nbsp;NESdev China</option>
		
			<option value="27">&nbsp; &nbsp;&nbsp; &nbsp;NESdev Middle East</option>
		
			<option value="25">Other</option>
		
			<option value="5">&nbsp; &nbsp;General Stuff</option>
		
			<option value="4">&nbsp; &nbsp;Membler Industries</option>
		
			<option value="23">&nbsp; &nbsp;Other Retro Dev</option>
		
			<option value="12">&nbsp; &nbsp;&nbsp; &nbsp;SNESdev</option>
		
			<option value="20">&nbsp; &nbsp;&nbsp; &nbsp;GBDev</option>
		
			<option value="15">&nbsp; &nbsp;Test Forum</option>
		
			<option value="26">Site Issues</option>
		
			<option value="13">&nbsp; &nbsp;phpBB Issues</option>
		
			<option value="14">&nbsp; &nbsp;Web Issues</option>
		
			<option value="16">&nbsp; &nbsp;nesdevWiki</option>
		

		</select>&nbsp;<input class="btnlite" type="submit" value="Go" /></td>
	</tr>
	</table>

	</form>
</td>
</tr>
</table>


</div>


<div id="wrapfooter">
	
	<span class="copyright">Powered by <a href="http://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Group
	</span>
</div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-61452025-2', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>