<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Mega Man 4 and MMC3</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Mega Man 4 and MMC3</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=2&amp;t=6505">http://forums.nesdev.com/viewtopic.php?f=2&amp;t=6505</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>2</strong> of <strong>5</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Disch</b> [ Fri Jun 18, 2010 4:40 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">anwerman wrote:</div><div class="quotecontent">Egad.  These people were geniouses who did this</div>
<br />
<br />It's not really all that impressive, IMO. &gt;_&gt;
<br />
<br />As far as raster tricks go, it's about as simple as they get.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Fri Jun 18, 2010 8:30 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Since I'm pretty stubborn I went and checked that section of Mega Man 4. The effect is pretty poor if you ask me. In the YouTube video, when MegaMan leaves that area the crushers suffer a slight snapping when they stop moving, because at the time that happened they were close to their original position, but by playing you can see that no matter their position when you leave that area (I saved a state before leaving and and left several times with the crushers in different positions), they simply "pop" back to their original position at the top. It's a very unpleasant effect IMO, indicating that the coding behind it isn't polished at all. Personally, I'd be ashamed to release something that looks like that, but Capcom did anyway.
<br />
<br />Also, by looking at the name tables I could see that although the game usually uses one of them for gameplay and the other one for the menu, it uses the one with the menu to draw the top of the crushers, so that they can scroll in from the top of the screen.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>anwerman</b> [ Fri Jun 18, 2010 10:07 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I actually like that effect hahahaha.
<br />
<br />I'm also a bad programmer.  Lol.
<br />So I'm still stumped on how they enabled collisions though.  Does anyone know how they did it in the SMB3 Big Bass levels, since that would be a similar effect?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>MottZilla</b> [ Fri Jun 18, 2010 10:59 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Dwedit wrote:</div><div class="quotecontent">In Megaman 1, your Y veolcity keeps increasing as you stand on a moving platform, and you are just repositioned onto the platform each frame.  Just watch how in gutsman's stage, you instantly fall down at a very high speed when you fall off the platforms.  Compare how fast you fall if you've recently jumped or not.</div>
<br />
<br />Mega Man 1 always bothered me when I noticed that super fast fall off the platforms. I never thought about why this behavior existed but that makes perfect sense. I think Castlevania 1 and perhaps others have you dropping like a rock if you walk off the edge of a platform. It looks pretty bad when you step off the edge and instantly reach terminal velocity...

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Sat Jun 19, 2010 4:32 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">anwerman wrote:</div><div class="quotecontent">So I'm still stumped on how they enabled collisions though.  Does anyone know how they did it in the SMB3 Big Bass levels, since that would be a similar effect?</div>
<br /><a href="http://en.wikipedia.org/wiki/Tide" class="postlink">Tides</a>.
<br />
<br />SMB3 has levels up to 27 metatiles tall (except in the case of "tall" levels), and levels can be set to autoscroll. The Boss Bass levels enable autoscroll only on the Y coordinate. So the level is just moving up and down, and the height of the water line (a value that I'll call tide_height) changes depending on the autoscroll state. The only thing that changes is the code testing collision with water, which uses tide_height.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Memblers</b> [ Sat Jun 19, 2010 10:31 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">psycopathicteen wrote:</div><div class="quotecontent">If the Snes had more than 2 hardware background layers, why was 2nd layer collision used way more on the Nes?</div>
<br />
<br />Care to rephrase that?  I'm not sure what you mean by 2nd-layer collision.  I think most collision setups would be virtually identical between NES and SNES.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Sat Jun 19, 2010 12:15 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Maybe he meant that even though the NES doesn't have a second layer in hardware it had more games that interacted with a simulated second layer than the SNES had with actual second layers.
<br />
<br />I don't know if this is true though. I get the impression that most of the time, fake scrolling planes on the NES are pure eyecandy and have nothing to do with gameplay.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dwedit</b> [ Sat Jun 19, 2010 1:22 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Little Nemo, and Tiny Toon Adventures 2 both use full collision dectection on a split scrolling level.
<br />
<br />Also, don't underestimate the number of SNES or GBA games which use raster effects to split a background layer into multiple parts.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Sat Jun 19, 2010 2:21 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Dwedit wrote:</div><div class="quotecontent">Little Nemo, and Tiny Toon Adventures 2 both use full collision dectection on a split scrolling level.</div><br /><a href="http://www.youtube.com/watch?v=Pu8YL-VAVP8#t=0m12s" class="postlink">Bucky O'Hare</a> can be pretty extreme at simulating multiple background layers too. There are no raster effects in this particular area, just clever name table layout/updates and sprite spikes. There are many other multi-layer areas throughout the game, both with interactive second layers and without. Everyone should check it out.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Also, don't underestimate the number of SNES or GBA games which use raster effects to split a background layer into multiple parts.</div>
<br />Don't forget the Genesis/MD.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Wave</b> [ Sun Jun 20, 2010 1:40 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tokumaru wrote:</div><div class="quotecontent"><div class="quotetitle">Dwedit wrote:</div><div class="quotecontent">Little Nemo, and Tiny Toon Adventures 2 both use full collision dectection on a split scrolling level.</div><br /><a href="http://www.youtube.com/watch?v=Pu8YL-VAVP8#t=0m12s" class="postlink">Bucky O'Hare</a> can be pretty extreme at simulating multiple background layers too. There are no raster effects in this particular area, just clever name table layout/updates and sprite spikes. There are many other multi-layer areas throughout the game, both with interactive second layers and without. Everyone should check it out.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Also, don't underestimate the number of SNES or GBA games which use raster effects to split a background layer into multiple parts.</div><br />Don't forget the Genesis/MD.</div>
<br />I think Bucky O'Hare is the game that pushes nes graphic tricks to the limit.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Sun Jun 20, 2010 2:19 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Wave wrote:</div><div class="quotecontent">I think Bucky O'Hare is the game that pushes nes graphic tricks to the limit.</div>
<br />I think it's pretty amazing. Sometimes I miss simultaneous vertical and horizontal scrolling though (so that levels would feel less constrained). I don't think the game has any areas like this.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>psycopathicteen</b> [ Sun Jun 20, 2010 5:31 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />That looks like an interesting trick in Buck O'Hare.  Is the background layer on the right the real background, while the layer on the left the fake?  I think they used spiked sprites to cover up scrolling glitches.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Sun Jun 20, 2010 6:09 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">psycopathicteen wrote:</div><div class="quotecontent">Is the background layer on the right the real background, while the layer on the left the fake?</div><br />I don't know what exactly you mean by "real" and "fake", but the one on the right is pretty detailed, while one on the left simply uses patterns that repeat horizontally. This makes it easy to move that layer, which is done by rewriting just the rightmost tile of each row (with metal tiles to make it move right and background tiles to make it move left). The fact that the background repeats itself horizontally helps too.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I think they used spiked sprites to cover up scrolling glitches.</div>
<br />Yes. The background "scrolls" 8 pixels at a time, leaving attribute glitches every other step. The sprites are used to cover these color glitches.
<br />
<br />Also, since steps of 8 pixels aren't very smooth, they made it look like the "layers" are moving 4 pixels each, in opposite directions. This looks smoother than if one of the "layers" was static, even though technically they're still moving a total of 8 pixels away from each other. Since the background repeats horizontally every 8 pixels, they use CHR bankswitching to offset it by 4 pixels every other step to make it look still.
<br />
<br />It's a pretty interesting effect that doesn't even require special mapper features, which means you could do that even with no mapper at all. Even though it uses bankswitching for the background, you could achieve the same effect with CHR-RAM (the whole background uses only 4 tiles I think) or make the background pattern repeat every 4 pixels and not bankswitch at all.
<br />
<br />This effect would probably work vertically as well, you'd just have to be careful about the sprites that hide attribute glitches, not aligning more than 8 of them.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Mon Jun 21, 2010 9:58 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Yeah I guess Bucky o Hare use amazing tricks like that. However, I don't like the game-play of this game very much, it feels rushed to me.
<br />
<br />That being said, it looks amazing to us because we know what the NES is capable and that the game does a lot of thing the NES "should" not be able to do, but to some random retro gamer I don't think it would be amazed as we are.
<br />
<br />I like the "background repeat each n pixels" trick. I plan to use that in my game to have a huge boss moving on a non-black background :p
<br />A black background is a particular case of a background that repeats each  pixel in both directions by the way.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tokumaru</b> [ Mon Jun 21, 2010 3:16 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Bregalad wrote:</div><div class="quotecontent">That being said, it looks amazing to us because we know what the NES is capable and that the game does a lot of thing the NES "should" not be able to do, but to some random retro gamer I don't think it would be amazed as we are.</div><br />True. In fact, even the guy that's reviewing/playing it in the video I linked to says that <a href="http://www.youtube.com/watch?v=dcEjy6Hzu8M#t=4m40s" class="postlink">"the graphics aren't groundbreaking, but they are more than adequate"</a>. I'm definitely more impressed by the graphics than he is, probably because I'm terribly familiar with the limitations of the system.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I like the "background repeat each n pixels" trick. I plan to use that in my game to have a huge boss moving on a non-black background :p</div><br />You'll have to watch out for attribute glitches in the areas where the boss meets the background... You can of course add some details and hide glitches with sprites, like Bucky O'Hare does. Or make very chunky, square bosses... =)<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">A black background is a particular case of a background that repeats each  pixel in both directions by the way.</div>
<br />That's true.
<br />
<br />I think I find these simple tricks more clever and interesting than common raster effects that require mappers. I mean, a trick like this doesn't do anything weird like messing with the display as it renders, it's just well though background layout and VRAM updating, it's awesome.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>2</strong> of <strong>5</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>