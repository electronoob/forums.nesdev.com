<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - ca65 examples</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">ca65 examples</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=2&amp;t=3816">http://forums.nesdev.com/viewtopic.php?f=2&amp;t=3816</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>4</strong> of <strong>5</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Mon Apr 07, 2008 5:22 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Laserbeak43 wrote:</div><div class="quotecontent">but could there be an addition to this tutorial to add CC65 to the environment variables? </div>
<br />I had a section about putting cc65's bin folder into PATH, but I removed it once I checked 'set' and found that install.vbs of step 5 had done that for me.
<br />
<br />Dafydd: That zipfile contains the C library, configured for the NES, along with some (hard-to-load) joystick code. There is also a linker script for NROM-256 with a 12-byte vector segment, as opposed to the 6-byte segment one would expect. And the naming conventions don't exactly align with the conventions used on the rest of the wiki. As far as I can tell, it's intended for quick throwaway recompiles of C code on the NES, not for serious NES development in pure assembly language.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Laserbeak43</b> [ Mon Apr 07, 2008 7:22 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent"> As far as I can tell, it's intended for quick throwaway recompiles of C code on the NES, not for serious NES development in pure assembly language.</div>
<br />
<br />so how much could you expect to get done with CC65?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>blargg</b> [ Mon Apr 07, 2008 9:32 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">so how much could you expect to get done with CC65?</div>
<br />There's nothing stopping us from making a better C runtime for NES development. But what does it matter, since we're aiming for asm development (and CC65's code efficiency isn't very good either)?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Laserbeak43</b> [ Mon Apr 07, 2008 10:19 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">blargg wrote:</div><div class="quotecontent"><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">so how much could you expect to get done with CC65?</div><br />There's nothing stopping us from making a better C runtime for NES development. But what does it matter, since we're aiming for asm development (and CC65's code efficiency isn't very good either)?</div>
<br />
<br />ok. can see your point. sorry to turn things around, but weren't these originaly Ca65 tutorials?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>blargg</b> [ Mon Apr 07, 2008 11:57 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">weren't these originaly Ca65 tutorials?</div>
<br />I think that's the point, to tutor someone on 6502 assembly and NES assembly programming. I think the only reason CC65 is involved is that the assembler, CA65, isn't distributed separately. Speaking of distribution, <strong>tepples</strong>, can you rebuild the Windows executable with <a href="http://forum.6502.org/viewtopic.php?p=7116#7116" class="postlink">my patch to ca65</a>, which gives warnings when # is probably missing?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dafydd</b> [ Tue Apr 08, 2008 6:31 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Can't wait to see the results when you're done with the first (ok, maybe the second, then) tutorial.
<br />
<br />Anyway, I had an idea for a tutorial (not too early) - a simple counter, like a score meter. Pressing a button (say A) gives 1 point, pressing another button (say B) gives 5 points. Making the value of a variable show up on the screen as a number is, I would guess, more difficult to do than to display a predefined text, so it might be something to teach after getting the hang of displaying text (like in example 2 in this thread), scrolling and so on, but before things like interactions between backgrounds and sprites.
<br />
<br />Also, about this shell you mentioned - who's making it and using what? It should be pretty easy to write a console 6502 emulator in pretty much any high-level programming language... I'm thinking something like the Python IDLE or MATLAB, but in a DOS window.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>flaky</b> [ Tue Apr 08, 2008 9:51 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />very good idea
<br />
<br />i'm looking for it 
<br />
<br />thank u

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>strat</b> [ Tue Apr 08, 2008 12:21 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Dafydd wrote:</div><div class="quotecontent">Also, about this shell you mentioned - who's making it and using what? It should be pretty easy to write a console 6502 emulator in pretty much any high-level programming language... I'm thinking something like the Python IDLE or MATLAB, but in a DOS window.</div>
<br />
<br />I learned 6502 on this thing.
<br /><!-- m --><a class="postlink" href="http://home.pacbell.net/michal_k/6502.html">http://home.pacbell.net/michal_k/6502.html</a><!-- m -->
<br />
<br />If I had to learn it again, the first thing I'd want to understand up front is memory-mapped I/O (although maybe it's not a problem for total beginners who aren't used to high-level abstractions) and how the whole thing loops around the vblank/sprite 0.  I also like the idea of introducing just enough technical material to get something done, and not shove every addressing mode and memory location down one's throat (nesasm on nespowerpak.com does this pretty well).  That way readers can use it as a springboard to understanding stuff like Patrick Diskin's NES doc.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dafydd</b> [ Tue Apr 08, 2008 12:51 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">strat wrote:</div><div class="quotecontent">I learned 6502 on this thing.<br /><!-- m --><a class="postlink" href="http://home.pacbell.net/michal_k/6502.html">http://home.pacbell.net/michal_k/6502.html</a><!-- m --></div><br /><br />Looks like it's capable of doing a lot more than the NES can - as far as I know you can't write stuff like "lda = timer+3" in NES assembler. I could be wrong.<br /><br /><div class="quotetitle">strat wrote:</div><div class="quotecontent">If I had to learn it again, the first thing I'd want to understand up front is memory-mapped I/O (although maybe it's not a problem for total beginners who aren't used to high-level abstractions)</div><br /><br />I learned Java and then C#, so reading about how the 6502 handles memory was both illuminating and confusing, though interesting more than anything else.<br /><br /><div class="quotetitle">strat wrote:</div><div class="quotecontent">I also like the idea of introducing just enough technical material to get something done, and not shove every addressing mode and memory location down one's throat</div>
<br />
<br />Amen. That's the problem I've had with pretty much every tutorial I've read. Either that or it tells you to do stuff without explaining why.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>strat</b> [ Tue Apr 08, 2008 1:00 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />It's pretty likely that 'timer' in lda Timer+3,x is a macro, meaning it would be declared like
<br />
<br />timer = $06
<br />
<br />and that instruction would actually assemble to lda $09,x.
<br />
<br />Actually, when I started using that thing, I got macros and variables mixed up and went crazy using INC on some macro.  Ah, noobs.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dafydd</b> [ Tue Apr 08, 2008 1:08 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Well, ok. I'm not really interested in using macros if I'm learning this, even though assigning names to certain numbers, variables and adresses would help reduce confusion (like in blargg's examples).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>strat</b> [ Tue Apr 08, 2008 1:23 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Yeah, macros are kind of confusing at first, but when you write lengthy programs you'll love them real quick.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dafydd</b> [ Tue Apr 08, 2008 1:35 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I'm sure you will. I just want to learn how to do this the hard way before I start taking shortcuts. I still make webpages using notepad for the same reason.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dafydd</b> [ Sun Apr 13, 2008 3:43 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />So... any breakthroughs yet?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Dafydd</b> [ Wed Apr 30, 2008 4:26 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Bumping just to show you I'm interested.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>4</strong> of <strong>5</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>