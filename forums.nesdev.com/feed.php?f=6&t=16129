<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="http://forums.nesdev.com/feed.php?f=6&amp;t=16129" />

<title>nesdev.com</title>
<subtitle>NES Development and Strangulation Records message boards</subtitle>
<link href="http://forums.nesdev.com/index.php" />
<updated>2017-09-10T15:42:56-07:00</updated>

<author><name><![CDATA[nesdev.com]]></name></author>
<id>http://forums.nesdev.com/feed.php?f=6&amp;t=16129</id>
<entry>
<author><name><![CDATA[B00daW]]></name></author>
<updated>2017-09-10T15:42:56-07:00</updated>
<published>2017-09-10T15:42:56-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=16129&amp;p=204332#p204332</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=16129&amp;p=204332#p204332"/>
<title type="html"><![CDATA[Re: Recording request: NEC µPD7756C and the Mitsubishi M5080]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=16129&amp;p=204332#p204332"><![CDATA[
Is there any program made that can analyze a decap picture through filters and bitmap (with proper image setup and formatting) to create a dump?<br /><br />I'm not sure what I'm looking at regarding which is a 0 and which is a 1 regarding the decoding ROM decap...<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3466">B00daW</a> — Sun Sep 10, 2017 3:42 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Lord Nightmare]]></name></author>
<updated>2017-07-11T13:38:40-07:00</updated>
<published>2017-07-11T13:38:40-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=16129&amp;p=200001#p200001</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=16129&amp;p=200001#p200001"/>
<title type="html"><![CDATA[Re: Recording request: NEC µPD7756C and the Mitsubishi M5080]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=16129&amp;p=200001#p200001"><![CDATA[
The 960 byte rom may require etch/staining, which is outside my realm of expertise <img src="http://forums.nesdev.com/images/smilies/icon_sad.gif" alt=":(" title="Sad" /><br />However it is likely we have the entire contents of it anyway from the data line traces?<br /><br />LN<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=399">Lord Nightmare</a> — Tue Jul 11, 2017 1:38 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[B00daW]]></name></author>
<updated>2017-07-09T17:52:46-07:00</updated>
<published>2017-07-09T17:52:46-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=16129&amp;p=199897#p199897</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=16129&amp;p=199897#p199897"/>
<title type="html"><![CDATA[Re: Recording request: NEC µPD7756C and the Mitsubishi M5080]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=16129&amp;p=199897#p199897"><![CDATA[
So looks like we could read the decoder ROM to assemble a binary from it...  What do you think the next logical steps for the parameter ROM should be?  Lord Nightmare?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3466">B00daW</a> — Sun Jul 09, 2017 5:52 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[seanriddle]]></name></author>
<updated>2017-07-08T01:58:34-07:00</updated>
<published>2017-07-08T01:58:34-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=16129&amp;p=199762#p199762</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=16129&amp;p=199762#p199762"/>
<title type="html"><![CDATA[Re: Recording request: NEC µPD7756C and the Mitsubishi M5080]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=16129&amp;p=199762#p199762"><![CDATA[
And here's the decoding ROM with the top metal removed: <!-- m --><a class="postlink" href="http://www.seanriddle.com/m50805aciddecodingrom.jpg">http://www.seanriddle.com/m50805aciddecodingrom.jpg</a><!-- m --><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=8559">seanriddle</a> — Sat Jul 08, 2017 1:58 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[seanriddle]]></name></author>
<updated>2017-07-07T15:58:35-07:00</updated>
<published>2017-07-07T15:58:35-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=16129&amp;p=199747#p199747</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=16129&amp;p=199747#p199747"/>
<title type="html"><![CDATA[Re: Recording request: NEC µPD7756C and the Mitsubishi M5080]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=16129&amp;p=199747#p199747"><![CDATA[
Here's the decoding ROM at 3Kx4K pixels: <!-- m --><a class="postlink" href="http://www.seanriddle.com/m50805metaldecodingrom.jpg">http://www.seanriddle.com/m50805metaldecodingrom.jpg</a><!-- m --><br /><br />And I uploaded a 32Kx32K pixel full die shot to WikiMedia: <!-- m --><a class="postlink" href="https://commons.wikimedia.org/wiki/File:M50805metal20x.jpg">https://commons.wikimedia.org/wiki/File ... tal20x.jpg</a><!-- m --><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=8559">seanriddle</a> — Fri Jul 07, 2017 3:58 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Lord Nightmare]]></name></author>
<updated>2017-07-07T14:55:57-07:00</updated>
<published>2017-07-07T14:55:57-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=16129&amp;p=199740#p199740</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=16129&amp;p=199740#p199740"/>
<title type="html"><![CDATA[Re: Recording request: NEC µPD7756C and the Mitsubishi M5080]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=16129&amp;p=199740#p199740"><![CDATA[
sean, can you take a hi-res image of the smaller, visible rom area? I should be able to get the lpc tables extracted, but I need more zoom.<br /><br />LN<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=399">Lord Nightmare</a> — Fri Jul 07, 2017 2:55 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[seanriddle]]></name></author>
<updated>2017-07-06T15:40:20-07:00</updated>
<published>2017-07-06T15:40:20-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=16129&amp;p=199681#p199681</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=16129&amp;p=199681#p199681"/>
<title type="html"><![CDATA[Re: Recording request: NEC µPD7756C and the Mitsubishi M5080]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=16129&amp;p=199681#p199681"><![CDATA[
Yep.  The decoding ROM bits are easy to discern, although I haven't tried figuring out the layout.  I can't see any bits in the parameter ROM.<br /><br />The top left pad is pin 4, numbered counter-clockwise.  It's easy to spot the power inputs and the huge drivers on DA0 and DA1.  The 2 pads in the lower right aren't connected to anything.  There's an extra pad, so I assume the 22-pin and 24-pin versions use the same die, but clock output isn't pinned out in the 22-pin version.<br /><br />I put more info here: <!-- w --><a class="postlink" href="http://www.seanriddle.com/m50805.html">www.seanriddle.com/m50805.html</a><!-- w --><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=8559">seanriddle</a> — Thu Jul 06, 2017 3:40 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[B00daW]]></name></author>
<updated>2017-07-06T13:40:40-07:00</updated>
<published>2017-07-06T13:40:40-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=16129&amp;p=199673#p199673</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=16129&amp;p=199673#p199673"/>
<title type="html"><![CDATA[Re: Recording request: NEC µPD7756C and the Mitsubishi M5080]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=16129&amp;p=199673#p199673"><![CDATA[
So the decoder ROM is in the middle left and the parameter ROM is on top?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3466">B00daW</a> — Thu Jul 06, 2017 1:40 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[seanriddle]]></name></author>
<updated>2017-07-06T12:46:24-07:00</updated>
<published>2017-07-06T12:46:24-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=16129&amp;p=199671#p199671</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=16129&amp;p=199671#p199671"/>
<title type="html"><![CDATA[Re: Recording request: NEC µPD7756C and the Mitsubishi M5080]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=16129&amp;p=199671#p199671"><![CDATA[
I needed a primer on PARCOR/LPC, and Cater's Electronically Speaking has a good introduction: <!-- m --><a class="postlink" href="http://www.seanriddle.com/lpc.pdf">http://www.seanriddle.com/lpc.pdf</a><!-- m --><br /><br />As Lord Nightmare said, this looks a lot like TI's LPC.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=8559">seanriddle</a> — Thu Jul 06, 2017 12:46 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[seanriddle]]></name></author>
<updated>2017-07-04T16:31:34-07:00</updated>
<published>2017-07-04T16:31:34-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=16129&amp;p=199586#p199586</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=16129&amp;p=199586#p199586"/>
<title type="html"><![CDATA[Re: Recording request: NEC µPD7756C and the Mitsubishi M5080]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=16129&amp;p=199586#p199586"><![CDATA[
I found another Aerobics cart for $12, so I bought it and decapped the chip in the one B00daW sent me: <!-- m --><a class="postlink" href="http://seanriddledecap.blogspot.com/2017/07/blog-post.html">http://seanriddledecap.blogspot.com/201 ... -post.html</a><!-- m --><br /><br />The 312-byte decoding ROM is easy to spot, but unfortunately the 960-byte parameter ROM seems to be implant ROM, so I can't see any of the bits.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=8559">seanriddle</a> — Tue Jul 04, 2017 4:31 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Lord Nightmare]]></name></author>
<updated>2017-07-02T22:45:11-07:00</updated>
<published>2017-07-02T22:45:11-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=16129&amp;p=199514#p199514</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=16129&amp;p=199514#p199514"/>
<title type="html"><![CDATA[Re: Recording request: NEC µPD7756C and the Mitsubishi M5080]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=16129&amp;p=199514#p199514"><![CDATA[
Wow, this is some seriously impressive work!<br /><br />We know from the datasheet that this is LPC-8, not LPC-10, so that simplifies some things.<br /><br />I'm guessing the frame rules are as such:<br />5,7,6,6,4,4,4,4,4,3 corresponds to energy, repeat+pitch, k1, k2, k3, k4, k5, k6, k7, k8<br />Technically the real layout is:<br />5,1,6,6,6,4,4,4,4,4,3 where the '1' is the repeat bit, and pitch is 6 bits long.<br />Hence:<br />00000 = &quot;silence&quot;, but really: repeat last frame, unchanged. total frame length is 5<br />11111 = &quot;stop&quot;, play silence for one frame and then terminate. total frame length is 5<br />else: continue pulling bits<br />next bit is 'repeat'.<br />0 = frame is not a repeat frame, pull 6+6+6+4+4+4+4+4+3 additional bits. total frame length is 47<br />1 = frame is a repeat frame, pull 6 additional bits. total frame length is 12<br /><br />so valid frames for each type would be something like:<br />00000 = silence (or repeat...)<br />00001 0 101010 101010 101010 1010 1010 1010 1010 1010 101 = voiced/unvoiced &quot;long frame&quot;<br />00001 1 101010 = repeat with pitch change &quot;short frame&quot;<br />11111 = stop (end frame)<br /><br />Now, unlike tms51xx and tms52xx chips, i suspect that both voiced and unvoiced frames are &quot;long frames&quot;, so an unvoiced frame looks like:<br />01000 0 000000 011011 101100 0010 0110 0111 0100 0111 010<br />note the pitch is all zeroes, this probably switches it from using voiced energy source to PRNG-fed noise, as on the ti chips.<br />Also unlike the ti chips, the fact that all frames are long frames de-necessitates the messy (and buggy!) ZPAR logic to zero the remaining parameters, which is important on TI speech chips if you follow an unvoiced frame with a repeat frame which changes the pitch only!<br /><br />LN<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=399">Lord Nightmare</a> — Sun Jul 02, 2017 10:45 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[seanriddle]]></name></author>
<updated>2017-07-02T20:51:10-07:00</updated>
<published>2017-07-02T20:51:10-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=16129&amp;p=199513#p199513</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=16129&amp;p=199513#p199513"/>
<title type="html"><![CDATA[Re: Recording request: NEC µPD7756C and the Mitsubishi M5080]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=16129&amp;p=199513#p199513"><![CDATA[
I took the sound 0 data and inverted one bit of frame 0 at a time and captured the resulting waveforms (other than bit 5, which would have made the frame a short frame).  This might be helpful in determining what each bit is for.  I also did some tests with the first frame of sound 0 followed by 00000 frames and frames with bit 5 set.  I think 00000 means repeat the previous frame.  It's only used in the silent areas of sounds 6 and 7, but in my tests it didn't produce silence, so I assume it repeats the previous silent frame.<br /><br /><!-- m --><a class="postlink" href="http://www.seanriddle.com/m50805sound0mods.7z">http://www.seanriddle.com/m50805sound0mods.7z</a><!-- m --><br /><!-- m --><a class="postlink" href="http://www.seanriddle.com/m50805tests.7z">http://www.seanriddle.com/m50805tests.7z</a><!-- m --><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=8559">seanriddle</a> — Sun Jul 02, 2017 8:51 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[seanriddle]]></name></author>
<updated>2017-07-02T11:21:29-07:00</updated>
<published>2017-07-02T11:21:29-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=16129&amp;p=199486#p199486</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=16129&amp;p=199486#p199486"/>
<title type="html"><![CDATA[Re: Recording request: NEC µPD7756C and the Mitsubishi M5080]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=16129&amp;p=199486#p199486"><![CDATA[
I fixed the other sounds and that removed all the complications to the short frame logic.  I updated the info in the file on my site.  But when I programmed the CPLD with sounds 0-6 (sound 7 wouldn't fit in the CPLD I'm using), only the PWM for sounds 0 and 3 look identical to the internal ROM sounds.  The others are similar, but not identical.  I converted the PWM capture of my sound 1 to WAV, and it sounds the same.  So if anyone is going to do any analysis on the PARCOR data, just use sounds 0 and 3 for now.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=8559">seanriddle</a> — Sun Jul 02, 2017 11:21 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[seanriddle]]></name></author>
<updated>2017-07-01T15:52:24-07:00</updated>
<published>2017-07-01T15:52:24-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=16129&amp;p=199459#p199459</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=16129&amp;p=199459#p199459"/>
<title type="html"><![CDATA[Re: Recording request: NEC µPD7756C and the Mitsubishi M5080]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=16129&amp;p=199459#p199459"><![CDATA[
I won't decap it until I confirm the parameter ROM dump and capture the PWM output when sending it some other data.<br /><br />It is -058P, which I'm sure is the code for the ROM.  It also has 705104, which might be a date code; 2 Toshiba chips are dated '86 and '87.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=8559">seanriddle</a> — Sat Jul 01, 2017 3:52 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[B00daW]]></name></author>
<updated>2017-07-01T15:23:05-07:00</updated>
<published>2017-07-01T15:23:05-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=16129&amp;p=199458#p199458</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=16129&amp;p=199458#p199458"/>
<title type="html"><![CDATA[Re: Recording request: NEC µPD7756C and the Mitsubishi M5080]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=16129&amp;p=199458#p199458"><![CDATA[
Before decapping, is the catalog number on the M50805 &quot;058P&quot; ?  We should likely adhere to the naming scheme of m50805-058p.drom m50805-058p.prom for MESS.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3466">B00daW</a> — Sat Jul 01, 2017 3:23 pm</p><hr />
]]></content>
</entry>
</feed>