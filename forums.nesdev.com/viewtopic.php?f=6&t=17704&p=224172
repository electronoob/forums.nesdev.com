<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<link rel="icon" href="/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />

<title>nesdev.com &bull; View topic - NSF Extensions, NSF2 and NSFe (2018)</title>

<link rel="alternate" type="application/atom+xml" title="Feed - nesdev.com" href="https://forums.nesdev.com/feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - News" href="https://forums.nesdev.com/feed.php?mode=news" /><link rel="alternate" type="application/atom+xml" title="Feed - All forums" href="https://forums.nesdev.com/feed.php?mode=forums" /><link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="https://forums.nesdev.com/feed.php?mode=topics" /><link rel="alternate" type="application/atom+xml" title="Feed - Active Topics" href="https://forums.nesdev.com/feed.php?mode=topics_active" /><link rel="alternate" type="application/atom+xml" title="Feed - Forum - NES Music" href="https://forums.nesdev.com/feed.php?f=6" /><link rel="alternate" type="application/atom+xml" title="Feed - Topic - NSF Extensions, NSF2 and NSFe (2018)" href="https://forums.nesdev.com/feed.php?f=6&amp;t=17704" />

<link rel="stylesheet" href="./style.php?id=1&amp;lang=en" type="text/css" />

<script type="text/javascript">
// <![CDATA[


function popup(url, width, height, name)
{
	if (!name)
	{
		name = '_popup';
	}

	window.open(url.replace(/&amp;/g, '&'), name, 'height=' + height + ',resizable=yes,scrollbars=yes,width=' + width);
	return false;
}

function jumpto()
{
	var page = prompt('Enter the page number you wish to go to:', '1');
	var per_page = '15';
	var base_url = './viewtopic.php?f=6&amp;t=17704';

	if (page !== null && !isNaN(page) && page == Math.floor(page) && page > 0)
	{
		if (base_url.indexOf('?') == -1)
		{
			document.location.href = base_url + '?start=' + ((page - 1) * per_page);
		}
		else
		{
			document.location.href = base_url.replace(/&amp;/g, '&') + '&start=' + ((page - 1) * per_page);
		}
	}
}

/**
* Find a member
*/
function find_username(url)
{
	popup(url, 760, 570, '_usersearch');
	return false;
}

/**
* Mark/unmark checklist
* id = ID of parent container, name = name prefix, state = state [true/false]
*/
function marklist(id, name, state)
{
	var parent = document.getElementById(id);
	if (!parent)
	{
		eval('parent = document.' + id);
	}

	if (!parent)
	{
		return;
	}

	var rb = parent.getElementsByTagName('input');
	
	for (var r = 0; r < rb.length; r++)
	{
		if (rb[r].name.substr(0, name.length) == name)
		{
			rb[r].checked = state;
		}
	}
}



// ]]>
</script>
</head>
<body class="ltr">

<a name="top"></a>

<div id="wrapheader">

	<div id="logodesc">
	</div>

	<div id="menubar">

		<table width="100%" cellspacing="0">
		<tr>
			<td rowspan="2"><a href="./index.php"><img src="./styles/subsilver2/imageset/site_logo.gif" alt="" title="" /></a></td>
			<td width="100%" align="center"><h1>nesdev.com</h1><span class="gen">NES Development and Strangulation Records message boards</span></td>
		</tr>
		<tr>
			<td align="center">
				<!--<div style="float: right;">
					<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
					<input type="hidden" name="cmd" value="_s-xclick">
					<input type="hidden" name="hosted_button_id" value="X2HM4WNR5YT8S">
					<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
					<img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
					</form>
				</div>-->
				<a href="./faq.php"><img src="./styles/prosilver/theme/images/icon_mini_faq.gif" width="12" height="13" alt="*" /> FAQ</a>
				&nbsp; &nbsp;<a href="./search.php"><img src="./styles/prosilver/theme/images/icon_mini_search.gif" width="12" height="13" alt="*" /> Search</a>
				<br />	
				 &nbsp;<a href="./ucp.php?mode=minion"><img src="./styles/prosilver/theme/images/icon_mini_register.gif" width="12" height="13" alt="*" /> Register</a>
					&nbsp; &nbsp;<a href="./ucp.php?mode=login"><img src="./styles/prosilver/theme/images/icon_mini_login.gif" width="12" height="13" alt="*" /> Login</a>&nbsp;
			</td>
		</tr>
		</table>
	</div>

	<div id="datebar">
		<table width="100%" cellspacing="0">
		<tr>
			<td class="gensmall"></td>
			<td class="gensmall" align="right">It is currently Tue Mar 19, 2019 5:46 pm<br /></td>
		</tr>
		</table>
	</div>

</div>

<div id="wrapcentre">

	
	<p class="searchbar">
		<span style="float: left;"><a href="./search.php?search_id=unanswered">View unanswered posts</a> | <a href="./search.php?search_id=active_topics">View active topics</a></span>
		
	</p>
	

	<br style="clear: both;" />

	<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=24">NES / Famicom</a> &#187; <a href="./viewforum.php?f=6">NES Music</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>

	<br />
	

					<center>
					<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- NesDev Forums -->
					<ins class="adsbygoogle"
						 style="display:block"
						 data-ad-client="ca-pub-7801010229099644"
						 data-ad-slot="7979066809"
						 data-ad-format="auto"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>
					</center>
	<br />


<div id="pageheader">
	<h2><a class="titles" href="./viewtopic.php?f=6&amp;t=17704">NSF Extensions, NSF2 and NSFe (2018)</a></h2>


	<p class="moderators">Moderator: <a href="./memberlist.php?mode=group&amp;g=320">Moderators</a></p>

</div>

<br clear="all" /><br />

<div id="pagecontent">

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=6"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=6&amp;t=17704"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>1</strong> of <strong>6</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 85 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"><b><a href="#" onclick="jumpto(); return false;" title="Click to jump to pageâ€¦">Go to page</a> <strong>1</strong><span class="page-sep">, </span><a href="./viewtopic.php?f=6&amp;t=17704&amp;start=15">2</a><span class="page-sep">, </span><a href="./viewtopic.php?f=6&amp;t=17704&amp;start=30">3</a><span class="page-sep">, </span><a href="./viewtopic.php?f=6&amp;t=17704&amp;start=45">4</a><span class="page-sep">, </span><a href="./viewtopic.php?f=6&amp;t=17704&amp;start=60">5</a><span class="page-sep">, </span><a href="./viewtopic.php?f=6&amp;t=17704&amp;start=75">6</a> &nbsp;<a href="./viewtopic.php?f=6&amp;t=17704&amp;start=15">Next</a></b></td>
		
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat">
			<table width="100%" cellspacing="0">
			<tr>
				<td class="nav" nowrap="nowrap">&nbsp;
				<a href="./viewtopic.php?f=6&amp;t=17704&amp;view=print" title="Print view">Print view</a>
				</td>
				<td class="nav" align="right" nowrap="nowrap"><a href="./viewtopic.php?f=6&amp;t=17704&amp;view=previous">Previous topic</a> | <a href="./viewtopic.php?f=6&amp;t=17704&amp;view=next">Next topic</a>&nbsp;</td>
			</tr>
			</table>
		</td>
	</tr>

	</table>


	<table class="tablebg" width="100%" cellspacing="1">
	
		<tr>
			<th>Author</th>
			<th>Message</th>
		</tr>
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p224172"></a>
				<b class="postauthor">rainwarrior</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p224172">NSF Extensions, NSF2 and NSFe (2018)</a></div><div style="float: right;"><a href="./viewtopic.php?p=224172#p224172"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Aug 24, 2018 9:01 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=5165_1471663472.jpg" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Jan 22, 2012 12:03 pm<br /><b>Posts:</b> 7317<br /><b>Location:</b> Canada
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><strong>News:<br />The proposed NSF2 outlined below is now implemented in NSFPlay 2.4 beta 9, available here:<br /><a href="https://github.com/bbbradsmith/nsfplay/releases" class="postlink">https://github.com/bbbradsmith/nsfplay/releases</a></strong><br /><br /><em>Original proposal below:</em><br /><br /><br />So, about 8 years ago <a href="http://forums.nesdev.com/viewtopic.php?f=6&amp;t=7304" class="postlink">kevtris openly speculated</a> about an &quot;NSF 2.0&quot; format that would update the existing NSF format with a few goals in mind:<br /><br />1. Practical ways of using the IRQ and/or NMI as interrupts.<br />2. Track times and names, or other non-essential metadata.<br /><br />I didn't want to continue that thread, as basically nothing ever came of it. Quietust made a <a href="https://www.qmtpro.com/~nes/nsf/battletoads_pcm.zip" class="postlink">Battletoads RIP</a> that relied on the idea of a &quot;non returning INIT that gets interrupted by PLAY&quot;, but I think it predated the NSF 2.0 proposal, and wasn't really relying on the whole IRQ idea, just an INIT timeout.<br /><br />So... now that I'm actively working on some NSF stuff again, I like some of the ideas in that proposal, and I want to make this stuff &quot;real&quot; finally. Here's what I propose to do:<br /><br /><br /><strong>1. Metadata</strong><br /><br />Kevtris' proposal used the last 3 bytes of the NSF header (previously reserved as 0) to indicate the length of NSF data that follows the header. This means that any metadata appended goes right after the other data. This is good, and I don't think it even requires a version change; it's backward compatible with NSF 1. Any nonzero value in the last 3 bytes should be interpreted as a data length, and indicates the presence of non-essential metadata. (We don't really have the DISKDUDE! problem with NSFs that we did with iNES; the headers are generally very conformant in this respect.)<br /><br />The other question is what the metadata should look like. Kevtris had some ideas about them, but they weren't very firm. It was some chunked format with basically whatever fields he could think of at the time. My counter to this is: <strong><em>we already have a chunky metadata format for NSFs, called <a href="https://wiki.nesdev.com/w/index.php/NSFe" class="postlink">NSFe</a></em></strong>.<br /><br />NSFe was Disch's idea, implemented about 15 years ago for his NotSoFatso NSF player. It has always been very extensible (unlike NSF 1), but it never received widespread adoption. Several emulators do support it, though, and I've found a lot of use for it over the last few years. It's existing metadata formats are reasonably parsable by the 6502, IMO. (Emulators can also reuse their NSFe implementation to support both, which is helpful.)<br /><br />So, in light of this, I see no reason to create a new competing metadata standard. We might as well just merge these two. There's no fundamental incompatibility between the two ideas. So, what I've decided to go with is just putting NSFe chunks (as defined by the NSFe spec) at the metadata location. This does not inclulde the &quot;NSFE&quot; header (unnecessary), and the &quot;INFO&quot;/&quot;DATA&quot;/&quot;BANK&quot; chunks that are normally mandatory in a .NSFe file must be omitted here.<br /><br />To try this idea out I have implemented exactly this for my most recent beta of NSFPlay:<br /><a href="https://github.com/bbbradsmith/nsfplay/releases/tag/2.4b5" class="postlink">https://github.com/bbbradsmith/nsfplay/releases/tag/2.4b5</a><br /><br />To additionally help test it, I've created this python tool that easily converts NSFe to this NSF + metadata format. Try it out:<br /><a href="https://gist.github.com/bbbradsmith/4bc17ae16b10a9be03e80addfbea5009" class="postlink">https://gist.github.com/bbbradsmith/4bc17ae16b10a9be03e80addfbea5009</a><br /><br /><em>Edit:</em> and for the purists, here's a python script to strip that metadata:<br /><a href="https://gist.github.com/bbbradsmith/e225068e750fdb32e59a191a4f6a7e45" class="postlink">https://gist.github.com/bbbradsmith/e225068e750fdb32e59a191a4f6a7e45</a><br /><br />I see no reason to increase the version number just for metadata. There is no backward compatibility issue in simply treating a value other than 0 in the last 3 bytes of the NSF header as an indicator for the presence of metadata.<br /><br />Header change:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">header byte $7D-7F:<br />&nbsp; &nbsp; 3 bytes - 24-bit size of data following header (little endian)</div><br />(Note that the appended data will become part of the ROM image on old players. NSFs should not be relying on the presence of 0 outside their data areas anyway, though, so this is generally safe, and easily fixed with explicit padding in the file.)<br /><br /><br /><strong>2. Non returning INIT, IRQ / NMI etc.</strong><br /><br />This part of kevtris' proposal was a bit more solid. I have not implemented any of it yet, but I plan to keep most of it. Here's some plans:<br /><br />1.1. Non-returning INIT is a problem. We need a way to signal to the player hardware when we're done starting up and ready to receive PLAY / IRQ interruptions. (Quietust's implementaion of this is just to &quot;time out&quot; the INIT routine after some large number of cycles. I think GME ended up borrowing this implementation. This worked, but I think we really need an explicit non-arbitrary moment of synchronization here.)<br /><br />Instead my thought is: the non-returning INIT flag means that <strong>INIT will be called <em>twice</em></strong>. The first call is still required to return, <s>but can set RAM variables to tell itself that it&#39;s the second call</s>. (The second call does not have to return, of course, as per the point of this.) <em>Edit: The first and second calls will have the <strong>argument Y=$80 and Y=$81</strong> respectively to make it very easy to branch to the non-returning code.</em><br /><br />1.2. With non-returning INIT, PLAY becomes an &quot;interrupt&quot; that is intended to be driven by the NMI. A hardware player with no PPU can generate an NMI externally, and the player will likely use some sort of wrapper in between NMI and PLAY but that's up to the implementation. <strong>PLAY should still RTS, not RTI.</strong> The actual timing of PLAY vs the second call of INIT will necessarily be implementation-defined. <em>(Edit: the NMI wrapping PLAY when this feature is used implies an SEI for it that will be reverted after PLAY returns via the wrapper's RTI. This should be fine, but if using IRQ features at the same time it should be considered. Also: the wrapper should disable its own NMI during execution of PLAY to prevent re-entry.)</em><br /><br />2.1. IRQ handling: this I want to keep exactly as kevtris proposed. <strong>$FFFE-FFFF becomes a RAM overlay, and the NSF code gets direct IRQ control through it, no intermediary.</strong> CLI/SEI is explicitly allowed, of course. The DPCM and APU IRQs are also fair game.<br /><br />2.2. IRQ timer: again, I think kevtris' proposal for an additional IRQ timer is solid, but with one minor change later proposed by B00daW to change the address of its interface to avoid the &quot;test&quot; registers that were discovered later.<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">$401B - low 8 bits of 16-bit IRQ timer reload<br />$401C - low 8 bits of 16-bit IRQ timer reload<br />$401D - bit 0 controls the IRQ (0 = held in reset, continually reload timer, 1 = enable)</div><br />There's more detail about this on <a href="https://wiki.nesdev.com/w/index.php/NSF2" class="postlink">the wiki</a> but basically I think the IRQ stuff is good as proposed.<br /><br />3. NSF2 header change:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">header byte $05:<br />&nbsp; &nbsp; byte = 2 - version 2 - indicates we must interpret byte $7C.<br /><br />header byte $7C:<br />&nbsp; &nbsp; bit 0-3 - reserved, 0<br />&nbsp; &nbsp; bit 4 - IRQ features enabled<br />&nbsp; &nbsp; bit 5 - Two INIT calls, second not required to return.<br />&nbsp; &nbsp; bit 6 - Disable PLAY calls (not very useful without bit 5 also set)<br />&nbsp; &nbsp; bit 7 - metadata contains a critical chunk*</div><br />This is almost what was in the proposal, *except bit 7 was proposed to indicate the presence or absence of metadata. I think it was redundant for that purpose (non-zero $7D-7F already achieves this), but I think we could use it to indicate instead that there is some essential chunk in the metadata that is critical for correct playback.<br /><br />This basically works like NSFe, in which any chunk FourCC starting with an uppercase letter means it must be parsed to correctly play the file. This allows the NSFe extensions to work as that format intended, and also gives appropriate places for things like, e.g. sample data chunks for new expansion sound devices that need it.<br /><br />Basically the presence of the version 2 indicator should only be needed for using the <em>non backward compatible</em> features, which are all encapsulated be $7C. Non-essential metadata can be freely included as version 1.<br /><br />(FWIW, I couldn't find any players that even checked the version number. <img src="./images/smilies/icon_razz.gif" alt=":P" title="Razz" />)<br /><br /><br />Anyway, that's what I'm working on for this. Part 1 is already more or less implemented (see above). Part 2 will take more work, but it's on the way. If you think I've made a critical mistake somewhere, let me know before the world turns to mud.<br /><br /><em>Edit: Replaced Y init spec with $80/$81 for non-returning INIT sequence that's distinguishable from the usual default.</em></div>

					
							<br /><br />
							<span class="gensmall">Last edited by <a href="./memberlist.php?mode=viewprofile&amp;u=5165">rainwarrior</a> on Mon Mar 04, 2019 5:56 pm, edited 4 times in total.</span>
						<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=5165"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p224196"></a>
				<b class="postauthor">Rahsennor</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p224196">Re: NSF Extensions, NSF2 and NSFe (2018)</a></div><div style="float: right;"><a href="./viewtopic.php?p=224196#p224196"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Aug 24, 2018 10:38 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_online.gif" alt="Online" title="Online" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Thu Aug 20, 2015 3:09 am<br /><b>Posts:</b> 439
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">rainwarrior wrote:</div><div class="quotecontent">(FWIW, I couldn't find any players that even checked the version number. <img src="./images/smilies/icon_razz.gif" alt=":P" title="Razz" />)</div><br />Mine does! It also aborts if the last four bytes are nonzero, so I'm going to have to change that.<br /><br />The only question I can think of is, what should implementations do if the second INIT does return? Probably nothing, but just for completion...</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=7168"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p224197"></a>
				<b class="postauthor">rainwarrior</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p224197">Re: NSF Extensions, NSF2 and NSFe (2018)</a></div><div style="float: right;"><a href="./viewtopic.php?p=224197#p224197"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Aug 24, 2018 10:40 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=5165_1471663472.jpg" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Jan 22, 2012 12:03 pm<br /><b>Posts:</b> 7317<br /><b>Location:</b> Canada
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">The second INIT returning I think that could be implementation defined, but the simplest would just be to fall back to an infinite loop.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=5165"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p224199"></a>
				<b class="postauthor">rainwarrior</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p224199">Re: NSF Extensions, NSF2 and NSFe (2018)</a></div><div style="float: right;"><a href="./viewtopic.php?p=224199#p224199"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Aug 24, 2018 10:57 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=5165_1471663472.jpg" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Jan 22, 2012 12:03 pm<br /><b>Posts:</b> 7317<br /><b>Location:</b> Canada
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">One thing to note for the non-returning INIT, is that since PLAY is NMI driven in that mode, players that are to run on an NES or Famicom will not be able to use the variable playback rate field to control its rate. (A hardware player with no PPU could have its own NMI timer, though.)<br /><br />This doesn't affect PLAY without the non-returning INIT though. If you're not letting the NSF run an INIT forever you can just poll for PLAY like the PowerPak does. (The IRQ features are entirely unaffected by this.)<br /><br />PLAY being NMI driven does give an NES based player a nice opportunity to poll the controller in its NMI wrapper though, so it could still have a responsive menu on e.g. a battletoads rip.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=5165"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p224227"></a>
				<b class="postauthor">Anders_A</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p224227">Re: NSF Extensions, NSF2 and NSFe (2018)</a></div><div style="float: right;"><a href="./viewtopic.php?p=224227#p224227"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sat Aug 25, 2018 7:00 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=1601.png" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Mon Nov 27, 2006 11:56 pm<br /><b>Posts:</b> 88<br /><b>Location:</b> Sollentuna, Sweden
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Why is calling INIT twice preferrable over having two separate functions? One for INIT and one that's expected to be called after init and to never return?</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=1601"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p224228"></a>
				<b class="postauthor">Jarhmander</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p224228">Re: NSF Extensions, NSF2 and NSFe (2018)</a></div><div style="float: right;"><a href="./viewtopic.php?p=224228#p224228"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sat Aug 25, 2018 7:53 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td class="postdetails">Formerly ~J-@D!~</td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=336_1471574132.png" width="80" height="80" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Mar 12, 2006 12:36 am<br /><b>Posts:</b> 485<br /><b>Location:</b> Rive nord de MontrÃ©al
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I guess it's a debate of whenever we want to add another routine address in the metadata vs reusing resources (address). Either ways looks fine, but the &quot;init called twice&quot;, while a bit awkward, has the advantage of being simple, is almost compatible with the existing non-returning NSFs and sidesteps the following questions:<br /><ul><li> Where do we locate this field, in which chunk and which offset?</li><li> How do we name that field?</li><li> What are the exact semantics of the call?</li></ul></div>

					
						<div class="postbody"><br />_________________<br />((Î» (x) (x x)) (Î» (x) (x x)))</div>
					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=336"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p224235"></a>
				<b class="postauthor">rainwarrior</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p224235">Re: NSF Extensions, NSF2 and NSFe (2018)</a></div><div style="float: right;"><a href="./viewtopic.php?p=224235#p224235"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sat Aug 25, 2018 9:47 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=5165_1471663472.jpg" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Jan 22, 2012 12:03 pm<br /><b>Posts:</b> 7317<br /><b>Location:</b> Canada
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">The question of why we don't add a new routine field for this? Doesn't fit in the existing header. There's no unused bytes left. It's either break potential backward compatibility by expanding the header, or put it in metadata at the end. ...or this third option which adds ~6 bytes of a decision code at the beginning of your INIT. I think that's an easy compromise.<br /><br />Actually I think I'll add &quot;Y=0&quot; for the first call and &quot;Y=1&quot; for the second, just to get rid of that need to count it internally.<br /><br /><br />The original NSF2 proposal I think was based on quietust's INIT timeout idea, which I think was partly just a way to sidestep the spec for this. In this minimal way it didn't need a separate function but...<br /><br />An NSF <em>needs</em> an INIT some some sort before it begins playing, whether or not it's &quot;non-returning&quot;. Making it a timeout means the NSF author needs to manage that time to make sure they don't exceed it, and the player author needs to build some sort of timeout interrupt for it (can't use IRQ because that belongs to the NSF now... maybe NMI is viable). Also means every NSF has to have that same delay regardless of how much it uses/needs. Not a good deal, IMO. Returning and calling again I think will make this a lot easier and cleaner.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=5165"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p224250"></a>
				<b class="postauthor">NewRisingSun</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p224250">Re: NSF Extensions, NSF2 and NSFe (2018)</a></div><div style="float: right;"><a href="./viewtopic.php?p=224250#p224250"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sat Aug 25, 2018 1:12 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Thu May 19, 2005 11:30 am<br /><b>Posts:</b> 880
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I like the merge proposal very much.<br /><br />While we are on the subject of updating NSF, I would like to request:<ol style="list-style-type: decimal"><li>A means of indicating the Namco 163 audio volume, similiar to the new submappers, or to the NSFe MIXE chunk. Or shall the MIXE chunk become part of the NSF metadata at the end?</li><li>An expansion sound bit for the <a href="http://forums.nesdev.com/viewtopic.php?f=6&amp;t=16853" class="postlink">YM2413</a>. It's only used by one game (a main cartridge, plus four optional dumped expansion cartridges, plus an undumped one), but so is the VRC7.</li><li>An expansion sound bit for a second APU, used by <a href="http://forums.nesdev.com/viewtopic.php?f=6&amp;t=16854" class="postlink">a handful of games</a>.</li></ol></div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=133"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p224252"></a>
				<b class="postauthor">rainwarrior</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p224252">Re: NSF Extensions, NSF2 and NSFe (2018)</a></div><div style="float: right;"><a href="./viewtopic.php?p=224252#p224252"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sat Aug 25, 2018 1:28 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=5165_1471663472.jpg" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Jan 22, 2012 12:03 pm<br /><b>Posts:</b> 7317<br /><b>Location:</b> Canada
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">NewRisingSun wrote:</div><div class="quotecontent">While we are on the subject of updating NSF, I would like to request:<ol style="list-style-type: decimal"><li>A means of indicating the Namco 163 audio volume, similiar to the new submappers, or to the NSFe MIXE chunk. Or shall the MIXE chunk become part of the NSF metadata at the end?</li><li>An expansion sound bit for the <a href="http://forums.nesdev.com/viewtopic.php?f=6&amp;t=16853" class="postlink">YM2413</a>. It's only used by one game (a main cartridge, plus four optional dumped expansion cartridges, plus an undumped one), but so is the VRC7.</li><li>An expansion sound bit for a second APU, used by <a href="http://forums.nesdev.com/viewtopic.php?f=6&amp;t=16854" class="postlink">a handful of games</a>.</li></ol></div><br />The '<a href="http://wiki.nesdev.com/w/index.php/NSFe#mixe" class="postlink">mixe</a>' chunk is mostly specified already, I need to write a few test NSFs/ROMs to fill in some of the implementation details in NSFPlay (though it does already parse that chunk, it just doesn't have reference volumes for a few expansions, i<s>ncluding N163</s> yet... next beta I'll finish it soon.) Yes with the merging of metadata this becomes a solution under NSF2 as well.<br /><br /><em>Edit: I misremembered, I believe NSFPlay 2.4b5 does implement 'mixe' for N163 already.</em><br /><br />The YM2143 karaoke thing is on my radar, but I have a bunch of VRC7 work to do before I will think about implementing it (not much of a priority, isn't there already a VGM dump?). In theory I don't see a problem with using one of the (2 or 6) remaining expansion bits for this.<br /><br />There is also YM2143-with-VRC7 interface, which some people have done with TNS carts. This I don't think would get an expansion bit, since it's mutually exclusive with the VRC7 just uses that bit plus a mandatory chunk to designate replacing the VRC7 with it. (Also related: a 'vrc7' chunk with the built-in patches of choice is another thing I will likely implement.)<br /><br />You didn't mention these, but for the Moe Pro sports games expansion that needs extra sample data, I think that doesn't need an expansion bit. Since it needs a mandatory chunk for the sample data anyway an expansion bit is unnecessary. Basically anything that needs more info than a single bit shouldn't bother to waste an expansion bit, IMO.<br /><br />A second APU I don't think belongs under expansion bits. It could easily be accommodated by a mandatory chunk, though. (Easiest thing that comes to mind is just embed a whole second NSF in the chunk. Inception?) Implementing it, on the other hand, will probably be an ordeal...</div>

					
							<br /><br />
							<span class="gensmall">Last edited by <a href="./memberlist.php?mode=viewprofile&amp;u=5165">rainwarrior</a> on Wed Aug 29, 2018 12:46 pm, edited 1 time in total.</span>
						<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=5165"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p224262"></a>
				<b class="postauthor">Rahsennor</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p224262">Re: NSF Extensions, NSF2 and NSFe (2018)</a></div><div style="float: right;"><a href="./viewtopic.php?p=224262#p224262"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sat Aug 25, 2018 6:46 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_online.gif" alt="Online" title="Online" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Thu Aug 20, 2015 3:09 am<br /><b>Posts:</b> 439
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">rainwarrior wrote:</div><div class="quotecontent">One thing to note for the non-returning INIT, is that since PLAY is NMI driven in that mode, players that are to run on an NES or Famicom will not be able to use the variable playback rate field to control its rate. (A hardware player with no PPU could have its own NMI timer, though.)</div><br />I was wondering about that.<br /><br />Cycle-timed music engines can still use a non-returning PLAY, right?<br /><br /><div class="quotetitle">rainwarrior wrote:</div><div class="quotecontent">Actually I think I'll add &quot;Y=0&quot; for the first call and &quot;Y=1&quot; for the second, just to get rid of that need to count it internally.</div><br />That is an excellent idea.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=7168"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p224281"></a>
				<b class="postauthor">rainwarrior</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p224281">Re: NSF Extensions, NSF2 and NSFe (2018)</a></div><div style="float: right;"><a href="./viewtopic.php?p=224281#p224281"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sat Aug 25, 2018 11:57 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=5165_1471663472.jpg" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Jan 22, 2012 12:03 pm<br /><b>Posts:</b> 7317<br /><b>Location:</b> Canada
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">Rahsennor wrote:</div><div class="quotecontent">Cycle-timed music engines can still use a non-returning PLAY, right?</div><br />That's still a valid idiom, yes.<br /><br />I'm not sure if there's much advantage to using non-returning INIT as a replacement for that. The point is to have a baseline loop that's interrupted by PLAY. (...or IRQ)<br /><br />I think non-returning INIT with a PLAY that is just an RTS though would potentially give the player hardware a chance to take input, etc. in its NMI handler but that'd also put small interruptions in the sound at 60hz anyway. (It's definitely a better replacement for the &quot;deflemask trick&quot; though, where it's already simulating interrupting a base loop with an NMI by polling in a non-returning PLAY.)</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=5165"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p224287"></a>
				<b class="postauthor">NewRisingSun</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p224287">Re: NSF Extensions, NSF2 and NSFe (2018)</a></div><div style="float: right;"><a href="./viewtopic.php?p=224287#p224287"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sun Aug 26, 2018 2:29 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Thu May 19, 2005 11:30 am<br /><b>Posts:</b> 880
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">rainwarrior wrote:</div><div class="quotecontent">isn't there already a VGM dump</div>Yes, I made it because there was no NSF support. The Karaoke cartridge puts the chip registers at $6000/$6001, but I see no reason to define the chip such that it responds to both $6000/$6001 and $9010/$9030 for the &quot;YM2413 using VRC7 interface&quot;. One could further define that the YM2413 shall not respond at $9010/$9030 if the VRC7 bit is <em>also</em> set, in case somebody wants to use both chips at the same time.<br /><div class="quotetitle">rainwarrior wrote:</div><div class="quotecontent">A second APU I don't think belongs under expansion bits. It could easily be accommodated by a mandatory chunk, though. (Easiest thing that comes to mind is just embed a whole second NSF in the chunk. Inception?) Implementing it, on the other hand, will probably be an ordeal...</div>You must be thinking of the arcade version of Donkey Kong 3, which has two 2A03 CPUs each with their own sound core,when you suggest a second NSF. I was thinking of the OneBus games, which have just one CPU that has <a href="https://wiki.nesdev.com/w/index.php/VT02%2B_Sound" class="postlink">a second set of APU channels</a>. Surely an expansion bit would be practical for those.<br /><br />I should mention that I would gladly volunteer to make NSFs from the games using these configurations, so you would have something to test with.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=133"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p224315"></a>
				<b class="postauthor">rainwarrior</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p224315">Re: NSF Extensions, NSF2 and NSFe (2018)</a></div><div style="float: right;"><a href="./viewtopic.php?p=224315#p224315"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sun Aug 26, 2018 10:01 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				<tr>
					<td><img src="./download/file.php?avatar=5165_1471663472.jpg" width="100" height="100" alt="User avatar" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Jan 22, 2012 12:03 pm<br /><b>Posts:</b> 7317<br /><b>Location:</b> Canada
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">NewRisingSun wrote:</div><div class="quotecontent"><div class="quotetitle">rainwarrior wrote:</div><div class="quotecontent">isn't there already a VGM dump</div>Yes, I made it because there was no NSF support. The Karaoke cartridge puts the chip registers at $6000/$6001, but I see no reason to define the chip such that it responds to both $6000/$6001 and $9010/$9030 for the &quot;YM2413 using VRC7 interface&quot;.</div><br />Yes those are two separate things. One could use an expansion bit, the other I think not.<br /><br /><div class="quotetitle">NewRisingSun wrote:</div><div class="quotecontent">One could further define that the YM2413 shall not respond at $9010/$9030 if the VRC7 bit is <em>also</em> set, in case somebody wants to use both chips at the same time.</div><br />...or did you mean &quot;no reason <em>not</em> to define&quot; above? I'd rather they just be two separate things. I don't really see any advantage in combining them. They both happen to use that chip, but are otherwise completely unrelated.<br /><br />As far as multichip goes, the prevailing treatment is to ignore all audio mapper writes outside of their canonical address to prevent overlap, and disable FDS RAM. That's pretty much what the TNS hardware that runs it has to do as well. Technically the Karaoke cart itself doesn't even use the expansion audio feedback though, right? ...so whatever mix value chosen for it will be completely fictional. (I guess we could treat it as the same volume VRC7, for the purpose of consistency.)<br /><br /><div class="quotetitle">NewRisingSun wrote:</div><div class="quotecontent"><div class="quotetitle">rainwarrior wrote:</div><div class="quotecontent">A second APU I don't think belongs under expansion bits. It could easily be accommodated by a mandatory chunk, though. (Easiest thing that comes to mind is just embed a whole second NSF in the chunk. Inception?) Implementing it, on the other hand, will probably be an ordeal...</div>You must be thinking of the arcade version of Donkey Kong 3, which has two 2A03 CPUs each with their own sound core,when you suggest a second NSF. I was thinking of the OneBus games, which have just one CPU that has <a href="https://wiki.nesdev.com/w/index.php/VT02%2B_Sound" class="postlink">a second set of APU channels</a>. Surely an expansion bit would be practical for those.</div><br />Ah, I was not aware of OneBus. (How many games is this?) Sure that's a possible expansion bit I suppose. I thought you were talking about either something like DK3 or just having two synchronized NES' (which I've seen people do in the past as well), so maybe again that's a separate possibility.<br /><br /><div class="quotetitle">NewRisingSun wrote:</div><div class="quotecontent">I should mention that I would gladly volunteer to make NSFs from the games using these configurations, so you would have something to test with.</div><br />Sure. New expansions aren't really a priority to me and I've got a bunch of tasks that I would put ahead of this stuff, but if you make the NSFs and can point me to a good spec for emulating something, I'd be happy to implement them when I have a chance.<br /><br />I could really use a YM2413 for testing though. <img src="./images/smilies/icon_sad.gif" alt=":(" title="Sad" /> I'm about to rewrite the VRC7 and 5B emulation from scratch for NSFPlay. Every expansion chip that NSFPlay implements is something I've been able to verify and test first-hand, but once we start adding new stuff this isn't true anymore...</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=5165"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p224317"></a>
				<b class="postauthor">lidnariq</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p224317">Re: NSF Extensions, NSF2 and NSFe (2018)</a></div><div style="float: right;"><a href="./viewtopic.php?p=224317#p224317"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sun Aug 26, 2018 10:36 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Apr 13, 2008 11:12 am<br /><b>Posts:</b> 8171<br /><b>Location:</b> Seattle
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">rainwarrior wrote:</div><div class="quotecontent">Technically the Karaoke cart itself doesn't even use the expansion audio feedback though, right?<br /></div>It does return the YM2413 audio to the Famicom's RF modulator, but it blocks audio from the 2A03, so there's ... pedantically ... a balance of +âˆž dB :/</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3512"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p224322"></a>
				<b class="postauthor">NewRisingSun</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p224322">Re: NSF Extensions, NSF2 and NSFe (2018)</a></div><div style="float: right;"><a href="./viewtopic.php?p=224322#p224322"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sun Aug 26, 2018 10:53 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Thu May 19, 2005 11:30 am<br /><b>Posts:</b> 880
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">rainwarrior wrote:</div><div class="quotecontent">Yes those are two separate things. One could use an expansion bit, the other I think not.</div>Yes, keep the YM2413 at $6000/$6001 only. It makes the spec cleaner, and those few NSFs that wrote to $9010/$9030 for YM2413 (the VRC7 interface) would need to have their address writes modified. No reason to directly accomodate them --- I view them similarly to those N163 NSFs that play several octaves too low on accurate N163 audio emulators.<br /><div class="quotetitle">rainwarrior wrote:</div><div class="quotecontent">Technically the Karaoke cart itself doesn't even use the expansion audio feedback though, right?</div>Right, although for multiple-chip possibilities I would not put that into the NSF spec.<br /><div class="quotetitle">rainwarrior wrote:</div><div class="quotecontent">I was not aware of OneBus. (How many games is this?)</div>If you count all multicart games as separate ones, hundreds, but only twenty or so use the additional sound channel.<br /><div class="quotetitle">rainwarrior wrote:</div><div class="quotecontent">but if you make the NSFs and can point me to a good spec for emulating something, I'd be happy to implement them when I have a chance.</div>Then I'll get to it. I can add preliminary support to NintendulatorNRS and provide the source. (I already took the liberty of using your FDS emulation core. <img src="./images/smilies/icon_wink.gif" alt=";)" title="Wink" />)<br /><div class="quotetitle">rainwarrior wrote:</div><div class="quotecontent">I could really use a YM2413 for testing though.</div>Technically, the Karaoke cartridge uses an unlicensed clone of the YM2413, though no sound differences have been discovered.<br /><br />On a related note, I will have a request for optional even cleaner-than-original-sounding N163 emulation at some point, and can provide source code from NintendulatorNRS for that.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=133"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table width="100%" cellspacing="1" class="tablebg">
	<tr align="center">
		<td class="cat"><form name="viewtopic" method="post" action="./viewtopic.php?f=6&amp;t=17704"><span class="gensmall">Display posts from previous:</span> <select name="st" id="st"><option value="0" selected="selected">All posts</option><option value="1">1 day</option><option value="7">7 days</option><option value="14">2 weeks</option><option value="30">1 month</option><option value="90">3 months</option><option value="180">6 months</option><option value="365">1 year</option></select>&nbsp;<span class="gensmall">Sort by</span> <select name="sk" id="sk"><option value="a">Author</option><option value="t" selected="selected">Post time</option><option value="s">Subject</option></select> <select name="sd" id="sd"><option value="a" selected="selected">Ascending</option><option value="d">Descending</option></select>&nbsp;<input class="btnlite" type="submit" value="Go" name="sort" /></form></td>
	</tr>
	</table>
	

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=6"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=6&amp;t=17704"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>1</strong> of <strong>6</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 85 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"><b><a href="#" onclick="jumpto(); return false;" title="Click to jump to pageâ€¦">Go to page</a> <strong>1</strong><span class="page-sep">, </span><a href="./viewtopic.php?f=6&amp;t=17704&amp;start=15">2</a><span class="page-sep">, </span><a href="./viewtopic.php?f=6&amp;t=17704&amp;start=30">3</a><span class="page-sep">, </span><a href="./viewtopic.php?f=6&amp;t=17704&amp;start=45">4</a><span class="page-sep">, </span><a href="./viewtopic.php?f=6&amp;t=17704&amp;start=60">5</a><span class="page-sep">, </span><a href="./viewtopic.php?f=6&amp;t=17704&amp;start=75">6</a> &nbsp;<a href="./viewtopic.php?f=6&amp;t=17704&amp;start=15">Next</a></b></td>
		
	</tr>
	</table>

</div>

<div id="pagefooter"></div>

<br clear="all" />
<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=24">NES / Famicom</a> &#187; <a href="./viewforum.php?f=6">NES Music</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>
	<br clear="all" />

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat"><h4>Who is online</h4></td>
	</tr>
	<tr>
		<td class="row1"><p class="gensmall">Users browsing this forum: No registered users and 4 guests</p></td>
	</tr>
	</table>


<br clear="all" />

<table width="100%" cellspacing="1">
<tr>
	<td width="40%" valign="top" nowrap="nowrap" align="left"></td>
	<td align="right" valign="top" nowrap="nowrap"><span class="gensmall">You <strong>cannot</strong> post new topics in this forum<br />You <strong>cannot</strong> reply to topics in this forum<br />You <strong>cannot</strong> edit your posts in this forum<br />You <strong>cannot</strong> delete your posts in this forum<br />You <strong>cannot</strong> post attachments in this forum<br /></span></td>
</tr>
</table>

<br clear="all" />

<table width="100%" cellspacing="0">
<tr>
	<td><form method="get" name="search" action="./search.php"><span class="gensmall">Search for:</span> <input class="post" type="text" name="keywords" size="20" /> <input class="btnlite" type="submit" value="Go" /><input type="hidden" name="t" value="17704" />
<input type="hidden" name="sf" value="msgonly" />
</form></td>
	<td align="right">
	<form method="post" name="jumpbox" action="./viewforum.php" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	<table cellspacing="0" cellpadding="0" border="0">
	<tr>
		<td nowrap="nowrap"><span class="gensmall">Jump to:</span>&nbsp;<select name="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">

		
			<option value="-1">Select a forum</option>
		<option value="-1">------------------</option>
			<option value="24">NES / Famicom</option>
		
			<option value="2">&nbsp; &nbsp;NESdev</option>
		
			<option value="3">&nbsp; &nbsp;NESemdev</option>
		
			<option value="21">&nbsp; &nbsp;NES Graphics</option>
		
			<option value="6" selected="selected">&nbsp; &nbsp;NES Music</option>
		
			<option value="22">&nbsp; &nbsp;Homebrew Projects</option>
		
			<option value="34">&nbsp; &nbsp;&nbsp; &nbsp;2018 NESdev Competition</option>
		
			<option value="33">&nbsp; &nbsp;&nbsp; &nbsp;2017 NESdev Competition</option>
		
			<option value="32">&nbsp; &nbsp;&nbsp; &nbsp;2016 NESdev Competition</option>
		
			<option value="31">&nbsp; &nbsp;&nbsp; &nbsp;2014 NESdev Competition</option>
		
			<option value="30">&nbsp; &nbsp;&nbsp; &nbsp;2011 NESdev Competition</option>
		
			<option value="10">&nbsp; &nbsp;Newbie Help Center</option>
		
			<option value="9">&nbsp; &nbsp;NES Hardware and Flash Equipment</option>
		
			<option value="28">&nbsp; &nbsp;&nbsp; &nbsp;Reproduction</option>
		
			<option value="19">&nbsp; &nbsp;NESdev International</option>
		
			<option value="11">&nbsp; &nbsp;&nbsp; &nbsp;FCdev</option>
		
			<option value="18">&nbsp; &nbsp;&nbsp; &nbsp;NESdev China</option>
		
			<option value="27">&nbsp; &nbsp;&nbsp; &nbsp;NESdev Middle East</option>
		
			<option value="25">Other</option>
		
			<option value="5">&nbsp; &nbsp;General Stuff</option>
		
			<option value="4">&nbsp; &nbsp;Membler Industries</option>
		
			<option value="23">&nbsp; &nbsp;Other Retro Dev</option>
		
			<option value="12">&nbsp; &nbsp;&nbsp; &nbsp;SNESdev</option>
		
			<option value="20">&nbsp; &nbsp;&nbsp; &nbsp;GBDev</option>
		
			<option value="15">&nbsp; &nbsp;Test Forum</option>
		
			<option value="26">Site Issues</option>
		
			<option value="13">&nbsp; &nbsp;phpBB Issues</option>
		
			<option value="14">&nbsp; &nbsp;Web Issues</option>
		
			<option value="16">&nbsp; &nbsp;nesdevWiki</option>
		

		</select>&nbsp;<input class="btnlite" type="submit" value="Go" /></td>
	</tr>
	</table>

	</form>
</td>
</tr>
</table>


</div>


<div id="wrapfooter">
	
	<span class="copyright">Powered by <a href="http://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Group
	</span>
</div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-61452025-2', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>