<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="http://forums.nesdev.com/feed.php?f=3&amp;t=4891" />

<title>nesdev.com</title>
<subtitle>NES Development and Strangulation Records message boards</subtitle>
<link href="http://forums.nesdev.com/index.php" />
<updated>2009-03-09T19:20:39-07:00</updated>

<author><name><![CDATA[nesdev.com]]></name></author>
<id>http://forums.nesdev.com/feed.php?f=3&amp;t=4891</id>
<entry>
<author><name><![CDATA[Banshaku]]></name></author>
<updated>2009-03-09T19:20:39-07:00</updated>
<published>2009-03-09T19:20:39-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4891&amp;p=44081#p44081</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4891&amp;p=44081#p44081"/>
<title type="html"><![CDATA[Super Mario Brother Infinite Loop at: LDA $2000, BPL ....]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4891&amp;p=44081#p44081"><![CDATA[
<div class="quotetitle">tepples wrote:</div><div class="quotecontent"><br />The one downside: Standard 6502 asm syntax uses () both for expression grouping and for indirect addressing modes. If you overparenthesize an expression, something that evaluates to lda $45,y becomes lda ($45),y.<br /></div><br /><br />I kind of knew you were going to comment on this <img src="http://forums.nesdev.com/images/smilies/icon_smile.gif" alt=":)" title="Smile" />  Of course, you must apply your judgment on a case by case basic.  My comment was mostly for high level languages like C/C++/Java/c#/vb/vba etc.  and especially when you have to supervise a group of junior in your company  <img src="http://forums.nesdev.com/images/smilies/icon_wink.gif" alt=":wink:" title="Wink" />.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3559">Banshaku</a> — Mon Mar 09, 2009 7:20 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2009-03-09T18:38:32-07:00</updated>
<published>2009-03-09T18:38:32-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4891&amp;p=44079#p44079</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4891&amp;p=44079#p44079"/>
<title type="html"><![CDATA[Super Mario Brother Infinite Loop at: LDA $2000, BPL ....]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4891&amp;p=44079#p44079"><![CDATA[
<div class="quotetitle">Banshaku wrote:</div><div class="quotecontent"><br />The moral about this story (operator precedence) is that you should not rely on them and put parenthesis to clarify what you want to do.<br /></div><br />The one downside: Standard 6502 asm syntax uses () both for expression grouping and for indirect addressing modes. If you overparenthesize an expression, something that evaluates to lda $45,y becomes lda ($45),y.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Mon Mar 09, 2009 6:38 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Banshaku]]></name></author>
<updated>2009-03-09T18:20:10-07:00</updated>
<published>2009-03-09T18:20:10-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4891&amp;p=44077#p44077</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4891&amp;p=44077#p44077"/>
<title type="html"><![CDATA[Super Mario Brother Infinite Loop at: LDA $2000, BPL ....]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4891&amp;p=44077#p44077"><![CDATA[
The moral about this story (operator precedence) is that you should not rely on them and put parenthesis to clarify what you want to do.  <br /><br />Those are the kind of mistake you can search for a while because at first sight the code seems right but doesn't do what you expect.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3559">Banshaku</a> — Mon Mar 09, 2009 6:20 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[dreampeppers99]]></name></author>
<updated>2009-03-09T10:05:51-07:00</updated>
<published>2009-03-09T10:05:51-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4891&amp;p=44061#p44061</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4891&amp;p=44061#p44061"/>
<title type="html"><![CDATA[Super Mario Brother Infinite Loop at: LDA $2000, BPL ....]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4891&amp;p=44061#p44061"><![CDATA[
<div class="quotetitle">koitsu wrote:</div><div class="quotecontent"><br />Wow, I could've sworn shifting had a significantly higher priority than addition, but Disch has corrected me, as have you with your Java reference, finally to boot <a href="http://en.wikipedia.org/wiki/Operators_in_C_and_C%2B%2B#Operator_precedence" class="postlink">Wikipedia</a>.<br /><br />I was completely and totally wrong, and I apologise for my criticism on that part.<br /></div><br />No man, you don't need to apologise!<br />all the criticisme and errors! (they make me better)<br />Thanks<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=912">dreampeppers99</a> — Mon Mar 09, 2009 10:05 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[koitsu]]></name></author>
<updated>2009-03-09T10:03:44-07:00</updated>
<published>2009-03-09T10:03:44-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4891&amp;p=44060#p44060</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4891&amp;p=44060#p44060"/>
<title type="html"><![CDATA[Super Mario Brother Infinite Loop at: LDA $2000, BPL ....]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4891&amp;p=44060#p44060"><![CDATA[
Wow, I could've sworn shifting had a significantly higher priority than addition, but Disch has corrected me, as have you with your Java reference, finally to boot <a href="http://en.wikipedia.org/wiki/Operators_in_C_and_C%2B%2B#Operator_precedence" class="postlink">Wikipedia</a>.<br /><br />I was completely and totally wrong, and I apologise for my criticism on that part.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3">koitsu</a> — Mon Mar 09, 2009 10:03 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[dreampeppers99]]></name></author>
<updated>2009-03-09T10:00:13-07:00</updated>
<published>2009-03-09T10:00:13-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4891&amp;p=44059#p44059</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4891&amp;p=44059#p44059"/>
<title type="html"><![CDATA[Super Mario Brother Infinite Loop at: LDA $2000, BPL ....]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4891&amp;p=44059#p44059"><![CDATA[
<!-- m --><a class="postlink" href="http://java.sun.com/docs/books/tutorial/java/nutsandbolts/operators.html">http://java.sun.com/docs/books/tutorial ... ators.html</a><!-- m --><br /><br />Precedence:<br /><strong>+ - <br />&gt;&gt; &lt;&lt; </strong><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=912">dreampeppers99</a> — Mon Mar 09, 2009 10:00 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[dreampeppers99]]></name></author>
<updated>2009-03-09T10:03:47-07:00</updated>
<published>2009-03-09T09:56:47-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4891&amp;p=44058#p44058</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4891&amp;p=44058#p44058"/>
<title type="html"><![CDATA[Super Mario Brother Infinite Loop at: LDA $2000, BPL ....]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4891&amp;p=44058#p44058"><![CDATA[
<div class="quotetitle">Disch wrote:</div><div class="quotecontent"><br /><div class="quotetitle">koitsu wrote:</div><div class="quotecontent">I can assure you that cpu.programCounter + 2 &gt;&gt; 8 is flat out wrong.  Did anyone teach you order of operation?<br /></div><br /><br />I wasn't sure about this myself... so I looked it up on MSDN and apparently the precedence is right (addition operator + has higher precedence than right-shift operator &gt;&gt;) -- in C++ anyway.  I don't know whether or not it's the same in Java.<br /><br />Though I do see other errors -- like mismatching parenthesis.</div><br /><br />You're rigth in Java Too <br /><!-- m --><a class="postlink" href="http://java.sun.com/docs/books/tutorial/java/nutsandbolts/operators.html">http://java.sun.com/docs/books/tutorial ... ators.html</a><!-- m --><br /><br /> <img src="http://forums.nesdev.com/images/smilies/icon_rolleyes.gif" alt=":roll:" title="Rolling Eyes" />  and about the errors [ (()) ] ! Thanks l'll try to correct them!<br />All are silly errors.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=912">dreampeppers99</a> — Mon Mar 09, 2009 9:56 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[dreampeppers99]]></name></author>
<updated>2009-03-09T10:01:38-07:00</updated>
<published>2009-03-09T09:53:28-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4891&amp;p=44057#p44057</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4891&amp;p=44057#p44057"/>
<title type="html"><![CDATA[Super Mario Brother Infinite Loop at: LDA $2000, BPL ....]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4891&amp;p=44057#p44057"><![CDATA[
<div class="quotetitle">koitsu wrote:</div><div class="quotecontent"><br />Your Java code can't be right.  I'm staring at it and see two errors right off the bat (well, one error for sure, the other depends on what your program is really doing with cpu.programCounter).<br /><br />I can assure you that cpu.programCounter + 2 &gt;&gt; 8 is flat out wrong.  Did anyone teach you order of operation?<br /><br />I don't think anyone on this forum is going to sit here and write your entire program for you.  Most people here won't sift through lines of actual code, but WILL sift through questions about the 6502 arch, as well as sift through emulator problems that you can describe generally.<br /><br />Meaning: no one has any idea what your variables and structs actually do or what's in them when the code is run, so debugging that piece is entirely your responsibility.  <img src="http://forums.nesdev.com/images/smilies/icon_smile.gif" alt=":-)" title="Smile" /><br /><br />EDIT: I think you could clear up most of your architecture misconceptions if you took some time to <a href="http://www.65xx.com/wdc/documentation/w65c02s.pdf" class="postlink">read this</a>, though be sure to note it's for the 65C02, so there are some opcodes which the NES does not have (6502 != 65C02).  <a href="http://www.obelisk.demon.co.uk/6502/reference.html#JSR" class="postlink">This</a> might also help you (be sure to read RTS as well).  If none of those make any sense, <a href="http://www.cyberroach.com/analog/an21/boot_camp.htm" class="postlink">try this</a>.<br /></div><br /><br />"Did anyone teach you order of operation?<br />I don't think anyone on this forum is going to sit here and write your entire program for you."<br /><br />Me too (I'd never tell this) ! <br />The pleasure to make it is MAKE IT.<br />And about of order of  operation... that's sure I know, you could imagine: "A guy trying to write an emulator... humm that doesn't know this... " :S <br />What you think? <br /><br />PRECEDENCE IN JAVA<br /><!-- m --><a class="postlink" href="http://java.sun.com/docs/books/tutorial/java/nutsandbolts/operators.html">http://java.sun.com/docs/books/tutorial ... ators.html</a><!-- m --><br /><br />Thanks for links. (I realy want help not that someone sit and write the entyre emulator)<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=912">dreampeppers99</a> — Mon Mar 09, 2009 9:53 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Disch]]></name></author>
<updated>2009-03-09T08:54:56-07:00</updated>
<published>2009-03-09T08:54:56-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4891&amp;p=44055#p44055</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4891&amp;p=44055#p44055"/>
<title type="html"><![CDATA[Super Mario Brother Infinite Loop at: LDA $2000, BPL ....]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4891&amp;p=44055#p44055"><![CDATA[
<div class="quotetitle">koitsu wrote:</div><div class="quotecontent"><br />I can assure you that cpu.programCounter + 2 &gt;&gt; 8 is flat out wrong.  Did anyone teach you order of operation?<br /></div><br /><br />I wasn't sure about this myself... so I looked it up on MSDN and apparently the precedence is right (addition operator + has higher precedence than right-shift operator &gt;&gt;) -- in C++ anyway.  I don't know whether or not it's the same in Java.<br /><br />Though I do see other errors -- like mismatching parenthesis.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=33">Disch</a> — Mon Mar 09, 2009 8:54 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[koitsu]]></name></author>
<updated>2009-03-09T08:55:22-07:00</updated>
<published>2009-03-09T08:48:06-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4891&amp;p=44054#p44054</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4891&amp;p=44054#p44054"/>
<title type="html"><![CDATA[Super Mario Brother Infinite Loop at: LDA $2000, BPL ....]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4891&amp;p=44054#p44054"><![CDATA[
Your Java code can't be right.  I'm staring at it and see two errors right off the bat (well, one error for sure, the other depends on what your program is really doing with cpu.programCounter).<br /><br />I can assure you that cpu.programCounter + 2 &gt;&gt; 8 is flat out wrong.  Did anyone teach you order of operation?<br /><br />I don't think anyone on this forum is going to sit here and write your entire program for you.  Most people here won't sift through lines of actual code, but WILL sift through questions about the 6502 arch, as well as sift through emulator problems that you can describe generally.<br /><br />Meaning: no one has any idea what your variables and structs actually do or what's in them when the code is run, so debugging that piece is entirely your responsibility.  :-)<br /><br />EDIT: I think you could clear up most of your architecture misconceptions if you took some time to <a href="http://www.65xx.com/wdc/documentation/w65c02s.pdf" class="postlink">read this</a>, though be sure to note it's for the 65C02, so there are some opcodes which the NES does not have (6502 != 65C02).  <a href="http://www.obelisk.demon.co.uk/6502/reference.html#JSR" class="postlink">This</a> might also help you (be sure to read RTS as well).  If none of those make any sense, <a href="http://www.cyberroach.com/analog/an21/boot_camp.htm" class="postlink">try this</a>.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=3">koitsu</a> — Mon Mar 09, 2009 8:48 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[dreampeppers99]]></name></author>
<updated>2009-03-09T05:15:21-07:00</updated>
<published>2009-03-09T05:15:21-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4891&amp;p=44053#p44053</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4891&amp;p=44053#p44053"/>
<title type="html"><![CDATA[Super Mario Brother Infinite Loop at: LDA $2000, BPL ....]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4891&amp;p=44053#p44053"><![CDATA[
I made JSR like that:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">    public void interpret&#40;&#41; &#123;<br />        cpu.push&#40;cpu.programCounter + 2 &gt;&gt; 8&#41; &amp; 0xFF&#41;;<br />        cpu.push&#40;cpu.programCounter + 2 &amp; 0xFF&#41;;<br />        cpu.programCounter = getAbsoluteAddress&#40;&#41;;<br />    &#125;</div><br /><br />And RTS like that:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">    public void interpret&#40;&#41; &#123;<br />        cpu.programCounter = cpu.pull&#40;&#41;;<br />        cpu.programCounter += &#40;cpu.pull&#40;&#41; &lt;&lt; 8&#41;;<br />        cpu.programCounter++;<br />        cpu.programCounter &amp;= 0xFFFF;<br />    &#125;</div><p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=912">dreampeppers99</a> — Mon Mar 09, 2009 5:15 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tokumaru]]></name></author>
<updated>2009-03-07T19:41:37-07:00</updated>
<published>2009-03-07T19:41:37-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4891&amp;p=44003#p44003</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4891&amp;p=44003#p44003"/>
<title type="html"><![CDATA[Super Mario Brother Infinite Loop at: LDA $2000, BPL ....]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4891&amp;p=44003#p44003"><![CDATA[
<div class="quotetitle">dreampeppers99 wrote:</div><div class="quotecontent"><br />Now I should execute the 8D (STA $xxxx)?<br /></div><br />In this case, yes, the $8D will probably be executed after the RTS, but you shouldn't count on it. Typically, a program will call subroutines (JSR) and return from them (RTS), but assembly is a very free language, and somewhere between the execution of those instruction the stack could be manipulated, in which case the RTS would jump to somewhere else, away from that $8D.<br /><br />Just simulate the instructions based on what they actually do. JSR stores the return address to the stack and jumps to the specified location. RTS retrieves an address from the stack and jumps to it. If you simulate it that way, you don't have to worry about nasty stack manipulation tricks, because your emulator will be doing exactly what the 6502 does.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=95">tokumaru</a> — Sat Mar 07, 2009 7:41 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[dreampeppers99]]></name></author>
<updated>2009-03-07T17:39:38-07:00</updated>
<published>2009-03-07T17:39:38-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4891&amp;p=43997#p43997</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4891&amp;p=43997#p43997"/>
<title type="html"><![CDATA[Super Mario Brother Infinite Loop at: LDA $2000, BPL ....]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4891&amp;p=43997#p43997"><![CDATA[
<div class="quotetitle">tepples wrote:</div><div class="quotecontent"><br />You could always try <a href="http://pineight.com/nes/#t" class="postlink">Tetramino</a>.<br /></div><br />Thanks so much, I'll use that! which document you could indicate me to PPU ('til now I just mock the PPU behavior) ? (can be a set of best oneS)<br /><br />And by the way: I have this sequence on memory:<br />20 CC 90 8D<br /><br />It means: JSR 90CC;<br />..<br />..<br />..<br />RTS; after execute subrotine...<br />Now I should execute the 8D (STA $xxxx)?<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=912">dreampeppers99</a> — Sat Mar 07, 2009 5:39 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[tepples]]></name></author>
<updated>2009-03-07T15:13:08-07:00</updated>
<published>2009-03-07T15:13:08-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4891&amp;p=43989#p43989</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4891&amp;p=43989#p43989"/>
<title type="html"><![CDATA[Super Mario Brother Infinite Loop at: LDA $2000, BPL ....]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4891&amp;p=43989#p43989"><![CDATA[
You could always try <a href="http://pineight.com/nes/#t" class="postlink">Tetramino</a>.<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=9">tepples</a> — Sat Mar 07, 2009 3:13 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[dreampeppers99]]></name></author>
<updated>2009-03-07T13:45:39-07:00</updated>
<published>2009-03-07T13:45:39-07:00</published>
<id>http://forums.nesdev.com/viewtopic.php?t=4891&amp;p=43980#p43980</id>
<link href="http://forums.nesdev.com/viewtopic.php?t=4891&amp;p=43980#p43980"/>
<title type="html"><![CDATA[Super Mario Brother Infinite Loop at: LDA $2000, BPL ....]]></title>

<content type="html" xml:base="http://forums.nesdev.com/viewtopic.php?t=4891&amp;p=43980#p43980"><![CDATA[
The homebrew PONG.nes doesn't works...  <img src="http://forums.nesdev.com/images/smilies/icon_lol.gif" alt=":lol:" title="Laughing" />  rsrsr I've tried it on real and good emulators and nothing happening... <br />Did you have one game like pong (without mapper) and source?<br />[because use super mario is good but the game is "big" to debug]<p>Statistics: Posted by <a href="http://forums.nesdev.com/memberlist.php?mode=viewprofile&amp;u=912">dreampeppers99</a> — Sat Mar 07, 2009 1:45 pm</p><hr />
]]></content>
</entry>
</feed>