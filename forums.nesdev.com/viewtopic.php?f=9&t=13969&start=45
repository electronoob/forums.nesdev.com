<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<link rel="icon" href="/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />

<title>nesdev.com &bull; View topic - Fong Shen Bang - Zhu Lu Zhi Zhan (Mapper 246)(Solved)</title>

<link rel="alternate" type="application/atom+xml" title="Feed - nesdev.com" href="http://forums.nesdev.com/feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - News" href="http://forums.nesdev.com/feed.php?mode=news" /><link rel="alternate" type="application/atom+xml" title="Feed - All forums" href="http://forums.nesdev.com/feed.php?mode=forums" /><link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="http://forums.nesdev.com/feed.php?mode=topics" /><link rel="alternate" type="application/atom+xml" title="Feed - Active Topics" href="http://forums.nesdev.com/feed.php?mode=topics_active" /><link rel="alternate" type="application/atom+xml" title="Feed - Forum - NES Hardware and Flash Equipment" href="http://forums.nesdev.com/feed.php?f=9" /><link rel="alternate" type="application/atom+xml" title="Feed - Topic - Fong Shen Bang - Zhu Lu Zhi Zhan (Mapper 246)(Solved)" href="http://forums.nesdev.com/feed.php?f=9&amp;t=13969" />

<link rel="stylesheet" href="./style.php?id=1&amp;lang=en" type="text/css" />

<script type="text/javascript">
// <![CDATA[


function popup(url, width, height, name)
{
	if (!name)
	{
		name = '_popup';
	}

	window.open(url.replace(/&amp;/g, '&'), name, 'height=' + height + ',resizable=yes,scrollbars=yes,width=' + width);
	return false;
}

function jumpto()
{
	var page = prompt('Enter the page number you wish to go to:', '4');
	var per_page = '15';
	var base_url = './viewtopic.php?f=9&amp;t=13969';

	if (page !== null && !isNaN(page) && page == Math.floor(page) && page > 0)
	{
		if (base_url.indexOf('?') == -1)
		{
			document.location.href = base_url + '?start=' + ((page - 1) * per_page);
		}
		else
		{
			document.location.href = base_url.replace(/&amp;/g, '&') + '&start=' + ((page - 1) * per_page);
		}
	}
}

/**
* Find a member
*/
function find_username(url)
{
	popup(url, 760, 570, '_usersearch');
	return false;
}

/**
* Mark/unmark checklist
* id = ID of parent container, name = name prefix, state = state [true/false]
*/
function marklist(id, name, state)
{
	var parent = document.getElementById(id);
	if (!parent)
	{
		eval('parent = document.' + id);
	}

	if (!parent)
	{
		return;
	}

	var rb = parent.getElementsByTagName('input');
	
	for (var r = 0; r < rb.length; r++)
	{
		if (rb[r].name.substr(0, name.length) == name)
		{
			rb[r].checked = state;
		}
	}
}



	/**
	* Play quicktime file by determining it's width/height
	* from the displayed rectangle area
	*
	* Only defined if there is a file block present.
	*/
	function play_qt_file(obj)
	{
		var rectangle = obj.GetRectangle();

		if (rectangle)
		{
			rectangle = rectangle.split(',')
			var x1 = parseInt(rectangle[0]);
			var x2 = parseInt(rectangle[2]);
			var y1 = parseInt(rectangle[1]);
			var y2 = parseInt(rectangle[3]);

			var width = (x1 < 0) ? (x1 * -1) + x2 : x2 - x1;
			var height = (y1 < 0) ? (y1 * -1) + y2 : y2 - y1;
		}
		else
		{
			var width = 200;
			var height = 0;
		}

		obj.width = width;
		obj.height = height + 16;

		obj.SetControllerVisible(true);

		obj.Play();
	}


// ]]>
</script>
</head>
<body class="ltr">

<a name="top"></a>

<div id="wrapheader">

	<div id="logodesc">
	</div>

	<div id="menubar">

		<table width="100%" cellspacing="0">
		<tr>
			<td rowspan="2"><a href="./index.php"><img src="./styles/subsilver2/imageset/site_logo.gif" alt="" title="" /></a></td>
			<td width="100%" align="center"><h1>nesdev.com</h1><span class="gen">NES Development and Strangulation Records message boards</span></td>
		</tr>
		<tr>
			<td align="center">
				<!--<div style="float: right;">
					<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
					<input type="hidden" name="cmd" value="_s-xclick">
					<input type="hidden" name="hosted_button_id" value="X2HM4WNR5YT8S">
					<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
					<img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
					</form>
				</div>-->
				<a href="./faq.php"><img src="./styles/prosilver/theme/images/icon_mini_faq.gif" width="12" height="13" alt="*" /> FAQ</a>
				&nbsp; &nbsp;<a href="./search.php"><img src="./styles/prosilver/theme/images/icon_mini_search.gif" width="12" height="13" alt="*" /> Search</a>
				<br />	
				 &nbsp;<a href="./ucp.php?mode=minion"><img src="./styles/prosilver/theme/images/icon_mini_register.gif" width="12" height="13" alt="*" /> Register</a>
					&nbsp; &nbsp;<a href="./ucp.php?mode=login"><img src="./styles/prosilver/theme/images/icon_mini_login.gif" width="12" height="13" alt="*" /> Login</a>&nbsp;
			</td>
		</tr>
		</table>
	</div>

	<div id="datebar">
		<table width="100%" cellspacing="0">
		<tr>
			<td class="gensmall"></td>
			<td class="gensmall" align="right">It is currently Fri Aug 17, 2018 12:04 am<br /></td>
		</tr>
		</table>
	</div>

</div>

<div id="wrapcentre">

	
	<p class="searchbar">
		<span style="float: left;"><a href="./search.php?search_id=unanswered">View unanswered posts</a> | <a href="./search.php?search_id=active_topics">View active topics</a></span>
		
	</p>
	

	<br style="clear: both;" />

	<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=24">NES / Famicom</a> &#187; <a href="./viewforum.php?f=9">NES Hardware and Flash Equipment</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>

	<br />
	

					<center>
					<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- NesDev Forums -->
					<ins class="adsbygoogle"
						 style="display:block"
						 data-ad-client="ca-pub-7801010229099644"
						 data-ad-slot="7979066809"
						 data-ad-format="auto"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>
					</center>
	<br />


<div id="pageheader">
	<h2><a class="titles" href="./viewtopic.php?f=9&amp;t=13969&amp;start=45">Fong Shen Bang - Zhu Lu Zhi Zhan (Mapper 246)(Solved)</a></h2>


	<p class="moderators">Moderators: <a href="./memberlist.php?mode=viewprofile&amp;u=3466">B00daW</a>, <a href="./memberlist.php?mode=group&amp;g=320">Moderators</a></p>

</div>

<br clear="all" /><br />

<div id="pagecontent">

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=9"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=9&amp;t=13969"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>4</strong> of <strong>6</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 85 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"><b><a href="#" onclick="jumpto(); return false;" title="Click to jump to page…">Go to page</a> <a href="./viewtopic.php?f=9&amp;t=13969&amp;start=30">Previous</a>&nbsp;&nbsp;<a href="./viewtopic.php?f=9&amp;t=13969">1</a><span class="page-sep">, </span><a href="./viewtopic.php?f=9&amp;t=13969&amp;start=15">2</a><span class="page-sep">, </span><a href="./viewtopic.php?f=9&amp;t=13969&amp;start=30">3</a><span class="page-sep">, </span><strong>4</strong><span class="page-sep">, </span><a href="./viewtopic.php?f=9&amp;t=13969&amp;start=60">5</a><span class="page-sep">, </span><a href="./viewtopic.php?f=9&amp;t=13969&amp;start=75">6</a> &nbsp;<a href="./viewtopic.php?f=9&amp;t=13969&amp;start=60">Next</a></b></td>
		
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat">
			<table width="100%" cellspacing="0">
			<tr>
				<td class="nav" nowrap="nowrap">&nbsp;
				<a href="./viewtopic.php?f=9&amp;t=13969&amp;start=45&amp;view=print" title="Print view">Print view</a>
				</td>
				<td class="nav" align="right" nowrap="nowrap"><a href="./viewtopic.php?f=9&amp;t=13969&amp;view=previous">Previous topic</a> | <a href="./viewtopic.php?f=9&amp;t=13969&amp;view=next">Next topic</a>&nbsp;</td>
			</tr>
			</table>
		</td>
	</tr>

	</table>


	<table class="tablebg" width="100%" cellspacing="1">
	
		<tr>
			<th>Author</th>
			<th>Message</th>
		</tr>
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p166815"></a>
				<b class="postauthor">Ice Man</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p166815">Re: Fong Shen Bang - Zhu Lu Zhi Zhan (Mapper 246)</a></div><div style="float: right;"><a href="./viewtopic.php?p=166815#p166815"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Mar 25, 2016 9:07 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Jul 04, 2014 2:34 pm<br /><b>Posts:</b> 335<br /><b>Location:</b> Germany
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Yay, I was able to dump at least the PRG properly using this script&#058;<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">board &lt;- {<br />&nbsp; &nbsp; mappernum = 246,<br />&nbsp; &nbsp;cpu_rom = {<br />&nbsp; &nbsp;&nbsp; &nbsp;size_base = 4 * mega, size_max = 4 * mega, banksize = 0x2000<br />&nbsp; &nbsp;},<br />&nbsp; &nbsp;ppu_rom = {<br />&nbsp; &nbsp;&nbsp; &nbsp;size_base = 0, size_max = 0, banksize = 0x2000<br />&nbsp; &nbsp;},<br />&nbsp; &nbsp;ppu_ramfind = false, vram_mirrorfind = false<br />};<br /><br />function cpu_dump(d, pagesize, banksize)<br />{<br />&nbsp; &nbsp;for(local i = 0; i &lt; pagesize - 1; i += 1){<br />&nbsp; &nbsp; &nbsp; cpu_write(d, 0x6000, i);<br />&nbsp; &nbsp; &nbsp; cpu_read(d, 0x8000, banksize);<br />&nbsp; &nbsp;}<br />&nbsp; &nbsp;cpu_read(d, 0xc000, banksize);<br />}</div><br /><br />Opened the game in FCEUX and it works flawless, just CHR is missing.<br />If anyone could provide a script for CHR dumping then I can provide a full dump of this game.<br /><br />Also, I saw 2 differences between my game and the ROM I have (but that doesn't make any sense to me, probably just a table).<br /><br />Offset: 800C<br />Dump: 00 FF 00 FF<br />ROM: D0 FF D0 FF<br /><br />Other than that, everything was equal.<br /><br />EDIT: Added the missing CHR manually (copied from the ROM to my dump) and the game works without problems in an emulator. Still doesn't load on a original Famicom.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=6594"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p166823"></a>
				<b class="postauthor">lidnariq</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p166823">Re: Fong Shen Bang - Zhu Lu Zhi Zhan (Mapper 246)</a></div><div style="float: right;"><a href="./viewtopic.php?p=166823#p166823"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Mar 25, 2016 1:04 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Apr 13, 2008 11:12 am<br /><b>Posts:</b> 7391<br /><b>Location:</b> Seattle
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Well, the emulator definitions are conspicuously different from what your hardware does.<br /><br />Honestly, given Disch's documentation (and FCEUX's implementation), I'm surprised your hardware could possibly work at all; the ROM dump (since you say your dump is identical save for 2 bytes) is definitely writing to $6004-$6007 for CHR banking, not $6010-$6013. With the hardware as it seems to be, any CHR bank writes would erroneously change the PRG bank, leading to a crash.<br /><br />So ... how on earth does it work in a famiclone? I have absolutely no idea.<br /><br />I do think we could revise the GAL's fusemap to make it work. (We don't need CPU A4 or A5. Just CPU A6…A15 and A2).<br /><br />How easily could you get your hands on a replacement GAL? I understand Nocash's hesitancy to reprogram the only original instance we have of it, in case there's something we're forgetting.)</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3512"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p166824"></a>
				<b class="postauthor">Ice Man</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p166824">Re: Fong Shen Bang - Zhu Lu Zhi Zhan (Mapper 246)</a></div><div style="float: right;"><a href="./viewtopic.php?p=166824#p166824"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Mar 25, 2016 1:16 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Jul 04, 2014 2:34 pm<br /><b>Posts:</b> 335<br /><b>Location:</b> Germany
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Getting replacement GAL wouldn't be a problem at all. However, in case we do try this method I will desolder the original and use wires to connect it to the board since socketing does not work (no space left).</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=6594"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p166829"></a>
				<b class="postauthor">lidnariq</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p166829">Re: Fong Shen Bang - Zhu Lu Zhi Zhan (Mapper 246)</a></div><div style="float: right;"><a href="./viewtopic.php?p=166829#p166829"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Fri Mar 25, 2016 2:53 pm&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Apr 13, 2008 11:12 am<br /><b>Posts:</b> 7391<br /><b>Location:</b> Seattle
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">So, other than the confusingness between the registers that the program writes to relative to what is decoded, the other major difference has to do with PRG banking.<br /><br />Namely, 74'670 PRG low (A13…A16) /RE is tied to ground, i.e. it's always emitting. There's no funny high-impedance thing to make sure that the right bank is available when it boots; instead the 74'670 simply has to power on (at least on the famiclone) with its $E000 bank set appropriately.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3512"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p166876"></a>
				<b class="postauthor">nocash</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p166876">Re: Fong Shen Bang - Zhu Lu Zhi Zhan (Mapper 246)</a></div><div style="float: right;"><a href="./viewtopic.php?p=166876#p166876"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sat Mar 26, 2016 6:53 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Feb 24, 2012 12:09 pm<br /><b>Posts:</b> 602
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Hmmmm, that cartridge is still good for surprises and doesn't make sense.<br /><br /><div class="quotetitle">Ice Man wrote:</div><div class="quotecontent"><div class="codetitle"><b>Code:</b></div><div class="codecontent">function cpu_dump(d, pagesize, banksize)<br />{<br />&nbsp; &nbsp;for(local i = 0; i &lt; pagesize - 1; i += 1){<br />&nbsp; &nbsp; &nbsp; cpu_write(d, 0x6000, i);<br />&nbsp; &nbsp; &nbsp; cpu_read(d, 0x8000, banksize);<br />&nbsp; &nbsp;}<br />&nbsp; &nbsp;cpu_read(d, 0xc000, banksize);<br />}</div></div><br />Ah, so the &quot;pagesize&quot; parameter is apparently meaning &quot;number of banks&quot; (the total size divided by banksize).<br />The minus 1 in &quot;pagesize - 1&quot; is wrong (that will exclude the last bank).<br />The &quot;cpu_read(d, 0xc000, banksize)&quot; is also wrong (that will read random garbage; since 6002h wasn't initialzed).<br />Fixing that two issues, the function should look as so:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">function cpu_dump(d, pagesize, banksize)<br />{<br />&nbsp; &nbsp;for(local i = 0; i &lt; pagesize; i += 1){<br />&nbsp; &nbsp; &nbsp; cpu_write(d, 0x6000, i);<br />&nbsp; &nbsp; &nbsp; cpu_read(d, 0x8000, banksize);<br />&nbsp; &nbsp;}<br />}</div><br />Can you try that please? It should produce more reliable data in last 8Kbytes.<br />And then, to test the mapping behavious on the reset vector area, change 6000h/8000h to 6003h/E000h. Like this:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">function cpu_dump(d, pagesize, banksize)<br />{<br />&nbsp; &nbsp;for(local i = 0; i &lt; pagesize; i += 1){<br />&nbsp; &nbsp; &nbsp; cpu_write(d, 0x6003, i);<br />&nbsp; &nbsp; &nbsp; cpu_read(d, 0xe000, banksize);<br />&nbsp; &nbsp;}<br />}</div><br />That could/might reveal what the cartridge is mapping to the &quot;reset area&quot;.<br /><br /><div class="quotetitle">Ice Man wrote:</div><div class="quotecontent">Also, I saw 2 differences between my game and the ROM I have (but that doesn't make any sense to me, probably just a table).<br />Offset: 800C<br />Dump: 00 FF 00 FF<br />ROM: D0 FF D0 FF</div><br />That are the reset and irq/vectors in bank 3 (file offset 800Ch is PRG ROM offset 7FFCh) (in .NES files with 10h-byte header).<br />I would have assumed them to point to FFF0h, seeing them pointing to FF00h doesn't seem to make any sense.<br />But the cartridge is probably booting via reset vector in last bank (bank 63), so the weird vectors in bank 3 would have no effect.<br /><br />If there are no further differences between your dump and the ROM that you've compared it to, then I can't understand how the CHR mapping via 6004h..6007h could work with your GAL. Unless the &quot;ROM that you've compared it to&quot; didn't use 6004h..6007h either.<br />Can you try it in no$nes on windows/wine, and enter &quot;Ctrl+G, 0dab7&quot; and check if the disassembler shows this code:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">ROM2:DAB7 A5 25&nbsp; &nbsp; &nbsp; &nbsp; mov&nbsp; a,&#91;25&#93;<br />ROM2:DAB9 8D 04 60&nbsp; &nbsp; &nbsp;mov&nbsp; &#91;6004&#93;,a<br />ROM2:DABC A5 26&nbsp; &nbsp; &nbsp; &nbsp; mov&nbsp; a,&#91;26&#93;<br />ROM2:DABE 8D 05 60&nbsp; &nbsp; &nbsp;mov&nbsp; &#91;6005&#93;,a<br />ROM2:DAC1 A5 27&nbsp; &nbsp; &nbsp; &nbsp; mov&nbsp; a,&#91;27&#93;<br />ROM2:DAC3 8D 06 60&nbsp; &nbsp; &nbsp;mov&nbsp; &#91;6006&#93;,a<br />ROM2:DAC6 A5 28&nbsp; &nbsp; &nbsp; &nbsp; mov&nbsp; a,&#91;28&#93;<br />ROM2:DAC8 8D 07 60&nbsp; &nbsp; &nbsp;mov&nbsp; &#91;6007&#93;,a<br />ROM2:DACB 60&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ret</div><br />If it's containing the same code (with 6004, 6005, etc.) then you have a &quot;normal&quot; version of the game - which theoretically couldn't work with your GAL.<br /><br />And, one detail in the pinout: <span style="color: #00FF00">Pin 15 = SRAM R/W</span>. There's something wrong. There should be a CPU R/W signal on cart bus, and there should be /CE, CE2, /OE, and /WE signals on the SRAM chip. But something called &quot;SRAM R/W&quot; shouldn't exist. I suspect that Pin 15 might be wired to both CPU R/W and to SRAM /WE ?<br /><br />Using wires between PCB and GAL is a good idea. Then you could also attach a socket to the wires for swapping the chip more easily.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=5211"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p166878"></a>
				<b class="postauthor">Ice Man</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p166878">Re: Fong Shen Bang - Zhu Lu Zhi Zhan (Mapper 246)</a></div><div style="float: right;"><a href="./viewtopic.php?p=166878#p166878"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sat Mar 26, 2016 7:23 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Jul 04, 2014 2:34 pm<br /><b>Posts:</b> 335<br /><b>Location:</b> Germany
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Ok, so I dumped both PRGs one with 6000-8000 and one with 6003-E000 set (also attached them).<br /><br />Both display: <div class="codetitle"><b>Code:</b></div><div class="codecontent">ROM2:DAB7 A5 25&nbsp; &nbsp; &nbsp; &nbsp; mov&nbsp; a,&#91;25&#93;<br />ROM2:DAB9 8D 04 60&nbsp; &nbsp; &nbsp;mov&nbsp; &#91;6004&#93;,a<br />ROM2:DABC A5 26&nbsp; &nbsp; &nbsp; &nbsp; mov&nbsp; a,&#91;26&#93;<br />ROM2:DABE 8D 05 60&nbsp; &nbsp; &nbsp;mov&nbsp; &#91;6005&#93;,a<br />ROM2:DAC1 A5 27&nbsp; &nbsp; &nbsp; &nbsp; mov&nbsp; a,&#91;27&#93;<br />ROM2:DAC3 8D 06 60&nbsp; &nbsp; &nbsp;mov&nbsp; &#91;6006&#93;,a<br />ROM2:DAC6 A5 28&nbsp; &nbsp; &nbsp; &nbsp; mov&nbsp; a,&#91;28&#93;<br />ROM2:DAC8 8D 07 60&nbsp; &nbsp; &nbsp;mov&nbsp; &#91;6007&#93;,a<br />ROM2:DACB 60&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ret</div><br /><br />So I assume that's fine but the one with 6000-8000 still has the 2 bytes difference while the others has much more byte differences.<br /><br />As for Pin 15 of the GAL. It is only connected to SRAM /WE only. I don't know why I wrote SRAM R/W, my bad for that. Will correct that in the ASCII.</div>

					
						<br clear="all" /><br />

						<table class="tablebg" width="100%" cellspacing="1">
						<tr>
							<td class="row3"><b class="genmed">Attachments: </b></td>
						</tr>
						
							<tr>
								<td class="row2">
			<span class="genmed">
				<img src="./styles/subsilver2/imageset/icon_topic_attach.gif" width="14" height="18" alt="" title="" /> 
				<a href="./download/file.php?id=5319">Fong Shen Bang PRG Dumps.zip</a> [381.53 KiB]
			</span><br />
			<span class="gensmall">Downloaded 61 times</span>
		

		<br />
	</td>
							</tr>
						
						</table>
					

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=6594"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p166881"></a>
				<b class="postauthor">nocash</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p166881">Re: Fong Shen Bang - Zhu Lu Zhi Zhan (Mapper 246)</a></div><div style="float: right;"><a href="./viewtopic.php?p=166881#p166881"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sat Mar 26, 2016 8:23 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Feb 24, 2012 12:09 pm<br /><b>Posts:</b> 602
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">The differences in the dumps are interesting... and rather unexpected, as usually. If they are caused by /RE, then it looks as if A4 wouldn't be used in the /RE formula. And if /RE=HIGH would map the last bank, then the &quot;different bytes&quot; should be always taken from that bank, but they do look more random than constant.<br /><br />Okay, new theory: The GAL has more than 20pins? Some more pins that aren't visible on the photos? Or you have photographed the PCB from another cartridge, not the Fong Shen Bang one? Just kidding, but there's so much everything that doesn't make sense. Or the Famiclone has different cart edge pinouts than Famicom?<br /><br />The PCB photo DOES show a wire on the cart edge's CPU R/W pin. Are you sure that it isn't connected to the GAL? And if so, where else is that signal connected to? Also, GAL Pin15 should be an input, if it comes from SRAM /WE, then your SRAM would output something on it's /WE pin??? That's all looking like a weird joke, as if the manufacturer would have put fake part numbers on the chips.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=5211"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p166885"></a>
				<b class="postauthor">lidnariq</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p166885">Re: Fong Shen Bang - Zhu Lu Zhi Zhan (Mapper 246)</a></div><div style="float: right;"><a href="./viewtopic.php?p=166885#p166885"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sat Mar 26, 2016 9:20 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Sun Apr 13, 2008 11:12 am<br /><b>Posts:</b> 7391<br /><b>Location:</b> Seattle
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">So, given the connectivity Ice Man indicated, it <em>doesn't</em> map the last bank. It only selects some random bank from the upper 256 KiB of PRG.<br /><br />Which is utterly bewildering.<br /><br />Anyway, I'm tracing the photos now, on the unlikely chance that I discover anything.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=3512"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p166886"></a>
				<b class="postauthor">Ice Man</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p166886">Re: Fong Shen Bang - Zhu Lu Zhi Zhan (Mapper 246)</a></div><div style="float: right;"><a href="./viewtopic.php?p=166886#p166886"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sat Mar 26, 2016 9:41 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Jul 04, 2014 2:34 pm<br /><b>Posts:</b> 335<br /><b>Location:</b> Germany
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Pin 15 of the GAL is indeed connected to CPU R/W + SRAM /WE. Just measured again. Sorry about that.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=6594"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p166887"></a>
				<b class="postauthor">nocash</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p166887">Re: Fong Shen Bang - Zhu Lu Zhi Zhan (Mapper 246)</a></div><div style="float: right;"><a href="./viewtopic.php?p=166887#p166887"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sat Mar 26, 2016 9:52 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Feb 24, 2012 12:09 pm<br /><b>Posts:</b> 602
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">I am looking at the photos, too. Especially the resistors/diodes. Here's what I came up with:<br /><div class="attachtitle">Attachment:</div><div class="attachcontent">
			<a href="./download/file.php?id=5321&amp;mode=view"><img src="./download/file.php?id=5321&amp;t=1" alt="Mapper246.jpg" /></a><br />
			<span class="gensmall">Mapper246.jpg [ 27.5 KiB | Viewed 1806 times ]</span>
		

		<br />
	</div><br />The components in the schematic are arranged same way as on the PCB top-side photo.<br />Like the other stuff on that cartridge, the schematic is very simple, and looks as if could work (almost), but doesn't make ANY sense at closer look (exept in terms of producing confusion).<br /><br />The diode at the right side should prevent the (nonrechargeable) battery from being charged via NES VCC, the resistor next to it should probably prevent the battery from being discharged too quickly (in case of shortcuts or so). But then, going by the photo, the resistor/diode seem to be just shortcut with each other, making them totally nonfunctional. And worst, the battery should probably catch fire if the cartridge were ever connected to a console for real. Ice Man, what is that? Are you making strange jokes when posting that photos? Or forgot to mention some minor explosion? Is that the real reason why you've desoldered the battery?<br /><br />The diode in the middle: That powers the SRAM from NES VCC, and also prevents the battery to be discharged from other components when NES VCC is off. That's the only part yet that appears to make sense.<br /><br />The left-most resistor is just a pull-up for the signal going from GAL.Pin19 to SRAM /CE, there should be no pull-up needed there since the GAL can output a HIGH level on it's own, but maybe the pull-up is having some kind of use in preventing data loss during power-up or power-down.<br /><br />The second-from-left resistor. That's a pull-up for U7 Pin 10. Which is... well... something:<br />1) As far as I can see U7.Pin10 isn't connected anywhere else (and a pull-up on an unused pin doesn't make sense).<br />2) If U7 is the upper-left chip in Ice Man's pinout chart, then U7.Pin10 is SRAM /CE (which seems just crazy).<br />3) If the cartridge would make sense, then U7.Pin10 should probably be PRG ROM A17 (which isn't found to be connected anywhere yet).<br />Either way, a pull-up on any of those pins... doesn't make sense?<br /><br />Ice Man, the 74670's should be numbered U5, U6, U7, U8. Can you add that in your pin-out chart? And verify U7.Pin10?</div>

					
							<br /><br />
							<span class="gensmall">Last edited by <a href="./memberlist.php?mode=viewprofile&amp;u=5211">nocash</a> on Sat Mar 26, 2016 10:09 am, edited 1 time in total.</span>
						<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=5211"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p166888"></a>
				<b class="postauthor">Ice Man</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p166888">Re: Fong Shen Bang - Zhu Lu Zhi Zhan (Mapper 246)</a></div><div style="float: right;"><a href="./viewtopic.php?p=166888#p166888"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sat Mar 26, 2016 10:03 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Jul 04, 2014 2:34 pm<br /><b>Posts:</b> 335<br /><b>Location:</b> Germany
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Changed IC labels to U4-U8<br /><br />U7 Pin 10 is indeed connected to the 2nd 4.7k Ohm resistor like shown in your diagram, which is then connected to the 1st 4.7k Ohm to SRAM /CE and GAL Pin 19.<br /><br />How am I supposed to make jokes of this? I wish this cart would work and I try to help where ever I can. The last diode and resistor are not shortcut with each other though. Neither was there an explosion or batter catching fire happening.<br /><br />The real reason the battery was desoldered is simple: The battery holder was broken and since then no battery was added cause I can't find the proper replacement.<br /><br />EDIT: nocash, I could also send you the cartridge over since you're located in Germany, too. Would make things easier maybe? Let me know if you want to have a closer look at it.<br /><br />EDIT2: At a closer look, I measured PRG A17 and it is connected to U7 Pin 10 as well. Corrected in my ASCII art, too.</div>

					
						<br clear="all" /><br />

						<table class="tablebg" width="100%" cellspacing="1">
						<tr>
							<td class="row3"><b class="genmed">Attachments: </b></td>
						</tr>
						
							<tr>
								<td class="row2">
			<img src="./download/file.php?id=5322" alt="Mapper246.jpg" /><br />
			<span class="gensmall">Mapper246.jpg [ 23.63 KiB | Viewed 1804 times ]</span>
		

		<br />
	</td>
							</tr>
						
						</table>
					

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=6594"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p166889"></a>
				<b class="postauthor">nocash</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p166889">Re: Fong Shen Bang - Zhu Lu Zhi Zhan (Mapper 246)</a></div><div style="float: right;"><a href="./viewtopic.php?p=166889#p166889"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sat Mar 26, 2016 10:40 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Feb 24, 2012 12:09 pm<br /><b>Posts:</b> 602
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Well, yes, this just looks like the typical sinster plan, where you've invested loads of time in producing pixel-edited fake-photos, and then asked people if they could make any sense of it. Even if you are <em>now</em> saying that there is no connection between the two lower-right pins in the schematic. I could still swear that you've originally posted a picture showing a connection in that place (lower-left of PCB back side = lower-right in schematic):<br /><div class="attachtitle">Attachment:</div><div class="attachcontent">
			<img src="./download/file.php?id=5323" alt="Snippet.jpg" /><br />
			<span class="gensmall">Snippet.jpg [ 5.52 KiB | Viewed 1797 times ]</span>
		

		<br />
	</div><br /><br />The two left-most resistors (left side in schematic) are pull-ups, both wired to VCC, but they are not interacting with each other (since VCC should be constant +5V) (leaving apart cases like power-off).<br /><br />And the missing PRG A17 connection: Don't say that you didn't intentionally omit that signal - and then enjoyed your time waiting for somebody to figure out that there's no way on earth that you could have dumped a 512Kbyte PRG ROM from a cartridge without A17 signal!<br /><br />EDIT: Having a look at the cartridge myself: Yes/no. I would love to - but I don't have a Famicom (or clone), only a NES console, so I couldn't do too much with it.<br />EDIT: Or I could maybe case-mod my NES and add a Famicom socket to it.</div>

					
							<br /><br />
							<span class="gensmall">Last edited by <a href="./memberlist.php?mode=viewprofile&amp;u=5211">nocash</a> on Sat Mar 26, 2016 10:56 am, edited 1 time in total.</span>
						<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=5211"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p166890"></a>
				<b class="postauthor">Ice Man</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p166890">Re: Fong Shen Bang - Zhu Lu Zhi Zhan (Mapper 246)</a></div><div style="float: right;"><a href="./viewtopic.php?p=166890#p166890"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sat Mar 26, 2016 10:54 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Jul 04, 2014 2:34 pm<br /><b>Posts:</b> 335<br /><b>Location:</b> Germany
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Why on earth would I pixel edit a picture? You think I'm joking about this? I have better things to do than annoy people or faking pictures about real carts...<br /><br />Either way, I'm no electrician or know any programming and my knowledge is near zero in this area to be honest, otherwise I'd trace and fix myself. <br /><br />What you see as  &quot;connection&quot; between those was caused by desoldering the resistors and yes, that spot is on the actual board, too. But it's not a connection between them, never was!<br /><br />I know it's not possible without a missing A17 signal to dump the PRG properly but I honestly forgot/did not bother to measure if A17 was connected to the 74'670 since I only traced it to the resistor.<br /><br /><br />Oh, okay. I don't have any convertes I could send with that cart so you can test it in the NES. <img src="./images/smilies/icon_sad.gif" alt=":(" title="Sad" /><br />EDIT: In case you do case-mod your NES and still want the cart, just send me a PM for further details.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=6594"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row2">

			<td align="center" valign="middle">
				<a name="p166893"></a>
				<b class="postauthor">nocash</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p166893">Re: Fong Shen Bang - Zhu Lu Zhi Zhan (Mapper 246)</a></div><div style="float: right;"><a href="./viewtopic.php?p=166893#p166893"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sat Mar 26, 2016 11:25 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Feb 24, 2012 12:09 pm<br /><b>Posts:</b> 602
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody"><div class="quotetitle">Ice Man wrote:</div><div class="quotecontent">Why on earth would I pixel edit a picture? You think I'm joking about this?</div><br />Don't take me too serious! But yes, either you are totally innocent - or you are a disguised expert electrician making obscure jokes.<br /><br />Either way, your cartridge is totally scary, so please don't be concerned about theories like prince tomato being an alien, whom  hypnotized you without your knowledge. Everything else just doesn't make sense.<br /><br />EDIT: Ehm, how did you make my schematic look like as if I had never drawn a connection between lower-right pins? And then asking why on earth you would pixel edit a picture in the next post!!! Like as if you had never done such a thing in your whole life! And then soldering and desoldering your chips all day long as if you never had any experiences in electronics.</div>

					
							<br /><br />
							<span class="gensmall">Last edited by <a href="./memberlist.php?mode=viewprofile&amp;u=5211">nocash</a> on Sat Mar 26, 2016 11:47 am, edited 1 time in total.</span>
						<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row2">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=5211"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table class="tablebg" width="100%" cellspacing="1">
	<tr class="row1">

			<td align="center" valign="middle">
				<a name="p166894"></a>
				<b class="postauthor">Ice Man</b>
			</td>
			<td width="100%" height="25">
				<table width="100%" cellspacing="0">
				<tr>
				
					<td class="gensmall" width="100%"><div style="float: left;">&nbsp;<b>Post subject:</b> <a href="#p166894">Re: Fong Shen Bang - Zhu Lu Zhi Zhan (Mapper 246)</a></div><div style="float: right;"><a href="./viewtopic.php?p=166894#p166894"><img src="./styles/subsilver2/imageset/icon_post_target.gif" width="12" height="9" alt="Post" title="Post" /></a><b>Posted:</b> Sat Mar 26, 2016 11:45 am&nbsp;</div></td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td valign="top" class="profile">
				<table cellspacing="4" align="center" width="150">
			
				<tr>
					<td><img src="./styles/subsilver2/imageset/en/icon_user_offline.gif" alt="Offline" title="Offline" /></td>
				</tr>
			
				</table>

				<span class="postdetails">
					<br /><b>Joined:</b> Fri Jul 04, 2014 2:34 pm<br /><b>Posts:</b> 335<br /><b>Location:</b> Germany
				</span>

			</td>
			<td valign="top">
				<table width="100%" cellspacing="5">
				<tr>
					<td>
					

						<div class="postbody">Yea, I don't have any other theories for that either anymore now.  <img src="./images/smilies/icon_razz.gif" alt=":P" title="Razz" /> <br />It is indeed a scary cartridge.<br /><br />But if there's something I can do to help more (and what's possible for me) I'm up for it.</div>

					<br clear="all" /><br />

						<table width="100%" cellspacing="0">
						<tr valign="middle">
							<td class="gensmall" align="right">
							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>

		<tr class="row1">

			<td class="profile"><strong><a href="#wrapheader">Top</a></strong></td>
			<td><div class="gensmall" style="float: left;">&nbsp;<a href="./memberlist.php?mode=viewprofile&amp;u=6594"><img src="./styles/subsilver2/imageset/en/icon_user_profile.gif" alt="Profile" title="Profile" /></a> &nbsp;</div> <div class="gensmall" style="float: right;">&nbsp;</div></td>
	
		</tr>

	<tr>
		<td class="spacer" colspan="2" height="1"><img src="images/spacer.gif" alt="" width="1" height="1" /></td>
	</tr>
	</table>

	<table width="100%" cellspacing="1" class="tablebg">
	<tr align="center">
		<td class="cat"><form name="viewtopic" method="post" action="./viewtopic.php?f=9&amp;t=13969&amp;start=45"><span class="gensmall">Display posts from previous:</span> <select name="st" id="st"><option value="0" selected="selected">All posts</option><option value="1">1 day</option><option value="7">7 days</option><option value="14">2 weeks</option><option value="30">1 month</option><option value="90">3 months</option><option value="180">6 months</option><option value="365">1 year</option></select>&nbsp;<span class="gensmall">Sort by</span> <select name="sk" id="sk"><option value="a">Author</option><option value="t" selected="selected">Post time</option><option value="s">Subject</option></select> <select name="sd" id="sd"><option value="a" selected="selected">Ascending</option><option value="d">Descending</option></select>&nbsp;<input class="btnlite" type="submit" value="Go" name="sort" /></form></td>
	</tr>
	</table>
	

	<table width="100%" cellspacing="1">
	<tr>
		<td align="left" valign="middle" nowrap="nowrap">
		<a href="./posting.php?mode=post&amp;f=9"><img src="./styles/subsilver2/imageset/en/button_topic_new.gif" alt="Post new topic" title="Post new topic" /></a>&nbsp;<a href="./posting.php?mode=reply&amp;f=9&amp;t=13969"><img src="./styles/subsilver2/imageset/en/button_topic_reply.gif" alt="Reply to topic" title="Reply to topic" /></a>
		</td>
		
			<td class="nav" valign="middle" nowrap="nowrap">&nbsp;Page <strong>4</strong> of <strong>6</strong><br /></td>
			<td class="gensmall" nowrap="nowrap">&nbsp;[ 85 posts ]&nbsp;</td>
			<td class="gensmall" width="100%" align="right" nowrap="nowrap"><b><a href="#" onclick="jumpto(); return false;" title="Click to jump to page…">Go to page</a> <a href="./viewtopic.php?f=9&amp;t=13969&amp;start=30">Previous</a>&nbsp;&nbsp;<a href="./viewtopic.php?f=9&amp;t=13969">1</a><span class="page-sep">, </span><a href="./viewtopic.php?f=9&amp;t=13969&amp;start=15">2</a><span class="page-sep">, </span><a href="./viewtopic.php?f=9&amp;t=13969&amp;start=30">3</a><span class="page-sep">, </span><strong>4</strong><span class="page-sep">, </span><a href="./viewtopic.php?f=9&amp;t=13969&amp;start=60">5</a><span class="page-sep">, </span><a href="./viewtopic.php?f=9&amp;t=13969&amp;start=75">6</a> &nbsp;<a href="./viewtopic.php?f=9&amp;t=13969&amp;start=60">Next</a></b></td>
		
	</tr>
	</table>

</div>

<div id="pagefooter"></div>

<br clear="all" />
<table class="tablebg" width="100%" cellspacing="1" cellpadding="0" style="margin-top: 5px;">
	<tr>
		<td class="row1">
			<p class="breadcrumbs"><a href="./index.php">Board index</a> &#187; <a href="./viewforum.php?f=24">NES / Famicom</a> &#187; <a href="./viewforum.php?f=9">NES Hardware and Flash Equipment</a></p>
			<p class="datetime">All times are UTC - 7 hours </p>
		</td>
	</tr>
	</table>
	<br clear="all" />

	<table class="tablebg" width="100%" cellspacing="1">
	<tr>
		<td class="cat"><h4>Who is online</h4></td>
	</tr>
	<tr>
		<td class="row1"><p class="gensmall">Users browsing this forum: No registered users and 3 guests</p></td>
	</tr>
	</table>


<br clear="all" />

<table width="100%" cellspacing="1">
<tr>
	<td width="40%" valign="top" nowrap="nowrap" align="left"></td>
	<td align="right" valign="top" nowrap="nowrap"><span class="gensmall">You <strong>cannot</strong> post new topics in this forum<br />You <strong>cannot</strong> reply to topics in this forum<br />You <strong>cannot</strong> edit your posts in this forum<br />You <strong>cannot</strong> delete your posts in this forum<br />You <strong>cannot</strong> post attachments in this forum<br /></span></td>
</tr>
</table>

<br clear="all" />

<table width="100%" cellspacing="0">
<tr>
	<td><form method="get" name="search" action="./search.php"><span class="gensmall">Search for:</span> <input class="post" type="text" name="keywords" size="20" /> <input class="btnlite" type="submit" value="Go" /><input type="hidden" name="t" value="13969" />
<input type="hidden" name="sf" value="msgonly" />
</form></td>
	<td align="right">
	<form method="post" name="jumpbox" action="./viewforum.php" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	<table cellspacing="0" cellpadding="0" border="0">
	<tr>
		<td nowrap="nowrap"><span class="gensmall">Jump to:</span>&nbsp;<select name="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">

		
			<option value="-1">Select a forum</option>
		<option value="-1">------------------</option>
			<option value="24">NES / Famicom</option>
		
			<option value="2">&nbsp; &nbsp;NESdev</option>
		
			<option value="3">&nbsp; &nbsp;NESemdev</option>
		
			<option value="21">&nbsp; &nbsp;NES Graphics</option>
		
			<option value="6">&nbsp; &nbsp;NES Music</option>
		
			<option value="22">&nbsp; &nbsp;Homebrew Projects</option>
		
			<option value="34">&nbsp; &nbsp;&nbsp; &nbsp;2018 NESdev Competition</option>
		
			<option value="33">&nbsp; &nbsp;&nbsp; &nbsp;2017 NESdev Competition</option>
		
			<option value="32">&nbsp; &nbsp;&nbsp; &nbsp;2016 NESdev Competition</option>
		
			<option value="31">&nbsp; &nbsp;&nbsp; &nbsp;2014 NESdev Competition</option>
		
			<option value="30">&nbsp; &nbsp;&nbsp; &nbsp;2011 NESdev Competition</option>
		
			<option value="10">&nbsp; &nbsp;Newbie Help Center</option>
		
			<option value="9" selected="selected">&nbsp; &nbsp;NES Hardware and Flash Equipment</option>
		
			<option value="28">&nbsp; &nbsp;&nbsp; &nbsp;Reproduction</option>
		
			<option value="19">&nbsp; &nbsp;NESdev International</option>
		
			<option value="11">&nbsp; &nbsp;&nbsp; &nbsp;FCdev</option>
		
			<option value="18">&nbsp; &nbsp;&nbsp; &nbsp;NESdev China</option>
		
			<option value="27">&nbsp; &nbsp;&nbsp; &nbsp;NESdev Middle East</option>
		
			<option value="25">Other</option>
		
			<option value="5">&nbsp; &nbsp;General Stuff</option>
		
			<option value="4">&nbsp; &nbsp;Membler Industries</option>
		
			<option value="23">&nbsp; &nbsp;Other Retro Dev</option>
		
			<option value="12">&nbsp; &nbsp;&nbsp; &nbsp;SNESdev</option>
		
			<option value="20">&nbsp; &nbsp;&nbsp; &nbsp;GBDev</option>
		
			<option value="15">&nbsp; &nbsp;Test Forum</option>
		
			<option value="26">Site Issues</option>
		
			<option value="13">&nbsp; &nbsp;phpBB Issues</option>
		
			<option value="14">&nbsp; &nbsp;Web Issues</option>
		
			<option value="16">&nbsp; &nbsp;nesdevWiki</option>
		

		</select>&nbsp;<input class="btnlite" type="submit" value="Go" /></td>
	</tr>
	</table>

	</form>
</td>
</tr>
</table>


</div>


<div id="wrapfooter">
	
	<span class="copyright">Powered by <a href="http://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Group
	</span>
</div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-61452025-2', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>