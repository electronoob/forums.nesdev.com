<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - New homebrewn SNES game released - N-Warp Daisakusen</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">New homebrewn SNES game released - N-Warp Daisakusen</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=12&amp;t=4401">http://forums.nesdev.com/viewtopic.php?f=12&amp;t=4401</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>3</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>d4s</b> [ Mon Sep 22, 2008 4:00 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>New homebrewn <span class="posthilit">SNES</span> game released - N-Warp Daisakusen</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I've released a tiny multiplayer beat em up for <span class="posthilit">SNES</span> earlier this week.
<br />Took around 4 weeks to program.
<br />You can check it out here: <!-- m --><a class="postlink" href="http://gra.dforce3000.de/">http://gra.dforce3000.de/</a><!-- m --> , (slightly outdated) videos can be found here <!-- m --><a class="postlink" href="http://www.youtube.com/watch?v=Yx2wFwIrces">http://www.youtube.com/watch?v=Yx2wFwIrces</a><!-- m -->  and here: <!-- m --><a class="postlink" href="http://www.youtube.com/watch?v=jp9jVMa6XR0">http://www.youtube.com/watch?v=jp9jVMa6XR0</a><!-- m -->

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Bregalad</b> [ Mon Sep 22, 2008 5:06 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />My god, this is for the <span class="posthilit">SNES</span> ?!? It looks like at least a playstation/NDS game.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Mon Sep 22, 2008 7:05 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />If the <span class="posthilit">SNES</span> can do this, it can do Smash Bros.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Roth</b> [ Mon Sep 22, 2008 7:54 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />My god man, that is awesome! That whole intro was really really cool. By the way, I read the stuff you said in the video description on YouTube; I don't think the voices are cheesy. They seem to fit in absolutely perfect : )
<br />
<br />Great job, that really is awesome!

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Celius</b> [ Mon Sep 22, 2008 12:15 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">tepples wrote:</div><div class="quotecontent">If the <span class="posthilit">SNES</span> can do this, it can do Smash Bros.</div>
<br />
<br />I've always wanted an <span class="posthilit">SNES</span> Smash Bros.! But it'd have to be where every character has the same model as they did in their game.
<br />
<br />But anyways, yes, this is very impressive for the <span class="posthilit">SNES</span>!

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>d4s</b> [ Mon Sep 22, 2008 2:24 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Thanks for your kind comments, always appreciated. =)
<br />
<br />I'm not exactly pushing the system to its limits with this game, but I tried to depart a bit from the usual <span class="posthilit">SNES</span> look.
<br />In general, my engine is geared towards maximum data throughput to vram and audio ram.
<br />I don't care one bit about ROM-size, because it's virtually unlimited nowadays.
<br />
<br />I guess most people dislike hearing recordings of their own voice, I'm no different in that regard. <img src="./images/smilies/icon_wink.gif" alt=";)" title="Wink" />
<br />
<br />As for Smash Bros on <span class="posthilit">SNES</span>:
<br />I think the <a href="http://www.snesdev.net/" class="postlink">&gt;Entertainment</a> guys are working on a similar project.
<br />
<br />I'd also love to work on a group project, but it would have to be something original with original characters.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>byuu</b> [ Tue Sep 23, 2008 10:59 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">In general, my engine is geared towards maximum data throughput to vram and audio ram. <br />I don't care one bit about ROM-size, because it's virtually unlimited nowadays.</div>
<br />
<br />If you run into any issues with that, please don't hesitate to get in touch.
<br />I'd be happy to work with you to add some special features like expanded S-DD1 / SPC7110 mapping capabilities to support &gt;48mbit games.
<br />
<br />In particular, I'd really like to see an animated video running on the <span class="posthilit">SNES</span>. We definitely have the bandwidth to pull it off. The trick would be to use Mode3 + a tilemap to center the image, so all the tiledata is linear. Create a palette that is RGB332 (direct color mode sucks, low bits always clear, so whites look light gray.) Then use force blank and NBA swapping to toggle where the image data goes between the top half and bottom of half of RAM. That lets you span the transfer over two frames instead of one, which obviously halves the refresh rate. NTSC video runs at 30fps usually anyway.
<br />
<br />There's even left-over RAM for subtitles, and the active display region can be used to spool voiced audio to the S-SMP.
<br />
<br />I imagine it'll look roughly as good as the pre-MPEG Saturn movies. But on a much older, much slower system; where it's said to be "impossible."
<br />
<br />Example:
<br />@ 192x144
<br />192*144=27648 bytes/frame
<br />262-144=118 scanlines/vblank+forceblank period
<br />118*(1364-40)=156232 cycles/frame
<br />156232/8=19529 bytes/frame throughput
<br />60-&gt;30fps conversion -&gt; 19529*2 = 39058 bytes/frame
<br />
<br />@ 208x156
<br />208*156=32448
<br />262-156=106
<br />106*1324=140344
<br />140344/8=17543
<br />17543*2=35086
<br />
<br />So let's say in the former case, we need 27648*30=829kbytes/second of ROM storage. If we throw in S-DD1 or SPC7110 real-time decompression, we can drop that by ~30% or so to ~600kb or less/second. Yeah, I know it's really painful. But with a custom bank swapping mapper, I don't see a reason we can't make a 64MB proof-of-concept video.
<br />
<br />I've wanted to do this for a while, but I don't have the audio expertise. I was hoping someone would find the <span class="posthilit">SNES</span> CD player add-on for that one "Let's Learn English"-like game. Then I could emulate redbook through it. But I've never so much as seen a picture of one, not entirely sure it even exists, though it's technically pretty trivial. Connect to expansion bus, and stream the audio through the S-DSP mixer pins ...

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Tue Sep 23, 2008 2:01 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />800 kB per second? That's near DVD-Video's maximum bitrate.
<br />
<br />I'd wager that 112x96 at 12 fps, scaled up by 2 using mode 7, might be more reasonable. Wolfenstein got away with such a low res, and so did FaceBall (except FaceBall wasn't scaled up). Now we're down to 128 KB per second.
<br />
<br />Is the CPU too slow for even basic motion compensation (straight copy of 8x8px blocks, no sum/diff, only whole pixel displacements)? The Sega Genesis's MC68000 CPU had the advantage here; it could run a slimmed-down version of <a href="http://en.wikipedia.org/wiki/Cinepak" class="postlink">Cinepak</a>. But if you're serious about video, it might be a better choice to decode the video using some sort of ASIC on the cart.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>d4s</b> [ Tue Sep 23, 2008 4:32 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I'm sure it's doable.
<br />The small videoplayer that's used in a part of the intro of nwarp daisakusen was merely an afterthought slapped together in a couple of minutes without any optimization.
<br />It's capable of 60fps playback (no buffering of frames) and each frame is around 7kb in size(tiles+tilemap).
<br />That's around 400kb per second already.
<br />I just play the video back at 30fps because i feel that's fluid enough (and manually cleaning and optimizing each frames picture to fit into the 7kb limit was painful enough. )
<br />Sound is streamed via HDMA at 8000hz and uses around 10 scanlines of cpu time every other frame, absolutely neglectable.
<br />
<br />If someone would code a proper and optimized video player, 30fps with 256 color frames would surely be possible as long as you leave enough forced blank at the bottom and top for vram transfers, as byuu said.
<br />
<br />To be honest, just coding a player as a proof of concept is not something I'd like to do, but including it in a nice game would be nice. I hope I can try that some day.
<br />
<br />Thanks for the offer regarding bankswitching emulation. I think I'd probably try to whip up my own tiny mapper in hardware first, but that would make debugging hard. At the moment, I wouldn't even know how to fill more than 64Mbits. I tried to went all out with N-warp Daisakusen, but didn't even exceed 16 megs.
<br />
<br />I have never heard of that CD-player add-on. Do you have any details? Sounds interesting.
<br />
<br />Also, I'd be happy to run tests on my satellaview to help improve emulation. I've posted it before, but it seems to have gone unnoticed so far.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>byuu</b> [ Tue Sep 23, 2008 5:07 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">But if you're serious about video, it might be a better choice to decode the video using some sort of ASIC on the cart.</div><br /><br />A real cart would pretty much have to exist first. It'd be so lame to add something to an emulator that doesn't exist in real life. I'm not sure why it stops bothering me with only a few protos, but yeah.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">It's capable of 60fps playback (no buffering of frames) and each frame is around 7kb in size(tiles+tilemap). <br />That's around 400kb per second already.</div><br /><br />Yeah, problem is it's not "true" video, you have to do it all with sprites and such. Much more difficult, and less flexible. But it's really the only sane way to do it on the <span class="posthilit">SNES</span> ...<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I have never heard of that CD-player add-on. Do you have any details? Sounds interesting.</div><br /><br />Unfortunately not. Nach is the one who told me about it, but he doesn't have any real info, either. For all I know, it doesn't even exist :/<br /><br />It would be fairly easy to make, though. Just need to interface with the expansion bus somehow.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Also, I'd be happy to run tests on my satellaview to help improve emulation. I've posted it before, but it seems to have gone unnoticed so far.</div>
<br />
<br />Ah, I appreciate the offer, but remote testing is just way too difficult. I usually run hundreds of tests in rapid succession to figure things out.
<br />
<br />FitzRoy recently bought a BS-X unit that he offered to let me borrow, and another person offered me one via PM, but I haven't heard back from him just yet. Probably would help if I responded to PMs and e-mails faster, myself.
<br />
<br />But yeah, hopefully I should be covered. I definitely wouldn't mind some RE help, though :D
<br />Have your notes cached for when I start on it. Didn't mean to ignore them, sorry.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Jagasian</b> [ Tue Sep 23, 2008 5:47 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />This is very impressive.  Given enough ROM space, I bet d4s could port Final Fantasy 7 to the <span class="posthilit">SNES</span> <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>dXtr</b> [ Wed Sep 24, 2008 3:51 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">d4s wrote:</div><div class="quotecontent">I have never heard of that CD-player add-on. Do you have any details? Sounds interesting.</div>
<br />
<br />Probably referring to the infamous official <span class="posthilit">SNES</span> CD-ROM. Which I'm sure you've heard about at least one time on AG?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tomaitheous</b> [ Wed Sep 24, 2008 7:19 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">The Sega Genesis's MC68000 CPU had the advantage here; it could run a slimmed-down version of Cinepak.</div>
<br />
<br /> I'm pretty sure the 12.5mhz second 68000 in the SegaCD was taking care of the cinepak decoding. The SegaCD doesn't require the second CPU to poll the MCU of the CD unit, so it's free to do other tasks. Not to mention the SegaCD's ASIC chip could convert bitmap images to tiles extremely fast.
<br />
<br /> 
<br /> Can't you increase the DMA total bandwidth in vblank by turning off the display early? If so, clipping to 192 <span class="posthilit">vertical</span> res would almost double the transfer rate.
<br />
<br /> 
<br /> I still want to interface my Super CDROM2 CD addon unit for PCE, to the <span class="posthilit">SNES</span> at some point. I don't know much about the BUS for the external port on the bottom but if it's really only 256bytes, then that's more than enough to map the CD registers. Converting the PCE's system card routines should be doable. Is there an interrupt <span class="posthilit">line</span> available on the external BUS (B-BUS?)?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>caitsith2</b> [ Wed Sep 24, 2008 1:32 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The bottom port on the <span class="posthilit">snes</span>, maps into the same address bus B region, 0x2100-0x21FF,  however, you can not use 0x2100-0x213F, as that is used by the PPU, and you can not use 0x2140-0x217F, as this is used by the APU.  (IIRC)
<br />
<br />I might be incorrect on which range the PPU is using, but you do have to respect these ranges, and not attempt to use them yourself for any other purpose.  If 128 bytes is not enough, then you will have to make an interface chip, and come up with some register addressing scheme through that chip.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>tepples</b> [ Wed Sep 24, 2008 1:51 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Even 16 bytes of address space would be enough for, say, an ATA interface to a CF card or a CD-ROM drive.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>3</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>