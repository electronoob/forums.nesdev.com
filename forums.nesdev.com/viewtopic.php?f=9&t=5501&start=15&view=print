<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<title>nesdev.com :: View topic - Newbie advice on making a simple dev cart.</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">nesdev.com</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/">http://forums.nesdev.com/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Newbie advice on making a simple dev cart.</span><br /><span class="gensmall"><a href="http://forums.nesdev.com/viewtopic.php?f=9&amp;t=5501">http://forums.nesdev.com/viewtopic.php?f=9&amp;t=5501</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>2</strong> of <strong>3</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>R-T-B</b> [ Mon Aug 17, 2009 7:11 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Jeroen wrote:</div><div class="quotecontent">One note....are you using eproms? Cause you cant program those using copynes (iirc) since they need a special voltage to be programmed.</div>
<br />
<br />Could someone confirm/deny this?  I may either have to cancel an order, or order an EPROM programmer (I think that latter).  Any advice either way?  What should I be using if not EPROMs?  Would non-volatile SRAM work?  Flash?  and also, what's a good programmer?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Tormenter</b> [ Tue Aug 18, 2009 8:10 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">R-T-B wrote:</div><div class="quotecontent"><div class="quotetitle">Jeroen wrote:</div><div class="quotecontent">One note....are you using eproms? Cause you cant program those using copynes (iirc) since they need a special voltage to be programmed.</div><br /><br />Could someone confirm/deny this?  I may either have to cancel an order, or order an EPROM programmer (I think that latter).  Any advice either way?  What should I be using if not EPROMs?  Would non-volatile SRAM work?  Flash?  and also, what's a good programmer?</div>
<br />
<br />Correct, you cant use a copynes to program them, I would just cancel

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>R-T-B</b> [ Tue Aug 18, 2009 1:27 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />As I thought, it's too late to cancel the EPROM order, so I ordered a simple programmer.  Should work fine.  I already have the UV Light eraser so it isn't SO bad.  I need a programmer anyways.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>R-T-B</b> [ Fri Aug 21, 2009 12:10 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Ok, I installed a ZIF Socket for each rom chip and cut a hole in the cart.  When I program my EPROMs however (and they are verifying and all that, I'm using Willem PCB5.0), all I get is a grey screen.  Any idea why?  I'm socketing the roms directly with no pin modifications, and using the 16kb and 8kb roms I listed above in the links.  What's the deal?  I thought I could wire these directly.
<br />
<br />Feel free to call me a dumbass, I'm hardly good at this, lol.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Jeroen</b> [ Fri Aug 21, 2009 12:15 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Are you inserting the roms properly? Did you set the jumpers correctly? It could be that your nbasic programs are just not compatible with a real nes.....(nbasic really isnt that good of a programmer platform)

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>R-T-B</b> [ Fri Aug 21, 2009 12:18 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I find that hard to believe...  See, all it does is scroll a line of text.  Seems like it should do something...
<br />
<br />And yeah, I'm looking into learning ASM for the 6502.  Shouldn't be that hard.  This is just a test.
<br />
<br />The roms are inserted correctly.  with pin one oriented properly like the original chips.  These are EPROMs, I imagine they should be pin for pin compatable, no?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Jeroen</b> [ Fri Aug 21, 2009 12:21 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />They should be.....that's weird...check for cold joints.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>R-T-B</b> [ Fri Aug 21, 2009 12:30 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Got out my multimeter and working on that.  Reburning the roms too for good measure with a full 10 minute erasure and blank test.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Jeroen</b> [ Fri Aug 21, 2009 12:35 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Uv eraser right? (I thought you said they were uv eproms) Also....can you post the program here? We could check to.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>R-T-B</b> [ Fri Aug 21, 2009 12:38 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Yep, UV light eraser.  I'll post the program if this doesn't work, know in 15 minutes.  It's really simple.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>R-T-B</b> [ Fri Aug 21, 2009 1:19 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />It works now.  I had the mirroring set wrong for the board.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>R-T-B</b> [ Sat Aug 22, 2009 7:43 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I'm going to post the program now.  I thought I had it working, but behavior in an emulator and on my devcart are drasticly different.  It works fine in an emulator, but just draws a whole bunch of jibberish on a real NES.  Try it and you'll see what I mean.  It might just be that I used nbasic, but the program seems so simple I don't see how it couldn't work (It literally scrolls a line of text based on an example from Bob Rost's site).  The archive attatched contains ines binaries, .asm source, and nbasic source versions.  Could someone please point out the obvious to me, as I'm sure it probably is very simple and I am just missing it.
<br />
<br />Thanks again all. <img src="./images/smilies/icon_smile.gif" alt=":)" title="Smile" />
<br />
<br /><!-- m --><a class="postlink" href="http://21gunsoftware.com:8080/PRG.zip">http://21gunsoftware.com:8080/PRG.zip</a><!-- m -->

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Sat Aug 22, 2009 8:30 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I tried your program in Nintendulator, Nestopia and FCEUX.. seemed pretty glitchy in all of them. Try to make it work in those emus correctly before trying it on devcart.
<br />
<br />Couple of things that are obviously wrong:
<br />- You have to wait for couple of frames at the start of the program to let the PPU "warm up" (there should be an example in the NesDev wiki). Also it is good practice to do a bunch of other init stuff, like disabling interrupts etc if you dont need them.
<br />- Your vwait routine seems broken/strange, what is all that counter stuff inside the loop?
<br />- You shouldn't even be using polling for checking for vblank, as you will miss vblanks every now and then with this method. Instead detect vblank using the NMI IRQ.
<br />- All your vectors point to "start", don't do that... instead have those vectors point to an RTS instruction.. again good practice.
<br />
<br />There are other oddities/problems too but I'm too tired to list them all...

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>R-T-B</b> [ Sat Aug 22, 2009 8:35 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Oh man, I forgot entirely about those counters...  Haha, thought I had pulled them out.  They were meant to slow the scroll speed.  Don't worry, I'll start with ripping those out.  I'll also get those emulators and see if I can't get more consistent results.
<br />
<br />Actually, I was unaware of the wiki here and mostly working by reverse engineering Bob Rosts works.  Thanks for the great pointer to that resource.
<br />
<br />Thanks a bunch.  Just wanted reassurance it wasn't a hardware problem, and it doesn't look to be one.  After some reading, I immediately see several things wrong.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>thefox</b> [ Sat Aug 22, 2009 8:39 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />If you want to verify it's not a hardware problem your best bet it is to try it with a program you know does work, any commercial game ROM will do (as long as it uses the same mapper of course).

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>2</strong> of <strong>3</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 7 hours </span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</span></td>
</tr>
</table>

</body>
</html>